{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/security/public/lib/kibana_privilege_calculator/kibana_base_privilege_calculator.js","dependencies":[{"path":"x-pack/legacy/plugins/security/public/lib/kibana_privilege_calculator/kibana_base_privilege_calculator.js","mtime":1585205047116},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLktpYmFuYUJhc2VQcml2aWxlZ2VDYWxjdWxhdG9yID0gdm9pZCAwOwoKdmFyIF9wcml2aWxlZ2VfY2FsY3VsYXRvcl91dGlscyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uL3BsdWdpbnMvc2VjdXJpdHkvY29tbW9uL3ByaXZpbGVnZV9jYWxjdWxhdG9yX3V0aWxzIik7Cgp2YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoIi4uLy4uL3ZpZXdzL21hbmFnZW1lbnQvZWRpdF9yb2xlL2xpYi9jb25zdGFudHMiKTsKCnZhciBfcHJpdmlsZWdlX3V0aWxzID0gcmVxdWlyZSgiLi4vcHJpdmlsZWdlX3V0aWxzIik7Cgp2YXIgX2tpYmFuYV9wcml2aWxlZ2VfY2FsY3VsYXRvcl90eXBlcyA9IHJlcXVpcmUoIi4va2liYW5hX3ByaXZpbGVnZV9jYWxjdWxhdG9yX3R5cGVzIik7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgewogIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsKICBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHsKICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgIGFycjJbaV0gPSBhcnJbaV07CiAgICB9CgogICAgcmV0dXJuIGFycjI7CiAgfQp9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7CiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogIH0KfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgewogIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07CiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7CiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7CiAgICBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsKICB9Cn0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsKICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsKICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7CiAgcmV0dXJuIENvbnN0cnVjdG9yOwp9Cgp2YXIgS2liYW5hQmFzZVByaXZpbGVnZUNhbGN1bGF0b3IgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBLaWJhbmFCYXNlUHJpdmlsZWdlQ2FsY3VsYXRvcihraWJhbmFQcml2aWxlZ2VzLCBnbG9iYWxQcml2aWxlZ2UsIGFzc2lnbmVkR2xvYmFsQmFzZUFjdGlvbnMpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBLaWJhbmFCYXNlUHJpdmlsZWdlQ2FsY3VsYXRvcik7CgogICAgdGhpcy5raWJhbmFQcml2aWxlZ2VzID0ga2liYW5hUHJpdmlsZWdlczsKICAgIHRoaXMuZ2xvYmFsUHJpdmlsZWdlID0gZ2xvYmFsUHJpdmlsZWdlOwogICAgdGhpcy5hc3NpZ25lZEdsb2JhbEJhc2VBY3Rpb25zID0gYXNzaWduZWRHbG9iYWxCYXNlQWN0aW9uczsKICB9CgogIF9jcmVhdGVDbGFzcyhLaWJhbmFCYXNlUHJpdmlsZWdlQ2FsY3VsYXRvciwgW3sKICAgIGtleTogImdldE1vc3RQZXJtaXNzaXZlQmFzZVByaXZpbGVnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TW9zdFBlcm1pc3NpdmVCYXNlUHJpdmlsZWdlKHByaXZpbGVnZVNwZWMsIGlnbm9yZUFzc2lnbmVkKSB7CiAgICAgIHZhciBhc3NpZ25lZFByaXZpbGVnZSA9IHByaXZpbGVnZVNwZWMuYmFzZVswXSB8fCBfY29uc3RhbnRzLk5PX1BSSVZJTEVHRV9WQUxVRTsgLy8gSWYgdGhpcyBpcyB0aGUgZ2xvYmFsIHByaXZpbGVnZSBkZWZpbml0aW9uLCB0aGVuIHRoZXJlIGlzIG5vdGhpbmcgdG8gc3VwZXJjZWRlIGl0LgoKICAgICAgaWYgKCgwLCBfcHJpdmlsZWdlX3V0aWxzLmlzR2xvYmFsUHJpdmlsZWdlRGVmaW5pdGlvbikocHJpdmlsZWdlU3BlYykpIHsKICAgICAgICBpZiAoYXNzaWduZWRQcml2aWxlZ2UgPT09IF9jb25zdGFudHMuTk9fUFJJVklMRUdFX1ZBTFVFIHx8IGlnbm9yZUFzc2lnbmVkKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBhY3R1YWxQcml2aWxlZ2U6IF9jb25zdGFudHMuTk9fUFJJVklMRUdFX1ZBTFVFLAogICAgICAgICAgICBhY3R1YWxQcml2aWxlZ2VTb3VyY2U6IF9raWJhbmFfcHJpdmlsZWdlX2NhbGN1bGF0b3JfdHlwZXMuUFJJVklMRUdFX1NPVVJDRS5HTE9CQUxfQkFTRSwKICAgICAgICAgICAgaXNEaXJlY3RseUFzc2lnbmVkOiB0cnVlCiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGFjdHVhbFByaXZpbGVnZTogYXNzaWduZWRQcml2aWxlZ2UsCiAgICAgICAgICBhY3R1YWxQcml2aWxlZ2VTb3VyY2U6IF9raWJhbmFfcHJpdmlsZWdlX2NhbGN1bGF0b3JfdHlwZXMuUFJJVklMRUdFX1NPVVJDRS5HTE9CQUxfQkFTRSwKICAgICAgICAgIGlzRGlyZWN0bHlBc3NpZ25lZDogdHJ1ZQogICAgICAgIH07CiAgICAgIH0gLy8gT3RoZXJ3aXNlLCBjaGVjayB0byBzZWUgaWYgdGhlIGdsb2JhbCBwcml2aWxlZ2Ugc3VwZXJjZWRlcyB0aGlzIG9uZS4KCgogICAgICB2YXIgYmFzZUFjdGlvbnMgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5raWJhbmFQcml2aWxlZ2VzLmdldFNwYWNlc1ByaXZpbGVnZXMoKS5nZXRBY3Rpb25zKGFzc2lnbmVkUHJpdmlsZWdlKSk7CgogICAgICB2YXIgZ2xvYmFsU3VwZXJjZWRlcyA9IHRoaXMuaGFzQXNzaWduZWRHbG9iYWxCYXNlUHJpdmlsZWdlKCkgJiYgKCgwLCBfcHJpdmlsZWdlX2NhbGN1bGF0b3JfdXRpbHMuY29tcGFyZUFjdGlvbnMpKHRoaXMuYXNzaWduZWRHbG9iYWxCYXNlQWN0aW9ucywgYmFzZUFjdGlvbnMpIDwgMCB8fCBpZ25vcmVBc3NpZ25lZCk7CgogICAgICBpZiAoZ2xvYmFsU3VwZXJjZWRlcykgewogICAgICAgIHZhciB3YXNEaXJlY3RseUFzc2lnbmVkID0gIWlnbm9yZUFzc2lnbmVkICYmIGJhc2VBY3Rpb25zLmxlbmd0aCA+IDA7CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoewogICAgICAgICAgYWN0dWFsUHJpdmlsZWdlOiB0aGlzLmdsb2JhbFByaXZpbGVnZS5iYXNlWzBdLAogICAgICAgICAgYWN0dWFsUHJpdmlsZWdlU291cmNlOiBfa2liYW5hX3ByaXZpbGVnZV9jYWxjdWxhdG9yX3R5cGVzLlBSSVZJTEVHRV9TT1VSQ0UuR0xPQkFMX0JBU0UsCiAgICAgICAgICBpc0RpcmVjdGx5QXNzaWduZWQ6IGZhbHNlCiAgICAgICAgfSwgdGhpcy5idWlsZFN1cGVyY2VkZWRGaWVsZHMod2FzRGlyZWN0bHlBc3NpZ25lZCwgYXNzaWduZWRQcml2aWxlZ2UsIF9raWJhbmFfcHJpdmlsZWdlX2NhbGN1bGF0b3JfdHlwZXMuUFJJVklMRUdFX1NPVVJDRS5TUEFDRV9CQVNFKSk7CiAgICAgIH0KCiAgICAgIGlmICghaWdub3JlQXNzaWduZWQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgYWN0dWFsUHJpdmlsZWdlOiBhc3NpZ25lZFByaXZpbGVnZSwKICAgICAgICAgIGFjdHVhbFByaXZpbGVnZVNvdXJjZTogX2tpYmFuYV9wcml2aWxlZ2VfY2FsY3VsYXRvcl90eXBlcy5QUklWSUxFR0VfU09VUkNFLlNQQUNFX0JBU0UsCiAgICAgICAgICBpc0RpcmVjdGx5QXNzaWduZWQ6IHRydWUKICAgICAgICB9OwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGFjdHVhbFByaXZpbGVnZTogX2NvbnN0YW50cy5OT19QUklWSUxFR0VfVkFMVUUsCiAgICAgICAgYWN0dWFsUHJpdmlsZWdlU291cmNlOiBfa2liYW5hX3ByaXZpbGVnZV9jYWxjdWxhdG9yX3R5cGVzLlBSSVZJTEVHRV9TT1VSQ0UuU1BBQ0VfQkFTRSwKICAgICAgICBpc0RpcmVjdGx5QXNzaWduZWQ6IHRydWUKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXNBc3NpZ25lZEdsb2JhbEJhc2VQcml2aWxlZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0Fzc2lnbmVkR2xvYmFsQmFzZVByaXZpbGVnZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuYXNzaWduZWRHbG9iYWxCYXNlQWN0aW9ucy5sZW5ndGggPiAwOwogICAgfQogIH0sIHsKICAgIGtleTogImJ1aWxkU3VwZXJjZWRlZEZpZWxkcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRTdXBlcmNlZGVkRmllbGRzKGlzU3VwZXJjZWRpbmcsIHN1cGVyc2VkZWRQcml2aWxlZ2UsIHN1cGVyc2VkZWRQcml2aWxlZ2VTb3VyY2UpIHsKICAgICAgaWYgKCFpc1N1cGVyY2VkaW5nKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIHN1cGVyc2VkZWRQcml2aWxlZ2U6IHN1cGVyc2VkZWRQcml2aWxlZ2UsCiAgICAgICAgc3VwZXJzZWRlZFByaXZpbGVnZVNvdXJjZTogc3VwZXJzZWRlZFByaXZpbGVnZVNvdXJjZQogICAgICB9OwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEtpYmFuYUJhc2VQcml2aWxlZ2VDYWxjdWxhdG9yOwp9KCk7CgpleHBvcnRzLktpYmFuYUJhc2VQcml2aWxlZ2VDYWxjdWxhdG9yID0gS2liYW5hQmFzZVByaXZpbGVnZUNhbGN1bGF0b3I7"},null]}