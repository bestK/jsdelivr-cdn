{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/ml/public/application/data_frame_analytics/pages/analytics_exploration/components/classification_exploration/evaluate_panel.js","dependencies":[{"path":"x-pack/legacy/plugins/ml/public/application/data_frame_analytics/pages/analytics_exploration/components/classification_exploration/evaluate_panel.js","mtime":1585205045541},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkV2YWx1YXRlUGFuZWwgPSB2b2lkIDA7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF9tZXRhZGF0YSA9IHJlcXVpcmUoInVpL21ldGFkYXRhIik7Cgp2YXIgX2Vycm9yX2NhbGxvdXQgPSByZXF1aXJlKCIuLi9lcnJvcl9jYWxsb3V0Iik7Cgp2YXIgX2NvbW1vbiA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2NvbW1vbiIpOwoKdmFyIF9maWVsZHMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9jb21tb24vZmllbGRzIik7Cgp2YXIgX2NvbHVtbnMgPSByZXF1aXJlKCIuLi8uLi8uLi9hbmFseXRpY3NfbWFuYWdlbWVudC9jb21wb25lbnRzL2FuYWx5dGljc19saXN0L2NvbHVtbnMiKTsKCnZhciBfYW5hbHl0aWNzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vY29tbW9uL2FuYWx5dGljcyIpOwoKdmFyIF9sb2FkaW5nX3BhbmVsID0gcmVxdWlyZSgiLi4vbG9hZGluZ19wYW5lbCIpOwoKdmFyIF9jb2x1bW5fZGF0YSA9IHJlcXVpcmUoIi4vY29sdW1uX2RhdGEiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgIHJldHVybiBvYmo7CiAgfSBlbHNlIHsKICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7CiAgICByZXR1cm4gbmV3T2JqOwogIH0KfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKdmFyIGRlZmF1bHRQYW5lbFdpZHRoID0gNTAwOwoKdmFyIEV2YWx1YXRlUGFuZWwgPSBmdW5jdGlvbiBFdmFsdWF0ZVBhbmVsKF9yZWYpIHsKICB2YXIgam9iQ29uZmlnID0gX3JlZi5qb2JDb25maWcsCiAgICAgIGpvYlN0YXR1cyA9IF9yZWYuam9iU3RhdHVzLAogICAgICBzZWFyY2hRdWVyeSA9IF9yZWYuc2VhcmNoUXVlcnk7CgogIHZhciBfdXNlU3RhdGUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShmYWxzZSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBpc0xvYWRpbmcgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRJc0xvYWRpbmcgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKFtdKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBjb25mdXNpb25NYXRyaXhEYXRhID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0Q29uZnVzaW9uTWF0cml4RGF0YSA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBfdXNlU3RhdGU1ID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoW10pLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIGNvbHVtbnMgPSBfdXNlU3RhdGU2WzBdLAogICAgICBzZXRDb2x1bW5zID0gX3VzZVN0YXRlNlsxXTsKCiAgdmFyIF91c2VTdGF0ZTcgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShbXSksCiAgICAgIF91c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU3LCAyKSwKICAgICAgY29sdW1uc0RhdGEgPSBfdXNlU3RhdGU4WzBdLAogICAgICBzZXRDb2x1bW5zRGF0YSA9IF91c2VTdGF0ZThbMV07CgogIHZhciBfdXNlU3RhdGU5ID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoW10pLAogICAgICBfdXNlU3RhdGUxMCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTksIDIpLAogICAgICBwb3BvdmVyQ29udGVudHMgPSBfdXNlU3RhdGUxMFswXSwKICAgICAgc2V0UG9wb3ZlckNvbnRlbnRzID0gX3VzZVN0YXRlMTBbMV07CgogIHZhciBfdXNlU3RhdGUxMSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKG51bGwpLAogICAgICBfdXNlU3RhdGUxMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTExLCAyKSwKICAgICAgZG9jc0NvdW50ID0gX3VzZVN0YXRlMTJbMF0sCiAgICAgIHNldERvY3NDb3VudCA9IF91c2VTdGF0ZTEyWzFdOwoKICB2YXIgX3VzZVN0YXRlMTMgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShudWxsKSwKICAgICAgX3VzZVN0YXRlMTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUxMywgMiksCiAgICAgIGVycm9yID0gX3VzZVN0YXRlMTRbMF0sCiAgICAgIHNldEVycm9yID0gX3VzZVN0YXRlMTRbMV07CgogIHZhciBfdXNlU3RhdGUxNSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGRlZmF1bHRQYW5lbFdpZHRoKSwKICAgICAgX3VzZVN0YXRlMTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUxNSwgMiksCiAgICAgIHBhbmVsV2lkdGggPSBfdXNlU3RhdGUxNlswXSwKICAgICAgc2V0UGFuZWxXaWR0aCA9IF91c2VTdGF0ZTE2WzFdOyAvLyBDb2x1bW4gdmlzaWJpbGl0eQoKCiAgdmFyIF91c2VTdGF0ZTE3ID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGNvbHVtbnMubWFwKGZ1bmN0aW9uIChfcmVmMikgewogICAgICB2YXIgaWQgPSBfcmVmMi5pZDsKICAgICAgcmV0dXJuIGlkOwogICAgfSk7CiAgfSksCiAgICAgIF91c2VTdGF0ZTE4ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMTcsIDIpLAogICAgICB2aXNpYmxlQ29sdW1ucyA9IF91c2VTdGF0ZTE4WzBdLAogICAgICBzZXRWaXNpYmxlQ29sdW1ucyA9IF91c2VTdGF0ZTE4WzFdOwoKICB2YXIgaW5kZXggPSBqb2JDb25maWcuZGVzdC5pbmRleDsKICB2YXIgZGVwZW5kZW50VmFyaWFibGUgPSAoMCwgX2NvbW1vbi5nZXREZXBlbmRlbnRWYXIpKGpvYkNvbmZpZy5hbmFseXNpcyk7CiAgdmFyIHByZWRpY3Rpb25GaWVsZE5hbWUgPSAoMCwgX2NvbW1vbi5nZXRQcmVkaWN0aW9uRmllbGROYW1lKShqb2JDb25maWcuYW5hbHlzaXMpOyAvLyBkZWZhdWx0IGlzICdtbCcKCiAgdmFyIHJlc3VsdHNGaWVsZCA9IGpvYkNvbmZpZy5kZXN0LnJlc3VsdHNfZmllbGQ7CiAgdmFyIHJlcXVpcmVzS2V5d29yZCA9IGZhbHNlOwoKICB2YXIgbG9hZERhdGEgPSBmdW5jdGlvbiBsb2FkRGF0YShfcmVmMykgewogICAgdmFyIGlzVHJhaW5pbmdDbGF1c2UsIF9yZWYzJGlnbm9yZURlZmF1bHRRdSwgaWdub3JlRGVmYXVsdFF1ZXJ5LCBldmFsRGF0YSwgZG9jc0NvdW50UmVzcCwgX2V2YWxEYXRhJGV2YWwsIF9ldmFsRGF0YSRldmFsJGNsYXNzaSwgX2V2YWxEYXRhJGV2YWwkY2xhc3NpMiwgY29uZnVzaW9uTWF0cml4OwoKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gbG9hZERhdGEkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpc1RyYWluaW5nQ2xhdXNlID0gX3JlZjMuaXNUcmFpbmluZ0NsYXVzZSwgX3JlZjMkaWdub3JlRGVmYXVsdFF1ID0gX3JlZjMuaWdub3JlRGVmYXVsdFF1ZXJ5LCBpZ25vcmVEZWZhdWx0UXVlcnkgPSBfcmVmMyRpZ25vcmVEZWZhdWx0UXUgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmMyRpZ25vcmVEZWZhdWx0UXU7CiAgICAgICAgICAgIHNldElzTG9hZGluZyh0cnVlKTsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgcmVxdWlyZXNLZXl3b3JkID0gKDAsIF9maWVsZHMuaXNLZXl3b3JkQW5kVGV4dFR5cGUpKGRlcGVuZGVudFZhcmlhYmxlKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIC8vIEFkZGl0aW9uYWwgZXJyb3IgaGFuZGxpbmcgZHVlIHRvIG1pc3NpbmcgZmllbGQgdHlwZSBpcyBoYW5kbGVkIGJ5IGxvYWRFdmFsRGF0YQogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byBsb2FkIG5ldyBmaWVsZCB0eXBlcycsIGVycm9yKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKCgwLCBfY29tbW9uLmxvYWRFdmFsRGF0YSkoewogICAgICAgICAgICAgIGlzVHJhaW5pbmc6IGZhbHNlLAogICAgICAgICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICAgICAgICBkZXBlbmRlbnRWYXJpYWJsZTogZGVwZW5kZW50VmFyaWFibGUsCiAgICAgICAgICAgICAgcmVzdWx0c0ZpZWxkOiByZXN1bHRzRmllbGQsCiAgICAgICAgICAgICAgcHJlZGljdGlvbkZpZWxkTmFtZTogcHJlZGljdGlvbkZpZWxkTmFtZSwKICAgICAgICAgICAgICBzZWFyY2hRdWVyeTogc2VhcmNoUXVlcnksCiAgICAgICAgICAgICAgaWdub3JlRGVmYXVsdFF1ZXJ5OiBpZ25vcmVEZWZhdWx0UXVlcnksCiAgICAgICAgICAgICAgam9iVHlwZTogX2FuYWx5dGljcy5BTkFMWVNJU19DT05GSUdfVFlQRS5DTEFTU0lGSUNBVElPTiwKICAgICAgICAgICAgICByZXF1aXJlc0tleXdvcmQ6IHJlcXVpcmVzS2V5d29yZAogICAgICAgICAgICB9KSk7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBldmFsRGF0YSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKCgwLCBfY29tbW9uLmxvYWREb2NzQ291bnQpKHsKICAgICAgICAgICAgICBpc1RyYWluaW5nOiBmYWxzZSwKICAgICAgICAgICAgICBzZWFyY2hRdWVyeTogc2VhcmNoUXVlcnksCiAgICAgICAgICAgICAgcmVzdWx0c0ZpZWxkOiByZXN1bHRzRmllbGQsCiAgICAgICAgICAgICAgZGVzdEluZGV4OiBqb2JDb25maWcuZGVzdC5pbmRleAogICAgICAgICAgICB9KSk7CgogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBkb2NzQ291bnRSZXNwID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgIGlmIChldmFsRGF0YS5zdWNjZXNzID09PSB0cnVlICYmIGV2YWxEYXRhLmV2YWwgJiYgKDAsIF9hbmFseXRpY3MuaXNDbGFzc2lmaWNhdGlvbkV2YWx1YXRlUmVzcG9uc2UpKGV2YWxEYXRhLmV2YWwpKSB7CiAgICAgICAgICAgICAgY29uZnVzaW9uTWF0cml4ID0gKF9ldmFsRGF0YSRldmFsID0gZXZhbERhdGEuZXZhbCkgPT09IG51bGwgfHwgX2V2YWxEYXRhJGV2YWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZXZhbERhdGEkZXZhbCRjbGFzc2kgPSBfZXZhbERhdGEkZXZhbC5jbGFzc2lmaWNhdGlvbikgPT09IG51bGwgfHwgX2V2YWxEYXRhJGV2YWwkY2xhc3NpID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2V2YWxEYXRhJGV2YWwkY2xhc3NpMiA9IF9ldmFsRGF0YSRldmFsJGNsYXNzaS5tdWx0aWNsYXNzX2NvbmZ1c2lvbl9tYXRyaXgpID09PSBudWxsIHx8IF9ldmFsRGF0YSRldmFsJGNsYXNzaTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmFsRGF0YSRldmFsJGNsYXNzaTIuY29uZnVzaW9uX21hdHJpeDsKICAgICAgICAgICAgICBzZXRFcnJvcihudWxsKTsKICAgICAgICAgICAgICBzZXRDb25mdXNpb25NYXRyaXhEYXRhKGNvbmZ1c2lvbk1hdHJpeCB8fCBbXSk7CiAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpOwogICAgICAgICAgICAgIHNldENvbmZ1c2lvbk1hdHJpeERhdGEoW10pOwogICAgICAgICAgICAgIHNldEVycm9yKGV2YWxEYXRhLmVycm9yKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGRvY3NDb3VudFJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIHNldERvY3NDb3VudChkb2NzQ291bnRSZXNwLmRvY3NDb3VudCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgc2V0RG9jc0NvdW50KG51bGwpOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9OwoKICB2YXIgcmVzaXplSGFuZGxlciA9IGZ1bmN0aW9uIHJlc2l6ZUhhbmRsZXIoKSB7CiAgICB2YXIgX2RvY3VtZW50JGdldEVsZW1lbnRCOwoKICAgIHZhciB0YWJsZVBhbmVsV2lkdGggPSAoKF9kb2N1bWVudCRnZXRFbGVtZW50QiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtbERhdGFGcmFtZUFuYWx5dGljc1RhYmxlUmVzdWx0c1BhbmVsJykpID09PSBudWxsIHx8IF9kb2N1bWVudCRnZXRFbGVtZW50QiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RvY3VtZW50JGdldEVsZW1lbnRCLmNsaWVudFdpZHRoKSB8fCBkZWZhdWx0UGFuZWxXaWR0aDsgLy8gS2VlcCB0aGUgZXZhbHVhdGUgcGFuZWwgd2lkdGggc2xpZ2h0bHkgc21hbGxlciB0aGFuIHRoZSByZXN1bHRzIHRhYmxlCiAgICAvLyB0byBlbnN1cmUgcmVzdWx0cyB0YWJsZSBjYW4gcmVzaXplIGNvcnJlY3RseS4gVGVtcG9yYXJ5IHdvcmthcm91bmQgRGF0YUdyaWQgaXNzdWUgd2l0aCBmbGV4CgogICAgdmFyIG5ld1dpZHRoID0gdGFibGVQYW5lbFdpZHRoIC0gODsKICAgIHNldFBhbmVsV2lkdGgobmV3V2lkdGgpOwogIH07CgogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplSGFuZGxlcik7CiAgICByZXNpemVIYW5kbGVyKCk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplSGFuZGxlcik7CiAgICB9OwogIH0sIFtdKTsKICAoMCwgX3JlYWN0LnVzZUVmZmVjdCkoZnVuY3Rpb24gKCkgewogICAgaWYgKGNvbmZ1c2lvbk1hdHJpeERhdGEubGVuZ3RoID4gMCkgewogICAgICB2YXIgX2dldENvbHVtbkRhdGEgPSAoMCwgX2NvbHVtbl9kYXRhLmdldENvbHVtbkRhdGEpKGNvbmZ1c2lvbk1hdHJpeERhdGEpLAogICAgICAgICAgZGVyaXZlZENvbHVtbnMgPSBfZ2V0Q29sdW1uRGF0YS5jb2x1bW5zLAogICAgICAgICAgY29sdW1uRGF0YSA9IF9nZXRDb2x1bW5EYXRhLmNvbHVtbkRhdGE7IC8vIEluaXRpYWxpemUgYWxsIGNvbHVtbnMgYXMgdmlzaWJsZQoKCiAgICAgIHNldFZpc2libGVDb2x1bW5zKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gZGVyaXZlZENvbHVtbnMubWFwKGZ1bmN0aW9uIChfcmVmNCkgewogICAgICAgICAgdmFyIGlkID0gX3JlZjQuaWQ7CiAgICAgICAgICByZXR1cm4gaWQ7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBzZXRDb2x1bW5zKGRlcml2ZWRDb2x1bW5zKTsKICAgICAgc2V0Q29sdW1uc0RhdGEoY29sdW1uRGF0YSk7CiAgICAgIHNldFBvcG92ZXJDb250ZW50cyh7CiAgICAgICAgbnVtZXJpYzogZnVuY3Rpb24gbnVtZXJpYyhfcmVmNSkgewogICAgICAgICAgdmFyIF9jaGlsZHJlbiRwcm9wcywgX2NoaWxkcmVuJHByb3BzMjsKCiAgICAgICAgICB2YXIgY2VsbENvbnRlbnRzRWxlbWVudCA9IF9yZWY1LmNlbGxDb250ZW50c0VsZW1lbnQsCiAgICAgICAgICAgICAgY2hpbGRyZW4gPSBfcmVmNS5jaGlsZHJlbjsKICAgICAgICAgIHZhciByb3dJbmRleCA9IGNoaWxkcmVuID09PSBudWxsIHx8IGNoaWxkcmVuID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2NoaWxkcmVuJHByb3BzID0gY2hpbGRyZW4ucHJvcHMpID09PSBudWxsIHx8IF9jaGlsZHJlbiRwcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NoaWxkcmVuJHByb3BzLnJvd0luZGV4OwogICAgICAgICAgdmFyIGNvbElkID0gY2hpbGRyZW4gPT09IG51bGwgfHwgY2hpbGRyZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfY2hpbGRyZW4kcHJvcHMyID0gY2hpbGRyZW4ucHJvcHMpID09PSBudWxsIHx8IF9jaGlsZHJlbiRwcm9wczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jaGlsZHJlbiRwcm9wczIuY29sdW1uSWQ7CiAgICAgICAgICB2YXIgZ3JpZEl0ZW0gPSBjb2x1bW5EYXRhW3Jvd0luZGV4XTsKCiAgICAgICAgICBpZiAoZ3JpZEl0ZW0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB2YXIgY291bnQgPSBjb2xJZCA9PT0gZ3JpZEl0ZW0uYWN0dWFsX2NsYXNzID8gZ3JpZEl0ZW0uY291bnQgOiBncmlkSXRlbS5lcnJvcl9jb3VudDsKICAgICAgICAgICAgcmV0dXJuICIiLmNvbmNhdChjb3VudCwgIiAvICIpLmNvbmNhdChncmlkSXRlbS5hY3R1YWxfY2xhc3NfZG9jX2NvdW50LCAiICogMTAwID0gIikuY29uY2F0KGNlbGxDb250ZW50c0VsZW1lbnQudGV4dENvbnRlbnQpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBjZWxsQ29udGVudHNFbGVtZW50LnRleHRDb250ZW50OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgW2NvbmZ1c2lvbk1hdHJpeERhdGFdKTsKICAoMCwgX3JlYWN0LnVzZUVmZmVjdCkoZnVuY3Rpb24gKCkgewogICAgdmFyIGhhc0lzVHJhaW5pbmdDbGF1c2UgPSAoMCwgX2FuYWx5dGljcy5pc1Jlc3VsdHNTZWFyY2hCb29sUXVlcnkpKHNlYXJjaFF1ZXJ5KSAmJiBzZWFyY2hRdWVyeS5ib29sLm11c3QuZmlsdGVyKGZ1bmN0aW9uIChjbGF1c2UpIHsKICAgICAgcmV0dXJuIGNsYXVzZS5tYXRjaCAmJiBjbGF1c2UubWF0Y2hbIiIuY29uY2F0KHJlc3VsdHNGaWVsZCwgIi5pc190cmFpbmluZyIpXSAhPT0gdW5kZWZpbmVkOwogICAgfSk7CiAgICB2YXIgaXNUcmFpbmluZ0NsYXVzZSA9IGhhc0lzVHJhaW5pbmdDbGF1c2UgJiYgaGFzSXNUcmFpbmluZ0NsYXVzZVswXSAmJiBoYXNJc1RyYWluaW5nQ2xhdXNlWzBdLm1hdGNoWyIiLmNvbmNhdChyZXN1bHRzRmllbGQsICIuaXNfdHJhaW5pbmciKV07CiAgICBsb2FkRGF0YSh7CiAgICAgIGlzVHJhaW5pbmdDbGF1c2U6IGlzVHJhaW5pbmdDbGF1c2UKICAgIH0pOwogIH0sIFtKU09OLnN0cmluZ2lmeShzZWFyY2hRdWVyeSldKTsKCiAgdmFyIHJlbmRlckNlbGxWYWx1ZSA9IGZ1bmN0aW9uIHJlbmRlckNlbGxWYWx1ZShfcmVmNikgewogICAgdmFyIHJvd0luZGV4ID0gX3JlZjYucm93SW5kZXgsCiAgICAgICAgY29sdW1uSWQgPSBfcmVmNi5jb2x1bW5JZCwKICAgICAgICBzZXRDZWxsUHJvcHMgPSBfcmVmNi5zZXRDZWxsUHJvcHM7CiAgICB2YXIgY2VsbFZhbHVlID0gY29sdW1uc0RhdGFbcm93SW5kZXhdW2NvbHVtbklkXTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzCgogICAgKDAsIF9yZWFjdC51c2VFZmZlY3QpKGZ1bmN0aW9uICgpIHsKICAgICAgc2V0Q2VsbFByb3BzKHsKICAgICAgICBzdHlsZTogewogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAicmdiYSgwLCAxNzksIDE2NCwgIi5jb25jYXQoY2VsbFZhbHVlLCAiKSIpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sIFtyb3dJbmRleCwgY29sdW1uSWQsIHNldENlbGxQcm9wc10pOwogICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCB0eXBlb2YgY2VsbFZhbHVlID09PSAnbnVtYmVyJyA/ICIiLmNvbmNhdChNYXRoLnJvdW5kKGNlbGxWYWx1ZSAqIDEwMCksICIlIikgOiBjZWxsVmFsdWUpOwogIH07CgogIGlmIChpc0xvYWRpbmcgPT09IHRydWUpIHsKICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9sb2FkaW5nX3BhbmVsLkxvYWRpbmdQYW5lbCwgbnVsbCk7CiAgfQoKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVBhbmVsLCB7CiAgICBzdHlsZTogewogICAgICB3aWR0aDogIiIuY29uY2F0KHBhbmVsV2lkdGgsICJweCIpCiAgICB9CiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgZGlyZWN0aW9uOiAiY29sdW1uIiwKICAgIGd1dHRlclNpemU6ICJzIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgYWxpZ25JdGVtczogImNlbnRlciIsCiAgICBqdXN0aWZ5Q29udGVudDogInNwYWNlQmV0d2VlbiIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRpdGxlLCB7CiAgICBzaXplOiAieHMiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tbC5kYXRhZnJhbWUuYW5hbHl0aWNzLmNsYXNzaWZpY2F0aW9uRXhwbG9yYXRpb24uZXZhbHVhdGVKb2JJZFRpdGxlJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdFdmFsdWF0aW9uIG9mIGNsYXNzaWZpY2F0aW9uIGpvYiBJRCB7am9iSWR9JywKICAgIHZhbHVlczogewogICAgICBqb2JJZDogam9iQ29uZmlnLmlkCiAgICB9CiAgfSkpKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgKDAsIF9jb2x1bW5zLmdldFRhc2tTdGF0ZUJhZGdlKShqb2JTdGF0dXMpKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgbnVsbCkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICB0YXJnZXQ6ICJfYmxhbmsiLAogICAgaWNvblR5cGU6ICJoZWxwIiwKICAgIGljb25TaWRlOiAibGVmdCIsCiAgICBjb2xvcjogInByaW1hcnkiLAogICAgaHJlZjogImh0dHBzOi8vd3d3LmVsYXN0aWMuY28vZ3VpZGUvZW4vbWFjaGluZS1sZWFybmluZy8iLmNvbmNhdChfbWV0YWRhdGEubWV0YWRhdGEuYnJhbmNoLCAiL21sLWRmYW5hbHl0aWNzLWV2YWx1YXRlLmh0bWwjbWwtZGZhbmFseXRpY3MtY2xhc3NpZmljYXRpb24iKQogIH0sIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tbC5kYXRhZnJhbWUuYW5hbHl0aWNzLmNsYXNzaWZpY2F0aW9uRXhwbG9yYXRpb24uY2xhc3NpZmljYXRpb25Eb2NzTGluaycsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnQ2xhc3NpZmljYXRpb24gZXZhbHVhdGlvbiBkb2NzICcKICB9KSkpKSksIGVycm9yICE9PSBudWxsICYmIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9lcnJvcl9jYWxsb3V0LkVycm9yQ2FsbG91dCwgewogICAgZXJyb3I6IGVycm9yCiAgfSkpLCBlcnJvciA9PT0gbnVsbCAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgIGd1dHRlclNpemU6ICJ4cyIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIHsKICAgIHNpemU6ICJ4eHMiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tbC5kYXRhZnJhbWUuYW5hbHl0aWNzLmNsYXNzaWZpY2F0aW9uRXhwbG9yYXRpb24uY29uZnVzaW9uTWF0cml4SGVscFRleHQnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ05vcm1hbGl6ZWQgY29uZnVzaW9uIG1hdHJpeCcKICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUljb25UaXAsIHsKICAgIGFuY2hvckNsYXNzTmFtZTogIm1sRGF0YUZyYW1lQW5hbHl0aWNzQ2xhc3NpZmljYXRpb25JbmZvVG9vbHRpcCIsCiAgICBjb250ZW50OiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subWwuZGF0YWZyYW1lLmFuYWx5dGljcy5jbGFzc2lmaWNhdGlvbkV4cGxvcmF0aW9uLmNvbmZ1c2lvbk1hdHJpeFRvb2x0aXAnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVGhlIG11bHRpLWNsYXNzIGNvbmZ1c2lvbiBtYXRyaXggY29udGFpbnMgdGhlIG51bWJlciBvZiBvY2N1cnJlbmNlcyB3aGVyZSB0aGUgYW5hbHlzaXMgY2xhc3NpZmllZCBkYXRhIHBvaW50cyBjb3JyZWN0bHkgd2l0aCB0aGVpciBhY3R1YWwgY2xhc3MgYXMgd2VsbCBhcyB0aGUgbnVtYmVyIG9mIG9jY3VycmVuY2VzIHdoZXJlIGl0IG1pc2NsYXNzaWZpZWQgdGhlbSB3aXRoIGFub3RoZXIgY2xhc3MnCiAgICB9KQogIH0pKSkpLCBkb2NzQ291bnQgIT09IG51bGwgJiYgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUZXh0LCB7CiAgICBzaXplOiAieHMiLAogICAgY29sb3I6ICJzdWJkdWVkIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBpZDogInhwYWNrLm1sLmRhdGFmcmFtZS5hbmFseXRpY3MuY2xhc3NpZmljYXRpb25FeHBsb3JhdGlvbi5nZW5lcmFsaXphdGlvbkRvY3NDb3VudCIsCiAgICBkZWZhdWx0TWVzc2FnZTogIntkb2NzQ291bnQsIHBsdXJhbCwgb25lIHsjIGRvY30gb3RoZXIgeyMgZG9jc319IGV2YWx1YXRlZCIsCiAgICB2YWx1ZXM6IHsKICAgICAgZG9jc0NvdW50OiBkb2NzQ291bnQKICAgIH0KICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgZ3V0dGVyU2l6ZTogInMiLAogICAgc3R5bGU6IHsKICAgICAgcGFkZGluZ0xlZnQ6ICcxMCUnLAogICAgICBwYWRkaW5nUmlnaHQ6ICcxMCUnCiAgICB9CiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICBjbGFzc05hbWU6ICJtbERhdGFGcmFtZUFuYWx5dGljc0NsYXNzaWZpY2F0aW9uX19hY3R1YWxMYWJlbCIsCiAgICBoZWxwVGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1sLmRhdGFmcmFtZS5hbmFseXRpY3MuY2xhc3NpZmljYXRpb25FeHBsb3JhdGlvbi5jb25mdXNpb25NYXRyaXhBY3R1YWxMYWJlbCcsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdBY3R1YWwgbGFiZWwnCiAgICB9KQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgY29sdW1ucy5sZW5ndGggPiAwICYmIGNvbHVtbnNEYXRhLmxlbmd0aCA+IDAgJiYgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgIGRpcmVjdGlvbjogImNvbHVtbiIsCiAgICBqdXN0aWZ5Q29udGVudDogImNlbnRlciIsCiAgICBndXR0ZXJTaXplOiAicyIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgIGhlbHBUZXh0OiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subWwuZGF0YWZyYW1lLmFuYWx5dGljcy5jbGFzc2lmaWNhdGlvbkV4cGxvcmF0aW9uLmNvbmZ1c2lvbk1hdHJpeFByZWRpY3RlZExhYmVsJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ1ByZWRpY3RlZCBsYWJlbCcKICAgIH0pCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwpKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UsCiAgICBzdHlsZTogewogICAgICB3aWR0aDogJzkwJScKICAgIH0KICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRGF0YUdyaWQsIHsKICAgICJhcmlhLWxhYmVsIjogIkNsYXNzaWZpY2F0aW9uIGNvbmZ1c2lvbiBtYXRyaXgiLAogICAgY29sdW1uczogY29sdW1ucywKICAgIGNvbHVtblZpc2liaWxpdHk6IHsKICAgICAgdmlzaWJsZUNvbHVtbnM6IHZpc2libGVDb2x1bW5zLAogICAgICBzZXRWaXNpYmxlQ29sdW1uczogc2V0VmlzaWJsZUNvbHVtbnMKICAgIH0sCiAgICByb3dDb3VudDogY29sdW1uc0RhdGEubGVuZ3RoLAogICAgcmVuZGVyQ2VsbFZhbHVlOiByZW5kZXJDZWxsVmFsdWUsCiAgICBpbk1lbW9yeTogewogICAgICBsZXZlbDogJ3NvcnRpbmcnCiAgICB9LAogICAgdG9vbGJhclZpc2liaWxpdHk6IGZhbHNlLAogICAgcG9wb3ZlckNvbnRlbnRzOiBwb3BvdmVyQ29udGVudHMsCiAgICBncmlkU3R5bGU6IHsKICAgICAgcm93SG92ZXI6ICdub25lJwogICAgfQogIH0pKSkpKSkpKSkpOwp9OwoKZXhwb3J0cy5FdmFsdWF0ZVBhbmVsID0gRXZhbHVhdGVQYW5lbDs="},null]}