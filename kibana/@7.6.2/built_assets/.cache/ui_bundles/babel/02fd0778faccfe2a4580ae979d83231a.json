{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/ui/public/legacy_compat/angular_config.js","dependencies":[{"path":"src/legacy/ui/public/legacy_compat/angular_config.js","mtime":1585205041095},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLiRzZXR1cFhzcmZSZXF1ZXN0SW50ZXJjZXB0b3IgPSBleHBvcnRzLmNvbmZpZ3VyZUFwcEFuZ3VsYXJNb2R1bGUgPSB2b2lkIDA7Cgp2YXIgX2pxdWVyeSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgianF1ZXJ5IikpOwoKdmFyIF9sb2Rhc2ggPSByZXF1aXJlKCJsb2Rhc2giKTsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBSeCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJ4anMiKSk7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7Cgp2YXIgX25vdGlmeSA9IHJlcXVpcmUoInVpL25vdGlmeSIpOwoKdmFyIF91cmwgPSByZXF1aXJlKCJ1aS91cmwiKTsKCnZhciBfcHVibGljID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vcGx1Z2lucy9raWJhbmFfcmVhY3QvcHVibGljIik7Cgp2YXIgX2Vycm9yX3VybF9vdmVyZmxvdyA9IHJlcXVpcmUoIi4uL2Vycm9yX3VybF9vdmVyZmxvdyIpOwoKdmFyIF9zeXN0ZW1fYXBpID0gcmVxdWlyZSgiLi4vc3lzdGVtX2FwaSIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7CiAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgewogICAgcmV0dXJuIG9iajsKICB9IGVsc2UgewogICAgdmFyIG5ld09iaiA9IHt9OwoKICAgIGlmIChvYmogIT0gbnVsbCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsKICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OwoKICAgICAgICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBuZXdPYmouZGVmYXVsdCA9IG9iajsKICAgIHJldHVybiBuZXdPYmo7CiAgfQp9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9Ci8qCiAqIExpY2Vuc2VkIHRvIEVsYXN0aWNzZWFyY2ggQi5WLiB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvcgogKiBsaWNlbnNlIGFncmVlbWVudHMuIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aAogKiB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodAogKiBvd25lcnNoaXAuIEVsYXN0aWNzZWFyY2ggQi5WLiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyCiAqIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5CiAqIG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwovLyBAdHMtaWdub3JlCi8vIEB0cy1pZ25vcmUKLy8gQHRzLWlnbm9yZQoKCnZhciBVUkxfTElNSVRfV0FSTl9XSVRISU4gPSAxMDAwOwovKioKICogRGV0ZWN0cyB3aGV0aGVyIGEgZ2l2ZW4gYW5ndWxhciByb3V0ZSBpcyBhIGR1bW15IHJvdXRlIHRoYXQgZG9lc24ndAogKiByZXF1aXJlIGFueSBhY3Rpb24uIFRoZXJlIGFyZSB0d28gd2F5cyB0aGlzIGNhbiBoYXBwZW46CiAqIElmIGBvdXRlckFuZ3VsYXJXcmFwcGVyUm91dGVgIGlzIHNldCBvbiB0aGUgcm91dGUgY29uZmlnIG9iamVjdCwKICogaXQgbWVhbnMgdGhlIGxvY2FsIGFwcGxpY2F0aW9uIHNlcnZpY2Ugc2V0IHVwIHRoaXMgcm91dGUgb24gdGhlIG91dGVyIGFuZ3VsYXIKICogYW5kIHRoZSBpbnRlcm5hbCByb3V0ZXMgd2lsbCBoYW5kbGUgdGhlIGhvb2tzLgogKgogKiBJZiBhbmd1bGFyIGRpZCBub3QgZGV0ZWN0IGEgcm91dGUgYW5kIGl0IGlzIHRoZSBsb2NhbCBhbmd1bGFyLCB3ZSBhcmUgY3VycmVudGx5CiAqIG5hdmlnYXRpbmcgYXdheSBmcm9tIGEgVVJMIGNvbnRyb2xsZWQgYnkgYSBsb2NhbCBhbmd1bGFyIHJvdXRlciBhbmQgdGhlCiAqIGFwcGxpY2F0aW9uIHdpbGwgZ2V0IHVubW91bnRlZC4gSW4gdGhpcyBjYXNlIHRoZSBvdXRlciByb3V0ZXIgd2lsbCBoYW5kbGUKICogdGhlIGhvb2tzLgogKiBAcGFyYW0gJHJvdXRlIEluamVjdGVkICRyb3V0ZSBkZXBlbmRlbmN5CiAqIEBwYXJhbSBpc0xvY2FsQW5ndWxhciBGbGFnIHdoZXRoZXIgdGhpcyBpcyB0aGUgbG9jYWwgYW5ndWxhciByb3V0ZXIKICovCgpmdW5jdGlvbiBpc0R1bW15Um91dGUoJHJvdXRlLCBpc0xvY2FsQW5ndWxhcikgewogIHJldHVybiAkcm91dGUuY3VycmVudCAmJiAkcm91dGUuY3VycmVudC4kJHJvdXRlICYmICRyb3V0ZS5jdXJyZW50LiQkcm91dGUub3V0ZXJBbmd1bGFyV3JhcHBlclJvdXRlIHx8ICEkcm91dGUuY3VycmVudCAmJiBpc0xvY2FsQW5ndWxhcjsKfQoKdmFyIGNvbmZpZ3VyZUFwcEFuZ3VsYXJNb2R1bGUgPSBmdW5jdGlvbiBjb25maWd1cmVBcHBBbmd1bGFyTW9kdWxlKGFuZ3VsYXJNb2R1bGUsIG5ld1BsYXRmb3JtLCBpc0xvY2FsQW5ndWxhcikgewogIHZhciBsZWdhY3lNZXRhZGF0YSA9IG5ld1BsYXRmb3JtLmluamVjdGVkTWV0YWRhdGEuZ2V0TGVnYWN5TWV0YWRhdGEoKTsKICAoMCwgX2xvZGFzaC5mb3JPd24pKG5ld1BsYXRmb3JtLmluamVjdGVkTWV0YWRhdGEuZ2V0SW5qZWN0ZWRWYXJzKCksIGZ1bmN0aW9uICh2YWwsIG5hbWUpIHsKICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQpIHsKICAgICAgLy8gVGhlIGxlZ2FjeSBwbGF0Zm9ybSBtb2RpZmllcyBzb21lIG9mIHRoZXNlIHZhbHVlcywgY2xvbmUgdG8gYW4gdW5mcm96ZW4gb2JqZWN0LgogICAgICBhbmd1bGFyTW9kdWxlLnZhbHVlKG5hbWUsICgwLCBfbG9kYXNoLmNsb25lRGVlcCkodmFsKSk7CiAgICB9CiAgfSk7CiAgYW5ndWxhck1vZHVsZS52YWx1ZSgna2JuVmVyc2lvbicsIG5ld1BsYXRmb3JtLmluamVjdGVkTWV0YWRhdGEuZ2V0S2liYW5hVmVyc2lvbigpKS52YWx1ZSgnYnVpbGROdW0nLCBsZWdhY3lNZXRhZGF0YS5idWlsZE51bSkudmFsdWUoJ2J1aWxkU2hhJywgbGVnYWN5TWV0YWRhdGEuYnVpbGRTaGEpLnZhbHVlKCdzZXJ2ZXJOYW1lJywgbGVnYWN5TWV0YWRhdGEuc2VydmVyTmFtZSkudmFsdWUoJ2VzVXJsJywgZ2V0RXNVcmwobmV3UGxhdGZvcm0pKS52YWx1ZSgndWlDYXBhYmlsaXRpZXMnLCBuZXdQbGF0Zm9ybS5hcHBsaWNhdGlvbi5jYXBhYmlsaXRpZXMpLmNvbmZpZyhzZXR1cENvbXBpbGVQcm92aWRlcihuZXdQbGF0Zm9ybSkpLmNvbmZpZyhzZXR1cExvY2F0aW9uUHJvdmlkZXIobmV3UGxhdGZvcm0pKS5jb25maWcoJHNldHVwWHNyZlJlcXVlc3RJbnRlcmNlcHRvcihuZXdQbGF0Zm9ybSkpLnJ1bihjYXB0dXJlJGh0dHBMb2FkaW5nQ291bnQobmV3UGxhdGZvcm0pKS5ydW4oJHNldHVwQnJlYWRjcnVtYnNBdXRvQ2xlYXIobmV3UGxhdGZvcm0sIGlzTG9jYWxBbmd1bGFyKSkucnVuKCRzZXR1cEJhZGdlQXV0b0NsZWFyKG5ld1BsYXRmb3JtLCBpc0xvY2FsQW5ndWxhcikpLnJ1bigkc2V0dXBIZWxwRXh0ZW5zaW9uQXV0b0NsZWFyKG5ld1BsYXRmb3JtLCBpc0xvY2FsQW5ndWxhcikpLnJ1bigkc2V0dXBVcmxPdmVyZmxvd0hhbmRsaW5nKG5ld1BsYXRmb3JtLCBpc0xvY2FsQW5ndWxhcikpLnJ1bigkc2V0dXBVSUNhcGFiaWxpdHlSZWRpcmVjdChuZXdQbGF0Zm9ybSkpOwp9OwoKZXhwb3J0cy5jb25maWd1cmVBcHBBbmd1bGFyTW9kdWxlID0gY29uZmlndXJlQXBwQW5ndWxhck1vZHVsZTsKCnZhciBnZXRFc1VybCA9IGZ1bmN0aW9uIGdldEVzVXJsKG5ld1BsYXRmb3JtKSB7CiAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgYS5ocmVmID0gbmV3UGxhdGZvcm0uaHR0cC5iYXNlUGF0aC5wcmVwZW5kKCcvZWxhc3RpY3NlYXJjaCcpOwogIHZhciBwcm90b2NvbFBvcnQgPSAvaHR0cHMvLnRlc3QoYS5wcm90b2NvbCkgPyA0NDMgOiA4MDsKICB2YXIgcG9ydCA9IGEucG9ydCB8fCBwcm90b2NvbFBvcnQ7CiAgcmV0dXJuIHsKICAgIGhvc3Q6IGEuaG9zdG5hbWUsCiAgICBwb3J0OiBwb3J0LAogICAgcHJvdG9jb2w6IGEucHJvdG9jb2wsCiAgICBwYXRobmFtZTogYS5wYXRobmFtZQogIH07Cn07Cgp2YXIgc2V0dXBDb21waWxlUHJvdmlkZXIgPSBmdW5jdGlvbiBzZXR1cENvbXBpbGVQcm92aWRlcihuZXdQbGF0Zm9ybSkgewogIHJldHVybiBmdW5jdGlvbiAoJGNvbXBpbGVQcm92aWRlcikgewogICAgaWYgKCFuZXdQbGF0Zm9ybS5pbmplY3RlZE1ldGFkYXRhLmdldExlZ2FjeU1ldGFkYXRhKCkuZGV2TW9kZSkgewogICAgICAkY29tcGlsZVByb3ZpZGVyLmRlYnVnSW5mb0VuYWJsZWQoZmFsc2UpOwogICAgfQogIH07Cn07Cgp2YXIgc2V0dXBMb2NhdGlvblByb3ZpZGVyID0gZnVuY3Rpb24gc2V0dXBMb2NhdGlvblByb3ZpZGVyKG5ld1BsYXRmb3JtKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgkbG9jYXRpb25Qcm92aWRlcikgewogICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHsKICAgICAgZW5hYmxlZDogZmFsc2UsCiAgICAgIHJlcXVpcmVCYXNlOiBmYWxzZSwKICAgICAgcmV3cml0ZUxpbmtzOiBmYWxzZQogICAgfSk7CiAgICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCcnKTsKICB9Owp9OwoKdmFyICRzZXR1cFhzcmZSZXF1ZXN0SW50ZXJjZXB0b3IgPSBmdW5jdGlvbiAkc2V0dXBYc3JmUmVxdWVzdEludGVyY2VwdG9yKG5ld1BsYXRmb3JtKSB7CiAgdmFyIHZlcnNpb24gPSBuZXdQbGF0Zm9ybS5pbmplY3RlZE1ldGFkYXRhLmdldExlZ2FjeU1ldGFkYXRhKCkudmVyc2lvbjsgLy8gQ29uZmlndXJlIGpRdWVyeSBwcmVmaWx0ZXIKCiAgX2pxdWVyeS5kZWZhdWx0LmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24gKF9yZWYsIG9yaWdpbmFsT3B0aW9ucywganFYSFIpIHsKICAgIHZhciBfcmVmJGtiblhzcmZUb2tlbiA9IF9yZWYua2JuWHNyZlRva2VuLAogICAgICAgIGtiblhzcmZUb2tlbiA9IF9yZWYka2JuWHNyZlRva2VuID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRrYm5Yc3JmVG9rZW47CgogICAgaWYgKGtiblhzcmZUb2tlbikgewogICAgICBqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCdrYm4tdmVyc2lvbicsIHZlcnNpb24pOwogICAgfQogIH0pOwoKICByZXR1cm4gZnVuY3Rpb24gKCRodHRwUHJvdmlkZXIpIHsKICAgIC8vIENvbmZpZ3VyZSAkaHR0cFByb3ZpZGVyIGludGVyY2VwdG9yCiAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICByZXF1ZXN0OiBmdW5jdGlvbiByZXF1ZXN0KG9wdHMpIHsKICAgICAgICAgIHZhciBfcmVmMiA9IG9wdHMsCiAgICAgICAgICAgICAgX3JlZjIka2JuWHNyZlRva2VuID0gX3JlZjIua2JuWHNyZlRva2VuLAogICAgICAgICAgICAgIGtiblhzcmZUb2tlbiA9IF9yZWYyJGtiblhzcmZUb2tlbiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYyJGtiblhzcmZUb2tlbjsKCiAgICAgICAgICBpZiAoa2JuWHNyZlRva2VuKSB7CiAgICAgICAgICAgICgwLCBfbG9kYXNoLnNldCkob3B0cywgWydoZWFkZXJzJywgJ2tibi12ZXJzaW9uJ10sIHZlcnNpb24pOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBvcHRzOwogICAgICAgIH0KICAgICAgfTsKICAgIH0pOwogIH07Cn07Ci8qKgogKiBJbmplY3RlZCBpbnRvIGFuZ3VsYXIgbW9kdWxlIGJ5IHVpL2Nocm9tZSBhbmd1bGFyIGludGVncmF0aW9uCiAqIGFuZCBhZGRzIGEgcm9vdC1sZXZlbCB3YXRjaGVyIHRoYXQgd2lsbCBjYXB0dXJlIHRoZSBjb3VudCBvZgogKiBhY3RpdmUgJGh0dHAgcmVxdWVzdHMgb24gZWFjaCBkaWdlc3QgbG9vcCBhbmQgZXhwb3NlIHRoZSBjb3VudCB0bwogKiB0aGUgY29yZS5sb2FkaW5nQ291bnQgYXBpCiAqIEBwYXJhbSAge0FuZ3VsYXIuU2NvcGV9ICRyb290U2NvcGUKICogQHBhcmFtICB7SHR0cFNlcnZpY2V9ICRodHRwCiAqIEByZXR1cm4ge3VuZGVmaW5lZH0KICovCgoKZXhwb3J0cy4kc2V0dXBYc3JmUmVxdWVzdEludGVyY2VwdG9yID0gJHNldHVwWHNyZlJlcXVlc3RJbnRlcmNlcHRvcjsKCnZhciBjYXB0dXJlJGh0dHBMb2FkaW5nQ291bnQgPSBmdW5jdGlvbiBjYXB0dXJlJGh0dHBMb2FkaW5nQ291bnQobmV3UGxhdGZvcm0pIHsKICByZXR1cm4gZnVuY3Rpb24gKCRyb290U2NvcGUsICRodHRwKSB7CiAgICBuZXdQbGF0Zm9ybS5odHRwLmFkZExvYWRpbmdDb3VudFNvdXJjZShuZXcgUnguT2JzZXJ2YWJsZShmdW5jdGlvbiAob2JzZXJ2ZXIpIHsKICAgICAgdmFyIHVud2F0Y2ggPSAkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHJlcXMgPSAkaHR0cC5wZW5kaW5nUmVxdWVzdHMgfHwgW107CiAgICAgICAgb2JzZXJ2ZXIubmV4dChyZXFzLmZpbHRlcihmdW5jdGlvbiAocmVxKSB7CiAgICAgICAgICByZXR1cm4gISgwLCBfc3lzdGVtX2FwaS5pc1N5c3RlbUFwaVJlcXVlc3QpKHJlcSk7CiAgICAgICAgfSkubGVuZ3RoKTsKICAgICAgfSk7CiAgICAgIHJldHVybiB1bndhdGNoOwogICAgfSkpOwogIH07Cn07Ci8qKgogKiBpbnRlZ3JhdGVzIHdpdGggYW5ndWxhciB0byBhdXRvbWF0aWNhbGx5IHJlZGlyZWN0IHRvIGhvbWUgaWYgcmVxdWlyZWQKICogY2FwYWJpbGl0eSBpcyBub3QgbWV0CiAqLwoKCnZhciAkc2V0dXBVSUNhcGFiaWxpdHlSZWRpcmVjdCA9IGZ1bmN0aW9uICRzZXR1cFVJQ2FwYWJpbGl0eVJlZGlyZWN0KG5ld1BsYXRmb3JtKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkaW5qZWN0b3IpIHsKICAgIHZhciBpc0tpYmFuYUFwcFJvdXRlID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmVuZHNXaXRoKCcvYXBwL2tpYmFuYScpOyAvLyB0aGlzIGZlYXR1cmUgb25seSB3b3JrcyB3aXRoaW4ga2liYW5hIGFwcCBmb3Igbm93IGFmdGVyIGV2ZXJ5dGhpbmcgaXMKICAgIC8vIHN3aXRjaGVkIHRvIHRoZSBhcHBsaWNhdGlvbiBzZXJ2aWNlLCB0aGlzIGNhbiBiZSBjaGFuZ2VkIHRvIGhhbmRsZSBhbGwKICAgIC8vIGFwcHMuCgogICAgaWYgKCFpc0tpYmFuYUFwcFJvdXRlKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIF9yZWYzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fSwKICAgICAgICAgIHJvdXRlID0gX3JlZjMuJCRyb3V0ZTsKCiAgICAgIGlmICghcm91dGUgfHwgIXJvdXRlLnJlcXVpcmVVSUNhcGFiaWxpdHkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICghKDAsIF9sb2Rhc2guZ2V0KShuZXdQbGF0Zm9ybS5hcHBsaWNhdGlvbi5jYXBhYmlsaXRpZXMsIHJvdXRlLnJlcXVpcmVVSUNhcGFiaWxpdHkpKSB7CiAgICAgICAgJGluamVjdG9yLmdldCgna2JuVXJsJykuY2hhbmdlKCcvaG9tZScpOwogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KICAgIH0pOwogIH07Cn07Ci8qKgogKiBpbnRlcm5hbCBhbmd1bGFyIHJ1biBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gYW5ndWxhciBib290c3RyYXBzIGFuZAogKiBsZXRzIHVzIGludGVncmF0ZSB3aXRoIHRoZSBhbmd1bGFyIHJvdXRlciBzbyB0aGF0IHdlIGNhbiBhdXRvbWF0aWNhbGx5IGNsZWFyCiAqIHRoZSBicmVhZGNydW1icyBpZiB3ZSBzd2l0Y2ggdG8gYSBLaWJhbmEgYXBwIHRoYXQgZG9lcyBub3QgdXNlIGJyZWFkY3J1bWJzIGNvcnJlY3RseQogKi8KCgp2YXIgJHNldHVwQnJlYWRjcnVtYnNBdXRvQ2xlYXIgPSBmdW5jdGlvbiAkc2V0dXBCcmVhZGNydW1ic0F1dG9DbGVhcihuZXdQbGF0Zm9ybSwgaXNMb2NhbEFuZ3VsYXIpIHsKICByZXR1cm4gZnVuY3Rpb24gKCRyb290U2NvcGUsICRpbmplY3RvcikgewogICAgLy8gQSBmbGFnIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBhdXRvbWF0aWNhbGx5CiAgICAvLyBjbGVhciB0aGUgYnJlYWRjcnVtYnMgYmV0d2VlbiBhbmd1bGFyIHJvdXRlIGNoYW5nZXMuCiAgICB2YXIgYnJlYWRjcnVtYlNldFNpbmNlUm91dGVDaGFuZ2UgPSBmYWxzZTsKICAgIHZhciAkcm91dGUgPSAkaW5qZWN0b3IuaGFzKCckcm91dGUnKSA/ICRpbmplY3Rvci5nZXQoJyRyb3V0ZScpIDoge307IC8vIHJlc2V0IGJyZWFkY3J1bWJTZXRTaW5jZVJvdXRlQ2hhbmdlIGFueSB0aW1lIHRoZSBicmVhZGNydW1icyBjaGFuZ2UsIGV2ZW4KICAgIC8vIGlmIGl0IHdhcyBkb25lIGRpcmVjdGx5IHRocm91Z2ggdGhlIG5ldyBwbGF0Zm9ybQoKICAgIG5ld1BsYXRmb3JtLmNocm9tZS5nZXRCcmVhZGNydW1icyQoKS5zdWJzY3JpYmUoewogICAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KCkgewogICAgICAgIGJyZWFkY3J1bWJTZXRTaW5jZVJvdXRlQ2hhbmdlID0gdHJ1ZTsKICAgICAgfQogICAgfSk7CiAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgIGJyZWFkY3J1bWJTZXRTaW5jZVJvdXRlQ2hhbmdlID0gZmFsc2U7CiAgICB9KTsKICAgICRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gKCkgewogICAgICBpZiAoaXNEdW1teVJvdXRlKCRyb3V0ZSwgaXNMb2NhbEFuZ3VsYXIpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgY3VycmVudCA9ICRyb3V0ZS5jdXJyZW50IHx8IHt9OwoKICAgICAgaWYgKGJyZWFkY3J1bWJTZXRTaW5jZVJvdXRlQ2hhbmdlIHx8IGN1cnJlbnQuJCRyb3V0ZSAmJiBjdXJyZW50LiQkcm91dGUucmVkaXJlY3RUbykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGs3QnJlYWRjcnVtYnNQcm92aWRlciA9IGN1cnJlbnQuazdCcmVhZGNydW1iczsKCiAgICAgIGlmICghazdCcmVhZGNydW1ic1Byb3ZpZGVyKSB7CiAgICAgICAgbmV3UGxhdGZvcm0uY2hyb21lLnNldEJyZWFkY3J1bWJzKFtdKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRyeSB7CiAgICAgICAgbmV3UGxhdGZvcm0uY2hyb21lLnNldEJyZWFkY3J1bWJzKCRpbmplY3Rvci5pbnZva2UoazdCcmVhZGNydW1ic1Byb3ZpZGVyKSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgKDAsIF9ub3RpZnkuZmF0YWxFcnJvcikoZXJyb3IpOwogICAgICB9CiAgICB9KTsKICB9Owp9OwovKioKICogaW50ZXJuYWwgYW5ndWxhciBydW4gZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIGFuZ3VsYXIgYm9vdHN0cmFwcyBhbmQKICogbGV0cyB1cyBpbnRlZ3JhdGUgd2l0aCB0aGUgYW5ndWxhciByb3V0ZXIgc28gdGhhdCB3ZSBjYW4gYXV0b21hdGljYWxseSBjbGVhcgogKiB0aGUgYmFkZ2UgaWYgd2Ugc3dpdGNoIHRvIGEgS2liYW5hIGFwcCB0aGF0IGRvZXMgbm90IHVzZSB0aGUgYmFkZ2UgY29ycmVjdGx5CiAqLwoKCnZhciAkc2V0dXBCYWRnZUF1dG9DbGVhciA9IGZ1bmN0aW9uICRzZXR1cEJhZGdlQXV0b0NsZWFyKG5ld1BsYXRmb3JtLCBpc0xvY2FsQW5ndWxhcikgewogIHJldHVybiBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGluamVjdG9yKSB7CiAgICAvLyBBIGZsYWcgdXNlZCB0byBkZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIGF1dG9tYXRpY2FsbHkKICAgIC8vIGNsZWFyIHRoZSBiYWRnZSBiZXR3ZWVuIGFuZ3VsYXIgcm91dGUgY2hhbmdlcy4KICAgIHZhciBiYWRnZVNldFNpbmNlUm91dGVDaGFuZ2UgPSBmYWxzZTsKICAgIHZhciAkcm91dGUgPSAkaW5qZWN0b3IuaGFzKCckcm91dGUnKSA/ICRpbmplY3Rvci5nZXQoJyRyb3V0ZScpIDoge307CiAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgIGJhZGdlU2V0U2luY2VSb3V0ZUNoYW5nZSA9IGZhbHNlOwogICAgfSk7CiAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKGlzRHVtbXlSb3V0ZSgkcm91dGUsIGlzTG9jYWxBbmd1bGFyKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGN1cnJlbnQgPSAkcm91dGUuY3VycmVudCB8fCB7fTsKCiAgICAgIGlmIChiYWRnZVNldFNpbmNlUm91dGVDaGFuZ2UgfHwgY3VycmVudC4kJHJvdXRlICYmIGN1cnJlbnQuJCRyb3V0ZS5yZWRpcmVjdFRvKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgYmFkZ2VQcm92aWRlciA9IGN1cnJlbnQuYmFkZ2U7CgogICAgICBpZiAoIWJhZGdlUHJvdmlkZXIpIHsKICAgICAgICBuZXdQbGF0Zm9ybS5jaHJvbWUuc2V0QmFkZ2UodW5kZWZpbmVkKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRyeSB7CiAgICAgICAgbmV3UGxhdGZvcm0uY2hyb21lLnNldEJhZGdlKCRpbmplY3Rvci5pbnZva2UoYmFkZ2VQcm92aWRlcikpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICgwLCBfbm90aWZ5LmZhdGFsRXJyb3IpKGVycm9yKTsKICAgICAgfQogICAgfSk7CiAgfTsKfTsKLyoqCiAqIGludGVybmFsIGFuZ3VsYXIgcnVuIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBhbmd1bGFyIGJvb3RzdHJhcHMgYW5kCiAqIGxldHMgdXMgaW50ZWdyYXRlIHdpdGggdGhlIGFuZ3VsYXIgcm91dGVyIHNvIHRoYXQgd2UgY2FuIGF1dG9tYXRpY2FsbHkgY2xlYXIKICogdGhlIGhlbHBFeHRlbnNpb24gaWYgd2Ugc3dpdGNoIHRvIGEgS2liYW5hIGFwcCB0aGF0IGRvZXMgbm90IHNldCBpdHMgb3duCiAqIGhlbHBFeHRlbnNpb24KICovCgoKdmFyICRzZXR1cEhlbHBFeHRlbnNpb25BdXRvQ2xlYXIgPSBmdW5jdGlvbiAkc2V0dXBIZWxwRXh0ZW5zaW9uQXV0b0NsZWFyKG5ld1BsYXRmb3JtLCBpc0xvY2FsQW5ndWxhcikgewogIHJldHVybiBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGluamVjdG9yKSB7CiAgICAvKioKICAgICAqIHJlc2V0IGhlbHBFeHRlbnNpb25TZXRTaW5jZVJvdXRlQ2hhbmdlIGFueSB0aW1lIHRoZSBoZWxwRXh0ZW5zaW9uIGNoYW5nZXMsIGV2ZW4KICAgICAqIGlmIGl0IHdhcyBkb25lIGRpcmVjdGx5IHRocm91Z2ggdGhlIG5ldyBwbGF0Zm9ybQogICAgICovCiAgICB2YXIgaGVscEV4dGVuc2lvblNldFNpbmNlUm91dGVDaGFuZ2UgPSBmYWxzZTsKICAgIG5ld1BsYXRmb3JtLmNocm9tZS5nZXRIZWxwRXh0ZW5zaW9uJCgpLnN1YnNjcmliZSh7CiAgICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgICAgaGVscEV4dGVuc2lvblNldFNpbmNlUm91dGVDaGFuZ2UgPSB0cnVlOwogICAgICB9CiAgICB9KTsKICAgIHZhciAkcm91dGUgPSAkaW5qZWN0b3IuaGFzKCckcm91dGUnKSA/ICRpbmplY3Rvci5nZXQoJyRyb3V0ZScpIDoge307CiAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChpc0R1bW15Um91dGUoJHJvdXRlLCBpc0xvY2FsQW5ndWxhcikpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGhlbHBFeHRlbnNpb25TZXRTaW5jZVJvdXRlQ2hhbmdlID0gZmFsc2U7CiAgICB9KTsKICAgICRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gKCkgewogICAgICBpZiAoaXNEdW1teVJvdXRlKCRyb3V0ZSwgaXNMb2NhbEFuZ3VsYXIpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgY3VycmVudCA9ICRyb3V0ZS5jdXJyZW50IHx8IHt9OwoKICAgICAgaWYgKGhlbHBFeHRlbnNpb25TZXRTaW5jZVJvdXRlQ2hhbmdlIHx8IGN1cnJlbnQuJCRyb3V0ZSAmJiBjdXJyZW50LiQkcm91dGUucmVkaXJlY3RUbykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgbmV3UGxhdGZvcm0uY2hyb21lLnNldEhlbHBFeHRlbnNpb24oY3VycmVudC5oZWxwRXh0ZW5zaW9uKTsKICAgIH0pOwogIH07Cn07Cgp2YXIgJHNldHVwVXJsT3ZlcmZsb3dIYW5kbGluZyA9IGZ1bmN0aW9uICRzZXR1cFVybE92ZXJmbG93SGFuZGxpbmcobmV3UGxhdGZvcm0sIGlzTG9jYWxBbmd1bGFyKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgkbG9jYXRpb24sICRyb290U2NvcGUsICRpbmplY3RvcikgewogICAgdmFyICRyb3V0ZSA9ICRpbmplY3Rvci5oYXMoJyRyb3V0ZScpID8gJGluamVjdG9yLmdldCgnJHJvdXRlJykgOiB7fTsKICAgIHZhciB1cmxPdmVyZmxvdyA9IG5ldyBfZXJyb3JfdXJsX292ZXJmbG93LlVybE92ZXJmbG93U2VydmljZSgpOwoKICAgIHZhciBjaGVjayA9IGZ1bmN0aW9uIGNoZWNrKCkgewogICAgICBpZiAoaXNEdW1teVJvdXRlKCRyb3V0ZSwgaXNMb2NhbEFuZ3VsYXIpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIGRpc2FibGUgbG9uZyB1cmwgY2hlY2tzIHdoZW4gc3RvcmluZyBzdGF0ZSBpbiBzZXNzaW9uIHN0b3JhZ2UKCgogICAgICBpZiAobmV3UGxhdGZvcm0udWlTZXR0aW5ncy5nZXQoJ3N0YXRlOnN0b3JlSW5TZXNzaW9uU3RvcmFnZScpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoJGxvY2F0aW9uLnBhdGgoKSA9PT0gJy9lcnJvci91cmwtb3ZlcmZsb3cnKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0cnkgewogICAgICAgIGlmICh1cmxPdmVyZmxvdy5jaGVjaygkbG9jYXRpb24uYWJzVXJsKCkpIDw9IFVSTF9MSU1JVF9XQVJOX1dJVEhJTikgewogICAgICAgICAgbmV3UGxhdGZvcm0ubm90aWZpY2F0aW9ucy50b2FzdHMuYWRkV2FybmluZyh7CiAgICAgICAgICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgnY29tbW9uLnVpLmNocm9tZS5iaWdVcmxXYXJuaW5nTm90aWZpY2F0aW9uVGl0bGUnLCB7CiAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdUaGUgVVJMIGlzIGJpZyBhbmQgS2liYW5hIG1pZ2h0IHN0b3Agd29ya2luZycKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIHRleHQ6ICgwLCBfcHVibGljLnRvTW91bnRQb2ludCkoX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICAgICAgaWQ6ICJjb21tb24udWkuY2hyb21lLmJpZ1VybFdhcm5pbmdOb3RpZmljYXRpb25NZXNzYWdlIiwKICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkVpdGhlciBlbmFibGUgdGhlIHtzdG9yZUluU2Vzc2lvblN0b3JhZ2VQYXJhbX0gb3B0aW9uIGluIHthZHZhbmNlZFNldHRpbmdzTGlua30gb3Igc2ltcGxpZnkgdGhlIG9uc2NyZWVuIHZpc3VhbHMuIiwKICAgICAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgICAgIHN0b3JlSW5TZXNzaW9uU3RvcmFnZVBhcmFtOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJjb2RlIiwgbnVsbCwgInN0YXRlOnN0b3JlSW5TZXNzaW9uU3RvcmFnZSIpLAogICAgICAgICAgICAgICAgYWR2YW5jZWRTZXR0aW5nc0xpbms6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImEiLCB7CiAgICAgICAgICAgICAgICAgIGhyZWY6ICIjL21hbmFnZW1lbnQva2liYW5hL3NldHRpbmdzIgogICAgICAgICAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgICAgICAgICAgaWQ6ICJjb21tb24udWkuY2hyb21lLmJpZ1VybFdhcm5pbmdOb3RpZmljYXRpb25NZXNzYWdlLmFkdmFuY2VkU2V0dGluZ3NMaW5rVGV4dCIsCiAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiYWR2YW5jZWQgc2V0dGluZ3MiCiAgICAgICAgICAgICAgICB9KSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKSkKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gKDAsIF91cmwubW9kaWZ5VXJsKSh3aW5kb3cubG9jYXRpb24uaHJlZiwgZnVuY3Rpb24gKHBhcnRzKSB7CiAgICAgICAgICBwYXJ0cy5oYXNoID0gJyMvZXJyb3IvdXJsLW92ZXJmbG93JzsKICAgICAgICB9KTsgLy8gZm9yY2UgdGhlIGJyb3dzZXIgdG8gcmVsb2FkIHRvIHRoYXQgS2liYW5hJ3MgcG90ZW50aWFsbHkgdW5zdGFibGUgc3RhdGUgaXMgdW5sb2FkZWQKCiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9CiAgICB9OwoKICAgICRyb290U2NvcGUuJG9uKCckcm91dGVVcGRhdGUnLCBjaGVjayk7CiAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3RhcnQnLCBjaGVjayk7CiAgfTsKfTs="},null]}