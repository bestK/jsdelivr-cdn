{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/ml/public/application/jobs/new_job/common/job_creator/job_creator.js","dependencies":[{"path":"x-pack/legacy/plugins/ml/public/application/jobs/new_job/common/job_creator/job_creator.js","mtime":1585205045844},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkpvYkNyZWF0b3IgPSB2b2lkIDA7Cgp2YXIgX2FnZ3JlZ2F0aW9uX3R5cGVzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50cy9hZ2dyZWdhdGlvbl90eXBlcyIpOwoKdmFyIF9wdWJsaWMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmMvcGx1Z2lucy9kYXRhL3B1YmxpYyIpOwoKdmFyIF9kZWZhdWx0X2NvbmZpZ3MgPSByZXF1aXJlKCIuL3V0aWwvZGVmYXVsdF9jb25maWdzIik7Cgp2YXIgX2pvYl9zZXJ2aWNlID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vc2VydmljZXMvam9iX3NlcnZpY2UiKTsKCnZhciBfam9iX3J1bm5lciA9IHJlcXVpcmUoIi4uL2pvYl9ydW5uZXIiKTsKCnZhciBfbmV3X2pvYiA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uL2NvbW1vbi9jb25zdGFudHMvbmV3X2pvYiIpOwoKdmFyIF9nZW5lcmFsID0gcmVxdWlyZSgiLi91dGlsL2dlbmVyYWwiKTsKCnZhciBfcGFyc2VfaW50ZXJ2YWwgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi9jb21tb24vdXRpbC9wYXJzZV9pbnRlcnZhbCIpOwoKdmFyIF9jYWxlbmRhcl9zZXJ2aWNlID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vc2VydmljZXMvY2FsZW5kYXJfc2VydmljZSIpOwoKZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgewogIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsKICBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHsKICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgIGFycjJbaV0gPSBhcnJbaV07CiAgICB9CgogICAgcmV0dXJuIGFycjI7CiAgfQp9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7CiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogIH0KfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgewogIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07CiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7CiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7CiAgICBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsKICB9Cn0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsKICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsKICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7CiAgcmV0dXJuIENvbnN0cnVjdG9yOwp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKdmFyIEpvYkNyZWF0b3IgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBKb2JDcmVhdG9yKGluZGV4UGF0dGVybiwgc2F2ZWRTZWFyY2gsIHF1ZXJ5KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSm9iQ3JlYXRvcik7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfdHlwZSIsIF9uZXdfam9iLkpPQl9UWVBFLlNJTkdMRV9NRVRSSUMpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX2luZGV4UGF0dGVybiIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfc2F2ZWRTZWFyY2giLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX2luZGV4UGF0dGVyblRpdGxlIiwgJycpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX2pvYl9jb25maWciLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX2NhbGVuZGFycyIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfZGF0YWZlZWRfY29uZmlnIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9kZXRlY3RvcnMiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX2luZmx1ZW5jZXJzIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9idWNrZXRTcGFuTXMiLCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl91c2VEZWRpY2F0ZWRJbmRleCIsIGZhbHNlKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9zdGFydCIsIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX2VuZCIsIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX3N1YnNjcmliZXJzIiwgW10pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX2FnZ3MiLCBbXSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfZmllbGRzIiwgW10pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX3NjcmlwdEZpZWxkcyIsIFtdKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9hZ2dyZWdhdGlvbkZpZWxkcyIsIFtdKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9zcGFyc2VEYXRhIiwgZmFsc2UpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX3N0b3BBbGxSZWZyZXNoUG9sbHMiLCB7CiAgICAgIHN0b3A6IGZhbHNlCiAgICB9KTsKCiAgICB0aGlzLl9pbmRleFBhdHRlcm4gPSBpbmRleFBhdHRlcm47CiAgICB0aGlzLl9zYXZlZFNlYXJjaCA9IHNhdmVkU2VhcmNoOwogICAgdGhpcy5faW5kZXhQYXR0ZXJuVGl0bGUgPSBpbmRleFBhdHRlcm4udGl0bGU7CiAgICB0aGlzLl9qb2JfY29uZmlnID0gKDAsIF9kZWZhdWx0X2NvbmZpZ3MuY3JlYXRlRW1wdHlKb2IpKCk7CiAgICB0aGlzLl9jYWxlbmRhcnMgPSBbXTsKICAgIHRoaXMuX2RhdGFmZWVkX2NvbmZpZyA9ICgwLCBfZGVmYXVsdF9jb25maWdzLmNyZWF0ZUVtcHR5RGF0YWZlZWQpKHRoaXMuX2luZGV4UGF0dGVyblRpdGxlKTsKICAgIHRoaXMuX2RldGVjdG9ycyA9IHRoaXMuX2pvYl9jb25maWcuYW5hbHlzaXNfY29uZmlnLmRldGVjdG9yczsKICAgIHRoaXMuX2luZmx1ZW5jZXJzID0gdGhpcy5fam9iX2NvbmZpZy5hbmFseXNpc19jb25maWcuaW5mbHVlbmNlcnM7CgogICAgaWYgKHR5cGVvZiBpbmRleFBhdHRlcm4udGltZUZpZWxkTmFtZSA9PT0gJ3N0cmluZycpIHsKICAgICAgdGhpcy5fam9iX2NvbmZpZy5kYXRhX2Rlc2NyaXB0aW9uLnRpbWVfZmllbGQgPSBpbmRleFBhdHRlcm4udGltZUZpZWxkTmFtZTsKICAgIH0KCiAgICB0aGlzLl9kYXRhZmVlZF9jb25maWcucXVlcnkgPSBxdWVyeTsKICB9CgogIF9jcmVhdGVDbGFzcyhKb2JDcmVhdG9yLCBbewogICAga2V5OiAiX2FkZERldGVjdG9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkRGV0ZWN0b3IoZGV0ZWN0b3IsIGFnZywgZmllbGQpIHsKICAgICAgdGhpcy5fZGV0ZWN0b3JzLnB1c2goZGV0ZWN0b3IpOwoKICAgICAgdGhpcy5fYWdncy5wdXNoKGFnZyk7CgogICAgICB0aGlzLl9maWVsZHMucHVzaChmaWVsZCk7CgogICAgICB0aGlzLl91cGRhdGVTcGFyc2VEYXRhRGV0ZWN0b3JzKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2VkaXREZXRlY3RvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2VkaXREZXRlY3RvcihkZXRlY3RvciwgYWdnLCBmaWVsZCwgaW5kZXgpIHsKICAgICAgaWYgKHRoaXMuX2RldGVjdG9yc1tpbmRleF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuX2RldGVjdG9yc1tpbmRleF0gPSBkZXRlY3RvcjsKICAgICAgICB0aGlzLl9hZ2dzW2luZGV4XSA9IGFnZzsKICAgICAgICB0aGlzLl9maWVsZHNbaW5kZXhdID0gZmllbGQ7CgogICAgICAgIHRoaXMuX3VwZGF0ZVNwYXJzZURhdGFEZXRlY3RvcnMoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIl9yZW1vdmVEZXRlY3RvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZURldGVjdG9yKGluZGV4KSB7CiAgICAgIHRoaXMuX2RldGVjdG9ycy5zcGxpY2UoaW5kZXgsIDEpOwoKICAgICAgdGhpcy5fYWdncy5zcGxpY2UoaW5kZXgsIDEpOwoKICAgICAgdGhpcy5fZmllbGRzLnNwbGljZShpbmRleCwgMSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlQWxsRGV0ZWN0b3JzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVBbGxEZXRlY3RvcnMoKSB7CiAgICAgIHRoaXMuX2RldGVjdG9ycy5sZW5ndGggPSAwOwogICAgICB0aGlzLl9hZ2dzLmxlbmd0aCA9IDA7CiAgICAgIHRoaXMuX2ZpZWxkcy5sZW5ndGggPSAwOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEFnZ3JlZ2F0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBZ2dyZWdhdGlvbihpbmRleCkgewogICAgICB2YXIgYWdnID0gdGhpcy5fYWdnc1tpbmRleF07CiAgICAgIHJldHVybiBhZ2cgIT09IHVuZGVmaW5lZCA/IGFnZyA6IG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0RmllbGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpZWxkKGluZGV4KSB7CiAgICAgIHZhciBmaWVsZCA9IHRoaXMuX2ZpZWxkc1tpbmRleF07CiAgICAgIHJldHVybiBmaWVsZCAhPT0gdW5kZWZpbmVkID8gZmllbGQgOiBudWxsOwogICAgfQogIH0sIHsKICAgIGtleTogIl9zZXRCdWNrZXRTcGFuTXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRCdWNrZXRTcGFuTXMoYnVja2V0U3BhbikgewogICAgICB2YXIgYnMgPSAoMCwgX3BhcnNlX2ludGVydmFsLnBhcnNlSW50ZXJ2YWwpKGJ1Y2tldFNwYW4pOwogICAgICB0aGlzLl9idWNrZXRTcGFuTXMgPSBicyA9PT0gbnVsbCA/IDAgOiBicy5hc01pbGxpc2Vjb25kcygpOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZEluZmx1ZW5jZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEluZmx1ZW5jZXIoaW5mbHVlbmNlcikgewogICAgICBpZiAodGhpcy5faW5mbHVlbmNlcnMuaW5jbHVkZXMoaW5mbHVlbmNlcikgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy5faW5mbHVlbmNlcnMucHVzaChpbmZsdWVuY2VyKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJlbW92ZUluZmx1ZW5jZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUluZmx1ZW5jZXIoaW5mbHVlbmNlcikgewogICAgICB2YXIgaWR4ID0gdGhpcy5faW5mbHVlbmNlcnMuaW5kZXhPZihpbmZsdWVuY2VyKTsKCiAgICAgIGlmIChpZHggIT09IC0xKSB7CiAgICAgICAgdGhpcy5faW5mbHVlbmNlcnMuc3BsaWNlKGlkeCwgMSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW1vdmVBbGxJbmZsdWVuY2VycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQWxsSW5mbHVlbmNlcnMoKSB7CiAgICAgIHRoaXMuX2luZmx1ZW5jZXJzLmxlbmd0aCA9IDA7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkQ2F0ZWdvcml6YXRpb25GaWx0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENhdGVnb3JpemF0aW9uRmlsdGVyKGZpbHRlcikgewogICAgICBpZiAodGhpcy5fam9iX2NvbmZpZy5hbmFseXNpc19jb25maWcuY2F0ZWdvcml6YXRpb25fZmlsdGVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5fam9iX2NvbmZpZy5hbmFseXNpc19jb25maWcuY2F0ZWdvcml6YXRpb25fZmlsdGVycyA9IFtdOwogICAgICB9CgogICAgICB2YXIgZmlsdGVycyA9IHRoaXMuX2pvYl9jb25maWcuYW5hbHlzaXNfY29uZmlnLmNhdGVnb3JpemF0aW9uX2ZpbHRlcnM7CgogICAgICBpZiAoZmlsdGVycy5pbmNsdWRlcyhmaWx0ZXIpID09PSBmYWxzZSkgewogICAgICAgIGZpbHRlcnMucHVzaChmaWx0ZXIpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlQ2F0ZWdvcml6YXRpb25GaWx0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUNhdGVnb3JpemF0aW9uRmlsdGVyKGZpbHRlcikgewogICAgICB2YXIgZmlsdGVycyA9IHRoaXMuX2pvYl9jb25maWcuYW5hbHlzaXNfY29uZmlnLmNhdGVnb3JpemF0aW9uX2ZpbHRlcnM7CgogICAgICBpZiAoZmlsdGVycyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdmFyIGlkeCA9IGZpbHRlcnMuaW5kZXhPZihmaWx0ZXIpOwoKICAgICAgICBpZiAoaWR4ICE9PSAtMSkgewogICAgICAgICAgZmlsdGVycy5zcGxpY2UoaWR4LCAxKTsKICAgICAgICB9CgogICAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgdGhpcy5yZW1vdmVDYXRlZ29yaXphdGlvbkZpbHRlcnMoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW1vdmVDYXRlZ29yaXphdGlvbkZpbHRlcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUNhdGVnb3JpemF0aW9uRmlsdGVycygpIHsKICAgICAgZGVsZXRlIHRoaXMuX2pvYl9jb25maWcuYW5hbHlzaXNfY29uZmlnLmNhdGVnb3JpemF0aW9uX2ZpbHRlcnM7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3VwZGF0ZVNwYXJzZURhdGFEZXRlY3RvcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVTcGFyc2VEYXRhRGV0ZWN0b3JzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOyAvLyBsb29wIHRocm91Z2ggZWFjaCBkZXRlY3RvciwgaWYgdGhlIGFnZ3JlZ2F0aW9uIGluIHRoZSBjb3JyZXNwb25kaW5nIGRldGVjdG9yIGluZGV4IGlzIGEgY291bnQgb3Igc3VtCiAgICAgIC8vIGNoYW5nZSB0aGUgZGV0ZWN0b3IgdG8gYmUgYSBub24temVyIG9yIG5vbi1udWxsIGNvdW50IG9yIHN1bS4KICAgICAgLy8gbm90ZSwgdGhlIGFnZ3JlZ2F0aW9ucyB3aWxsIGFsd2F5cyBiZSBhIHN0YW5kYXJkIGNvdW50IG9yIHN1bSBhbmQgbm90IGEgbm9uLW51bGwgb3Igbm9uLXplcm8gdmVyc2lvbgoKCiAgICAgIHRoaXMuX2RldGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgc3dpdGNoIChfdGhpcy5fYWdnc1tpXS5pZCkgewogICAgICAgICAgY2FzZSBfYWdncmVnYXRpb25fdHlwZXMuTUxfSk9CX0FHR1JFR0FUSU9OLkNPVU5UOgogICAgICAgICAgICBkLmZ1bmN0aW9uID0gX3RoaXMuX3NwYXJzZURhdGEgPyBfYWdncmVnYXRpb25fdHlwZXMuTUxfSk9CX0FHR1JFR0FUSU9OLk5PTl9aRVJPX0NPVU5UIDogX2FnZ3JlZ2F0aW9uX3R5cGVzLk1MX0pPQl9BR0dSRUdBVElPTi5DT1VOVDsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSBfYWdncmVnYXRpb25fdHlwZXMuTUxfSk9CX0FHR1JFR0FUSU9OLkhJR0hfQ09VTlQ6CiAgICAgICAgICAgIGQuZnVuY3Rpb24gPSBfdGhpcy5fc3BhcnNlRGF0YSA/IF9hZ2dyZWdhdGlvbl90eXBlcy5NTF9KT0JfQUdHUkVHQVRJT04uSElHSF9OT05fWkVST19DT1VOVCA6IF9hZ2dyZWdhdGlvbl90eXBlcy5NTF9KT0JfQUdHUkVHQVRJT04uSElHSF9DT1VOVDsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSBfYWdncmVnYXRpb25fdHlwZXMuTUxfSk9CX0FHR1JFR0FUSU9OLkxPV19DT1VOVDoKICAgICAgICAgICAgZC5mdW5jdGlvbiA9IF90aGlzLl9zcGFyc2VEYXRhID8gX2FnZ3JlZ2F0aW9uX3R5cGVzLk1MX0pPQl9BR0dSRUdBVElPTi5MT1dfTk9OX1pFUk9fQ09VTlQgOiBfYWdncmVnYXRpb25fdHlwZXMuTUxfSk9CX0FHR1JFR0FUSU9OLkxPV19DT1VOVDsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSBfYWdncmVnYXRpb25fdHlwZXMuTUxfSk9CX0FHR1JFR0FUSU9OLlNVTToKICAgICAgICAgICAgZC5mdW5jdGlvbiA9IF90aGlzLl9zcGFyc2VEYXRhID8gX2FnZ3JlZ2F0aW9uX3R5cGVzLk1MX0pPQl9BR0dSRUdBVElPTi5OT05fTlVMTF9TVU0gOiBfYWdncmVnYXRpb25fdHlwZXMuTUxfSk9CX0FHR1JFR0FUSU9OLlNVTTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSBfYWdncmVnYXRpb25fdHlwZXMuTUxfSk9CX0FHR1JFR0FUSU9OLkhJR0hfU1VNOgogICAgICAgICAgICBkLmZ1bmN0aW9uID0gX3RoaXMuX3NwYXJzZURhdGEgPyBfYWdncmVnYXRpb25fdHlwZXMuTUxfSk9CX0FHR1JFR0FUSU9OLkhJR0hfTk9OX05VTExfU1VNIDogX2FnZ3JlZ2F0aW9uX3R5cGVzLk1MX0pPQl9BR0dSRUdBVElPTi5ISUdIX1NVTTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSBfYWdncmVnYXRpb25fdHlwZXMuTUxfSk9CX0FHR1JFR0FUSU9OLkxPV19TVU06CiAgICAgICAgICAgIGQuZnVuY3Rpb24gPSBfdGhpcy5fc3BhcnNlRGF0YSA/IF9hZ2dyZWdhdGlvbl90eXBlcy5NTF9KT0JfQUdHUkVHQVRJT04uTE9XX05PTl9OVUxMX1NVTSA6IF9hZ2dyZWdhdGlvbl90eXBlcy5NTF9KT0JfQUdHUkVHQVRJT04uTE9XX1NVTTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICAgIC8qKgogICAgICogRXh0ZW5kcyBhc3NpZ25lZCBjYWxlbmRhcnMgd2l0aCBjcmVhdGVkIGpvYiBpZC4KICAgICAqIEBwcml2YXRlCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiX3VwZGF0ZUNhbGVuZGFycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZUNhbGVuZGFycygpIHsKICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sIF9kaWRJdGVyYXRvckVycm9yLCBfaXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yLCBfc3RlcCwgY2FsZW5kYXI7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIF91cGRhdGVDYWxlbmRhcnMkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghKHRoaXMuX2NhbGVuZGFycy5sZW5ndGggPT09IDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTsKICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNTsKICAgICAgICAgICAgICBfaXRlcmF0b3IgPSB0aGlzLl9jYWxlbmRhcnNbU3ltYm9sLml0ZXJhdG9yXSgpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYWxlbmRhciA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKF9jYWxlbmRhcl9zZXJ2aWNlLm1sQ2FsZW5kYXJTZXJ2aWNlLmFzc2lnbk5ld0pvYklkKGNhbGVuZGFyLCB0aGlzLmpvYklkKSk7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNjsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDUpOwogICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTsKICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IF9jb250ZXh0LnQwOwoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjA7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIxOwoKICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjM7CgogICAgICAgICAgICAgIGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7CgogICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goMjMpOwoKICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDIwKTsKCiAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMsIFtbNSwgMTYsIDIwLCAyOF0sIFsyMSwsIDIzLCAyN11dKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRUaW1lUmFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRpbWVSYW5nZShzdGFydCwgZW5kKSB7CiAgICAgIHRoaXMuX3N0YXJ0ID0gc3RhcnQ7CiAgICAgIHRoaXMuX2VuZCA9IGVuZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGVBbmRTdGFydEpvYiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQW5kU3RhcnRKb2IoKSB7CiAgICAgIHZhciBqb2JSdW5uZXI7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gY3JlYXRlQW5kU3RhcnRKb2IkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLmNyZWF0ZUpvYigpKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLmNyZWF0ZURhdGFmZWVkKCkpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuc3RhcnREYXRhZmVlZCgpKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBqb2JSdW5uZXIgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgam9iUnVubmVyKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMTsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQyLnQwOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMsIFtbMCwgMTFdXSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlSm9iIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVKb2IoKSB7CiAgICAgIHZhciBfcmVmLCBzdWNjZXNzLCByZXNwOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBjcmVhdGVKb2IkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChfam9iX3NlcnZpY2UubWxKb2JTZXJ2aWNlLnNhdmVOZXdKb2IodGhpcy5fam9iX2NvbmZpZykpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9yZWYgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBzdWNjZXNzID0gX3JlZi5zdWNjZXNzOwogICAgICAgICAgICAgIHJlc3AgPSBfcmVmLnJlc3A7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAodGhpcy5fdXBkYXRlQ2FsZW5kYXJzKCkpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGlmICghKHN1Y2Nlc3MgPT09IHRydWUpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgcmVzcCk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIHRocm93IHJlc3A7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTU7CiAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIHRocm93IF9jb250ZXh0My50MDsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzLCBbWzAsIDE1XV0pOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZURhdGFmZWVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVEYXRhZmVlZCgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBjcmVhdGVEYXRhZmVlZCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKF9qb2Jfc2VydmljZS5tbEpvYlNlcnZpY2Uuc2F2ZU5ld0RhdGFmZWVkKHRoaXMuX2RhdGFmZWVkX2NvbmZpZywgdGhpcy5fam9iX2NvbmZpZy5qb2JfaWQpKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ0LnNlbnQpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gNjsKICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQ0LnQwOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcywgW1swLCA2XV0pOwogICAgfSAvLyBjcmVhdGUgYSBqb2JSdW5uZXIgaW5zdGFuY2UsIHN0YXJ0IGl0IGFuZCByZXR1cm4gaXQKCiAgfSwgewogICAga2V5OiAic3RhcnREYXRhZmVlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnREYXRhZmVlZCgpIHsKICAgICAgdmFyIGpvYlJ1bm5lcjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBzdGFydERhdGFmZWVkJChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBqb2JSdW5uZXIgPSBuZXcgX2pvYl9ydW5uZXIuSm9iUnVubmVyKHRoaXMpOwogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGpvYlJ1bm5lci5zdGFydERhdGFmZWVkKCkpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBqb2JSdW5uZXIpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAic3Vic2NyaWJlVG9Qcm9ncmVzcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3Vic2NyaWJlVG9Qcm9ncmVzcyhmdW5jKSB7CiAgICAgIHRoaXMuX3N1YnNjcmliZXJzLnB1c2goZnVuYyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZm9yY2VTdG9wUmVmcmVzaFBvbGxzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JjZVN0b3BSZWZyZXNoUG9sbHMoKSB7CiAgICAgIHRoaXMuX3N0b3BBbGxSZWZyZXNoUG9sbHMuc3RvcCA9IHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3NldEN1c3RvbVNldHRpbmciLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRDdXN0b21TZXR0aW5nKHNldHRpbmcsIHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgewogICAgICAgIC8vIGlmIG51bGwgaXMgcGFzc2VkIGluLCBkZWxldGUgdGhlIGN1c3RvbSBzZXR0aW5nCiAgICAgICAgaWYgKHRoaXMuX2pvYl9jb25maWcuY3VzdG9tX3NldHRpbmdzICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fam9iX2NvbmZpZy5jdXN0b21fc2V0dGluZ3Nbc2V0dGluZ10gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgZGVsZXRlIHRoaXMuX2pvYl9jb25maWcuY3VzdG9tX3NldHRpbmdzW3NldHRpbmddOwoKICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLl9qb2JfY29uZmlnLmN1c3RvbV9zZXR0aW5ncykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIC8vIGNsZWFuIHVwIGN1c3RvbV9zZXR0aW5ncyBpZiB0aGVyZSdzIG5vdGhpbmcgZWxzZSBpbiB0aGVyZQogICAgICAgICAgICBkZWxldGUgdGhpcy5fam9iX2NvbmZpZy5jdXN0b21fc2V0dGluZ3M7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLl9qb2JfY29uZmlnLmN1c3RvbV9zZXR0aW5ncyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAvLyBpZiBjdXN0b21fc2V0dGluZ3MgZG9lc24ndCBleGlzdCwgY3JlYXRlIGl0LgogICAgICAgICAgdGhpcy5fam9iX2NvbmZpZy5jdXN0b21fc2V0dGluZ3MgPSBfZGVmaW5lUHJvcGVydHkoe30sIHNldHRpbmcsIHZhbHVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gQHRzLWlnbm9yZQogICAgICAgICAgdGhpcy5fam9iX2NvbmZpZy5jdXN0b21fc2V0dGluZ3Nbc2V0dGluZ10gPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJfZ2V0Q3VzdG9tU2V0dGluZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldEN1c3RvbVNldHRpbmcoc2V0dGluZykgewogICAgICBpZiAodGhpcy5fam9iX2NvbmZpZy5jdXN0b21fc2V0dGluZ3MgIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9qb2JfY29uZmlnLmN1c3RvbV9zZXR0aW5nc1tzZXR0aW5nXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX2pvYl9jb25maWcuY3VzdG9tX3NldHRpbmdzW3NldHRpbmddOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfb3ZlcnJpZGVDb25maWdzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfb3ZlcnJpZGVDb25maWdzKGpvYiwgZGF0YWZlZWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXMsCiAgICAgICAgICBfdGhpcyRfZGF0YWZlZWRfY29uZmksCiAgICAgICAgICBfdGhpcyRfZGF0YWZlZWRfY29uZmkyOwoKICAgICAgdGhpcy5fam9iX2NvbmZpZyA9IGpvYjsKICAgICAgdGhpcy5fZGF0YWZlZWRfY29uZmlnID0gZGF0YWZlZWQ7CiAgICAgIHRoaXMuX2RldGVjdG9ycyA9IHRoaXMuX2pvYl9jb25maWcuYW5hbHlzaXNfY29uZmlnLmRldGVjdG9yczsKICAgICAgdGhpcy5faW5mbHVlbmNlcnMgPSB0aGlzLl9qb2JfY29uZmlnLmFuYWx5c2lzX2NvbmZpZy5pbmZsdWVuY2VyczsKCiAgICAgIGlmICh0aGlzLl9qb2JfY29uZmlnLmdyb3VwcyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5fam9iX2NvbmZpZy5ncm91cHMgPSBbXTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuX2pvYl9jb25maWcuYW5hbHlzaXNfY29uZmlnLmluZmx1ZW5jZXJzICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLl9qb2JfY29uZmlnLmFuYWx5c2lzX2NvbmZpZy5pbmZsdWVuY2Vycy5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMyLmFkZEluZmx1ZW5jZXIoaSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLl9qb2JfY29uZmlnLnJlc3VsdHNfaW5kZXhfbmFtZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuX2pvYl9jb25maWcucmVzdWx0c19pbmRleF9uYW1lICE9PSBfbmV3X2pvYi5TSEFSRURfUkVTVUxUU19JTkRFWF9OQU1FKSB7CiAgICAgICAgdGhpcy51c2VEZWRpY2F0ZWRJbmRleCA9IHRydWU7CiAgICAgIH0KCiAgICAgIHRoaXMuX3NwYXJzZURhdGEgPSAoMCwgX2dlbmVyYWwuaXNTcGFyc2VEYXRhSm9iKShqb2IsIGRhdGFmZWVkKTsKICAgICAgdGhpcy5fc2NyaXB0RmllbGRzID0gW107CgogICAgICBpZiAodGhpcy5fZGF0YWZlZWRfY29uZmlnLnNjcmlwdF9maWVsZHMgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuX3NjcmlwdEZpZWxkcyA9IE9iamVjdC5rZXlzKHRoaXMuX2RhdGFmZWVkX2NvbmZpZy5zY3JpcHRfZmllbGRzKS5tYXAoZnVuY3Rpb24gKGYpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlkOiBmLAogICAgICAgICAgICBuYW1lOiBmLAogICAgICAgICAgICB0eXBlOiBfcHVibGljLkVTX0ZJRUxEX1RZUEVTLktFWVdPUkQsCiAgICAgICAgICAgIGFnZ3JlZ2F0YWJsZTogdHJ1ZQogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5fYWdncmVnYXRpb25GaWVsZHMgPSBbXTsKICAgICAgdmFyIGJ1Y2tldHMgPSAoKF90aGlzJF9kYXRhZmVlZF9jb25maSA9IHRoaXMuX2RhdGFmZWVkX2NvbmZpZy5hZ2dyZWdhdGlvbnMpID09PSBudWxsIHx8IF90aGlzJF9kYXRhZmVlZF9jb25maSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkX2RhdGFmZWVkX2NvbmZpLmJ1Y2tldHMpIHx8ICgoX3RoaXMkX2RhdGFmZWVkX2NvbmZpMiA9IHRoaXMuX2RhdGFmZWVkX2NvbmZpZy5hZ2dzKSA9PT0gbnVsbCB8fCBfdGhpcyRfZGF0YWZlZWRfY29uZmkyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRfZGF0YWZlZWRfY29uZmkyLmJ1Y2tldHMpOwoKICAgICAgaWYgKGJ1Y2tldHMgIT09IHVuZGVmaW5lZCkgewogICAgICAgICgwLCBfZ2VuZXJhbC5jb2xsZWN0QWdncykoYnVja2V0cywgdGhpcy5fYWdncmVnYXRpb25GaWVsZHMpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAidHlwZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGV0ZWN0b3JzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fZGV0ZWN0b3JzOwogICAgfQogIH0sIHsKICAgIGtleTogImFnZ3JlZ2F0aW9uc0luRGV0ZWN0b3JzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fYWdnczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZ2dyZWdhdGlvbnMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9hZ2dzOwogICAgfQogIH0sIHsKICAgIGtleTogImZpZWxkcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2ZpZWxkczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJidWNrZXRTcGFuIiwKICAgIHNldDogZnVuY3Rpb24gc2V0KGJ1Y2tldFNwYW4pIHsKICAgICAgdGhpcy5fam9iX2NvbmZpZy5hbmFseXNpc19jb25maWcuYnVja2V0X3NwYW4gPSBidWNrZXRTcGFuOwoKICAgICAgdGhpcy5fc2V0QnVja2V0U3Bhbk1zKGJ1Y2tldFNwYW4pOwogICAgfSwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fam9iX2NvbmZpZy5hbmFseXNpc19jb25maWcuYnVja2V0X3NwYW47CiAgICB9CiAgfSwgewogICAga2V5OiAiYnVja2V0U3Bhbk1zIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fYnVja2V0U3Bhbk1zOwogICAgfQogIH0sIHsKICAgIGtleTogImluZmx1ZW5jZXJzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5faW5mbHVlbmNlcnM7CiAgICB9CiAgfSwgewogICAga2V5OiAiam9iSWQiLAogICAgc2V0OiBmdW5jdGlvbiBzZXQoam9iSWQpIHsKICAgICAgdGhpcy5fam9iX2NvbmZpZy5qb2JfaWQgPSBqb2JJZDsKICAgICAgdGhpcy5fZGF0YWZlZWRfY29uZmlnLmpvYl9pZCA9IGpvYklkOwogICAgICB0aGlzLl9kYXRhZmVlZF9jb25maWcuZGF0YWZlZWRfaWQgPSAiZGF0YWZlZWQtIi5jb25jYXQoam9iSWQpOwoKICAgICAgaWYgKHRoaXMuX3VzZURlZGljYXRlZEluZGV4KSB7CiAgICAgICAgdGhpcy5fam9iX2NvbmZpZy5yZXN1bHRzX2luZGV4X25hbWUgPSBqb2JJZDsKICAgICAgfQogICAgfSwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fam9iX2NvbmZpZy5qb2JfaWQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGF0YWZlZWRJZCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RhdGFmZWVkX2NvbmZpZy5kYXRhZmVlZF9pZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZXNjcmlwdGlvbiIsCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChkZXNjcmlwdGlvbikgewogICAgICB0aGlzLl9qb2JfY29uZmlnLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247CiAgICB9LAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9qb2JfY29uZmlnLmRlc2NyaXB0aW9uOwogICAgfQogIH0sIHsKICAgIGtleTogImdyb3VwcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2pvYl9jb25maWcuZ3JvdXBzOwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KGdyb3VwcykgewogICAgICB0aGlzLl9qb2JfY29uZmlnLmdyb3VwcyA9IGdyb3VwczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYWxlbmRhcnMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9jYWxlbmRhcnM7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQoY2FsZW5kYXJzKSB7CiAgICAgIHRoaXMuX2NhbGVuZGFycyA9IGNhbGVuZGFyczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtb2RlbFBsb3QiLAogICAgc2V0OiBmdW5jdGlvbiBzZXQoZW5hYmxlKSB7CiAgICAgIGlmIChlbmFibGUpIHsKICAgICAgICB0aGlzLl9qb2JfY29uZmlnLm1vZGVsX3Bsb3RfY29uZmlnID0gewogICAgICAgICAgZW5hYmxlZDogdHJ1ZQogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVsZXRlIHRoaXMuX2pvYl9jb25maWcubW9kZWxfcGxvdF9jb25maWc7CiAgICAgIH0KICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2pvYl9jb25maWcubW9kZWxfcGxvdF9jb25maWcgIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9qb2JfY29uZmlnLm1vZGVsX3Bsb3RfY29uZmlnLmVuYWJsZWQgPT09IHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAidXNlRGVkaWNhdGVkSW5kZXgiLAogICAgc2V0OiBmdW5jdGlvbiBzZXQoZW5hYmxlKSB7CiAgICAgIHRoaXMuX3VzZURlZGljYXRlZEluZGV4ID0gZW5hYmxlOwoKICAgICAgaWYgKGVuYWJsZSkgewogICAgICAgIHRoaXMuX2pvYl9jb25maWcucmVzdWx0c19pbmRleF9uYW1lID0gdGhpcy5fam9iX2NvbmZpZy5qb2JfaWQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVsZXRlIHRoaXMuX2pvYl9jb25maWcucmVzdWx0c19pbmRleF9uYW1lOwogICAgICB9CiAgICB9LAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl91c2VEZWRpY2F0ZWRJbmRleDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtb2RlbE1lbW9yeUxpbWl0IiwKICAgIHNldDogZnVuY3Rpb24gc2V0KG1tbCkgewogICAgICBpZiAobW1sICE9PSBudWxsKSB7CiAgICAgICAgdGhpcy5fam9iX2NvbmZpZy5hbmFseXNpc19saW1pdHMgPSB7CiAgICAgICAgICBtb2RlbF9tZW1vcnlfbGltaXQ6IG1tbAogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVsZXRlIHRoaXMuX2pvYl9jb25maWcuYW5hbHlzaXNfbGltaXRzOwogICAgICB9CiAgICB9LAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIGlmICh0aGlzLl9qb2JfY29uZmlnLmFuYWx5c2lzX2xpbWl0cyAmJiB0aGlzLl9qb2JfY29uZmlnLmFuYWx5c2lzX2xpbWl0cy5tb2RlbF9tZW1vcnlfbGltaXQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0aGlzLl9qb2JfY29uZmlnLmFuYWx5c2lzX2xpbWl0cy5tb2RlbF9tZW1vcnlfbGltaXQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdW1tYXJ5Q291bnRGaWVsZE5hbWUiLAogICAgc2V0OiBmdW5jdGlvbiBzZXQoZmllbGROYW1lKSB7CiAgICAgIGlmIChmaWVsZE5hbWUgIT09IG51bGwpIHsKICAgICAgICB0aGlzLl9qb2JfY29uZmlnLmFuYWx5c2lzX2NvbmZpZy5zdW1tYXJ5X2NvdW50X2ZpZWxkX25hbWUgPSBmaWVsZE5hbWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVsZXRlIHRoaXMuX2pvYl9jb25maWcuYW5hbHlzaXNfY29uZmlnLnN1bW1hcnlfY291bnRfZmllbGRfbmFtZTsKICAgICAgfQogICAgfSwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fam9iX2NvbmZpZy5hbmFseXNpc19jb25maWcuc3VtbWFyeV9jb3VudF9maWVsZF9uYW1lIHx8IG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2F0ZWdvcml6YXRpb25GaWVsZE5hbWUiLAogICAgc2V0OiBmdW5jdGlvbiBzZXQoZmllbGROYW1lKSB7CiAgICAgIGlmIChmaWVsZE5hbWUgIT09IG51bGwpIHsKICAgICAgICB0aGlzLl9qb2JfY29uZmlnLmFuYWx5c2lzX2NvbmZpZy5jYXRlZ29yaXphdGlvbl9maWVsZF9uYW1lID0gZmllbGROYW1lOwogICAgICB9IGVsc2UgewogICAgICAgIGRlbGV0ZSB0aGlzLl9qb2JfY29uZmlnLmFuYWx5c2lzX2NvbmZpZy5jYXRlZ29yaXphdGlvbl9maWVsZF9uYW1lOwogICAgICB9CiAgICB9LAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9qb2JfY29uZmlnLmFuYWx5c2lzX2NvbmZpZy5jYXRlZ29yaXphdGlvbl9maWVsZF9uYW1lIHx8IG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2F0ZWdvcml6YXRpb25GaWx0ZXJzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fam9iX2NvbmZpZy5hbmFseXNpc19jb25maWcuY2F0ZWdvcml6YXRpb25fZmlsdGVycyB8fCBudWxsOwogICAgfQogIH0sIHsKICAgIGtleTogInRpbWVGaWVsZE5hbWUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9qb2JfY29uZmlnLmRhdGFfZGVzY3JpcHRpb24udGltZV9maWVsZDsKICAgIH0sCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChmaWVsZE5hbWUpIHsKICAgICAgdGhpcy5fam9iX2NvbmZpZy5kYXRhX2Rlc2NyaXB0aW9uLnRpbWVfZmllbGQgPSBmaWVsZE5hbWU7CiAgICB9CiAgfSwgewogICAga2V5OiAic3BhcnNlRGF0YSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3NwYXJzZURhdGE7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQoc3BhcnNlRGF0YSkgewogICAgICB0aGlzLl9zcGFyc2VEYXRhID0gc3BhcnNlRGF0YTsKCiAgICAgIHRoaXMuX3VwZGF0ZVNwYXJzZURhdGFEZXRlY3RvcnMoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdGFydCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0OwogICAgfQogIH0sIHsKICAgIGtleTogImVuZCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2VuZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJxdWVyeSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RhdGFmZWVkX2NvbmZpZy5xdWVyeTsKICAgIH0sCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChxdWVyeSkgewogICAgICB0aGlzLl9kYXRhZmVlZF9jb25maWcucXVlcnkgPSBxdWVyeTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJxdWVyeURlbGF5IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fZGF0YWZlZWRfY29uZmlnLnF1ZXJ5X2RlbGF5IHx8IG51bGw7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQocXVlcnlEZWxheSkgewogICAgICBpZiAocXVlcnlEZWxheSAhPT0gbnVsbCkgewogICAgICAgIHRoaXMuX2RhdGFmZWVkX2NvbmZpZy5xdWVyeV9kZWxheSA9IHF1ZXJ5RGVsYXk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVsZXRlIHRoaXMuX2RhdGFmZWVkX2NvbmZpZy5xdWVyeV9kZWxheTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImZyZXF1ZW5jeSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RhdGFmZWVkX2NvbmZpZy5mcmVxdWVuY3kgfHwgbnVsbDsKICAgIH0sCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChmcmVxdWVuY3kpIHsKICAgICAgaWYgKGZyZXF1ZW5jeSAhPT0gbnVsbCkgewogICAgICAgIHRoaXMuX2RhdGFmZWVkX2NvbmZpZy5mcmVxdWVuY3kgPSBmcmVxdWVuY3k7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVsZXRlIHRoaXMuX2RhdGFmZWVkX2NvbmZpZy5mcmVxdWVuY3k7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJzY3JvbGxTaXplIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fZGF0YWZlZWRfY29uZmlnLnNjcm9sbF9zaXplIHx8IG51bGw7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQoc2Nyb2xsU2l6ZSkgewogICAgICBpZiAoc2Nyb2xsU2l6ZSAhPT0gbnVsbCkgewogICAgICAgIHRoaXMuX2RhdGFmZWVkX2NvbmZpZy5zY3JvbGxfc2l6ZSA9IHNjcm9sbFNpemU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVsZXRlIHRoaXMuX2RhdGFmZWVkX2NvbmZpZy5zY3JvbGxfc2l6ZTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImluZGljZXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kYXRhZmVlZF9jb25maWcuaW5kaWNlczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzY3JpcHRGaWVsZHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9zY3JpcHRGaWVsZHM7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWdncmVnYXRpb25GaWVsZHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9hZ2dyZWdhdGlvbkZpZWxkczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRpdGlvbmFsRmllbGRzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aGlzLl9zY3JpcHRGaWVsZHMpLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5fYWdncmVnYXRpb25GaWVsZHMpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdWJzY3JpYmVycyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZXJzOwogICAgfQogIH0sIHsKICAgIGtleTogImpvYkNvbmZpZyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2pvYl9jb25maWc7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGF0YWZlZWRDb25maWciLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kYXRhZmVlZF9jb25maWc7CiAgICB9CiAgfSwgewogICAga2V5OiAic3RvcEFsbFJlZnJlc2hQb2xscyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3N0b3BBbGxSZWZyZXNoUG9sbHM7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlZEJ5IiwKICAgIHNldDogZnVuY3Rpb24gc2V0KGNyZWF0ZWRCeSkgewogICAgICB0aGlzLl9zZXRDdXN0b21TZXR0aW5nKCdjcmVhdGVkX2J5JywgY3JlYXRlZEJ5KTsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2dldEN1c3RvbVNldHRpbmcoJ2NyZWF0ZWRfYnknKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjdXN0b21VcmxzIiwKICAgIHNldDogZnVuY3Rpb24gc2V0KGN1c3RvbVVybHMpIHsKICAgICAgdGhpcy5fc2V0Q3VzdG9tU2V0dGluZygnY3VzdG9tX3VybHMnLCBjdXN0b21VcmxzKTsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2dldEN1c3RvbVNldHRpbmcoJ2N1c3RvbV91cmxzJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZm9ybWF0dGVkSm9iSnNvbiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuX2pvYl9jb25maWcsIG51bGwsIDIpOwogICAgfQogIH0sIHsKICAgIGtleTogImZvcm1hdHRlZERhdGFmZWVkSnNvbiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuX2RhdGFmZWVkX2NvbmZpZywgbnVsbCwgMik7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gSm9iQ3JlYXRvcjsKfSgpOwoKZXhwb3J0cy5Kb2JDcmVhdG9yID0gSm9iQ3JlYXRvcjs="},null]}