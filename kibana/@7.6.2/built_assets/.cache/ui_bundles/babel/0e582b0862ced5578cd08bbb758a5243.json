{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/siem/public/components/fields_browser/field_items.js","dependencies":[{"path":"x-pack/legacy/plugins/siem/public/components/fields_browser/field_items.js","mtime":1585205047436},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldEZpZWxkQ29sdW1ucyA9IGV4cG9ydHMuZ2V0RmllbGRJdGVtcyA9IGV4cG9ydHMuRGVzY3JpcHRpb24gPSB2b2lkIDA7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF9mcCA9IHJlcXVpcmUoImxvZGFzaC9mcCIpOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3JlYWN0QmVhdXRpZnVsRG5kID0gcmVxdWlyZSgicmVhY3QtYmVhdXRpZnVsLWRuZCIpOwoKdmFyIF9zdHlsZWRDb21wb25lbnRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJzdHlsZWQtY29tcG9uZW50cyIpKTsKCnZhciBfZHJhZ2dhYmxlX3dyYXBwZXIgPSByZXF1aXJlKCIuLi9kcmFnX2FuZF9kcm9wL2RyYWdnYWJsZV93cmFwcGVyIik7Cgp2YXIgX2Ryb3BwYWJsZV93cmFwcGVyID0gcmVxdWlyZSgiLi4vZHJhZ19hbmRfZHJvcC9kcm9wcGFibGVfd3JhcHBlciIpOwoKdmFyIF9oZWxwZXJzID0gcmVxdWlyZSgiLi4vZHJhZ19hbmRfZHJvcC9oZWxwZXJzIik7Cgp2YXIgX2ZpZWxkX2JhZGdlID0gcmVxdWlyZSgiLi4vZHJhZ2dhYmxlcy9maWVsZF9iYWRnZSIpOwoKdmFyIF9lbXB0eV92YWx1ZSA9IHJlcXVpcmUoIi4uL2VtcHR5X3ZhbHVlIik7Cgp2YXIgX2hlbHBlcnMyID0gcmVxdWlyZSgiLi4vZXZlbnRfZGV0YWlscy9oZWxwZXJzIik7Cgp2YXIgX3NlbGVjdGFibGVfdGV4dCA9IHJlcXVpcmUoIi4uL3NlbGVjdGFibGVfdGV4dCIpOwoKdmFyIF9kZWZhdWx0X2hlYWRlcnMgPSByZXF1aXJlKCIuLi90aW1lbGluZS9ib2R5L2NvbHVtbl9oZWFkZXJzL2RlZmF1bHRfaGVhZGVycyIpOwoKdmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCIuLi90aW1lbGluZS9ib2R5L2NvbnN0YW50cyIpOwoKdmFyIF90cnVuY2F0YWJsZV90ZXh0ID0gcmVxdWlyZSgiLi4vdHJ1bmNhdGFibGVfdGV4dCIpOwoKdmFyIF9maWVsZF9uYW1lID0gcmVxdWlyZSgiLi9maWVsZF9uYW1lIik7Cgp2YXIgaTE4biA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoIi4vdHJhbnNsYXRpb25zIikpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7CiAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgewogICAgcmV0dXJuIG9iajsKICB9IGVsc2UgewogICAgdmFyIG5ld09iaiA9IHt9OwoKICAgIGlmIChvYmogIT0gbnVsbCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsKICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OwoKICAgICAgICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBuZXdPYmouZGVmYXVsdCA9IG9iajsKICAgIHJldHVybiBuZXdPYmo7CiAgfQp9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBfZXh0ZW5kcygpIHsKICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgewogICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsKCiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgewogICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH07CgogIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgewogIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsKICBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHsKICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgIGFycjJbaV0gPSBhcnJbaV07CiAgICB9CgogICAgcmV0dXJuIGFycjI7CiAgfQp9Cgp2YXIgVHlwZUljb24gPSAoMCwgX3N0eWxlZENvbXBvbmVudHMuZGVmYXVsdCkoX2V1aS5FdWlJY29uKS53aXRoQ29uZmlnKHsKICBkaXNwbGF5TmFtZTogIlR5cGVJY29uIiwKICBjb21wb25lbnRJZDogInNjLTFpZHoyYmktMCIKfSkoWyJtYXJnaW4tbGVmdDo1cHg7cG9zaXRpb246cmVsYXRpdmU7dG9wOi0xcHg7Il0pOwpUeXBlSWNvbi5kaXNwbGF5TmFtZSA9ICdUeXBlSWNvbic7Cgp2YXIgRGVzY3JpcHRpb24gPSBfc3R5bGVkQ29tcG9uZW50cy5kZWZhdWx0LnNwYW4ud2l0aENvbmZpZyh7CiAgZGlzcGxheU5hbWU6ICJEZXNjcmlwdGlvbiIsCiAgY29tcG9uZW50SWQ6ICJzYy0xaWR6MmJpLTEiCn0pKFsidXNlci1zZWxlY3Q6dGV4dDt3aWR0aDoxNTBweDsiXSk7CgpleHBvcnRzLkRlc2NyaXB0aW9uID0gRGVzY3JpcHRpb247CkRlc2NyaXB0aW9uLmRpc3BsYXlOYW1lID0gJ0Rlc2NyaXB0aW9uJzsKLyoqCiAqIEFuIGl0ZW0gcmVuZGVyZWQgaW4gdGhlIHRhYmxlCiAqLwoKLyoqCiAqIFJldHVybnMgdGhlIGRyYWdnYWJsZSBmaWVsZHMsIHZhbHVlcywgYW5kIGRlc2NyaXB0aW9ucyBzaG93biB3aGVuIGEgdXNlciBleHBhbmRzIGFuIGV2ZW50CiAqLwoKdmFyIGdldEZpZWxkSXRlbXMgPSBmdW5jdGlvbiBnZXRGaWVsZEl0ZW1zKF9yZWYpIHsKICB2YXIgYnJvd3NlckZpZWxkcyA9IF9yZWYuYnJvd3NlckZpZWxkcywKICAgICAgY2F0ZWdvcnkgPSBfcmVmLmNhdGVnb3J5LAogICAgICBjYXRlZ29yeUlkID0gX3JlZi5jYXRlZ29yeUlkLAogICAgICBjb2x1bW5IZWFkZXJzID0gX3JlZi5jb2x1bW5IZWFkZXJzLAogICAgICBfcmVmJGhpZ2hsaWdodCA9IF9yZWYuaGlnaGxpZ2h0LAogICAgICBoaWdobGlnaHQgPSBfcmVmJGhpZ2hsaWdodCA9PT0gdm9pZCAwID8gJycgOiBfcmVmJGhpZ2hsaWdodCwKICAgICAgb25VcGRhdGVDb2x1bW5zID0gX3JlZi5vblVwZGF0ZUNvbHVtbnMsCiAgICAgIHRpbWVsaW5lSWQgPSBfcmVmLnRpbWVsaW5lSWQsCiAgICAgIHRvZ2dsZUNvbHVtbiA9IF9yZWYudG9nZ2xlQ29sdW1uOwogIHJldHVybiAoMCwgX2ZwLnVuaXFCeSkoJ25hbWUnLCBfdG9Db25zdW1hYmxlQXJyYXkoT2JqZWN0LnZhbHVlcyhjYXRlZ29yeSAhPSBudWxsICYmIGNhdGVnb3J5LmZpZWxkcyAhPSBudWxsID8gY2F0ZWdvcnkuZmllbGRzIDoge30pKSkubWFwKGZ1bmN0aW9uIChmaWVsZCkgewogICAgcmV0dXJuIHsKICAgICAgZGVzY3JpcHRpb246IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3NlbGVjdGFibGVfdGV4dC5TZWxlY3RhYmxlVGV4dCwgewogICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJmaWVsZC0iLmNvbmNhdChmaWVsZC5uYW1lLCAiLWRlc2NyaXB0aW9uIikKICAgICAgfSwgIiIuY29uY2F0KGZpZWxkLmRlc2NyaXB0aW9uIHx8ICgwLCBfZW1wdHlfdmFsdWUuZ2V0RW1wdHlWYWx1ZSkoKSwgIiAiKS5jb25jYXQoKDAsIF9oZWxwZXJzMi5nZXRFeGFtcGxlVGV4dCkoZmllbGQuZXhhbXBsZSkpKSwKICAgICAgZmllbGQ6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2Ryb3BwYWJsZV93cmFwcGVyLkRyb3BwYWJsZVdyYXBwZXIsIHsKICAgICAgICBkcm9wcGFibGVJZDogKDAsIF9oZWxwZXJzLmdldERyb3BwYWJsZUlkKSgiZmllbGQtYnJvd3Nlci1maWVsZC1pdGVtcy1maWVsZC1kcm9wcGFibGUtd3JhcHBlci0iLmNvbmNhdCh0aW1lbGluZUlkLCAiLSIpLmNvbmNhdChjYXRlZ29yeUlkLCAiLSIpLmNvbmNhdChmaWVsZC5uYW1lKSksCiAgICAgICAga2V5OiAiZmllbGQtYnJvd3Nlci1maWVsZC1pdGVtcy1maWVsZC1kcm9wcGFibGUtd3JhcHBlci0iLmNvbmNhdCh0aW1lbGluZUlkLCAiLSIpLmNvbmNhdChjYXRlZ29yeUlkLCAiLSIpLmNvbmNhdChmaWVsZC5uYW1lKSwKICAgICAgICBpc0Ryb3BEaXNhYmxlZDogdHJ1ZSwKICAgICAgICB0eXBlOiBfaGVscGVycy5EUkFHX1RZUEVfRklFTEQKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RCZWF1dGlmdWxEbmQuRHJhZ2dhYmxlLCB7CiAgICAgICAgZHJhZ2dhYmxlSWQ6ICgwLCBfaGVscGVycy5nZXREcmFnZ2FibGVGaWVsZElkKSh7CiAgICAgICAgICBjb250ZXh0SWQ6ICJmaWVsZC1icm93c2VyLWZpZWxkLWl0ZW1zLWZpZWxkLWRyYWdnYWJsZS0iLmNvbmNhdCh0aW1lbGluZUlkLCAiLSIpLmNvbmNhdChjYXRlZ29yeUlkLCAiLSIpLmNvbmNhdChmaWVsZC5uYW1lKSwKICAgICAgICAgIGZpZWxkSWQ6IGZpZWxkLm5hbWUgfHwgJycKICAgICAgICB9KSwKICAgICAgICBpbmRleDogMCwKICAgICAgICB0eXBlOiBfaGVscGVycy5EUkFHX1RZUEVfRklFTEQKICAgICAgfSwgZnVuY3Rpb24gKHByb3ZpZGVkLCBzbmFwc2hvdCkgewogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBfZXh0ZW5kcyh7fSwgcHJvdmlkZWQuZHJhZ2dhYmxlUHJvcHMsIHByb3ZpZGVkLmRyYWdIYW5kbGVQcm9wcywgewogICAgICAgICAgcmVmOiBwcm92aWRlZC5pbm5lclJlZiwKICAgICAgICAgIHN0eWxlOiBfb2JqZWN0U3ByZWFkKHt9LCBwcm92aWRlZC5kcmFnZ2FibGVQcm9wcy5zdHlsZSwgewogICAgICAgICAgICB6SW5kZXg6IDk5OTkKICAgICAgICAgIH0pCiAgICAgICAgfSksICFzbmFwc2hvdC5pc0RyYWdnaW5nID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgICAgICAgYWxpZ25JdGVtczogImNlbnRlciIsCiAgICAgICAgICBndXR0ZXJTaXplOiAibm9uZSIKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICAgIGdyb3c6IGZhbHNlCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRvb2xUaXAsIHsKICAgICAgICAgIGNvbnRlbnQ6IGkxOG4uVE9HR0xFX0NPTFVNTl9UT09MVElQCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNoZWNrYm94LCB7CiAgICAgICAgICBjaGVja2VkOiBjb2x1bW5IZWFkZXJzLmZpbmRJbmRleChmdW5jdGlvbiAoYykgewogICAgICAgICAgICByZXR1cm4gYy5pZCA9PT0gZmllbGQubmFtZTsKICAgICAgICAgIH0pICE9PSAtMSwKICAgICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJmaWVsZC0iLmNvbmNhdChmaWVsZC5uYW1lLCAiLWNoZWNrYm94IiksCiAgICAgICAgICBpZDogZmllbGQubmFtZSB8fCAnJywKICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHsKICAgICAgICAgICAgcmV0dXJuIHRvZ2dsZUNvbHVtbih7CiAgICAgICAgICAgICAgY29sdW1uSGVhZGVyVHlwZTogX2RlZmF1bHRfaGVhZGVycy5kZWZhdWx0Q29sdW1uSGVhZGVyVHlwZSwKICAgICAgICAgICAgICBpZDogZmllbGQubmFtZSB8fCAnJywKICAgICAgICAgICAgICB3aWR0aDogX2NvbnN0YW50cy5ERUZBVUxUX0NPTFVNTl9NSU5fV0lEVEgKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgICBncm93OiBmYWxzZQogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUb29sVGlwLCB7CiAgICAgICAgICBjb250ZW50OiBmaWVsZC50eXBlCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChUeXBlSWNvbiwgewogICAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImZpZWxkLSIuY29uY2F0KGZpZWxkLm5hbWUsICItaWNvbiIpLAogICAgICAgICAgdHlwZTogKDAsIF9oZWxwZXJzMi5nZXRJY29uRnJvbVR5cGUpKGZpZWxkLnR5cGUgfHwgJycpCiAgICAgICAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgICBncm93OiBmYWxzZQogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ZpZWxkX25hbWUuRmllbGROYW1lLCB7CiAgICAgICAgICBjYXRlZ29yeUlkOiBmaWVsZC5jYXRlZ29yeSB8fCBjYXRlZ29yeUlkLAogICAgICAgICAgY2F0ZWdvcnlDb2x1bW5zOiAoMCwgX2hlbHBlcnMyLmdldENvbHVtbnNXaXRoVGltZXN0YW1wKSh7CiAgICAgICAgICAgIGJyb3dzZXJGaWVsZHM6IGJyb3dzZXJGaWVsZHMsCiAgICAgICAgICAgIGNhdGVnb3J5OiBmaWVsZC5jYXRlZ29yeSB8fCBjYXRlZ29yeUlkCiAgICAgICAgICB9KSwKICAgICAgICAgIGZpZWxkSWQ6IGZpZWxkLm5hbWUgfHwgJycsCiAgICAgICAgICBoaWdobGlnaHQ6IGhpZ2hsaWdodCwKICAgICAgICAgIG9uVXBkYXRlQ29sdW1uczogb25VcGRhdGVDb2x1bW5zCiAgICAgICAgfSkpKSA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2RyYWdnYWJsZV93cmFwcGVyLkRyYWdFZmZlY3RzLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9maWVsZF9iYWRnZS5EcmFnZ2FibGVGaWVsZEJhZGdlLCB7CiAgICAgICAgICBmaWVsZElkOiBmaWVsZC5uYW1lIHx8ICcnCiAgICAgICAgfSkpKTsKICAgICAgfSkpLAogICAgICBmaWVsZElkOiBmaWVsZC5uYW1lIHx8ICcnCiAgICB9OwogIH0pOwp9OwovKioKICogUmV0dXJucyBhIHRhYmxlIGNvbHVtbiB0ZW1wbGF0ZSBwcm92aWRlZCB0byB0aGUgYEV1aUluTWVtb3J5VGFibGVgJ3MKICogYGNvbHVtbnNgIHByb3AKICovCgoKZXhwb3J0cy5nZXRGaWVsZEl0ZW1zID0gZ2V0RmllbGRJdGVtczsKCnZhciBnZXRGaWVsZENvbHVtbnMgPSBmdW5jdGlvbiBnZXRGaWVsZENvbHVtbnMoKSB7CiAgcmV0dXJuIFt7CiAgICBmaWVsZDogJ2ZpZWxkJywKICAgIG5hbWU6IGkxOG4uRklFTEQsCiAgICBzb3J0YWJsZTogdHJ1ZSwKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGZpZWxkLCBfKSB7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBmaWVsZCk7CiAgICB9LAogICAgd2lkdGg6ICcyNTBweCcKICB9LCB7CiAgICBmaWVsZDogJ2Rlc2NyaXB0aW9uJywKICAgIG5hbWU6IGkxOG4uREVTQ1JJUFRJT04sCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihkZXNjcmlwdGlvbiwgXykgewogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdHJ1bmNhdGFibGVfdGV4dC5UcnVuY2F0YWJsZVRleHQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUb29sVGlwLCB7CiAgICAgICAgcG9zaXRpb246ICJ0b3AiLAogICAgICAgIGNvbnRlbnQ6IGRlc2NyaXB0aW9uCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LmRlZmF1bHQuRnJhZ21lbnQsIG51bGwsIGRlc2NyaXB0aW9uKSkpOwogICAgfSwKICAgIHNvcnRhYmxlOiB0cnVlLAogICAgdHJ1bmNhdGVUZXh0OiB0cnVlLAogICAgd2lkdGg6ICc0MDBweCcKICB9XTsKfTsKCmV4cG9ydHMuZ2V0RmllbGRDb2x1bW5zID0gZ2V0RmllbGRDb2x1bW5zOw=="},null]}