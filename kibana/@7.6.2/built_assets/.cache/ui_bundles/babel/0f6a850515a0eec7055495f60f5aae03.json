{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/ml/public/application/timeseriesexplorer/components/timeseries_chart/timeseries_chart_annotations.js","dependencies":[{"path":"x-pack/legacy/plugins/ml/public/application/timeseriesexplorer/components/timeseries_chart/timeseries_chart_annotations.js","mtime":1585205046004},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldEFubm90YXRpb25CcnVzaCA9IGdldEFubm90YXRpb25CcnVzaDsKZXhwb3J0cy5nZXRBbm5vdGF0aW9uTGV2ZWxzID0gZ2V0QW5ub3RhdGlvbkxldmVsczsKZXhwb3J0cy5yZW5kZXJBbm5vdGF0aW9ucyA9IHJlbmRlckFubm90YXRpb25zOwpleHBvcnRzLmdldEFubm90YXRpb25XaWR0aCA9IGdldEFubm90YXRpb25XaWR0aDsKZXhwb3J0cy5oaWdobGlnaHRGb2N1c0NoYXJ0QW5ub3RhdGlvbiA9IGhpZ2hsaWdodEZvY3VzQ2hhcnRBbm5vdGF0aW9uOwpleHBvcnRzLnVuaGlnaGxpZ2h0Rm9jdXNDaGFydEFubm90YXRpb24gPSB1bmhpZ2hsaWdodEZvY3VzQ2hhcnRBbm5vdGF0aW9uOwpleHBvcnRzLkFOTk9UQVRJT05fTUFTS19JRCA9IHZvaWQgMDsKCnZhciBfZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiZDMiKSk7Cgp2YXIgX21vbWVudCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgibW9tZW50IikpOwoKdmFyIF9hbm5vdGF0aW9ucyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uL2NvbW1vbi9jb25zdGFudHMvYW5ub3RhdGlvbnMiKTsKCnZhciBfY2hhcnRfdG9vbHRpcF9zZXJ2aWNlID0gcmVxdWlyZSgiLi4vLi4vLi4vY29tcG9uZW50cy9jaGFydF90b29sdGlwL2NoYXJ0X3Rvb2x0aXBfc2VydmljZSIpOwoKdmFyIF9hbm5vdGF0aW9uc19zZXJ2aWNlID0gcmVxdWlyZSgiLi4vLi4vLi4vc2VydmljZXMvYW5ub3RhdGlvbnNfc2VydmljZSIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsKICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogewogICAgZGVmYXVsdDogb2JqCiAgfTsKfQovKgogKiBDb3B5cmlnaHQgRWxhc3RpY3NlYXJjaCBCLlYuIGFuZC9vciBsaWNlbnNlZCB0byBFbGFzdGljc2VhcmNoIEIuVi4gdW5kZXIgb25lCiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiBMaWNlbnNlZCB1bmRlciB0aGUgRWxhc3RpYyBMaWNlbnNlOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIEVsYXN0aWMgTGljZW5zZS4KICovCi8vIEB0cy1pZ25vcmUKCgp2YXIgQU5OT1RBVElPTl9NQVNLX0lEID0gJ21sQW5ub3RhdGlvbk1hc2snOyAvLyBnZXRBbm5vdGF0aW9uQnJ1c2goKSBpcyBleHBlY3RlZCB0byBiZSBjYWxsZWQgbGlrZSBnZXRBbm5vdGF0aW9uQnJ1c2guY2FsbCh0aGlzKQovLyBzbyBpdCBnZXRzIHBhc3NlZCBvbiB0aGUgY29udGV4dCBvZiB0aGUgY29tcG9uZW50IGl0IGdldHMgY2FsbGVkIGZyb20uCgpleHBvcnRzLkFOTk9UQVRJT05fTUFTS19JRCA9IEFOTk9UQVRJT05fTUFTS19JRDsKCmZ1bmN0aW9uIGdldEFubm90YXRpb25CcnVzaCgpIHsKICB2YXIgZm9jdXNYU2NhbGUgPSB0aGlzLmZvY3VzWFNjYWxlOwoKICB2YXIgYW5ub3RhdGVCcnVzaCA9IF9kLmRlZmF1bHQuc3ZnLmJydXNoKCkueChmb2N1c1hTY2FsZSkub24oJ2JydXNoZW5kJywgYnJ1c2hlbmQuYmluZCh0aGlzKSk7IC8vIGNhc3QgYSByZWZlcmVuY2UgdG8gdGhpcyBzbyB3ZSBnZXQgdGhlIGxhdGVzdCBzdGF0ZSB3aGVuIGJydXNoZW5kKCkgZ2V0cyBjYWxsZWQKCgogIGZ1bmN0aW9uIGJydXNoZW5kKCkgewogICAgdmFyIHNlbGVjdGVkSm9iID0gdGhpcy5wcm9wcy5zZWxlY3RlZEpvYjsgLy8gVFMgVE9ETyBtYWtlIHRoaXMgd29yayB3aXRoIHRoZSBhY3R1YWwgdHlwZXMuCgogICAgdmFyIGV4dGVudCA9IGFubm90YXRlQnJ1c2guZXh0ZW50KCk7CiAgICB2YXIgdGltZXN0YW1wID0gZXh0ZW50WzBdLmdldFRpbWUoKTsKICAgIHZhciBlbmRUaW1lc3RhbXAgPSBleHRlbnRbMV0uZ2V0VGltZSgpOwoKICAgIGlmICh0aW1lc3RhbXAgPT09IGVuZFRpbWVzdGFtcCkgewogICAgICBfYW5ub3RhdGlvbnNfc2VydmljZS5hbm5vdGF0aW9uJC5uZXh0KG51bGwpOwoKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBhbm5vdGF0aW9uID0gewogICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcCwKICAgICAgZW5kX3RpbWVzdGFtcDogZW5kVGltZXN0YW1wLAogICAgICBhbm5vdGF0aW9uOiAnJywKICAgICAgam9iX2lkOiBzZWxlY3RlZEpvYi5qb2JfaWQsCiAgICAgIHR5cGU6IF9hbm5vdGF0aW9ucy5BTk5PVEFUSU9OX1RZUEUuQU5OT1RBVElPTgogICAgfTsKCiAgICBfYW5ub3RhdGlvbnNfc2VydmljZS5hbm5vdGF0aW9uJC5uZXh0KGFubm90YXRpb24pOwogIH0KCiAgcmV0dXJuIGFubm90YXRlQnJ1c2g7Cn0gLy8gVXNlZCB0byByZXNvbHZlIG92ZXJsYXBwaW5nIGFubm90YXRpb25zIGluIHRoZSBVSS4KLy8gVGhlIHJldHVybmVkIGxldmVscyBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYSB2ZXJ0aWNhbCBvZmZzZXQuCgoKZnVuY3Rpb24gZ2V0QW5ub3RhdGlvbkxldmVscyhmb2N1c0Fubm90YXRpb25EYXRhKSB7CiAgdmFyIGxldmVscyA9IHt9OwogIGZvY3VzQW5ub3RhdGlvbkRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZCwgaSkgewogICAgaWYgKGQua2V5ICE9PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIGxvbmdlckFubm90YXRpb25zID0gZm9jdXNBbm5vdGF0aW9uRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGQyLCBpMikgewogICAgICAgIHJldHVybiBpMiA8IGk7CiAgICAgIH0pOwogICAgICBsZXZlbHNbZC5rZXldID0gbG9uZ2VyQW5ub3RhdGlvbnMucmVkdWNlKGZ1bmN0aW9uIChsZXZlbCwgZDIpIHsKICAgICAgICAvLyBGb3Igbm93IHdlIG9ubHkgc3VwcG9ydCBvdmVybGFwIHJlbW92YWwgZm9yIGFubm90YXRpb25zIHdoaWNoIGhhdmUgYm90aAogICAgICAgIC8vIGB0aW1lc3RhbXBgIGFuZCBgZW5kX3RpbWVzdGFtcGAgc2V0LgogICAgICAgIGlmIChkLmVuZF90aW1lc3RhbXAgPT09IHVuZGVmaW5lZCB8fCBkMi5lbmRfdGltZXN0YW1wID09PSB1bmRlZmluZWQgfHwgZDIua2V5ID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHJldHVybiBsZXZlbDsKICAgICAgICB9CgogICAgICAgIGlmICggLy8gZDIgaXMgY29tcGxldGVseSBiZWZvcmUgZAogICAgICAgIGQyLnRpbWVzdGFtcCA8IGQudGltZXN0YW1wICYmIGQyLmVuZF90aW1lc3RhbXAgPCBkLnRpbWVzdGFtcCB8fCAvLyBkMiBpcyBjb21wbGV0ZWx5IGFmdGVyIGQKICAgICAgICBkMi50aW1lc3RhbXAgPiBkLmVuZF90aW1lc3RhbXAgJiYgZDIuZW5kX3RpbWVzdGFtcCA+IGQuZW5kX3RpbWVzdGFtcCkgewogICAgICAgICAgcmV0dXJuIGxldmVsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGxldmVsc1tkMi5rZXldICsgMTsKICAgICAgfSwgMCk7CiAgICB9CiAgfSk7CiAgcmV0dXJuIGxldmVsczsKfQoKdmFyIEFOTk9UQVRJT05fREVGQVVMVF9MRVZFTCA9IDE7CnZhciBBTk5PVEFUSU9OX0xFVkVMX0hFSUdIVCA9IDI4Owp2YXIgQU5OT1RBVElPTl9VUFBFUl9SRUNUX01BUkdJTiA9IDA7CnZhciBBTk5PVEFUSU9OX1VQUEVSX1RFWFRfTUFSR0lOID0gLTc7CnZhciBBTk5PVEFUSU9OX01JTl9XSURUSCA9IDI7CnZhciBBTk5PVEFUSU9OX1JFQ1RfQk9SREVSX1JBRElVUyA9IDI7CnZhciBBTk5PVEFUSU9OX1RFWFRfVkVSVElDQUxfT0ZGU0VUID0gMjY7CnZhciBBTk5PVEFUSU9OX1RFWFRfUkVDVF9WRVJUSUNBTF9PRkZTRVQgPSAxMjsKdmFyIEFOTk9UQVRJT05fVEVYVF9SRUNUX1dJRFRIID0gMjQ7CnZhciBBTk5PVEFUSU9OX1RFWFRfUkVDVF9IRUlHSFQgPSAyMDsKCmZ1bmN0aW9uIHJlbmRlckFubm90YXRpb25zKGZvY3VzQ2hhcnQsIGZvY3VzQW5ub3RhdGlvbkRhdGEsIGZvY3VzWm9vbVBhbmVsSGVpZ2h0LCBmb2N1c0NoYXJ0SGVpZ2h0LCBmb2N1c1hTY2FsZSwgc2hvd0Fubm90YXRpb25zLCBzaG93Rm9jdXNDaGFydFRvb2x0aXApIHsKICB2YXIgdXBwZXJSZWN0TWFyZ2luID0gQU5OT1RBVElPTl9VUFBFUl9SRUNUX01BUkdJTjsKICB2YXIgdXBwZXJUZXh0TWFyZ2luID0gQU5OT1RBVElPTl9VUFBFUl9URVhUX01BUkdJTjsKICB2YXIgZHVyYXRpb25zID0ge307CiAgZm9jdXNBbm5vdGF0aW9uRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7CiAgICBpZiAoZC5rZXkgIT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgZHVyYXRpb24gPSAoZC5lbmRfdGltZXN0YW1wIHx8IDApIC0gZC50aW1lc3RhbXA7CiAgICAgIGR1cmF0aW9uc1tkLmtleV0gPSBkdXJhdGlvbjsKICAgIH0KICB9KTsgLy8gc29ydCBieSBkdXJhdGlvbgoKICBmb2N1c0Fubm90YXRpb25EYXRhLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgIGlmIChhLmtleSA9PT0gdW5kZWZpbmVkIHx8IGIua2V5ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgcmV0dXJuIGR1cmF0aW9uc1tiLmtleV0gLSBkdXJhdGlvbnNbYS5rZXldOwogIH0pOwogIHZhciBsZXZlbEhlaWdodCA9IEFOTk9UQVRJT05fTEVWRUxfSEVJR0hUOwogIHZhciBsZXZlbHMgPSBnZXRBbm5vdGF0aW9uTGV2ZWxzKGZvY3VzQW5ub3RhdGlvbkRhdGEpOwogIHZhciBhbm5vdGF0aW9ucyA9IGZvY3VzQ2hhcnQuc2VsZWN0KCcubWxBbm5vdGF0aW9ucycpLnNlbGVjdEFsbCgnZy5tbEFubm90YXRpb24nKS5kYXRhKGZvY3VzQW5ub3RhdGlvbkRhdGEgfHwgW10sIGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4gZC5faWQgfHwgJyc7CiAgfSk7CiAgYW5ub3RhdGlvbnMuZW50ZXIoKS5hcHBlbmQoJ2cnKS5jbGFzc2VkKCdtbEFubm90YXRpb24nLCB0cnVlKTsKICB2YXIgcmVjdHMgPSBhbm5vdGF0aW9ucy5zZWxlY3RBbGwoJy5tbEFubm90YXRpb25SZWN0JykuZGF0YShmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIFtkXTsKICB9KTsKICByZWN0cy5lbnRlcigpLmFwcGVuZCgncmVjdCcpLmF0dHIoJ3J4JywgQU5OT1RBVElPTl9SRUNUX0JPUkRFUl9SQURJVVMpLmF0dHIoJ3J5JywgQU5OT1RBVElPTl9SRUNUX0JPUkRFUl9SQURJVVMpLmNsYXNzZWQoJ21sQW5ub3RhdGlvblJlY3QnLCB0cnVlKS5hdHRyKCdtYXNrJywgInVybCgjIi5jb25jYXQoQU5OT1RBVElPTl9NQVNLX0lELCAiKSIpKS5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQpIHsKICAgIHNob3dGb2N1c0NoYXJ0VG9vbHRpcChkLCB0aGlzKTsKICB9KS5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gX2NoYXJ0X3Rvb2x0aXBfc2VydmljZS5tbENoYXJ0VG9vbHRpcFNlcnZpY2UuaGlkZSgpOwogIH0pLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7CiAgICAvLyBjbGVhciBhIHBvc3NpYmxlIGV4aXN0aW5nIGFubm90YXRpb24gc2V0IHVwIGZvciBlZGl0aW5nIGJlZm9yZSBzZXR0aW5nIHRoZSBuZXcgb25lLgogICAgLy8gdGhpcyBuZWVkcyB0byBiZSBkb25lIGV4cGxpY2l0bHkgaGVyZSBiZWNhdXNlIGEgbmV3IGFubm90YXRpb24gY3JlYXRlZCB1c2luZyB0aGUgYnJ1c2ggdG9vbAogICAgLy8gY291bGQgc3RpbGwgYmUgcHJlc2VudCBpbiB0aGUgY2hhcnQuCiAgICBfYW5ub3RhdGlvbnNfc2VydmljZS5hbm5vdGF0aW9uJC5uZXh0KG51bGwpOyAvLyBzZXQgdGhlIGFjdHVhbCBhbm5vdGF0aW9uIGFuZCB0cmlnZ2VyIHRoZSBmbHlvdXQKCgogICAgX2Fubm90YXRpb25zX3NlcnZpY2UuYW5ub3RhdGlvbiQubmV4dChkKTsKICB9KTsKICByZWN0cy5hdHRyKCd4JywgZnVuY3Rpb24gKGQpIHsKICAgIHZhciBkYXRlID0gKDAsIF9tb21lbnQuZGVmYXVsdCkoZC50aW1lc3RhbXApOwogICAgcmV0dXJuIGZvY3VzWFNjYWxlKGRhdGUpOwogIH0pLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCkgewogICAgdmFyIGxldmVsID0gZC5rZXkgIT09IHVuZGVmaW5lZCA/IGxldmVsc1tkLmtleV0gOiBBTk5PVEFUSU9OX0RFRkFVTFRfTEVWRUw7CiAgICByZXR1cm4gZm9jdXNab29tUGFuZWxIZWlnaHQgKyAxICsgdXBwZXJSZWN0TWFyZ2luICsgbGV2ZWwgKiBsZXZlbEhlaWdodDsKICB9KS5hdHRyKCdoZWlnaHQnLCBmdW5jdGlvbiAoZCkgewogICAgdmFyIGxldmVsID0gZC5rZXkgIT09IHVuZGVmaW5lZCA/IGxldmVsc1tkLmtleV0gOiBBTk5PVEFUSU9OX0RFRkFVTFRfTEVWRUw7CiAgICByZXR1cm4gZm9jdXNDaGFydEhlaWdodCAtIDIgLSB1cHBlclJlY3RNYXJnaW4gLSBsZXZlbCAqIGxldmVsSGVpZ2h0OwogIH0pLmF0dHIoJ3dpZHRoJywgZnVuY3Rpb24gKGQpIHsKICAgIHZhciBzID0gZm9jdXNYU2NhbGUoKDAsIF9tb21lbnQuZGVmYXVsdCkoZC50aW1lc3RhbXApKSArIDE7CiAgICB2YXIgZSA9IHR5cGVvZiBkLmVuZF90aW1lc3RhbXAgIT09ICd1bmRlZmluZWQnID8gZm9jdXNYU2NhbGUoKDAsIF9tb21lbnQuZGVmYXVsdCkoZC5lbmRfdGltZXN0YW1wKSkgLSAxIDogcyArIEFOTk9UQVRJT05fTUlOX1dJRFRIOwogICAgdmFyIHdpZHRoID0gTWF0aC5tYXgoQU5OT1RBVElPTl9NSU5fV0lEVEgsIGUgLSBzKTsKICAgIHJldHVybiB3aWR0aDsKICB9KTsKICByZWN0cy5leGl0KCkucmVtb3ZlKCk7CiAgdmFyIHRleHRSZWN0cyA9IGFubm90YXRpb25zLnNlbGVjdEFsbCgnLm1sQW5ub3RhdGlvblRleHRSZWN0JykuZGF0YShmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIFtkXTsKICB9KTsKICB2YXIgdGV4dHMgPSBhbm5vdGF0aW9ucy5zZWxlY3RBbGwoJy5tbEFubm90YXRpb25UZXh0JykuZGF0YShmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIFtkXTsKICB9KTsKICB0ZXh0UmVjdHMuZW50ZXIoKS5hcHBlbmQoJ3JlY3QnKS5jbGFzc2VkKCdtbEFubm90YXRpb25UZXh0UmVjdCcsIHRydWUpLmF0dHIoJ3dpZHRoJywgQU5OT1RBVElPTl9URVhUX1JFQ1RfV0lEVEgpLmF0dHIoJ2hlaWdodCcsIEFOTk9UQVRJT05fVEVYVF9SRUNUX0hFSUdIVCkuYXR0cigncngnLCBBTk5PVEFUSU9OX1JFQ1RfQk9SREVSX1JBRElVUykuYXR0cigncnknLCBBTk5PVEFUSU9OX1JFQ1RfQk9SREVSX1JBRElVUyk7CiAgdGV4dHMuZW50ZXIoKS5hcHBlbmQoJ3RleHQnKS5jbGFzc2VkKCdtbEFubm90YXRpb25UZXh0JywgdHJ1ZSk7CgogIGZ1bmN0aW9uIGxhYmVsWE9mZnNldCh0cykgewogICAgdmFyIGVhcmxpZXN0TXMgPSBmb2N1c1hTY2FsZS5kb21haW4oKVswXTsKICAgIHZhciBsYXRlc3RNcyA9IGZvY3VzWFNjYWxlLmRvbWFpbigpWzFdOwogICAgdmFyIGRhdGUgPSAoMCwgX21vbWVudC5kZWZhdWx0KSh0cyk7CiAgICB2YXIgbWluWCA9IE1hdGgubWF4KGZvY3VzWFNjYWxlKGVhcmxpZXN0TXMpLCBmb2N1c1hTY2FsZShkYXRlKSk7IC8vIFRvIGF2b2lkIG92ZXJmbG93IHRvIHRoZSByaWdodCwgc3Vic3RyYWN0IG1heE9mZnNldCB3aGljaCBpcwogICAgLy8gdGhlIHdpZHRoIG9mIHRoZSB0ZXh0IGxhYmVsICgyNHB4KSBwbHVzIGxlZnQgbWFyZ2luICg4eHApLgoKICAgIHZhciBtYXhPZmZzZXQgPSAzMjsKICAgIHJldHVybiBNYXRoLm1pbihmb2N1c1hTY2FsZShsYXRlc3RNcykgLSBtYXhPZmZzZXQsIG1pblgpOwogIH0KCiAgdGV4dHMuYXR0cigneCcsIGZ1bmN0aW9uIChkKSB7CiAgICB2YXIgbGVmdElubmVyT2Zmc2V0ID0gMTc7CiAgICByZXR1cm4gbGFiZWxYT2Zmc2V0KGQudGltZXN0YW1wKSArIGxlZnRJbm5lck9mZnNldDsKICB9KS5hdHRyKCd5JywgZnVuY3Rpb24gKGQpIHsKICAgIHZhciBsZXZlbCA9IGQua2V5ICE9PSB1bmRlZmluZWQgPyBsZXZlbHNbZC5rZXldIDogQU5OT1RBVElPTl9ERUZBVUxUX0xFVkVMOwogICAgcmV0dXJuIGZvY3VzWm9vbVBhbmVsSGVpZ2h0ICsgdXBwZXJUZXh0TWFyZ2luICsgQU5OT1RBVElPTl9URVhUX1ZFUlRJQ0FMX09GRlNFVCArIGxldmVsICogbGV2ZWxIZWlnaHQ7CiAgfSkudGV4dChmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIGQua2V5OwogIH0pOwogIHRleHRSZWN0cy5hdHRyKCd4JywgZnVuY3Rpb24gKGQpIHsKICAgIHZhciBsZWZ0SW5uZXJPZmZzZXQgPSA1OwogICAgcmV0dXJuIGxhYmVsWE9mZnNldChkLnRpbWVzdGFtcCkgKyBsZWZ0SW5uZXJPZmZzZXQ7CiAgfSkuYXR0cigneScsIGZ1bmN0aW9uIChkKSB7CiAgICB2YXIgbGV2ZWwgPSBkLmtleSAhPT0gdW5kZWZpbmVkID8gbGV2ZWxzW2Qua2V5XSA6IEFOTk9UQVRJT05fREVGQVVMVF9MRVZFTDsKICAgIHJldHVybiBmb2N1c1pvb21QYW5lbEhlaWdodCArIHVwcGVyVGV4dE1hcmdpbiArIEFOTk9UQVRJT05fVEVYVF9SRUNUX1ZFUlRJQ0FMX09GRlNFVCArIGxldmVsICogbGV2ZWxIZWlnaHQ7CiAgfSk7CiAgdGV4dFJlY3RzLmV4aXQoKS5yZW1vdmUoKTsKICB0ZXh0cy5leGl0KCkucmVtb3ZlKCk7CiAgYW5ub3RhdGlvbnMuY2xhc3NlZCgnbWxBbm5vdGF0aW9uSGlkZGVuJywgIXNob3dBbm5vdGF0aW9ucyk7CiAgYW5ub3RhdGlvbnMuZXhpdCgpLnJlbW92ZSgpOwp9CgpmdW5jdGlvbiBnZXRBbm5vdGF0aW9uV2lkdGgoYW5ub3RhdGlvbiwgZm9jdXNYU2NhbGUpIHsKICB2YXIgc3RhcnQgPSBmb2N1c1hTY2FsZShhbm5vdGF0aW9uLnRpbWVzdGFtcCkgKyAxOwogIHZhciBlbmQgPSB0eXBlb2YgYW5ub3RhdGlvbi5lbmRfdGltZXN0YW1wICE9PSAndW5kZWZpbmVkJyA/IGZvY3VzWFNjYWxlKGFubm90YXRpb24uZW5kX3RpbWVzdGFtcCkgLSAxIDogc3RhcnQgKyBBTk5PVEFUSU9OX01JTl9XSURUSDsKICB2YXIgd2lkdGggPSBNYXRoLm1heChBTk5PVEFUSU9OX01JTl9XSURUSCwgZW5kIC0gc3RhcnQpOwogIHJldHVybiB3aWR0aDsKfQoKZnVuY3Rpb24gaGlnaGxpZ2h0Rm9jdXNDaGFydEFubm90YXRpb24oYW5ub3RhdGlvbikgewogIHZhciBhbm5vdGF0aW9ucyA9IF9kLmRlZmF1bHQuc2VsZWN0QWxsKCcubWxBbm5vdGF0aW9uJyk7CgogIGFubm90YXRpb25zLmVhY2goZnVuY3Rpb24gKGQpIHsKICAgIC8vIEB0cy1pZ25vcmUKICAgIHZhciBlbGVtZW50ID0gX2QuZGVmYXVsdC5zZWxlY3QodGhpcyk7CgogICAgaWYgKGQuX2lkID09PSBhbm5vdGF0aW9uLl9pZCkgewogICAgICBlbGVtZW50LnNlbGVjdEFsbCgnLm1sQW5ub3RhdGlvblJlY3QnKS5jbGFzc2VkKCdtbEFubm90YXRpb25SZWN0LWlzSGlnaGxpZ2h0JywgdHJ1ZSk7CiAgICB9IGVsc2UgewogICAgICBlbGVtZW50LnNlbGVjdEFsbCgnLm1sQW5ub3RhdGlvblRleHRSZWN0JykuY2xhc3NlZCgnbWxBbm5vdGF0aW9uVGV4dFJlY3QtaXNCbHVyJywgdHJ1ZSk7CiAgICAgIGVsZW1lbnQuc2VsZWN0QWxsKCcubWxBbm5vdGF0aW9uVGV4dCcpLmNsYXNzZWQoJ21sQW5ub3RhdGlvblRleHQtaXNCbHVyJywgdHJ1ZSk7CiAgICAgIGVsZW1lbnQuc2VsZWN0QWxsKCcubWxBbm5vdGF0aW9uUmVjdCcpLmNsYXNzZWQoJ21sQW5ub3RhdGlvblJlY3QtaXNCbHVyJywgdHJ1ZSk7CiAgICB9CiAgfSk7Cn0KCmZ1bmN0aW9uIHVuaGlnaGxpZ2h0Rm9jdXNDaGFydEFubm90YXRpb24oKSB7CiAgdmFyIGFubm90YXRpb25zID0gX2QuZGVmYXVsdC5zZWxlY3RBbGwoJy5tbEFubm90YXRpb24nKTsKCiAgYW5ub3RhdGlvbnMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAvLyBAdHMtaWdub3JlCiAgICB2YXIgZWxlbWVudCA9IF9kLmRlZmF1bHQuc2VsZWN0KHRoaXMpOwoKICAgIGVsZW1lbnQuc2VsZWN0QWxsKCcubWxBbm5vdGF0aW9uVGV4dFJlY3QnKS5jbGFzc2VkKCdtbEFubm90YXRpb25UZXh0UmVjdC1pc0JsdXInLCBmYWxzZSk7CiAgICBlbGVtZW50LnNlbGVjdEFsbCgnLm1sQW5ub3RhdGlvblJlY3QnKS5jbGFzc2VkKCdtbEFubm90YXRpb25SZWN0LWlzSGlnaGxpZ2h0JywgZmFsc2UpLmNsYXNzZWQoJ21sQW5ub3RhdGlvblJlY3QtaXNCbHVyJywgZmFsc2UpOwogICAgZWxlbWVudC5zZWxlY3RBbGwoJy5tbEFubm90YXRpb25UZXh0JykuY2xhc3NlZCgnbWxBbm5vdGF0aW9uVGV4dC1pc0JsdXInLCBmYWxzZSk7CiAgfSk7Cn0="},null]}