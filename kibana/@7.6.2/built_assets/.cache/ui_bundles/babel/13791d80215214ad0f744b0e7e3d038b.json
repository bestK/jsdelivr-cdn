{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/snapshot_restore/public/app/components/repository_form/type_settings/hdfs_settings.js","dependencies":[{"path":"x-pack/legacy/plugins/snapshot_restore/public/app/components/repository_form/type_settings/hdfs_settings.js","mtime":1585205048211},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkhERlNTZXR0aW5ncyA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2luZGV4ID0gcmVxdWlyZSgiLi4vLi4vLi4vaW5kZXgiKTsKCnZhciBfdGV4dCA9IHJlcXVpcmUoIi4uLy4uLy4uL3NlcnZpY2VzL3RleHQiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgIHJldHVybiBvYmo7CiAgfSBlbHNlIHsKICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7CiAgICByZXR1cm4gbmV3T2JqOwogIH0KfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7CiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307CgogIHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsKCiAgdmFyIGtleSwgaTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOwoKICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07CiAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7CiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7CiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7CiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307CiAgdmFyIHRhcmdldCA9IHt9OwogIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsKICB2YXIga2V5LCBpOwoKICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgewogICAga2V5ID0gc291cmNlS2V5c1tpXTsKICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7CiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKdmFyIEhERlNTZXR0aW5ncyA9IGZ1bmN0aW9uIEhERlNTZXR0aW5ncyhfcmVmKSB7CiAgdmFyIHJlcG9zaXRvcnkgPSBfcmVmLnJlcG9zaXRvcnksCiAgICAgIHVwZGF0ZVJlcG9zaXRvcnlTZXR0aW5ncyA9IF9yZWYudXBkYXRlUmVwb3NpdG9yeVNldHRpbmdzLAogICAgICBzZXR0aW5nRXJyb3JzID0gX3JlZi5zZXR0aW5nRXJyb3JzOwoKICB2YXIgX3VzZUFwcERlcGVuZGVuY2llcyA9ICgwLCBfaW5kZXgudXNlQXBwRGVwZW5kZW5jaWVzKSgpLAogICAgICBGb3JtYXR0ZWRNZXNzYWdlID0gX3VzZUFwcERlcGVuZGVuY2llcy5jb3JlLmkxOG4uRm9ybWF0dGVkTWVzc2FnZTsKCiAgdmFyIF9yZXBvc2l0b3J5JHNldHRpbmdzID0gcmVwb3NpdG9yeS5zZXR0aW5ncywKICAgICAgZGVsZWdhdGVUeXBlID0gX3JlcG9zaXRvcnkkc2V0dGluZ3MuZGVsZWdhdGVUeXBlLAogICAgICB1cmkgPSBfcmVwb3NpdG9yeSRzZXR0aW5ncy51cmksCiAgICAgIHBhdGggPSBfcmVwb3NpdG9yeSRzZXR0aW5ncy5wYXRoLAogICAgICBsb2FkRGVmYXVsdHMgPSBfcmVwb3NpdG9yeSRzZXR0aW5ncy5sb2FkRGVmYXVsdHMsCiAgICAgIGNvbXByZXNzID0gX3JlcG9zaXRvcnkkc2V0dGluZ3MuY29tcHJlc3MsCiAgICAgIGNodW5rU2l6ZSA9IF9yZXBvc2l0b3J5JHNldHRpbmdzLmNodW5rU2l6ZSwKICAgICAgbWF4UmVzdG9yZUJ5dGVzUGVyU2VjID0gX3JlcG9zaXRvcnkkc2V0dGluZ3MubWF4UmVzdG9yZUJ5dGVzUGVyU2VjLAogICAgICBtYXhTbmFwc2hvdEJ5dGVzUGVyU2VjID0gX3JlcG9zaXRvcnkkc2V0dGluZ3MubWF4U25hcHNob3RCeXRlc1BlclNlYywKICAgICAgcmVhZG9ubHkgPSBfcmVwb3NpdG9yeSRzZXR0aW5ncy5yZWFkb25seSwKICAgICAgc2VjdXJpdHlQcmluY2lwYWwgPSBfcmVwb3NpdG9yeSRzZXR0aW5nc1snc2VjdXJpdHkucHJpbmNpcGFsJ10sCiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlcG9zaXRvcnkkc2V0dGluZ3MsIFsiZGVsZWdhdGVUeXBlIiwgInVyaSIsICJwYXRoIiwgImxvYWREZWZhdWx0cyIsICJjb21wcmVzcyIsICJjaHVua1NpemUiLCAibWF4UmVzdG9yZUJ5dGVzUGVyU2VjIiwgIm1heFNuYXBzaG90Qnl0ZXNQZXJTZWMiLCAicmVhZG9ubHkiLCAic2VjdXJpdHkucHJpbmNpcGFsIl0pOwoKICB2YXIgaGFzRXJyb3JzID0gQm9vbGVhbihPYmplY3Qua2V5cyhzZXR0aW5nRXJyb3JzKS5sZW5ndGgpOwoKICB2YXIgX3VzZVN0YXRlID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoSlNPTi5zdHJpbmdpZnkocmVzdCwgbnVsbCwgMikpLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgYWRkaXRpb25hbENvbmYgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRBZGRpdGlvbmFsQ29uZiA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU3RhdGUzID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoZmFsc2UpLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGlzQ29uZkludmFsaWQgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRJc0NvbmZJbnZhbGlkID0gX3VzZVN0YXRlNFsxXTsKCiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRGVzY3JpYmVkRm9ybUdyb3VwLCB7CiAgICB0aXRsZTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRpdGxlLCB7CiAgICAgIHNpemU6ICJzIgogICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiaDMiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucmVwb3NpdG9yeUZvcm0udHlwZUhERlMudXJpVGl0bGUiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIlVSSSIKICAgIH0pKSksCiAgICBkZXNjcmlwdGlvbjogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlcG9zaXRvcnlGb3JtLnR5cGVIREZTLnVyaURlc2NyaXB0aW9uIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUaGUgVVJJIGFkZHJlc3MgZm9yIEhERlMuIgogICAgfSksCiAgICBpZEFyaWE6ICJoZGZzUmVwb3NpdG9yeVVyaURlc2NyaXB0aW9uIiwKICAgIGZ1bGxXaWR0aDogdHJ1ZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICBsYWJlbDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlcG9zaXRvcnlGb3JtLnR5cGVIREZTLnVyaUxhYmVsIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJVUkkgKHJlcXVpcmVkKSIKICAgIH0pLAogICAgZnVsbFdpZHRoOiB0cnVlLAogICAgZGVzY3JpYmVkQnlJZHM6IFsnaGRmc1JlcG9zaXRvcnlVcmlEZXNjcmlwdGlvbiddLAogICAgaXNJbnZhbGlkOiBCb29sZWFuKGhhc0Vycm9ycyAmJiBzZXR0aW5nRXJyb3JzLnVyaSksCiAgICBlcnJvcjogc2V0dGluZ0Vycm9ycy51cmkKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmllbGRUZXh0LCB7CiAgICBwcmVwZW5kOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgewogICAgICBzaXplOiAicyIsCiAgICAgIGlkOiAiaGRmc1JlcG9zaXRvcnlVcmlQcm90b2NvbERlc2NyaXB0aW9uIgogICAgfSwgJ2hkZnM6Ly8nKSwKICAgIGRlZmF1bHRWYWx1ZTogdXJpID8gdXJpLnNwbGl0KCdoZGZzOi8vJylbMV0gOiAnJywKICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7CiAgICAgIHVwZGF0ZVJlcG9zaXRvcnlTZXR0aW5ncyh7CiAgICAgICAgdXJpOiBlLnRhcmdldC52YWx1ZSA/ICJoZGZzOi8vIi5jb25jYXQoZS50YXJnZXQudmFsdWUpIDogJycKICAgICAgfSk7CiAgICB9LAogICAgImFyaWEtZGVzY3JpYmVkYnkiOiAiaGRmc1JlcG9zaXRvcnlVcmlEZXNjcmlwdGlvbiBoZGZzUmVwb3NpdG9yeVVyaVByb3RvY29sRGVzY3JpcHRpb24iLAogICAgImRhdGEtdGVzdC1zdWJqIjogInVyaUlucHV0IgogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlEZXNjcmliZWRGb3JtR3JvdXAsIHsKICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIHsKICAgICAgc2l6ZTogInMiCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMyIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXBvc2l0b3J5Rm9ybS50eXBlSERGUy5wYXRoVGl0bGUiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIlBhdGgiCiAgICB9KSkpLAogICAgZGVzY3JpcHRpb246IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXBvc2l0b3J5Rm9ybS50eXBlSERGUy5wYXRoRGVzY3JpcHRpb24iLAogICAgICBkZWZhdWx0TWVzc2FnZTogIlRoZSBmaWxlIHBhdGggd2hlcmUgZGF0YSBpcyBzdG9yZWQuIgogICAgfSksCiAgICBpZEFyaWE6ICJoZGZzUmVwb3NpdG9yeVBhdGhEZXNjcmlwdGlvbiIsCiAgICBmdWxsV2lkdGg6IHRydWUKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgbGFiZWw6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXBvc2l0b3J5Rm9ybS50eXBlSERGUy5wYXRoTGFiZWwiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIlBhdGggKHJlcXVpcmVkKSIKICAgIH0pLAogICAgZnVsbFdpZHRoOiB0cnVlLAogICAgZGVzY3JpYmVkQnlJZHM6IFsnaGRmc1JlcG9zaXRvcnlQYXRoRGVzY3JpcHRpb24nXSwKICAgIGlzSW52YWxpZDogQm9vbGVhbihoYXNFcnJvcnMgJiYgc2V0dGluZ0Vycm9ycy5wYXRoKSwKICAgIGVycm9yOiBzZXR0aW5nRXJyb3JzLnBhdGgKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmllbGRUZXh0LCB7CiAgICBkZWZhdWx0VmFsdWU6IHBhdGggfHwgJycsCiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICB1cGRhdGVSZXBvc2l0b3J5U2V0dGluZ3MoewogICAgICAgIHBhdGg6IGUudGFyZ2V0LnZhbHVlCiAgICAgIH0pOwogICAgfSwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJwYXRoSW5wdXQiCiAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aURlc2NyaWJlZEZvcm1Hcm91cCwgewogICAgdGl0bGU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUaXRsZSwgewogICAgICBzaXplOiAicyIKICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImgzIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlcG9zaXRvcnlGb3JtLnR5cGVIREZTLmxvYWREZWZhdWx0c1RpdGxlIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJMb2FkIGRlZmF1bHRzIgogICAgfSkpKSwKICAgIGRlc2NyaXB0aW9uOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucmVwb3NpdG9yeUZvcm0udHlwZUhERlMubG9hZERlZmF1bHRzRGVzY3JpcHRpb24iLAogICAgICBkZWZhdWx0TWVzc2FnZTogIkxvYWRzIHRoZSBkZWZhdWx0IEhhZG9vcCBjb25maWd1cmF0aW9uLiIKICAgIH0pLAogICAgaWRBcmlhOiAiaGRmc1JlcG9zaXRvcnlMb2FkRGVmYXVsdHNEZXNjcmlwdGlvbiIsCiAgICBmdWxsV2lkdGg6IHRydWUKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgaGFzRW1wdHlMYWJlbFNwYWNlOiB0cnVlLAogICAgZnVsbFdpZHRoOiB0cnVlLAogICAgZGVzY3JpYmVkQnlJZHM6IFsnaGRmc1JlcG9zaXRvcnlMb2FkRGVmYXVsdHNEZXNjcmlwdGlvbiddLAogICAgaXNJbnZhbGlkOiBCb29sZWFuKGhhc0Vycm9ycyAmJiBzZXR0aW5nRXJyb3JzLmxvYWREZWZhdWx0cyksCiAgICBlcnJvcjogc2V0dGluZ0Vycm9ycy5sb2FkRGVmYXVsdHMKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3dpdGNoLCB7CiAgICBsYWJlbDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlcG9zaXRvcnlGb3JtLnR5cGVIREZTLmxvYWREZWZhdWx0c0xhYmVsIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJMb2FkIGRlZmF1bHRzIgogICAgfSksCiAgICBjaGVja2VkOiAhKGxvYWREZWZhdWx0cyA9PT0gZmFsc2UpLAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgdXBkYXRlUmVwb3NpdG9yeVNldHRpbmdzKHsKICAgICAgICBsb2FkRGVmYXVsdHM6IGUudGFyZ2V0LmNoZWNrZWQKICAgICAgfSk7CiAgICB9LAogICAgImRhdGEtdGVzdC1zdWJqIjogImxvYWREZWZhdWx0c1RvZ2dsZSIKICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRGVzY3JpYmVkRm9ybUdyb3VwLCB7CiAgICB0aXRsZTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRpdGxlLCB7CiAgICAgIHNpemU6ICJzIgogICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiaDMiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucmVwb3NpdG9yeUZvcm0udHlwZUhERlMuY29tcHJlc3NUaXRsZSIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU25hcHNob3QgY29tcHJlc3Npb24iCiAgICB9KSkpLAogICAgZGVzY3JpcHRpb246IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXBvc2l0b3J5Rm9ybS50eXBlSERGUy5jb21wcmVzc0Rlc2NyaXB0aW9uIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDb21wcmVzc2VzIHRoZSBpbmRleCBtYXBwaW5nIGFuZCBzZXR0aW5nIGZpbGVzIGZvciBzbmFwc2hvdHMuIERhdGEgZmlsZXMgYXJlIG5vdCBjb21wcmVzc2VkLiIKICAgIH0pLAogICAgaWRBcmlhOiAiaGRmc1JlcG9zaXRvcnlDb21wcmVzc0Rlc2NyaXB0aW9uIiwKICAgIGZ1bGxXaWR0aDogdHJ1ZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICBoYXNFbXB0eUxhYmVsU3BhY2U6IHRydWUsCiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBkZXNjcmliZWRCeUlkczogWydoZGZzUmVwb3NpdG9yeUNvbXByZXNzRGVzY3JpcHRpb24nXSwKICAgIGlzSW52YWxpZDogQm9vbGVhbihoYXNFcnJvcnMgJiYgc2V0dGluZ0Vycm9ycy5jb21wcmVzcyksCiAgICBlcnJvcjogc2V0dGluZ0Vycm9ycy5jb21wcmVzcwogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTd2l0Y2gsIHsKICAgIGxhYmVsOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucmVwb3NpdG9yeUZvcm0udHlwZUhERlMuY29tcHJlc3NMYWJlbCIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ29tcHJlc3Mgc25hcHNob3RzIgogICAgfSksCiAgICBjaGVja2VkOiAhKGNvbXByZXNzID09PSBmYWxzZSksCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICB1cGRhdGVSZXBvc2l0b3J5U2V0dGluZ3MoewogICAgICAgIGNvbXByZXNzOiBlLnRhcmdldC5jaGVja2VkCiAgICAgIH0pOwogICAgfSwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJjb21wcmVzc1RvZ2dsZSIKICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRGVzY3JpYmVkRm9ybUdyb3VwLCB7CiAgICB0aXRsZTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRpdGxlLCB7CiAgICAgIHNpemU6ICJzIgogICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiaDMiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucmVwb3NpdG9yeUZvcm0udHlwZUhERlMuY2h1bmtTaXplVGl0bGUiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIkNodW5rIHNpemUiCiAgICB9KSkpLAogICAgZGVzY3JpcHRpb246IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXBvc2l0b3J5Rm9ybS50eXBlSERGUy5jaHVua1NpemVEZXNjcmlwdGlvbiIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQnJlYWtzIGZpbGVzIGludG8gc21hbGxlciB1bml0cyB3aGVuIHRha2luZyBzbmFwc2hvdHMuIgogICAgfSksCiAgICBpZEFyaWE6ICJoZGZzUmVwb3NpdG9yeUNodW5rU2l6ZURlc2NyaXB0aW9uIiwKICAgIGZ1bGxXaWR0aDogdHJ1ZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICBsYWJlbDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlcG9zaXRvcnlGb3JtLnR5cGVIREZTLmNodW5rU2l6ZUxhYmVsIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDaHVuayBzaXplIgogICAgfSksCiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBkZXNjcmliZWRCeUlkczogWydoZGZzUmVwb3NpdG9yeUNodW5rU2l6ZURlc2NyaXB0aW9uJ10sCiAgICBpc0ludmFsaWQ6IEJvb2xlYW4oaGFzRXJyb3JzICYmIHNldHRpbmdFcnJvcnMuY2h1bmtTaXplKSwKICAgIGVycm9yOiBzZXR0aW5nRXJyb3JzLmNodW5rU2l6ZSwKICAgIGhlbHBUZXh0OiBfdGV4dC50ZXh0U2VydmljZS5nZXRTaXplTm90YXRpb25IZWxwVGV4dCgpCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZpZWxkVGV4dCwgewogICAgZGVmYXVsdFZhbHVlOiBjaHVua1NpemUgfHwgJycsCiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICB1cGRhdGVSZXBvc2l0b3J5U2V0dGluZ3MoewogICAgICAgIGNodW5rU2l6ZTogZS50YXJnZXQudmFsdWUKICAgICAgfSk7CiAgICB9LAogICAgImRhdGEtdGVzdC1zdWJqIjogImNodW5rU2l6ZUlucHV0IgogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlEZXNjcmliZWRGb3JtR3JvdXAsIHsKICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIHsKICAgICAgc2l6ZTogInMiCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMyIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXBvc2l0b3J5Rm9ybS50eXBlSERGUy5zZWN1cml0eVByaW5jaXBhbFRpdGxlIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTZWN1cml0eSBwcmluY2lwYWwiCiAgICB9KSkpLAogICAgZGVzY3JpcHRpb246IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXBvc2l0b3J5Rm9ybS50eXBlSERGUy5zZWN1cml0eVByaW5jaXBhbERlc2NyaXB0aW9uIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUaGUgS2VyYmVyb3MgcHJpbmNpcGFsIHRvIHVzZSB3aGVuIGNvbm5lY3RpbmcgdG8gYSBzZWN1cmVkIEhERlMgY2x1c3Rlci4iCiAgICB9KSwKICAgIGlkQXJpYTogImhkZnNSZXBvc2l0b3J5U2VjdXJpdHlQcmluY2lwYWxEZXNjcmlwdGlvbiIsCiAgICBmdWxsV2lkdGg6IHRydWUKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgbGFiZWw6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXBvc2l0b3J5Rm9ybS50eXBlSERGUy5zZWN1cml0eVByaW5jaXBhbExhYmVsIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTZWN1cml0eSBwcmluY2lwYWwiCiAgICB9KSwKICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgIGRlc2NyaWJlZEJ5SWRzOiBbJ2hkZnNSZXBvc2l0b3J5U2VjdXJpdHlQcmluY2lwYWxEZXNjcmlwdGlvbiddLAogICAgaXNJbnZhbGlkOiBCb29sZWFuKGhhc0Vycm9ycyAmJiBzZXR0aW5nRXJyb3JzLnNlY3VyaXR5UHJpbmNpcGFsKSwKICAgIGVycm9yOiBzZXR0aW5nRXJyb3JzLnNlY3VyaXR5UHJpbmNpcGFsCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZpZWxkVGV4dCwgewogICAgZGVmYXVsdFZhbHVlOiBzZWN1cml0eVByaW5jaXBhbCB8fCAnJywKICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7CiAgICAgIHVwZGF0ZVJlcG9zaXRvcnlTZXR0aW5ncyh7CiAgICAgICAgJ3NlY3VyaXR5LnByaW5jaXBhbCc6IGUudGFyZ2V0LnZhbHVlCiAgICAgIH0pOwogICAgfSwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJzZWN1cml0eVByaW5jaXBhbElucHV0IgogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlEZXNjcmliZWRGb3JtR3JvdXAsIHsKICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIHsKICAgICAgc2l6ZTogInMiCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMyIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXBvc2l0b3J5Rm9ybS50eXBlSERGUy5jb25maWd1cmF0aW9uVGl0bGUiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIkNvbmZpZ3VyYXRpb24iCiAgICB9KSkpLAogICAgZGVzY3JpcHRpb246IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucmVwb3NpdG9yeUZvcm0udHlwZUhERlMuY29uZmlndXJhdGlvbkRlc2NyaXB0aW9uIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJBZGRpdGlvbmFsIEpTT04gZm9ybWF0IGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyB0byBhZGQgdG8gdGhlIEhhZG9vcCBjb25maWd1cmF0aW9uLiBPbmx5IGNsaWVudC1vcmllbnRlZCBwcm9wZXJ0aWVzIGZyb20gdGhlIEhhZG9vcCBjb3JlIGFuZCBIREZTIGZpbGVzIGFyZSByZWNvZ25pemVkLiIKICAgIH0pKSwKICAgIGlkQXJpYTogImhkZnNSZXBvc2l0b3J5Q29uZmlndXJhdGlvbkRlc2NyaXB0aW9uIiwKICAgIGZ1bGxXaWR0aDogdHJ1ZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICBsYWJlbDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlcG9zaXRvcnlGb3JtLnR5cGVIREZTLmNvbmZpZ3VyYXRpb25MYWJlbCIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ29uZmlndXJhdGlvbiIKICAgIH0pLAogICAgZnVsbFdpZHRoOiB0cnVlLAogICAgZGVzY3JpYmVkQnlJZHM6IFsnaGRmc1JlcG9zaXRvcnlDb25maWd1cmF0aW9uRGVzY3JpcHRpb24nXSwKICAgIGlzSW52YWxpZDogaXNDb25mSW52YWxpZCwKICAgIGVycm9yOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucmVwb3NpdG9yeUZvcm0udHlwZUhERlMuY29uZmlndXJhdGlvbkZvcm1hdEVycm9yIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJJbnZhbGlkIEpTT04gZm9ybWF0IgogICAgfSksCiAgICBoZWxwVGV4dDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlcG9zaXRvcnlGb3JtLnR5cGVIREZTLmNvbmZpZ3VyYXRpb25LZXlEZXNjcmlwdGlvbiIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiS2V5cyBzaG91bGQgYmUgaW4gdGhlIGZvcm1hdCB7Y29uZktleUZvcm1hdH0uIiwKICAgICAgdmFsdWVzOiB7CiAgICAgICAgY29uZktleUZvcm1hdDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNvZGUsIG51bGwsICdjb25mLjxrZXk+JykKICAgICAgfQogICAgfSkKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ29kZUVkaXRvciwgewogICAgbW9kZTogImpzb24iLAogICAgdGhlbWU6ICJ0ZXh0bWF0ZSIsCiAgICB3aWR0aDogIjEwMCUiLAogICAgdmFsdWU6IGFkZGl0aW9uYWxDb25mLAogICAgc2V0T3B0aW9uczogewogICAgICBzaG93TGluZU51bWJlcnM6IGZhbHNlLAogICAgICB0YWJTaXplOiAyLAogICAgICBtYXhMaW5lczogSW5maW5pdHkKICAgIH0sCiAgICBlZGl0b3JQcm9wczogewogICAgICAkYmxvY2tTY3JvbGxpbmc6IEluZmluaXR5CiAgICB9LAogICAgc2hvd0d1dHRlcjogZmFsc2UsCiAgICBtaW5MaW5lczogNiwKICAgICJhcmlhLWxhYmVsIjogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlcG9zaXRvcnlGb3JtLnR5cGVIREZTLmNvbmZpZ3VyYXRpb25BcmlhTGFiZWwiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIkFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgSERGUyByZXBvc2l0b3J5ICd7bmFtZX0nIiwKICAgICAgdmFsdWVzOiB7CiAgICAgICAgbmFtZTogbmFtZQogICAgICB9CiAgICB9KSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSh2YWx1ZSkgewogICAgICBzZXRBZGRpdGlvbmFsQ29uZih2YWx1ZSk7CgogICAgICB0cnkgewogICAgICAgIHZhciBwYXJzZWRDb25mID0gSlNPTi5wYXJzZSh2YWx1ZSk7CiAgICAgICAgc2V0SXNDb25mSW52YWxpZChmYWxzZSk7CiAgICAgICAgdXBkYXRlUmVwb3NpdG9yeVNldHRpbmdzKF9vYmplY3RTcHJlYWQoewogICAgICAgICAgZGVsZWdhdGVUeXBlOiBkZWxlZ2F0ZVR5cGUsCiAgICAgICAgICB1cmk6IHVyaSwKICAgICAgICAgIHBhdGg6IHBhdGgsCiAgICAgICAgICBsb2FkRGVmYXVsdHM6IGxvYWREZWZhdWx0cywKICAgICAgICAgIGNvbXByZXNzOiBjb21wcmVzcywKICAgICAgICAgIGNodW5rU2l6ZTogY2h1bmtTaXplLAogICAgICAgICAgJ3NlY3VyaXR5LnByaW5jaXBhbCc6IHNlY3VyaXR5UHJpbmNpcGFsCiAgICAgICAgfSwgcGFyc2VkQ29uZiksIHRydWUpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgc2V0SXNDb25mSW52YWxpZCh0cnVlKTsKICAgICAgfQogICAgfSwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJjb2RlRWRpdG9yIgogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlEZXNjcmliZWRGb3JtR3JvdXAsIHsKICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIHsKICAgICAgc2l6ZTogInMiCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMyIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXBvc2l0b3J5Rm9ybS50eXBlSERGUy5tYXhTbmFwc2hvdEJ5dGVzVGl0bGUiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIk1heCBzbmFwc2hvdCBieXRlcyBwZXIgc2Vjb25kIgogICAgfSkpKSwKICAgIGRlc2NyaXB0aW9uOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucmVwb3NpdG9yeUZvcm0udHlwZUhERlMubWF4U25hcHNob3RCeXRlc0Rlc2NyaXB0aW9uIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUaGUgcmF0ZSBmb3IgY3JlYXRpbmcgc25hcHNob3RzIGZvciBlYWNoIG5vZGUuIgogICAgfSksCiAgICBpZEFyaWE6ICJoZGZzUmVwb3NpdG9yeU1heFNuYXBzaG90Qnl0ZXNEZXNjcmlwdGlvbiIsCiAgICBmdWxsV2lkdGg6IHRydWUKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgbGFiZWw6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXBvc2l0b3J5Rm9ybS50eXBlSERGUy5tYXhTbmFwc2hvdEJ5dGVzTGFiZWwiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIk1heCBzbmFwc2hvdCBieXRlcyBwZXIgc2Vjb25kIgogICAgfSksCiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBkZXNjcmliZWRCeUlkczogWydoZGZzUmVwb3NpdG9yeU1heFNuYXBzaG90Qnl0ZXNEZXNjcmlwdGlvbiddLAogICAgaXNJbnZhbGlkOiBCb29sZWFuKGhhc0Vycm9ycyAmJiBzZXR0aW5nRXJyb3JzLm1heFNuYXBzaG90Qnl0ZXNQZXJTZWMpLAogICAgZXJyb3I6IHNldHRpbmdFcnJvcnMubWF4U25hcHNob3RCeXRlc1BlclNlYywKICAgIGhlbHBUZXh0OiBfdGV4dC50ZXh0U2VydmljZS5nZXRTaXplTm90YXRpb25IZWxwVGV4dCgpCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZpZWxkVGV4dCwgewogICAgZGVmYXVsdFZhbHVlOiBtYXhTbmFwc2hvdEJ5dGVzUGVyU2VjIHx8ICcnLAogICAgZnVsbFdpZHRoOiB0cnVlLAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgdXBkYXRlUmVwb3NpdG9yeVNldHRpbmdzKHsKICAgICAgICBtYXhTbmFwc2hvdEJ5dGVzUGVyU2VjOiBlLnRhcmdldC52YWx1ZQogICAgICB9KTsKICAgIH0sCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAibWF4U25hcHNob3RCeXRlc0lucHV0IgogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlEZXNjcmliZWRGb3JtR3JvdXAsIHsKICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIHsKICAgICAgc2l6ZTogInMiCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMyIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXBvc2l0b3J5Rm9ybS50eXBlSERGUy5tYXhSZXN0b3JlQnl0ZXNUaXRsZSIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiTWF4IHJlc3RvcmUgYnl0ZXMgcGVyIHNlY29uZCIKICAgIH0pKSksCiAgICBkZXNjcmlwdGlvbjogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlcG9zaXRvcnlGb3JtLnR5cGVIREZTLm1heFJlc3RvcmVCeXRlc0Rlc2NyaXB0aW9uIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUaGUgc25hcHNob3QgcmVzdG9yZSByYXRlIGZvciBlYWNoIG5vZGUuIgogICAgfSksCiAgICBpZEFyaWE6ICJoZGZzUmVwb3NpdG9yeU1heFJlc3RvcmVCeXRlc0Rlc2NyaXB0aW9uIiwKICAgIGZ1bGxXaWR0aDogdHJ1ZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICBsYWJlbDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlcG9zaXRvcnlGb3JtLnR5cGVIREZTLm1heFJlc3RvcmVCeXRlc0xhYmVsIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJNYXggcmVzdG9yZSBieXRlcyBwZXIgc2Vjb25kIgogICAgfSksCiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBkZXNjcmliZWRCeUlkczogWydoZGZzUmVwb3NpdG9yeU1heFJlc3RvcmVCeXRlc0Rlc2NyaXB0aW9uJ10sCiAgICBpc0ludmFsaWQ6IEJvb2xlYW4oaGFzRXJyb3JzICYmIHNldHRpbmdFcnJvcnMubWF4UmVzdG9yZUJ5dGVzUGVyU2VjKSwKICAgIGVycm9yOiBzZXR0aW5nRXJyb3JzLm1heFJlc3RvcmVCeXRlc1BlclNlYywKICAgIGhlbHBUZXh0OiBfdGV4dC50ZXh0U2VydmljZS5nZXRTaXplTm90YXRpb25IZWxwVGV4dCgpCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZpZWxkVGV4dCwgewogICAgZGVmYXVsdFZhbHVlOiBtYXhSZXN0b3JlQnl0ZXNQZXJTZWMgfHwgJycsCiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICB1cGRhdGVSZXBvc2l0b3J5U2V0dGluZ3MoewogICAgICAgIG1heFJlc3RvcmVCeXRlc1BlclNlYzogZS50YXJnZXQudmFsdWUKICAgICAgfSk7CiAgICB9LAogICAgImRhdGEtdGVzdC1zdWJqIjogIm1heFJlc3RvcmVCeXRlc0lucHV0IgogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlEZXNjcmliZWRGb3JtR3JvdXAsIHsKICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIHsKICAgICAgc2l6ZTogInMiCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMyIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXBvc2l0b3J5Rm9ybS50eXBlSERGUy5yZWFkb25seVRpdGxlIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJSZWFkLW9ubHkiCiAgICB9KSkpLAogICAgZGVzY3JpcHRpb246IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXBvc2l0b3J5Rm9ybS50eXBlSERGUy5yZWFkb25seURlc2NyaXB0aW9uIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJPbmx5IG9uZSBjbHVzdGVyIHNob3VsZCBoYXZlIHdyaXRlIGFjY2VzcyB0byB0aGlzIHJlcG9zaXRvcnkuIEFsbCBvdGhlciBjbHVzdGVycyBzaG91bGQgYmUgcmVhZC1vbmx5LiIKICAgIH0pLAogICAgaWRBcmlhOiAiaGRmc1JlcG9zaXRvcnlSZWFkb25seURlc2NyaXB0aW9uIiwKICAgIGZ1bGxXaWR0aDogdHJ1ZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICBoYXNFbXB0eUxhYmVsU3BhY2U6IHRydWUsCiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBkZXNjcmliZWRCeUlkczogWydoZGZzUmVwb3NpdG9yeVJlYWRvbmx5RGVzY3JpcHRpb24nXSwKICAgIGlzSW52YWxpZDogQm9vbGVhbihoYXNFcnJvcnMgJiYgc2V0dGluZ0Vycm9ycy5yZWFkb25seSksCiAgICBlcnJvcjogc2V0dGluZ0Vycm9ycy5yZWFkb25seQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTd2l0Y2gsIHsKICAgIGxhYmVsOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucmVwb3NpdG9yeUZvcm0udHlwZUhERlMucmVhZG9ubHlMYWJlbCIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUmVhZC1vbmx5IHJlcG9zaXRvcnkiCiAgICB9KSwKICAgIGNoZWNrZWQ6ICEhcmVhZG9ubHksCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICB1cGRhdGVSZXBvc2l0b3J5U2V0dGluZ3MoewogICAgICAgIHJlYWRvbmx5OiBlLnRhcmdldC5jaGVja2VkCiAgICAgIH0pOwogICAgfSwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJyZWFkT25seVRvZ2dsZSIKICB9KSkpKTsKfTsKCmV4cG9ydHMuSERGU1NldHRpbmdzID0gSERGU1NldHRpbmdzOw=="},null]}