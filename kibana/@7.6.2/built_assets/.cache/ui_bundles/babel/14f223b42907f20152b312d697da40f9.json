{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/apm/public/hooks/useFetcher.js","dependencies":[{"path":"x-pack/legacy/plugins/apm/public/hooks/useFetcher.js","mtime":1585205042978},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLnVzZUZldGNoZXIgPSB1c2VGZXRjaGVyOwpleHBvcnRzLkZFVENIX1NUQVRVUyA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9wdWJsaWMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvcGx1Z2lucy9raWJhbmFfcmVhY3QvcHVibGljIik7Cgp2YXIgX0xvYWRpbmdJbmRpY2F0b3JDb250ZXh0ID0gcmVxdWlyZSgiLi4vY29udGV4dC9Mb2FkaW5nSW5kaWNhdG9yQ29udGV4dCIpOwoKdmFyIF91c2VDb21wb25lbnRJZCA9IHJlcXVpcmUoIi4vdXNlQ29tcG9uZW50SWQiKTsKCnZhciBfdXNlQ2FsbEFwbUFwaSA9IHJlcXVpcmUoIi4vdXNlQ2FsbEFwbUFwaSIpOwoKdmFyIF91c2VBcG1QbHVnaW5Db250ZXh0ID0gcmVxdWlyZSgiLi91c2VBcG1QbHVnaW5Db250ZXh0Iik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgewogIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gIltvYmplY3QgQXJndW1lbnRzXSIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgewogICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgYXJyMltpXSA9IGFycltpXTsKICAgIH0KCiAgICByZXR1cm4gYXJyMjsKICB9Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCnZhciBGRVRDSF9TVEFUVVM7CmV4cG9ydHMuRkVUQ0hfU1RBVFVTID0gRkVUQ0hfU1RBVFVTOwoKKGZ1bmN0aW9uIChGRVRDSF9TVEFUVVMpIHsKICBGRVRDSF9TVEFUVVNbIkxPQURJTkciXSA9ICJsb2FkaW5nIjsKICBGRVRDSF9TVEFUVVNbIlNVQ0NFU1MiXSA9ICJzdWNjZXNzIjsKICBGRVRDSF9TVEFUVVNbIkZBSUxVUkUiXSA9ICJmYWlsdXJlIjsKICBGRVRDSF9TVEFUVVNbIlBFTkRJTkciXSA9ICJwZW5kaW5nIjsKfSkoRkVUQ0hfU1RBVFVTIHx8IChleHBvcnRzLkZFVENIX1NUQVRVUyA9IEZFVENIX1NUQVRVUyA9IHt9KSk7CgpmdW5jdGlvbiB1c2VGZXRjaGVyKGZuLCBmbkRlcHMpIHsKICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgdmFyIG5vdGlmaWNhdGlvbnMgPSAoMCwgX3VzZUFwbVBsdWdpbkNvbnRleHQudXNlQXBtUGx1Z2luQ29udGV4dCkoKS5jb3JlLm5vdGlmaWNhdGlvbnM7CiAgdmFyIF9vcHRpb25zJHByZXNlcnZlUHJldiA9IG9wdGlvbnMucHJlc2VydmVQcmV2aW91c0RhdGEsCiAgICAgIHByZXNlcnZlUHJldmlvdXNEYXRhID0gX29wdGlvbnMkcHJlc2VydmVQcmV2ID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkcHJlc2VydmVQcmV2OwogIHZhciBpZCA9ICgwLCBfdXNlQ29tcG9uZW50SWQudXNlQ29tcG9uZW50SWQpKCk7CiAgdmFyIGNhbGxBcG1BcGkgPSAoMCwgX3VzZUNhbGxBcG1BcGkudXNlQ2FsbEFwbUFwaSkoKTsKCiAgdmFyIF91c2VDb250ZXh0ID0gKDAsIF9yZWFjdC51c2VDb250ZXh0KShfTG9hZGluZ0luZGljYXRvckNvbnRleHQuTG9hZGluZ0luZGljYXRvckNvbnRleHQpLAogICAgICBkaXNwYXRjaFN0YXR1cyA9IF91c2VDb250ZXh0LmRpc3BhdGNoU3RhdHVzOwoKICB2YXIgX3VzZVN0YXRlID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoewogICAgZGF0YTogdW5kZWZpbmVkLAogICAgc3RhdHVzOiBGRVRDSF9TVEFUVVMuUEVORElORwogIH0pLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgcmVzdWx0ID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0UmVzdWx0ID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTMgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKSgwKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBjb3VudGVyID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0Q291bnRlciA9IF91c2VTdGF0ZTRbMV07CgogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICB2YXIgZGlkQ2FuY2VsID0gZmFsc2U7CgogICAgZnVuY3Rpb24gZG9GZXRjaCgpIHsKICAgICAgdmFyIHByb21pc2UsIGRhdGEsIGVyciwgX2VyciRyZXNwb25zZSwgX2VyciRyZXNwb25zZTIsIF9lcnIkcmVzcG9uc2UzOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBkb0ZldGNoJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBwcm9taXNlID0gZm4oY2FsbEFwbUFwaSk7IC8vIGlmIGBmbmAgZG9lc24ndCByZXR1cm4gYSBwcm9taXNlIGl0IGlzIGEgc2lnbmFsIHRoYXQgZGF0YSBmZXRjaGluZyB3YXMgbm90IGluaXRpYXRlZC4KICAgICAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgdGhlIGRhdGEgZmV0Y2hpbmcgaXMgY29uZGl0aW9uYWwgKGJhc2VkIG9uIGNlcnRhaW4gaW5wdXRzKS4KICAgICAgICAgICAgICAvLyBJbiB0aGVzZSBjYXNlcyBpdCBpcyBub3QgZGVzaXJhYmxlIHRvIGludm9rZSB0aGUgZ2xvYmFsIGxvYWRpbmcgc3Bpbm5lciwgb3IgY2hhbmdlIHRoZSBzdGF0dXMgdG8gc3VjY2VzcwoKICAgICAgICAgICAgICBpZiAocHJvbWlzZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGRpc3BhdGNoU3RhdHVzKHsKICAgICAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgICAgIGlzTG9hZGluZzogdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHNldFJlc3VsdChmdW5jdGlvbiAocHJldlJlc3VsdCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgZGF0YTogcHJlc2VydmVQcmV2aW91c0RhdGEgPyBwcmV2UmVzdWx0LmRhdGEgOiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICAgIC8vIHByZXNlcnZlIGRhdGEgZnJvbSBwcmV2aW91cyBzdGF0ZSB3aGlsZSBsb2FkaW5nIG5leHQgc3RhdGUKICAgICAgICAgICAgICAgICAgc3RhdHVzOiBGRVRDSF9TVEFUVVMuTE9BRElORywKICAgICAgICAgICAgICAgICAgZXJyb3I6IHVuZGVmaW5lZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHByb21pc2UpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoIWRpZENhbmNlbCkgewogICAgICAgICAgICAgICAgZGlzcGF0Y2hTdGF0dXMoewogICAgICAgICAgICAgICAgICBpZDogaWQsCiAgICAgICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2V0UmVzdWx0KHsKICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICAgICAgc3RhdHVzOiBGRVRDSF9TVEFUVVMuU1VDQ0VTUywKICAgICAgICAgICAgICAgICAgZXJyb3I6IHVuZGVmaW5lZAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDUpOwogICAgICAgICAgICAgIGVyciA9IF9jb250ZXh0LnQwOwoKICAgICAgICAgICAgICBpZiAoIWRpZENhbmNlbCkgewogICAgICAgICAgICAgICAgbm90aWZpY2F0aW9ucy50b2FzdHMuYWRkV2FybmluZyh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLmZldGNoZXIuZXJyb3IudGl0bGUnLCB7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJFcnJvciB3aGlsZSBmZXRjaGluZyByZXNvdXJjZSIKICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgIHRleHQ6ICgwLCBfcHVibGljLnRvTW91bnRQb2ludCkoX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiaDUiLCBudWxsLCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLmZldGNoZXIuZXJyb3Iuc3RhdHVzJywgewogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRXJyb3IiCiAgICAgICAgICAgICAgICAgIH0pKSwgKF9lcnIkcmVzcG9uc2UgPSBlcnIucmVzcG9uc2UpID09PSBudWxsIHx8IF9lcnIkcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnIkcmVzcG9uc2Uuc3RhdHVzVGV4dCwgIiAoIiwgKF9lcnIkcmVzcG9uc2UyID0gZXJyLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZXJyJHJlc3BvbnNlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VyciRyZXNwb25zZTIuc3RhdHVzLCAiKSIsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImg1IiwgbnVsbCwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS5mZXRjaGVyLmVycm9yLnVybCcsIHsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlVSTCIKICAgICAgICAgICAgICAgICAgfSkpLCAoX2VyciRyZXNwb25zZTMgPSBlcnIucmVzcG9uc2UpID09PSBudWxsIHx8IF9lcnIkcmVzcG9uc2UzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXJyJHJlc3BvbnNlMy51cmwpKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBkaXNwYXRjaFN0YXR1cyh7CiAgICAgICAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzZXRSZXN1bHQoewogICAgICAgICAgICAgICAgICBkYXRhOiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICAgIHN0YXR1czogRkVUQ0hfU1RBVFVTLkZBSUxVUkUsCiAgICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dC50MAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgbnVsbCwgW1s1LCAxMl1dKTsKICAgIH0KCiAgICBkb0ZldGNoKCk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBkaXNwYXRjaFN0YXR1cyh7CiAgICAgICAgaWQ6IGlkLAogICAgICAgIGlzTG9hZGluZzogZmFsc2UKICAgICAgfSk7CiAgICAgIGRpZENhbmNlbCA9IHRydWU7CiAgICB9OwogICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzICovCiAgfSwgW2NvdW50ZXIsIGlkLCBwcmVzZXJ2ZVByZXZpb3VzRGF0YSwgZGlzcGF0Y2hTdGF0dXNdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZm5EZXBzKSkpOwogIHJldHVybiAoMCwgX3JlYWN0LnVzZU1lbW8pKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCByZXN1bHQsIHsKICAgICAgcmVmZXRjaDogZnVuY3Rpb24gcmVmZXRjaCgpIHsKICAgICAgICAvLyB0aGlzIHdpbGwgaW52YWxpZGF0ZSB0aGUgZGVwcyB0byBgdXNlRWZmZWN0YCBhbmQgd2lsbCByZXN1bHQgaW4gYSBuZXcgcmVxdWVzdAogICAgICAgIHNldENvdW50ZXIoZnVuY3Rpb24gKGNvdW50KSB7CiAgICAgICAgICByZXR1cm4gY291bnQgKyAxOwogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9LCBbcmVzdWx0XSk7Cn0="},null]}