{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/infra/public/components/nodes_overview/table.js","dependencies":[{"path":"x-pack/legacy/plugins/infra/public/components/nodes_overview/table.js","mtime":1585205044629},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuVGFibGVWaWV3ID0gdm9pZCAwOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9sb2Rhc2ggPSByZXF1aXJlKCJsb2Rhc2giKTsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9ub2Rlc190b193YWZmbGVtYXAgPSByZXF1aXJlKCIuLi8uLi9jb250YWluZXJzL3dhZmZsZS9ub2Rlc190b193YWZmbGVtYXAiKTsKCnZhciBfZmllbGRfdG9fZGlzcGxheV9uYW1lID0gcmVxdWlyZSgiLi4vd2FmZmxlL2xpYi9maWVsZF90b19kaXNwbGF5X25hbWUiKTsKCnZhciBfbm9kZV9jb250ZXh0X21lbnUgPSByZXF1aXJlKCIuLi93YWZmbGUvbm9kZV9jb250ZXh0X21lbnUiKTsKCnZhciBfdGVtcDsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgX3R5cGVvZjIoU3ltYm9sLml0ZXJhdG9yKSA9PT0gInN5bWJvbCIpIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gX3R5cGVvZjIob2JqKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiBfdHlwZW9mMihvYmopOwogICAgfTsKICB9CgogIHJldHVybiBfdHlwZW9mKG9iaik7Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7CiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICBhcnIyW2ldID0gYXJyW2ldOwogICAgfQoKICAgIHJldHVybiBhcnIyOwogIH0KfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICB9Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOwogICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOwogICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7CiAgfQp9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOwogIHJldHVybiBDb25zdHJ1Y3RvcjsKfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgewogIGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsKICAgIHJldHVybiBjYWxsOwogIH0KCiAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7Cn0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7CiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsKICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7CiAgfTsKICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOwp9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsKICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7CiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOwogIH0KCiAgcmV0dXJuIHNlbGY7Cn0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgewogIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOwogIH0KCiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7CiAgICBjb25zdHJ1Y3RvcjogewogICAgICB2YWx1ZTogc3ViQ2xhc3MsCiAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUKICAgIH0KICB9KTsKICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsKfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsKICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsKICAgIG8uX19wcm90b19fID0gcDsKICAgIHJldHVybiBvOwogIH07CgogIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9Cgp2YXIgaW5pdGlhbFN0YXRlID0gewogIGlzUG9wb3Zlck9wZW46IFtdCn07Cgp2YXIgZ2V0R3JvdXBQYXRocyA9IGZ1bmN0aW9uIGdldEdyb3VwUGF0aHMocGF0aCkgewogIHN3aXRjaCAocGF0aC5sZW5ndGgpIHsKICAgIGNhc2UgMzoKICAgICAgcmV0dXJuIHBhdGguc2xpY2UoMCwgMik7CgogICAgY2FzZSAyOgogICAgICByZXR1cm4gcGF0aC5zbGljZSgwLCAxKTsKCiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gW107CiAgfQp9OwoKdmFyIFRhYmxlVmlldyA9IChfdGVtcCA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKFRhYmxlVmlldywgX1JlYWN0JFB1cmVDb21wb25lbnQpOwoKICBmdW5jdGlvbiBUYWJsZVZpZXcoKSB7CiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjsKCiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlVmlldyk7CgogICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICB9CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2dldFByb3RvdHlwZU9mMiA9IF9nZXRQcm90b3R5cGVPZihUYWJsZVZpZXcpKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjIsIFt0aGlzXS5jb25jYXQoYXJncykpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJzdGF0ZSIsIGluaXRpYWxTdGF0ZSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib3BlblBvcG92ZXJGb3IiLCBmdW5jdGlvbiAoaWQpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBpc1BvcG92ZXJPcGVuOiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHByZXZTdGF0ZS5pc1BvcG92ZXJPcGVuKSwgW2lkXSkKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJjbG9zZVBvcG92ZXJGb3IiLCBmdW5jdGlvbiAoaWQpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXMuc3RhdGUuaXNQb3BvdmVyT3Blbi5pbmNsdWRlcyhpZCkpIHsKICAgICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBpc1BvcG92ZXJPcGVuOiBwcmV2U3RhdGUuaXNQb3BvdmVyT3Blbi5maWx0ZXIoZnVuY3Rpb24gKHN1YmplY3QpIHsKICAgICAgICAgICAgICAgIHJldHVybiBzdWJqZWN0ICE9PSBpZDsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9OwogICAgfSk7CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFRhYmxlVmlldywgW3sKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsCiAgICAgICAgICBub2RlcyA9IF90aGlzJHByb3BzLm5vZGVzLAogICAgICAgICAgb3B0aW9ucyA9IF90aGlzJHByb3BzLm9wdGlvbnMsCiAgICAgICAgICBmb3JtYXR0ZXIgPSBfdGhpcyRwcm9wcy5mb3JtYXR0ZXIsCiAgICAgICAgICBjdXJyZW50VGltZSA9IF90aGlzJHByb3BzLmN1cnJlbnRUaW1lLAogICAgICAgICAgbm9kZVR5cGUgPSBfdGhpcyRwcm9wcy5ub2RlVHlwZTsKICAgICAgdmFyIGNvbHVtbnMgPSBbewogICAgICAgIGZpZWxkOiAnbmFtZScsCiAgICAgICAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmluZnJhLnRhYmxlVmlldy5jb2x1bW5OYW1lLm5hbWUnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ05hbWUnCiAgICAgICAgfSksCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdHJ1bmNhdGVUZXh0OiB0cnVlLAogICAgICAgIHRleHRPbmx5OiB0cnVlLAogICAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHZhbHVlLCBpdGVtKSB7CiAgICAgICAgICB2YXIgdG9vbHRpcFRleHQgPSBpdGVtLm5vZGUuaWQgPT09IHZhbHVlID8gIiIuY29uY2F0KHZhbHVlKSA6ICIiLmNvbmNhdCh2YWx1ZSwgIiAoIikuY29uY2F0KGl0ZW0ubm9kZS5pZCwgIikiKTsgLy8gRm9yIHRoZSB0YWJsZSB3ZSBuZWVkIHRvIGNyZWF0ZSBhIFVuaXF1ZUlEIHRoYXQgdGFrZXMgaW50byB0byBhY2NvdW50IHRoZSBncm91cGluZ3MKICAgICAgICAgIC8vIGFzIHdlbGwgYXMgdGhlIG5vZGUgbmFtZS4gVGhlcmUgaXMgdGhlIHBvc3NpYmlsaXR5IHRoYXQgYSBub2RlIGNhbiBiZSBwcmVzZW50IGluIHR3bwogICAgICAgICAgLy8gZGlmZmVyZW50IGdyb3VwcyBhbmQgYmUgb24gdGhlIHNjcmVlbiBhdCB0aGUgc2FtZSB0aW1lLgoKICAgICAgICAgIHZhciB1bmlxdWVJRCA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoaXRlbS5ub2RlLnBhdGgubWFwKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgIHJldHVybiBwLnZhbHVlOwogICAgICAgICAgfSkpLCBbaXRlbS5ub2RlLm5hbWVdKS5qb2luKCc6Jyk7CiAgICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbm9kZV9jb250ZXh0X21lbnUuTm9kZUNvbnRleHRNZW51LCB7CiAgICAgICAgICAgIG5vZGU6IGl0ZW0ubm9kZSwKICAgICAgICAgICAgbm9kZVR5cGU6IG5vZGVUeXBlLAogICAgICAgICAgICBjbG9zZVBvcG92ZXI6IF90aGlzMi5jbG9zZVBvcG92ZXJGb3IodW5pcXVlSUQpLAogICAgICAgICAgICBjdXJyZW50VGltZTogY3VycmVudFRpbWUsCiAgICAgICAgICAgIGlzUG9wb3Zlck9wZW46IF90aGlzMi5zdGF0ZS5pc1BvcG92ZXJPcGVuLmluY2x1ZGVzKHVuaXF1ZUlEKSwKICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucywKICAgICAgICAgICAgcG9wb3ZlclBvc2l0aW9uOiAicmlnaHRDZW50ZXIiCiAgICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVG9vbFRpcCwgewogICAgICAgICAgICBjb250ZW50OiB0b29sdGlwVGV4dAogICAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICAgICAgICAgIG9uQ2xpY2s6IF90aGlzMi5vcGVuUG9wb3ZlckZvcih1bmlxdWVJRCkKICAgICAgICAgIH0sIHZhbHVlKSkpOwogICAgICAgIH0KICAgICAgfV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShvcHRpb25zLmdyb3VwQnkubWFwKGZ1bmN0aW9uIChncm91cGluZywgaW5kZXgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZmllbGQ6ICJncm91cF8iLmNvbmNhdChpbmRleCksCiAgICAgICAgICBuYW1lOiAoMCwgX2ZpZWxkX3RvX2Rpc3BsYXlfbmFtZS5maWVsZFRvTmFtZSkoZ3JvdXBpbmcgJiYgZ3JvdXBpbmcuZmllbGQgfHwgJycpLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICB0cnVuY2F0ZVRleHQ6IHRydWUsCiAgICAgICAgICB0ZXh0T25seTogdHJ1ZSwKICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHZhbHVlKSB7CiAgICAgICAgICAgIHZhciBoYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKCkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpczIucHJvcHMub25GaWx0ZXIoIiIuY29uY2F0KGdyb3VwaW5nLmZpZWxkLCAiOlwiIikuY29uY2F0KHZhbHVlLCAiXCIiKSk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRvb2xUaXAsIHsKICAgICAgICAgICAgICBjb250ZW50OiAiU2V0IEZpbHRlciIKICAgICAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICAgICAgICAgICAgb25DbGljazogaGFuZGxlQ2xpY2sKICAgICAgICAgICAgfSwgdmFsdWUpKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9KSksIFt7CiAgICAgICAgZmllbGQ6ICd2YWx1ZScsCiAgICAgICAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmluZnJhLnRhYmxlVmlldy5jb2x1bW5OYW1lLmxhc3QxbScsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTGFzdCAxbScKICAgICAgICB9KSwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0cnVuY2F0ZVRleHQ6IHRydWUsCiAgICAgICAgZGF0YVR5cGU6ICdudW1iZXInLAogICAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIGZvcm1hdHRlcih2YWx1ZSkpOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGZpZWxkOiAnYXZnJywKICAgICAgICBuYW1lOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaW5mcmEudGFibGVWaWV3LmNvbHVtbk5hbWUuYXZnJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdBdmcnCiAgICAgICAgfSksCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdHJ1bmNhdGVUZXh0OiB0cnVlLAogICAgICAgIGRhdGFUeXBlOiAnbnVtYmVyJywKICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcih2YWx1ZSkgewogICAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCBmb3JtYXR0ZXIodmFsdWUpKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBmaWVsZDogJ21heCcsCiAgICAgICAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmluZnJhLnRhYmxlVmlldy5jb2x1bW5OYW1lLm1heCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTWF4JwogICAgICAgIH0pLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHRydW5jYXRlVGV4dDogdHJ1ZSwKICAgICAgICBkYXRhVHlwZTogJ251bWJlcicsCiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIodmFsdWUpIHsKICAgICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgZm9ybWF0dGVyKHZhbHVlKSk7CiAgICAgICAgfQogICAgICB9XSk7CiAgICAgIHZhciBpdGVtcyA9IG5vZGVzLm1hcChmdW5jdGlvbiAobm9kZSkgewogICAgICAgIHZhciBuYW1lID0gKDAsIF9sb2Rhc2gubGFzdCkobm9kZS5wYXRoKTsKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7CiAgICAgICAgICBuYW1lOiBuYW1lICYmIG5hbWUubGFiZWwgfHwgJ3Vua25vd24nCiAgICAgICAgfSwgZ2V0R3JvdXBQYXRocyhub2RlLnBhdGgpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwYXRoLCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGFjYywgX2RlZmluZVByb3BlcnR5KHt9LCAiZ3JvdXBfIi5jb25jYXQoaW5kZXgpLCBwYXRoLmxhYmVsKSk7CiAgICAgICAgfSwge30pLCB7CiAgICAgICAgICB2YWx1ZTogbm9kZS5tZXRyaWMudmFsdWUsCiAgICAgICAgICBhdmc6IG5vZGUubWV0cmljLmF2ZywKICAgICAgICAgIG1heDogbm9kZS5tZXRyaWMubWF4LAogICAgICAgICAgbm9kZTogKDAsIF9ub2Rlc190b193YWZmbGVtYXAuY3JlYXRlV2FmZmxlTWFwTm9kZSkobm9kZSkKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHZhciBpbml0aWFsU29ydGluZyA9IHsKICAgICAgICBzb3J0OiB7CiAgICAgICAgICBmaWVsZDogJ3ZhbHVlJywKICAgICAgICAgIGRpcmVjdGlvbjogJ2Rlc2MnCiAgICAgICAgfQogICAgICB9OwogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUluTWVtb3J5VGFibGUsIHsKICAgICAgICBwYWdpbmF0aW9uOiB0cnVlLAogICAgICAgIHNvcnRpbmc6IGluaXRpYWxTb3J0aW5nLAogICAgICAgIGl0ZW1zOiBpdGVtcywKICAgICAgICBjb2x1bW5zOiBjb2x1bW5zCiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFRhYmxlVmlldzsKfShfcmVhY3QuZGVmYXVsdC5QdXJlQ29tcG9uZW50KSwgX3RlbXApOwpleHBvcnRzLlRhYmxlVmlldyA9IFRhYmxlVmlldzs="},null]}