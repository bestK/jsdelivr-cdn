{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/siem/public/components/ml_popover/ml_popover.js","dependencies":[{"path":"x-pack/legacy/plugins/siem/public/components/ml_popover/ml_popover.js","mtime":1585205047516},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLk1sUG9wb3ZlciA9IHZvaWQgMDsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX3JlYWN0ID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7Cgp2YXIgX21vbWVudCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgibW9tZW50IikpOwoKdmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfc3R5bGVkQ29tcG9uZW50cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgic3R5bGVkLWNvbXBvbmVudHMiKSk7Cgp2YXIgX2tpYmFuYSA9IHJlcXVpcmUoIi4uLy4uL2xpYi9raWJhbmEiKTsKCnZhciBfdGVsZW1ldHJ5ID0gcmVxdWlyZSgiLi4vLi4vbGliL3RlbGVtZXRyeSIpOwoKdmFyIF9lcnJvcl90b190b2FzdGVyID0gcmVxdWlyZSgiLi4vbWwvYXBpL2Vycm9yX3RvX3RvYXN0ZXIiKTsKCnZhciBfaGFzX21sX2FkbWluX3Blcm1pc3Npb25zID0gcmVxdWlyZSgiLi4vbWwvcGVybWlzc2lvbnMvaGFzX21sX2FkbWluX3Blcm1pc3Npb25zIik7Cgp2YXIgX21sX2NhcGFiaWxpdGllc19wcm92aWRlciA9IHJlcXVpcmUoIi4uL21sL3Blcm1pc3Npb25zL21sX2NhcGFiaWxpdGllc19wcm92aWRlciIpOwoKdmFyIF90b2FzdGVycyA9IHJlcXVpcmUoIi4uL3RvYXN0ZXJzIik7Cgp2YXIgX2FwaSA9IHJlcXVpcmUoIi4vYXBpIik7Cgp2YXIgX2hlbHBlcnMgPSByZXF1aXJlKCIuL2hlbHBlcnMiKTsKCnZhciBfdXNlX3NpZW1fam9icyA9IHJlcXVpcmUoIi4vaG9va3MvdXNlX3NpZW1fam9icyIpOwoKdmFyIF9qb2JzX3RhYmxlX2ZpbHRlcnMgPSByZXF1aXJlKCIuL2pvYnNfdGFibGUvZmlsdGVycy9qb2JzX3RhYmxlX2ZpbHRlcnMiKTsKCnZhciBfam9ic190YWJsZSA9IHJlcXVpcmUoIi4vam9ic190YWJsZS9qb2JzX3RhYmxlIik7Cgp2YXIgX3Nob3dpbmdfY291bnQgPSByZXF1aXJlKCIuL2pvYnNfdGFibGUvc2hvd2luZ19jb3VudCIpOwoKdmFyIF9wb3BvdmVyX2Rlc2NyaXB0aW9uID0gcmVxdWlyZSgiLi9wb3BvdmVyX2Rlc2NyaXB0aW9uIik7Cgp2YXIgaTE4biA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoIi4vdHJhbnNsYXRpb25zIikpOwoKdmFyIF91cGdyYWRlX2NvbnRlbnRzID0gcmVxdWlyZSgiLi91cGdyYWRlX2NvbnRlbnRzIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9Cgp2YXIgUG9wb3ZlckNvbnRlbnRzRGl2ID0gX3N0eWxlZENvbXBvbmVudHMuZGVmYXVsdC5kaXYud2l0aENvbmZpZyh7CiAgZGlzcGxheU5hbWU6ICJQb3BvdmVyQ29udGVudHNEaXYiLAogIGNvbXBvbmVudElkOiAic2MtMWtxaWVlcC0wIgp9KShbIm1heC13aWR0aDo2ODRweDsiXSk7CgpQb3BvdmVyQ29udGVudHNEaXYuZGlzcGxheU5hbWUgPSAnUG9wb3ZlckNvbnRlbnRzRGl2JzsKCmZ1bmN0aW9uIG1sUG9wb3ZlclJlZHVjZXIoc3RhdGUsIGFjdGlvbikgewogIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHsKICAgIGNhc2UgJ3JlZnJlc2gnOgogICAgICB7CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCB7CiAgICAgICAgICByZWZyZXNoVG9nZ2xlOiAhc3RhdGUucmVmcmVzaFRvZ2dsZQogICAgICAgIH0pOwogICAgICB9CgogICAgY2FzZSAnbG9hZGluZyc6CiAgICAgIHsKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHsKICAgICAgICAgIGlzTG9hZGluZzogdHJ1ZQogICAgICAgIH0pOwogICAgICB9CgogICAgY2FzZSAnc3VjY2Vzcyc6CiAgICAgIHsKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHsKICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgICAgICBqb2JzOiBhY3Rpb24ucmVzdWx0cwogICAgICAgIH0pOwogICAgICB9CgogICAgY2FzZSAnZmFpbHVyZSc6CiAgICAgIHsKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHsKICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgICAgICBqb2JzOiBbXQogICAgICAgIH0pOwogICAgICB9CgogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuIHN0YXRlOwogIH0KfQoKdmFyIGluaXRpYWxTdGF0ZSA9IHsKICBpc0xvYWRpbmc6IGZhbHNlLAogIGpvYnM6IFtdLAogIHJlZnJlc2hUb2dnbGU6IHRydWUKfTsKdmFyIGRlZmF1bHRGaWx0ZXJQcm9wcyA9IHsKICBmaWx0ZXJRdWVyeTogJycsCiAgc2hvd0N1c3RvbUpvYnM6IGZhbHNlLAogIHNob3dFbGFzdGljSm9iczogZmFsc2UsCiAgc2VsZWN0ZWRHcm91cHM6IFtdCn07Cgp2YXIgTWxQb3BvdmVyID0gX3JlYWN0Mi5kZWZhdWx0Lm1lbW8oZnVuY3Rpb24gKCkgewogIHZhciBfdXNlUmVkdWNlciA9ICgwLCBfcmVhY3QyLnVzZVJlZHVjZXIpKG1sUG9wb3ZlclJlZHVjZXIsIGluaXRpYWxTdGF0ZSksCiAgICAgIF91c2VSZWR1Y2VyMiA9IF9zbGljZWRUb0FycmF5KF91c2VSZWR1Y2VyLCAyKSwKICAgICAgcmVmcmVzaFRvZ2dsZSA9IF91c2VSZWR1Y2VyMlswXS5yZWZyZXNoVG9nZ2xlLAogICAgICBkaXNwYXRjaCA9IF91c2VSZWR1Y2VyMlsxXTsKCiAgdmFyIF91c2VTdGF0ZSA9ICgwLCBfcmVhY3QyLnVzZVN0YXRlKShmYWxzZSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBpc1BvcG92ZXJPcGVuID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0SXNQb3BvdmVyT3BlbiA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU3RhdGUzID0gKDAsIF9yZWFjdDIudXNlU3RhdGUpKGRlZmF1bHRGaWx0ZXJQcm9wcyksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgZmlsdGVyUHJvcGVydGllcyA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldEZpbHRlclByb3BlcnRpZXMgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgX3VzZVNpZW1Kb2JzID0gKDAsIF91c2Vfc2llbV9qb2JzLnVzZVNpZW1Kb2JzKShyZWZyZXNoVG9nZ2xlKSwKICAgICAgX3VzZVNpZW1Kb2JzMiA9IF9zbGljZWRUb0FycmF5KF91c2VTaWVtSm9icywgMiksCiAgICAgIGlzTG9hZGluZ1NpZW1Kb2JzID0gX3VzZVNpZW1Kb2JzMlswXSwKICAgICAgc2llbUpvYnMgPSBfdXNlU2llbUpvYnMyWzFdOwoKICB2YXIgX3VzZVN0YXRlVG9hc3RlciA9ICgwLCBfdG9hc3RlcnMudXNlU3RhdGVUb2FzdGVyKSgpLAogICAgICBfdXNlU3RhdGVUb2FzdGVyMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZVRvYXN0ZXIsIDIpLAogICAgICBkaXNwYXRjaFRvYXN0ZXIgPSBfdXNlU3RhdGVUb2FzdGVyMlsxXTsKCiAgdmFyIGNhcGFiaWxpdGllcyA9ICgwLCBfcmVhY3QyLnVzZUNvbnRleHQpKF9tbF9jYXBhYmlsaXRpZXNfcHJvdmlkZXIuTWxDYXBhYmlsaXRpZXNDb250ZXh0KTsKICB2YXIgZG9jTGlua3MgPSAoMCwgX2tpYmFuYS51c2VLaWJhbmEpKCkuc2VydmljZXMuZG9jTGlua3M7IC8vIEVuYWJsZS9EaXNhYmxlIEpvYiAmIERhdGFmZWVkIC0tIHBhc3NlZCB0byBKb2JzVGFibGUgZm9yIHVzZSBhcyBjYWxsYmFjayBvbiBKb2JTd2l0Y2gKCiAgdmFyIGVuYWJsZURhdGFmZWVkID0gZnVuY3Rpb24gZW5hYmxlRGF0YWZlZWQoam9iLCBsYXRlc3RUaW1lc3RhbXBNcywgZW5hYmxlKSB7CiAgICB2YXIgbWF4U3RhcnRUaW1lLCBzdGFydFRpbWU7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGVuYWJsZURhdGFmZWVkJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgc3VibWl0VGVsZW1ldHJ5KGpvYiwgZW5hYmxlKTsKCiAgICAgICAgICAgIGlmIChqb2IuaXNJbnN0YWxsZWQpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCgoMCwgX2FwaS5zZXR1cE1sSm9iKSh7CiAgICAgICAgICAgICAgY29uZmlnVGVtcGxhdGU6IGpvYi5tb2R1bGVJZCwKICAgICAgICAgICAgICBpbmRleFBhdHRlcm5OYW1lOiBqb2IuZGVmYXVsdEluZGV4UGF0dGVybiwKICAgICAgICAgICAgICBqb2JJZEVycm9yRmlsdGVyOiBbam9iLmlkXSwKICAgICAgICAgICAgICBncm91cHM6IGpvYi5ncm91cHMKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAoMCwgX2Vycm9yX3RvX3RvYXN0ZXIuZXJyb3JUb1RvYXN0ZXIpKHsKICAgICAgICAgICAgICB0aXRsZTogaTE4bi5DUkVBVEVfSk9CX0ZBSUxVUkUsCiAgICAgICAgICAgICAgZXJyb3I6IF9jb250ZXh0LnQwLAogICAgICAgICAgICAgIGRpc3BhdGNoVG9hc3RlcjogZGlzcGF0Y2hUb2FzdGVyCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBkaXNwYXRjaCh7CiAgICAgICAgICAgICAgdHlwZTogJ3JlZnJlc2gnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAvLyBNYXggc3RhcnQgdGltZSBmb3Igam9iIGlzIG5vIG1vcmUgdGhhbiB0d28gd2Vla3MgYWdvIHRvIGVuc3VyZSBqb2IgcGVyZm9ybWFuY2UKICAgICAgICAgICAgbWF4U3RhcnRUaW1lID0gX21vbWVudC5kZWZhdWx0LnV0YygpLnN1YnRyYWN0KDE0LCAnZGF5cycpLnZhbHVlT2YoKTsKCiAgICAgICAgICAgIGlmICghZW5hYmxlKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzdGFydFRpbWUgPSBNYXRoLm1heChsYXRlc3RUaW1lc3RhbXBNcywgbWF4U3RhcnRUaW1lKTsKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE1OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTg7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoKDAsIF9hcGkuc3RhcnREYXRhZmVlZHMpKHsKICAgICAgICAgICAgICBkYXRhZmVlZElkczogWyJkYXRhZmVlZC0iLmNvbmNhdChqb2IuaWQpXSwKICAgICAgICAgICAgICBzdGFydDogc3RhcnRUaW1lCiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjQ7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMDsKICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dFsiY2F0Y2giXSgxNSk7CiAgICAgICAgICAgICgwLCBfdGVsZW1ldHJ5LnRyYWNrKShfdGVsZW1ldHJ5Lk1FVFJJQ19UWVBFLkNPVU5ULCBfdGVsZW1ldHJ5LlRFTEVNRVRSWV9FVkVOVC5KT0JfRU5BQkxFX0ZBSUxVUkUpOwogICAgICAgICAgICAoMCwgX2Vycm9yX3RvX3RvYXN0ZXIuZXJyb3JUb1RvYXN0ZXIpKHsKICAgICAgICAgICAgICB0aXRsZTogaTE4bi5TVEFSVF9KT0JfRkFJTFVSRSwKICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQudDEsCiAgICAgICAgICAgICAgZGlzcGF0Y2hUb2FzdGVyOiBkaXNwYXRjaFRvYXN0ZXIKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM1OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjY7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOTsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCgoMCwgX2FwaS5zdG9wRGF0YWZlZWRzKSh7CiAgICAgICAgICAgICAgZGF0YWZlZWRJZHM6IFsiZGF0YWZlZWQtIi5jb25jYXQoam9iLmlkKV0KICAgICAgICAgICAgfSkpOwoKICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDMxOwogICAgICAgICAgICBfY29udGV4dC50MiA9IF9jb250ZXh0WyJjYXRjaCJdKDI2KTsKICAgICAgICAgICAgKDAsIF90ZWxlbWV0cnkudHJhY2spKF90ZWxlbWV0cnkuTUVUUklDX1RZUEUuQ09VTlQsIF90ZWxlbWV0cnkuVEVMRU1FVFJZX0VWRU5ULkpPQl9ESVNBQkxFX0ZBSUxVUkUpOwogICAgICAgICAgICAoMCwgX2Vycm9yX3RvX3RvYXN0ZXIuZXJyb3JUb1RvYXN0ZXIpKHsKICAgICAgICAgICAgICB0aXRsZTogaTE4bi5TVE9QX0pPQl9GQUlMVVJFLAogICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dC50MiwKICAgICAgICAgICAgICBkaXNwYXRjaFRvYXN0ZXI6IGRpc3BhdGNoVG9hc3RlcgogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICBkaXNwYXRjaCh7CiAgICAgICAgICAgICAgdHlwZTogJ3JlZnJlc2gnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMzY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgbnVsbCwgbnVsbCwgW1syLCA3XSwgWzE1LCAyMF0sIFsyNiwgMzFdXSk7CiAgfTsKCiAgdmFyIGZpbHRlcmVkSm9icyA9ICgwLCBfaGVscGVycy5maWx0ZXJKb2JzKShfb2JqZWN0U3ByZWFkKHsKICAgIGpvYnM6IHNpZW1Kb2JzCiAgfSwgZmlsdGVyUHJvcGVydGllcykpOwogIHZhciBpbmNvbXBhdGlibGVKb2JDb3VudCA9IHNpZW1Kb2JzLmZpbHRlcihmdW5jdGlvbiAoaikgewogICAgcmV0dXJuICFqLmlzQ29tcGF0aWJsZTsKICB9KS5sZW5ndGg7CgogIGlmICghY2FwYWJpbGl0aWVzLmlzUGxhdGludW1PclRyaWFsTGljZW5zZSkgewogICAgLy8gSWYgdGhlIHVzZXIgZG9lcyBub3QgaGF2ZSBwbGF0aW51bSBzaG93IHVwZ3JhZGUgVUkKICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVBvcG92ZXIsIHsKICAgICAgYW5jaG9yUG9zaXRpb246ICJkb3duUmlnaHQiLAogICAgICBpZDogImludGVncmF0aW9ucy1wb3BvdmVyIiwKICAgICAgYnV0dG9uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImludGVncmF0aW9ucy1idXR0b24iLAogICAgICAgIGljb25UeXBlOiAiYXJyb3dEb3duIiwKICAgICAgICBpY29uU2lkZTogInJpZ2h0IiwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgcmV0dXJuIHNldElzUG9wb3Zlck9wZW4oIWlzUG9wb3Zlck9wZW4pOwogICAgICAgIH0KICAgICAgfSwgaTE4bi5BTk9NQUxZX0RFVEVDVElPTiksCiAgICAgIGlzT3BlbjogaXNQb3BvdmVyT3BlbiwKICAgICAgY2xvc2VQb3BvdmVyOiBmdW5jdGlvbiBjbG9zZVBvcG92ZXIoKSB7CiAgICAgICAgcmV0dXJuIHNldElzUG9wb3Zlck9wZW4oIWlzUG9wb3Zlck9wZW4pOwogICAgICB9CiAgICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdXBncmFkZV9jb250ZW50cy5VcGdyYWRlQ29udGVudHMsIG51bGwpKTsKICB9IGVsc2UgaWYgKCgwLCBfaGFzX21sX2FkbWluX3Blcm1pc3Npb25zLmhhc01sQWRtaW5QZXJtaXNzaW9ucykoY2FwYWJpbGl0aWVzKSkgewogICAgLy8gSWYgdGhlIHVzZXIgaGFzIFBsYXRpbnVtIExpY2Vuc2UgJiBNTCBBZG1pbiBQZXJtaXNzaW9ucywgc2hvdyBBbm9tYWx5IERldGVjdGlvbiBidXR0b24gJiBmdWxsIGNvbmZpZyBVSQogICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUG9wb3ZlciwgewogICAgICBhbmNob3JQb3NpdGlvbjogImRvd25SaWdodCIsCiAgICAgIGlkOiAiaW50ZWdyYXRpb25zLXBvcG92ZXIiLAogICAgICBidXR0b246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uRW1wdHksIHsKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiaW50ZWdyYXRpb25zLWJ1dHRvbiIsCiAgICAgICAgaWNvblR5cGU6ICJhcnJvd0Rvd24iLAogICAgICAgIGljb25TaWRlOiAicmlnaHQiLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICBzZXRJc1BvcG92ZXJPcGVuKCFpc1BvcG92ZXJPcGVuKTsKICAgICAgICAgIGRpc3BhdGNoKHsKICAgICAgICAgICAgdHlwZTogJ3JlZnJlc2gnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sIGkxOG4uQU5PTUFMWV9ERVRFQ1RJT04pLAogICAgICBpc09wZW46IGlzUG9wb3Zlck9wZW4sCiAgICAgIGNsb3NlUG9wb3ZlcjogZnVuY3Rpb24gY2xvc2VQb3BvdmVyKCkgewogICAgICAgIHJldHVybiBzZXRJc1BvcG92ZXJPcGVuKCFpc1BvcG92ZXJPcGVuKTsKICAgICAgfQogICAgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUG9wb3ZlckNvbnRlbnRzRGl2LCB7CiAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJtbC1wb3BvdmVyLWNvbnRlbnRzIgogICAgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlQb3BvdmVyVGl0bGUsIG51bGwsIGkxOG4uQU5PTUFMWV9ERVRFQ1RJT05fVElUTEUpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcG9wb3Zlcl9kZXNjcmlwdGlvbi5Qb3BvdmVyRGVzY3JpcHRpb24sIG51bGwpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgbnVsbCksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9qb2JzX3RhYmxlX2ZpbHRlcnMuSm9ic1RhYmxlRmlsdGVycywgewogICAgICBzaWVtSm9iczogc2llbUpvYnMsCiAgICAgIG9uRmlsdGVyQ2hhbmdlZDogc2V0RmlsdGVyUHJvcGVydGllcwogICAgfSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9zaG93aW5nX2NvdW50LlNob3dpbmdDb3VudCwgewogICAgICBmaWx0ZXJSZXN1bHRzTGVuZ3RoOiBmaWx0ZXJlZEpvYnMubGVuZ3RoCiAgICB9KSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgICAgc2l6ZTogIm0iCiAgICB9KSwgaW5jb21wYXRpYmxlSm9iQ291bnQgPiAwICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlDYWxsT3V0LCB7CiAgICAgIHRpdGxlOiBpMThuLk1PRFVMRV9OT1RfQ09NUEFUSUJMRV9USVRMRShpbmNvbXBhdGlibGVKb2JDb3VudCksCiAgICAgIGNvbG9yOiAid2FybmluZyIsCiAgICAgIGljb25UeXBlOiAiYWxlcnQiLAogICAgICBzaXplOiAicyIKICAgIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJXZSBjb3VsZCBub3QgZmluZCBhbnkgZGF0YSwgc2VlIHttbERvY3N9IGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIE1hY2hpbmUgTGVhcm5pbmcgam9iIHJlcXVpcmVtZW50cy4iLAogICAgICBpZDogInhwYWNrLnNpZW0uY29tcG9uZW50cy5tbFBvcHVwLm1vZHVsZU5vdENvbXBhdGlibGVEZXNjcmlwdGlvbiIsCiAgICAgIHZhbHVlczogewogICAgICAgIG1sRG9jczogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImEiLCB7CiAgICAgICAgICBocmVmOiAiIi5jb25jYXQoZG9jTGlua3MuRUxBU1RJQ19XRUJTSVRFX1VSTCwgImd1aWRlL2VuL3NpZW0vZ3VpZGUvIikuY29uY2F0KGRvY0xpbmtzLkRPQ19MSU5LX1ZFUlNJT04sICIvbWFjaGluZS1sZWFybmluZy5odG1sIiksCiAgICAgICAgICByZWw6ICJub29wZW5lciBub3JlZmVycmVyIiwKICAgICAgICAgIHRhcmdldDogIl9ibGFuayIKICAgICAgICB9LCAnQW5vbWFseSBEZXRlY3Rpb24gd2l0aCBNYWNoaW5lIExlYXJuaW5nJykKICAgICAgfQogICAgfSkpKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgICAgc2l6ZTogIm0iCiAgICB9KSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9qb2JzX3RhYmxlLkpvYnNUYWJsZSwgewogICAgICBpc0xvYWRpbmc6IGlzTG9hZGluZ1NpZW1Kb2JzLAogICAgICBqb2JzOiBmaWx0ZXJlZEpvYnMsCiAgICAgIG9uSm9iU3RhdGVDaGFuZ2U6IGVuYWJsZURhdGFmZWVkCiAgICB9KSkpOwogIH0gZWxzZSB7CiAgICAvLyBJZiB0aGUgdXNlciBoYXMgUGxhdGludW0gTGljZW5zZSAmIG5vdCBNTCBBZG1pbiwgaGlkZSBBbm9tYWx5IERldGVjdGlvbiBidXR0b24gYXMgdGhleSBkb24ndCBoYXZlIHBlcm1pc3Npb25zIHRvIGNvbmZpZ3VyZQogICAgcmV0dXJuIG51bGw7CiAgfQp9KTsKCmV4cG9ydHMuTWxQb3BvdmVyID0gTWxQb3BvdmVyOwoKdmFyIHN1Ym1pdFRlbGVtZXRyeSA9IGZ1bmN0aW9uIHN1Ym1pdFRlbGVtZXRyeShqb2IsIGVuYWJsZWQpIHsKICAvLyBSZXBvcnQgdHlwZSBvZiBqb2IgZW5hYmxlZC9kaXNhYmxlZAogICgwLCBfdGVsZW1ldHJ5LnRyYWNrKShfdGVsZW1ldHJ5Lk1FVFJJQ19UWVBFLkNPVU5ULCBqb2IuaXNFbGFzdGljSm9iID8gZW5hYmxlZCA/IF90ZWxlbWV0cnkuVEVMRU1FVFJZX0VWRU5ULlNJRU1fSk9CX0VOQUJMRUQgOiBfdGVsZW1ldHJ5LlRFTEVNRVRSWV9FVkVOVC5TSUVNX0pPQl9ESVNBQkxFRCA6IGVuYWJsZWQgPyBfdGVsZW1ldHJ5LlRFTEVNRVRSWV9FVkVOVC5DVVNUT01fSk9CX0VOQUJMRUQgOiBfdGVsZW1ldHJ5LlRFTEVNRVRSWV9FVkVOVC5DVVNUT01fSk9CX0RJU0FCTEVEKTsKfTsKCk1sUG9wb3Zlci5kaXNwbGF5TmFtZSA9ICdNbFBvcG92ZXInOw=="},null]}