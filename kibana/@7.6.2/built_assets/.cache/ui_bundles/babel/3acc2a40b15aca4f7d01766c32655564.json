{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/vis_type_timeseries/public/components/vis_types/timeseries/vis.js","dependencies":[{"path":"src/legacy/core_plugins/vis_type_timeseries/public/components/vis_types/timeseries/vis.js","mtime":1585205040383},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlRpbWVzZXJpZXNWaXN1YWxpemF0aW9uID0gdm9pZCAwOwoKdmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInByb3AtdHlwZXMiKSk7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3JlYWN0Y3NzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJyZWFjdGNzcyIpKTsKCnZhciBfbG9kYXNoID0gcmVxdWlyZSgibG9kYXNoIik7Cgp2YXIgX25vdGlmeSA9IHJlcXVpcmUoInVpL25vdGlmeSIpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfY2hhcnRzID0gcmVxdWlyZSgiQGVsYXN0aWMvY2hhcnRzIik7Cgp2YXIgX3RpY2tfZm9ybWF0dGVyID0gcmVxdWlyZSgiLi4vLi4vbGliL3RpY2tfZm9ybWF0dGVyIik7Cgp2YXIgX3RpbWVzZXJpZXMgPSByZXF1aXJlKCIuLi8uLi8uLi92aXN1YWxpemF0aW9ucy92aWV3cy90aW1lc2VyaWVzIik7Cgp2YXIgX3B1YmxpYyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uL2tpYmFuYV9yZWFjdC9wdWJsaWMiKTsKCnZhciBfcmVwbGFjZV92YXJzID0gcmVxdWlyZSgiLi4vLi4vbGliL3JlcGxhY2VfdmFycyIpOwoKdmFyIF9nZXRfYXhpc19sYWJlbF9zdHJpbmcgPSByZXF1aXJlKCIuLi8uLi9saWIvZ2V0X2F4aXNfbGFiZWxfc3RyaW5nIik7Cgp2YXIgX2dldF9pbnRlcnZhbCA9IHJlcXVpcmUoIi4uLy4uL2xpYi9nZXRfaW50ZXJ2YWwiKTsKCnZhciBfY2hhcnRzMiA9IHJlcXVpcmUoIi4uLy4uL2xpYi9jaGFydHMiKTsKCnZhciBfY3JlYXRlX3hheGlzX2Zvcm1hdHRlciA9IHJlcXVpcmUoIi4uLy4uL2xpYi9jcmVhdGVfeGF4aXNfZm9ybWF0dGVyIik7Cgp2YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoIi4uLy4uLy4uL3Zpc3VhbGl6YXRpb25zL2NvbnN0YW50cyIpOwoKdmFyIF9zZXJ2aWNlcyA9IHJlcXVpcmUoIi4uLy4uLy4uL3NlcnZpY2VzIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9Cgp2YXIgVGltZXNlcmllc1Zpc3VhbGl6YXRpb24gPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKFRpbWVzZXJpZXNWaXN1YWxpemF0aW9uLCBfQ29tcG9uZW50KTsKCiAgZnVuY3Rpb24gVGltZXNlcmllc1Zpc3VhbGl6YXRpb24oKSB7CiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjsKCiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbWVzZXJpZXNWaXN1YWxpemF0aW9uKTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKFRpbWVzZXJpZXNWaXN1YWxpemF0aW9uKSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAieEF4aXNGb3JtYXR0ZXIiLCBmdW5jdGlvbiAoaW50ZXJ2YWwpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICB2YXIgX3RoaXMkcHJvcHMkdmlzRGF0YSA9IF90aGlzLnByb3BzLnZpc0RhdGEsCiAgICAgICAgICAgIHNjYWxlZERhdGFGb3JtYXQgPSBfdGhpcyRwcm9wcyR2aXNEYXRhLnNjYWxlZERhdGFGb3JtYXQsCiAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBfdGhpcyRwcm9wcyR2aXNEYXRhLmRhdGVGb3JtYXQ7CgogICAgICAgIGlmICghc2NhbGVkRGF0YUZvcm1hdCB8fCAhZGF0ZUZvcm1hdCkgewogICAgICAgICAgcmV0dXJuIHZhbDsKICAgICAgICB9CgogICAgICAgIHZhciBmb3JtYXR0ZXIgPSAoMCwgX2NyZWF0ZV94YXhpc19mb3JtYXR0ZXIuY3JlYXRlWGF4aXNGb3JtYXR0ZXIpKGludGVydmFsLCBzY2FsZWREYXRhRm9ybWF0LCBkYXRlRm9ybWF0KTsKICAgICAgICByZXR1cm4gZm9ybWF0dGVyKHZhbCk7CiAgICAgIH07CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJ5QXhpc1N0YWNrZWRCeVBlcmNlbnRGb3JtYXR0ZXIiLCBmdW5jdGlvbiAodmFsKSB7CiAgICAgIHZhciBuID0gTnVtYmVyKHZhbCkgKiAxMDA7CiAgICAgIHJldHVybiAiIi5jb25jYXQoKE51bWJlci5pc05hTihuKSA/IDAgOiBuKS50b0ZpeGVkKDApLCAiJSIpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiYXBwbHlEb2NUbyIsIGZ1bmN0aW9uICh0ZW1wbGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGRvYykgewogICAgICAgIHZhciB2YXJzID0gKDAsIF9yZXBsYWNlX3ZhcnMucmVwbGFjZVZhcnMpKHRlbXBsYXRlLCBudWxsLCBkb2MpOwoKICAgICAgICBpZiAodmFycyBpbnN0YW5jZW9mIEVycm9yKSB7CiAgICAgICAgICBfdGhpcy5zaG93VG9hc3ROb3RpZmljYXRpb24gPSB2YXJzLmVycm9yLmNhdXNlZF9ieTsKICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB2YXJzOwogICAgICB9OwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicHJlcGFyZUFubm90YXRpb25zIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcywKICAgICAgICAgIG1vZGVsID0gX3RoaXMkcHJvcHMubW9kZWwsCiAgICAgICAgICB2aXNEYXRhID0gX3RoaXMkcHJvcHMudmlzRGF0YTsKICAgICAgcmV0dXJuICgwLCBfbG9kYXNoLm1hcCkobW9kZWwuYW5ub3RhdGlvbnMsIGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGlkID0gX3JlZi5pZCwKICAgICAgICAgICAgY29sb3IgPSBfcmVmLmNvbG9yLAogICAgICAgICAgICBpY29uID0gX3JlZi5pY29uLAogICAgICAgICAgICB0ZW1wbGF0ZSA9IF9yZWYudGVtcGxhdGU7CiAgICAgICAgdmFyIGFubm90YXRpb25EYXRhID0gKDAsIF9sb2Rhc2guZ2V0KSh2aXNEYXRhLCAiIi5jb25jYXQobW9kZWwuaWQsICIuYW5ub3RhdGlvbnMuIikuY29uY2F0KGlkKSwgW10pOwoKICAgICAgICB2YXIgYXBwbHlEb2NUb1RlbXBsYXRlID0gX3RoaXMuYXBwbHlEb2NUbyh0ZW1wbGF0ZSk7CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZDogaWQsCiAgICAgICAgICBjb2xvcjogY29sb3IsCiAgICAgICAgICBpY29uOiBpY29uLAogICAgICAgICAgZGF0YTogYW5ub3RhdGlvbkRhdGEubWFwKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgICAgICB2YXIgZG9jcyA9IF9yZWYyLmRvY3MsCiAgICAgICAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYyLCBbImRvY3MiXSk7CgogICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgcmVzdCwgewogICAgICAgICAgICAgIGRvY3M6IGRvY3MubWFwKGFwcGx5RG9jVG9UZW1wbGF0ZSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSk7CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFRpbWVzZXJpZXNWaXN1YWxpemF0aW9uLCBbewogICAga2V5OiAiY29tcG9uZW50RGlkVXBkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7CiAgICAgIGlmICh0aGlzLnNob3dUb2FzdE5vdGlmaWNhdGlvbiAmJiB0aGlzLm5vdGlmaWNhdGlvblJlYXNvbiAhPT0gdGhpcy5zaG93VG9hc3ROb3RpZmljYXRpb24ucmVhc29uKSB7CiAgICAgICAgaWYgKHRoaXMubm90aWZpY2F0aW9uKSB7CiAgICAgICAgICBfbm90aWZ5LnRvYXN0Tm90aWZpY2F0aW9ucy5yZW1vdmUodGhpcy5ub3RpZmljYXRpb24pOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25SZWFzb24gPSB0aGlzLnNob3dUb2FzdE5vdGlmaWNhdGlvbi5yZWFzb247CiAgICAgICAgdGhpcy5ub3RpZmljYXRpb24gPSBfbm90aWZ5LnRvYXN0Tm90aWZpY2F0aW9ucy5hZGREYW5nZXIoewogICAgICAgICAgdGl0bGU6IHRoaXMuc2hvd1RvYXN0Tm90aWZpY2F0aW9uLnRpdGxlLAogICAgICAgICAgdGV4dDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcHVibGljLk1hcmtkb3duU2ltcGxlLCBudWxsLCB0aGlzLnNob3dUb2FzdE5vdGlmaWNhdGlvbi5yZWFzb24pCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5zaG93VG9hc3ROb3RpZmljYXRpb24gJiYgdGhpcy5ub3RpZmljYXRpb24pIHsKICAgICAgICBfbm90aWZ5LnRvYXN0Tm90aWZpY2F0aW9ucy5yZW1vdmUodGhpcy5ub3RpZmljYXRpb24pOwoKICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblJlYXNvbiA9IG51bGw7CiAgICAgICAgdGhpcy5ub3RpZmljYXRpb24gPSBudWxsOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsCiAgICAgICAgICBtb2RlbCA9IF90aGlzJHByb3BzMi5tb2RlbCwKICAgICAgICAgIHZpc0RhdGEgPSBfdGhpcyRwcm9wczIudmlzRGF0YSwKICAgICAgICAgIG9uQnJ1c2ggPSBfdGhpcyRwcm9wczIub25CcnVzaDsKICAgICAgdmFyIHN0eWxlcyA9ICgwLCBfcmVhY3Rjc3MuZGVmYXVsdCkoewogICAgICAgIGRlZmF1bHQ6IHsKICAgICAgICAgIHR2YlZpczogewogICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICgwLCBfbG9kYXNoLmdldCkobW9kZWwsICdiYWNrZ3JvdW5kX2NvbG9yJykKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICB2YXIgc2VyaWVzID0gKDAsIF9sb2Rhc2guZ2V0KSh2aXNEYXRhLCAiIi5jb25jYXQobW9kZWwuaWQsICIuc2VyaWVzIiksIFtdKTsKICAgICAgdmFyIGludGVydmFsID0gKDAsIF9nZXRfaW50ZXJ2YWwuZ2V0SW50ZXJ2YWwpKHZpc0RhdGEsIG1vZGVsKTsKICAgICAgdmFyIHlBeGlzSWRHZW5lcmF0b3IgPSAoMCwgX2V1aS5odG1sSWRHZW5lcmF0b3IpKCd5YXhpcycpOwogICAgICB2YXIgbWFpbkF4aXNHcm91cElkID0geUF4aXNJZEdlbmVyYXRvcignbWFpbl9ncm91cCcpOwogICAgICB2YXIgc2VyaWVzTW9kZWwgPSBtb2RlbC5zZXJpZXMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgcmV0dXJuICFzLmhpZGRlbjsKICAgICAgfSkubWFwKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgcmV0dXJuICgwLCBfbG9kYXNoLmNsb25lRGVlcCkocyk7CiAgICAgIH0pOwogICAgICB2YXIgZW5hYmxlSGlzdG9ncmFtTW9kZSA9ICgwLCBfY2hhcnRzMi5hcmVGaWVsZHNEaWZmZXJlbnQpKCdjaGFydF90eXBlJykoc2VyaWVzTW9kZWwpOwogICAgICB2YXIgZmlyc3RTZXJpZXMgPSBzZXJpZXNNb2RlbC5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgcmV0dXJuIHMuZm9ybWF0dGVyICYmICFzLnNlcGFyYXRlX2F4aXM7CiAgICAgIH0pOwogICAgICB2YXIgbWFpbkF4aXNTY2FsZVR5cGUgPSBUaW1lc2VyaWVzVmlzdWFsaXphdGlvbi5nZXRBeGlzU2NhbGVUeXBlKG1vZGVsKTsKICAgICAgdmFyIG1haW5BeGlzRG9tYWluID0gVGltZXNlcmllc1Zpc3VhbGl6YXRpb24uZ2V0WUF4aXNEb21haW4obW9kZWwpOwogICAgICB2YXIgdGlja0Zvcm1hdHRlciA9IFRpbWVzZXJpZXNWaXN1YWxpemF0aW9uLmdldFRpY2tGb3JtYXR0ZXIoZmlyc3RTZXJpZXMsIHRoaXMucHJvcHMuZ2V0Q29uZmlnKTsKICAgICAgdmFyIHlBeGlzID0gW107CiAgICAgIHZhciBtYWluRG9tYWluQWRkZWQgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93VG9hc3ROb3RpZmljYXRpb24gPSBudWxsOwogICAgICBzZXJpZXNNb2RlbC5mb3JFYWNoKGZ1bmN0aW9uIChzZXJpZXNHcm91cCkgewogICAgICAgIHZhciBpc1N0YWNrZWRXaXRoaW5TZXJpZXMgPSBzZXJpZXNHcm91cC5zdGFja2VkID09PSBfY29uc3RhbnRzLlNUQUNLRURfT1BUSU9OUy5TVEFDS0VEX1dJVEhJTl9TRVJJRVM7CiAgICAgICAgdmFyIGhhc1NlcGFyYXRlQXhpcyA9IEJvb2xlYW4oc2VyaWVzR3JvdXAuc2VwYXJhdGVfYXhpcyk7CiAgICAgICAgdmFyIGdyb3VwSWQgPSBoYXNTZXBhcmF0ZUF4aXMgfHwgaXNTdGFja2VkV2l0aGluU2VyaWVzID8gc2VyaWVzR3JvdXAuaWQgOiBtYWluQXhpc0dyb3VwSWQ7CiAgICAgICAgdmFyIGRvbWFpbiA9IGhhc1NlcGFyYXRlQXhpcyA/IFRpbWVzZXJpZXNWaXN1YWxpemF0aW9uLmdldFlBeGlzRG9tYWluKHNlcmllc0dyb3VwKSA6IHVuZGVmaW5lZDsKICAgICAgICB2YXIgaXNDdXN0b21Eb21haW4gPSBncm91cElkICE9PSBtYWluQXhpc0dyb3VwSWQ7CiAgICAgICAgdmFyIHNlcmllc0dyb3VwVGlja0Zvcm1hdHRlciA9IFRpbWVzZXJpZXNWaXN1YWxpemF0aW9uLmdldFRpY2tGb3JtYXR0ZXIoc2VyaWVzR3JvdXAsIF90aGlzMi5wcm9wcy5nZXRDb25maWcpOwogICAgICAgIHZhciB5U2NhbGVUeXBlID0gaGFzU2VwYXJhdGVBeGlzID8gVGltZXNlcmllc1Zpc3VhbGl6YXRpb24uZ2V0QXhpc1NjYWxlVHlwZShzZXJpZXNHcm91cCkgOiBtYWluQXhpc1NjYWxlVHlwZTsKCiAgICAgICAgaWYgKHNlcmllc0dyb3VwLnN0YWNrZWQgPT09IF9jb25zdGFudHMuU1RBQ0tFRF9PUFRJT05TLlBFUkNFTlQpIHsKICAgICAgICAgIHNlcmllc0dyb3VwLnNlcGFyYXRlX2F4aXMgPSB0cnVlOwogICAgICAgICAgc2VyaWVzR3JvdXAuYXhpc0Zvcm1hdHRlciA9ICdwZXJjZW50JzsKICAgICAgICAgIHNlcmllc0dyb3VwLmF4aXNfbWluID0gc2VyaWVzR3JvdXAuYXhpc19taW4gfHwgMDsKICAgICAgICAgIHNlcmllc0dyb3VwLmF4aXNfbWF4ID0gc2VyaWVzR3JvdXAuYXhpc19tYXggfHwgMTsKICAgICAgICAgIHNlcmllc0dyb3VwLmF4aXNfcG9zaXRpb24gPSBtb2RlbC5heGlzX3Bvc2l0aW9uOwogICAgICAgIH0KCiAgICAgICAgc2VyaWVzLmZpbHRlcihmdW5jdGlvbiAocikgewogICAgICAgICAgcmV0dXJuICgwLCBfbG9kYXNoLnN0YXJ0c1dpdGgpKHIuaWQsIHNlcmllc0dyb3VwLmlkKTsKICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChzZXJpZXNEYXRhUm93KSB7CiAgICAgICAgICBzZXJpZXNEYXRhUm93LnRpY2tGb3JtYXR0ZXIgPSBzZXJpZXNHcm91cFRpY2tGb3JtYXR0ZXI7CiAgICAgICAgICBzZXJpZXNEYXRhUm93Lmdyb3VwSWQgPSBncm91cElkOwogICAgICAgICAgc2VyaWVzRGF0YVJvdy55U2NhbGVUeXBlID0geVNjYWxlVHlwZTsKICAgICAgICAgIHNlcmllc0RhdGFSb3cuaGlkZUluTGVnZW5kID0gQm9vbGVhbihzZXJpZXNHcm91cC5oaWRlX2luX2xlZ2VuZCk7CiAgICAgICAgICBzZXJpZXNEYXRhUm93LnVzZURlZmF1bHRHcm91cERvbWFpbiA9ICFpc0N1c3RvbURvbWFpbjsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGlzQ3VzdG9tRG9tYWluKSB7CiAgICAgICAgICBUaW1lc2VyaWVzVmlzdWFsaXphdGlvbi5hZGRZQXhpcyh5QXhpcywgewogICAgICAgICAgICBkb21haW46IGRvbWFpbiwKICAgICAgICAgICAgZ3JvdXBJZDogZ3JvdXBJZCwKICAgICAgICAgICAgaWQ6IHlBeGlzSWRHZW5lcmF0b3Ioc2VyaWVzR3JvdXAuaWQpLAogICAgICAgICAgICBwb3NpdGlvbjogc2VyaWVzR3JvdXAuYXhpc19wb3NpdGlvbiwKICAgICAgICAgICAgaGlkZTogaXNTdGFja2VkV2l0aGluU2VyaWVzLAogICAgICAgICAgICB0aWNrRm9ybWF0dGVyOiBzZXJpZXNHcm91cC5zdGFja2VkID09PSBfY29uc3RhbnRzLlNUQUNLRURfT1BUSU9OUy5QRVJDRU5UID8gX3RoaXMyLnlBeGlzU3RhY2tlZEJ5UGVyY2VudEZvcm1hdHRlciA6IHNlcmllc0dyb3VwVGlja0Zvcm1hdHRlcgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmICghbWFpbkRvbWFpbkFkZGVkKSB7CiAgICAgICAgICBUaW1lc2VyaWVzVmlzdWFsaXphdGlvbi5hZGRZQXhpcyh5QXhpcywgewogICAgICAgICAgICB0aWNrRm9ybWF0dGVyOiB0aWNrRm9ybWF0dGVyLAogICAgICAgICAgICBpZDogeUF4aXNJZEdlbmVyYXRvcignbWFpbicpLAogICAgICAgICAgICBncm91cElkOiBtYWluQXhpc0dyb3VwSWQsCiAgICAgICAgICAgIHBvc2l0aW9uOiBtb2RlbC5heGlzX3Bvc2l0aW9uLAogICAgICAgICAgICBkb21haW46IG1haW5BeGlzRG9tYWluCiAgICAgICAgICB9KTsKICAgICAgICAgIG1haW5Eb21haW5BZGRlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIGRhcmtNb2RlID0gKDAsIF9zZXJ2aWNlcy5nZXRVSVNldHRpbmdzKSgpLmdldCgndGhlbWU6ZGFya01vZGUnKTsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6ICJ0dmJWaXMiLAogICAgICAgIHN0eWxlOiBzdHlsZXMudHZiVmlzCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3RpbWVzZXJpZXMuVGltZVNlcmllcywgewogICAgICAgIHNlcmllczogc2VyaWVzLAogICAgICAgIHlBeGlzOiB5QXhpcywKICAgICAgICBvbkJydXNoOiBvbkJydXNoLAogICAgICAgIGVuYWJsZUhpc3RvZ3JhbU1vZGU6IGVuYWJsZUhpc3RvZ3JhbU1vZGUsCiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBtb2RlbC5iYWNrZ3JvdW5kX2NvbG9yLAogICAgICAgIGRhcmtNb2RlOiBkYXJrTW9kZSwKICAgICAgICBzaG93R3JpZDogQm9vbGVhbihtb2RlbC5zaG93X2dyaWQpLAogICAgICAgIGxlZ2VuZDogQm9vbGVhbihtb2RlbC5zaG93X2xlZ2VuZCksCiAgICAgICAgbGVnZW5kUG9zaXRpb246IG1vZGVsLmxlZ2VuZF9wb3NpdGlvbiwKICAgICAgICB4QXhpc0xhYmVsOiAoMCwgX2dldF9heGlzX2xhYmVsX3N0cmluZy5nZXRBeGlzTGFiZWxTdHJpbmcpKGludGVydmFsKSwKICAgICAgICB4QXhpc0Zvcm1hdHRlcjogdGhpcy54QXhpc0Zvcm1hdHRlcihpbnRlcnZhbCksCiAgICAgICAgYW5ub3RhdGlvbnM6IHRoaXMucHJlcGFyZUFubm90YXRpb25zKCkKICAgICAgfSkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFRpbWVzZXJpZXNWaXN1YWxpemF0aW9uOwp9KF9yZWFjdC5Db21wb25lbnQpOwoKZXhwb3J0cy5UaW1lc2VyaWVzVmlzdWFsaXphdGlvbiA9IFRpbWVzZXJpZXNWaXN1YWxpemF0aW9uOwoKX2RlZmluZVByb3BlcnR5KFRpbWVzZXJpZXNWaXN1YWxpemF0aW9uLCAicHJvcFR5cGVzIiwgewogIG1vZGVsOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LAogIG9uQnJ1c2g6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLAogIHZpc0RhdGE6IF9wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3QsCiAgZGF0ZUZvcm1hdDogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywKICBnZXRDb25maWc6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jCn0pOwoKX2RlZmluZVByb3BlcnR5KFRpbWVzZXJpZXNWaXN1YWxpemF0aW9uLCAiZ2V0WUF4aXNEb21haW4iLCBmdW5jdGlvbiAobW9kZWwpIHsKICB2YXIgYXhpc01pbiA9ICgwLCBfbG9kYXNoLmdldCkobW9kZWwsICdheGlzX21pbicsICcnKS50b1N0cmluZygpOwogIHZhciBheGlzTWF4ID0gKDAsIF9sb2Rhc2guZ2V0KShtb2RlbCwgJ2F4aXNfbWF4JywgJycpLnRvU3RyaW5nKCk7CiAgdmFyIGZpdCA9IG1vZGVsLnNlcmllcyA/IG1vZGVsLnNlcmllcy5maWx0ZXIoZnVuY3Rpb24gKF9yZWYzKSB7CiAgICB2YXIgaGlkZGVuID0gX3JlZjMuaGlkZGVuOwogICAgcmV0dXJuICFoaWRkZW47CiAgfSkuZXZlcnkoZnVuY3Rpb24gKF9yZWY0KSB7CiAgICB2YXIgZmlsbCA9IF9yZWY0LmZpbGw7CiAgICByZXR1cm4gZmlsbCA9PT0gJzAnOwogIH0pIDogbW9kZWwuZmlsbCA9PT0gJzAnOwogIHJldHVybiB7CiAgICBtaW46IGF4aXNNaW4ubGVuZ3RoID8gTnVtYmVyKGF4aXNNaW4pIDogdW5kZWZpbmVkLAogICAgbWF4OiBheGlzTWF4Lmxlbmd0aCA/IE51bWJlcihheGlzTWF4KSA6IHVuZGVmaW5lZCwKICAgIGZpdDogZml0CiAgfTsKfSk7CgpfZGVmaW5lUHJvcGVydHkoVGltZXNlcmllc1Zpc3VhbGl6YXRpb24sICJhZGRZQXhpcyIsIGZ1bmN0aW9uICh5QXhpcywgX3JlZjUpIHsKICB2YXIgaWQgPSBfcmVmNS5pZCwKICAgICAgZ3JvdXBJZCA9IF9yZWY1Lmdyb3VwSWQsCiAgICAgIHBvc2l0aW9uID0gX3JlZjUucG9zaXRpb24sCiAgICAgIHRpY2tGb3JtYXR0ZXIgPSBfcmVmNS50aWNrRm9ybWF0dGVyLAogICAgICBkb21haW4gPSBfcmVmNS5kb21haW4sCiAgICAgIGhpZGUgPSBfcmVmNS5oaWRlOwogIHlBeGlzLnB1c2goewogICAgaWQ6IGlkLAogICAgZ3JvdXBJZDogZ3JvdXBJZCwKICAgIHBvc2l0aW9uOiBwb3NpdGlvbiwKICAgIHRpY2tGb3JtYXR0ZXI6IHRpY2tGb3JtYXR0ZXIsCiAgICBkb21haW46IGRvbWFpbiwKICAgIGhpZGU6IGhpZGUKICB9KTsKfSk7CgpfZGVmaW5lUHJvcGVydHkoVGltZXNlcmllc1Zpc3VhbGl6YXRpb24sICJnZXRBeGlzU2NhbGVUeXBlIiwgZnVuY3Rpb24gKG1vZGVsKSB7CiAgcmV0dXJuICgwLCBfbG9kYXNoLmdldCkobW9kZWwsICdheGlzX3NjYWxlJykgPT09ICdsb2cnID8gX2NoYXJ0cy5TY2FsZVR5cGUuTG9nIDogX2NoYXJ0cy5TY2FsZVR5cGUuTGluZWFyOwp9KTsKCl9kZWZpbmVQcm9wZXJ0eShUaW1lc2VyaWVzVmlzdWFsaXphdGlvbiwgImdldFRpY2tGb3JtYXR0ZXIiLCBmdW5jdGlvbiAobW9kZWwsIGdldENvbmZpZykgewogIHJldHVybiAoMCwgX3RpY2tfZm9ybWF0dGVyLmNyZWF0ZVRpY2tGb3JtYXR0ZXIpKCgwLCBfbG9kYXNoLmdldCkobW9kZWwsICdmb3JtYXR0ZXInKSwgKDAsIF9sb2Rhc2guZ2V0KShtb2RlbCwgJ3ZhbHVlX3RlbXBsYXRlJyksIGdldENvbmZpZyk7Cn0pOw=="},null]}