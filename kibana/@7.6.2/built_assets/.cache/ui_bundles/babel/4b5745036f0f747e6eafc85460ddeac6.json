{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/canvas/public/components/element_types/index.js","dependencies":[{"path":"x-pack/legacy/plugins/canvas/public/components/element_types/index.js","mtime":1585205043641},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkVsZW1lbnRUeXBlcyA9IHZvaWQgMDsKCnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJwcm9wLXR5cGVzIikpOwoKdmFyIF9yZWNvbXBvc2UgPSByZXF1aXJlKCJyZWNvbXBvc2UiKTsKCnZhciBfcmVhY3RSZWR1eCA9IHJlcXVpcmUoInJlYWN0LXJlZHV4Iik7Cgp2YXIgX2xvZGFzaCA9IHJlcXVpcmUoImxvZGFzaCIpOwoKdmFyIF9jbG9uZV9zdWJncmFwaHMgPSByZXF1aXJlKCIuLi8uLi9saWIvY2xvbmVfc3ViZ3JhcGhzIik7Cgp2YXIgY3VzdG9tRWxlbWVudFNlcnZpY2UgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCIuLi8uLi9saWIvY3VzdG9tX2VsZW1lbnRfc2VydmljZSIpKTsKCnZhciBfZWxlbWVudHNfcmVnaXN0cnkgPSByZXF1aXJlKCIuLi8uLi9saWIvZWxlbWVudHNfcmVnaXN0cnkiKTsKCnZhciBfbm90aWZ5ID0gcmVxdWlyZSgiLi4vLi4vbGliL25vdGlmeSIpOwoKdmFyIF90cmFuc2llbnQgPSByZXF1aXJlKCIuLi8uLi9zdGF0ZS9hY3Rpb25zL3RyYW5zaWVudCIpOwoKdmFyIF9lbGVtZW50cyA9IHJlcXVpcmUoIi4uLy4uL3N0YXRlL2FjdGlvbnMvZWxlbWVudHMiKTsKCnZhciBfd29ya3BhZCA9IHJlcXVpcmUoIi4uLy4uL3N0YXRlL3NlbGVjdG9ycy93b3JrcGFkIik7Cgp2YXIgX3VpX21ldHJpYyA9IHJlcXVpcmUoIi4uLy4uL2xpYi91aV9tZXRyaWMiKTsKCnZhciBfZWxlbWVudF90eXBlcyA9IHJlcXVpcmUoIi4vZWxlbWVudF90eXBlcyIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfQoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfQoKdmFyIGN1c3RvbUVsZW1lbnRBZGRlZCA9ICdlbGVtZW50cy1jdXN0b20tYWRkZWQnOwoKdmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkgewogIHJldHVybiB7CiAgICBwYWdlSWQ6ICgwLCBfd29ya3BhZC5nZXRTZWxlY3RlZFBhZ2UpKHN0YXRlKQogIH07Cn07Cgp2YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7CiAgcmV0dXJuIHsKICAgIHNlbGVjdFRvcGxldmVsTm9kZXM6IGZ1bmN0aW9uIHNlbGVjdFRvcGxldmVsTm9kZXMobm9kZXMpIHsKICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfdHJhbnNpZW50LnNlbGVjdFRvcGxldmVsTm9kZXMpKG5vZGVzLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAhZS5wb3NpdGlvbi5wYXJlbnQ7CiAgICAgIH0pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlkOwogICAgICB9KSkpOwogICAgfSwKICAgIGluc2VydE5vZGVzOiBmdW5jdGlvbiBpbnNlcnROb2RlcyhzZWxlY3RlZE5vZGVzLCBwYWdlSWQpIHsKICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfZWxlbWVudHMuaW5zZXJ0Tm9kZXMpKHNlbGVjdGVkTm9kZXMsIHBhZ2VJZCkpOwogICAgfSwKICAgIGFkZEVsZW1lbnQ6IGZ1bmN0aW9uIGFkZEVsZW1lbnQocGFnZUlkLCBwYXJ0aWFsRWxlbWVudCkgewogICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9lbGVtZW50cy5hZGRFbGVtZW50KShwYWdlSWQsIHBhcnRpYWxFbGVtZW50KSk7CiAgICB9CiAgfTsKfTsKCnZhciBtZXJnZVByb3BzID0gZnVuY3Rpb24gbWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBvd25Qcm9wcykgewogIHZhciBwYWdlSWQgPSBzdGF0ZVByb3BzLnBhZ2VJZCwKICAgICAgcmVtYWluaW5nU3RhdGVQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzdGF0ZVByb3BzLCBbInBhZ2VJZCJdKTsKCiAgdmFyIF9hZGRFbGVtZW50MiA9IGRpc3BhdGNoUHJvcHMuYWRkRWxlbWVudCwKICAgICAgaW5zZXJ0Tm9kZXMgPSBkaXNwYXRjaFByb3BzLmluc2VydE5vZGVzLAogICAgICBzZWxlY3RUb3BsZXZlbE5vZGVzID0gZGlzcGF0Y2hQcm9wcy5zZWxlY3RUb3BsZXZlbE5vZGVzOwogIHZhciBzZWFyY2ggPSBvd25Qcm9wcy5zZWFyY2gsCiAgICAgIHNldEN1c3RvbUVsZW1lbnRzID0gb3duUHJvcHMuc2V0Q3VzdG9tRWxlbWVudHMsCiAgICAgIG9uQ2xvc2UgPSBvd25Qcm9wcy5vbkNsb3NlOwogIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCByZW1haW5pbmdTdGF0ZVByb3BzLCB7fSwgb3duUHJvcHMsIHsKICAgIC8vIGFkZCBidWlsdC1pbiBlbGVtZW50IHRvIHRoZSBwYWdlCiAgICBhZGRFbGVtZW50OiBmdW5jdGlvbiBhZGRFbGVtZW50KGVsZW1lbnQpIHsKICAgICAgX2FkZEVsZW1lbnQyKHBhZ2VJZCwgZWxlbWVudCk7CgogICAgICBvbkNsb3NlKCk7CiAgICB9LAogICAgLy8gYWRkIGN1c3RvbSBlbGVtZW50IHRvIHRoZSBwYWdlCiAgICBhZGRDdXN0b21FbGVtZW50OiBmdW5jdGlvbiBhZGRDdXN0b21FbGVtZW50KGN1c3RvbUVsZW1lbnQpIHsKICAgICAgdmFyIF9yZWYgPSBKU09OLnBhcnNlKGN1c3RvbUVsZW1lbnQuY29udGVudCkgfHwge30sCiAgICAgICAgICBfcmVmJHNlbGVjdGVkTm9kZXMgPSBfcmVmLnNlbGVjdGVkTm9kZXMsCiAgICAgICAgICBzZWxlY3RlZE5vZGVzID0gX3JlZiRzZWxlY3RlZE5vZGVzID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkc2VsZWN0ZWROb2RlczsKCiAgICAgIHZhciBjbG9uZWROb2RlcyA9IHNlbGVjdGVkTm9kZXMgJiYgKDAsIF9jbG9uZV9zdWJncmFwaHMuY2xvbmVTdWJncmFwaHMpKHNlbGVjdGVkTm9kZXMpOwoKICAgICAgaWYgKGNsb25lZE5vZGVzKSB7CiAgICAgICAgaW5zZXJ0Tm9kZXMoY2xvbmVkTm9kZXMsIHBhZ2VJZCk7IC8vIGZpcnN0IGNsb25lIGFuZCBwZXJzaXN0IHRoZSBuZXcgbm9kZShzKQoKICAgICAgICBzZWxlY3RUb3BsZXZlbE5vZGVzKGNsb25lZE5vZGVzKTsgLy8gdGhlbiBzZWxlY3QgdGhlIGNsb25lZCBub2RlKHMpCiAgICAgIH0KCiAgICAgIG9uQ2xvc2UoKTsKICAgICAgKDAsIF91aV9tZXRyaWMudHJhY2tDYW52YXNVaU1ldHJpYykoX3VpX21ldHJpYy5NRVRSSUNfVFlQRS5MT0FERUQsIGN1c3RvbUVsZW1lbnRBZGRlZCk7CiAgICB9LAogICAgLy8gY3VzdG9tIGVsZW1lbnQgc2VhcmNoCiAgICBmaW5kQ3VzdG9tRWxlbWVudHM6IGZ1bmN0aW9uIGZpbmRDdXN0b21FbGVtZW50cyh0ZXh0KSB7CiAgICAgIHZhciBfcmVmMiwgY3VzdG9tRWxlbWVudHM7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGZpbmRDdXN0b21FbGVtZW50cyQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChjdXN0b21FbGVtZW50U2VydmljZS5maW5kKHRleHQpKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfcmVmMiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgY3VzdG9tRWxlbWVudHMgPSBfcmVmMi5jdXN0b21FbGVtZW50czsKICAgICAgICAgICAgICBzZXRDdXN0b21FbGVtZW50cyhjdXN0b21FbGVtZW50cyk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgIF9ub3RpZnkubm90aWZ5LmVycm9yKF9jb250ZXh0LnQwLCB7CiAgICAgICAgICAgICAgICB0aXRsZTogIkNvdWxkbid0IGZpbmQgY3VzdG9tIGVsZW1lbnRzIgogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgbnVsbCwgW1swLCA4XV0pOwogICAgfSwKICAgIC8vIHJlbW92ZSBjdXN0b20gZWxlbWVudAogICAgcmVtb3ZlQ3VzdG9tRWxlbWVudDogZnVuY3Rpb24gcmVtb3ZlQ3VzdG9tRWxlbWVudChpZCkgewogICAgICB2YXIgX3JlZjMsIF9jdXN0b21FbGVtZW50czsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gcmVtb3ZlQ3VzdG9tRWxlbWVudCQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGN1c3RvbUVsZW1lbnRTZXJ2aWNlLnJlbW92ZShpZCkudGhlbigpKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChjdXN0b21FbGVtZW50U2VydmljZS5maW5kKHNlYXJjaCkpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF9yZWYzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2N1c3RvbUVsZW1lbnRzID0gX3JlZjMuY3VzdG9tRWxlbWVudHM7CiAgICAgICAgICAgICAgc2V0Q3VzdG9tRWxlbWVudHMoX2N1c3RvbUVsZW1lbnRzKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEwOwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgX25vdGlmeS5ub3RpZnkuZXJyb3IoX2NvbnRleHQyLnQwLCB7CiAgICAgICAgICAgICAgICB0aXRsZTogIkNvdWxkbid0IGRlbGV0ZSBjdXN0b20gZWxlbWVudHMiCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgbnVsbCwgW1swLCAxMF1dKTsKICAgIH0sCiAgICAvLyB1cGRhdGUgY3VzdG9tIGVsZW1lbnQKICAgIHVwZGF0ZUN1c3RvbUVsZW1lbnQ6IGZ1bmN0aW9uIHVwZGF0ZUN1c3RvbUVsZW1lbnQoaWQsIG5hbWUsIGRlc2NyaXB0aW9uLCBpbWFnZSkgewogICAgICB2YXIgX3JlZjQsIF9jdXN0b21FbGVtZW50czI7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHVwZGF0ZUN1c3RvbUVsZW1lbnQkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChjdXN0b21FbGVtZW50U2VydmljZS51cGRhdGUoaWQsIHsKICAgICAgICAgICAgICAgIG5hbWU6ICgwLCBfbG9kYXNoLmNhbWVsQ2FzZSkobmFtZSksCiAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGltYWdlOiBpbWFnZSwKICAgICAgICAgICAgICAgIGhlbHA6IGRlc2NyaXB0aW9uCiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGN1c3RvbUVsZW1lbnRTZXJ2aWNlLmZpbmQoc2VhcmNoKSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX3JlZjQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBfY3VzdG9tRWxlbWVudHMyID0gX3JlZjQuY3VzdG9tRWxlbWVudHM7CiAgICAgICAgICAgICAgc2V0Q3VzdG9tRWxlbWVudHMoX2N1c3RvbUVsZW1lbnRzMik7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxMDsKICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgIF9ub3RpZnkubm90aWZ5LmVycm9yKF9jb250ZXh0My50MCwgewogICAgICAgICAgICAgICAgdGl0bGU6ICJDb3VsZG4ndCB1cGRhdGUgY3VzdG9tIGVsZW1lbnRzIgogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIG51bGwsIFtbMCwgMTBdXSk7CiAgICB9CiAgfSk7Cn07Cgp2YXIgRWxlbWVudFR5cGVzID0gKDAsIF9yZWNvbXBvc2UuY29tcG9zZSkoKDAsIF9yZWNvbXBvc2Uud2l0aFN0YXRlKSgnc2VhcmNoJywgJ3NldFNlYXJjaCcsICcnKSwgKDAsIF9yZWNvbXBvc2Uud2l0aFN0YXRlKSgnY3VzdG9tRWxlbWVudHMnLCAnc2V0Q3VzdG9tRWxlbWVudHMnLCBbXSksICgwLCBfcmVjb21wb3NlLndpdGhTdGF0ZSkoJ2ZpbHRlclRhZ3MnLCAnc2V0RmlsdGVyVGFncycsIFtdKSwgKDAsIF9yZWNvbXBvc2Uud2l0aFByb3BzKShmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHsKICAgIGVsZW1lbnRzOiBfZWxlbWVudHNfcmVnaXN0cnkuZWxlbWVudHNSZWdpc3RyeS50b0pTKCkKICB9Owp9KSwgKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzLCBtZXJnZVByb3BzKSkoX2VsZW1lbnRfdHlwZXMuRWxlbWVudFR5cGVzKTsKZXhwb3J0cy5FbGVtZW50VHlwZXMgPSBFbGVtZW50VHlwZXM7CkVsZW1lbnRUeXBlcy5wcm9wVHlwZXMgPSB7CiAgb25DbG9zZTogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMKfTs="},null]}