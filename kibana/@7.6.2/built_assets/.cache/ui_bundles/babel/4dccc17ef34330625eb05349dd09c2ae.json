{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/transform/public/app/sections/create_transform/components/step_define/pivot_preview.js","dependencies":[{"path":"x-pack/legacy/plugins/transform/public/app/sections/create_transform/components/step_define/pivot_preview.js","mtime":1585205048547},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlBpdm90UHJldmlldyA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfbW9tZW50VGltZXpvbmUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm1vbWVudC10aW1lem9uZSIpKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfc2hhcmVkX2ltcG9ydHMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi9zaGFyZWRfaW1wb3J0cyIpOwoKdmFyIF9jb21tb24gPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi9jb21tb24vdHlwZXMvY29tbW9uIik7Cgp2YXIgX3B1YmxpYyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3NyYy9wbHVnaW5zL2RhdGEvcHVibGljIik7Cgp2YXIgX2RhdGVfdXRpbHMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi9jb21tb24vdXRpbHMvZGF0ZV91dGlscyIpOwoKdmFyIF9raWJhbmEgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9saWIva2liYW5hIik7Cgp2YXIgX2NvbW1vbjIgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9jb21tb24iKTsKCnZhciBfY29tbW9uMyA9IHJlcXVpcmUoIi4vY29tbW9uIik7Cgp2YXIgX3VzZV9waXZvdF9wcmV2aWV3X2RhdGEgPSByZXF1aXJlKCIuL3VzZV9waXZvdF9wcmV2aWV3X2RhdGEiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgIHJldHVybiBvYmo7CiAgfSBlbHNlIHsKICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7CiAgICByZXR1cm4gbmV3T2JqOwogIH0KfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKZnVuY3Rpb24gc29ydENvbHVtbnMoZ3JvdXBCeUFycikgewogIHJldHVybiBmdW5jdGlvbiAoYSwgYikgewogICAgLy8gbWFrZSBzdXJlIGdyb3VwQnkgZmllbGRzIGFyZSBhbHdheXMgbW9zdCBsZWZ0IGNvbHVtbnMKICAgIGlmIChncm91cEJ5QXJyLnNvbWUoZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQuYWdnTmFtZSA9PT0gYTsKICAgIH0pICYmIGdyb3VwQnlBcnIuc29tZShmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC5hZ2dOYW1lID09PSBiOwogICAgfSkpIHsKICAgICAgcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiKTsKICAgIH0KCiAgICBpZiAoZ3JvdXBCeUFyci5zb21lKGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBkLmFnZ05hbWUgPT09IGE7CiAgICB9KSkgewogICAgICByZXR1cm4gLTE7CiAgICB9CgogICAgaWYgKGdyb3VwQnlBcnIuc29tZShmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC5hZ2dOYW1lID09PSBiOwogICAgfSkpIHsKICAgICAgcmV0dXJuIDE7CiAgICB9CgogICAgcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiKTsKICB9Owp9CgpmdW5jdGlvbiB1c2VQcmV2aW91cyh2YWx1ZSkgewogIHZhciByZWYgPSAoMCwgX3JlYWN0LnVzZVJlZikobnVsbCk7CiAgKDAsIF9yZWFjdC51c2VFZmZlY3QpKGZ1bmN0aW9uICgpIHsKICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7CiAgfSk7CiAgcmV0dXJuIHJlZi5jdXJyZW50Owp9Cgp2YXIgUHJldmlld1RpdGxlID0gZnVuY3Rpb24gUHJldmlld1RpdGxlKF9yZWYpIHsKICB2YXIgcHJldmlld1JlcXVlc3QgPSBfcmVmLnByZXZpZXdSZXF1ZXN0OwoKICB2YXIgZXVpQ29weVRleHQgPSBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sudHJhbnNmb3JtLnBpdm90UHJldmlldy5jb3B5Q2xpcGJvYXJkVG9vbHRpcCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnQ29weSBEZXYgQ29uc29sZSBzdGF0ZW1lbnQgb2YgdGhlIHBpdm90IHByZXZpZXcgdG8gdGhlIGNsaXBib2FyZC4nCiAgfSk7CgogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUaXRsZSwgewogICAgc2l6ZTogInhzIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sudHJhbnNmb3JtLnBpdm90UHJldmlldy5QaXZvdFByZXZpZXdUaXRsZScsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnVHJhbnNmb3JtIHBpdm90IHByZXZpZXcnCiAgfSkpKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ29weSwgewogICAgYmVmb3JlTWVzc2FnZTogZXVpQ29weVRleHQsCiAgICB0ZXh0VG9Db3B5OiAoMCwgX2NvbW1vbjMuZ2V0UGl2b3RQcmV2aWV3RGV2Q29uc29sZVN0YXRlbWVudCkocHJldmlld1JlcXVlc3QpCiAgfSwgZnVuY3Rpb24gKGNvcHkpIHsKICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uSWNvbiwgewogICAgICBvbkNsaWNrOiBjb3B5LAogICAgICBpY29uVHlwZTogImNvcHlDbGlwYm9hcmQiLAogICAgICAiYXJpYS1sYWJlbCI6IGV1aUNvcHlUZXh0CiAgICB9KTsKICB9KSkpOwp9OwoKdmFyIEVycm9yTWVzc2FnZSA9IGZ1bmN0aW9uIEVycm9yTWVzc2FnZShfcmVmMikgewogIHZhciBtZXNzYWdlID0gX3JlZjIubWVzc2FnZTsKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNvZGVCbG9jaywgewogICAgbGFuZ3VhZ2U6ICJqc29uIiwKICAgIGZvbnRTaXplOiAicyIsCiAgICBwYWRkaW5nU2l6ZTogInMiLAogICAgaXNDb3B5YWJsZTogdHJ1ZQogIH0sIG1lc3NhZ2UpOwp9OwoKdmFyIFBpdm90UHJldmlldyA9IF9yZWFjdC5kZWZhdWx0Lm1lbW8oZnVuY3Rpb24gKF9yZWYzKSB7CiAgdmFyIGFnZ3MgPSBfcmVmMy5hZ2dzLAogICAgICBncm91cEJ5ID0gX3JlZjMuZ3JvdXBCeSwKICAgICAgcXVlcnkgPSBfcmVmMy5xdWVyeTsKCiAgdmFyIF91c2VTdGF0ZSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIGNsZWFyVGFibGUgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRDbGVhclRhYmxlID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIGluZGV4UGF0dGVybiA9ICgwLCBfa2liYW5hLnVzZUN1cnJlbnRJbmRleFBhdHRlcm4pKCk7CgogIHZhciBfdXNlUGl2b3RQcmV2aWV3RGF0YSA9ICgwLCBfdXNlX3Bpdm90X3ByZXZpZXdfZGF0YS51c2VQaXZvdFByZXZpZXdEYXRhKShpbmRleFBhdHRlcm4sIHF1ZXJ5LCBhZ2dzLCBncm91cEJ5KSwKICAgICAgcHJldmlld0RhdGEgPSBfdXNlUGl2b3RQcmV2aWV3RGF0YS5wcmV2aWV3RGF0YSwKICAgICAgcHJldmlld01hcHBpbmdzID0gX3VzZVBpdm90UHJldmlld0RhdGEucHJldmlld01hcHBpbmdzLAogICAgICBlcnJvck1lc3NhZ2UgPSBfdXNlUGl2b3RQcmV2aWV3RGF0YS5lcnJvck1lc3NhZ2UsCiAgICAgIHByZXZpZXdSZXF1ZXN0ID0gX3VzZVBpdm90UHJldmlld0RhdGEucHJldmlld1JlcXVlc3QsCiAgICAgIHN0YXR1cyA9IF91c2VQaXZvdFByZXZpZXdEYXRhLnN0YXR1czsKCiAgdmFyIGdyb3VwQnlBcnIgPSAoMCwgX2NvbW1vbi5kaWN0aW9uYXJ5VG9BcnJheSkoZ3JvdXBCeSk7IC8vIEV1aUluTWVtb3J5VGFibGUgaGFzIGFuIGlzc3VlIHdpdGggZHluYW1pYyBzb3J0YWJsZSBjb2x1bW5zCiAgLy8gYW5kIHdpbGwgdHJpZ2dlciBhIGZ1bGwgcGFnZSBLaWJhbmEgZXJyb3IgaW4gc3VjaCBhIGNhc2UuCiAgLy8gVGhlIGZvbGxvd2luZyBpcyBhIHdvcmthcm91bmQgdW50aWwgdGhpcyBpcyBzb2x2ZWQgdXBzdHJlYW06CiAgLy8gLSBJZiB0aGUgc29ydGFibGUvY29sdW1ucyBjb25maWcgY2hhbmdlcywKICAvLyAgIHRoZSB0YWJsZSB3aWxsIGJlIHVubW91bnRlZC9ub3QgcmVuZGVyZWQuCiAgLy8gICBUaGlzIGlzIHdoYXQgdGhlIHVzZUVmZmVjdCgpIHBhcnQgZG9lcy4KICAvLyAtIEFmdGVyIHRoYXQgdGhlIHRhYmxlIGdldHMgcmUtZW5hYmxlZC4gVG8gbWFrZSBzdXJlIFJlYWN0CiAgLy8gICBkb2Vzbid0IGNvbnNvbGlkYXRlIHRoZSBzdGF0ZSB1cGRhdGVzLCBzZXRUaW1lb3V0IGlzIHVzZWQuCgogIHZhciBmaXJzdENvbHVtbk5hbWUgPSBwcmV2aWV3RGF0YS5sZW5ndGggPiAwID8gT2JqZWN0LmtleXMocHJldmlld0RhdGFbMF0pLnNvcnQoc29ydENvbHVtbnMoZ3JvdXBCeUFycikpWzBdIDogdW5kZWZpbmVkOwogIHZhciBmaXJzdENvbHVtbk5hbWVDaGFuZ2VkID0gdXNlUHJldmlvdXMoZmlyc3RDb2x1bW5OYW1lKSAhPT0gZmlyc3RDb2x1bW5OYW1lOwogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICBpZiAoZmlyc3RDb2x1bW5OYW1lQ2hhbmdlZCkgewogICAgICBzZXRDbGVhclRhYmxlKHRydWUpOwogICAgfQoKICAgIGlmIChjbGVhclRhYmxlKSB7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBzZXRDbGVhclRhYmxlKGZhbHNlKTsKICAgICAgfSwgMCk7CiAgICB9CiAgfSwgW2ZpcnN0Q29sdW1uTmFtZUNoYW5nZWQsIGNsZWFyVGFibGVdKTsKCiAgaWYgKGZpcnN0Q29sdW1uTmFtZUNoYW5nZWQpIHsKICAgIHJldHVybiBudWxsOwogIH0KCiAgaWYgKHN0YXR1cyA9PT0gX3VzZV9waXZvdF9wcmV2aWV3X2RhdGEuUElWT1RfUFJFVklFV19TVEFUVVMuRVJST1IpIHsKICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUGFuZWwsIHsKICAgICAgZ3JvdzogZmFsc2UsCiAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJ0cmFuc2Zvcm1QaXZvdFByZXZpZXcgZXJyb3IiCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFByZXZpZXdUaXRsZSwgewogICAgICBwcmV2aWV3UmVxdWVzdDogcHJldmlld1JlcXVlc3QKICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ2FsbE91dCwgewogICAgICB0aXRsZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnRyYW5zZm9ybS5waXZvdFByZXZpZXcuUGl2b3RQcmV2aWV3RXJyb3InLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdBbiBlcnJvciBvY2N1cnJlZCBsb2FkaW5nIHRoZSBwaXZvdCBwcmV2aWV3LicKICAgICAgfSksCiAgICAgIGNvbG9yOiAiZGFuZ2VyIiwKICAgICAgaWNvblR5cGU6ICJjcm9zcyIKICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRXJyb3JNZXNzYWdlLCB7CiAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZQogICAgfSkpKTsKICB9CgogIGlmIChwcmV2aWV3RGF0YS5sZW5ndGggPT09IDApIHsKICAgIHZhciBub0RhdGFNZXNzYWdlID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnRyYW5zZm9ybS5waXZvdFByZXZpZXcuUGl2b3RQcmV2aWV3Tm9EYXRhQ2FsbG91dEJvZHknLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVGhlIHByZXZpZXcgcmVxdWVzdCBkaWQgbm90IHJldHVybiBhbnkgZGF0YS4gUGxlYXNlIGVuc3VyZSB0aGUgb3B0aW9uYWwgcXVlcnkgcmV0dXJucyBkYXRhIGFuZCB0aGF0IHZhbHVlcyBleGlzdCBmb3IgdGhlIGZpZWxkIHVzZWQgYnkgZ3JvdXAtYnkgYW5kIGFnZ3JlZ2F0aW9uIGZpZWxkcy4nCiAgICB9KTsKCiAgICB2YXIgYWdnc0FyciA9ICgwLCBfY29tbW9uLmRpY3Rpb25hcnlUb0FycmF5KShhZ2dzKTsKCiAgICBpZiAoYWdnc0Fyci5sZW5ndGggPT09IDAgfHwgZ3JvdXBCeUFyci5sZW5ndGggPT09IDApIHsKICAgICAgbm9EYXRhTWVzc2FnZSA9IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay50cmFuc2Zvcm0ucGl2b3RQcmV2aWV3LlBpdm90UHJldmlld0luY29tcGxldGVDb25maWdDYWxsb3V0Qm9keScsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1BsZWFzZSBjaG9vc2UgYXQgbGVhc3Qgb25lIGdyb3VwLWJ5IGZpZWxkIGFuZCBhZ2dyZWdhdGlvbi4nCiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUGFuZWwsIHsKICAgICAgZ3JvdzogZmFsc2UsCiAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJ0cmFuc2Zvcm1QaXZvdFByZXZpZXcgZW1wdHkiCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFByZXZpZXdUaXRsZSwgewogICAgICBwcmV2aWV3UmVxdWVzdDogcHJldmlld1JlcXVlc3QKICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ2FsbE91dCwgewogICAgICB0aXRsZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnRyYW5zZm9ybS5waXZvdFByZXZpZXcuUGl2b3RQcmV2aWV3Tm9EYXRhQ2FsbG91dFRpdGxlJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUGl2b3QgcHJldmlldyBub3QgYXZhaWxhYmxlJwogICAgICB9KSwKICAgICAgY29sb3I6ICJwcmltYXJ5IgogICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIG5vRGF0YU1lc3NhZ2UpKSk7CiAgfQoKICB2YXIgY29sdW1uS2V5cyA9ICgwLCBfY29tbW9uMi5nZXRGbGF0dGVuZWRGaWVsZHMpKHByZXZpZXdEYXRhWzBdKTsKICBjb2x1bW5LZXlzLnNvcnQoc29ydENvbHVtbnMoZ3JvdXBCeUFycikpOwogIHZhciBjb2x1bW5zID0gY29sdW1uS2V5cy5tYXAoZnVuY3Rpb24gKGspIHsKICAgIHZhciBjb2x1bW4gPSB7CiAgICAgIGZpZWxkOiBrLAogICAgICBuYW1lOiBrLAogICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgdHJ1bmNhdGVUZXh0OiB0cnVlCiAgICB9OwoKICAgIGlmICh0eXBlb2YgcHJldmlld01hcHBpbmdzLnByb3BlcnRpZXNba10gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgIHZhciBlc0ZpZWxkVHlwZSA9IHByZXZpZXdNYXBwaW5ncy5wcm9wZXJ0aWVzW2tdLnR5cGU7CgogICAgICBzd2l0Y2ggKGVzRmllbGRUeXBlKSB7CiAgICAgICAgY2FzZSBfcHVibGljLkVTX0ZJRUxEX1RZUEVTLkJPT0xFQU46CiAgICAgICAgICBjb2x1bW4uZGF0YVR5cGUgPSAnYm9vbGVhbic7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBfcHVibGljLkVTX0ZJRUxEX1RZUEVTLkRBVEU6CiAgICAgICAgICBjb2x1bW4uYWxpZ24gPSAncmlnaHQnOwoKICAgICAgICAgIGNvbHVtbi5yZW5kZXIgPSBmdW5jdGlvbiAoZCkgewogICAgICAgICAgICByZXR1cm4gKDAsIF9kYXRlX3V0aWxzLmZvcm1hdEh1bWFuUmVhZGFibGVEYXRlVGltZVNlY29uZHMpKCgwLCBfbW9tZW50VGltZXpvbmUuZGVmYXVsdCkoZCkudW5peCgpICogMTAwMCk7CiAgICAgICAgICB9OwoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIF9wdWJsaWMuRVNfRklFTERfVFlQRVMuQllURToKICAgICAgICBjYXNlIF9wdWJsaWMuRVNfRklFTERfVFlQRVMuRE9VQkxFOgogICAgICAgIGNhc2UgX3B1YmxpYy5FU19GSUVMRF9UWVBFUy5GTE9BVDoKICAgICAgICBjYXNlIF9wdWJsaWMuRVNfRklFTERfVFlQRVMuSEFMRl9GTE9BVDoKICAgICAgICBjYXNlIF9wdWJsaWMuRVNfRklFTERfVFlQRVMuSU5URUdFUjoKICAgICAgICBjYXNlIF9wdWJsaWMuRVNfRklFTERfVFlQRVMuTE9ORzoKICAgICAgICBjYXNlIF9wdWJsaWMuRVNfRklFTERfVFlQRVMuU0NBTEVEX0ZMT0FUOgogICAgICAgIGNhc2UgX3B1YmxpYy5FU19GSUVMRF9UWVBFUy5TSE9SVDoKICAgICAgICAgIGNvbHVtbi5kYXRhVHlwZSA9ICdudW1iZXInOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgX3B1YmxpYy5FU19GSUVMRF9UWVBFUy5LRVlXT1JEOgogICAgICAgIGNhc2UgX3B1YmxpYy5FU19GSUVMRF9UWVBFUy5URVhUOgogICAgICAgICAgY29sdW1uLmRhdGFUeXBlID0gJ3N0cmluZyc7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBjb2x1bW47CiAgfSk7CgogIGlmIChjb2x1bW5zLmxlbmd0aCA9PT0gMCkgewogICAgcmV0dXJuIG51bGw7CiAgfQoKICB2YXIgc29ydGluZyA9IHsKICAgIHNvcnQ6IHsKICAgICAgZmllbGQ6IGNvbHVtbnNbMF0uZmllbGQsCiAgICAgIGRpcmVjdGlvbjogX3NoYXJlZF9pbXBvcnRzLlNPUlRfRElSRUNUSU9OLkFTQwogICAgfQogIH07CiAgdmFyIE1sSW5NZW1vcnlUYWJsZUJhc2ljID0gKDAsIF9zaGFyZWRfaW1wb3J0cy5tbEluTWVtb3J5VGFibGVCYXNpY0ZhY3RvcnkpKCk7CiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlQYW5lbCwgewogICAgImRhdGEtdGVzdC1zdWJqIjogInRyYW5zZm9ybVBpdm90UHJldmlldyBsb2FkZWQiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChQcmV2aWV3VGl0bGUsIHsKICAgIHByZXZpZXdSZXF1ZXN0OiBwcmV2aWV3UmVxdWVzdAogIH0pLCBzdGF0dXMgPT09IF91c2VfcGl2b3RfcHJldmlld19kYXRhLlBJVk9UX1BSRVZJRVdfU1RBVFVTLkxPQURJTkcgJiYgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVByb2dyZXNzLCB7CiAgICBzaXplOiAieHMiLAogICAgY29sb3I6ICJhY2NlbnQiCiAgfSksIHN0YXR1cyAhPT0gX3VzZV9waXZvdF9wcmV2aWV3X2RhdGEuUElWT1RfUFJFVklFV19TVEFUVVMuTE9BRElORyAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUHJvZ3Jlc3MsIHsKICAgIHNpemU6ICJ4cyIsCiAgICBjb2xvcjogImFjY2VudCIsCiAgICBtYXg6IDEsCiAgICB2YWx1ZTogMAogIH0pLCBwcmV2aWV3RGF0YS5sZW5ndGggPiAwICYmIGNsZWFyVGFibGUgPT09IGZhbHNlICYmIGNvbHVtbnMubGVuZ3RoID4gMCAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KE1sSW5NZW1vcnlUYWJsZUJhc2ljLCB7CiAgICBhbGxvd05ldXRyYWxTb3J0OiBmYWxzZSwKICAgIGNvbXByZXNzZWQ6IHRydWUsCiAgICBpdGVtczogcHJldmlld0RhdGEsCiAgICBjb2x1bW5zOiBjb2x1bW5zLAogICAgcGFnaW5hdGlvbjogewogICAgICBpbml0aWFsUGFnZVNpemU6IDUsCiAgICAgIHBhZ2VTaXplT3B0aW9uczogWzUsIDEwLCAyNV0KICAgIH0sCiAgICByb3dQcm9wczogZnVuY3Rpb24gcm93UHJvcHMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgJ2RhdGEtdGVzdC1zdWJqJzogJ3RyYW5zZm9ybVBpdm90UHJldmlld1JvdycKICAgICAgfTsKICAgIH0sCiAgICBzb3J0aW5nOiBzb3J0aW5nCiAgfSkpOwp9KTsKCmV4cG9ydHMuUGl2b3RQcmV2aWV3ID0gUGl2b3RQcmV2aWV3Ow=="},null]}