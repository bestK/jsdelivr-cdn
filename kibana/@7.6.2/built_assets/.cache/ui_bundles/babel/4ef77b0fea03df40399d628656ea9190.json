{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/ui/public/vis/editors/default/default.js","dependencies":[{"path":"src/legacy/ui/public/vis/editors/default/default.js","mtime":1585205041259},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHRFZGl0b3IgPSB2b2lkIDA7CgpyZXF1aXJlKCJ1aS9hbmd1bGFyLWJvb3RzdHJhcCIpOwoKcmVxdWlyZSgiLi9mYW5jeV9mb3JtcyIpOwoKcmVxdWlyZSgiLi9zaWRlYmFyIik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnJlcXVpcmUoIi4vdmlzX29wdGlvbnMiKTsKCnJlcXVpcmUoIi4vdmlzX2VkaXRvcl9yZXNpemVyIik7CgpyZXF1aXJlKCIuL3Zpc190eXBlX2FnZ19maWx0ZXIiKTsKCnZhciBfanF1ZXJ5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJqcXVlcnkiKSk7Cgp2YXIgX2xvZGFzaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgibG9kYXNoIikpOwoKdmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJhbmd1bGFyIikpOwoKdmFyIF9kZWZhdWx0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL2RlZmF1bHQuaHRtbCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX3BhcmVudF9waXBlbGluZV9hZ2dfaGVscGVyID0gcmVxdWlyZSgidWkvYWdnX3R5cGVzL21ldHJpY3MvbGliL3BhcmVudF9waXBlbGluZV9hZ2dfaGVscGVyIik7Cgp2YXIgX2VkaXRvcl9zaXplID0gcmVxdWlyZSgiLi4vLi4vZWRpdG9yX3NpemUiKTsKCnZhciBfYWdnX2dyb3VwcyA9IHJlcXVpcmUoIi4vYWdnX2dyb3VwcyIpOwoKdmFyIF9sZWdhY3kgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi9jb3JlX3BsdWdpbnMvZW1iZWRkYWJsZV9hcGkvcHVibGljL25wX3JlYWR5L3B1YmxpYy9sZWdhY3kiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCnZhciBkZWZhdWx0RWRpdG9yID0gZnVuY3Rpb24gZGVmYXVsdEVkaXRvcigkcm9vdFNjb3BlLCAkY29tcGlsZSkgewogIHZhciBfY2xhc3MsIF90ZW1wOwoKICByZXR1cm4gX3RlbXAgPSBfY2xhc3MgPQogIC8qI19fUFVSRV9fKi8KICBmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBEZWZhdWx0RWRpdG9yKGVsLCBzYXZlZE9iaikgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGVmYXVsdEVkaXRvcik7CgogICAgICB0aGlzLmVsID0gKDAsIF9qcXVlcnkuZGVmYXVsdCkoZWwpOwogICAgICB0aGlzLnNhdmVkT2JqID0gc2F2ZWRPYmo7CiAgICAgIHRoaXMudmlzID0gc2F2ZWRPYmoudmlzOwoKICAgICAgaWYgKCF0aGlzLnZpcy50eXBlLmVkaXRvckNvbmZpZy5vcHRpb25UYWJzICYmIHRoaXMudmlzLnR5cGUuZWRpdG9yQ29uZmlnLm9wdGlvbnNUZW1wbGF0ZSkgewogICAgICAgIHRoaXMudmlzLnR5cGUuZWRpdG9yQ29uZmlnLm9wdGlvblRhYnMgPSBbewogICAgICAgICAgbmFtZTogJ29wdGlvbnMnLAogICAgICAgICAgdGl0bGU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCdjb21tb24udWkudmlzLmVkaXRvcnMuc2lkZWJhci50YWJzLm9wdGlvbnNMYWJlbCcsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdPcHRpb25zJwogICAgICAgICAgfSksCiAgICAgICAgICBlZGl0b3I6IHRoaXMudmlzLnR5cGUuZWRpdG9yQ29uZmlnLm9wdGlvbnNUZW1wbGF0ZQogICAgICAgIH1dOwogICAgICB9CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKERlZmF1bHRFZGl0b3IsIFt7CiAgICAgIGtleTogInJlbmRlciIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoX3JlZikgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHZhciB1aVN0YXRlID0gX3JlZi51aVN0YXRlLAogICAgICAgICAgICB0aW1lUmFuZ2UgPSBfcmVmLnRpbWVSYW5nZSwKICAgICAgICAgICAgZmlsdGVycyA9IF9yZWYuZmlsdGVycywKICAgICAgICAgICAgcXVlcnkgPSBfcmVmLnF1ZXJ5LAogICAgICAgICAgICBhcHBTdGF0ZSA9IF9yZWYuYXBwU3RhdGU7CiAgICAgICAgdmFyICRzY29wZTsKCiAgICAgICAgdmFyIHVwZGF0ZVNjb3BlID0gZnVuY3Rpb24gdXBkYXRlU2NvcGUoKSB7CiAgICAgICAgICAkc2NvcGUudmlzID0gX3RoaXMudmlzOwogICAgICAgICAgJHNjb3BlLnVpU3RhdGUgPSB1aVN0YXRlOyAvLyRzY29wZS4kYXBwbHkoKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gX2NhbGxlZShyZXNvbHZlKSB7CiAgICAgICAgICB2YXIgdGVtcGxhdGUsIHZpc3VhbGl6YXRpb25FbDsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuJHNjb3BlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHNjb3BlID0gJHNjb3BlID0gJHJvb3RTY29wZS4kbmV3KCk7CiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU2NvcGUoKTsKICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGUgPSAkc2NvcGUudmlzLmNvcHlDdXJyZW50U3RhdGUodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9sZFN0YXRlID0gJHNjb3BlLnZpcy5nZXRTZXJpYWxpemFibGVTdGF0ZSgkc2NvcGUuc3RhdGUpOwoKICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG9nZ2xlU2lkZWJhciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdyZW5kZXInKTsKICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbC5vbmUoJ3JlbmRlckNvbXBsZXRlJywgcmVzb2x2ZSk7IC8vIHRyYWNrIHN0YXRlIG9mIGVkaXRhYmxlIHZpcyB2cy4gImFjdHVhbCIgdmlzCgoKICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhZ2VFZGl0YWJsZVZpcyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vbGRTdGF0ZSA9ICRzY29wZS52aXMuZ2V0U2VyaWFsaXphYmxlU3RhdGUoJHNjb3BlLnN0YXRlKTsKICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aXMuc2V0Q3VycmVudFN0YXRlKCRzY29wZS5zdGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmlzLnVwZGF0ZVN0YXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmlzLmRpcnR5ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlc2V0RWRpdGFibGVWaXMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGUgPSAkc2NvcGUudmlzLmNvcHlDdXJyZW50U3RhdGUodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmlzLmRpcnR5ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmF1dG9BcHBseUVuYWJsZWQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS52aXMudHlwZS5lZGl0b3JDb25maWcuZW5hYmxlQXV0b0FwcGx5KSB7CiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG9nZ2xlQXV0b0FwcGx5ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXV0b0FwcGx5RW5hYmxlZCA9ICEkc2NvcGUuYXV0b0FwcGx5RW5hYmxlZDsKICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCgndmlzLmRpcnR5JywgX2xvZGFzaC5kZWZhdWx0LmRlYm91bmNlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuYXV0b0FwcGx5RW5hYmxlZCB8fCAhJHNjb3BlLnZpcy5kaXJ0eSkgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhZ2VFZGl0YWJsZVZpcygpOwogICAgICAgICAgICAgICAgICAgICAgfSwgODAwKSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0RWRpdG9yV2l0aEtleWJvYXJkID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY3RybEtleSAmJiBldmVudC5rZXlDb2RlID09PSBfZXVpLmtleUNvZGVzLkVOVEVSKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhZ2VFZGl0YWJsZVZpcygpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXRTaWRlYmFyQ2xhc3MgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnZpcy50eXBlLmVkaXRvckNvbmZpZy5kZWZhdWx0U2l6ZSA9PT0gX2VkaXRvcl9zaXplLkRlZmF1bHRFZGl0b3JTaXplLlNNQUxMKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndmlzRWRpdG9yX19jb2xsYXBzaWJsZVNpZGViYXItLXNtYWxsJzsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLnZpcy50eXBlLmVkaXRvckNvbmZpZy5kZWZhdWx0U2l6ZSA9PT0gX2VkaXRvcl9zaXplLkRlZmF1bHRFZGl0b3JTaXplLk1FRElVTSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3Zpc0VkaXRvcl9fY29sbGFwc2libGVTaWRlYmFyLS1tZWRpdW0nOwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUudmlzLnR5cGUuZWRpdG9yQ29uZmlnLmRlZmF1bHRTaXplID09PSBfZWRpdG9yX3NpemUuRGVmYXVsdEVkaXRvclNpemUuTEFSR0UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aXNFZGl0b3JfX2NvbGxhcHNpYmxlU2lkZWJhci0tbGFyZ2UnOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS52aXMuZ2V0U2VyaWFsaXphYmxlU3RhdGUoJHNjb3BlLnN0YXRlKTsKICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAobmV3U3RhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aXMuZGlydHkgPSAhX2FuZ3VsYXIuZGVmYXVsdC5lcXVhbHMobmV3U3RhdGUsICRzY29wZS5vbGRTdGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VBZ2dzID0gJHNjb3BlLnN0YXRlLmFnZ3MuZ2V0UmVzcG9uc2VBZ2dzKCk7CiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaGFzSGlzdG9ncmFtQWdnID0gcmVzcG9uc2VBZ2dzLnNvbWUoZnVuY3Rpb24gKGFnZykgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWdnLnR5cGUubmFtZSA9PT0gJ2hpc3RvZ3JhbSc7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXRyaWNBZ2dzID0gcmVzcG9uc2VBZ2dzLmZpbHRlcihmdW5jdGlvbiAoYWdnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfbG9kYXNoLmRlZmF1bHQuZ2V0KGFnZywgJ3NjaGVtYS5ncm91cCcpID09PSBfYWdnX2dyb3Vwcy5BZ2dHcm91cE5hbWVzLk1ldHJpY3M7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFBhcmVudFBpcGVsaW5lQWdnID0gX2xvZGFzaC5kZWZhdWx0LmZpbmRMYXN0KCRzY29wZS5tZXRyaWNBZ2dzLCBmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBfcmVmMi50eXBlOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZS5zdWJ0eXBlID09PSBfcGFyZW50X3BpcGVsaW5lX2FnZ19oZWxwZXIucGFyZW50UGlwZWxpbmVBZ2dIZWxwZXIuc3VidHlwZTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5sYXN0UGFyZW50UGlwZWxpbmVBZ2dUaXRsZSA9IGxhc3RQYXJlbnRQaXBlbGluZUFnZyAmJiBsYXN0UGFyZW50UGlwZWxpbmVBZ2cudHlwZS50aXRsZTsKICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTsgLy8gZmlyZXMgd2hlbiB2aXN1YWxpemF0aW9uIHN0YXRlIGNoYW5nZXMsIGFuZCB3ZSBuZWVkIHRvIGNvcHkgY2hhbmdlcyB0byBlZGl0b3JTdGF0ZQoKICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUudmlzLmdldEN1cnJlbnRTdGF0ZShmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKG5ld1N0YXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9sb2Rhc2guZGVmYXVsdC5pc0VxdWFsKG5ld1N0YXRlLCAkc2NvcGUub2xkU3RhdGUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZSA9ICRzY29wZS52aXMuY29weUN1cnJlbnRTdGF0ZSh0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9sZFN0YXRlID0gbmV3U3RhdGU7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgdHJ1ZSk7IC8vIExvYWQgdGhlIGRlZmF1bHQgZWRpdG9yIHRlbXBsYXRlLCBhdHRhY2ggaXQgdG8gdGhlIERPTSBhbmQgY29tcGlsZSBpdC4KICAgICAgICAgICAgICAgICAgICAvLyBJdCBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIERPTSBiZWZvcmUgY29tcGlsaW5nLCB0byBwcmV2ZW50IHNvbWUgcmVzaXplCiAgICAgICAgICAgICAgICAgICAgLy8gbGlzdGVuZXIgaXNzdWVzLgoKICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9ICgwLCBfanF1ZXJ5LmRlZmF1bHQpKF9kZWZhdWx0LmRlZmF1bHQpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbC5odG1sKHRlbXBsYXRlKTsKCiAgICAgICAgICAgICAgICAgICAgJGNvbXBpbGUodGVtcGxhdGUpKCRzY29wZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJHNjb3BlID0gX3RoaXMuJHNjb3BlOwogICAgICAgICAgICAgICAgICAgIHVwZGF0ZVNjb3BlKCk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5faGFuZGxlcikgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICB2aXN1YWxpemF0aW9uRWwgPSBfdGhpcy5lbC5maW5kKCcudmlzRWRpdG9yX19jYW52YXMnKVswXTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoX2xlZ2FjeS5zdGFydC5nZXRFbWJlZGRhYmxlRmFjdG9yeSgndmlzdWFsaXphdGlvbicpLmNyZWF0ZUZyb21PYmplY3QoX3RoaXMuc2F2ZWRPYmosIHsKICAgICAgICAgICAgICAgICAgICB1aVN0YXRlOiB1aVN0YXRlLAogICAgICAgICAgICAgICAgICAgIGFwcFN0YXRlOiBhcHBTdGF0ZSwKICAgICAgICAgICAgICAgICAgICB0aW1lUmFuZ2U6IHRpbWVSYW5nZSwKICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzOiBmaWx0ZXJzIHx8IFtdLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlciA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlci5yZW5kZXIodmlzdWFsaXphdGlvbkVsKTsKCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlci51cGRhdGVJbnB1dCh7CiAgICAgICAgICAgICAgICAgICAgdGltZVJhbmdlOiB0aW1lUmFuZ2UsCiAgICAgICAgICAgICAgICAgICAgZmlsdGVyczogZmlsdGVycyB8fCBbXSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJyZXNpemUiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKCkge30KICAgIH0sIHsKICAgICAga2V5OiAiZGVzdHJveSIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgIGlmICh0aGlzLiRzY29wZSkgewogICAgICAgICAgdGhpcy4kc2NvcGUuJGRlc3Ryb3koKTsKICAgICAgICAgIHRoaXMuJHNjb3BlID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLl9oYW5kbGVyKSB7CiAgICAgICAgICB0aGlzLl9oYW5kbGVyLmRlc3Ryb3koKTsKICAgICAgICB9CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gRGVmYXVsdEVkaXRvcjsKICB9KCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MsICJrZXkiLCAnZGVmYXVsdCcpLCBfdGVtcDsKfTsKCmV4cG9ydHMuZGVmYXVsdEVkaXRvciA9IGRlZmF1bHRFZGl0b3I7"},null]}