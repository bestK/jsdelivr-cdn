{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/infra/public/pages/logs/log_entry_categories/page_results_content.js","dependencies":[{"path":"x-pack/legacy/plugins/infra/public/pages/logs/log_entry_categories/page_results_content.js","mtime":1585205044761},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlJlc3VsdHNDb250ZW50UGFnZSA9IGV4cG9ydHMuTG9nRW50cnlDYXRlZ29yaWVzUmVzdWx0c0NvbnRlbnQgPSB2b2lkIDA7Cgp2YXIgX2RhdGVtYXRoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAZWxhc3RpYy9kYXRlbWF0aCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfbW9tZW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJtb21lbnQiKSk7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3B1YmxpYyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3NyYy9wbHVnaW5zL2tpYmFuYV9yZWFjdC9wdWJsaWMiKTsKCnZhciBfZXVpX3N0eWxlZF9jb21wb25lbnRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi9jb21tb24vZXVpX3N0eWxlZF9jb21wb25lbnRzIikpOwoKdmFyIF9sb2dfYW5hbHlzaXNfam9iX3N0YXR1cyA9IHJlcXVpcmUoIi4uLy4uLy4uL2NvbXBvbmVudHMvbG9nZ2luZy9sb2dfYW5hbHlzaXNfam9iX3N0YXR1cyIpOwoKdmFyIF9sb2dfYW5hbHlzaXNfcmVzdWx0cyA9IHJlcXVpcmUoIi4uLy4uLy4uL2NvbXBvbmVudHMvbG9nZ2luZy9sb2dfYW5hbHlzaXNfcmVzdWx0cyIpOwoKdmFyIF91c2VfaW50ZXJ2YWwgPSByZXF1aXJlKCIuLi8uLi8uLi9ob29rcy91c2VfaW50ZXJ2YWwiKTsKCnZhciBfdXNlX3RyYWNrX21ldHJpYyA9IHJlcXVpcmUoIi4uLy4uLy4uL2hvb2tzL3VzZV90cmFja19tZXRyaWMiKTsKCnZhciBfdG9wX2NhdGVnb3JpZXMgPSByZXF1aXJlKCIuL3NlY3Rpb25zL3RvcF9jYXRlZ29yaWVzIik7Cgp2YXIgX3VzZV9sb2dfZW50cnlfY2F0ZWdvcmllc19tb2R1bGUgPSByZXF1aXJlKCIuL3VzZV9sb2dfZW50cnlfY2F0ZWdvcmllc19tb2R1bGUiKTsKCnZhciBfdXNlX2xvZ19lbnRyeV9jYXRlZ29yaWVzX3Jlc3VsdHMgPSByZXF1aXJlKCIuL3VzZV9sb2dfZW50cnlfY2F0ZWdvcmllc19yZXN1bHRzIik7Cgp2YXIgX3VzZV9sb2dfZW50cnlfY2F0ZWdvcmllc19yZXN1bHRzX3VybF9zdGF0ZSA9IHJlcXVpcmUoIi4vdXNlX2xvZ19lbnRyeV9jYXRlZ29yaWVzX3Jlc3VsdHNfdXJsX3N0YXRlIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgZmxleDogMSAwIDAlO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXG4gIC5ldWlGbGV4R3JvdXAtLXJlc3BvbnNpdmUgPiAuZXVpRmxleEl0ZW0ge1xuICAgIGZsZXgtYmFzaXM6IGF1dG8gIWltcG9ydGFudDtcbiAgfVxuIl0pOwoKICBfdGVtcGxhdGVPYmplY3QgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgICByZXR1cm4gZGF0YTsKICB9OwoKICByZXR1cm4gZGF0YTsKfQoKZnVuY3Rpb24gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChzdHJpbmdzLCByYXcpIHsKICBpZiAoIXJhdykgewogICAgcmF3ID0gc3RyaW5ncy5zbGljZSgwKTsKICB9CgogIHJldHVybiBPYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHN0cmluZ3MsIHsKICAgIHJhdzogewogICAgICB2YWx1ZTogT2JqZWN0LmZyZWV6ZShyYXcpCiAgICB9CiAgfSkpOwp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKdmFyIEpPQl9TVEFUVVNfUE9MTElOR19JTlRFUlZBTCA9IDMwMDAwOwoKdmFyIExvZ0VudHJ5Q2F0ZWdvcmllc1Jlc3VsdHNDb250ZW50ID0gZnVuY3Rpb24gTG9nRW50cnlDYXRlZ29yaWVzUmVzdWx0c0NvbnRlbnQoKSB7CiAgKDAsIF91c2VfdHJhY2tfbWV0cmljLnVzZVRyYWNrUGFnZXZpZXcpKHsKICAgIGFwcDogJ2luZnJhX2xvZ3MnLAogICAgcGF0aDogJ2xvZ19lbnRyeV9jYXRlZ29yaWVzX3Jlc3VsdHMnCiAgfSk7CiAgKDAsIF91c2VfdHJhY2tfbWV0cmljLnVzZVRyYWNrUGFnZXZpZXcpKHsKICAgIGFwcDogJ2luZnJhX2xvZ3MnLAogICAgcGF0aDogJ2xvZ19lbnRyeV9jYXRlZ29yaWVzX3Jlc3VsdHMnLAogICAgZGVsYXk6IDE1MDAwCiAgfSk7CgogIHZhciBfdXNlTG9nRW50cnlDYXRlZ29yaWUgPSAoMCwgX3VzZV9sb2dfZW50cnlfY2F0ZWdvcmllc19tb2R1bGUudXNlTG9nRW50cnlDYXRlZ29yaWVzTW9kdWxlQ29udGV4dCkoKSwKICAgICAgZmV0Y2hKb2JTdGF0dXMgPSBfdXNlTG9nRW50cnlDYXRlZ29yaWUuZmV0Y2hKb2JTdGF0dXMsCiAgICAgIGpvYlN0YXR1cyA9IF91c2VMb2dFbnRyeUNhdGVnb3JpZS5qb2JTdGF0dXMsCiAgICAgIHNldHVwU3RhdHVzID0gX3VzZUxvZ0VudHJ5Q2F0ZWdvcmllLnNldHVwU3RhdHVzLAogICAgICB2aWV3U2V0dXBGb3JSZWNvbmZpZ3VyYXRpb24gPSBfdXNlTG9nRW50cnlDYXRlZ29yaWUudmlld1NldHVwRm9yUmVjb25maWd1cmF0aW9uLAogICAgICB2aWV3U2V0dXBGb3JVcGRhdGUgPSBfdXNlTG9nRW50cnlDYXRlZ29yaWUudmlld1NldHVwRm9yVXBkYXRlLAogICAgICBqb2JJZHMgPSBfdXNlTG9nRW50cnlDYXRlZ29yaWUuam9iSWRzLAogICAgICBzb3VyY2VJZCA9IF91c2VMb2dFbnRyeUNhdGVnb3JpZS5zb3VyY2VDb25maWd1cmF0aW9uLnNvdXJjZUlkOwoKICB2YXIgX3VzZUxvZ0VudHJ5Q2F0ZWdvcmllMiA9ICgwLCBfdXNlX2xvZ19lbnRyeV9jYXRlZ29yaWVzX3Jlc3VsdHNfdXJsX3N0YXRlLnVzZUxvZ0VudHJ5Q2F0ZWdvcmllc1Jlc3VsdHNVcmxTdGF0ZSkoKSwKICAgICAgc2VsZWN0ZWRUaW1lUmFuZ2UgPSBfdXNlTG9nRW50cnlDYXRlZ29yaWUyLnRpbWVSYW5nZSwKICAgICAgc2V0U2VsZWN0ZWRUaW1lUmFuZ2UgPSBfdXNlTG9nRW50cnlDYXRlZ29yaWUyLnNldFRpbWVSYW5nZSwKICAgICAgYXV0b1JlZnJlc2ggPSBfdXNlTG9nRW50cnlDYXRlZ29yaWUyLmF1dG9SZWZyZXNoLAogICAgICBzZXRBdXRvUmVmcmVzaCA9IF91c2VMb2dFbnRyeUNhdGVnb3JpZTIuc2V0QXV0b1JlZnJlc2g7CgogIHZhciBfdXNlU3RhdGUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBsYXN0Q2hhbmdlZFRpbWU6IERhdGUubm93KCksCiAgICAgIHRpbWVSYW5nZTogc3RyaW5nVG9OdW1lcmljVGltZVJhbmdlKHNlbGVjdGVkVGltZVJhbmdlKQogICAgfTsKICB9KSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIGNhdGVnb3J5UXVlcnlUaW1lUmFuZ2UgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRDYXRlZ29yeVF1ZXJ5VGltZVJhbmdlID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTMgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShbXSksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgY2F0ZWdvcnlRdWVyeURhdGFzZXRzID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0Q2F0ZWdvcnlRdWVyeURhdGFzZXRzID0gX3VzZVN0YXRlNFsxXTsKCiAgdmFyIF91c2VLaWJhbmEgPSAoMCwgX3B1YmxpYy51c2VLaWJhbmEpKCksCiAgICAgIHNlcnZpY2VzID0gX3VzZUtpYmFuYS5zZXJ2aWNlczsKCiAgdmFyIHNob3dMb2FkRGF0YUVycm9yTm90aWZpY2F0aW9uID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gKGVycm9yKSB7CiAgICB2YXIgX3NlcnZpY2VzJG5vdGlmaWNhdGlvOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zCgoKICAgIChfc2VydmljZXMkbm90aWZpY2F0aW8gPSBzZXJ2aWNlcy5ub3RpZmljYXRpb25zKSA9PT0gbnVsbCB8fCBfc2VydmljZXMkbm90aWZpY2F0aW8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZXJ2aWNlcyRub3RpZmljYXRpby50b2FzdHMuYWRkRXJyb3IoZXJyb3IsIHsKICAgICAgdGl0bGU6IGxvYWREYXRhRXJyb3JUaXRsZQogICAgfSk7CiAgfSwgW3NlcnZpY2VzLm5vdGlmaWNhdGlvbnNdKTsKCiAgdmFyIF91c2VMb2dFbnRyeUNhdGVnb3JpZTMgPSAoMCwgX3VzZV9sb2dfZW50cnlfY2F0ZWdvcmllc19yZXN1bHRzLnVzZUxvZ0VudHJ5Q2F0ZWdvcmllc1Jlc3VsdHMpKHsKICAgIGNhdGVnb3JpZXNDb3VudDogMjUsCiAgICBlbmRUaW1lOiBjYXRlZ29yeVF1ZXJ5VGltZVJhbmdlLnRpbWVSYW5nZS5lbmRUaW1lLAogICAgZmlsdGVyZWREYXRhc2V0czogY2F0ZWdvcnlRdWVyeURhdGFzZXRzLAogICAgb25HZXRUb3BMb2dFbnRyeUNhdGVnb3JpZXNFcnJvcjogc2hvd0xvYWREYXRhRXJyb3JOb3RpZmljYXRpb24sCiAgICBzb3VyY2VJZDogc291cmNlSWQsCiAgICBzdGFydFRpbWU6IGNhdGVnb3J5UXVlcnlUaW1lUmFuZ2UudGltZVJhbmdlLnN0YXJ0VGltZQogIH0pLAogICAgICBnZXRMb2dFbnRyeUNhdGVnb3J5RGF0YXNldHMgPSBfdXNlTG9nRW50cnlDYXRlZ29yaWUzLmdldExvZ0VudHJ5Q2F0ZWdvcnlEYXRhc2V0cywKICAgICAgZ2V0VG9wTG9nRW50cnlDYXRlZ29yaWVzID0gX3VzZUxvZ0VudHJ5Q2F0ZWdvcmllMy5nZXRUb3BMb2dFbnRyeUNhdGVnb3JpZXMsCiAgICAgIGlzTG9hZGluZ0xvZ0VudHJ5Q2F0ZWdvcnlEYXRhc2V0cyA9IF91c2VMb2dFbnRyeUNhdGVnb3JpZTMuaXNMb2FkaW5nTG9nRW50cnlDYXRlZ29yeURhdGFzZXRzLAogICAgICBpc0xvYWRpbmdUb3BMb2dFbnRyeUNhdGVnb3JpZXMgPSBfdXNlTG9nRW50cnlDYXRlZ29yaWUzLmlzTG9hZGluZ1RvcExvZ0VudHJ5Q2F0ZWdvcmllcywKICAgICAgbG9nRW50cnlDYXRlZ29yeURhdGFzZXRzID0gX3VzZUxvZ0VudHJ5Q2F0ZWdvcmllMy5sb2dFbnRyeUNhdGVnb3J5RGF0YXNldHMsCiAgICAgIHRvcExvZ0VudHJ5Q2F0ZWdvcmllcyA9IF91c2VMb2dFbnRyeUNhdGVnb3JpZTMudG9wTG9nRW50cnlDYXRlZ29yaWVzOwoKICB2YXIgaGFuZGxlUXVlcnlUaW1lUmFuZ2VDaGFuZ2UgPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAoX3JlZikgewogICAgdmFyIHN0YXJ0VGltZSA9IF9yZWYuc3RhcnQsCiAgICAgICAgZW5kVGltZSA9IF9yZWYuZW5kOwogICAgc2V0Q2F0ZWdvcnlRdWVyeVRpbWVSYW5nZShmdW5jdGlvbiAocHJldmlvdXNRdWVyeVBhcmFtZXRlcnMpIHsKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHByZXZpb3VzUXVlcnlQYXJhbWV0ZXJzLCB7CiAgICAgICAgdGltZVJhbmdlOiBzdHJpbmdUb051bWVyaWNUaW1lUmFuZ2UoewogICAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsCiAgICAgICAgICBlbmRUaW1lOiBlbmRUaW1lCiAgICAgICAgfSksCiAgICAgICAgbGFzdENoYW5nZWRUaW1lOiBEYXRlLm5vdygpCiAgICAgIH0pOwogICAgfSk7CiAgfSwgW3NldENhdGVnb3J5UXVlcnlUaW1lUmFuZ2VdKTsKICB2YXIgaGFuZGxlU2VsZWN0ZWRUaW1lUmFuZ2VDaGFuZ2UgPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAoc2VsZWN0ZWRUaW1lKSB7CiAgICBpZiAoc2VsZWN0ZWRUaW1lLmlzSW52YWxpZCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgc2V0U2VsZWN0ZWRUaW1lUmFuZ2UoewogICAgICBzdGFydFRpbWU6IHNlbGVjdGVkVGltZS5zdGFydCwKICAgICAgZW5kVGltZTogc2VsZWN0ZWRUaW1lLmVuZAogICAgfSk7CiAgICBoYW5kbGVRdWVyeVRpbWVSYW5nZUNoYW5nZShzZWxlY3RlZFRpbWUpOwogIH0sIFtzZXRTZWxlY3RlZFRpbWVSYW5nZSwgaGFuZGxlUXVlcnlUaW1lUmFuZ2VDaGFuZ2VdKTsKICB2YXIgaGFuZGxlQXV0b1JlZnJlc2hDaGFuZ2UgPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAoX3JlZjIpIHsKICAgIHZhciBpc1BhdXNlZCA9IF9yZWYyLmlzUGF1c2VkLAogICAgICAgIGludGVydmFsID0gX3JlZjIucmVmcmVzaEludGVydmFsOwogICAgc2V0QXV0b1JlZnJlc2goewogICAgICBpc1BhdXNlZDogaXNQYXVzZWQsCiAgICAgIGludGVydmFsOiBpbnRlcnZhbAogICAgfSk7CiAgfSwgW3NldEF1dG9SZWZyZXNoXSk7CiAgdmFyIGlzRmlyc3RVc2UgPSAoMCwgX3JlYWN0LnVzZU1lbW8pKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBzZXR1cFN0YXR1cyA9PT0gJ2hpZGRlbkFmdGVyU3VjY2Vzcyc7CiAgfSwgW3NldHVwU3RhdHVzXSk7CiAgdmFyIGhhc1Jlc3VsdHMgPSAoMCwgX3JlYWN0LnVzZU1lbW8pKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0b3BMb2dFbnRyeUNhdGVnb3JpZXMubGVuZ3RoID4gMDsKICB9LCBbdG9wTG9nRW50cnlDYXRlZ29yaWVzLmxlbmd0aF0pOwogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICBnZXRUb3BMb2dFbnRyeUNhdGVnb3JpZXMoKTsKICB9LCBbZ2V0VG9wTG9nRW50cnlDYXRlZ29yaWVzLCBjYXRlZ29yeVF1ZXJ5RGF0YXNldHMsIGNhdGVnb3J5UXVlcnlUaW1lUmFuZ2UubGFzdENoYW5nZWRUaW1lXSk7CiAgKDAsIF9yZWFjdC51c2VFZmZlY3QpKGZ1bmN0aW9uICgpIHsKICAgIGdldExvZ0VudHJ5Q2F0ZWdvcnlEYXRhc2V0cygpOwogIH0sIFtnZXRMb2dFbnRyeUNhdGVnb3J5RGF0YXNldHMsIGNhdGVnb3J5UXVlcnlUaW1lUmFuZ2UubGFzdENoYW5nZWRUaW1lXSk7CiAgKDAsIF91c2VfaW50ZXJ2YWwudXNlSW50ZXJ2YWwpKGZ1bmN0aW9uICgpIHsKICAgIGZldGNoSm9iU3RhdHVzKCk7CiAgfSwgSk9CX1NUQVRVU19QT0xMSU5HX0lOVEVSVkFMKTsKICAoMCwgX3VzZV9pbnRlcnZhbC51c2VJbnRlcnZhbCkoZnVuY3Rpb24gKCkgewogICAgaGFuZGxlUXVlcnlUaW1lUmFuZ2VDaGFuZ2UoewogICAgICBzdGFydDogc2VsZWN0ZWRUaW1lUmFuZ2Uuc3RhcnRUaW1lLAogICAgICBlbmQ6IHNlbGVjdGVkVGltZVJhbmdlLmVuZFRpbWUKICAgIH0pOwogIH0sIGF1dG9SZWZyZXNoLmlzUGF1c2VkID8gbnVsbCA6IGF1dG9SZWZyZXNoLmludGVydmFsKTsKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChSZXN1bHRzQ29udGVudFBhZ2UsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgIGRpcmVjdGlvbjogImNvbHVtbiIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVBhbmVsLCB7CiAgICBwYWRkaW5nU2l6ZTogIm0iCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAganVzdGlmeUNvbnRlbnQ6ICJzcGFjZUJldHdlZW4iLAogICAgYWxpZ25JdGVtczogImNlbnRlciIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIG51bGwpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVN1cGVyRGF0ZVBpY2tlciwgewogICAgc3RhcnQ6IHNlbGVjdGVkVGltZVJhbmdlLnN0YXJ0VGltZSwKICAgIGVuZDogc2VsZWN0ZWRUaW1lUmFuZ2UuZW5kVGltZSwKICAgIG9uVGltZUNoYW5nZTogaGFuZGxlU2VsZWN0ZWRUaW1lUmFuZ2VDaGFuZ2UsCiAgICBpc1BhdXNlZDogYXV0b1JlZnJlc2guaXNQYXVzZWQsCiAgICByZWZyZXNoSW50ZXJ2YWw6IGF1dG9SZWZyZXNoLmludGVydmFsLAogICAgb25SZWZyZXNoQ2hhbmdlOiBoYW5kbGVBdXRvUmVmcmVzaENoYW5nZQogIH0pKSkpKSwgKDAsIF9sb2dfYW5hbHlzaXNfam9iX3N0YXR1cy5qb2JIYXNQcm9ibGVtKShqb2JTdGF0dXNbJ2xvZy1lbnRyeS1jYXRlZ29yaWVzLWNvdW50J10sIHNldHVwU3RhdHVzKSA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9sb2dfYW5hbHlzaXNfam9iX3N0YXR1cy5Mb2dBbmFseXNpc0pvYlByb2JsZW1JbmRpY2F0b3IsIHsKICAgIGpvYlN0YXR1czogam9iU3RhdHVzWydsb2ctZW50cnktY2F0ZWdvcmllcy1jb3VudCddLAogICAgb25SZWNyZWF0ZU1sSm9iRm9yUmVjb25maWd1cmF0aW9uOiB2aWV3U2V0dXBGb3JSZWNvbmZpZ3VyYXRpb24sCiAgICBvblJlY3JlYXRlTWxKb2JGb3JVcGRhdGU6IHZpZXdTZXR1cEZvclVwZGF0ZSwKICAgIHNldHVwU3RhdHVzOiBzZXR1cFN0YXR1cwogIH0pKSA6IG51bGwsIGlzRmlyc3RVc2UgJiYgIWhhc1Jlc3VsdHMgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbG9nX2FuYWx5c2lzX3Jlc3VsdHMuRmlyc3RVc2VDYWxsb3V0LCBudWxsKSkgOiBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVBhbmVsLCB7CiAgICBwYWRkaW5nU2l6ZTogIm0iCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdG9wX2NhdGVnb3JpZXMuVG9wQ2F0ZWdvcmllc1NlY3Rpb24sIHsKICAgIGF2YWlsYWJsZURhdGFzZXRzOiBsb2dFbnRyeUNhdGVnb3J5RGF0YXNldHMsCiAgICBpc0xvYWRpbmdEYXRhc2V0czogaXNMb2FkaW5nTG9nRW50cnlDYXRlZ29yeURhdGFzZXRzLAogICAgaXNMb2FkaW5nVG9wQ2F0ZWdvcmllczogaXNMb2FkaW5nVG9wTG9nRW50cnlDYXRlZ29yaWVzLAogICAgam9iSWQ6IGpvYklkc1snbG9nLWVudHJ5LWNhdGVnb3JpZXMtY291bnQnXSwKICAgIG9uQ2hhbmdlRGF0YXNldFNlbGVjdGlvbjogc2V0Q2F0ZWdvcnlRdWVyeURhdGFzZXRzLAogICAgb25SZXF1ZXN0UmVjcmVhdGVNbEpvYjogdmlld1NldHVwRm9yUmVjb25maWd1cmF0aW9uLAogICAgc2VsZWN0ZWREYXRhc2V0czogY2F0ZWdvcnlRdWVyeURhdGFzZXRzLAogICAgdGltZVJhbmdlOiBjYXRlZ29yeVF1ZXJ5VGltZVJhbmdlLnRpbWVSYW5nZSwKICAgIHRvcENhdGVnb3JpZXM6IHRvcExvZ0VudHJ5Q2F0ZWdvcmllcwogIH0pKSkpKTsKfTsKCmV4cG9ydHMuTG9nRW50cnlDYXRlZ29yaWVzUmVzdWx0c0NvbnRlbnQgPSBMb2dFbnRyeUNhdGVnb3JpZXNSZXN1bHRzQ29udGVudDsKCnZhciBzdHJpbmdUb051bWVyaWNUaW1lUmFuZ2UgPSBmdW5jdGlvbiBzdHJpbmdUb051bWVyaWNUaW1lUmFuZ2UodGltZVJhbmdlKSB7CiAgcmV0dXJuIHsKICAgIHN0YXJ0VGltZTogKDAsIF9tb21lbnQuZGVmYXVsdCkoX2RhdGVtYXRoLmRlZmF1bHQucGFyc2UodGltZVJhbmdlLnN0YXJ0VGltZSwgewogICAgICBtb21lbnRJbnN0YW5jZTogX21vbWVudC5kZWZhdWx0CiAgICB9KSkudmFsdWVPZigpLAogICAgZW5kVGltZTogKDAsIF9tb21lbnQuZGVmYXVsdCkoX2RhdGVtYXRoLmRlZmF1bHQucGFyc2UodGltZVJhbmdlLmVuZFRpbWUsIHsKICAgICAgbW9tZW50SW5zdGFuY2U6IF9tb21lbnQuZGVmYXVsdCwKICAgICAgcm91bmRVcDogdHJ1ZQogICAgfSkpLnZhbHVlT2YoKQogIH07Cn07IC8vIFRoaXMgaXMgbmVlZGVkIGR1ZSB0byB0aGUgZmxleC1iYXNpczogMTAwJSAhaW1wb3J0YW50OyBydWxlIHRoYXQKLy8ga2lja3MgaW4gb24gc21hbGwgc2NyZWVucyB2aWEgbWVkaWEgcXVlcmllcyBicmVha2luZyB3aGVuIHVzaW5nIGRpcmVjdGlvbj0iY29sdW1uIgoKCnZhciBSZXN1bHRzQ29udGVudFBhZ2UgPSAoMCwgX2V1aV9zdHlsZWRfY29tcG9uZW50cy5kZWZhdWx0KShfZXVpLkV1aVBhZ2UpKF90ZW1wbGF0ZU9iamVjdCgpKTsKZXhwb3J0cy5SZXN1bHRzQ29udGVudFBhZ2UgPSBSZXN1bHRzQ29udGVudFBhZ2U7Cgp2YXIgbG9hZERhdGFFcnJvclRpdGxlID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmluZnJhLmxvZ3MubG9nRW50cnlDYXRlZ29yaWVzLmxvYWREYXRhRXJyb3JUaXRsZScsIHsKICBkZWZhdWx0TWVzc2FnZTogJ0ZhaWxlZCB0byBsb2FkIGNhdGVnb3J5IGRhdGEnCn0pOw=="},null]}