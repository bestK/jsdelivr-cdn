{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/security/public/lib/kibana_privilege_calculator/kibana_privilege_calculator.js","dependencies":[{"path":"x-pack/legacy/plugins/security/public/lib/kibana_privilege_calculator/kibana_privilege_calculator.js","mtime":1585205047120},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLktpYmFuYVByaXZpbGVnZUNhbGN1bGF0b3IgPSB2b2lkIDA7Cgp2YXIgX3ByaXZpbGVnZV91dGlscyA9IHJlcXVpcmUoIi4uL3ByaXZpbGVnZV91dGlscyIpOwoKdmFyIF9raWJhbmFfYWxsb3dlZF9wcml2aWxlZ2VzX2NhbGN1bGF0b3IgPSByZXF1aXJlKCIuL2tpYmFuYV9hbGxvd2VkX3ByaXZpbGVnZXNfY2FsY3VsYXRvciIpOwoKdmFyIF9raWJhbmFfYmFzZV9wcml2aWxlZ2VfY2FsY3VsYXRvciA9IHJlcXVpcmUoIi4va2liYW5hX2Jhc2VfcHJpdmlsZWdlX2NhbGN1bGF0b3IiKTsKCnZhciBfa2liYW5hX2ZlYXR1cmVfcHJpdmlsZWdlX2NhbGN1bGF0b3IgPSByZXF1aXJlKCIuL2tpYmFuYV9mZWF0dXJlX3ByaXZpbGVnZV9jYWxjdWxhdG9yIik7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7CiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogIH0KfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgewogIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07CiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7CiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7CiAgICBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsKICB9Cn0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsKICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsKICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7CiAgcmV0dXJuIENvbnN0cnVjdG9yOwp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKdmFyIEtpYmFuYVByaXZpbGVnZUNhbGN1bGF0b3IgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBLaWJhbmFQcml2aWxlZ2VDYWxjdWxhdG9yKGtpYmFuYVByaXZpbGVnZXMsIHJvbGUsIHJhbmtlZEZlYXR1cmVQcml2aWxlZ2VzKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgS2liYW5hUHJpdmlsZWdlQ2FsY3VsYXRvcik7CgogICAgdGhpcy5raWJhbmFQcml2aWxlZ2VzID0ga2liYW5hUHJpdmlsZWdlczsKICAgIHRoaXMucm9sZSA9IHJvbGU7CiAgICB0aGlzLnJhbmtlZEZlYXR1cmVQcml2aWxlZ2VzID0gcmFua2VkRmVhdHVyZVByaXZpbGVnZXM7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJhbGxvd2VkUHJpdmlsZWdlc0NhbGN1bGF0b3IiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZWZmZWN0aXZlQmFzZVByaXZpbGVnZXNDYWxjdWxhdG9yIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImVmZmVjdGl2ZUZlYXR1cmVQcml2aWxlZ2VzQ2FsY3VsYXRvciIsIHZvaWQgMCk7CgogICAgdmFyIGdsb2JhbFByaXZpbGVnZSA9IHRoaXMubG9jYXRlR2xvYmFsUHJpdmlsZWdlKHJvbGUpOwogICAgdmFyIGFzc2lnbmVkR2xvYmFsQmFzZUFjdGlvbnMgPSBnbG9iYWxQcml2aWxlZ2UuYmFzZVswXSA/IGtpYmFuYVByaXZpbGVnZXMuZ2V0R2xvYmFsUHJpdmlsZWdlcygpLmdldEFjdGlvbnMoZ2xvYmFsUHJpdmlsZWdlLmJhc2VbMF0pIDogW107CiAgICB0aGlzLmFsbG93ZWRQcml2aWxlZ2VzQ2FsY3VsYXRvciA9IG5ldyBfa2liYW5hX2FsbG93ZWRfcHJpdmlsZWdlc19jYWxjdWxhdG9yLktpYmFuYUFsbG93ZWRQcml2aWxlZ2VzQ2FsY3VsYXRvcihraWJhbmFQcml2aWxlZ2VzLCByb2xlKTsKICAgIHRoaXMuZWZmZWN0aXZlQmFzZVByaXZpbGVnZXNDYWxjdWxhdG9yID0gbmV3IF9raWJhbmFfYmFzZV9wcml2aWxlZ2VfY2FsY3VsYXRvci5LaWJhbmFCYXNlUHJpdmlsZWdlQ2FsY3VsYXRvcihraWJhbmFQcml2aWxlZ2VzLCBnbG9iYWxQcml2aWxlZ2UsIGFzc2lnbmVkR2xvYmFsQmFzZUFjdGlvbnMpOwogICAgdGhpcy5lZmZlY3RpdmVGZWF0dXJlUHJpdmlsZWdlc0NhbGN1bGF0b3IgPSBuZXcgX2tpYmFuYV9mZWF0dXJlX3ByaXZpbGVnZV9jYWxjdWxhdG9yLktpYmFuYUZlYXR1cmVQcml2aWxlZ2VDYWxjdWxhdG9yKGtpYmFuYVByaXZpbGVnZXMsIGdsb2JhbFByaXZpbGVnZSwgYXNzaWduZWRHbG9iYWxCYXNlQWN0aW9ucywgcmFua2VkRmVhdHVyZVByaXZpbGVnZXMpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEtpYmFuYVByaXZpbGVnZUNhbGN1bGF0b3IsIFt7CiAgICBrZXk6ICJjYWxjdWxhdGVFZmZlY3RpdmVQcml2aWxlZ2VzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjdWxhdGVFZmZlY3RpdmVQcml2aWxlZ2VzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGlnbm9yZUFzc2lnbmVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTsKICAgICAgdmFyIF90aGlzJHJvbGUka2liYW5hID0gdGhpcy5yb2xlLmtpYmFuYSwKICAgICAgICAgIGtpYmFuYSA9IF90aGlzJHJvbGUka2liYW5hID09PSB2b2lkIDAgPyBbXSA6IF90aGlzJHJvbGUka2liYW5hOwogICAgICByZXR1cm4ga2liYW5hLm1hcChmdW5jdGlvbiAocHJpdmlsZWdlU3BlYykgewogICAgICAgIHJldHVybiBfdGhpcy5jYWxjdWxhdGVFZmZlY3RpdmVQcml2aWxlZ2UocHJpdmlsZWdlU3BlYywgaWdub3JlQXNzaWduZWQpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYWxjdWxhdGVBbGxvd2VkUHJpdmlsZWdlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FsY3VsYXRlQWxsb3dlZFByaXZpbGVnZXMoKSB7CiAgICAgIHZhciBlZmZlY3RpdmVQcml2cyA9IHRoaXMuY2FsY3VsYXRlRWZmZWN0aXZlUHJpdmlsZWdlcyh0cnVlKTsKICAgICAgcmV0dXJuIHRoaXMuYWxsb3dlZFByaXZpbGVnZXNDYWxjdWxhdG9yLmNhbGN1bGF0ZUFsbG93ZWRQcml2aWxlZ2VzKGVmZmVjdGl2ZVByaXZzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYWxjdWxhdGVFZmZlY3RpdmVQcml2aWxlZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGN1bGF0ZUVmZmVjdGl2ZVByaXZpbGVnZShwcml2aWxlZ2VTcGVjLCBpZ25vcmVBc3NpZ25lZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciByZXN1bHQgPSB7CiAgICAgICAgYmFzZTogdGhpcy5lZmZlY3RpdmVCYXNlUHJpdmlsZWdlc0NhbGN1bGF0b3IuZ2V0TW9zdFBlcm1pc3NpdmVCYXNlUHJpdmlsZWdlKHByaXZpbGVnZVNwZWMsIGlnbm9yZUFzc2lnbmVkKSwKICAgICAgICBmZWF0dXJlOiB7fSwKICAgICAgICByZXNlcnZlZDogcHJpdmlsZWdlU3BlYy5fcmVzZXJ2ZWQKICAgICAgfTsgLy8gSWYgY2FsY3VsYXRpb25zIHdpc2ggdG8gaWdub3JlQXNzaWduZWQsIHRoZW4gd2Ugc3RpbGwgbmVlZCB0byBrbm93IHdoYXQgdGhlIHJlYWwgZWZmZWN0aXZlIGJhc2UgcHJpdmlsZWdlIGlzCiAgICAgIC8vIHdpdGhvdXQgaWdub3JpbmcgYXNzaWduZWQsIGluIG9yZGVyIHRvIGNhbGN1bGF0ZSB0aGUgY29ycmVjdCBmZWF0dXJlIHByaXZpbGVnZXMuCgogICAgICB2YXIgZWZmZWN0aXZlQmFzZSA9IGlnbm9yZUFzc2lnbmVkID8gdGhpcy5lZmZlY3RpdmVCYXNlUHJpdmlsZWdlc0NhbGN1bGF0b3IuZ2V0TW9zdFBlcm1pc3NpdmVCYXNlUHJpdmlsZWdlKHByaXZpbGVnZVNwZWMsIGZhbHNlKSA6IHJlc3VsdC5iYXNlOwogICAgICB2YXIgYWxsRmVhdHVyZVByaXZpbGVnZXMgPSB0aGlzLmtpYmFuYVByaXZpbGVnZXMuZ2V0RmVhdHVyZVByaXZpbGVnZXMoKS5nZXRBbGxQcml2aWxlZ2VzKCk7CiAgICAgIHJlc3VsdC5mZWF0dXJlID0gT2JqZWN0LmtleXMoYWxsRmVhdHVyZVByaXZpbGVnZXMpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBmZWF0dXJlSWQpIHsKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgYWNjLCBfZGVmaW5lUHJvcGVydHkoe30sIGZlYXR1cmVJZCwgX3RoaXMyLmVmZmVjdGl2ZUZlYXR1cmVQcml2aWxlZ2VzQ2FsY3VsYXRvci5nZXRNb3N0UGVybWlzc2l2ZUZlYXR1cmVQcml2aWxlZ2UocHJpdmlsZWdlU3BlYywgZWZmZWN0aXZlQmFzZSwgZmVhdHVyZUlkLCBpZ25vcmVBc3NpZ25lZCkpKTsKICAgICAgfSwge30pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogIH0sIHsKICAgIGtleTogImxvY2F0ZUdsb2JhbFByaXZpbGVnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9jYXRlR2xvYmFsUHJpdmlsZWdlKHJvbGUpIHsKICAgICAgdmFyIHNwYWNlUHJpdmlsZWdlcyA9IHJvbGUua2liYW5hOwogICAgICByZXR1cm4gc3BhY2VQcml2aWxlZ2VzLmZpbmQoZnVuY3Rpb24gKHByaXZpbGVnZXMpIHsKICAgICAgICByZXR1cm4gKDAsIF9wcml2aWxlZ2VfdXRpbHMuaXNHbG9iYWxQcml2aWxlZ2VEZWZpbml0aW9uKShwcml2aWxlZ2VzKTsKICAgICAgfSkgfHwgewogICAgICAgIHNwYWNlczogW10sCiAgICAgICAgYmFzZTogW10sCiAgICAgICAgZmVhdHVyZToge30KICAgICAgfTsKICAgIH0KICB9XSk7CgogIHJldHVybiBLaWJhbmFQcml2aWxlZ2VDYWxjdWxhdG9yOwp9KCk7CgpleHBvcnRzLktpYmFuYVByaXZpbGVnZUNhbGN1bGF0b3IgPSBLaWJhbmFQcml2aWxlZ2VDYWxjdWxhdG9yOw=="},null]}