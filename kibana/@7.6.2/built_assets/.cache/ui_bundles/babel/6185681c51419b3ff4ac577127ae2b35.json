{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/lens/public/datatable_visualization_plugin/visualization.js","dependencies":[{"path":"x-pack/legacy/plugins/lens/public/datatable_visualization_plugin/visualization.js","mtime":1585205044989},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkRhdGFUYWJsZUxheWVyID0gRGF0YVRhYmxlTGF5ZXI7CmV4cG9ydHMuZGF0YXRhYmxlVmlzdWFsaXphdGlvbiA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoInJlYWN0LWRvbSIpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9yZWFjdDIgPSByZXF1aXJlKCJAa2JuL2kxOG4vcmVhY3QiKTsKCnZhciBfbXVsdGlfY29sdW1uX2VkaXRvciA9IHJlcXVpcmUoIi4uL211bHRpX2NvbHVtbl9lZGl0b3IiKTsKCnZhciBfaWRfZ2VuZXJhdG9yID0gcmVxdWlyZSgiLi4vaWRfZ2VuZXJhdG9yIik7Cgp2YXIgX2NoYXJ0X2RhdGF0YWJsZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vYXNzZXRzL2NoYXJ0X2RhdGF0YWJsZS5zdmciKSk7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBfZXh0ZW5kcygpIHsKICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgewogICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsKCiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgewogICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH07CgogIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgewogIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gIltvYmplY3QgQXJndW1lbnRzXSIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgewogICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgYXJyMltpXSA9IGFycltpXTsKICAgIH0KCiAgICByZXR1cm4gYXJyMjsKICB9Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgpmdW5jdGlvbiBuZXdMYXllclN0YXRlKGxheWVySWQpIHsKICByZXR1cm4gewogICAgbGF5ZXJJZDogbGF5ZXJJZCwKICAgIGNvbHVtbnM6IFsoMCwgX2lkX2dlbmVyYXRvci5nZW5lcmF0ZUlkKSgpXQogIH07Cn0KCmZ1bmN0aW9uIHVwZGF0ZUNvbHVtbnMoc3RhdGUsIGxheWVyLCBmbikgewogIHZhciBjb2x1bW5zID0gZm4obGF5ZXIuY29sdW1ucyk7CgogIHZhciB1cGRhdGVkTGF5ZXIgPSBfb2JqZWN0U3ByZWFkKHt9LCBsYXllciwgewogICAgY29sdW1uczogY29sdW1ucwogIH0pOwoKICB2YXIgbGF5ZXJzID0gc3RhdGUubGF5ZXJzLm1hcChmdW5jdGlvbiAobCkgewogICAgcmV0dXJuIGwubGF5ZXJJZCA9PT0gbGF5ZXIubGF5ZXJJZCA/IHVwZGF0ZWRMYXllciA6IGw7CiAgfSk7CiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCB7CiAgICBsYXllcnM6IGxheWVycwogIH0pOwp9Cgp2YXIgYWxsT3BlcmF0aW9ucyA9IGZ1bmN0aW9uIGFsbE9wZXJhdGlvbnMoKSB7CiAgcmV0dXJuIHRydWU7Cn07CgpmdW5jdGlvbiBEYXRhVGFibGVMYXllcihfcmVmKSB7CiAgdmFyIGxheWVyID0gX3JlZi5sYXllciwKICAgICAgZnJhbWUgPSBfcmVmLmZyYW1lLAogICAgICBzdGF0ZSA9IF9yZWYuc3RhdGUsCiAgICAgIHNldFN0YXRlID0gX3JlZi5zZXRTdGF0ZSwKICAgICAgZHJhZ0Ryb3BDb250ZXh0ID0gX3JlZi5kcmFnRHJvcENvbnRleHQ7CiAgdmFyIGRhdGFzb3VyY2UgPSBmcmFtZS5kYXRhc291cmNlTGF5ZXJzW2xheWVyLmxheWVySWRdOwogIHZhciBvcmlnaW5hbE9yZGVyID0gZGF0YXNvdXJjZS5nZXRUYWJsZVNwZWMoKS5tYXAoZnVuY3Rpb24gKF9yZWYyKSB7CiAgICB2YXIgY29sdW1uSWQgPSBfcmVmMi5jb2x1bW5JZDsKICAgIHJldHVybiBjb2x1bW5JZDsKICB9KTsgLy8gV2hlbiB3ZSBhZGQgYSBjb2x1bW4gaXQgY291bGQgYmUgZW1wdHksIGFuZCB0aGVyZWZvcmUgaGF2ZSBubyBvcmRlcgoKICB2YXIgc29ydGVkQ29sdW1ucyA9IEFycmF5LmZyb20obmV3IFNldChvcmlnaW5hbE9yZGVyLmNvbmNhdChsYXllci5jb2x1bW5zKSkpOwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgY2xhc3NOYW1lOiAibG5zQ29uZmlnUGFuZWxfX2F4aXMiLAogICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5sZW5zLmRhdGF0YWJsZS5jb2x1bW5zJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ0NvbHVtbnMnCiAgICB9KQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX211bHRpX2NvbHVtbl9lZGl0b3IuTXVsdGlDb2x1bW5FZGl0b3IsIHsKICAgIGFjY2Vzc29yczogc29ydGVkQ29sdW1ucywKICAgIGRhdGFzb3VyY2U6IGRhdGFzb3VyY2UsCiAgICBkcmFnRHJvcENvbnRleHQ6IGRyYWdEcm9wQ29udGV4dCwKICAgIGZpbHRlck9wZXJhdGlvbnM6IGFsbE9wZXJhdGlvbnMsCiAgICBsYXllcklkOiBsYXllci5sYXllcklkLAogICAgb25BZGQ6IGZ1bmN0aW9uIG9uQWRkKCkgewogICAgICByZXR1cm4gc2V0U3RhdGUodXBkYXRlQ29sdW1ucyhzdGF0ZSwgbGF5ZXIsIGZ1bmN0aW9uIChjb2x1bW5zKSB7CiAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoY29sdW1ucyksIFsoMCwgX2lkX2dlbmVyYXRvci5nZW5lcmF0ZUlkKSgpXSk7CiAgICAgIH0pKTsKICAgIH0sCiAgICBvblJlbW92ZTogZnVuY3Rpb24gb25SZW1vdmUoY29sdW1uKSB7CiAgICAgIHJldHVybiBzZXRTdGF0ZSh1cGRhdGVDb2x1bW5zKHN0YXRlLCBsYXllciwgZnVuY3Rpb24gKGNvbHVtbnMpIHsKICAgICAgICByZXR1cm4gY29sdW1ucy5maWx0ZXIoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIHJldHVybiBjICE9PSBjb2x1bW47CiAgICAgICAgfSk7CiAgICAgIH0pKTsKICAgIH0sCiAgICB0ZXN0U3ViajogImRhdGF0YWJsZV9jb2x1bW5zIiwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJkYXRhdGFibGVfbXVsdGljb2x1bW5FZGl0b3IiCiAgfSkpOwp9Cgp2YXIgZGF0YXRhYmxlVmlzdWFsaXphdGlvbiA9IHsKICBpZDogJ2xuc0RhdGF0YWJsZScsCiAgdmlzdWFsaXphdGlvblR5cGVzOiBbewogICAgaWQ6ICdsbnNEYXRhdGFibGUnLAogICAgaWNvbjogJ3Zpc1RhYmxlJywKICAgIGxhcmdlSWNvbjogX2NoYXJ0X2RhdGF0YWJsZS5kZWZhdWx0LAogICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5sZW5zLmRhdGF0YWJsZS5sYWJlbCcsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdEYXRhIHRhYmxlJwogICAgfSkKICB9XSwKICBnZXRMYXllcklkczogZnVuY3Rpb24gZ2V0TGF5ZXJJZHMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5sYXllcnMubWFwKGZ1bmN0aW9uIChsKSB7CiAgICAgIHJldHVybiBsLmxheWVySWQ7CiAgICB9KTsKICB9LAogIGNsZWFyTGF5ZXI6IGZ1bmN0aW9uIGNsZWFyTGF5ZXIoc3RhdGUpIHsKICAgIHJldHVybiB7CiAgICAgIGxheWVyczogc3RhdGUubGF5ZXJzLm1hcChmdW5jdGlvbiAobCkgewogICAgICAgIHJldHVybiBuZXdMYXllclN0YXRlKGwubGF5ZXJJZCk7CiAgICAgIH0pCiAgICB9OwogIH0sCiAgZ2V0RGVzY3JpcHRpb246IGZ1bmN0aW9uIGdldERlc2NyaXB0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgaWNvbjogX2NoYXJ0X2RhdGF0YWJsZS5kZWZhdWx0LAogICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmxlbnMuZGF0YXRhYmxlLmxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRGF0YSB0YWJsZScKICAgICAgfSkKICAgIH07CiAgfSwKICBzd2l0Y2hWaXN1YWxpemF0aW9uVHlwZTogZnVuY3Rpb24gc3dpdGNoVmlzdWFsaXphdGlvblR5cGUoXywgc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZTsKICB9LAogIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoZnJhbWUsIHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUgfHwgewogICAgICBsYXllcnM6IFtuZXdMYXllclN0YXRlKGZyYW1lLmFkZE5ld0xheWVyKCkpXQogICAgfTsKICB9LAogIGdldFBlcnNpc3RhYmxlU3RhdGU6IGZ1bmN0aW9uIGdldFBlcnNpc3RhYmxlU3RhdGUoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZTsKICB9LAogIGdldFN1Z2dlc3Rpb25zOiBmdW5jdGlvbiBnZXRTdWdnZXN0aW9ucyhfcmVmMykgewogICAgdmFyIHRhYmxlID0gX3JlZjMudGFibGUsCiAgICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZSwKICAgICAgICBrZXB0TGF5ZXJJZHMgPSBfcmVmMy5rZXB0TGF5ZXJJZHM7CgogICAgaWYgKGtlcHRMYXllcklkcy5sZW5ndGggPiAxIHx8IGtlcHRMYXllcklkcy5sZW5ndGggJiYgdGFibGUubGF5ZXJJZCAhPT0ga2VwdExheWVySWRzWzBdIHx8IHN0YXRlICYmIHRhYmxlLmNoYW5nZVR5cGUgPT09ICd1bmNoYW5nZWQnKSB7CiAgICAgIHJldHVybiBbXTsKICAgIH0KCiAgICB2YXIgdGl0bGUgPSB0YWJsZS5jaGFuZ2VUeXBlID09PSAndW5jaGFuZ2VkJyA/IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5sZW5zLmRhdGF0YWJsZS5zdWdnZXN0aW9uTGFiZWwnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQXMgdGFibGUnCiAgICB9KSA6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5sZW5zLmRhdGF0YWJsZS52aXN1YWxpemF0aW9uT2YnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVGFibGUge29wZXJhdGlvbnN9JywKICAgICAgdmFsdWVzOiB7CiAgICAgICAgb3BlcmF0aW9uczogdGFibGUubGFiZWwgfHwgdGFibGUuY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbCkgewogICAgICAgICAgcmV0dXJuIGNvbC5vcGVyYXRpb24ubGFiZWw7CiAgICAgICAgfSkuam9pbihfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subGVucy5kYXRhdGFibGUuY29uanVuY3Rpb25TaWduJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICcgJiAnLAogICAgICAgICAgZGVzY3JpcHRpb246ICdBIGNoYXJhY3RlciB0aGF0IGNhbiBiZSB1c2VkIGZvciBjb25qdW5jdGlvbiBvZiBtdWx0aXBsZSBlbnVtYXJhdGVkIGl0ZW1zLiBNYWtlIHN1cmUgdG8gaW5jbHVkZSBzcGFjZXMgYXJvdW5kIGl0IGlmIG5lZWRlZC4nCiAgICAgICAgfSkpCiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIFt7CiAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgLy8gdGFibGUgd2l0aCA+PSAxMCBjb2x1bW5zIHdpbGwgaGF2ZSBhIHNjb3JlIG9mIDAuNiwgZmV3ZXIgY29sdW1ucyByZWR1Y2Ugc2NvcmUKICAgICAgc2NvcmU6IE1hdGgubWluKHRhYmxlLmNvbHVtbnMubGVuZ3RoLCAxMCkgLyAxMCAqIDAuNiwKICAgICAgc3RhdGU6IHsKICAgICAgICBsYXllcnM6IFt7CiAgICAgICAgICBsYXllcklkOiB0YWJsZS5sYXllcklkLAogICAgICAgICAgY29sdW1uczogdGFibGUuY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbCkgewogICAgICAgICAgICByZXR1cm4gY29sLmNvbHVtbklkOwogICAgICAgICAgfSkKICAgICAgICB9XQogICAgICB9LAogICAgICBwcmV2aWV3SWNvbjogX2NoYXJ0X2RhdGF0YWJsZS5kZWZhdWx0LAogICAgICAvLyBkb250IHNob3cgc3VnZ2VzdGlvbnMgZm9yIHJlZHVjZWQgdmVyc2lvbnMgb3Igc2luZ2xlLWxpbmUgdGFibGVzCiAgICAgIGhpZGU6IHRhYmxlLmNoYW5nZVR5cGUgPT09ICdyZWR1Y2VkJyB8fCAhdGFibGUuaXNNdWx0aVJvdwogICAgfV07CiAgfSwKICByZW5kZXJMYXllckNvbmZpZ1BhbmVsOiBmdW5jdGlvbiByZW5kZXJMYXllckNvbmZpZ1BhbmVsKGRvbUVsZW1lbnQsIHByb3BzKSB7CiAgICB2YXIgbGF5ZXIgPSBwcm9wcy5zdGF0ZS5sYXllcnMuZmluZChmdW5jdGlvbiAobCkgewogICAgICByZXR1cm4gbC5sYXllcklkID09PSBwcm9wcy5sYXllcklkOwogICAgfSk7CgogICAgaWYgKGxheWVyKSB7CiAgICAgICgwLCBfcmVhY3REb20ucmVuZGVyKShfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuSTE4blByb3ZpZGVyLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KERhdGFUYWJsZUxheWVyLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHsKICAgICAgICBsYXllcjogbGF5ZXIKICAgICAgfSkpKSwgZG9tRWxlbWVudCk7CiAgICB9CiAgfSwKICB0b0V4cHJlc3Npb246IGZ1bmN0aW9uIHRvRXhwcmVzc2lvbihzdGF0ZSwgZnJhbWUpIHsKICAgIHZhciBsYXllciA9IHN0YXRlLmxheWVyc1swXTsKICAgIHZhciBkYXRhc291cmNlID0gZnJhbWUuZGF0YXNvdXJjZUxheWVyc1tsYXllci5sYXllcklkXTsKICAgIHZhciBvcGVyYXRpb25zID0gbGF5ZXIuY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbHVtbklkKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY29sdW1uSWQ6IGNvbHVtbklkLAogICAgICAgIG9wZXJhdGlvbjogZGF0YXNvdXJjZS5nZXRPcGVyYXRpb25Gb3JDb2x1bW5JZChjb2x1bW5JZCkKICAgICAgfTsKICAgIH0pLmZpbHRlcihmdW5jdGlvbiAobykgewogICAgICByZXR1cm4gISFvLm9wZXJhdGlvbjsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgdHlwZTogJ2V4cHJlc3Npb24nLAogICAgICBjaGFpbjogW3sKICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLAogICAgICAgIGZ1bmN0aW9uOiAnbGVuc19kYXRhdGFibGUnLAogICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgY29sdW1uczogW3sKICAgICAgICAgICAgdHlwZTogJ2V4cHJlc3Npb24nLAogICAgICAgICAgICBjaGFpbjogW3sKICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLAogICAgICAgICAgICAgIGZ1bmN0aW9uOiAnbGVuc19kYXRhdGFibGVfY29sdW1ucycsCiAgICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgICBjb2x1bW5JZHM6IG9wZXJhdGlvbnMubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBvLmNvbHVtbklkOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1dCiAgICAgICAgICB9XQogICAgICAgIH0KICAgICAgfV0KICAgIH07CiAgfQp9OwpleHBvcnRzLmRhdGF0YWJsZVZpc3VhbGl6YXRpb24gPSBkYXRhdGFibGVWaXN1YWxpemF0aW9uOw=="},null]}