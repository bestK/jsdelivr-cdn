{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/plugins/kibana_react/public/saved_objects/saved_object_save_modal.js","dependencies":[{"path":"src/plugins/kibana_react/public/saved_objects/saved_object_save_modal.js","mtime":1585205041830},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuU2F2ZWRPYmplY3RTYXZlTW9kYWwgPSB2b2lkIDA7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF9yZWFjdCA9IHJlcXVpcmUoIkBrYm4vaTE4bi9yZWFjdCIpOwoKdmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7Cgp2YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2xlZ2FjeS9jb3JlX3BsdWdpbnMva2liYW5hL3B1YmxpYy92aXN1YWxpemVfZW1iZWRkYWJsZS9jb25zdGFudHMiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgX3R5cGVvZjIoU3ltYm9sLml0ZXJhdG9yKSA9PT0gInN5bWJvbCIpIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gX3R5cGVvZjIob2JqKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiBfdHlwZW9mMihvYmopOwogICAgfTsKICB9CgogIHJldHVybiBfdHlwZW9mKG9iaik7Cn0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgfQp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOwogIH0KfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICByZXR1cm4gQ29uc3RydWN0b3I7Cn0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsKICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7CiAgICByZXR1cm4gY2FsbDsKICB9CgogIHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOwp9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgewogIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7CiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOwogIH07CiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsKfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7CiAgaWYgKHNlbGYgPT09IHZvaWQgMCkgewogICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsKICB9CgogIHJldHVybiBzZWxmOwp9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsKICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsKICB9CgogIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgewogICAgY29uc3RydWN0b3I6IHsKICAgICAgdmFsdWU6IHN1YkNsYXNzLAogICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICB9CiAgfSk7CiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7Cn0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgICBvLl9fcHJvdG9fXyA9IHA7CiAgICByZXR1cm4gbzsKICB9OwoKICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOwp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKdmFyIGdlbmVyYXRlSWQgPSAoMCwgX2V1aS5odG1sSWRHZW5lcmF0b3IpKCk7Cgp2YXIgU2F2ZWRPYmplY3RTYXZlTW9kYWwgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKFNhdmVkT2JqZWN0U2F2ZU1vZGFsLCBfUmVhY3QkQ29tcG9uZW50KTsKCiAgZnVuY3Rpb24gU2F2ZWRPYmplY3RTYXZlTW9kYWwoKSB7CiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjsKCiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNhdmVkT2JqZWN0U2F2ZU1vZGFsKTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKFNhdmVkT2JqZWN0U2F2ZU1vZGFsKSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAid2FybmluZyIsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVSZWYoKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic3RhdGUiLCB7CiAgICAgIHRpdGxlOiBfdGhpcy5wcm9wcy50aXRsZSwKICAgICAgY29weU9uU2F2ZTogZmFsc2UsCiAgICAgIGlzVGl0bGVEdXBsaWNhdGVDb25maXJtZWQ6IGZhbHNlLAogICAgICBoYXNUaXRsZUR1cGxpY2F0ZTogZmFsc2UsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIHZpc3VhbGl6YXRpb25EZXNjcmlwdGlvbjogX3RoaXMucHJvcHMuZGVzY3JpcHRpb24gPyBfdGhpcy5wcm9wcy5kZXNjcmlwdGlvbiA6ICcnCiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJyZW5kZXJWaWV3RGVzY3JpcHRpb24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChfdGhpcy5wcm9wcy5vYmplY3RUeXBlICE9PSBfY29uc3RhbnRzLlZJU1VBTElaRV9FTUJFRERBQkxFX1RZUEUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgICAgICBmdWxsV2lkdGg6IHRydWUsCiAgICAgICAgbGFiZWw6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogImtpYmFuYS1yZWFjdC5zYXZlZE9iamVjdHMuc2F2ZU1vZGFsLmRlc2NyaXB0aW9uTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJEZXNjcmlwdGlvbiIKICAgICAgICB9KQogICAgICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRleHRBcmVhLCB7CiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogInZpZXdEZXNjcmlwdGlvbiIsCiAgICAgICAgdmFsdWU6IF90aGlzLnN0YXRlLnZpc3VhbGl6YXRpb25EZXNjcmlwdGlvbiwKICAgICAgICBvbkNoYW5nZTogX3RoaXMub25EZXNjcmlwdGlvbkNoYW5nZQogICAgICB9KSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvbkRlc2NyaXB0aW9uQ2hhbmdlIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICB2aXN1YWxpemF0aW9uRGVzY3JpcHRpb246IGV2ZW50LnRhcmdldC52YWx1ZQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9uVGl0bGVEdXBsaWNhdGUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICAgIGlzVGl0bGVEdXBsaWNhdGVDb25maXJtZWQ6IHRydWUsCiAgICAgICAgaGFzVGl0bGVEdXBsaWNhdGU6IHRydWUKICAgICAgfSk7CgogICAgICBpZiAoX3RoaXMud2FybmluZy5jdXJyZW50KSB7CiAgICAgICAgX3RoaXMud2FybmluZy5jdXJyZW50LmZvY3VzKCk7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInNhdmVTYXZlZE9iamVjdCIsIGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCFfdGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBpc0xvYWRpbmc6IHRydWUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChfdGhpcy5wcm9wcy5vblNhdmUoewogICAgICAgICAgICAgICAgbmV3VGl0bGU6IF90aGlzLnN0YXRlLnRpdGxlLAogICAgICAgICAgICAgICAgbmV3Q29weU9uU2F2ZTogX3RoaXMuc3RhdGUuY29weU9uU2F2ZSwKICAgICAgICAgICAgICAgIGlzVGl0bGVEdXBsaWNhdGVDb25maXJtZWQ6IF90aGlzLnN0YXRlLmlzVGl0bGVEdXBsaWNhdGVDb25maXJtZWQsCiAgICAgICAgICAgICAgICBvblRpdGxlRHVwbGljYXRlOiBfdGhpcy5vblRpdGxlRHVwbGljYXRlLAogICAgICAgICAgICAgICAgbmV3RGVzY3JpcHRpb246IF90aGlzLnN0YXRlLnZpc3VhbGl6YXRpb25EZXNjcmlwdGlvbgogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvblRpdGxlQ2hhbmdlIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICB0aXRsZTogZXZlbnQudGFyZ2V0LnZhbHVlLAogICAgICAgIGlzVGl0bGVEdXBsaWNhdGVDb25maXJtZWQ6IGZhbHNlLAogICAgICAgIGhhc1RpdGxlRHVwbGljYXRlOiBmYWxzZQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9uQ29weU9uU2F2ZUNoYW5nZSIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgY29weU9uU2F2ZTogZXZlbnQudGFyZ2V0LmNoZWNrZWQKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvbkZvcm1TdWJtaXQiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgIF90aGlzLnNhdmVTYXZlZE9iamVjdCgpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicmVuZGVyQ29uZmlybUJ1dHRvbiIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsCiAgICAgICAgICBpc0xvYWRpbmcgPSBfdGhpcyRzdGF0ZS5pc0xvYWRpbmcsCiAgICAgICAgICB0aXRsZSA9IF90aGlzJHN0YXRlLnRpdGxlOwoKICAgICAgdmFyIGNvbmZpcm1MYWJlbCA9IF9pMThuLmkxOG4udHJhbnNsYXRlKCdraWJhbmEtcmVhY3Quc2F2ZWRPYmplY3RzLnNhdmVNb2RhbC5zYXZlQnV0dG9uTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTYXZlJwogICAgICB9KTsKCiAgICAgIGlmIChfdGhpcy5wcm9wcy5jb25maXJtQnV0dG9uTGFiZWwpIHsKICAgICAgICBjb25maXJtTGFiZWwgPSBfdGhpcy5wcm9wcy5jb25maXJtQnV0dG9uTGFiZWw7CiAgICAgIH0KCiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgICAgIGZpbGw6IHRydWUsCiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImNvbmZpcm1TYXZlU2F2ZWRPYmplY3RCdXR0b24iLAogICAgICAgIGlzTG9hZGluZzogaXNMb2FkaW5nLAogICAgICAgIGlzRGlzYWJsZWQ6IHRpdGxlLmxlbmd0aCA9PT0gMCwKICAgICAgICB0eXBlOiAic3VibWl0IgogICAgICB9LCBjb25maXJtTGFiZWwpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicmVuZGVyRHVwbGljYXRlVGl0bGVDYWxsb3V0IiwgZnVuY3Rpb24gKGR1cGxpY2F0ZVdhcm5pbmdJZCkgewogICAgICBpZiAoIV90aGlzLnN0YXRlLmhhc1RpdGxlRHVwbGljYXRlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHJlZjogX3RoaXMud2FybmluZywKICAgICAgICB0YWJJbmRleDogLTEKICAgICAgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlDYWxsT3V0LCB7CiAgICAgICAgdGl0bGU6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogImtpYmFuYS1yZWFjdC5zYXZlZE9iamVjdHMuc2F2ZU1vZGFsLmR1cGxpY2F0ZVRpdGxlTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJBIHtvYmplY3RUeXBlfSB3aXRoIHRoZSB0aXRsZSAne3RpdGxlfScgYWxyZWFkeSBleGlzdHMiLAogICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgIG9iamVjdFR5cGU6IF90aGlzLnByb3BzLm9iamVjdFR5cGUsCiAgICAgICAgICAgIHRpdGxlOiBfdGhpcy5zdGF0ZS50aXRsZQogICAgICAgICAgfQogICAgICAgIH0pLAogICAgICAgIGNvbG9yOiAid2FybmluZyIsCiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogInRpdGxlRHVwaWNhdGVXYXJuTXNnIiwKICAgICAgICBpZDogZHVwbGljYXRlV2FybmluZ0lkCiAgICAgIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogImtpYmFuYS1yZWFjdC5zYXZlZE9iamVjdHMuc2F2ZU1vZGFsLmR1cGxpY2F0ZVRpdGxlRGVzY3JpcHRpb24iLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ2xpY2tpbmcge2NvbmZpcm1TYXZlTGFiZWx9IG92ZXJ3cml0ZXMgdGhlIGV4aXN0aW5nIHtvYmplY3RUeXBlfS4iLAogICAgICAgIHZhbHVlczogewogICAgICAgICAgb2JqZWN0VHlwZTogX3RoaXMucHJvcHMub2JqZWN0VHlwZSwKICAgICAgICAgIGNvbmZpcm1TYXZlTGFiZWw6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCBfdGhpcy5wcm9wcy5jb25maXJtQnV0dG9uTGFiZWwgPyBfdGhpcy5wcm9wcy5jb25maXJtQnV0dG9uTGFiZWwgOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgna2liYW5hLXJlYWN0LnNhdmVkT2JqZWN0cy5zYXZlTW9kYWwuc2F2ZUJ1dHRvbkxhYmVsJywgewogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1NhdmUnCiAgICAgICAgICB9KSkKICAgICAgICB9CiAgICAgIH0pKSkpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgbnVsbCkpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicmVuZGVyQ29weU9uU2F2ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFfdGhpcy5wcm9wcy5zaG93Q29weU9uU2F2ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTd2l0Y2gsIHsKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAic2F2ZUFzTmV3Q2hlY2tib3giLAogICAgICAgIGNoZWNrZWQ6IF90aGlzLnN0YXRlLmNvcHlPblNhdmUsCiAgICAgICAgb25DaGFuZ2U6IF90aGlzLm9uQ29weU9uU2F2ZUNoYW5nZSwKICAgICAgICBsYWJlbDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAia2liYW5hLXJlYWN0LnNhdmVkT2JqZWN0cy5zYXZlTW9kYWwuc2F2ZUFzTmV3TGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTYXZlIGFzIG5ldyB7b2JqZWN0VHlwZX0iLAogICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgIG9iamVjdFR5cGU6IF90aGlzLnByb3BzLm9iamVjdFR5cGUKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIG51bGwpKTsKICAgIH0pOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhTYXZlZE9iamVjdFNhdmVNb2RhbCwgW3sKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSwKICAgICAgICAgIGlzVGl0bGVEdXBsaWNhdGVDb25maXJtZWQgPSBfdGhpcyRzdGF0ZTIuaXNUaXRsZUR1cGxpY2F0ZUNvbmZpcm1lZCwKICAgICAgICAgIGhhc1RpdGxlRHVwbGljYXRlID0gX3RoaXMkc3RhdGUyLmhhc1RpdGxlRHVwbGljYXRlLAogICAgICAgICAgdGl0bGUgPSBfdGhpcyRzdGF0ZTIudGl0bGU7CiAgICAgIHZhciBkdXBsaWNhdGVXYXJuaW5nSWQgPSBnZW5lcmF0ZUlkKCk7CiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU92ZXJsYXlNYXNrLCBudWxsLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZm9ybSIsIHsKICAgICAgICBvblN1Ym1pdDogdGhpcy5vbkZvcm1TdWJtaXQKICAgICAgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlNb2RhbCwgewogICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJzYXZlZE9iamVjdFNhdmVNb2RhbCIsCiAgICAgICAgY2xhc3NOYW1lOiAia2JuU2F2ZWRPYmplY3RTYXZlTW9kYWwiLAogICAgICAgIG9uQ2xvc2U6IHRoaXMucHJvcHMub25DbG9zZQogICAgICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU1vZGFsSGVhZGVyLCBudWxsLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU1vZGFsSGVhZGVyVGl0bGUsIG51bGwsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJraWJhbmEtcmVhY3Quc2F2ZWRPYmplY3RzLnNhdmVNb2RhbC5zYXZlVGl0bGUiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU2F2ZSB7b2JqZWN0VHlwZX0iLAogICAgICAgIHZhbHVlczogewogICAgICAgICAgb2JqZWN0VHlwZTogdGhpcy5wcm9wcy5vYmplY3RUeXBlCiAgICAgICAgfQogICAgICB9KSkpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU1vZGFsQm9keSwgbnVsbCwgdGhpcy5yZW5kZXJEdXBsaWNhdGVUaXRsZUNhbGxvdXQoZHVwbGljYXRlV2FybmluZ0lkKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtLCBudWxsLCB0aGlzLnByb3BzLm9iamVjdFR5cGUgIT09IF9jb25zdGFudHMuVklTVUFMSVpFX0VNQkVEREFCTEVfVFlQRSAmJiB0aGlzLnByb3BzLmRlc2NyaXB0aW9uICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgbnVsbCwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUZXh0LCB7CiAgICAgICAgY29sb3I6ICJzdWJkdWVkIgogICAgICB9LCB0aGlzLnByb3BzLmRlc2NyaXB0aW9uKSksIHRoaXMucmVuZGVyQ29weU9uU2F2ZSgpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgICAgICBmdWxsV2lkdGg6IHRydWUsCiAgICAgICAgbGFiZWw6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogImtpYmFuYS1yZWFjdC5zYXZlZE9iamVjdHMuc2F2ZU1vZGFsLnRpdGxlTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUaXRsZSIKICAgICAgICB9KQogICAgICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZpZWxkVGV4dCwgewogICAgICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgICAgICBhdXRvRm9jdXM6IHRydWUsCiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogInNhdmVkT2JqZWN0VGl0bGUiLAogICAgICAgIHZhbHVlOiB0aXRsZSwKICAgICAgICBvbkNoYW5nZTogdGhpcy5vblRpdGxlQ2hhbmdlLAogICAgICAgIGlzSW52YWxpZDogIWlzVGl0bGVEdXBsaWNhdGVDb25maXJtZWQgJiYgaGFzVGl0bGVEdXBsaWNhdGUgfHwgdGl0bGUubGVuZ3RoID09PSAwLAogICAgICAgICJhcmlhLWRlc2NyaWJlZGJ5IjogdGhpcy5zdGF0ZS5oYXNUaXRsZUR1cGxpY2F0ZSA/IGR1cGxpY2F0ZVdhcm5pbmdJZCA6IHVuZGVmaW5lZAogICAgICB9KSksIHRoaXMucmVuZGVyVmlld0Rlc2NyaXB0aW9uKCksIHRoaXMucHJvcHMub3B0aW9ucykpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU1vZGFsRm9vdGVyLCBudWxsLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogInNhdmVDYW5jZWxCdXR0b24iLAogICAgICAgIG9uQ2xpY2s6IHRoaXMucHJvcHMub25DbG9zZQogICAgICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAia2liYW5hLXJlYWN0LnNhdmVkT2JqZWN0cy5zYXZlTW9kYWwuY2FuY2VsQnV0dG9uTGFiZWwiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ2FuY2VsIgogICAgICB9KSksIHRoaXMucmVuZGVyQ29uZmlybUJ1dHRvbigpKSkpKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBTYXZlZE9iamVjdFNhdmVNb2RhbDsKfShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTsKCmV4cG9ydHMuU2F2ZWRPYmplY3RTYXZlTW9kYWwgPSBTYXZlZE9iamVjdFNhdmVNb2RhbDs="},null]}