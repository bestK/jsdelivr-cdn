{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/rollup/public/crud_app/sections/job_list/job_table/job_table.js","dependencies":[{"path":"x-pack/legacy/plugins/rollup/public/crud_app/sections/job_list/job_table/job_table.js","mtime":1585205047012},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkpvYlRhYmxlID0gZXhwb3J0cy5Kb2JUYWJsZVVpID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInByb3AtdHlwZXMiKSk7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF9jb21tb24gPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi9jb21tb24iKTsKCnZhciBfc2VydmljZXMgPSByZXF1aXJlKCIuLi8uLi8uLi9zZXJ2aWNlcyIpOwoKdmFyIF9jb21wb25lbnRzID0gcmVxdWlyZSgiLi4vLi4vY29tcG9uZW50cyIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCnZhciBDT0xVTU5TID0gW3sKICBuYW1lOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sucm9sbHVwSm9icy5qb2JUYWJsZS5oZWFkZXJzLm5hbWVIZWFkZXInLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0lEJwogIH0pLAogIGZpZWxkTmFtZTogJ2lkJywKICBpc1NvcnRhYmxlOiB0cnVlCn0sIHsKICBuYW1lOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sucm9sbHVwSm9icy5qb2JUYWJsZS5oZWFkZXJzLnN0YXR1c0hlYWRlcicsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnU3RhdHVzJwogIH0pLAogIGZpZWxkTmFtZTogJ3N0YXR1cycsCiAgaXNTb3J0YWJsZTogdHJ1ZSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihfcmVmKSB7CiAgICB2YXIgc3RhdHVzID0gX3JlZi5zdGF0dXMsCiAgICAgICAgcm9sbHVwQ3JvbiA9IF9yZWYucm9sbHVwQ3JvbjsKICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVG9vbFRpcCwgewogICAgICBwbGFjZW1lbnQ6ICJ0b3AiLAogICAgICBjb250ZW50OiAiQ3JvbjogIi5jb25jYXQocm9sbHVwQ3JvbikKICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHMuSm9iU3RhdHVzLCB7CiAgICAgIHN0YXR1czogc3RhdHVzCiAgICB9KSk7CiAgfQp9LCB7CiAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnJvbGx1cEpvYnMuam9iVGFibGUuaGVhZGVycy5pbmRleFBhdHRlcm5IZWFkZXInLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0luZGV4IHBhdHRlcm4nCiAgfSksCiAgdHJ1bmNhdGVUZXh0OiB0cnVlLAogIGZpZWxkTmFtZTogJ2luZGV4UGF0dGVybicsCiAgaXNTb3J0YWJsZTogdHJ1ZQp9LCB7CiAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnJvbGx1cEpvYnMuam9iVGFibGUuaGVhZGVycy5yb2xsdXBJbmRleEhlYWRlcicsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnUm9sbHVwIGluZGV4JwogIH0pLAogIHRydW5jYXRlVGV4dDogdHJ1ZSwKICBmaWVsZE5hbWU6ICdyb2xsdXBJbmRleCcsCiAgaXNTb3J0YWJsZTogdHJ1ZQp9LCB7CiAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnJvbGx1cEpvYnMuam9iVGFibGUuaGVhZGVycy5kZWxheUhlYWRlcicsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnRGVsYXknCiAgfSksCiAgZmllbGROYW1lOiAncm9sbHVwRGVsYXknLAogIGlzU29ydGFibGU6IHRydWUsCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoX3JlZjIpIHsKICAgIHZhciByb2xsdXBEZWxheSA9IF9yZWYyLnJvbGx1cERlbGF5OwogICAgcmV0dXJuIHJvbGx1cERlbGF5IHx8ICdOb25lJzsKICB9Cn0sIHsKICBuYW1lOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sucm9sbHVwSm9icy5qb2JUYWJsZS5oZWFkZXJzLmludGVydmFsSGVhZGVyJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdJbnRlcnZhbCcKICB9KSwKICBmaWVsZE5hbWU6ICdkYXRlSGlzdG9ncmFtSW50ZXJ2YWwnLAogIGlzU29ydGFibGU6IHRydWUKfSwgewogIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5yb2xsdXBKb2JzLmpvYlRhYmxlLmhlYWRlcnMuZ3JvdXBzSGVhZGVyJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdHcm91cHMnCiAgfSksCiAgZmllbGROYW1lOiAnZ3JvdXBzJywKICBpc1NvcnRhYmxlOiBmYWxzZSwKICB0cnVuY2F0ZVRleHQ6IHRydWUsCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoam9iKSB7CiAgICByZXR1cm4gWydoaXN0b2dyYW0nLCAndGVybXMnXS5yZWR1Y2UoZnVuY3Rpb24gKHRleHQsIGZpZWxkKSB7CiAgICAgIGlmIChqb2JbZmllbGRdLmxlbmd0aCkgewogICAgICAgIHJldHVybiB0ZXh0ID8gIiIuY29uY2F0KHRleHQsICIsICIpLmNvbmNhdChmaWVsZCkgOiBmaWVsZC5yZXBsYWNlKC9eXHcvLCBmdW5jdGlvbiAoY2hhcikgewogICAgICAgICAgcmV0dXJuIGNoYXIudG9VcHBlckNhc2UoKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRleHQ7CiAgICB9LCAnJyk7CiAgfQp9LCB7CiAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnJvbGx1cEpvYnMuam9iVGFibGUuaGVhZGVycy5tZXRyaWNzSGVhZGVyJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdNZXRyaWNzJwogIH0pLAogIGZpZWxkTmFtZTogJ21ldHJpY3MnLAogIGlzU29ydGFibGU6IGZhbHNlLAogIHRydW5jYXRlVGV4dDogdHJ1ZSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihqb2IpIHsKICAgIHZhciBtZXRyaWNzID0gam9iLm1ldHJpY3M7CgogICAgaWYgKG1ldHJpY3MubGVuZ3RoKSB7CiAgICAgIHJldHVybiBtZXRyaWNzLm1hcChmdW5jdGlvbiAobWV0cmljKSB7CiAgICAgICAgcmV0dXJuIG1ldHJpYy5uYW1lOwogICAgICB9KS5qb2luKCcsICcpOwogICAgfQoKICAgIHJldHVybiAnJzsKICB9Cn1dOwoKdmFyIEpvYlRhYmxlVWkgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKEpvYlRhYmxlVWksIF9Db21wb25lbnQpOwoKICBfY3JlYXRlQ2xhc3MoSm9iVGFibGVVaSwgbnVsbCwgW3sKICAgIGtleTogImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBzdGF0ZSkgewogICAgICAvLyBEZXNlbGN0IGFueSBqb2JzIHdoaWNoIG5vIGxvbmdlciBleGlzdCwgZS5nLiB0aGV5J3ZlIGJlZW4gZGVsZXRlZC4KICAgICAgdmFyIGlkVG9TZWxlY3RlZEpvYk1hcCA9IHN0YXRlLmlkVG9TZWxlY3RlZEpvYk1hcDsKICAgICAgdmFyIGpvYklkcyA9IHByb3BzLmpvYnMubWFwKGZ1bmN0aW9uIChqb2IpIHsKICAgICAgICByZXR1cm4gam9iLmlkOwogICAgICB9KTsKICAgICAgdmFyIHNlbGVjdGVkSm9iSWRzID0gT2JqZWN0LmtleXMoaWRUb1NlbGVjdGVkSm9iTWFwKTsKICAgICAgdmFyIG1pc3NpbmdKb2JJZHMgPSBzZWxlY3RlZEpvYklkcy5maWx0ZXIoZnVuY3Rpb24gKHNlbGVjdGVkSm9iSWQpIHsKICAgICAgICByZXR1cm4gIWpvYklkcy5pbmNsdWRlcyhzZWxlY3RlZEpvYklkKTsKICAgICAgfSk7CgogICAgICBpZiAobWlzc2luZ0pvYklkcy5sZW5ndGgpIHsKICAgICAgICB2YXIgbmV3TWFwID0gX29iamVjdFNwcmVhZCh7fSwgaWRUb1NlbGVjdGVkSm9iTWFwKTsKCiAgICAgICAgbWlzc2luZ0pvYklkcy5mb3JFYWNoKGZ1bmN0aW9uIChtaXNzaW5nSm9iSWQpIHsKICAgICAgICAgIHJldHVybiBkZWxldGUgbmV3TWFwW21pc3NpbmdKb2JJZF07CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlkVG9TZWxlY3RlZEpvYk1hcDogbmV3TWFwCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfV0pOwoKICBmdW5jdGlvbiBKb2JUYWJsZVVpKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEpvYlRhYmxlVWkpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEpvYlRhYmxlVWkpLmNhbGwodGhpcywgcHJvcHMpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJ0b2dnbGVBbGwiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBhbGxTZWxlY3RlZCA9IF90aGlzLmFyZUFsbEl0ZW1zU2VsZWN0ZWQoKTsKCiAgICAgIGlmIChhbGxTZWxlY3RlZCkgewogICAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBpZFRvU2VsZWN0ZWRKb2JNYXA6IHt9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciBqb2JzID0gX3RoaXMucHJvcHMuam9iczsKICAgICAgdmFyIGlkVG9TZWxlY3RlZEpvYk1hcCA9IHt9OwogICAgICBqb2JzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgdmFyIGlkID0gX3JlZjMuaWQ7CiAgICAgICAgaWRUb1NlbGVjdGVkSm9iTWFwW2lkXSA9IHRydWU7CiAgICAgIH0pOwoKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGlkVG9TZWxlY3RlZEpvYk1hcDogaWRUb1NlbGVjdGVkSm9iTWFwCiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAidG9nZ2xlSXRlbSIsIGZ1bmN0aW9uIChpZCkgewogICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoX3JlZjQpIHsKICAgICAgICB2YXIgaWRUb1NlbGVjdGVkSm9iTWFwID0gX3JlZjQuaWRUb1NlbGVjdGVkSm9iTWFwOwoKICAgICAgICB2YXIgbmV3TWFwID0gX29iamVjdFNwcmVhZCh7fSwgaWRUb1NlbGVjdGVkSm9iTWFwKTsKCiAgICAgICAgaWYgKG5ld01hcFtpZF0pIHsKICAgICAgICAgIGRlbGV0ZSBuZXdNYXBbaWRdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuZXdNYXBbaWRdID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZFRvU2VsZWN0ZWRKb2JNYXA6IG5ld01hcAogICAgICAgIH07CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicmVzZXRTZWxlY3Rpb24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBpZFRvU2VsZWN0ZWRKb2JNYXA6IHt9CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZGVzZWxlY3RJdGVtcyIsIGZ1bmN0aW9uIChpdGVtSWRzKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChfcmVmNSkgewogICAgICAgIHZhciBpZFRvU2VsZWN0ZWRKb2JNYXAgPSBfcmVmNS5pZFRvU2VsZWN0ZWRKb2JNYXA7CgogICAgICAgIHZhciBuZXdNYXAgPSBfb2JqZWN0U3ByZWFkKHt9LCBpZFRvU2VsZWN0ZWRKb2JNYXApOwoKICAgICAgICBpdGVtSWRzLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICByZXR1cm4gZGVsZXRlIG5ld01hcFtpZF07CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlkVG9TZWxlY3RlZEpvYk1hcDogbmV3TWFwCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJhcmVBbGxJdGVtc1NlbGVjdGVkIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgam9icyA9IF90aGlzLnByb3BzLmpvYnM7CiAgICAgIHZhciBpbmRleE9mVW5zZWxlY3RlZEl0ZW0gPSBqb2JzLmZpbmRJbmRleChmdW5jdGlvbiAoam9iKSB7CiAgICAgICAgcmV0dXJuICFfdGhpcy5pc0l0ZW1TZWxlY3RlZChqb2IuaWQpOwogICAgICB9KTsKICAgICAgcmV0dXJuIGluZGV4T2ZVbnNlbGVjdGVkSXRlbSA9PT0gLTE7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJpc0l0ZW1TZWxlY3RlZCIsIGZ1bmN0aW9uIChpZCkgewogICAgICByZXR1cm4gISFfdGhpcy5zdGF0ZS5pZFRvU2VsZWN0ZWRKb2JNYXBbaWRdOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25Tb3J0IiwgZnVuY3Rpb24gKGNvbHVtbikgewogICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcywKICAgICAgICAgIHNvcnRGaWVsZCA9IF90aGlzJHByb3BzLnNvcnRGaWVsZCwKICAgICAgICAgIGlzU29ydEFzY2VuZGluZyA9IF90aGlzJHByb3BzLmlzU29ydEFzY2VuZGluZywKICAgICAgICAgIHNvcnRDaGFuZ2VkID0gX3RoaXMkcHJvcHMuc29ydENoYW5nZWQ7CiAgICAgIHZhciBuZXdJc1NvcnRBc2NlbmRpbmcgPSBzb3J0RmllbGQgPT09IGNvbHVtbiA/ICFpc1NvcnRBc2NlbmRpbmcgOiB0cnVlOwogICAgICBzb3J0Q2hhbmdlZChjb2x1bW4sIG5ld0lzU29ydEFzY2VuZGluZyk7CiAgICB9KTsKCiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgaWRUb1NlbGVjdGVkSm9iTWFwOiB7fQogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhKb2JUYWJsZVVpLCBbewogICAga2V5OiAiZ2V0U2VsZWN0ZWRKb2JzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZWxlY3RlZEpvYnMoKSB7CiAgICAgIHZhciBqb2JzID0gdGhpcy5wcm9wcy5qb2JzOwogICAgICB2YXIgaWRUb1NlbGVjdGVkSm9iTWFwID0gdGhpcy5zdGF0ZS5pZFRvU2VsZWN0ZWRKb2JNYXA7CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhpZFRvU2VsZWN0ZWRKb2JNYXApLm1hcChmdW5jdGlvbiAoam9iSWQpIHsKICAgICAgICByZXR1cm4gam9icy5maW5kKGZ1bmN0aW9uIChqb2IpIHsKICAgICAgICAgIHJldHVybiBqb2IuaWQgPT09IGpvYklkOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJidWlsZEhlYWRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRIZWFkZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsCiAgICAgICAgICBzb3J0RmllbGQgPSBfdGhpcyRwcm9wczIuc29ydEZpZWxkLAogICAgICAgICAgaXNTb3J0QXNjZW5kaW5nID0gX3RoaXMkcHJvcHMyLmlzU29ydEFzY2VuZGluZzsKICAgICAgcmV0dXJuIENPTFVNTlMubWFwKGZ1bmN0aW9uIChfcmVmNikgewogICAgICAgIHZhciBuYW1lID0gX3JlZjYubmFtZSwKICAgICAgICAgICAgZmllbGROYW1lID0gX3JlZjYuZmllbGROYW1lLAogICAgICAgICAgICBpc1NvcnRhYmxlID0gX3JlZjYuaXNTb3J0YWJsZTsKICAgICAgICB2YXIgaXNTb3J0ZWQgPSBzb3J0RmllbGQgPT09IGZpZWxkTmFtZTsKICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRhYmxlSGVhZGVyQ2VsbCwgewogICAgICAgICAga2V5OiBuYW1lLAogICAgICAgICAgb25Tb3J0OiBpc1NvcnRhYmxlID8gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uU29ydChmaWVsZE5hbWUpOwogICAgICAgICAgfSA6IHVuZGVmaW5lZCwKICAgICAgICAgIGlzU29ydGVkOiBpc1NvcnRlZCwKICAgICAgICAgIGlzU29ydEFzY2VuZGluZzogaXNTb3J0QXNjZW5kaW5nLAogICAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImpvYlRhYmxlSGVhZGVyQ2VsbC0iLmNvbmNhdChmaWVsZE5hbWUpCiAgICAgICAgfSwgbmFtZSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImJ1aWxkUm93Q2VsbHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkUm93Q2VsbHMoam9iKSB7CiAgICAgIHZhciBvcGVuRGV0YWlsUGFuZWwgPSB0aGlzLnByb3BzLm9wZW5EZXRhaWxQYW5lbDsKICAgICAgcmV0dXJuIENPTFVNTlMubWFwKGZ1bmN0aW9uIChfcmVmNykgewogICAgICAgIHZhciBuYW1lID0gX3JlZjcubmFtZSwKICAgICAgICAgICAgZmllbGROYW1lID0gX3JlZjcuZmllbGROYW1lLAogICAgICAgICAgICByZW5kZXIgPSBfcmVmNy5yZW5kZXIsCiAgICAgICAgICAgIHRydW5jYXRlVGV4dCA9IF9yZWY3LnRydW5jYXRlVGV4dDsKICAgICAgICB2YXIgdmFsdWUgPSByZW5kZXIgPyByZW5kZXIoam9iKSA6IGpvYltmaWVsZE5hbWVdOwogICAgICAgIHZhciBjb250ZW50OwoKICAgICAgICBpZiAoZmllbGROYW1lID09PSAnaWQnKSB7CiAgICAgICAgICBjb250ZW50ID0gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxpbmssIHsKICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgICAoMCwgX3NlcnZpY2VzLnRyYWNrVWlNZXRyaWMpKF9zZXJ2aWNlcy5NRVRSSUNfVFlQRS5DTElDSywgX2NvbW1vbi5VSU1fU0hPV19ERVRBSUxTX0NMSUNLKTsKICAgICAgICAgICAgICBvcGVuRGV0YWlsUGFuZWwoam9iLmlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgdmFsdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb250ZW50ID0gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIHZhbHVlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGFibGVSb3dDZWxsLCB7CiAgICAgICAgICBrZXk6ICIiLmNvbmNhdChqb2IuaWQsICItIikuY29uY2F0KG5hbWUpLAogICAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImpvYlRhYmxlQ2VsbC0iLmNvbmNhdChmaWVsZE5hbWUpLAogICAgICAgICAgdHJ1bmNhdGVUZXh0OiB0cnVuY2F0ZVRleHQKICAgICAgICB9LCB0cnVuY2F0ZVRleHQgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVG9vbFRpcCwgewogICAgICAgICAgYW5jaG9yQ2xhc3NOYW1lOiAiZXVpLXRleHRUcnVuY2F0ZSIsCiAgICAgICAgICBjb250ZW50OiB2YWx1ZQogICAgICAgIH0sIGNvbnRlbnQpIDogY29udGVudCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImJ1aWxkUm93cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRSb3dzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBqb2JzID0gdGhpcy5wcm9wcy5qb2JzOwogICAgICByZXR1cm4gam9icy5tYXAoZnVuY3Rpb24gKGpvYikgewogICAgICAgIHZhciBpZCA9IGpvYi5pZDsKICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRhYmxlUm93LCB7CiAgICAgICAgICBrZXk6ICIiLmNvbmNhdChpZCwgIi1yb3ciKSwKICAgICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJqb2JUYWJsZVJvdyIKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGFibGVSb3dDZWxsQ2hlY2tib3gsIHsKICAgICAgICAgIGtleTogImNoZWNrYm94LSIuY29uY2F0KGlkKQogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlDaGVja2JveCwgewogICAgICAgICAgdHlwZTogImluTGlzdCIsCiAgICAgICAgICBpZDogImNoZWNrYm94U2VsZWN0SW5kZXgtIi5jb25jYXQoaWQpLAogICAgICAgICAgY2hlY2tlZDogX3RoaXMzLmlzSXRlbVNlbGVjdGVkKGlkKSwKICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHsKICAgICAgICAgICAgX3RoaXMzLnRvZ2dsZUl0ZW0oaWQpOwogICAgICAgICAgfSwKICAgICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJpbmRleFRhYmxlUm93Q2hlY2tib3gtIi5jb25jYXQoaWQpCiAgICAgICAgfSkpLCBfdGhpczMuYnVpbGRSb3dDZWxscyhqb2IpKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyUGFnZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclBhZ2VyKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcywKICAgICAgICAgIHBhZ2VyID0gX3RoaXMkcHJvcHMzLnBhZ2VyLAogICAgICAgICAgcGFnZUNoYW5nZWQgPSBfdGhpcyRwcm9wczMucGFnZUNoYW5nZWQsCiAgICAgICAgICBwYWdlU2l6ZUNoYW5nZWQgPSBfdGhpcyRwcm9wczMucGFnZVNpemVDaGFuZ2VkOwogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRhYmxlUGFnaW5hdGlvbiwgewogICAgICAgIGFjdGl2ZVBhZ2U6IHBhZ2VyLmdldEN1cnJlbnRQYWdlSW5kZXgoKSwKICAgICAgICBpdGVtc1BlclBhZ2U6IHBhZ2VyLml0ZW1zUGVyUGFnZSwKICAgICAgICBpdGVtc1BlclBhZ2VPcHRpb25zOiBbMjAsIDUwLCAxMDBdLAogICAgICAgIHBhZ2VDb3VudDogcGFnZXIuZ2V0VG90YWxQYWdlcygpLAogICAgICAgIG9uQ2hhbmdlSXRlbXNQZXJQYWdlOiBwYWdlU2l6ZUNoYW5nZWQsCiAgICAgICAgb25DaGFuZ2VQYWdlOiBwYWdlQ2hhbmdlZAogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzJHByb3BzNCA9IHRoaXMucHJvcHMsCiAgICAgICAgICBmaWx0ZXJDaGFuZ2VkID0gX3RoaXMkcHJvcHM0LmZpbHRlckNoYW5nZWQsCiAgICAgICAgICBmaWx0ZXIgPSBfdGhpcyRwcm9wczQuZmlsdGVyLAogICAgICAgICAgam9icyA9IF90aGlzJHByb3BzNC5qb2JzLAogICAgICAgICAgaW50bCA9IF90aGlzJHByb3BzNC5pbnRsLAogICAgICAgICAgY2xvc2VEZXRhaWxQYW5lbCA9IF90aGlzJHByb3BzNC5jbG9zZURldGFpbFBhbmVsOwogICAgICB2YXIgaWRUb1NlbGVjdGVkSm9iTWFwID0gdGhpcy5zdGF0ZS5pZFRvU2VsZWN0ZWRKb2JNYXA7CiAgICAgIHZhciBhdExlYXN0T25lSXRlbVNlbGVjdGVkID0gT2JqZWN0LmtleXMoaWRUb1NlbGVjdGVkSm9iTWFwKS5sZW5ndGggPiAwOwogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgICAgICBndXR0ZXJTaXplOiAibCIsCiAgICAgICAgYWxpZ25JdGVtczogImNlbnRlciIKICAgICAgfSwgYXRMZWFzdE9uZUl0ZW1TZWxlY3RlZCA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgIGdyb3c6IGZhbHNlCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHMuSm9iQWN0aW9uTWVudSwgewogICAgICAgIGpvYnM6IHRoaXMuZ2V0U2VsZWN0ZWRKb2JzKCksCiAgICAgICAgY2xvc2VEZXRhaWxQYW5lbDogY2xvc2VEZXRhaWxQYW5lbCwKICAgICAgICByZXNldFNlbGVjdGlvbjogdGhpcy5yZXNldFNlbGVjdGlvbiwKICAgICAgICBkZXNlbGVjdEpvYnM6IHRoaXMuZGVzZWxlY3RJdGVtcwogICAgICB9KSkgOiBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGaWVsZFNlYXJjaCwgewogICAgICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgICAgICB2YWx1ZTogZmlsdGVyLAogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICAgICAgZmlsdGVyQ2hhbmdlZChldmVudC50YXJnZXQudmFsdWUpOwogICAgICAgIH0sCiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImpvYlRhYmxlRmlsdGVySW5wdXQiLAogICAgICAgIHBsYWNlaG9sZGVyOiBpbnRsLmZvcm1hdE1lc3NhZ2UoewogICAgICAgICAgaWQ6ICd4cGFjay5yb2xsdXBKb2JzLmpvYlRhYmxlLnNlYXJjaElucHV0UGxhY2Vob2xkZXInLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTZWFyY2gnCiAgICAgICAgfSksCiAgICAgICAgImFyaWEtbGFiZWwiOiAiU2VhcmNoIGpvYnMiCiAgICAgIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgICAgICBzaXplOiAibSIKICAgICAgfSksIGpvYnMubGVuZ3RoID4gMCA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUYWJsZSwgewogICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJyb2xsdXBKb2JzTGlzdFRhYmxlIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGFibGVIZWFkZXIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUYWJsZUhlYWRlckNlbGxDaGVja2JveCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNoZWNrYm94LCB7CiAgICAgICAgaWQ6ICJzZWxlY3RBbGxKb2JzQ2hlY2tib3giLAogICAgICAgIGNoZWNrZWQ6IHRoaXMuYXJlQWxsSXRlbXNTZWxlY3RlZCgpLAogICAgICAgIG9uQ2hhbmdlOiB0aGlzLnRvZ2dsZUFsbCwKICAgICAgICB0eXBlOiAiaW5MaXN0IgogICAgICB9KSksIHRoaXMuYnVpbGRIZWFkZXIoKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUYWJsZUJvZHksIG51bGwsIHRoaXMuYnVpbGRSb3dzKCkpKSA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUZXh0LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInhwYWNrLnJvbGx1cEpvYnMuam9iVGFibGUubm9Kb2JzTWF0Y2hTZWFyY2hNZXNzYWdlIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIk5vIHJvbGx1cCBqb2JzIG1hdGNoIHlvdXIgc2VhcmNoIgogICAgICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgc2l6ZTogIm0iCiAgICAgIH0pLCBqb2JzLmxlbmd0aCA+IDAgPyB0aGlzLnJlbmRlclBhZ2VyKCkgOiBudWxsKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBKb2JUYWJsZVVpOwp9KF9yZWFjdC5Db21wb25lbnQpOwoKZXhwb3J0cy5Kb2JUYWJsZVVpID0gSm9iVGFibGVVaTsKCl9kZWZpbmVQcm9wZXJ0eShKb2JUYWJsZVVpLCAicHJvcFR5cGVzIiwgewogIGpvYnM6IF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheSwKICBwYWdlcjogX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLAogIGZpbHRlcjogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLAogIHNvcnRGaWVsZDogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLAogIGlzU29ydEFzY2VuZGluZzogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wuaXNSZXF1aXJlZCwKICBvcGVuRGV0YWlsUGFuZWw6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsCiAgY2xvc2VEZXRhaWxQYW5lbDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCwKICBmaWx0ZXJDaGFuZ2VkOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIHBhZ2VDaGFuZ2VkOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIHBhZ2VTaXplQ2hhbmdlZDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCwKICBzb3J0Q2hhbmdlZDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZAp9KTsKCl9kZWZpbmVQcm9wZXJ0eShKb2JUYWJsZVVpLCAiZGVmYXVsdFByb3BzIiwgewogIGpvYnM6IFtdCn0pOwoKdmFyIEpvYlRhYmxlID0gKDAsIF9yZWFjdDIuaW5qZWN0STE4bikoSm9iVGFibGVVaSk7CmV4cG9ydHMuSm9iVGFibGUgPSBKb2JUYWJsZTs="},null]}