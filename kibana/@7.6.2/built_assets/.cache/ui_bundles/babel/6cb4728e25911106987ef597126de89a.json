{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/graph/public/components/field_manager/field_editor.js","dependencies":[{"path":"x-pack/legacy/plugins/graph/public/components/field_manager/field_editor.js","mtime":1585205044205},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkZpZWxkRWRpdG9yID0gRmllbGRFZGl0b3I7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7Cgp2YXIgX2NsYXNzbmFtZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImNsYXNzbmFtZXMiKSk7Cgp2YXIgX3N0eWxlX2Nob2ljZXMgPSByZXF1aXJlKCIuLi8uLi9oZWxwZXJzL3N0eWxlX2Nob2ljZXMiKTsKCnZhciBfbGVnYWN5X2ljb24gPSByZXF1aXJlKCIuLi9sZWdhY3lfaWNvbiIpOwoKdmFyIF9wdWJsaWMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmMvcGx1Z2lucy9raWJhbmFfcmVhY3QvcHVibGljIik7Cgp2YXIgX2hlbHBlcnMgPSByZXF1aXJlKCIuLi9oZWxwZXJzIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgewogIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OwoKICB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7CgogIHZhciBrZXksIGk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsKCiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgewogICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOwogICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOwogICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOwogICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgewogIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OwogIHZhciB0YXJnZXQgPSB7fTsKICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7CiAgdmFyIGtleSwgaTsKCiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsKICAgIGtleSA9IHNvdXJjZUtleXNbaV07CiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOwogICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsKICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCmZ1bmN0aW9uIEZpZWxkRWRpdG9yKF9yZWYpIHsKICB2YXIgaW5pdGlhbEZpZWxkID0gX3JlZi5maWVsZCwKICAgICAgdXBkYXRlRmllbGRQcm9wZXJ0aWVzID0gX3JlZi51cGRhdGVGaWVsZFByb3BlcnRpZXMsCiAgICAgIHNlbGVjdEZpZWxkID0gX3JlZi5zZWxlY3RGaWVsZCwKICAgICAgZGVzZWxlY3RGaWVsZCA9IF9yZWYuZGVzZWxlY3RGaWVsZCwKICAgICAgYWxsRmllbGRzID0gX3JlZi5hbGxGaWVsZHM7CgogIHZhciBfdXNlU3RhdGUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShmYWxzZSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBvcGVuID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0T3BlbiA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU3RhdGUzID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoaW5pdGlhbEZpZWxkKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBjdXJyZW50RmllbGQgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRDdXJyZW50RmllbGQgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgY29sb3IgPSBjdXJyZW50RmllbGQuY29sb3IsCiAgICAgIGhvcFNpemUgPSBjdXJyZW50RmllbGQuaG9wU2l6ZSwKICAgICAgbGFzdFZhbGlkSG9wU2l6ZSA9IGN1cnJlbnRGaWVsZC5sYXN0VmFsaWRIb3BTaXplLAogICAgICBpY29uID0gY3VycmVudEZpZWxkLmljb24sCiAgICAgIGZpZWxkTmFtZSA9IGN1cnJlbnRGaWVsZC5uYW1lOwogIHZhciBpc0Rpc2FibGVkID0gaW5pdGlhbEZpZWxkLmhvcFNpemUgPT09IDA7IC8vIHVwZGF0ZSBsb2NhbCBmaWVsZCBjb3B5IGlmIGNoYW5nZWQgZnJvbSB0aGUgb3V0c2lkZQoKICAoMCwgX3JlYWN0LnVzZUVmZmVjdCkoZnVuY3Rpb24gKCkgewogICAgaWYgKGN1cnJlbnRGaWVsZCAhPT0gaW5pdGlhbEZpZWxkKSB7CiAgICAgIHNldEN1cnJlbnRGaWVsZChpbml0aWFsRmllbGQpOwogICAgfSAvLyB0aGlzIGhvb2sgb25seSB1cGRhdGVzIG9uIGNoYW5nZSBvZiB0aGUgcHJvcAogICAgLy8gaXQncyBtZWFudCB0byByZXNldCB0aGUgaW50ZXJuYWwgc3RhdGUgb24gY2hhbmdlcyBvdXRzaWRlIG9mIHRoZSBjb21wb25lbnQuCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzCgogIH0sIFtpbml0aWFsRmllbGRdKTsKCiAgZnVuY3Rpb24gdXBkYXRlRmllbGQoKSB7CiAgICB2YXIgbmFtZSA9IGN1cnJlbnRGaWVsZC5uYW1lLAogICAgICAgIHNlbGVjdGVkID0gY3VycmVudEZpZWxkLnNlbGVjdGVkLAogICAgICAgIHR5cGUgPSBjdXJyZW50RmllbGQudHlwZSwKICAgICAgICB1cGRhdGFibGVQcm9wZXJ0aWVzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKGN1cnJlbnRGaWVsZCwgWyJuYW1lIiwgInNlbGVjdGVkIiwgInR5cGUiXSk7CgogICAgaWYgKGZpZWxkTmFtZSAhPT0gaW5pdGlhbEZpZWxkLm5hbWUpIHsKICAgICAgZGVzZWxlY3RGaWVsZChpbml0aWFsRmllbGQubmFtZSk7CiAgICAgIHNlbGVjdEZpZWxkKGZpZWxkTmFtZSk7CiAgICB9CgogICAgdXBkYXRlRmllbGRQcm9wZXJ0aWVzKHsKICAgICAgZmllbGROYW1lOiBmaWVsZE5hbWUsCiAgICAgIGZpZWxkUHJvcGVydGllczogdXBkYXRhYmxlUHJvcGVydGllcwogICAgfSk7CiAgICBzZXRPcGVuKGZhbHNlKTsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZVByb3AobmFtZSwgdmFsdWUpIHsKICAgIHNldEN1cnJlbnRGaWVsZChfb2JqZWN0U3ByZWFkKHt9LCBjdXJyZW50RmllbGQsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgbmFtZSwgdmFsdWUpKSk7CiAgfQoKICBmdW5jdGlvbiB0b2dnbGVEaXNhYmxlZFN0YXRlKCkgewogICAgdXBkYXRlRmllbGRQcm9wZXJ0aWVzKHsKICAgICAgZmllbGROYW1lOiBpbml0aWFsRmllbGQubmFtZSwKICAgICAgZmllbGRQcm9wZXJ0aWVzOiB7CiAgICAgICAgaG9wU2l6ZTogaXNEaXNhYmxlZCA/IGluaXRpYWxGaWVsZC5sYXN0VmFsaWRIb3BTaXplIDogMCwKICAgICAgICBsYXN0VmFsaWRIb3BTaXplOiBpc0Rpc2FibGVkID8gMCA6IGluaXRpYWxGaWVsZC5ob3BTaXplCiAgICAgIH0KICAgIH0pOwogICAgc2V0T3BlbihmYWxzZSk7CiAgfQoKICB2YXIgYmFkZ2VEZXNjcmlwdGlvbiA9IGlzRGlzYWJsZWQgPyBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suZ3JhcGguZmllbGRNYW5hZ2VyLmRpc2FibGVkRmllbGRCYWRnZURlc2NyaXB0aW9uJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdEaXNhYmxlZCBmaWVsZCB7ZmllbGR9OiBDbGljayB0byBjb25maWd1cmUuIFNoaWZ0K2NsaWNrIHRvIGVuYWJsZScsCiAgICB2YWx1ZXM6IHsKICAgICAgZmllbGQ6IGZpZWxkTmFtZQogICAgfQogIH0pIDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmdyYXBoLmZpZWxkTWFuYWdlci5maWVsZEJhZGdlRGVzY3JpcHRpb24nLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0ZpZWxkIHtmaWVsZH06IENsaWNrIHRvIGNvbmZpZ3VyZS4gU2hpZnQrY2xpY2sgdG8gZGlzYWJsZScsCiAgICB2YWx1ZXM6IHsKICAgICAgZmllbGQ6IGZpZWxkTmFtZQogICAgfQogIH0pOwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUG9wb3ZlciwgewogICAgaWQ6ICJncmFwaEZpZWxkRWRpdG9yIiwKICAgIGFuY2hvclBvc2l0aW9uOiAiZG93bkxlZnQiLAogICAgb3duRm9jdXM6IHRydWUsCiAgICBwYW5lbFBhZGRpbmdTaXplOiAibm9uZSIsCiAgICBidXR0b246IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCYWRnZSwgewogICAgICBjb2xvcjogaW5pdGlhbEZpZWxkLmNvbG9yLAogICAgICBpY29uU2lkZTogInJpZ2h0IiwKICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMuZGVmYXVsdCkoJ2dwaEZpZWxkRWRpdG9yX19iYWRnZScsIHsKICAgICAgICAnZ3BoRmllbGRFZGl0b3JfX2JhZGdlLS1kaXNhYmxlZCc6IGlzRGlzYWJsZWQKICAgICAgfSksCiAgICAgIG9uQ2xpY2tBcmlhTGFiZWw6IGJhZGdlRGVzY3JpcHRpb24sCiAgICAgIHRpdGxlOiAiIiwKICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7CiAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHsKICAgICAgICAgIHRvZ2dsZURpc2FibGVkU3RhdGUoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2V0T3Blbih0cnVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2xlZ2FjeV9pY29uLkxlZ2FjeUljb24sIHsKICAgICAgY2xhc3NOYW1lOiAnZ3BoRmllbGRFZGl0b3JfX2JhZGdlSWNvbicsCiAgICAgIGljb246IGluaXRpYWxGaWVsZC5pY29uCiAgICB9KSwgaW5pdGlhbEZpZWxkLm5hbWUpLAogICAgaXNPcGVuOiBvcGVuLAogICAgY2xvc2VQb3BvdmVyOiBmdW5jdGlvbiBjbG9zZVBvcG92ZXIoKSB7CiAgICAgIHJldHVybiBzZXRPcGVuKGZhbHNlKTsKICAgIH0KICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ29udGV4dE1lbnUsIHsKICAgIGluaXRpYWxQYW5lbElkOiAicm9vdCIsCiAgICBwYW5lbHM6IFt7CiAgICAgIGlkOiAncm9vdCcsCiAgICAgIGl0ZW1zOiBbewogICAgICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5ncmFwaC5maWVsZE1hbmFnZXIuc2V0dGluZ3NMYWJlbCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRWRpdCBzZXR0aW5ncycKICAgICAgICB9KSwKICAgICAgICBpY29uOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSWNvbiwgewogICAgICAgICAgdHlwZTogInBlbmNpbCIsCiAgICAgICAgICBzaXplOiAibSIKICAgICAgICB9KSwKICAgICAgICBwYW5lbDogJ3NldHRpbmdzJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogaXNEaXNhYmxlZCA/IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5ncmFwaC5maWVsZE1hbmFnZXIuZW5hYmxlRmllbGRMYWJlbCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRW5hYmxlIGZpZWxkJwogICAgICAgIH0pIDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmdyYXBoLmZpZWxkTWFuYWdlci5kaXNhYmxlRmllbGRMYWJlbCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRGlzYWJsZSBmaWVsZCcKICAgICAgICB9KSwKICAgICAgICBpY29uOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSWNvbiwgewogICAgICAgICAgdHlwZTogaXNEaXNhYmxlZCA/ICdleWUnIDogJ2V5ZUNsb3NlZCcsCiAgICAgICAgICBzaXplOiAibSIKICAgICAgICB9KSwKICAgICAgICBvbkNsaWNrOiB0b2dnbGVEaXNhYmxlZFN0YXRlLAogICAgICAgIHRvb2xUaXBDb250ZW50OiBpc0Rpc2FibGVkID8gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmdyYXBoLmZpZWxkTWFuYWdlci5lbmFibGVGaWVsZFRvb2x0aXBDb250ZW50JywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdUdXJuIG9uIGRpc2NvdmVyeSBvZiB2ZXJ0aWNlcyBmb3IgdGhpcyBmaWVsZC4gWW91IGNhbiBhbHNvIFNoaWZ0K2NsaWNrIHRoZSBmaWVsZCB0byBlbmFibGUgaXQuJwogICAgICAgIH0pIDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmdyYXBoLmZpZWxkTWFuYWdlci5kaXNhYmxlRmllbGRUb29sdGlwQ29udGVudCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVHVybiBvZmYgZGlzY292ZXJ5IG9mIHZlcnRpY2VzIGZvciB0aGlzIGZpZWxkLiBZb3UgY2FuIGFsc28gU2hpZnQrY2xpY2sgdGhlIGZpZWxkIHRvIGRpc2FibGUgaXQuJwogICAgICAgIH0pCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suZ3JhcGguZmllbGRNYW5hZ2VyLmRlbGV0ZUZpZWxkTGFiZWwnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0Rlc2VsZWN0IGZpZWxkJwogICAgICAgIH0pLAogICAgICAgIHRvb2xUaXBDb250ZW50OiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suZ3JhcGguZmllbGRNYW5hZ2VyLmRlbGV0ZUZpZWxkVG9vbHRpcENvbnRlbnQnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ05vIG5ldyB2ZXJ0aWNlcyBmb3IgdGhpcyBmaWVsZCB3aWxsIGJlIGRpc2NvdmVyZWQuICBFeGlzdGluZyB2ZXJ0aWNlcyByZW1haW4gaW4gdGhlIGdyYXBoLicKICAgICAgICB9KSwKICAgICAgICBpY29uOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSWNvbiwgewogICAgICAgICAgdHlwZTogInRyYXNoIiwKICAgICAgICAgIHNpemU6ICJtIgogICAgICAgIH0pLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICBkZXNlbGVjdEZpZWxkKGluaXRpYWxGaWVsZC5uYW1lKTsKICAgICAgICAgIHNldE9wZW4oZmFsc2UpOwogICAgICAgIH0KICAgICAgfV0KICAgIH0sIHsKICAgICAgaWQ6ICdzZXR0aW5ncycsCiAgICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suZ3JhcGguZmllbGRNYW5hZ2VyLnNldHRpbmdzRm9ybVRpdGxlJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRWRpdCcKICAgICAgfSksCiAgICAgIHdpZHRoOiAzODAsCiAgICAgIGNvbnRlbnQ6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiZ3BoRmllbGRFZGl0b3JfX2Rpc3BsYXlGb3JtIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpS2V5Ym9hcmRBY2Nlc3NpYmxlLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBvcGFjaXR5OiAwCiAgICAgICAgfSwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge30sCiAgICAgICAgb25LZXlQcmVzczogZnVuY3Rpb24gb25LZXlQcmVzcygpIHt9CiAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgICAgICBkaXNwbGF5OiAiY29sdW1uQ29tcHJlc3NlZCIsCiAgICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5ncmFwaC5maWVsZE1hbmFnZXIuZmllbGRMYWJlbCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRmllbGQnCiAgICAgICAgfSkKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNvbWJvQm94LCB7CiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGNob2ljZXMpIHsKICAgICAgICAgIC8vIHZhbHVlIGlzIGFsd2F5cyBkZWZpbmVkIGJlY2F1c2UgaXQncyBhbiB1bmNsZWFyYWJsZSBzaW5nbGUgc2VsZWN0aW9uCiAgICAgICAgICB2YXIgbmV3RmllbGROYW1lID0gY2hvaWNlc1swXS52YWx1ZTsKICAgICAgICAgIHVwZGF0ZVByb3AoJ25hbWUnLCBuZXdGaWVsZE5hbWUpOwogICAgICAgIH0sCiAgICAgICAgc2luZ2xlU2VsZWN0aW9uOiB7CiAgICAgICAgICBhc1BsYWluVGV4dDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgaXNDbGVhcmFibGU6IGZhbHNlLAogICAgICAgIG9wdGlvbnM6IHRvT3B0aW9ucyhhbGxGaWVsZHMsIGluaXRpYWxGaWVsZCksCiAgICAgICAgc2VsZWN0ZWRPcHRpb25zOiBbewogICAgICAgICAgdmFsdWU6IGN1cnJlbnRGaWVsZC5uYW1lLAogICAgICAgICAgbGFiZWw6IGN1cnJlbnRGaWVsZC5uYW1lLAogICAgICAgICAgdHlwZTogY3VycmVudEZpZWxkLnR5cGUKICAgICAgICB9XSwKICAgICAgICByZW5kZXJPcHRpb246IGZ1bmN0aW9uIHJlbmRlck9wdGlvbihvcHRpb24sIHNlYXJjaFZhbHVlLCBjb250ZW50Q2xhc3NOYW1lKSB7CiAgICAgICAgICB2YXIgdHlwZSA9IG9wdGlvbi50eXBlLAogICAgICAgICAgICAgIGxhYmVsID0gb3B0aW9uLmxhYmVsOwogICAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogY29udGVudENsYXNzTmFtZQogICAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcHVibGljLkZpZWxkSWNvbiwgewogICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICBzaXplOiAibSIsCiAgICAgICAgICAgIHVzZUNvbG9yOiB0cnVlCiAgICAgICAgICB9KSwgJyAnLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSGlnaGxpZ2h0LCB7CiAgICAgICAgICAgIHNlYXJjaDogc2VhcmNoVmFsdWUKICAgICAgICAgIH0sIGxhYmVsKSk7CiAgICAgICAgfSwKICAgICAgICBjb21wcmVzc2VkOiB0cnVlCiAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgICAgICBkaXNwbGF5OiAiY29sdW1uQ29tcHJlc3NlZCIsCiAgICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5ncmFwaC5maWVsZE1hbmFnZXIuY29sb3JMYWJlbCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQ29sb3InCiAgICAgICAgfSkKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNvbG9yUGlja2VyLCB7CiAgICAgICAgY29sb3I6IGNvbG9yLAogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShuZXdDb2xvcikgewogICAgICAgICAgdXBkYXRlUHJvcCgnY29sb3InLCBuZXdDb2xvcik7CiAgICAgICAgfSwKICAgICAgICBjb21wcmVzc2VkOiB0cnVlCiAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgICAgICBkaXNwbGF5OiAiY29sdW1uQ29tcHJlc3NlZCIsCiAgICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5ncmFwaC5maWVsZE1hbmFnZXIuaWNvbkxhYmVsJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdJY29uJwogICAgICAgIH0pCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlDb21ib0JveCwgewogICAgICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgICAgICBzaW5nbGVTZWxlY3Rpb246IHsKICAgICAgICAgIGFzUGxhaW5UZXh0OiB0cnVlCiAgICAgICAgfSwKICAgICAgICBpc0NsZWFyYWJsZTogZmFsc2UsCiAgICAgICAgcmVuZGVyT3B0aW9uOiBmdW5jdGlvbiByZW5kZXJPcHRpb24ob3B0aW9uLCBzZWFyY2hWYWx1ZSwgY29udGVudENsYXNzTmFtZSkgewogICAgICAgICAgdmFyIGxhYmVsID0gb3B0aW9uLmxhYmVsLAogICAgICAgICAgICAgIHZhbHVlID0gb3B0aW9uLnZhbHVlOwogICAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogY29udGVudENsYXNzTmFtZQogICAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbGVnYWN5X2ljb24uTGVnYWN5SWNvbiwgewogICAgICAgICAgICBpY29uOiB2YWx1ZQogICAgICAgICAgfSksICcgJywgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUhpZ2hsaWdodCwgewogICAgICAgICAgICBzZWFyY2g6IHNlYXJjaFZhbHVlCiAgICAgICAgICB9LCBsYWJlbCkpOwogICAgICAgIH0sCiAgICAgICAgb3B0aW9uczogX3N0eWxlX2Nob2ljZXMuaWNvbkNob2ljZXMubWFwKGZ1bmN0aW9uIChjdXJyZW50SWNvbikgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbGFiZWw6IGN1cnJlbnRJY29uLmxhYmVsLAogICAgICAgICAgICB2YWx1ZTogY3VycmVudEljb24KICAgICAgICAgIH07CiAgICAgICAgfSksCiAgICAgICAgc2VsZWN0ZWRPcHRpb25zOiBbewogICAgICAgICAgbGFiZWw6IGljb24ubGFiZWwsCiAgICAgICAgICB2YWx1ZTogaWNvbgogICAgICAgIH1dLAogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShjaG9pY2VzKSB7CiAgICAgICAgICB1cGRhdGVQcm9wKCdpY29uJywgY2hvaWNlc1swXS52YWx1ZSk7CiAgICAgICAgfSwKICAgICAgICBjb21wcmVzc2VkOiB0cnVlCiAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgICAgICBkaXNwbGF5OiAiY29sdW1uQ29tcHJlc3NlZCIsCiAgICAgICAgbGFiZWw6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LmRlZmF1bHQuRnJhZ21lbnQsIG51bGwsIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5ncmFwaC5maWVsZE1hbmFnZXIubWF4VGVybXNQZXJIb3BMYWJlbCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVGVybXMgcGVyIGhvcCcKICAgICAgICB9KSwgJyAnLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSWNvblRpcCwgewogICAgICAgICAgY29udGVudDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmdyYXBoLmZpZWxkTWFuYWdlci5tYXhUZXJtc1BlckhvcERlc2NyaXB0aW9uJywgewogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0NvbnRyb2xzIHRoZSBtYXhpbXVtIG51bWJlciBvZiB0ZXJtcyB0byByZXR1cm4gZm9yIGVhY2ggc2VhcmNoIHN0ZXAuJwogICAgICAgICAgfSksCiAgICAgICAgICBwb3NpdGlvbjogInJpZ2h0IgogICAgICAgIH0pKQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmllbGROdW1iZXIsIHsKICAgICAgICBzdGVwOiAxLAogICAgICAgIG1pbjogMSwKICAgICAgICB2YWx1ZTogaXNEaXNhYmxlZCA/IGxhc3RWYWxpZEhvcFNpemUgOiBob3BTaXplLAogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShfcmVmMikgewogICAgICAgICAgdmFyIHZhbHVlQXNOdW1iZXIgPSBfcmVmMi50YXJnZXQudmFsdWVBc051bWJlcjsKICAgICAgICAgIHZhciB1cGRhdGVkSG9wU2l6ZSA9IE51bWJlci5pc05hTih2YWx1ZUFzTnVtYmVyKSA/IDEgOiB2YWx1ZUFzTnVtYmVyOwogICAgICAgICAgdXBkYXRlUHJvcChpc0Rpc2FibGVkID8gJ2xhc3RWYWxpZEhvcFNpemUnIDogJ2hvcFNpemUnLCB1cGRhdGVkSG9wU2l6ZSk7CiAgICAgICAgfSwKICAgICAgICBjb21wcmVzc2VkOiB0cnVlCiAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJzIgogICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgICAgIGRpcmVjdGlvbjogInJvdyIsCiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICJmbGV4RW5kIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uRW1wdHksIHsKICAgICAgICBzaXplOiAicyIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHNldEN1cnJlbnRGaWVsZChpbml0aWFsRmllbGQpOwogICAgICAgICAgc2V0T3BlbihmYWxzZSk7CiAgICAgICAgfQogICAgICB9LCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suZ3JhcGguZmllbGRNYW5hZ2VyLmNhbmNlbExhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQ2FuY2VsJwogICAgICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uLCB7CiAgICAgICAgc2l6ZTogInMiLAogICAgICAgIGZpbGw6IHRydWUsCiAgICAgICAgZGlzYWJsZWQ6ICgwLCBfaGVscGVycy5pc0VxdWFsKShpbml0aWFsRmllbGQsIGN1cnJlbnRGaWVsZCksCiAgICAgICAgb25DbGljazogdXBkYXRlRmllbGQKICAgICAgfSwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmdyYXBoLmZpZWxkTWFuYWdlci51cGRhdGVMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1NhdmUgY2hhbmdlcycKICAgICAgfSkpKSkpCiAgICB9XQogIH0pKTsKfQoKZnVuY3Rpb24gdG9PcHRpb25zKGZpZWxkcywgY3VycmVudEZpZWxkKSB7CiAgcmV0dXJuIGZpZWxkcy5maWx0ZXIoZnVuY3Rpb24gKGZpZWxkKSB7CiAgICByZXR1cm4gIWZpZWxkLnNlbGVjdGVkIHx8IGZpZWxkID09PSBjdXJyZW50RmllbGQ7CiAgfSkubWFwKGZ1bmN0aW9uIChfcmVmMykgewogICAgdmFyIG5hbWUgPSBfcmVmMy5uYW1lLAogICAgICAgIHR5cGUgPSBfcmVmMy50eXBlOwogICAgcmV0dXJuIHsKICAgICAgbGFiZWw6IG5hbWUsCiAgICAgIHZhbHVlOiBuYW1lLAogICAgICB0eXBlOiB0eXBlCiAgICB9OwogIH0pOwp9"},null]}