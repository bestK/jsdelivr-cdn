{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/apm/public/components/app/Settings/ApmIndices/index.js","dependencies":[{"path":"x-pack/legacy/plugins/apm/public/components/app/Settings/ApmIndices/index.js","mtime":1585205042586},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkFwbUluZGljZXMgPSBBcG1JbmRpY2VzOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF91c2VGZXRjaGVyMiA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2hvb2tzL3VzZUZldGNoZXIiKTsKCnZhciBfdXNlQ2FsbEFwbUFwaSA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2hvb2tzL3VzZUNhbGxBcG1BcGkiKTsKCnZhciBfY2FsbEFwaSA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL3NlcnZpY2VzL3Jlc3QvY2FsbEFwaSIpOwoKdmFyIF91c2VBcG1QbHVnaW5Db250ZXh0ID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vaG9va3MvdXNlQXBtUGx1Z2luQ29udGV4dCIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7CiAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgewogICAgcmV0dXJuIG9iajsKICB9IGVsc2UgewogICAgdmFyIG5ld09iaiA9IHt9OwoKICAgIGlmIChvYmogIT0gbnVsbCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsKICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OwoKICAgICAgICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBuZXdPYmouZGVmYXVsdCA9IG9iajsKICAgIHJldHVybiBuZXdPYmo7CiAgfQp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKdmFyIEFQTV9JTkRFWF9MQUJFTFMgPSBbewogIGNvbmZpZ3VyYXRpb25OYW1lOiAnYXBtX29zcy5zb3VyY2VtYXBJbmRpY2VzJywKICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS5zZXR0aW5ncy5hcG1JbmRpY2VzLnNvdXJjZW1hcEluZGljZXNMYWJlbCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnU291cmNlbWFwIEluZGljZXMnCiAgfSkKfSwgewogIGNvbmZpZ3VyYXRpb25OYW1lOiAnYXBtX29zcy5lcnJvckluZGljZXMnLAogIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLnNldHRpbmdzLmFwbUluZGljZXMuZXJyb3JJbmRpY2VzTGFiZWwnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0Vycm9yIEluZGljZXMnCiAgfSkKfSwgewogIGNvbmZpZ3VyYXRpb25OYW1lOiAnYXBtX29zcy5vbmJvYXJkaW5nSW5kaWNlcycsCiAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5hcG0uc2V0dGluZ3MuYXBtSW5kaWNlcy5vbmJvYXJkaW5nSW5kaWNlc0xhYmVsJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdPbmJvYXJkaW5nIEluZGljZXMnCiAgfSkKfSwgewogIGNvbmZpZ3VyYXRpb25OYW1lOiAnYXBtX29zcy5zcGFuSW5kaWNlcycsCiAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5hcG0uc2V0dGluZ3MuYXBtSW5kaWNlcy5zcGFuSW5kaWNlc0xhYmVsJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdTcGFuIEluZGljZXMnCiAgfSkKfSwgewogIGNvbmZpZ3VyYXRpb25OYW1lOiAnYXBtX29zcy50cmFuc2FjdGlvbkluZGljZXMnLAogIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLnNldHRpbmdzLmFwbUluZGljZXMudHJhbnNhY3Rpb25JbmRpY2VzTGFiZWwnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ1RyYW5zYWN0aW9uIEluZGljZXMnCiAgfSkKfSwgewogIGNvbmZpZ3VyYXRpb25OYW1lOiAnYXBtX29zcy5tZXRyaWNzSW5kaWNlcycsCiAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5hcG0uc2V0dGluZ3MuYXBtSW5kaWNlcy5tZXRyaWNzSW5kaWNlc0xhYmVsJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdNZXRyaWNzIEluZGljZXMnCiAgfSkKfV07CgpmdW5jdGlvbiBzYXZlQXBtSW5kaWNlcyhfcmVmKSB7CiAgdmFyIGNhbGxBcG1BcGksIGFwbUluZGljZXM7CiAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBzYXZlQXBtSW5kaWNlcyQoX2NvbnRleHQpIHsKICAgIHdoaWxlICgxKSB7CiAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBjYWxsQXBtQXBpID0gX3JlZi5jYWxsQXBtQXBpLCBhcG1JbmRpY2VzID0gX3JlZi5hcG1JbmRpY2VzOwogICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGNhbGxBcG1BcGkoewogICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgcGF0aG5hbWU6ICcvYXBpL2FwbS9zZXR0aW5ncy9hcG0taW5kaWNlcy9zYXZlJywKICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgYm9keTogYXBtSW5kaWNlcwogICAgICAgICAgICB9CiAgICAgICAgICB9KSk7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgICgwLCBfY2FsbEFwaS5jbGVhckNhY2hlKSgpOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgIH0KICAgIH0KICB9KTsKfSAvLyBhdm9pZCBpbmZpbml0ZSBsb29wIGJ5IGluaXRpYWxpemluZyB0aGUgc3RhdGUgb3V0c2lkZSB0aGUgY29tcG9uZW50CgoKdmFyIElOSVRJQUxfU1RBVEUgPSBbXTsKCmZ1bmN0aW9uIEFwbUluZGljZXMoKSB7CiAgdmFyIHRvYXN0cyA9ICgwLCBfdXNlQXBtUGx1Z2luQ29udGV4dC51c2VBcG1QbHVnaW5Db250ZXh0KSgpLmNvcmUubm90aWZpY2F0aW9ucy50b2FzdHM7CgogIHZhciBfdXNlU3RhdGUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKSh7fSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBhcG1JbmRpY2VzID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0QXBtSW5kaWNlcyA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU3RhdGUzID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoZmFsc2UpLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGlzU2F2aW5nID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0SXNTYXZpbmcgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgY2FsbEFwbUFwaUZyb21Ib29rID0gKDAsIF91c2VDYWxsQXBtQXBpLnVzZUNhbGxBcG1BcGkpKCk7CgogIHZhciBfdXNlRmV0Y2hlciA9ICgwLCBfdXNlRmV0Y2hlcjIudXNlRmV0Y2hlcikoZnVuY3Rpb24gKGNhbGxBcG1BcGkpIHsKICAgIHJldHVybiBjYWxsQXBtQXBpKHsKICAgICAgcGF0aG5hbWU6ICIvYXBpL2FwbS9zZXR0aW5ncy9hcG0taW5kZXgtc2V0dGluZ3MiCiAgICB9KTsKICB9LCBbXSksCiAgICAgIF91c2VGZXRjaGVyJGRhdGEgPSBfdXNlRmV0Y2hlci5kYXRhLAogICAgICBkYXRhID0gX3VzZUZldGNoZXIkZGF0YSA9PT0gdm9pZCAwID8gSU5JVElBTF9TVEFURSA6IF91c2VGZXRjaGVyJGRhdGEsCiAgICAgIHN0YXR1cyA9IF91c2VGZXRjaGVyLnN0YXR1cywKICAgICAgcmVmZXRjaCA9IF91c2VGZXRjaGVyLnJlZmV0Y2g7CgogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICBzZXRBcG1JbmRpY2VzKGRhdGEucmVkdWNlKGZ1bmN0aW9uIChhY2MsIF9yZWYyKSB7CiAgICAgIHZhciBjb25maWd1cmF0aW9uTmFtZSA9IF9yZWYyLmNvbmZpZ3VyYXRpb25OYW1lLAogICAgICAgICAgc2F2ZWRWYWx1ZSA9IF9yZWYyLnNhdmVkVmFsdWU7CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBhY2MsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgY29uZmlndXJhdGlvbk5hbWUsIHNhdmVkVmFsdWUpKTsKICAgIH0sIHt9KSk7CiAgfSwgW2RhdGFdKTsKCiAgdmFyIGhhbmRsZUFwcGx5Q2hhbmdlc0V2ZW50ID0gZnVuY3Rpb24gaGFuZGxlQXBwbHlDaGFuZ2VzRXZlbnQoZXZlbnQpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gaGFuZGxlQXBwbHlDaGFuZ2VzRXZlbnQkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBzZXRJc1NhdmluZyh0cnVlKTsKICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyOwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoc2F2ZUFwbUluZGljZXMoewogICAgICAgICAgICAgIGNhbGxBcG1BcGk6IGNhbGxBcG1BcGlGcm9tSG9vaywKICAgICAgICAgICAgICBhcG1JbmRpY2VzOiBhcG1JbmRpY2VzCiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIHRvYXN0cy5hZGRTdWNjZXNzKHsKICAgICAgICAgICAgICB0aXRsZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS5zZXR0aW5ncy5hcG1JbmRpY2VzLmFwcGx5Q2hhbmdlcy5zdWNjZWVkZWQudGl0bGUnLCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0luZGljZXMgYXBwbGllZCcKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICB0ZXh0OiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLnNldHRpbmdzLmFwbUluZGljZXMuYXBwbHlDaGFuZ2VzLnN1Y2NlZWRlZC50ZXh0JywgewogICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdUaGUgaW5kaWNlcyBjaGFuZ2VzIHdlcmUgc3VjY2Vzc2Z1bGx5IGFwcGxpZWQuIFRoZXNlIGNoYW5nZXMgYXJlIHJlZmxlY3RlZCBpbW1lZGlhdGVseSBpbiB0aGUgQVBNIFVJJwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICB0b2FzdHMuYWRkRGFuZ2VyKHsKICAgICAgICAgICAgICB0aXRsZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS5zZXR0aW5ncy5hcG1JbmRpY2VzLmFwcGx5Q2hhbmdlcy5mYWlsZWQudGl0bGUnLCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0luZGljZXMgY291bGQgbm90IGJlIGFwcGxpZWQuJwogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIHRleHQ6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5hcG0uc2V0dGluZ3MuYXBtSW5kaWNlcy5hcHBseUNoYW5nZXMuZmFpbGVkLnRleHQnLCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1NvbWV0aGluZyB3ZW50IHdyb25nIHdoZW4gYXBwbHlpbmcgaW5kaWNlcy4gRXJyb3I6IHtlcnJvck1lc3NhZ2V9JywKICAgICAgICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IF9jb250ZXh0Mi50MC5tZXNzYWdlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgc2V0SXNTYXZpbmcoZmFsc2UpOwoKICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIG51bGwsIG51bGwsIFtbMiwgOF1dKTsKICB9OwoKICB2YXIgaGFuZGxlQ2hhbmdlSW5kZXhDb25maWd1cmF0aW9uRXZlbnQgPSBmdW5jdGlvbiBoYW5kbGVDaGFuZ2VJbmRleENvbmZpZ3VyYXRpb25FdmVudChldmVudCkgewogICAgdmFyIF9ldmVudCR0YXJnZXQsIG5hbWUsIHZhbHVlOwoKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gaGFuZGxlQ2hhbmdlSW5kZXhDb25maWd1cmF0aW9uRXZlbnQkKF9jb250ZXh0MykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfZXZlbnQkdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LCBuYW1lID0gX2V2ZW50JHRhcmdldC5uYW1lLCB2YWx1ZSA9IF9ldmVudCR0YXJnZXQudmFsdWU7CiAgICAgICAgICAgIHNldEFwbUluZGljZXMoX29iamVjdFNwcmVhZCh7fSwgYXBtSW5kaWNlcywgX2RlZmluZVByb3BlcnR5KHt9LCBuYW1lLCB2YWx1ZSkpKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH07CgogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUGFuZWwsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgIGFsaWduSXRlbXM6ICJjZW50ZXIiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUaXRsZSwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiaDIiLCBudWxsLCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLnNldHRpbmdzLmFwbUluZGljZXMudGl0bGUnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0luZGljZXMnCiAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgc2l6ZTogIm0iCiAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUZXh0LCB7CiAgICBzaXplOiAicyIsCiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInAiLCBudWxsLCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLnNldHRpbmdzLmFwbUluZGljZXMuZGVzY3JpcHRpb24nLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogIlRoZSBBUE0gVUkgdXNlcyBpbmRleCBwYXR0ZXJucyB0byBxdWVyeSB5b3VyIEFQTSBpbmRpY2VzLiBJZiB5b3UndmUgY3VzdG9taXplZCB0aGUgaW5kZXggbmFtZXMgdGhhdCBBUE0gU2VydmVyIHdyaXRlcyBldmVudHMgdG8sIHlvdSBtYXkgbmVlZCB0byB1cGRhdGUgdGhlc2UgcGF0dGVybnMgZm9yIHRoZSBBUE0gVUkgdG8gd29yay4gU2V0dGluZ3MgaGVyZSB0YWtlIHByZWNlZGVuY2Ugb3ZlciB0aG9zZSBzZXQgaW4ga2liYW5hLnltbC4iCiAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybSwgbnVsbCwgQVBNX0lOREVYX0xBQkVMUy5tYXAoZnVuY3Rpb24gKF9yZWYzKSB7CiAgICB2YXIgY29uZmlndXJhdGlvbk5hbWUgPSBfcmVmMy5jb25maWd1cmF0aW9uTmFtZSwKICAgICAgICBsYWJlbCA9IF9yZWYzLmxhYmVsOwogICAgdmFyIG1hdGNoZWRDb25maWd1cmF0aW9uID0gZGF0YS5maW5kKGZ1bmN0aW9uIChfcmVmNCkgewogICAgICB2YXIgY29uZmlnTmFtZSA9IF9yZWY0LmNvbmZpZ3VyYXRpb25OYW1lOwogICAgICByZXR1cm4gY29uZmlnTmFtZSA9PT0gY29uZmlndXJhdGlvbk5hbWU7CiAgICB9KTsKICAgIHZhciBkZWZhdWx0VmFsdWUgPSBtYXRjaGVkQ29uZmlndXJhdGlvbiA/IG1hdGNoZWRDb25maWd1cmF0aW9uLmRlZmF1bHRWYWx1ZSA6ICcnOwogICAgdmFyIHNhdmVkVWlJbmRleFZhbHVlID0gYXBtSW5kaWNlc1tjb25maWd1cmF0aW9uTmFtZV0gfHwgJyc7CiAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgICAga2V5OiBjb25maWd1cmF0aW9uTmFtZSwKICAgICAgbGFiZWw6IGxhYmVsLAogICAgICBoZWxwVGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS5zZXR0aW5ncy5hcG1JbmRpY2VzLmhlbHBUZXh0JywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnT3ZlcnJpZGVzIHtjb25maWd1cmF0aW9uTmFtZX06IHtkZWZhdWx0VmFsdWV9JywKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIGNvbmZpZ3VyYXRpb25OYW1lOiBjb25maWd1cmF0aW9uTmFtZSwKICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlCiAgICAgICAgfQogICAgICB9KSwKICAgICAgZnVsbFdpZHRoOiB0cnVlCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmllbGRUZXh0LCB7CiAgICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgICAgbmFtZTogY29uZmlndXJhdGlvbk5hbWUsCiAgICAgIHBsYWNlaG9sZGVyOiBkZWZhdWx0VmFsdWUsCiAgICAgIHZhbHVlOiBzYXZlZFVpSW5kZXhWYWx1ZSwKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZUluZGV4Q29uZmlndXJhdGlvbkV2ZW50CiAgICB9KSk7CiAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIG51bGwpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICBqdXN0aWZ5Q29udGVudDogImZsZXhFbmQiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b25FbXB0eSwgewogICAgb25DbGljazogcmVmZXRjaAogIH0sIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5hcG0uc2V0dGluZ3MuYXBtSW5kaWNlcy5jYW5jZWxCdXR0b24nLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0NhbmNlbCcKICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgZmlsbDogdHJ1ZSwKICAgIG9uQ2xpY2s6IGhhbmRsZUFwcGx5Q2hhbmdlc0V2ZW50LAogICAgaXNMb2FkaW5nOiBpc1NhdmluZywKICAgIGRpc2FibGVkOiBzdGF0dXMgIT09ICdzdWNjZXNzJwogIH0sIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5hcG0uc2V0dGluZ3MuYXBtSW5kaWNlcy5hcHBseUJ1dHRvbicsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnQXBwbHkgY2hhbmdlcycKICB9KSkpKSkpKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgIHNpemU6ICJtIgogIH0pKTsKfQ=="},null]}