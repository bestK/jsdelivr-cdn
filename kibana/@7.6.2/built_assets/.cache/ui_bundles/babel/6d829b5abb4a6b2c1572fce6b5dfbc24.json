{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/maps/public/components/geometry_filter_form.js","dependencies":[{"path":"x-pack/legacy/plugins/maps/public/components/geometry_filter_form.js","mtime":1585205045229},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkdlb21ldHJ5RmlsdGVyRm9ybSA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJwcm9wLXR5cGVzIikpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCIuLi8uLi9jb21tb24vY29uc3RhbnRzIik7Cgp2YXIgX2kxOG5fZ2V0dGVycyA9IHJlcXVpcmUoIi4uLy4uL2NvbW1vbi9pMThuX2dldHRlcnMiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKdmFyIEdFT19GSUVMRF9WQUxVRV9ERUxJTUlURVIgPSAnLyc7IC8vIGAvYCBpcyBub3QgYWxsb3dlZCBpbiBpbmRleCBwYXR0ZXJuIG5hbWUgc28gc2hvdWxkIG5vdCBoYXZlIGNvbGxpc2lvbnMKCmZ1bmN0aW9uIGNyZWF0ZUluZGV4R2VvRmllbGROYW1lKF9yZWYpIHsKICB2YXIgaW5kZXhQYXR0ZXJuVGl0bGUgPSBfcmVmLmluZGV4UGF0dGVyblRpdGxlLAogICAgICBnZW9GaWVsZE5hbWUgPSBfcmVmLmdlb0ZpZWxkTmFtZTsKICByZXR1cm4gIiIuY29uY2F0KGluZGV4UGF0dGVyblRpdGxlKS5jb25jYXQoR0VPX0ZJRUxEX1ZBTFVFX0RFTElNSVRFUikuY29uY2F0KGdlb0ZpZWxkTmFtZSk7Cn0KCmZ1bmN0aW9uIHNwbGl0SW5kZXhHZW9GaWVsZE5hbWUodmFsdWUpIHsKICB2YXIgc3BsaXQgPSB2YWx1ZS5zcGxpdChHRU9fRklFTERfVkFMVUVfREVMSU1JVEVSKTsKICByZXR1cm4gewogICAgaW5kZXhQYXR0ZXJuVGl0bGU6IHNwbGl0WzBdLAogICAgZ2VvRmllbGROYW1lOiBzcGxpdFsxXQogIH07Cn0KCnZhciBHZW9tZXRyeUZpbHRlckZvcm0gPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKEdlb21ldHJ5RmlsdGVyRm9ybSwgX0NvbXBvbmVudCk7CgogIGZ1bmN0aW9uIEdlb21ldHJ5RmlsdGVyRm9ybSgpIHsKICAgIHZhciBfZ2V0UHJvdG90eXBlT2YyOwoKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2VvbWV0cnlGaWx0ZXJGb3JtKTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKEdlb21ldHJ5RmlsdGVyRm9ybSkpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInN0YXRlIiwgewogICAgICBnZW9GaWVsZFRhZzogX3RoaXMucHJvcHMuZ2VvRmllbGRzLmxlbmd0aCA/IGNyZWF0ZUluZGV4R2VvRmllbGROYW1lKF90aGlzLnByb3BzLmdlb0ZpZWxkc1swXSkgOiAnJywKICAgICAgZ2VvbWV0cnlMYWJlbDogX3RoaXMucHJvcHMuaW50aXRpYWxHZW9tZXRyeUxhYmVsLAogICAgICByZWxhdGlvbjogX2NvbnN0YW50cy5FU19TUEFUSUFMX1JFTEFUSU9OUy5JTlRFUlNFQ1RTCiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJfZ2V0U2VsZWN0ZWRHZW9GaWVsZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFfdGhpcy5zdGF0ZS5nZW9GaWVsZFRhZykgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICB2YXIgX3NwbGl0SW5kZXhHZW9GaWVsZE5hID0gc3BsaXRJbmRleEdlb0ZpZWxkTmFtZShfdGhpcy5zdGF0ZS5nZW9GaWVsZFRhZyksCiAgICAgICAgICBpbmRleFBhdHRlcm5UaXRsZSA9IF9zcGxpdEluZGV4R2VvRmllbGROYS5pbmRleFBhdHRlcm5UaXRsZSwKICAgICAgICAgIGdlb0ZpZWxkTmFtZSA9IF9zcGxpdEluZGV4R2VvRmllbGROYS5nZW9GaWVsZE5hbWU7CgogICAgICByZXR1cm4gX3RoaXMucHJvcHMuZ2VvRmllbGRzLmZpbmQoZnVuY3Rpb24gKG9wdGlvbikgewogICAgICAgIHJldHVybiBvcHRpb24uaW5kZXhQYXR0ZXJuVGl0bGUgPT09IGluZGV4UGF0dGVyblRpdGxlICYmIG9wdGlvbi5nZW9GaWVsZE5hbWUgPT09IGdlb0ZpZWxkTmFtZTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJfb25HZW9GaWVsZENoYW5nZSIsIGZ1bmN0aW9uIChzZWxlY3RlZFZhbHVlKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBnZW9GaWVsZFRhZzogc2VsZWN0ZWRWYWx1ZQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIl9vbkdlb21ldHJ5TGFiZWxDaGFuZ2UiLCBmdW5jdGlvbiAoZSkgewogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgZ2VvbWV0cnlMYWJlbDogZS50YXJnZXQudmFsdWUKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJfb25SZWxhdGlvbkNoYW5nZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICByZWxhdGlvbjogZS50YXJnZXQudmFsdWUKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJfb25TdWJtaXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBnZW9GaWVsZCA9IF90aGlzLl9nZXRTZWxlY3RlZEdlb0ZpZWxkKCk7CgogICAgICBfdGhpcy5wcm9wcy5vblN1Ym1pdCh7CiAgICAgICAgZ2VvbWV0cnlMYWJlbDogX3RoaXMuc3RhdGUuZ2VvbWV0cnlMYWJlbCwKICAgICAgICBpbmRleFBhdHRlcm5JZDogZ2VvRmllbGQuaW5kZXhQYXR0ZXJuSWQsCiAgICAgICAgZ2VvRmllbGROYW1lOiBnZW9GaWVsZC5nZW9GaWVsZE5hbWUsCiAgICAgICAgZ2VvRmllbGRUeXBlOiBnZW9GaWVsZC5nZW9GaWVsZFR5cGUsCiAgICAgICAgcmVsYXRpb246IF90aGlzLnN0YXRlLnJlbGF0aW9uCiAgICAgIH0pOwogICAgfSk7CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEdlb21ldHJ5RmlsdGVyRm9ybSwgW3sKICAgIGtleTogIl9yZW5kZXJSZWxhdGlvbklucHV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyUmVsYXRpb25JbnB1dCgpIHsKICAgICAgaWYgKCF0aGlzLnN0YXRlLmdlb0ZpZWxkVGFnKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHZhciBfdGhpcyRfZ2V0U2VsZWN0ZWRHZW8gPSB0aGlzLl9nZXRTZWxlY3RlZEdlb0ZpZWxkKCksCiAgICAgICAgICBnZW9GaWVsZFR5cGUgPSBfdGhpcyRfZ2V0U2VsZWN0ZWRHZW8uZ2VvRmllbGRUeXBlOyAvLyByZWxhdGlvbnNoaXAgb25seSB1c2VkIHdoZW4gZmlsdGVyaW5nIGdlb19zaGFwZSBmaWVsZHMKCgogICAgICBpZiAoZ2VvRmllbGRUeXBlID09PSBfY29uc3RhbnRzLkVTX0dFT19GSUVMRF9UWVBFLkdFT19QT0lOVCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICB2YXIgc3BhdGlhbFJlbGF0aW9ucyA9IHRoaXMucHJvcHMuaXNGaWx0ZXJHZW9tZXRyeUNsb3NlZCA/IE9iamVjdC52YWx1ZXMoX2NvbnN0YW50cy5FU19TUEFUSUFMX1JFTEFUSU9OUykgOiBPYmplY3QudmFsdWVzKF9jb25zdGFudHMuRVNfU1BBVElBTF9SRUxBVElPTlMpLmZpbHRlcihmdW5jdGlvbiAocmVsYXRpb24pIHsKICAgICAgICAvLyBjYW4gbm90IGZpbHRlciBieSB3aXRoaW4gcmVsYXRpb24gd2hlbiBmaWx0ZXJpbmcgZ2VvbWV0cnkgaXMgbm90IGNsb3NlZAogICAgICAgIHJldHVybiByZWxhdGlvbiAhPT0gX2NvbnN0YW50cy5FU19TUEFUSUFMX1JFTEFUSU9OUy5XSVRISU47CiAgICAgIH0pOwogICAgICB2YXIgb3B0aW9ucyA9IHNwYXRpYWxSZWxhdGlvbnMubWFwKGZ1bmN0aW9uIChyZWxhdGlvbikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2YWx1ZTogcmVsYXRpb24sCiAgICAgICAgICB0ZXh0OiAoMCwgX2kxOG5fZ2V0dGVycy5nZXRFc1NwYXRpYWxSZWxhdGlvbkxhYmVsKShyZWxhdGlvbikKICAgICAgICB9OwogICAgICB9KTsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tYXBzLmdlb21ldHJ5RmlsdGVyRm9ybS5yZWxhdGlvbkxhYmVsJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTcGF0aWFsIHJlbGF0aW9uJwogICAgICAgIH0pLAogICAgICAgIGRpc3BsYXk6ICJyb3dDb21wcmVzc2VkIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU2VsZWN0LCB7CiAgICAgICAgY29tcHJlc3NlZDogdHJ1ZSwKICAgICAgICBvcHRpb25zOiBvcHRpb25zLAogICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnJlbGF0aW9uLAogICAgICAgIG9uQ2hhbmdlOiB0aGlzLl9vblJlbGF0aW9uQ2hhbmdlCiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLnByb3BzLmdlb0ZpZWxkcy5tYXAoZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIGluZGV4UGF0dGVyblRpdGxlID0gX3JlZjIuaW5kZXhQYXR0ZXJuVGl0bGUsCiAgICAgICAgICAgIGdlb0ZpZWxkTmFtZSA9IF9yZWYyLmdlb0ZpZWxkTmFtZTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaW5wdXREaXNwbGF5OiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgewogICAgICAgICAgICBzaXplOiAicyIsCiAgICAgICAgICAgIGNvbXBvbmVudDogInNwYW4iCiAgICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dENvbG9yLCB7CiAgICAgICAgICAgIGNvbG9yOiAic3ViZHVlZCIKICAgICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNtYWxsIiwgbnVsbCwgaW5kZXhQYXR0ZXJuVGl0bGUpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiYnIiLCBudWxsKSwgZ2VvRmllbGROYW1lKSwKICAgICAgICAgIHZhbHVlOiBjcmVhdGVJbmRleEdlb0ZpZWxkTmFtZSh7CiAgICAgICAgICAgIGluZGV4UGF0dGVyblRpdGxlOiBpbmRleFBhdHRlcm5UaXRsZSwKICAgICAgICAgICAgZ2VvRmllbGROYW1lOiBnZW9GaWVsZE5hbWUKICAgICAgICAgIH0pCiAgICAgICAgfTsKICAgICAgfSk7CiAgICAgIHZhciBlcnJvcjsKCiAgICAgIGlmICh0aGlzLnByb3BzLmVycm9yTXNnKSB7CiAgICAgICAgZXJyb3IgPSBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybUVycm9yVGV4dCwgbnVsbCwgdGhpcy5wcm9wcy5lcnJvck1zZyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybSwgewogICAgICAgIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5jbGFzc05hbWUKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1hcHMuZ2VvbWV0cnlGaWx0ZXJGb3JtLmdlb21ldHJ5TGFiZWxMYWJlbCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnR2VvbWV0cnkgbGFiZWwnCiAgICAgICAgfSksCiAgICAgICAgZGlzcGxheTogInJvd0NvbXByZXNzZWQiCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGaWVsZFRleHQsIHsKICAgICAgICBjb21wcmVzc2VkOiB0cnVlLAogICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmdlb21ldHJ5TGFiZWwsCiAgICAgICAgb25DaGFuZ2U6IHRoaXMuX29uR2VvbWV0cnlMYWJlbENoYW5nZQogICAgICB9KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICAgICAgY2xhc3NOYW1lOiAibWFwR2VvbWV0cnlGaWx0ZXJfX2dlb0ZpZWxkU3VwZXJTZWxlY3RXcmFwcGVyIiwKICAgICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1hcHMuZ2VvbWV0cnlGaWx0ZXJGb3JtLmdlb0ZpZWxkTGFiZWwnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0ZpbHRlcmVkIGZpZWxkJwogICAgICAgIH0pLAogICAgICAgIGRpc3BsYXk6ICJyb3dDb21wcmVzc2VkIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3VwZXJTZWxlY3QsIHsKICAgICAgICBjbGFzc05hbWU6ICJtYXBHZW9tZXRyeUZpbHRlcl9fZ2VvRmllbGRTdXBlclNlbGVjdCIsCiAgICAgICAgb3B0aW9uczogb3B0aW9ucywKICAgICAgICB2YWx1ZU9mU2VsZWN0ZWQ6IHRoaXMuc3RhdGUuZ2VvRmllbGRUYWcsCiAgICAgICAgb25DaGFuZ2U6IHRoaXMuX29uR2VvRmllbGRDaGFuZ2UsCiAgICAgICAgaGFzRGl2aWRlcnM6IHRydWUsCiAgICAgICAgZnVsbFdpZHRoOiB0cnVlLAogICAgICAgIGNvbXByZXNzZWQ6IHRydWUsCiAgICAgICAgaXRlbUNsYXNzTmFtZTogIm1hcEdlb21ldHJ5RmlsdGVyX19nZW9GaWVsZEl0ZW0iCiAgICAgIH0pKSwgdGhpcy5fcmVuZGVyUmVsYXRpb25JbnB1dCgpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgc2l6ZTogIm0iCiAgICAgIH0pLCBlcnJvciwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRleHRBbGlnbiwgewogICAgICAgIHRleHRBbGlnbjogInJpZ2h0IgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uLCB7CiAgICAgICAgc2l6ZTogInMiLAogICAgICAgIGZpbGw6IHRydWUsCiAgICAgICAgb25DbGljazogdGhpcy5fb25TdWJtaXQsCiAgICAgICAgaXNEaXNhYmxlZDogIXRoaXMuc3RhdGUuZ2VvbWV0cnlMYWJlbCB8fCAhdGhpcy5zdGF0ZS5nZW9GaWVsZFRhZywKICAgICAgICBpc0xvYWRpbmc6IHRoaXMucHJvcHMuaXNMb2FkaW5nCiAgICAgIH0sIHRoaXMucHJvcHMuYnV0dG9uTGFiZWwpKSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gR2VvbWV0cnlGaWx0ZXJGb3JtOwp9KF9yZWFjdC5Db21wb25lbnQpOwoKZXhwb3J0cy5HZW9tZXRyeUZpbHRlckZvcm0gPSBHZW9tZXRyeUZpbHRlckZvcm07CgpfZGVmaW5lUHJvcGVydHkoR2VvbWV0cnlGaWx0ZXJGb3JtLCAicHJvcFR5cGVzIiwgewogIGJ1dHRvbkxhYmVsOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsCiAgZ2VvRmllbGRzOiBfcHJvcFR5cGVzLmRlZmF1bHQuYXJyYXkuaXNSZXF1aXJlZCwKICBpbnRpdGlhbEdlb21ldHJ5TGFiZWw6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCwKICBvblN1Ym1pdDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCwKICBpc0ZpbHRlckdlb21ldHJ5Q2xvc2VkOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCwKICBlcnJvck1zZzogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZwp9KTsKCl9kZWZpbmVQcm9wZXJ0eShHZW9tZXRyeUZpbHRlckZvcm0sICJkZWZhdWx0UHJvcHMiLCB7CiAgaXNGaWx0ZXJHZW9tZXRyeUNsb3NlZDogdHJ1ZQp9KTs="},null]}