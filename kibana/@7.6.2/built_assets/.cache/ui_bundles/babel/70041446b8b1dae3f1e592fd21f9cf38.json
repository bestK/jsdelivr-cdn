{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/cross_cluster_replication/public/app/components/follower_index_form/follower_index_form.js","dependencies":[{"path":"x-pack/legacy/plugins/cross_cluster_replication/public/app/components/follower_index_form/follower_index_form.js","mtime":1585205044101},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkZvbGxvd2VySW5kZXhGb3JtID0gZXhwb3J0cy51cGRhdGVGb3JtRXJyb3JzID0gZXhwb3J0cy51cGRhdGVGaWVsZHMgPSB2b2lkIDA7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicHJvcC10eXBlcyIpKTsKCnZhciBfbG9kYXNoID0gcmVxdWlyZSgibG9kYXNoIik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7Cgp2YXIgX2luZGljZXMgPSByZXF1aXJlKCJ1aS9pbmRpY2VzIik7Cgp2YXIgX25vdGlmeSA9IHJlcXVpcmUoInVpL25vdGlmeSIpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfaW5wdXRfdmFsaWRhdGlvbiA9IHJlcXVpcmUoIi4uLy4uL3NlcnZpY2VzL2lucHV0X3ZhbGlkYXRpb24iKTsKCnZhciBfcm91dGluZyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vLi4vc2VydmljZXMvcm91dGluZyIpKTsKCnZhciBfYXBpID0gcmVxdWlyZSgiLi4vLi4vc2VydmljZXMvYXBpIik7Cgp2YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoIi4uLy4uL2NvbnN0YW50cyIpOwoKdmFyIF9zZWN0aW9uX2Vycm9yID0gcmVxdWlyZSgiLi4vc2VjdGlvbl9lcnJvciIpOwoKdmFyIF9mb3JtX2VudHJ5X3JvdyA9IHJlcXVpcmUoIi4uL2Zvcm1fZW50cnlfcm93Iik7Cgp2YXIgX2FkdmFuY2VkX3NldHRpbmdzX2ZpZWxkcyA9IHJlcXVpcmUoIi4vYWR2YW5jZWRfc2V0dGluZ3NfZmllbGRzIik7Cgp2YXIgX3F1ZXJ5X3BhcmFtcyA9IHJlcXVpcmUoIi4uLy4uL3NlcnZpY2VzL3F1ZXJ5X3BhcmFtcyIpOwoKdmFyIF9nZXRfcmVtb3RlX2NsdXN0ZXJfbmFtZSA9IHJlcXVpcmUoIi4uLy4uL3NlcnZpY2VzL2dldF9yZW1vdGVfY2x1c3Rlcl9uYW1lIik7Cgp2YXIgX3JlbW90ZV9jbHVzdGVyc19mb3JtX2ZpZWxkID0gcmVxdWlyZSgiLi4vcmVtb3RlX2NsdXN0ZXJzX2Zvcm1fZmllbGQiKTsKCnZhciBfZm9sbG93ZXJfaW5kZXhfcmVxdWVzdF9mbHlvdXQgPSByZXF1aXJlKCIuL2ZvbGxvd2VyX2luZGV4X3JlcXVlc3RfZmx5b3V0Iik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9Cgp2YXIgaW5kZXhOYW1lSWxsZWdhbENoYXJhY3RlcnMgPSBfaW5kaWNlcy5JTkRFWF9JTExFR0FMX0NIQVJBQ1RFUlNfVklTSUJMRS5qb2luKCcgJyk7Cgp2YXIgZmllbGRUb1ZhbGlkYXRvck1hcCA9IF9hZHZhbmNlZF9zZXR0aW5nc19maWVsZHMuYWR2YW5jZWRTZXR0aW5nc0ZpZWxkcy5yZWR1Y2UoZnVuY3Rpb24gKG1hcCwgYWR2YW5jZWRTZXR0aW5nKSB7CiAgdmFyIGZpZWxkID0gYWR2YW5jZWRTZXR0aW5nLmZpZWxkLAogICAgICB2YWxpZGF0b3IgPSBhZHZhbmNlZFNldHRpbmcudmFsaWRhdG9yOwogIG1hcFtmaWVsZF0gPSB2YWxpZGF0b3I7CiAgcmV0dXJuIG1hcDsKfSwgewogIG5hbWU6IF9pbnB1dF92YWxpZGF0aW9uLmluZGV4TmFtZVZhbGlkYXRvciwKICBsZWFkZXJJbmRleDogX2lucHV0X3ZhbGlkYXRpb24ubGVhZGVySW5kZXhWYWxpZGF0b3IKfSk7Cgp2YXIgZ2V0RW1wdHlGb2xsb3dlckluZGV4ID0gZnVuY3Rpb24gZ2V0RW1wdHlGb2xsb3dlckluZGV4KCkgewogIHZhciByZW1vdGVDbHVzdGVyTmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7CiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoewogICAgbmFtZTogJycsCiAgICByZW1vdGVDbHVzdGVyOiByZW1vdGVDbHVzdGVyTmFtZSwKICAgIGxlYWRlckluZGV4OiAnJwogIH0sIF9hZHZhbmNlZF9zZXR0aW5nc19maWVsZHMuZW1wdHlBZHZhbmNlZFNldHRpbmdzKTsKfTsKLyoqCiAqIFN0YXRlIHRyYW5zaXRpb25zOiBmaWVsZHMgdXBkYXRlCiAqLwoKCnZhciB1cGRhdGVGaWVsZHMgPSBmdW5jdGlvbiB1cGRhdGVGaWVsZHMoZmllbGRzKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIChfcmVmKSB7CiAgICB2YXIgZm9sbG93ZXJJbmRleCA9IF9yZWYuZm9sbG93ZXJJbmRleDsKICAgIHJldHVybiB7CiAgICAgIGZvbGxvd2VySW5kZXg6IF9vYmplY3RTcHJlYWQoe30sIGZvbGxvd2VySW5kZXgsIHt9LCBmaWVsZHMpCiAgICB9OwogIH07Cn07Ci8qKgogKiBTdGF0ZSB0cmFuc2l0aW9uczogZXJyb3JzIHVwZGF0ZQogKi8KCgpleHBvcnRzLnVwZGF0ZUZpZWxkcyA9IHVwZGF0ZUZpZWxkczsKCnZhciB1cGRhdGVGb3JtRXJyb3JzID0gZnVuY3Rpb24gdXBkYXRlRm9ybUVycm9ycyhlcnJvcnMpIHsKICByZXR1cm4gZnVuY3Rpb24gKF9yZWYyKSB7CiAgICB2YXIgZmllbGRzRXJyb3JzID0gX3JlZjIuZmllbGRzRXJyb3JzOwogICAgcmV0dXJuIHsKICAgICAgZmllbGRzRXJyb3JzOiBfb2JqZWN0U3ByZWFkKHt9LCBmaWVsZHNFcnJvcnMsIHt9LCBlcnJvcnMpCiAgICB9OwogIH07Cn07CgpleHBvcnRzLnVwZGF0ZUZvcm1FcnJvcnMgPSB1cGRhdGVGb3JtRXJyb3JzOwoKdmFyIEZvbGxvd2VySW5kZXhGb3JtID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1B1cmVDb21wb25lbnQpIHsKICBfaW5oZXJpdHMoRm9sbG93ZXJJbmRleEZvcm0sIF9QdXJlQ29tcG9uZW50KTsKCiAgZnVuY3Rpb24gRm9sbG93ZXJJbmRleEZvcm0ocHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9sbG93ZXJJbmRleEZvcm0pOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEZvbGxvd2VySW5kZXhGb3JtKS5jYWxsKHRoaXMsIHByb3BzKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAidG9nZ2xlUmVxdWVzdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgdmFyIGlzUmVxdWVzdFZpc2libGUgPSBfcmVmMy5pc1JlcXVlc3RWaXNpYmxlOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpc1JlcXVlc3RWaXNpYmxlOiAhaXNSZXF1ZXN0VmlzaWJsZQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25GaWVsZHNDaGFuZ2UiLCBmdW5jdGlvbiAoZmllbGRzKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHVwZGF0ZUZpZWxkcyhmaWVsZHMpKTsKCiAgICAgIHZhciBuZXdGaWVsZHMgPSBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5zdGF0ZS5maWVsZHMsIHt9LCBmaWVsZHMpOwoKICAgICAgX3RoaXMuc2V0U3RhdGUodXBkYXRlRm9ybUVycm9ycyhfdGhpcy5nZXRGaWVsZHNFcnJvcnMobmV3RmllbGRzKSkpOwoKICAgICAgaWYgKF90aGlzLnByb3BzLmFwaUVycm9yKSB7CiAgICAgICAgX3RoaXMucHJvcHMuY2xlYXJBcGlFcnJvcigpOwogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJnZXRGaWVsZHNFcnJvcnMiLCBmdW5jdGlvbiAobmV3RmllbGRzKSB7CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhuZXdGaWVsZHMpLnJlZHVjZShmdW5jdGlvbiAoZXJyb3JzLCBmaWVsZCkgewogICAgICAgIHZhciB2YWxpZGF0b3IgPSBmaWVsZFRvVmFsaWRhdG9yTWFwW2ZpZWxkXTsKICAgICAgICB2YXIgdmFsdWUgPSBuZXdGaWVsZHNbZmllbGRdOwoKICAgICAgICBpZiAodmFsaWRhdG9yKSB7CiAgICAgICAgICB2YXIgZXJyb3IgPSB2YWxpZGF0b3IodmFsdWUpOwogICAgICAgICAgZXJyb3JzW2ZpZWxkXSA9IGVycm9yOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGVycm9yczsKICAgICAgfSwge30pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25JbmRleE5hbWVDaGFuZ2UiLCBmdW5jdGlvbiAoX3JlZjQpIHsKICAgICAgdmFyIG5hbWUgPSBfcmVmNC5uYW1lOwoKICAgICAgX3RoaXMub25GaWVsZHNDaGFuZ2UoewogICAgICAgIG5hbWU6IG5hbWUKICAgICAgfSk7CgogICAgICB2YXIgZXJyb3IgPSAoMCwgX2lucHV0X3ZhbGlkYXRpb24uaW5kZXhOYW1lVmFsaWRhdG9yKShuYW1lKTsKCiAgICAgIGlmIChlcnJvcikgewogICAgICAgIC8vIElmIHRoZXJlIGlzIGEgY2xpZW50IHNpZGUgZXJyb3IKICAgICAgICAvLyB0aGVyZSBpcyBubyBuZWVkIHRvIHZhbGlkYXRlIHRoZSBuYW1lCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIW5hbWUgfHwgIW5hbWUudHJpbSgpKSB7CiAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgaXNWYWxpZGF0aW5nSW5kZXhOYW1lOiBmYWxzZQogICAgICAgIH0pOwoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBpc1ZhbGlkYXRpbmdJbmRleE5hbWU6IHRydWUKICAgICAgfSk7CgogICAgICBfdGhpcy52YWxpZGF0ZUluZGV4TmFtZShuYW1lKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInZhbGlkYXRlSW5kZXhOYW1lIiwgZnVuY3Rpb24gX2NhbGxlZShuYW1lKSB7CiAgICAgIHZhciBpbmRpY2VzLCBkb2VzRXhpc3QsIGVycm9yOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoKDAsIF9hcGkubG9hZEluZGljZXMpKCkpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGluZGljZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGRvZXNFeGlzdCA9IGluZGljZXMuc29tZShmdW5jdGlvbiAoaW5kZXgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpbmRleC5uYW1lID09PSBuYW1lOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBpZiAoZG9lc0V4aXN0KSB7CiAgICAgICAgICAgICAgICBlcnJvciA9IHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgICAgICAgICAgICBpZDogInhwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXhGb3JtLmluZGV4QWxyZWFkeUV4aXN0RXJyb3IiLAogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQW4gaW5kZXggd2l0aCB0aGUgc2FtZSBuYW1lIGFscmVhZHkgZXhpc3RzLiIKICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgIGFsd2F5c1Zpc2libGU6IHRydWUKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUodXBkYXRlRm9ybUVycm9ycyh7CiAgICAgICAgICAgICAgICAgIG5hbWU6IGVycm9yCiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBpc1ZhbGlkYXRpbmdJbmRleE5hbWU6IGZhbHNlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICBpZiAoIShfY29udGV4dC50MCAmJiBfY29udGV4dC50MC5kYXRhKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBpc1ZhbGlkYXRpbmdJbmRleE5hbWU6IGZhbHNlCiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAvLyBUaGlzIGVycm9yIGlzbid0IGFuIEhUVFAgZXJyb3IsIHNvIGxldCB0aGUgZmF0YWwgZXJyb3Igc2NyZWVuIHRlbGwgdGhlIHVzZXIgc29tZXRoaW5nCiAgICAgICAgICAgICAgLy8gdW5leHBlY3RlZCBoYXBwZW5lZC4KICAgICAgICAgICAgICAoMCwgX25vdGlmeS5mYXRhbEVycm9yKShfY29udGV4dC50MCwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXhGb3JtLmluZGV4TmFtZVZhbGlkYXRpb25GYXRhbEVycm9yVGl0bGUnLCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0ZvbGxvd2VyIEluZGV4IEZvcm0gaW5kZXggbmFtZSB2YWxpZGF0aW9uJwogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIG51bGwsIFtbMCwgOV1dKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9uQ2x1c3RlckNoYW5nZSIsIGZ1bmN0aW9uIChyZW1vdGVDbHVzdGVyKSB7CiAgICAgIF90aGlzLm9uRmllbGRzQ2hhbmdlKHsKICAgICAgICByZW1vdGVDbHVzdGVyOiByZW1vdGVDbHVzdGVyCiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZ2V0RmllbGRzIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX3RoaXMuc3RhdGUuZm9sbG93ZXJJbmRleDsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInRvZ2dsZUFkdmFuY2VkU2V0dGluZ3MiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgLy8gSWYgdGhlIHVzZXIgZWRpdHMgdGhlIGFkdmFuY2VkIHNldHRpbmdzIGJ1dCB0aGVuIGhpZGVzIHRoZW0sIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoZQogICAgICAvLyBlZGl0ZWQgdmFsdWVzIGRvbid0IGdldCBzZW50IHRvIHRoZSBBUEkgd2hlbiB0aGUgdXNlciBzYXZlcywgYnV0IHdlICpkbyogd2FudCB0byByZXN0b3JlCiAgICAgIC8vIHRoZXNlIHZhbHVlcyB0byB0aGUgZm9ybSB3aGVuIHRoZSB1c2VyIHJlLW9wZW5zIHRoZSBhZHZhbmNlZCBzZXR0aW5ncy4KICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkKSB7CiAgICAgICAgLy8gQXBwbHkgdGhlIGNhY2hlZCBhZHZhbmNlZCBzZXR0aW5ncyB0byB0aGUgYWR2YW5jZWQgc2V0dGluZ3MgZm9ybS4KICAgICAgICBfdGhpcy5vbkZpZWxkc0NoYW5nZShfdGhpcy5jYWNoZWRBZHZhbmNlZFNldHRpbmdzKTsgLy8gUmVzZXQgdGhlIGNhY2hlIG9mIHRoZSBhZHZhbmNlZCBzZXR0aW5ncy4KCgogICAgICAgIF90aGlzLmNhY2hlZEFkdmFuY2VkU2V0dGluZ3MgPSB7fTsgLy8gU2hvdyB0aGUgYWR2YW5jZWQgc2V0dGluZ3MuCgogICAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBhcmVBZHZhbmNlZFNldHRpbmdzVmlzaWJsZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IC8vIENsZWFyIHRoZSBhZHZhbmNlZCBzZXR0aW5ncyBmb3JtLgoKCiAgICAgIF90aGlzLm9uRmllbGRzQ2hhbmdlKF9hZHZhbmNlZF9zZXR0aW5nc19maWVsZHMuZW1wdHlBZHZhbmNlZFNldHRpbmdzKTsgLy8gU2F2ZSBhIGNhY2hlIG9mIHRoZSBhZHZhbmNlZCBzZXR0aW5ncy4KCgogICAgICB2YXIgZmllbGRzID0gX3RoaXMuZ2V0RmllbGRzKCk7CgogICAgICBfdGhpcy5jYWNoZWRBZHZhbmNlZFNldHRpbmdzID0gX2FkdmFuY2VkX3NldHRpbmdzX2ZpZWxkcy5hZHZhbmNlZFNldHRpbmdzRmllbGRzLnJlZHVjZShmdW5jdGlvbiAoY2FjaGUsIF9yZWY1KSB7CiAgICAgICAgdmFyIGZpZWxkID0gX3JlZjUuZmllbGQ7CiAgICAgICAgdmFyIHZhbHVlID0gZmllbGRzW2ZpZWxkXTsKCiAgICAgICAgaWYgKHZhbHVlICE9PSAnJykgewogICAgICAgICAgY2FjaGVbZmllbGRdID0gdmFsdWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gY2FjaGU7CiAgICAgIH0sIHt9KTsgLy8gSGlkZSB0aGUgYWR2YW5jZWQgc2V0dGluZ3MuCgogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgYXJlQWR2YW5jZWRTZXR0aW5nc1Zpc2libGU6IGZhbHNlCiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic2VuZEZvcm0iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBpc0Zvcm1WYWxpZCA9IF90aGlzLmlzRm9ybVZhbGlkKCk7CgogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgYXJlRXJyb3JzVmlzaWJsZTogIWlzRm9ybVZhbGlkCiAgICAgIH0pOwoKICAgICAgaWYgKCFpc0Zvcm1WYWxpZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIF90aGlzJGdldEZpZWxkcyA9IF90aGlzLmdldEZpZWxkcygpLAogICAgICAgICAgbmFtZSA9IF90aGlzJGdldEZpZWxkcy5uYW1lLAogICAgICAgICAgZm9sbG93ZXJJbmRleCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfdGhpcyRnZXRGaWVsZHMsIFsibmFtZSJdKTsKCiAgICAgIF90aGlzLnByb3BzLnNhdmVGb2xsb3dlckluZGV4KG5hbWUsIGZvbGxvd2VySW5kZXgpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY2FuY2VsRm9ybSIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3JvdXRpbmcuZGVmYXVsdC5uYXZpZ2F0ZSgnL2ZvbGxvd2VyX2luZGljZXMnKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInJlbmRlckZvcm0iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLAogICAgICAgICAgZm9sbG93ZXJJbmRleCA9IF90aGlzJHN0YXRlLmZvbGxvd2VySW5kZXgsCiAgICAgICAgICBpc05ldyA9IF90aGlzJHN0YXRlLmlzTmV3LAogICAgICAgICAgYXJlRXJyb3JzVmlzaWJsZSA9IF90aGlzJHN0YXRlLmFyZUVycm9yc1Zpc2libGUsCiAgICAgICAgICBhcmVBZHZhbmNlZFNldHRpbmdzVmlzaWJsZSA9IF90aGlzJHN0YXRlLmFyZUFkdmFuY2VkU2V0dGluZ3NWaXNpYmxlLAogICAgICAgICAgZmllbGRzRXJyb3JzID0gX3RoaXMkc3RhdGUuZmllbGRzRXJyb3JzLAogICAgICAgICAgaXNWYWxpZGF0aW5nSW5kZXhOYW1lID0gX3RoaXMkc3RhdGUuaXNWYWxpZGF0aW5nSW5kZXhOYW1lOwogICAgICAvKioKICAgICAgICogRm9sbG93ZXIgaW5kZXggbmFtZQogICAgICAgKi8KCiAgICAgIHZhciBpbmRleE5hbWVIZWxwVGV4dCA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBpc1ZhbGlkYXRpbmdJbmRleE5hbWUgJiYgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5mb2xsb3dlckluZGV4Rm9ybS5pbmRleE5hbWVWYWxpZGF0aW5nTGFiZWwiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ2hlY2tpbmcgYXZhaWxhYmlsaXR5XHUyMDI2IgogICAgICB9KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInAiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAieHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uZm9sbG93ZXJJbmRleEZvcm0uaW5kZXhOYW1lSGVscExhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlNwYWNlcyBhbmQgdGhlIGNoYXJhY3RlcnMge2NoYXJhY3Rlckxpc3R9IGFyZSBub3QgYWxsb3dlZC4iLAogICAgICAgIHZhbHVlczogewogICAgICAgICAgY2hhcmFjdGVyTGlzdDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgaW5kZXhOYW1lSWxsZWdhbENoYXJhY3RlcnMpCiAgICAgICAgfQogICAgICB9KSkpOwoKICAgICAgdmFyIGluZGV4TmFtZUxhYmVsID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXhGb3JtLnNlY3Rpb25Gb2xsb3dlckluZGV4TmFtZVRpdGxlJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRm9sbG93ZXIgaW5kZXgnCiAgICAgIH0pOwoKICAgICAgdmFyIHJlbmRlckZvbGxvd2VySW5kZXhOYW1lID0gZnVuY3Rpb24gcmVuZGVyRm9sbG93ZXJJbmRleE5hbWUoKSB7CiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2Zvcm1fZW50cnlfcm93LkZvcm1FbnRyeVJvdywgewogICAgICAgICAgZmllbGQ6ICJuYW1lIiwKICAgICAgICAgIHZhbHVlOiBmb2xsb3dlckluZGV4Lm5hbWUsCiAgICAgICAgICBlcnJvcjogZmllbGRzRXJyb3JzLm5hbWUsCiAgICAgICAgICB0aXRsZTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRpdGxlLCB7CiAgICAgICAgICAgIHNpemU6ICJzIgogICAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiaDIiLCBudWxsLCBpbmRleE5hbWVMYWJlbCkpLAogICAgICAgICAgbGFiZWw6IGluZGV4TmFtZUxhYmVsLAogICAgICAgICAgZGVzY3JpcHRpb246IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5mb2xsb3dlckluZGV4Rm9ybS5zZWN0aW9uRm9sbG93ZXJJbmRleE5hbWVEZXNjcmlwdGlvbicsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdBIHVuaXF1ZSBuYW1lIGZvciB5b3VyIGluZGV4LicKICAgICAgICAgIH0pLAogICAgICAgICAgaGVscFRleHQ6IGluZGV4TmFtZUhlbHBUZXh0LAogICAgICAgICAgaXNMb2FkaW5nOiBpc1ZhbGlkYXRpbmdJbmRleE5hbWUsCiAgICAgICAgICBkaXNhYmxlZDogIWlzTmV3LAogICAgICAgICAgYXJlRXJyb3JzVmlzaWJsZTogYXJlRXJyb3JzVmlzaWJsZSwKICAgICAgICAgIG9uVmFsdWVVcGRhdGU6IF90aGlzLm9uSW5kZXhOYW1lQ2hhbmdlLAogICAgICAgICAgdGVzdFN1Ymo6ICJmb2xsb3dlckluZGV4SW5wdXQiCiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIC8qKgogICAgICAgKiBSZW1vdGUgQ2x1c3RlcgogICAgICAgKi8KCgogICAgICB2YXIgcmVuZGVyUmVtb3RlQ2x1c3RlckZpZWxkID0gZnVuY3Rpb24gcmVuZGVyUmVtb3RlQ2x1c3RlckZpZWxkKCkgewogICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLAogICAgICAgICAgICByZW1vdGVDbHVzdGVycyA9IF90aGlzJHByb3BzLnJlbW90ZUNsdXN0ZXJzLAogICAgICAgICAgICBjdXJyZW50VXJsID0gX3RoaXMkcHJvcHMuY3VycmVudFVybDsKICAgICAgICB2YXIgZXJyb3JNZXNzYWdlcyA9IHsKICAgICAgICAgIG5vQ2x1c3RlckZvdW5kOiBmdW5jdGlvbiBub0NsdXN0ZXJGb3VuZCgpIHsKICAgICAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICAgICAgaWQ6ICJ4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5mb2xsb3dlckluZGV4Rm9ybS5lbXB0eVJlbW90ZUNsdXN0ZXJzQ2FsbE91dERlc2NyaXB0aW9uIiwKICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlJlcGxpY2F0aW9uIHJlcXVpcmVzIGEgbGVhZGVyIGluZGV4IG9uIGEgcmVtb3RlIGNsdXN0ZXIuIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICByZW1vdGVDbHVzdGVyTm90Q29ubmVjdGVkTm90RWRpdGFibGU6IGZ1bmN0aW9uIHJlbW90ZUNsdXN0ZXJOb3RDb25uZWN0ZWROb3RFZGl0YWJsZShuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgdGl0bGU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICAgICAgICBpZDogInhwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXhGb3JtLmN1cnJlbnRSZW1vdGVDbHVzdGVyTm90Q29ubmVjdGVkQ2FsbE91dFRpdGxlIiwKICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ2FuJ3QgZWRpdCBmb2xsb3dlciBpbmRleCBiZWNhdXNlIHJlbW90ZSBjbHVzdGVyICd7bmFtZX0nIGlzIG5vdCBjb25uZWN0ZWQiLAogICAgICAgICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgICAgICAgIGlkOiAieHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uZm9sbG93ZXJJbmRleEZvcm0uY3VycmVudFJlbW90ZUNsdXN0ZXJOb3RDb25uZWN0ZWRDYWxsT3V0RGVzY3JpcHRpb24iLAogICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJZb3UgY2FuIGFkZHJlc3MgdGhpcyBieSBlZGl0aW5nIHRoZSByZW1vdGUgY2x1c3Rlci4iCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfTsKICAgICAgICAgIH0sCiAgICAgICAgICByZW1vdGVDbHVzdGVyRG9lc05vdEV4aXN0OiBmdW5jdGlvbiByZW1vdGVDbHVzdGVyRG9lc05vdEV4aXN0KG5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICAgICAgaWQ6ICJ4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5mb2xsb3dlckluZGV4Rm9ybS5jdXJyZW50UmVtb3RlQ2x1c3Rlck5vdEZvdW5kQ2FsbE91dERlc2NyaXB0aW9uIiwKICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlRvIGVkaXQgdGhpcyBmb2xsb3dlciBpbmRleCwgeW91IG11c3QgYWRkIGEgcmVtb3RlIGNsdXN0ZXIgbmFtZWQgJ3tuYW1lfScuIiwKICAgICAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlEZXNjcmliZWRGb3JtR3JvdXAsIHsKICAgICAgICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIHsKICAgICAgICAgICAgc2l6ZTogInMiCiAgICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMiIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICAgIGlkOiAieHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uZm9sbG93ZXJJbmRleEZvcm0uc2VjdGlvblJlbW90ZUNsdXN0ZXJUaXRsZSIsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUmVtb3RlIGNsdXN0ZXIiCiAgICAgICAgICB9KSkpLAogICAgICAgICAgZGVzY3JpcHRpb246IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICAgIGlkOiAieHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uZm9sbG93ZXJJbmRleEZvcm0uc2VjdGlvblJlbW90ZUNsdXN0ZXJEZXNjcmlwdGlvbiIsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiVGhlIGNsdXN0ZXIgdGhhdCBjb250YWlucyB0aGUgaW5kZXggdG8gcmVwbGljYXRlLiIKICAgICAgICAgIH0pLAogICAgICAgICAgZnVsbFdpZHRoOiB0cnVlCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVtb3RlX2NsdXN0ZXJzX2Zvcm1fZmllbGQuUmVtb3RlQ2x1c3RlcnNGb3JtRmllbGQsIHsKICAgICAgICAgIHNlbGVjdGVkOiBmb2xsb3dlckluZGV4LnJlbW90ZUNsdXN0ZXIgPyBmb2xsb3dlckluZGV4LnJlbW90ZUNsdXN0ZXIgOiBudWxsLAogICAgICAgICAgcmVtb3RlQ2x1c3RlcnM6IHJlbW90ZUNsdXN0ZXJzIHx8IFtdLAogICAgICAgICAgY3VycmVudFVybDogY3VycmVudFVybCwKICAgICAgICAgIGlzRWRpdGFibGU6IGlzTmV3LAogICAgICAgICAgYXJlRXJyb3JzVmlzaWJsZTogYXJlRXJyb3JzVmlzaWJsZSwKICAgICAgICAgIG9uQ2hhbmdlOiBfdGhpcy5vbkNsdXN0ZXJDaGFuZ2UsCiAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKGVycm9yKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHVwZGF0ZUZvcm1FcnJvcnMoewogICAgICAgICAgICAgIHJlbW90ZUNsdXN0ZXI6IGVycm9yCiAgICAgICAgICAgIH0pKTsKICAgICAgICAgIH0sCiAgICAgICAgICBlcnJvck1lc3NhZ2VzOiBlcnJvck1lc3NhZ2VzCiAgICAgICAgfSkpOwogICAgICB9OwogICAgICAvKioKICAgICAgICogTGVhZGVyIGluZGV4CiAgICAgICAqLwoKCiAgICAgIHZhciBsZWFkZXJJbmRleExhYmVsID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXhGb3JtLnNlY3Rpb25MZWFkZXJJbmRleFRpdGxlJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTGVhZGVyIGluZGV4JwogICAgICB9KTsKCiAgICAgIHZhciByZW5kZXJMZWFkZXJJbmRleCA9IGZ1bmN0aW9uIHJlbmRlckxlYWRlckluZGV4KCkgewogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9mb3JtX2VudHJ5X3Jvdy5Gb3JtRW50cnlSb3csIHsKICAgICAgICAgIGZpZWxkOiAibGVhZGVySW5kZXgiLAogICAgICAgICAgdmFsdWU6IGZvbGxvd2VySW5kZXgubGVhZGVySW5kZXgsCiAgICAgICAgICBlcnJvcjogZmllbGRzRXJyb3JzLmxlYWRlckluZGV4LAogICAgICAgICAgdGl0bGU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUaXRsZSwgewogICAgICAgICAgICBzaXplOiAicyIKICAgICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImgyIiwgbnVsbCwgbGVhZGVySW5kZXhMYWJlbCkpLAogICAgICAgICAgbGFiZWw6IGxlYWRlckluZGV4TGFiZWwsCiAgICAgICAgICBkZXNjcmlwdGlvbjogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInAiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgICBpZDogInhwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXhGb3JtLnNlY3Rpb25MZWFkZXJJbmRleERlc2NyaXB0aW9uIiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUaGUgaW5kZXggb24gdGhlIHJlbW90ZSBjbHVzdGVyIHRvIHJlcGxpY2F0ZSB0byB0aGUgZm9sbG93ZXIgaW5kZXguIgogICAgICAgICAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgICAgaWQ6ICJ4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5mb2xsb3dlckluZGV4Rm9ybS5zZWN0aW9uTGVhZGVySW5kZXhEZXNjcmlwdGlvbjIiLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIntub3RlfSBUaGUgbGVhZGVyIGluZGV4IG11c3QgYWxyZWFkeSBleGlzdC4iLAogICAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgICBub3RlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgICAgICAgaWQ6ICJ4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5mb2xsb3dlckluZGV4Rm9ybS5zZWN0aW9uTGVhZGVySW5kZXhEZXNjcmlwdGlvbjIubm90ZUxhYmVsIiwKICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiTm90ZToiCiAgICAgICAgICAgICAgfSkpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pKSksCiAgICAgICAgICBoZWxwVGV4dDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgICAgaWQ6ICJ4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5mb2xsb3dlckluZGV4Rm9ybS5pbmRleE5hbWVIZWxwTGFiZWwiLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlNwYWNlcyBhbmQgdGhlIGNoYXJhY3RlcnMge2NoYXJhY3Rlckxpc3R9IGFyZSBub3QgYWxsb3dlZC4iLAogICAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgICBjaGFyYWN0ZXJMaXN0OiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCBpbmRleE5hbWVJbGxlZ2FsQ2hhcmFjdGVycykKICAgICAgICAgICAgfQogICAgICAgICAgfSksCiAgICAgICAgICBkaXNhYmxlZDogIWlzTmV3LAogICAgICAgICAgYXJlRXJyb3JzVmlzaWJsZTogYXJlRXJyb3JzVmlzaWJsZSwKICAgICAgICAgIG9uVmFsdWVVcGRhdGU6IF90aGlzLm9uRmllbGRzQ2hhbmdlLAogICAgICAgICAgdGVzdFN1Ymo6ICJsZWFkZXJJbmRleElucHV0IgogICAgICAgIH0pOwogICAgICB9OwogICAgICAvKioKICAgICAgICogQWR2YW5jZWQgc2V0dGluZ3MKICAgICAgICovCgoKICAgICAgdmFyIHJlbmRlckFkdmFuY2VkU2V0dGluZ3MgPSBmdW5jdGlvbiByZW5kZXJBZHZhbmNlZFNldHRpbmdzKCkgewogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUhvcml6b250YWxSdWxlLCBudWxsKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aURlc2NyaWJlZEZvcm1Hcm91cCwgewogICAgICAgICAgdGl0bGU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUaXRsZSwgewogICAgICAgICAgICBzaXplOiAicyIKICAgICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImgyIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgICAgaWQ6ICJ4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5mb2xsb3dlckluZGV4Rm9ybS5hZHZhbmNlZFNldHRpbmdzVGl0bGUiLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkFkdmFuY2VkIHNldHRpbmdzIChvcHRpb25hbCkiCiAgICAgICAgICB9KSkpLAogICAgICAgICAgZGVzY3JpcHRpb246IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgICAgaWQ6ICJ4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5mb2xsb3dlckluZGV4Rm9ybS5hZHZhbmNlZFNldHRpbmdzRGVzY3JpcHRpb24iLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkFkdmFuY2VkIHNldHRpbmdzIGNvbnRyb2wgdGhlIHJhdGUgb2YgcmVwbGljYXRpb24uIFlvdSBjYW4gY3VzdG9taXplIHRoZXNlIHNldHRpbmdzIG9yIHVzZSB0aGUgZGVmYXVsdCB2YWx1ZXMuIgogICAgICAgICAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3dpdGNoLCB7CiAgICAgICAgICAgIGxhYmVsOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgICAgIGlkOiAieHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uZm9sbG93ZXJJbmRleC5hZHZhbmNlZFNldHRpbmdzRm9ybS5zaG93U3dpdGNoTGFiZWwiLAogICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ3VzdG9taXplIGFkdmFuY2VkIHNldHRpbmdzIgogICAgICAgICAgICB9KSwKICAgICAgICAgICAgY2hlY2tlZDogYXJlQWR2YW5jZWRTZXR0aW5nc1Zpc2libGUsCiAgICAgICAgICAgIG9uQ2hhbmdlOiBfdGhpcy50b2dnbGVBZHZhbmNlZFNldHRpbmdzLAogICAgICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiYWR2YW5jZWRTZXR0aW5nc1RvZ2dsZSIKICAgICAgICAgIH0pKSwKICAgICAgICAgIGZ1bGxXaWR0aDogdHJ1ZQogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsKSwgIiAiKSwgYXJlQWR2YW5jZWRTZXR0aW5nc1Zpc2libGUgJiYgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgICAgICAgIHNpemU6ICJzIgogICAgICAgIH0pLCBfYWR2YW5jZWRfc2V0dGluZ3NfZmllbGRzLmFkdmFuY2VkU2V0dGluZ3NGaWVsZHMubWFwKGZ1bmN0aW9uIChhZHZhbmNlZFNldHRpbmcpIHsKICAgICAgICAgIHZhciBmaWVsZCA9IGFkdmFuY2VkU2V0dGluZy5maWVsZCwKICAgICAgICAgICAgICB0ZXN0U3ViamVjdCA9IGFkdmFuY2VkU2V0dGluZy50ZXN0U3ViamVjdCwKICAgICAgICAgICAgICB0aXRsZSA9IGFkdmFuY2VkU2V0dGluZy50aXRsZSwKICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA9IGFkdmFuY2VkU2V0dGluZy5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICBsYWJlbCA9IGFkdmFuY2VkU2V0dGluZy5sYWJlbCwKICAgICAgICAgICAgICBoZWxwVGV4dCA9IGFkdmFuY2VkU2V0dGluZy5oZWxwVGV4dCwKICAgICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBhZHZhbmNlZFNldHRpbmcuZGVmYXVsdFZhbHVlLAogICAgICAgICAgICAgIHR5cGUgPSBhZHZhbmNlZFNldHRpbmcudHlwZTsKICAgICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9mb3JtX2VudHJ5X3Jvdy5Gb3JtRW50cnlSb3csIHsKICAgICAgICAgICAga2V5OiBmaWVsZCwKICAgICAgICAgICAgZmllbGQ6IGZpZWxkLAogICAgICAgICAgICB2YWx1ZTogZm9sbG93ZXJJbmRleFtmaWVsZF0sCiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlLAogICAgICAgICAgICBlcnJvcjogZmllbGRzRXJyb3JzW2ZpZWxkXSwKICAgICAgICAgICAgdGl0bGU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUaXRsZSwgewogICAgICAgICAgICAgIHNpemU6ICJ4cyIKICAgICAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiaDMiLCBudWxsLCB0aXRsZSkpLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sCiAgICAgICAgICAgIGxhYmVsOiBsYWJlbCwKICAgICAgICAgICAgaGVscFRleHQ6IGhlbHBUZXh0LAogICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICBhcmVFcnJvcnNWaXNpYmxlOiBhcmVFcnJvcnNWaXNpYmxlLAogICAgICAgICAgICBvblZhbHVlVXBkYXRlOiBfdGhpcy5vbkZpZWxkc0NoYW5nZSwKICAgICAgICAgICAgdGVzdFN1Ymo6IHRlc3RTdWJqZWN0CiAgICAgICAgICB9KTsKICAgICAgICB9KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlIb3Jpem9udGFsUnVsZSwgbnVsbCkpOwogICAgICB9OwogICAgICAvKioKICAgICAgICogRm9ybSBFcnJvciB3YXJuaW5nIG1lc3NhZ2UKICAgICAgICovCgoKICAgICAgdmFyIHJlbmRlckZvcm1FcnJvcldhcm5pbmcgPSBmdW5jdGlvbiByZW5kZXJGb3JtRXJyb3JXYXJuaW5nKCkgewogICAgICAgIHZhciBhcmVFcnJvcnNWaXNpYmxlID0gX3RoaXMuc3RhdGUuYXJlRXJyb3JzVmlzaWJsZTsKCiAgICAgICAgdmFyIGlzRm9ybVZhbGlkID0gX3RoaXMuaXNGb3JtVmFsaWQoKTsKCiAgICAgICAgaWYgKCFhcmVFcnJvcnNWaXNpYmxlIHx8IGlzRm9ybVZhbGlkKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNhbGxPdXQsIHsKICAgICAgICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgICBpZDogInhwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXhGb3JtLnZhbGlkYXRpb25FcnJvclRpdGxlIiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJGaXggZXJyb3JzIGJlZm9yZSBjb250aW51aW5nLiIKICAgICAgICAgIH0pLAogICAgICAgICAgY29sb3I6ICJkYW5nZXIiLAogICAgICAgICAgaWNvblR5cGU6ICJjcm9zcyIsCiAgICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZm9ybUVycm9yIgogICAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgICBzaXplOiAibCIKICAgICAgICB9KSk7CiAgICAgIH07CiAgICAgIC8qKgogICAgICAgKiBGb3JtIEFjdGlvbnMKICAgICAgICovCgoKICAgICAgdmFyIHJlbmRlckFjdGlvbnMgPSBmdW5jdGlvbiByZW5kZXJBY3Rpb25zKCkgewogICAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcywKICAgICAgICAgICAgYXBpU3RhdHVzID0gX3RoaXMkcHJvcHMyLmFwaVN0YXR1cywKICAgICAgICAgICAgc2F2ZUJ1dHRvbkxhYmVsID0gX3RoaXMkcHJvcHMyLnNhdmVCdXR0b25MYWJlbDsKICAgICAgICB2YXIgX3RoaXMkc3RhdGUyID0gX3RoaXMuc3RhdGUsCiAgICAgICAgICAgIGFyZUVycm9yc1Zpc2libGUgPSBfdGhpcyRzdGF0ZTIuYXJlRXJyb3JzVmlzaWJsZSwKICAgICAgICAgICAgaXNSZXF1ZXN0VmlzaWJsZSA9IF90aGlzJHN0YXRlMi5pc1JlcXVlc3RWaXNpYmxlOwoKICAgICAgICBpZiAoYXBpU3RhdHVzID09PSBfY29uc3RhbnRzLkFQSV9TVEFUVVMuU0FWSU5HKSB7CiAgICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogImZsZXhTdGFydCIsCiAgICAgICAgICAgIGd1dHRlclNpemU6ICJtIgogICAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgICAgIGdyb3c6IGZhbHNlCiAgICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTG9hZGluZ1NwaW5uZXIsIHsKICAgICAgICAgICAgc2l6ZTogImwiCiAgICAgICAgICB9KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgICAgICBncm93OiBmYWxzZQogICAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRleHQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICAgIGlkOiAieHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uZm9sbG93ZXJJbmRleEZvcm0uYWN0aW9ucy5zYXZpbmdUZXh0IiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTYXZpbmciCiAgICAgICAgICB9KSkpKTsKICAgICAgICB9CgogICAgICAgIHZhciBpc1NhdmVEaXNhYmxlZCA9IGFyZUVycm9yc1Zpc2libGUgJiYgIV90aGlzLmlzRm9ybVZhbGlkKCk7CiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAic3BhY2VCZXR3ZWVuIiwKICAgICAgICAgIGFsaWduSXRlbXM6ICJjZW50ZXIiCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgICAgICAgZ3V0dGVyU2l6ZTogIm0iLAogICAgICAgICAgYWxpZ25JdGVtczogImNlbnRlciIKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICAgIGdyb3c6IGZhbHNlCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgICAgICAgY29sb3I6ICJzZWNvbmRhcnkiLAogICAgICAgICAgaWNvblR5cGU6ICJjaGVjayIsCiAgICAgICAgICBvbkNsaWNrOiBfdGhpcy5zZW5kRm9ybSwKICAgICAgICAgIGZpbGw6IHRydWUsCiAgICAgICAgICBkaXNhYmxlZDogaXNTYXZlRGlzYWJsZWQsCiAgICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAic3VibWl0QnV0dG9uIgogICAgICAgIH0sIHNhdmVCdXR0b25MYWJlbCkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICAgIGdyb3c6IGZhbHNlCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICAgICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICAgICAgb25DbGljazogX3RoaXMuY2FuY2VsRm9ybSwKICAgICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJjYW5jZWxCdXR0b24iCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAieHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uZm9sbG93ZXJJbmRleEZvcm0uY2FuY2VsQnV0dG9uTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDYW5jZWwiCiAgICAgICAgfSkpKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uRW1wdHksIHsKICAgICAgICAgIG9uQ2xpY2s6IF90aGlzLnRvZ2dsZVJlcXVlc3QKICAgICAgICB9LCBpc1JlcXVlc3RWaXNpYmxlID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAieHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uZm9sbG93ZXJJbmRleEZvcm0uaGlkZVJlcXVlc3RCdXR0b25MYWJlbCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkhpZGUgcmVxdWVzdCIKICAgICAgICB9KSA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInhwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXhGb3JtLnNob3dSZXF1ZXN0QnV0dG9uTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTaG93IHJlcXVlc3QiCiAgICAgICAgfSkpKSk7CiAgICAgIH07CgogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtLCB7CiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImZvbGxvd2VySW5kZXhGb3JtIgogICAgICB9LCByZW5kZXJSZW1vdGVDbHVzdGVyRmllbGQoKSwgcmVuZGVyTGVhZGVySW5kZXgoKSwgcmVuZGVyRm9sbG93ZXJJbmRleE5hbWUoKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJzIgogICAgICB9KSwgcmVuZGVyQWR2YW5jZWRTZXR0aW5ncygpKSwgcmVuZGVyRm9ybUVycm9yV2FybmluZygpLCBfdGhpcy5yZW5kZXJBcGlFcnJvcnMoKSwgcmVuZGVyQWN0aW9ucygpKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInJlbmRlckxvYWRpbmciLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBhcGlTdGF0dXMgPSBfdGhpcy5wcm9wcy5hcGlTdGF0dXM7CgogICAgICBpZiAoYXBpU3RhdHVzID09PSBfY29uc3RhbnRzLkFQSV9TVEFUVVMuU0FWSU5HKSB7CiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlPdmVybGF5TWFzaywgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxvYWRpbmdLaWJhbmEsIHsKICAgICAgICAgIHNpemU6ICJ4bCIKICAgICAgICB9KSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfSk7CgogICAgdmFyIHNlYXJjaCA9IF9yb3V0aW5nLmRlZmF1bHQucmVhY3RSb3V0ZXIucm91dGUubG9jYXRpb24uc2VhcmNoOwogICAgdmFyIHF1ZXJ5UGFyYW1zID0gKDAsIF9xdWVyeV9wYXJhbXMuZXh0cmFjdFF1ZXJ5UGFyYW1zKShzZWFyY2gpOwoKICAgIHZhciBfaXNOZXcgPSBfdGhpcy5wcm9wcy5mb2xsb3dlckluZGV4ID09PSB1bmRlZmluZWQ7CgogICAgdmFyIHJlbW90ZUNsdXN0ZXJOYW1lID0gKDAsIF9nZXRfcmVtb3RlX2NsdXN0ZXJfbmFtZS5nZXRSZW1vdGVDbHVzdGVyTmFtZSkoX3RoaXMucHJvcHMucmVtb3RlQ2x1c3RlcnMsIHF1ZXJ5UGFyYW1zLmNsdXN0ZXIpOwoKICAgIHZhciBfZm9sbG93ZXJJbmRleCA9IF9pc05ldyA/IGdldEVtcHR5Rm9sbG93ZXJJbmRleChyZW1vdGVDbHVzdGVyTmFtZSkgOiBfb2JqZWN0U3ByZWFkKHt9LCBnZXRFbXB0eUZvbGxvd2VySW5kZXgoKSwge30sIF90aGlzLnByb3BzLmZvbGxvd2VySW5kZXgpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnkKCgogICAgdmFyIF9hcmVBZHZhbmNlZFNldHRpbmdzVmlzaWJsZSA9IF9pc05ldyA/IGZhbHNlIDogKDAsIF9hZHZhbmNlZF9zZXR0aW5nc19maWVsZHMuYXJlQWR2YW5jZWRTZXR0aW5nc0VkaXRlZCkoX2ZvbGxvd2VySW5kZXgpID8gdHJ1ZSA6IGZhbHNlOwoKICAgIHZhciBfZmllbGRzRXJyb3JzID0gX3RoaXMuZ2V0RmllbGRzRXJyb3JzKF9mb2xsb3dlckluZGV4KTsKCiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgaXNOZXc6IF9pc05ldywKICAgICAgZm9sbG93ZXJJbmRleDogX2ZvbGxvd2VySW5kZXgsCiAgICAgIGZpZWxkc0Vycm9yczogX2ZpZWxkc0Vycm9ycywKICAgICAgYXJlRXJyb3JzVmlzaWJsZTogZmFsc2UsCiAgICAgIGFyZUFkdmFuY2VkU2V0dGluZ3NWaXNpYmxlOiBfYXJlQWR2YW5jZWRTZXR0aW5nc1Zpc2libGUsCiAgICAgIGlzVmFsaWRhdGluZ0luZGV4TmFtZTogZmFsc2UsCiAgICAgIGlzUmVxdWVzdFZpc2libGU6IGZhbHNlCiAgICB9OwogICAgX3RoaXMuY2FjaGVkQWR2YW5jZWRTZXR0aW5ncyA9IHt9OwogICAgX3RoaXMudmFsaWRhdGVJbmRleE5hbWUgPSAoMCwgX2xvZGFzaC5kZWJvdW5jZSkoX3RoaXMudmFsaWRhdGVJbmRleE5hbWUsIDUwMCk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoRm9sbG93ZXJJbmRleEZvcm0sIFt7CiAgICBrZXk6ICJpc0Zvcm1WYWxpZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNGb3JtVmFsaWQoKSB7CiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMuc3RhdGUuZmllbGRzRXJyb3JzKS5ldmVyeShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gZXJyb3IgPT09IHVuZGVmaW5lZCB8fCBlcnJvciA9PT0gbnVsbDsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyQXBpRXJyb3JzIiwKCiAgICAvKioKICAgICAqIFNlY3Rpb25zIFJlbmRlcnMKICAgICAqLwogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckFwaUVycm9ycygpIHsKICAgICAgdmFyIGFwaUVycm9yID0gdGhpcy5wcm9wcy5hcGlFcnJvcjsKCiAgICAgIGlmIChhcGlFcnJvcikgewogICAgICAgIHZhciB0aXRsZSA9IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5mb2xsb3dlckluZGV4Rm9ybS5zYXZpbmdFcnJvclRpdGxlJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDYW4ndCBjcmVhdGUgZm9sbG93ZXIgaW5kZXgiCiAgICAgICAgfSk7CgogICAgICAgIHZhciBsZWFkZXJJbmRleCA9IHRoaXMuc3RhdGUuZm9sbG93ZXJJbmRleC5sZWFkZXJJbmRleDsKCiAgICAgICAgdmFyIF9lcnJvciA9IGFwaUVycm9yLnN0YXR1cyA9PT0gNDA0ID8gewogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBtZXNzYWdlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uZm9sbG93ZXJJbmRleEZvcm0ubGVhZGVySW5kZXhOb3RGb3VuZEVycm9yJywgewogICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiVGhlIGxlYWRlciBpbmRleCAne2xlYWRlckluZGV4fScgZG9lcyBub3QgZXhpc3QuIiwKICAgICAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgICAgIGxlYWRlckluZGV4OiBsZWFkZXJJbmRleAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9IDogYXBpRXJyb3I7CgogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfc2VjdGlvbl9lcnJvci5TZWN0aW9uRXJyb3IsIHsKICAgICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICAgIGVycm9yOiBfZXJyb3IKICAgICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgICAgc2l6ZTogImwiCiAgICAgICAgfSkpOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkc3RhdGUzID0gdGhpcy5zdGF0ZSwKICAgICAgICAgIGZvbGxvd2VySW5kZXggPSBfdGhpcyRzdGF0ZTMuZm9sbG93ZXJJbmRleCwKICAgICAgICAgIGlzUmVxdWVzdFZpc2libGUgPSBfdGhpcyRzdGF0ZTMuaXNSZXF1ZXN0VmlzaWJsZTsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCB0aGlzLnJlbmRlckZvcm0oKSwgdGhpcy5yZW5kZXJMb2FkaW5nKCksIGlzUmVxdWVzdFZpc2libGUgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9mb2xsb3dlcl9pbmRleF9yZXF1ZXN0X2ZseW91dC5Gb2xsb3dlckluZGV4UmVxdWVzdEZseW91dCwgewogICAgICAgIG5hbWU6IGZvbGxvd2VySW5kZXgubmFtZSwKICAgICAgICBmb2xsb3dlckluZGV4OiB0aGlzLmdldEZpZWxkcygpLAogICAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczIuc2V0U3RhdGUoewogICAgICAgICAgICBpc1JlcXVlc3RWaXNpYmxlOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KSA6IG51bGwpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEZvbGxvd2VySW5kZXhGb3JtOwp9KF9yZWFjdC5QdXJlQ29tcG9uZW50KTsKCmV4cG9ydHMuRm9sbG93ZXJJbmRleEZvcm0gPSBGb2xsb3dlckluZGV4Rm9ybTsKCl9kZWZpbmVQcm9wZXJ0eShGb2xsb3dlckluZGV4Rm9ybSwgInByb3BUeXBlcyIsIHsKICBzYXZlRm9sbG93ZXJJbmRleDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCwKICBjbGVhckFwaUVycm9yOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIGZvbGxvd2VySW5kZXg6IF9wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3QsCiAgYXBpRXJyb3I6IF9wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3QsCiAgYXBpU3RhdHVzOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsCiAgcmVtb3RlQ2x1c3RlcnM6IF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheSwKICBzYXZlQnV0dG9uTGFiZWw6IF9wcm9wVHlwZXMuZGVmYXVsdC5ub2RlCn0pOw=="},null]}