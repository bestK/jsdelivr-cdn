{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/maps/public/layers/sources/es_geo_grid_source/create_source_editor.js","dependencies":[{"path":"x-pack/legacy/plugins/maps/public/layers/sources/es_geo_grid_source/create_source_editor.js","mtime":1585205045333},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkNyZWF0ZVNvdXJjZUVkaXRvciA9IHZvaWQgMDsKCnZhciBfbG9kYXNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJsb2Rhc2giKSk7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicHJvcC10eXBlcyIpKTsKCnZhciBfc2luZ2xlX2ZpZWxkX3NlbGVjdCA9IHJlcXVpcmUoIi4uLy4uLy4uL2NvbXBvbmVudHMvc2luZ2xlX2ZpZWxkX3NlbGVjdCIpOwoKdmFyIF9yZW5kZXJfYXMgPSByZXF1aXJlKCIuL3JlbmRlcl9hcyIpOwoKdmFyIF9raWJhbmFfc2VydmljZXMgPSByZXF1aXJlKCIuLi8uLi8uLi9raWJhbmFfc2VydmljZXMiKTsKCnZhciBfbm9faW5kZXhfcGF0dGVybl9jYWxsb3V0ID0gcmVxdWlyZSgiLi4vLi4vLi4vY29tcG9uZW50cy9ub19pbmRleF9wYXR0ZXJuX2NhbGxvdXQiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50cyIpOwoKdmFyIF9wdWJsaWMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmMvcGx1Z2lucy9kYXRhL3B1YmxpYyIpOwoKdmFyIF9uZXdfcGxhdGZvcm0gPSByZXF1aXJlKCJ1aS9uZXdfcGxhdGZvcm0iKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKdmFyIEluZGV4UGF0dGVyblNlbGVjdCA9IF9uZXdfcGxhdGZvcm0ubnBTdGFydC5wbHVnaW5zLmRhdGEudWkuSW5kZXhQYXR0ZXJuU2VsZWN0OwoKZnVuY3Rpb24gZmlsdGVyR2VvRmllbGQoX3JlZikgewogIHZhciB0eXBlID0gX3JlZi50eXBlOwogIHJldHVybiBbX2NvbnN0YW50cy5FU19HRU9fRklFTERfVFlQRS5HRU9fUE9JTlRdLmluY2x1ZGVzKHR5cGUpOwp9Cgp2YXIgcmVxdWVzdFR5cGVPcHRpb25zID0gW3sKICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1hcHMuc291cmNlLmVzR2VvR3JpZC5ncmlkUmVjdGFuZ2xlRHJvcGRvd25PcHRpb24nLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ2dyaWQgcmVjdGFuZ2xlcycKICB9KSwKICB2YWx1ZTogX3JlbmRlcl9hcy5SRU5ERVJfQVMuR1JJRAp9LCB7CiAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tYXBzLnNvdXJjZS5lc0dlb0dyaWQuaGVhdG1hcERyb3Bkb3duT3B0aW9uJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdoZWF0IG1hcCcKICB9KSwKICB2YWx1ZTogX3JlbmRlcl9hcy5SRU5ERVJfQVMuSEVBVE1BUAp9LCB7CiAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tYXBzLnNvdXJjZS5lc0dlb0dyaWQucG9pbnRzRHJvcGRvd25PcHRpb24nLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ3BvaW50cycKICB9KSwKICB2YWx1ZTogX3JlbmRlcl9hcy5SRU5ERVJfQVMuUE9JTlQKfV07Cgp2YXIgQ3JlYXRlU291cmNlRWRpdG9yID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhDcmVhdGVTb3VyY2VFZGl0b3IsIF9Db21wb25lbnQpOwoKICBmdW5jdGlvbiBDcmVhdGVTb3VyY2VFZGl0b3IoKSB7CiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjsKCiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENyZWF0ZVNvdXJjZUVkaXRvcik7CgogICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICB9CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2dldFByb3RvdHlwZU9mMiA9IF9nZXRQcm90b3R5cGVPZihDcmVhdGVTb3VyY2VFZGl0b3IpKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjIsIFt0aGlzXS5jb25jYXQoYXJncykpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJzdGF0ZSIsIHsKICAgICAgaXNMb2FkaW5nSW5kZXhQYXR0ZXJuOiBmYWxzZSwKICAgICAgaW5kZXhQYXR0ZXJuSWQ6ICcnLAogICAgICBnZW9GaWVsZDogJycsCiAgICAgIHJlcXVlc3RUeXBlOiByZXF1ZXN0VHlwZU9wdGlvbnNbMF0sCiAgICAgIG5vR2VvSW5kZXhQYXR0ZXJuc0V4aXN0OiBmYWxzZQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25JbmRleFBhdHRlcm5TZWxlY3QiLCBmdW5jdGlvbiAoaW5kZXhQYXR0ZXJuSWQpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGluZGV4UGF0dGVybklkOiBpbmRleFBhdHRlcm5JZAogICAgICB9LCBfdGhpcy5sb2FkSW5kZXhQYXR0ZXJuLmJpbmQobnVsbCwgaW5kZXhQYXR0ZXJuSWQpKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImxvYWRJbmRleFBhdHRlcm4iLCBmdW5jdGlvbiAoaW5kZXhQYXR0ZXJuSWQpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGlzTG9hZGluZ0luZGV4UGF0dGVybjogdHJ1ZSwKICAgICAgICBpbmRleFBhdHRlcm46IHVuZGVmaW5lZCwKICAgICAgICBnZW9GaWVsZDogdW5kZWZpbmVkCiAgICAgIH0sIF90aGlzLmRlYm91bmNlZExvYWQuYmluZChudWxsLCBpbmRleFBhdHRlcm5JZCkpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZGVib3VuY2VkTG9hZCIsIF9sb2Rhc2guZGVmYXVsdC5kZWJvdW5jZShmdW5jdGlvbiBfY2FsbGVlKGluZGV4UGF0dGVybklkKSB7CiAgICAgIHZhciBpbmRleFBhdHRlcm4sIGdlb0ZpZWxkczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoISghaW5kZXhQYXR0ZXJuSWQgfHwgaW5kZXhQYXR0ZXJuSWQubGVuZ3RoID09PSAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoX2tpYmFuYV9zZXJ2aWNlcy5pbmRleFBhdHRlcm5TZXJ2aWNlLmdldChpbmRleFBhdHRlcm5JZCkpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGluZGV4UGF0dGVybiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGlmIChfdGhpcy5faXNNb3VudGVkKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBpZiAoIShpbmRleFBhdHRlcm4uaWQgIT09IGluZGV4UGF0dGVybklkKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgaXNMb2FkaW5nSW5kZXhQYXR0ZXJuOiBmYWxzZSwKICAgICAgICAgICAgICAgIGluZGV4UGF0dGVybjogaW5kZXhQYXR0ZXJuCiAgICAgICAgICAgICAgfSk7IC8vbWFrZSBkZWZhdWx0IHNlbGVjdGlvbgoKCiAgICAgICAgICAgICAgZ2VvRmllbGRzID0gaW5kZXhQYXR0ZXJuLmZpZWxkcy5maWx0ZXIoZnVuY3Rpb24gKGZpZWxkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gISgwLCBfcHVibGljLmlzTmVzdGVkRmllbGQpKGZpZWxkKTsKICAgICAgICAgICAgICB9KS5maWx0ZXIoZmlsdGVyR2VvRmllbGQpOwoKICAgICAgICAgICAgICBpZiAoZ2VvRmllbGRzWzBdKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5fb25HZW9GaWVsZFNlbGVjdChnZW9GaWVsZHNbMF0ubmFtZSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgbnVsbCwgW1syLCA4XV0pOwogICAgfSwgMzAwKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiX29uR2VvRmllbGRTZWxlY3QiLCBmdW5jdGlvbiAoZ2VvRmllbGQpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGdlb0ZpZWxkOiBnZW9GaWVsZAogICAgICB9LCBfdGhpcy5wcmV2aWV3TGF5ZXIpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiX29uUmVxdWVzdFR5cGVTZWxlY3QiLCBmdW5jdGlvbiAoc2VsZWN0ZWRPcHRpb25zKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICByZXF1ZXN0VHlwZTogc2VsZWN0ZWRPcHRpb25zWzBdCiAgICAgIH0sIF90aGlzLnByZXZpZXdMYXllcik7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJwcmV2aWV3TGF5ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLAogICAgICAgICAgaW5kZXhQYXR0ZXJuSWQgPSBfdGhpcyRzdGF0ZS5pbmRleFBhdHRlcm5JZCwKICAgICAgICAgIGdlb0ZpZWxkID0gX3RoaXMkc3RhdGUuZ2VvRmllbGQsCiAgICAgICAgICByZXF1ZXN0VHlwZSA9IF90aGlzJHN0YXRlLnJlcXVlc3RUeXBlOwogICAgICB2YXIgc291cmNlQ29uZmlnID0gaW5kZXhQYXR0ZXJuSWQgJiYgZ2VvRmllbGQgPyB7CiAgICAgICAgaW5kZXhQYXR0ZXJuSWQ6IGluZGV4UGF0dGVybklkLAogICAgICAgIGdlb0ZpZWxkOiBnZW9GaWVsZCwKICAgICAgICByZXF1ZXN0VHlwZTogcmVxdWVzdFR5cGUudmFsdWUKICAgICAgfSA6IG51bGw7CgogICAgICBfdGhpcy5wcm9wcy5vblNvdXJjZUNvbmZpZ0NoYW5nZShzb3VyY2VDb25maWcpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiX29uTm9JbmRleFBhdHRlcm5zIiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgbm9HZW9JbmRleFBhdHRlcm5zRXhpc3Q6IHRydWUKICAgICAgfSk7CiAgICB9KTsKCiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ3JlYXRlU291cmNlRWRpdG9yLCBbewogICAga2V5OiAiY29tcG9uZW50V2lsbFVubW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgICB0aGlzLl9pc01vdW50ZWQgPSBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIHRoaXMuX2lzTW91bnRlZCA9IHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3JlbmRlckdlb1NlbGVjdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlckdlb1NlbGVjdCgpIHsKICAgICAgaWYgKCF0aGlzLnN0YXRlLmluZGV4UGF0dGVybikgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1hcHMuc291cmNlLmVzR2VvR3JpZC5nZW9maWVsZExhYmVsJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdHZW9zcGF0aWFsIGZpZWxkJwogICAgICAgIH0pCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3NpbmdsZV9maWVsZF9zZWxlY3QuU2luZ2xlRmllbGRTZWxlY3QsIHsKICAgICAgICBwbGFjZWhvbGRlcjogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1hcHMuc291cmNlLmVzR2VvR3JpZC5nZW9maWVsZFBsYWNlaG9sZGVyJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTZWxlY3QgZ2VvIGZpZWxkJwogICAgICAgIH0pLAogICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmdlb0ZpZWxkLAogICAgICAgIG9uQ2hhbmdlOiB0aGlzLl9vbkdlb0ZpZWxkU2VsZWN0LAogICAgICAgIGZpbHRlckZpZWxkOiBmaWx0ZXJHZW9GaWVsZCwKICAgICAgICBmaWVsZHM6IHRoaXMuc3RhdGUuaW5kZXhQYXR0ZXJuID8gdGhpcy5zdGF0ZS5pbmRleFBhdHRlcm4uZmllbGRzLmZpbHRlcihmdW5jdGlvbiAoZmllbGQpIHsKICAgICAgICAgIHJldHVybiAhKDAsIF9wdWJsaWMuaXNOZXN0ZWRGaWVsZCkoZmllbGQpOwogICAgICAgIH0pIDogdW5kZWZpbmVkCiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfcmVuZGVyTGF5ZXJTZWxlY3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJMYXllclNlbGVjdCgpIHsKICAgICAgaWYgKCF0aGlzLnN0YXRlLmluZGV4UGF0dGVybikgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1hcHMuc291cmNlLmVzR2VvR3JpZC5zaG93QXNMYWJlbCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2hvdyBhcycKICAgICAgICB9KQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ29tYm9Cb3gsIHsKICAgICAgICBwbGFjZWhvbGRlcjogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1hcHMuc291cmNlLmVzR2VvR3JpZC5zaG93QXNQbGFjZWhvbGRlcicsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2VsZWN0IGEgc2luZ2xlIG9wdGlvbicKICAgICAgICB9KSwKICAgICAgICBzaW5nbGVTZWxlY3Rpb246IHsKICAgICAgICAgIGFzUGxhaW5UZXh0OiB0cnVlCiAgICAgICAgfSwKICAgICAgICBvcHRpb25zOiByZXF1ZXN0VHlwZU9wdGlvbnMsCiAgICAgICAgc2VsZWN0ZWRPcHRpb25zOiBbdGhpcy5zdGF0ZS5yZXF1ZXN0VHlwZV0sCiAgICAgICAgb25DaGFuZ2U6IHRoaXMuX29uUmVxdWVzdFR5cGVTZWxlY3QsCiAgICAgICAgaXNDbGVhcmFibGU6IGZhbHNlCiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfcmVuZGVySW5kZXhQYXR0ZXJuU2VsZWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVySW5kZXhQYXR0ZXJuU2VsZWN0KCkgewogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1hcHMuc291cmNlLmVzR2VvR3JpZC5pbmRleFBhdHRlcm5MYWJlbCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnSW5kZXggcGF0dGVybicKICAgICAgICB9KQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEluZGV4UGF0dGVyblNlbGVjdCwgewogICAgICAgIGlzRGlzYWJsZWQ6IHRoaXMuc3RhdGUubm9HZW9JbmRleFBhdHRlcm5zRXhpc3QsCiAgICAgICAgaW5kZXhQYXR0ZXJuSWQ6IHRoaXMuc3RhdGUuaW5kZXhQYXR0ZXJuSWQsCiAgICAgICAgb25DaGFuZ2U6IHRoaXMub25JbmRleFBhdHRlcm5TZWxlY3QsCiAgICAgICAgcGxhY2Vob2xkZXI6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tYXBzLnNvdXJjZS5lc0dlb0dyaWQuaW5kZXhQYXR0ZXJuUGxhY2Vob2xkZXInLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1NlbGVjdCBpbmRleCBwYXR0ZXJuJwogICAgICAgIH0pLAogICAgICAgIGZpZWxkVHlwZXM6IFtfY29uc3RhbnRzLkVTX0dFT19GSUVMRF9UWVBFLkdFT19QT0lOVF0sCiAgICAgICAgb25Ob0luZGV4UGF0dGVybnM6IHRoaXMuX29uTm9JbmRleFBhdHRlcm5zCiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfcmVuZGVyTm9JbmRleFBhdHRlcm5XYXJuaW5nIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyTm9JbmRleFBhdHRlcm5XYXJuaW5nKCkgewogICAgICBpZiAoIXRoaXMuc3RhdGUubm9HZW9JbmRleFBhdHRlcm5zRXhpc3QpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ub19pbmRleF9wYXR0ZXJuX2NhbGxvdXQuTm9JbmRleFBhdHRlcm5DYWxsb3V0LCBudWxsKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJzIgogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgdGhpcy5fcmVuZGVyTm9JbmRleFBhdHRlcm5XYXJuaW5nKCksIHRoaXMuX3JlbmRlckluZGV4UGF0dGVyblNlbGVjdCgpLCB0aGlzLl9yZW5kZXJHZW9TZWxlY3QoKSwgdGhpcy5fcmVuZGVyTGF5ZXJTZWxlY3QoKSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQ3JlYXRlU291cmNlRWRpdG9yOwp9KF9yZWFjdC5Db21wb25lbnQpOwoKZXhwb3J0cy5DcmVhdGVTb3VyY2VFZGl0b3IgPSBDcmVhdGVTb3VyY2VFZGl0b3I7CgpfZGVmaW5lUHJvcGVydHkoQ3JlYXRlU291cmNlRWRpdG9yLCAicHJvcFR5cGVzIiwgewogIG9uU291cmNlQ29uZmlnQ2hhbmdlOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkCn0pOw=="},null]}