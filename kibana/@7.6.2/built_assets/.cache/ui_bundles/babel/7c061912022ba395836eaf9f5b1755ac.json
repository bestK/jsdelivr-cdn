{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/lens/public/editor_frame_plugin/editor_frame/config_panel_wrapper.js","dependencies":[{"path":"x-pack/legacy/plugins/lens/public/editor_frame_plugin/editor_frame/config_panel_wrapper.js","mtime":1585205044989},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkNvbmZpZ1BhbmVsV3JhcHBlciA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfbmF0aXZlX3JlbmRlcmVyID0gcmVxdWlyZSgiLi4vLi4vbmF0aXZlX3JlbmRlcmVyIik7Cgp2YXIgX2RyYWdfZHJvcCA9IHJlcXVpcmUoIi4uLy4uL2RyYWdfZHJvcCIpOwoKdmFyIF9jaGFydF9zd2l0Y2ggPSByZXF1aXJlKCIuL2NoYXJ0X3N3aXRjaCIpOwoKdmFyIF9sZW5zX3VpX3RlbGVtZXRyeSA9IHJlcXVpcmUoIi4uLy4uL2xlbnNfdWlfdGVsZW1ldHJ5Iik7Cgp2YXIgX2lkX2dlbmVyYXRvciA9IHJlcXVpcmUoIi4uLy4uL2lkX2dlbmVyYXRvciIpOwoKdmFyIF9sYXllcl9hY3Rpb25zID0gcmVxdWlyZSgiLi9sYXllcl9hY3Rpb25zIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCmZ1bmN0aW9uIF9leHRlbmRzKCkgewogIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7CiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOwoKICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7CiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0YXJnZXQ7CiAgfTsKCiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCnZhciBDb25maWdQYW5lbFdyYXBwZXIgPSAoMCwgX3JlYWN0Lm1lbW8pKGZ1bmN0aW9uIENvbmZpZ1BhbmVsV3JhcHBlcihwcm9wcykgewogIHZhciBhY3RpdmVWaXN1YWxpemF0aW9uID0gcHJvcHMudmlzdWFsaXphdGlvbk1hcFtwcm9wcy5hY3RpdmVWaXN1YWxpemF0aW9uSWQgfHwgJyddOwogIHZhciB2aXN1YWxpemF0aW9uU3RhdGUgPSBwcm9wcy52aXN1YWxpemF0aW9uU3RhdGU7CiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LmRlZmF1bHQuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NoYXJ0X3N3aXRjaC5DaGFydFN3aXRjaCwgewogICAgImRhdGEtdGVzdC1zdWJqIjogImxuc0NoYXJ0U3dpdGNoZXIiLAogICAgdmlzdWFsaXphdGlvbk1hcDogcHJvcHMudmlzdWFsaXphdGlvbk1hcCwKICAgIHZpc3VhbGl6YXRpb25JZDogcHJvcHMuYWN0aXZlVmlzdWFsaXphdGlvbklkLAogICAgdmlzdWFsaXphdGlvblN0YXRlOiBwcm9wcy52aXN1YWxpemF0aW9uU3RhdGUsCiAgICBkYXRhc291cmNlTWFwOiBwcm9wcy5kYXRhc291cmNlTWFwLAogICAgZGF0YXNvdXJjZVN0YXRlczogcHJvcHMuZGF0YXNvdXJjZVN0YXRlcywKICAgIGRpc3BhdGNoOiBwcm9wcy5kaXNwYXRjaCwKICAgIGZyYW1lUHVibGljQVBJOiBwcm9wcy5mcmFtZVB1YmxpY0FQSQogIH0pLCBhY3RpdmVWaXN1YWxpemF0aW9uICYmIHZpc3VhbGl6YXRpb25TdGF0ZSAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KExheWVyUGFuZWxzLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHsKICAgIGFjdGl2ZVZpc3VhbGl6YXRpb246IGFjdGl2ZVZpc3VhbGl6YXRpb24KICB9KSkpOwp9KTsKZXhwb3J0cy5Db25maWdQYW5lbFdyYXBwZXIgPSBDb25maWdQYW5lbFdyYXBwZXI7CgpmdW5jdGlvbiBMYXllclBhbmVscyhwcm9wcykgewogIHZhciBmcmFtZVB1YmxpY0FQSSA9IHByb3BzLmZyYW1lUHVibGljQVBJLAogICAgICBhY3RpdmVWaXN1YWxpemF0aW9uID0gcHJvcHMuYWN0aXZlVmlzdWFsaXphdGlvbiwKICAgICAgdmlzdWFsaXphdGlvblN0YXRlID0gcHJvcHMudmlzdWFsaXphdGlvblN0YXRlLAogICAgICBkaXNwYXRjaCA9IHByb3BzLmRpc3BhdGNoLAogICAgICBhY3RpdmVEYXRhc291cmNlSWQgPSBwcm9wcy5hY3RpdmVEYXRhc291cmNlSWQsCiAgICAgIGRhdGFzb3VyY2VNYXAgPSBwcm9wcy5kYXRhc291cmNlTWFwOwogIHZhciBkcmFnRHJvcENvbnRleHQgPSAoMCwgX3JlYWN0LnVzZUNvbnRleHQpKF9kcmFnX2Ryb3AuRHJhZ0NvbnRleHQpOwogIHZhciBzZXRTdGF0ZSA9ICgwLCBfcmVhY3QudXNlTWVtbykoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChuZXdTdGF0ZSkgewogICAgICBwcm9wcy5kaXNwYXRjaCh7CiAgICAgICAgdHlwZTogJ1VQREFURV9WSVNVQUxJWkFUSU9OX1NUQVRFJywKICAgICAgICB2aXN1YWxpemF0aW9uSWQ6IGFjdGl2ZVZpc3VhbGl6YXRpb24uaWQsCiAgICAgICAgbmV3U3RhdGU6IG5ld1N0YXRlLAogICAgICAgIGNsZWFyU3RhZ2VkUHJldmlldzogZmFsc2UKICAgICAgfSk7CiAgICB9OwogIH0sIFtwcm9wcy5kaXNwYXRjaCwgYWN0aXZlVmlzdWFsaXphdGlvbl0pOwogIHZhciBsYXllcklkcyA9IGFjdGl2ZVZpc3VhbGl6YXRpb24uZ2V0TGF5ZXJJZHModmlzdWFsaXphdGlvblN0YXRlKTsKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm0sIHsKICAgIGNsYXNzTmFtZTogImxuc0NvbmZpZ1BhbmVsIgogIH0sIGxheWVySWRzLm1hcChmdW5jdGlvbiAobGF5ZXJJZCkgewogICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTGF5ZXJQYW5lbCwgX2V4dGVuZHMoe30sIHByb3BzLCB7CiAgICAgIGtleTogbGF5ZXJJZCwKICAgICAgbGF5ZXJJZDogbGF5ZXJJZCwKICAgICAgYWN0aXZlVmlzdWFsaXphdGlvbjogYWN0aXZlVmlzdWFsaXphdGlvbiwKICAgICAgZHJhZ0Ryb3BDb250ZXh0OiBkcmFnRHJvcENvbnRleHQsCiAgICAgIHN0YXRlOiBzZXRTdGF0ZSwKICAgICAgc2V0U3RhdGU6IHNldFN0YXRlLAogICAgICBmcmFtZTogZnJhbWVQdWJsaWNBUEksCiAgICAgIGlzT25seUxheWVyOiBsYXllcklkcy5sZW5ndGggPT09IDEsCiAgICAgIG9uUmVtb3ZlOiBmdW5jdGlvbiBvblJlbW92ZSgpIHsKICAgICAgICBkaXNwYXRjaCh7CiAgICAgICAgICB0eXBlOiAnVVBEQVRFX1NUQVRFJywKICAgICAgICAgIHN1YlR5cGU6ICdSRU1PVkVfT1JfQ0xFQVJfTEFZRVInLAogICAgICAgICAgdXBkYXRlcjogZnVuY3Rpb24gdXBkYXRlcihzdGF0ZSkgewogICAgICAgICAgICByZXR1cm4gKDAsIF9sYXllcl9hY3Rpb25zLnJlbW92ZUxheWVyKSh7CiAgICAgICAgICAgICAgYWN0aXZlVmlzdWFsaXphdGlvbjogYWN0aXZlVmlzdWFsaXphdGlvbiwKICAgICAgICAgICAgICBsYXllcklkOiBsYXllcklkLAogICAgICAgICAgICAgIHRyYWNrVWlFdmVudDogX2xlbnNfdWlfdGVsZW1ldHJ5LnRyYWNrVWlFdmVudCwKICAgICAgICAgICAgICBkYXRhc291cmNlTWFwOiBkYXRhc291cmNlTWFwLAogICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSkpOwogIH0pLCBhY3RpdmVWaXN1YWxpemF0aW9uLmFwcGVuZExheWVyICYmIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogdHJ1ZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUb29sVGlwLCB7CiAgICBjbGFzc05hbWU6ICJldWktZnVsbFdpZHRoIiwKICAgIGNvbnRlbnQ6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5sZW5zLnh5Q2hhcnQuYWRkTGF5ZXJUb29sdGlwJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ1VzZSBtdWx0aXBsZSBsYXllcnMgdG8gY29tYmluZSBjaGFydCB0eXBlcyBvciB2aXN1YWxpemUgZGlmZmVyZW50IGluZGV4IHBhdHRlcm5zLicKICAgIH0pLAogICAgcG9zaXRpb246ICJib3R0b20iCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgY2xhc3NOYW1lOiAibG5zQ29uZmlnUGFuZWxfX2FkZExheWVyQnRuIiwKICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgIHNpemU6ICJzIiwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJsbnNYWV9sYXllcl9hZGQiLAogICAgImFyaWEtbGFiZWwiOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subGVucy54eUNoYXJ0LmFkZExheWVyQnV0dG9uJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ0FkZCBsYXllcicKICAgIH0pLAogICAgdGl0bGU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5sZW5zLnh5Q2hhcnQuYWRkTGF5ZXJCdXR0b24nLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQWRkIGxheWVyJwogICAgfSksCiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICBkaXNwYXRjaCh7CiAgICAgICAgdHlwZTogJ1VQREFURV9TVEFURScsCiAgICAgICAgc3ViVHlwZTogJ0FERF9MQVlFUicsCiAgICAgICAgdXBkYXRlcjogZnVuY3Rpb24gdXBkYXRlcihzdGF0ZSkgewogICAgICAgICAgcmV0dXJuICgwLCBfbGF5ZXJfYWN0aW9ucy5hcHBlbmRMYXllcikoewogICAgICAgICAgICBhY3RpdmVWaXN1YWxpemF0aW9uOiBhY3RpdmVWaXN1YWxpemF0aW9uLAogICAgICAgICAgICBnZW5lcmF0ZUlkOiBfaWRfZ2VuZXJhdG9yLmdlbmVyYXRlSWQsCiAgICAgICAgICAgIHRyYWNrVWlFdmVudDogX2xlbnNfdWlfdGVsZW1ldHJ5LnRyYWNrVWlFdmVudCwKICAgICAgICAgICAgYWN0aXZlRGF0YXNvdXJjZTogZGF0YXNvdXJjZU1hcFthY3RpdmVEYXRhc291cmNlSWRdLAogICAgICAgICAgICBzdGF0ZTogc3RhdGUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaWNvblR5cGU6ICJwbHVzSW5DaXJjbGVGaWxsZWQiCiAgfSkpKSk7Cn0KCmZ1bmN0aW9uIExheWVyUGFuZWwocHJvcHMpIHsKICB2YXIgZnJhbWVQdWJsaWNBUEkgPSBwcm9wcy5mcmFtZVB1YmxpY0FQSSwKICAgICAgbGF5ZXJJZCA9IHByb3BzLmxheWVySWQsCiAgICAgIGFjdGl2ZVZpc3VhbGl6YXRpb24gPSBwcm9wcy5hY3RpdmVWaXN1YWxpemF0aW9uLAogICAgICBpc09ubHlMYXllciA9IHByb3BzLmlzT25seUxheWVyLAogICAgICBvblJlbW92ZSA9IHByb3BzLm9uUmVtb3ZlOwogIHZhciBkYXRhc291cmNlUHVibGljQVBJID0gZnJhbWVQdWJsaWNBUEkuZGF0YXNvdXJjZUxheWVyc1tsYXllcklkXTsKICB2YXIgbGF5ZXJDb25maWdQcm9wcyA9IHsKICAgIGxheWVySWQ6IGxheWVySWQsCiAgICBkcmFnRHJvcENvbnRleHQ6IHByb3BzLmRyYWdEcm9wQ29udGV4dCwKICAgIHN0YXRlOiBwcm9wcy52aXN1YWxpemF0aW9uU3RhdGUsCiAgICBzZXRTdGF0ZTogcHJvcHMuc2V0U3RhdGUsCiAgICBmcmFtZTogcHJvcHMuZnJhbWVQdWJsaWNBUEkKICB9OwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUGFuZWwsIHsKICAgIGNsYXNzTmFtZTogImxuc0NvbmZpZ1BhbmVsX19wYW5lbCIsCiAgICBwYWRkaW5nU2l6ZTogInMiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgZ3V0dGVyU2l6ZTogInMiLAogICAgYWxpZ25JdGVtczogImZsZXhTdGFydCIsCiAgICByZXNwb25zaXZlOiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KExheWVyU2V0dGluZ3MsIHsKICAgIGxheWVySWQ6IGxheWVySWQsCiAgICBsYXllckNvbmZpZ1Byb3BzOiBsYXllckNvbmZpZ1Byb3BzLAogICAgYWN0aXZlVmlzdWFsaXphdGlvbjogYWN0aXZlVmlzdWFsaXphdGlvbgogIH0pKSwgZGF0YXNvdXJjZVB1YmxpY0FQSSAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGNsYXNzTmFtZTogImV1aS10ZXh0VHJ1bmNhdGUiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbmF0aXZlX3JlbmRlcmVyLk5hdGl2ZVJlbmRlcmVyLCB7CiAgICByZW5kZXI6IGRhdGFzb3VyY2VQdWJsaWNBUEkucmVuZGVyTGF5ZXJQYW5lbCwKICAgIG5hdGl2ZVByb3BzOiB7CiAgICAgIGxheWVySWQ6IGxheWVySWQKICAgIH0KICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICBzaXplOiAicyIKICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbmF0aXZlX3JlbmRlcmVyLk5hdGl2ZVJlbmRlcmVyLCB7CiAgICByZW5kZXI6IGFjdGl2ZVZpc3VhbGl6YXRpb24ucmVuZGVyTGF5ZXJDb25maWdQYW5lbCwKICAgIG5hdGl2ZVByb3BzOiBsYXllckNvbmZpZ1Byb3BzCiAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgIHNpemU6ICJzIgogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICBqdXN0aWZ5Q29udGVudDogImNlbnRlciIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICBzaXplOiAieHMiLAogICAgaWNvblR5cGU6ICJ0cmFzaCIsCiAgICBjb2xvcjogImRhbmdlciIsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAibG5zX2xheWVyX3JlbW92ZSIsCiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAvLyBJZiB3ZSBkb24ndCBibHVyIHRoZSByZW1vdmUgLyBjbGVhciBidXR0b24sIGl0IHJlbWFpbnMgZm9jdXNlZAogICAgICAvLyB3aGljaCBpcyBhIHN0cmFuZ2UgVVggaW4gdGhpcyBjYXNlLiBlLnRhcmdldC5ibHVyIGRvZXNuJ3Qgd29yawogICAgICAvLyBkdWUgdG8gd2hvIGtub3dzIHdoYXQsIGJ1dCBwcm9iYWJseSBldmVudCByZS13cml0aW5nLiBBZGRpdGlvbmFsbHksCiAgICAgIC8vIGFjdGl2ZUVsZW1lbnQgZG9lcyBub3QgaGF2ZSBibHVyIHNvLCB3ZSBuZWVkIHRvIGRvIHNvbWUgY2FzdGluZyArIHNhZmVndWFyZHMuCiAgICAgIHZhciBlbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7CgogICAgICBpZiAoZWwgJiYgZWwuYmx1cikgewogICAgICAgIGVsLmJsdXIoKTsKICAgICAgfQoKICAgICAgb25SZW1vdmUoKTsKICAgIH0KICB9LCBpc09ubHlMYXllciA/IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5sZW5zLnJlc2V0TGF5ZXInLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ1Jlc2V0IGxheWVyJwogIH0pIDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmxlbnMuZGVsZXRlTGF5ZXInLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0RlbGV0ZSBsYXllcicKICB9KSkpKSk7Cn0KCmZ1bmN0aW9uIExheWVyU2V0dGluZ3MoX3JlZikgewogIHZhciBfYWN0aXZlVmlzdWFsaXphdGlvbiQ7CgogIHZhciBsYXllcklkID0gX3JlZi5sYXllcklkLAogICAgICBhY3RpdmVWaXN1YWxpemF0aW9uID0gX3JlZi5hY3RpdmVWaXN1YWxpemF0aW9uLAogICAgICBsYXllckNvbmZpZ1Byb3BzID0gX3JlZi5sYXllckNvbmZpZ1Byb3BzOwoKICB2YXIgX3VzZVN0YXRlID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoZmFsc2UpLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgaXNPcGVuID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0SXNPcGVuID0gX3VzZVN0YXRlMlsxXTsKCiAgaWYgKCFhY3RpdmVWaXN1YWxpemF0aW9uLnJlbmRlckxheWVyQ29udGV4dE1lbnUpIHsKICAgIHJldHVybiBudWxsOwogIH0KCiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlQb3BvdmVyLCB7CiAgICBpZDogImxuc0xheWVyUG9wb3Zlcl8iLmNvbmNhdChsYXllcklkKSwKICAgIHBhbmVsUGFkZGluZ1NpemU6ICJzIiwKICAgIG93bkZvY3VzOiB0cnVlLAogICAgYnV0dG9uOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uSWNvbiwgewogICAgICBpY29uVHlwZTogKChfYWN0aXZlVmlzdWFsaXphdGlvbiQgPSBhY3RpdmVWaXN1YWxpemF0aW9uLmdldExheWVyQ29udGV4dE1lbnVJY29uKSA9PT0gbnVsbCB8fCBfYWN0aXZlVmlzdWFsaXphdGlvbiQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hY3RpdmVWaXN1YWxpemF0aW9uJC5jYWxsKGFjdGl2ZVZpc3VhbGl6YXRpb24sIGxheWVyQ29uZmlnUHJvcHMpKSB8fCAnZ2VhcicsCiAgICAgICJhcmlhLWxhYmVsIjogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmxlbnMuZWRpdExheWVyU2V0dGluZ3MnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdFZGl0IGxheWVyIHNldHRpbmdzJwogICAgICB9KSwKICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICByZXR1cm4gc2V0SXNPcGVuKCFpc09wZW4pOwogICAgICB9LAogICAgICAiZGF0YS10ZXN0LXN1YmoiOiAibG5zX2xheWVyX3NldHRpbmdzIgogICAgfSksCiAgICBpc09wZW46IGlzT3BlbiwKICAgIGNsb3NlUG9wb3ZlcjogZnVuY3Rpb24gY2xvc2VQb3BvdmVyKCkgewogICAgICByZXR1cm4gc2V0SXNPcGVuKGZhbHNlKTsKICAgIH0sCiAgICBhbmNob3JQb3NpdGlvbjogImxlZnRVcCIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9uYXRpdmVfcmVuZGVyZXIuTmF0aXZlUmVuZGVyZXIsIHsKICAgIHJlbmRlcjogYWN0aXZlVmlzdWFsaXphdGlvbi5yZW5kZXJMYXllckNvbnRleHRNZW51LAogICAgbmF0aXZlUHJvcHM6IGxheWVyQ29uZmlnUHJvcHMKICB9KSk7Cn0="},null]}