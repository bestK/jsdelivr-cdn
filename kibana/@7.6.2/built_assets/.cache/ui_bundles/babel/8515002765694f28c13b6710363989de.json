{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/ml/public/application/jobs/new_job/common/chart_loader/chart_loader.js","dependencies":[{"path":"x-pack/legacy/plugins/ml/public/application/jobs/new_job/common/chart_loader/chart_loader.js","mtime":1585205045836},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldEFnZ0ZpZWxkUGFpck5hbWVzID0gZ2V0QWdnRmllbGRQYWlyTmFtZXM7CmV4cG9ydHMuQ2hhcnRMb2FkZXIgPSB2b2lkIDA7Cgp2YXIgX21lbW9pemVPbmUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm1lbW9pemUtb25lIikpOwoKdmFyIF9sb2Rhc2ggPSByZXF1aXJlKCJsb2Rhc2giKTsKCnZhciBfbWxfYXBpX3NlcnZpY2UgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9zZXJ2aWNlcy9tbF9hcGlfc2VydmljZSIpOwoKdmFyIF9yZXN1bHRzX3NlcnZpY2UgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9zZXJ2aWNlcy9yZXN1bHRzX3NlcnZpY2UiKTsKCnZhciBfc2VhcmNoZXMgPSByZXF1aXJlKCIuL3NlYXJjaGVzIik7Cgp2YXIgX2dlbmVyYWwgPSByZXF1aXJlKCIuLi9qb2JfY3JlYXRvci91dGlsL2dlbmVyYWwiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgfQp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOwogIH0KfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICByZXR1cm4gQ29uc3RydWN0b3I7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9Cgp2YXIgZXEgPSBmdW5jdGlvbiBlcShuZXdBcmdzLCBsYXN0QXJncykgewogIHJldHVybiAoMCwgX2xvZGFzaC5pc0VxdWFsKShuZXdBcmdzLCBsYXN0QXJncyk7Cn07Cgp2YXIgbmV3Sm9iTGluZUNoYXJ0ID0gKDAsIF9tZW1vaXplT25lLmRlZmF1bHQpKF9tbF9hcGlfc2VydmljZS5tbC5qb2JzLm5ld0pvYkxpbmVDaGFydCwgZXEpOwp2YXIgbmV3Sm9iUG9wdWxhdGlvbnNDaGFydCA9ICgwLCBfbWVtb2l6ZU9uZS5kZWZhdWx0KShfbWxfYXBpX3NlcnZpY2UubWwuam9icy5uZXdKb2JQb3B1bGF0aW9uc0NoYXJ0LCBlcSk7CnZhciBnZXRFdmVudFJhdGVEYXRhID0gKDAsIF9tZW1vaXplT25lLmRlZmF1bHQpKF9yZXN1bHRzX3NlcnZpY2UubWxSZXN1bHRzU2VydmljZS5nZXRFdmVudFJhdGVEYXRhLCBlcSk7CnZhciBnZXRDYXRlZ29yeUZpZWxkcyA9ICgwLCBfbWVtb2l6ZU9uZS5kZWZhdWx0KShfc2VhcmNoZXMuZ2V0Q2F0ZWdvcnlGaWVsZHMsIGVxKTsKCnZhciBDaGFydExvYWRlciA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIENoYXJ0TG9hZGVyKGluZGV4UGF0dGVybiwgcXVlcnkpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGFydExvYWRlcik7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfaW5kZXhQYXR0ZXJuVGl0bGUiLCAnJyk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfdGltZUZpZWxkTmFtZSIsICcnKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9xdWVyeSIsIHt9KTsKCiAgICB0aGlzLl9pbmRleFBhdHRlcm5UaXRsZSA9IGluZGV4UGF0dGVybi50aXRsZTsKICAgIHRoaXMuX3F1ZXJ5ID0gcXVlcnk7CgogICAgaWYgKHR5cGVvZiBpbmRleFBhdHRlcm4udGltZUZpZWxkTmFtZSA9PT0gJ3N0cmluZycpIHsKICAgICAgdGhpcy5fdGltZUZpZWxkTmFtZSA9IGluZGV4UGF0dGVybi50aW1lRmllbGROYW1lOwogICAgfQogIH0KCiAgX2NyZWF0ZUNsYXNzKENoYXJ0TG9hZGVyLCBbewogICAga2V5OiAibG9hZExpbmVDaGFydHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRMaW5lQ2hhcnRzKHN0YXJ0LCBlbmQsIGFnZ0ZpZWxkUGFpcnMsIHNwbGl0RmllbGQsIHNwbGl0RmllbGRWYWx1ZSwgaW50ZXJ2YWxNcykgewogICAgICB2YXIgc3BsaXRGaWVsZE5hbWUsIGFnZ0ZpZWxkUGFpck5hbWVzLCByZXNwOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGxvYWRMaW5lQ2hhcnRzJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoISh0aGlzLl90aW1lRmllbGROYW1lICE9PSAnJykpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKCEoKDAsIF9nZW5lcmFsLmFnZ0ZpZWxkUGFpcnNDYW5CZUNoYXJ0ZWQpKGFnZ0ZpZWxkUGFpcnMpID09PSBmYWxzZSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgc3BsaXRGaWVsZE5hbWUgPSBzcGxpdEZpZWxkICE9PSBudWxsID8gc3BsaXRGaWVsZC5uYW1lIDogbnVsbDsKICAgICAgICAgICAgICBhZ2dGaWVsZFBhaXJOYW1lcyA9IGFnZ0ZpZWxkUGFpcnMubWFwKGdldEFnZ0ZpZWxkUGFpck5hbWVzKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKG5ld0pvYkxpbmVDaGFydCh0aGlzLl9pbmRleFBhdHRlcm5UaXRsZSwgdGhpcy5fdGltZUZpZWxkTmFtZSwgc3RhcnQsIGVuZCwgaW50ZXJ2YWxNcywgdGhpcy5fcXVlcnksIGFnZ0ZpZWxkUGFpck5hbWVzLCBzcGxpdEZpZWxkTmFtZSwgc3BsaXRGaWVsZFZhbHVlKSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKHJlc3AuZXJyb3IgIT09IHVuZGVmaW5lZCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdGhyb3cgcmVzcC5lcnJvcjsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzcC5yZXN1bHRzKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9hZFBvcHVsYXRpb25DaGFydHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRQb3B1bGF0aW9uQ2hhcnRzKHN0YXJ0LCBlbmQsIGFnZ0ZpZWxkUGFpcnMsIHNwbGl0RmllbGQsIGludGVydmFsTXMpIHsKICAgICAgdmFyIF9zcGxpdEZpZWxkTmFtZSwgX2FnZ0ZpZWxkUGFpck5hbWVzLCBfcmVzcDsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gbG9hZFBvcHVsYXRpb25DaGFydHMkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghKHRoaXMuX3RpbWVGaWVsZE5hbWUgIT09ICcnKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKCEoKDAsIF9nZW5lcmFsLmFnZ0ZpZWxkUGFpcnNDYW5CZUNoYXJ0ZWQpKGFnZ0ZpZWxkUGFpcnMpID09PSBmYWxzZSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHt9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfc3BsaXRGaWVsZE5hbWUgPSBzcGxpdEZpZWxkICE9PSBudWxsID8gc3BsaXRGaWVsZC5uYW1lIDogJyc7CiAgICAgICAgICAgICAgX2FnZ0ZpZWxkUGFpck5hbWVzID0gYWdnRmllbGRQYWlycy5tYXAoZ2V0QWdnRmllbGRQYWlyTmFtZXMpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKG5ld0pvYlBvcHVsYXRpb25zQ2hhcnQodGhpcy5faW5kZXhQYXR0ZXJuVGl0bGUsIHRoaXMuX3RpbWVGaWVsZE5hbWUsIHN0YXJ0LCBlbmQsIGludGVydmFsTXMsIHRoaXMuX3F1ZXJ5LCBfYWdnRmllbGRQYWlyTmFtZXMsIF9zcGxpdEZpZWxkTmFtZSkpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9yZXNwID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKF9yZXNwLmVycm9yICE9PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aHJvdyBfcmVzcC5lcnJvcjsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF9yZXNwLnJlc3VsdHMpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMpOwogICAgfQogIH0sIHsKICAgIGtleTogImxvYWRFdmVudFJhdGVDaGFydCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZEV2ZW50UmF0ZUNoYXJ0KHN0YXJ0LCBlbmQsIGludGVydmFsTXMpIHsKICAgICAgdmFyIF9yZXNwMjsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gbG9hZEV2ZW50UmF0ZUNoYXJ0JChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoISh0aGlzLl90aW1lRmllbGROYW1lICE9PSAnJykpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoZ2V0RXZlbnRSYXRlRGF0YSh0aGlzLl9pbmRleFBhdHRlcm5UaXRsZSwgdGhpcy5fcXVlcnksIHRoaXMuX3RpbWVGaWVsZE5hbWUsIHN0YXJ0LCBlbmQsIGludGVydmFsTXMgKiAzKSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX3Jlc3AyID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKF9yZXNwMi5lcnJvciAhPT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aHJvdyBfcmVzcDIuZXJyb3I7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIE9iamVjdC5lbnRyaWVzKF9yZXNwMi5yZXN1bHRzKS5tYXAoZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICAgICAgICAgICAgICAgIHRpbWUgPSBfcmVmMlswXSwKICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWYyWzFdOwoKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIHRpbWU6ICt0aW1lLAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBbXSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2FkRmllbGRFeGFtcGxlVmFsdWVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkRmllbGRFeGFtcGxlVmFsdWVzKGZpZWxkKSB7CiAgICAgIHZhciBfcmVmMywgcmVzdWx0czsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gbG9hZEZpZWxkRXhhbXBsZVZhbHVlcyQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoZ2V0Q2F0ZWdvcnlGaWVsZHModGhpcy5faW5kZXhQYXR0ZXJuVGl0bGUsIGZpZWxkLm5hbWUsIDEwLCB0aGlzLl9xdWVyeSkpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9yZWYzID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgcmVzdWx0cyA9IF9yZWYzLnJlc3VsdHM7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIHJlc3VsdHMpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQ2hhcnRMb2FkZXI7Cn0oKTsKCmV4cG9ydHMuQ2hhcnRMb2FkZXIgPSBDaGFydExvYWRlcjsKCmZ1bmN0aW9uIGdldEFnZ0ZpZWxkUGFpck5hbWVzKGFmKSB7CiAgdmFyIGJ5ID0gYWYuYnkgIT09IHVuZGVmaW5lZCAmJiBhZi5ieS5maWVsZCAhPT0gbnVsbCAmJiBhZi5ieS52YWx1ZSAhPT0gbnVsbCA/IHsKICAgIGZpZWxkOiBhZi5ieS5maWVsZC5pZCwKICAgIHZhbHVlOiBhZi5ieS52YWx1ZQogIH0gOiB7CiAgICBmaWVsZDogbnVsbCwKICAgIHZhbHVlOiBudWxsCiAgfTsKICByZXR1cm4gewogICAgYWdnOiBhZi5hZ2cuZHNsTmFtZSB8fCAnJywKICAgIGZpZWxkOiBhZi5maWVsZC5pZCwKICAgIGJ5OiBieQogIH07Cn0="},null]}