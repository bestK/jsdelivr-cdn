{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/plugins/data/public/query/timefilter/timefilter.js","dependencies":[{"path":"src/plugins/data/public/query/timefilter/timefilter.js","mtime":1585205041579},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlRpbWVmaWx0ZXIgPSB2b2lkIDA7Cgp2YXIgX2xvZGFzaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgibG9kYXNoIikpOwoKdmFyIF9yeGpzID0gcmVxdWlyZSgicnhqcyIpOwoKdmFyIF9tb21lbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm1vbWVudCIpKTsKCnZhciBfZGlmZl90aW1lX3BpY2tlcl92YWxzID0gcmVxdWlyZSgiLi9saWIvZGlmZl90aW1lX3BpY2tlcl92YWxzIik7Cgp2YXIgX3BhcnNlX3F1ZXJ5c3RyaW5nID0gcmVxdWlyZSgiLi9saWIvcGFyc2VfcXVlcnlzdHJpbmciKTsKCnZhciBfZ2V0X3RpbWUgPSByZXF1aXJlKCIuL2dldF90aW1lIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7CiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogIH0KfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgewogIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07CiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7CiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7CiAgICBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsKICB9Cn0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsKICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsKICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7CiAgcmV0dXJuIENvbnN0cnVjdG9yOwp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfSAvLyBUT0RPOiByZW1vdmUhCgoKdmFyIFRpbWVmaWx0ZXIgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICAvLyBGaXJlZCB3aGVuIGlzVGltZVJhbmdlU2VsZWN0b3JFbmFibGVkIFwgaXNBdXRvUmVmcmVzaFNlbGVjdG9yRW5hYmxlZCBhcmUgdG9nZ2xlZAogIC8vIEZpcmVkIHdoZW4gYSB1c2VyIGNoYW5nZXMgdGhlIHRpbWVyYW5nZQogIC8vIEZpcmVkIHdoZW4gYSB1c2VyIGNoYW5nZXMgdGhlIHRoZSBhdXRvcmVmcmVzaCBzZXR0aW5ncwogIC8vIFVzZWQgd2hlbiBhbiBhdXRvIHJlZnJlc2ggaXMgdHJpZ2dlcmVkCiAgZnVuY3Rpb24gVGltZWZpbHRlcihjb25maWcsIHRpbWVIaXN0b3J5KSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaW1lZmlsdGVyKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImVuYWJsZWRVcGRhdGVkJCIsIG5ldyBfcnhqcy5CZWhhdmlvclN1YmplY3QoZmFsc2UpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInRpbWVVcGRhdGUkIiwgbmV3IF9yeGpzLlN1YmplY3QoKSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJyZWZyZXNoSW50ZXJ2YWxVcGRhdGUkIiwgbmV3IF9yeGpzLlN1YmplY3QoKSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJhdXRvUmVmcmVzaEZldGNoJCIsIG5ldyBfcnhqcy5TdWJqZWN0KCkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZmV0Y2gkIiwgbmV3IF9yeGpzLlN1YmplY3QoKSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfdGltZSIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfcmVmcmVzaEludGVydmFsIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9oaXN0b3J5Iiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9pc1RpbWVSYW5nZVNlbGVjdG9yRW5hYmxlZCIsIGZhbHNlKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9pc0F1dG9SZWZyZXNoU2VsZWN0b3JFbmFibGVkIiwgZmFsc2UpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX2F1dG9SZWZyZXNoSW50ZXJ2YWxJZCIsIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ2V0RW5hYmxlZFVwZGF0ZWQkIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX3RoaXMuZW5hYmxlZFVwZGF0ZWQkLmFzT2JzZXJ2YWJsZSgpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnZXRUaW1lVXBkYXRlJCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF90aGlzLnRpbWVVcGRhdGUkLmFzT2JzZXJ2YWJsZSgpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnZXRSZWZyZXNoSW50ZXJ2YWxVcGRhdGUkIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX3RoaXMucmVmcmVzaEludGVydmFsVXBkYXRlJC5hc09ic2VydmFibGUoKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ2V0QXV0b1JlZnJlc2hGZXRjaCQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy5hdXRvUmVmcmVzaEZldGNoJC5hc09ic2VydmFibGUoKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ2V0RmV0Y2gkIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX3RoaXMuZmV0Y2gkLmFzT2JzZXJ2YWJsZSgpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnZXRUaW1lIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3RoaXMkX3RpbWUgPSBfdGhpcy5fdGltZSwKICAgICAgICAgIGZyb20gPSBfdGhpcyRfdGltZS5mcm9tLAogICAgICAgICAgdG8gPSBfdGhpcyRfdGltZS50bzsKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIF90aGlzLl90aW1lLCB7CiAgICAgICAgZnJvbTogX21vbWVudC5kZWZhdWx0LmlzTW9tZW50KGZyb20pID8gZnJvbS50b0lTT1N0cmluZygpIDogZnJvbSwKICAgICAgICB0bzogX21vbWVudC5kZWZhdWx0LmlzTW9tZW50KHRvKSA/IHRvLnRvSVNPU3RyaW5nKCkgOiB0bwogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAic2V0VGltZSIsIGZ1bmN0aW9uICh0aW1lKSB7CiAgICAgIC8vIE9iamVjdC5hc3NpZ24gdXNlZCBmb3IgcGFydGlhbGx5IGNvbXBvc2VkIHVwZGF0ZXMKICAgICAgdmFyIG5ld1RpbWUgPSBPYmplY3QuYXNzaWduKF90aGlzLmdldFRpbWUoKSwgdGltZSk7CgogICAgICBpZiAoKDAsIF9kaWZmX3RpbWVfcGlja2VyX3ZhbHMuYXJlVGltZVJhbmdlc0RpZmZlcmVudCkoX3RoaXMuZ2V0VGltZSgpLCBuZXdUaW1lKSkgewogICAgICAgIF90aGlzLl90aW1lID0gewogICAgICAgICAgZnJvbTogbmV3VGltZS5mcm9tLAogICAgICAgICAgdG86IG5ld1RpbWUudG8KICAgICAgICB9OwoKICAgICAgICBfdGhpcy5faGlzdG9yeS5hZGQoX3RoaXMuX3RpbWUpOwoKICAgICAgICBfdGhpcy50aW1lVXBkYXRlJC5uZXh0KCk7CgogICAgICAgIF90aGlzLmZldGNoJC5uZXh0KCk7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ2V0UmVmcmVzaEludGVydmFsIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX2xvZGFzaC5kZWZhdWx0LmNsb25lKF90aGlzLl9yZWZyZXNoSW50ZXJ2YWwpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzZXRSZWZyZXNoSW50ZXJ2YWwiLCBmdW5jdGlvbiAocmVmcmVzaEludGVydmFsKSB7CiAgICAgIHZhciBwcmV2UmVmcmVzaEludGVydmFsID0gX3RoaXMuZ2V0UmVmcmVzaEludGVydmFsKCk7CgogICAgICB2YXIgbmV3UmVmcmVzaEludGVydmFsID0gX29iamVjdFNwcmVhZCh7fSwgcHJldlJlZnJlc2hJbnRlcnZhbCwge30sIHJlZnJlc2hJbnRlcnZhbCk7IC8vIElmIHRoZSByZWZyZXNoIGludGVydmFsIGlzIDw9IDAgaGFuZGxlIHRoYXQgYXMgYSBwYXVzZWQgcmVmcmVzaAoKCiAgICAgIGlmIChuZXdSZWZyZXNoSW50ZXJ2YWwudmFsdWUgPD0gMCkgewogICAgICAgIG5ld1JlZnJlc2hJbnRlcnZhbC52YWx1ZSA9IDA7CiAgICAgICAgbmV3UmVmcmVzaEludGVydmFsLnBhdXNlID0gdHJ1ZTsKICAgICAgfQoKICAgICAgX3RoaXMuX3JlZnJlc2hJbnRlcnZhbCA9IHsKICAgICAgICB2YWx1ZTogbmV3UmVmcmVzaEludGVydmFsLnZhbHVlLAogICAgICAgIHBhdXNlOiBuZXdSZWZyZXNoSW50ZXJ2YWwucGF1c2UKICAgICAgfTsgLy8gT25seSBzZW5kIG91dCBhbiBldmVudCBpZiB3ZSBhbHJlYWR5IGhhZCBhIHByZXZpb3VzIHJlZnJlc2ggaW50ZXJ2YWwgKG5vdCBmb3IgdGhlIGluaXRpYWwgc2V0KQogICAgICAvLyBhbmQgdGhlIG9sZCBhbmQgbmV3IHJlZnJlc2ggaW50ZXJ2YWwgYXJlIGFjdHVhbGx5IGRpZmZlcmVudC4KCiAgICAgIGlmIChwcmV2UmVmcmVzaEludGVydmFsICYmICgwLCBfZGlmZl90aW1lX3BpY2tlcl92YWxzLmFyZVJlZnJlc2hJbnRlcnZhbHNEaWZmZXJlbnQpKHByZXZSZWZyZXNoSW50ZXJ2YWwsIG5ld1JlZnJlc2hJbnRlcnZhbCkpIHsKICAgICAgICBfdGhpcy5yZWZyZXNoSW50ZXJ2YWxVcGRhdGUkLm5leHQoKTsKCiAgICAgICAgaWYgKCFuZXdSZWZyZXNoSW50ZXJ2YWwucGF1c2UgJiYgbmV3UmVmcmVzaEludGVydmFsLnZhbHVlICE9PSAwKSB7CiAgICAgICAgICBfdGhpcy5mZXRjaCQubmV4dCgpOwogICAgICAgIH0KICAgICAgfSAvLyBDbGVhciB0aGUgcHJldmlvdXMgYXV0byByZWZyZXNoIGludGVydmFsIGFuZCBzdGFydCBhIG5ldyBvbmUgKGlmIG5vdCBwYXVzZWQpCgoKICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5fYXV0b1JlZnJlc2hJbnRlcnZhbElkKTsKCiAgICAgIGlmICghbmV3UmVmcmVzaEludGVydmFsLnBhdXNlKSB7CiAgICAgICAgX3RoaXMuX2F1dG9SZWZyZXNoSW50ZXJ2YWxJZCA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMuYXV0b1JlZnJlc2hGZXRjaCQubmV4dCgpOwogICAgICAgIH0sIG5ld1JlZnJlc2hJbnRlcnZhbC52YWx1ZSk7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiY3JlYXRlRmlsdGVyIiwgZnVuY3Rpb24gKGluZGV4UGF0dGVybiwgdGltZVJhbmdlKSB7CiAgICAgIHJldHVybiAoMCwgX2dldF90aW1lLmdldFRpbWUpKGluZGV4UGF0dGVybiwgdGltZVJhbmdlID8gdGltZVJhbmdlIDogX3RoaXMuX3RpbWUsIF90aGlzLmdldEZvcmNlTm93KCkpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJlbmFibGVUaW1lUmFuZ2VTZWxlY3RvciIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuX2lzVGltZVJhbmdlU2VsZWN0b3JFbmFibGVkID0gdHJ1ZTsKCiAgICAgIF90aGlzLmVuYWJsZWRVcGRhdGVkJC5uZXh0KHRydWUpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJkaXNhYmxlVGltZVJhbmdlU2VsZWN0b3IiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLl9pc1RpbWVSYW5nZVNlbGVjdG9yRW5hYmxlZCA9IGZhbHNlOwoKICAgICAgX3RoaXMuZW5hYmxlZFVwZGF0ZWQkLm5leHQoZmFsc2UpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJlbmFibGVBdXRvUmVmcmVzaFNlbGVjdG9yIiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5faXNBdXRvUmVmcmVzaFNlbGVjdG9yRW5hYmxlZCA9IHRydWU7CgogICAgICBfdGhpcy5lbmFibGVkVXBkYXRlZCQubmV4dCh0cnVlKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZGlzYWJsZUF1dG9SZWZyZXNoU2VsZWN0b3IiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLl9pc0F1dG9SZWZyZXNoU2VsZWN0b3JFbmFibGVkID0gZmFsc2U7CgogICAgICBfdGhpcy5lbmFibGVkVXBkYXRlZCQubmV4dChmYWxzZSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldEZvcmNlTm93IiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgZm9yY2VOb3cgPSAoMCwgX3BhcnNlX3F1ZXJ5c3RyaW5nLnBhcnNlUXVlcnlTdHJpbmcpKCkuZm9yY2VOb3c7CgogICAgICBpZiAoIWZvcmNlTm93KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgdGlja3MgPSBEYXRlLnBhcnNlKGZvcmNlTm93KTsKCiAgICAgIGlmIChpc05hTih0aWNrcykpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoImZvcmNlTm93IHF1ZXJ5IHBhcmFtZXRlciwgIi5jb25jYXQoZm9yY2VOb3csICIsIGNhbid0IGJlIHBhcnNlZCBieSBEYXRlLnBhcnNlIikpOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IERhdGUodGlja3MpOwogICAgfSk7CgogICAgdGhpcy5faGlzdG9yeSA9IHRpbWVIaXN0b3J5OwogICAgdGhpcy5fdGltZSA9IGNvbmZpZy50aW1lRGVmYXVsdHM7CiAgICB0aGlzLnNldFJlZnJlc2hJbnRlcnZhbChjb25maWcucmVmcmVzaEludGVydmFsRGVmYXVsdHMpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFRpbWVmaWx0ZXIsIFt7CiAgICBrZXk6ICJpc1RpbWVSYW5nZVNlbGVjdG9yRW5hYmxlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNUaW1lUmFuZ2VTZWxlY3RvckVuYWJsZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9pc1RpbWVSYW5nZVNlbGVjdG9yRW5hYmxlZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0F1dG9SZWZyZXNoU2VsZWN0b3JFbmFibGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0F1dG9SZWZyZXNoU2VsZWN0b3JFbmFibGVkKCkgewogICAgICByZXR1cm4gdGhpcy5faXNBdXRvUmVmcmVzaFNlbGVjdG9yRW5hYmxlZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRCb3VuZHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJvdW5kcygpIHsKICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlQm91bmRzKHRoaXMuX3RpbWUpOwogICAgfQogIH0sIHsKICAgIGtleTogImNhbGN1bGF0ZUJvdW5kcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FsY3VsYXRlQm91bmRzKHRpbWVSYW5nZSkgewogICAgICByZXR1cm4gKDAsIF9nZXRfdGltZS5jYWxjdWxhdGVCb3VuZHMpKHRpbWVSYW5nZSwgewogICAgICAgIGZvcmNlTm93OiB0aGlzLmdldEZvcmNlTm93KCkKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0QWN0aXZlQm91bmRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBY3RpdmVCb3VuZHMoKSB7CiAgICAgIGlmICh0aGlzLmlzVGltZVJhbmdlU2VsZWN0b3JFbmFibGVkKCkpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRCb3VuZHMoKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBTaG93IHRoZSB0aW1lIGJvdW5kcyBzZWxlY3RvciBwYXJ0IG9mIHRoZSB0aW1lIGZpbHRlcgogICAgICovCgogIH1dKTsKCiAgcmV0dXJuIFRpbWVmaWx0ZXI7Cn0oKTsKCmV4cG9ydHMuVGltZWZpbHRlciA9IFRpbWVmaWx0ZXI7"},null]}