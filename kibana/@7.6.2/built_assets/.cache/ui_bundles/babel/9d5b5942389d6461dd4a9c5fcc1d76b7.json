{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/watcher/public/np_ready/application/sections/watch_edit/components/threshold_watch_edit/threshold_watch_action_accordion.js","dependencies":[{"path":"x-pack/legacy/plugins/watcher/public/np_ready/application/sections/watch_edit/components/threshold_watch_edit/threshold_watch_action_accordion.js","mtime":1585205048903},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLldhdGNoQWN0aW9uc0FjY29yZGlvbiA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7Cgp2YXIgX2V4ZWN1dGVfZGV0YWlscyA9IHJlcXVpcmUoInBsdWdpbnMvd2F0Y2hlci9ucF9yZWFkeS9hcHBsaWNhdGlvbi9tb2RlbHMvZXhlY3V0ZV9kZXRhaWxzL2V4ZWN1dGVfZGV0YWlscyIpOwoKdmFyIF9hY3Rpb24gPSByZXF1aXJlKCJwbHVnaW5zL3dhdGNoZXIvbnBfcmVhZHkvYXBwbGljYXRpb24vbW9kZWxzL2FjdGlvbiIpOwoKdmFyIF93YXRjaF9oaXN0b3J5X2l0ZW0gPSByZXF1aXJlKCJwbHVnaW5zL3dhdGNoZXIvbnBfcmVhZHkvYXBwbGljYXRpb24vbW9kZWxzL3dhdGNoX2hpc3RvcnlfaXRlbSIpOwoKdmFyIF90aHJlc2hvbGRfd2F0Y2ggPSByZXF1aXJlKCJwbHVnaW5zL3dhdGNoZXIvbnBfcmVhZHkvYXBwbGljYXRpb24vbW9kZWxzL3dhdGNoL3RocmVzaG9sZF93YXRjaCIpOwoKdmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9jb21tb24vY29uc3RhbnRzIik7Cgp2YXIgX3dhdGNoX2NvbnRleHQgPSByZXF1aXJlKCIuLi8uLi93YXRjaF9jb250ZXh0Iik7Cgp2YXIgX2FjdGlvbl9maWVsZHMgPSByZXF1aXJlKCIuL2FjdGlvbl9maWVsZHMiKTsKCnZhciBfYXBpID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vbGliL2FwaSIpOwoKdmFyIF9jb21wb25lbnRzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vY29tcG9uZW50cyIpOwoKdmFyIF9hcHBfY29udGV4dCA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2FwcF9jb250ZXh0Iik7Cgp2YXIgX2FjdGlvbkZpZWxkc0NvbXBvbmVuOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7CiAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgewogICAgcmV0dXJuIG9iajsKICB9IGVsc2UgewogICAgdmFyIG5ld09iaiA9IHt9OwoKICAgIGlmIChvYmogIT0gbnVsbCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsKICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OwoKICAgICAgICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBuZXdPYmouZGVmYXVsdCA9IG9iajsKICAgIHJldHVybiBuZXdPYmo7CiAgfQp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgewogIHZhciBfYXJyID0gW107CiAgdmFyIF9uID0gdHJ1ZTsKICB2YXIgX2QgPSBmYWxzZTsKICB2YXIgX2UgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7CiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7CgogICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZCA9IHRydWU7CiAgICBfZSA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgfQogIH0KCiAgcmV0dXJuIF9hcnI7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOwp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKdmFyIGFjdGlvbkZpZWxkc0NvbXBvbmVudE1hcCA9IChfYWN0aW9uRmllbGRzQ29tcG9uZW4gPSB7fSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25GaWVsZHNDb21wb25lbiwgX2NvbnN0YW50cy5BQ1RJT05fVFlQRVMuTE9HR0lORywgX2FjdGlvbl9maWVsZHMuTG9nZ2luZ0FjdGlvbkZpZWxkcyksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9uRmllbGRzQ29tcG9uZW4sIF9jb25zdGFudHMuQUNUSU9OX1RZUEVTLlNMQUNLLCBfYWN0aW9uX2ZpZWxkcy5TbGFja0FjdGlvbkZpZWxkcyksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9uRmllbGRzQ29tcG9uZW4sIF9jb25zdGFudHMuQUNUSU9OX1RZUEVTLkVNQUlMLCBfYWN0aW9uX2ZpZWxkcy5FbWFpbEFjdGlvbkZpZWxkcyksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9uRmllbGRzQ29tcG9uZW4sIF9jb25zdGFudHMuQUNUSU9OX1RZUEVTLklOREVYLCBfYWN0aW9uX2ZpZWxkcy5JbmRleEFjdGlvbkZpZWxkcyksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9uRmllbGRzQ29tcG9uZW4sIF9jb25zdGFudHMuQUNUSU9OX1RZUEVTLldFQkhPT0ssIF9hY3Rpb25fZmllbGRzLldlYmhvb2tBY3Rpb25GaWVsZHMpLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbkZpZWxkc0NvbXBvbmVuLCBfY29uc3RhbnRzLkFDVElPTl9UWVBFUy5QQUdFUkRVVFksIF9hY3Rpb25fZmllbGRzLlBhZ2VyRHV0eUFjdGlvbkZpZWxkcyksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9uRmllbGRzQ29tcG9uZW4sIF9jb25zdGFudHMuQUNUSU9OX1RZUEVTLkpJUkEsIF9hY3Rpb25fZmllbGRzLkppcmFBY3Rpb25GaWVsZHMpLCBfYWN0aW9uRmllbGRzQ29tcG9uZW4pOwoKdmFyIFdhdGNoQWN0aW9uc0FjY29yZGlvbiA9IGZ1bmN0aW9uIFdhdGNoQWN0aW9uc0FjY29yZGlvbihfcmVmKSB7CiAgdmFyIHNldHRpbmdzID0gX3JlZi5zZXR0aW5ncywKICAgICAgYWN0aW9uRXJyb3JzID0gX3JlZi5hY3Rpb25FcnJvcnM7CgogIHZhciBfdXNlQXBwQ29udGV4dCA9ICgwLCBfYXBwX2NvbnRleHQudXNlQXBwQ29udGV4dCkoKSwKICAgICAgd2F0Y2hBY3Rpb25zQ29uZmlndXJhdGlvbk1hcCA9IF91c2VBcHBDb250ZXh0LmxpbmtzLndhdGNoQWN0aW9uc0NvbmZpZ3VyYXRpb25NYXAsCiAgICAgIHRvYXN0cyA9IF91c2VBcHBDb250ZXh0LnRvYXN0czsKCiAgdmFyIF91c2VDb250ZXh0ID0gKDAsIF9yZWFjdC51c2VDb250ZXh0KShfd2F0Y2hfY29udGV4dC5XYXRjaENvbnRleHQpLAogICAgICB3YXRjaCA9IF91c2VDb250ZXh0LndhdGNoLAogICAgICBzZXRXYXRjaFByb3BlcnR5ID0gX3VzZUNvbnRleHQuc2V0V2F0Y2hQcm9wZXJ0eTsKCiAgdmFyIGFjdGlvbnMgPSB3YXRjaC5hY3Rpb25zOwoKICB2YXIgX3VzZVN0YXRlID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoe30pLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgaXNFeGVjdXRpbmcgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRJc0V4ZWN1dGluZyA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU3RhdGUzID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkobnVsbCksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgZXhlY3V0ZVJlc3VsdHNFcnJvciA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldEV4ZWN1dGVSZXN1bHRzRXJyb3IgPSBfdXNlU3RhdGU0WzFdOwoKICBpZiAoYWN0aW9ucyAmJiBhY3Rpb25zLmxlbmd0aCA+PSAxKSB7CiAgICByZXR1cm4gYWN0aW9ucy5tYXAoZnVuY3Rpb24gKGFjdGlvbikgewogICAgICB2YXIgRmllbGRzQ29tcG9uZW50ID0gYWN0aW9uRmllbGRzQ29tcG9uZW50TWFwW2FjdGlvbi50eXBlXTsKICAgICAgdmFyIGVycm9ycyA9IGFjdGlvbkVycm9yc1thY3Rpb24uaWRdOwogICAgICB2YXIgaGFzRXJyb3JzID0gISFPYmplY3Qua2V5cyhlcnJvcnMpLmZpbmQoZnVuY3Rpb24gKGVycm9yS2V5KSB7CiAgICAgICAgcmV0dXJuIGVycm9yc1tlcnJvcktleV0ubGVuZ3RoID49IDE7CiAgICAgIH0pOwogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUFjY29yZGlvbiwgewogICAgICAgIGluaXRpYWxJc09wZW46IGFjdGlvbi5pc05ldyB8fCBoYXNFcnJvcnMgLy8gSWYgYW4gYWN0aW9uIGNvbnRhaW5zIGVycm9ycyBpbiBlZGl0IG1vZGUsIHdlIHdhbnQgdGhlIGFjY29yZGlvbiBvcGVuIHNvIHRoZSB1c2VyIGlzIGF3YXJlCiAgICAgICAgLAogICAgICAgIGtleTogYWN0aW9uLmlkLAogICAgICAgIGlkOiBhY3Rpb24uaWQsCiAgICAgICAgY2xhc3NOYW1lOiAiZXVpQWNjb3JkaW9uRm9ybSIsCiAgICAgICAgYnV0dG9uQ29udGVudENsYXNzTmFtZTogImV1aUFjY29yZGlvbkZvcm1fX2J1dHRvbiIsCiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogIndhdGNoQWN0aW9uQWNjb3JkaW9uIiwKICAgICAgICBidXR0b25Db250ZW50OiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICAgICAgICBndXR0ZXJTaXplOiAicyIsCiAgICAgICAgICBhbGlnbkl0ZW1zOiAiY2VudGVyIgogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSWNvbiwgewogICAgICAgICAgdHlwZTogYWN0aW9uLmljb25DbGFzcywKICAgICAgICAgIHNpemU6ICJtIgogICAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIHsKICAgICAgICAgIHNpemU6ICJzIiwKICAgICAgICAgIGNsYXNzTmFtZTogImV1aUFjY29yZGlvbkZvcm1fX3RpdGxlIgogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImg2IiwgbnVsbCwgYWN0aW9uLnR5cGVOYW1lKSkpKSwKICAgICAgICBleHRyYUFjdGlvbjogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkljb24sIHsKICAgICAgICAgIGljb25UeXBlOiAiY3Jvc3MiLAogICAgICAgICAgY29sb3I6ICJkYW5nZXIiLAogICAgICAgICAgY2xhc3NOYW1lOiAiZXVpQWNjb3JkaW9uRm9ybV9fZXh0cmFBY3Rpb24iLAogICAgICAgICAgImFyaWEtbGFiZWwiOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sud2F0Y2hlci5zZWN0aW9ucy53YXRjaEVkaXQudGhyZXNob2xkLmFjY29yZGlvbi5kZWxldGVJY29uQXJpYUxhYmVsJywgewogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0RlbGV0ZScKICAgICAgICAgIH0pLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgdmFyIHVwZGF0ZWRBY3Rpb25zID0gYWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGFjdGlvbkl0ZW0pIHsKICAgICAgICAgICAgICByZXR1cm4gYWN0aW9uSXRlbS5pZCAhPT0gYWN0aW9uLmlkOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2V0V2F0Y2hQcm9wZXJ0eSgnYWN0aW9ucycsIHVwZGF0ZWRBY3Rpb25zKTsKICAgICAgICAgIH0KICAgICAgICB9KSwKICAgICAgICBwYWRkaW5nU2l6ZTogImwiCiAgICAgIH0sIGV4ZWN1dGVSZXN1bHRzRXJyb3IgJiYgZXhlY3V0ZVJlc3VsdHNFcnJvclthY3Rpb24uaWRdICYmIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb21wb25lbnRzLlNlY3Rpb25FcnJvciwgewogICAgICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ4cGFjay53YXRjaGVyLnNlY3Rpb25zLndhdGNoRWRpdC50aHJlc2hvbGQuYWNjb3JkaW9uLnNpbXVsYXRlUmVzdWx0c0Vycm9yVGl0bGUiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJFcnJvciB0ZXN0aW5nIGFjdGlvbiIKICAgICAgICB9KSwKICAgICAgICBlcnJvcjogZXhlY3V0ZVJlc3VsdHNFcnJvclthY3Rpb24uaWRdCiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgc2l6ZTogInMiCiAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm0sIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRmllbGRzQ29tcG9uZW50LCB7CiAgICAgICAgYWN0aW9uOiBhY3Rpb24sCiAgICAgICAgZXJyb3JzOiBlcnJvcnMsCiAgICAgICAgaGFzRXJyb3JzOiBoYXNFcnJvcnMsCiAgICAgICAgZWRpdEFjdGlvbjogZnVuY3Rpb24gZWRpdEFjdGlvbihjaGFuZ2VkUHJvcGVydHkpIHsKICAgICAgICAgIHZhciB1cGRhdGVkQWN0aW9ucyA9IGFjdGlvbnMubWFwKGZ1bmN0aW9uIChhY3Rpb25JdGVtKSB7CiAgICAgICAgICAgIGlmIChhY3Rpb25JdGVtLmlkID09PSBhY3Rpb24uaWQpIHsKICAgICAgICAgICAgICB2YXIgQWN0aW9uVHlwZXMgPSBfYWN0aW9uLkFjdGlvbi5nZXRBY3Rpb25UeXBlcygpOwoKICAgICAgICAgICAgICB2YXIgQWN0aW9uVHlwZU1vZGVsID0gQWN0aW9uVHlwZXNbYWN0aW9uLnR5cGVdOwogICAgICAgICAgICAgIHZhciBfa2V5ID0gY2hhbmdlZFByb3BlcnR5LmtleSwKICAgICAgICAgICAgICAgICAgdmFsdWUgPSBjaGFuZ2VkUHJvcGVydHkudmFsdWU7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBY3Rpb25UeXBlTW9kZWwoX29iamVjdFNwcmVhZCh7fSwgYWN0aW9uLCBfZGVmaW5lUHJvcGVydHkoe30sIF9rZXksIHZhbHVlKSkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gYWN0aW9uSXRlbTsKICAgICAgICAgIH0pOwogICAgICAgICAgc2V0V2F0Y2hQcm9wZXJ0eSgnYWN0aW9ucycsIHVwZGF0ZWRBY3Rpb25zKTsKICAgICAgICB9CiAgICAgIH0sIHNldHRpbmdzICYmIHNldHRpbmdzLmFjdGlvblR5cGVzW2FjdGlvbi50eXBlXS5lbmFibGVkID09PSBmYWxzZSA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ2FsbE91dCwgewogICAgICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sud2F0Y2hlci5zZWN0aW9ucy53YXRjaEVkaXQudGhyZXNob2xkLmFjdGlvbnMuYWN0aW9uQ29uZmlndXJhdGlvbldhcm5pbmdUaXRsZVRleHQnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0FjY291bnQgbWF5IG5vdCBiZSBjb25maWd1cmVkJwogICAgICAgIH0pLAogICAgICAgIGNvbG9yOiAid2FybmluZyIsCiAgICAgICAgaWNvblR5cGU6ICJoZWxwIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay53YXRjaGVyLnNlY3Rpb25zLndhdGNoRWRpdC50aHJlc2hvbGQuYWN0aW9ucy5hY3Rpb25Db25maWd1cmF0aW9uV2FybmluZ0Rlc2NyaXB0aW9uVGV4dCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUbyBjcmVhdGUgdGhpcyBhY3Rpb24sIHlvdSBtdXN0IGNvbmZpZ3VyZSBhdCBsZWFzdCBvbmUge2FjY291bnRUeXBlfSBhY2NvdW50LiB7ZG9jTGlua30iLAogICAgICAgIHZhbHVlczogewogICAgICAgICAgYWNjb3VudFR5cGU6IGFjdGlvbi50eXBlTmFtZSwKICAgICAgICAgIGRvY0xpbms6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlMaW5rLCB7CiAgICAgICAgICAgIGhyZWY6IHdhdGNoQWN0aW9uc0NvbmZpZ3VyYXRpb25NYXBbYWN0aW9uLnR5cGVdLAogICAgICAgICAgICB0YXJnZXQ6ICJfYmxhbmsiCiAgICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgICBpZDogInhwYWNrLndhdGNoZXIuc2VjdGlvbnMud2F0Y2hFZGl0LnRocmVzaG9sZC5hY3Rpb25zLmFjdGlvbkNvbmZpZ3VyYXRpb25XYXJuaW5nSGVscExpbmtUZXh0IiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJMZWFybiBtb3JlLiIKICAgICAgICAgIH0pKQogICAgICAgIH0KICAgICAgfSkpKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIG51bGwpKSA6IG51bGwpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uLCB7CiAgICAgICAgdHlwZTogInN1Ym1pdCIsCiAgICAgICAgaXNEaXNhYmxlZDogaGFzRXJyb3JzLAogICAgICAgIGlzTG9hZGluZzogaXNFeGVjdXRpbmdbYWN0aW9uLmlkXSwKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAic2ltdWxhdGVBY3Rpb25CdXR0b24iLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgICB2YXIgc2VsZWN0ZWRXYXRjaEFjdGlvbiwgZXhlY3V0ZURldGFpbHMsIG5ld0V4ZWN1dGVXYXRjaCwgX3JlZjIsIGRhdGEsIGVycm9yLCBmb3JtYXR0ZWRSZXN1bHRzLCBhY3Rpb25TdGF0dXNlcywgYWN0aW9uU3RhdHVzLCBtZXNzYWdlOwoKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkV2F0Y2hBY3Rpb24gPSB3YXRjaC5hY3Rpb25zLmZpbHRlcihmdW5jdGlvbiAod2F0Y2hBY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2F0Y2hBY3Rpb24uaWQgPT09IGFjdGlvbi5pZDsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIGV4ZWN1dGVEZXRhaWxzID0gbmV3IF9leGVjdXRlX2RldGFpbHMuRXhlY3V0ZURldGFpbHMoewogICAgICAgICAgICAgICAgICAgIGlnbm9yZUNvbmRpdGlvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICByZWNvcmRFeGVjdXRpb246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIGFjdGlvbk1vZGVzOiBfZGVmaW5lUHJvcGVydHkoe30sIGFjdGlvbi5pZCwgX2NvbnN0YW50cy5BQ1RJT05fTU9ERVMuRk9SQ0VfRVhFQ1VURSkKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIG5ld0V4ZWN1dGVXYXRjaCA9IG5ldyBfdGhyZXNob2xkX3dhdGNoLlRocmVzaG9sZFdhdGNoKF9vYmplY3RTcHJlYWQoe30sIHdhdGNoLCB7CiAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogc2VsZWN0ZWRXYXRjaEFjdGlvbgogICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgIHNldElzRXhlY3V0aW5nKF9kZWZpbmVQcm9wZXJ0eSh7fSwgYWN0aW9uLmlkLCB0cnVlKSk7CiAgICAgICAgICAgICAgICAgIHNldEV4ZWN1dGVSZXN1bHRzRXJyb3IobnVsbCk7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKCgwLCBfYXBpLmV4ZWN1dGVXYXRjaCkoZXhlY3V0ZURldGFpbHMsIG5ld0V4ZWN1dGVXYXRjaCkpOwoKICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgX3JlZjIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICBkYXRhID0gX3JlZjIuZGF0YTsKICAgICAgICAgICAgICAgICAgZXJyb3IgPSBfcmVmMi5lcnJvcjsKICAgICAgICAgICAgICAgICAgc2V0SXNFeGVjdXRpbmcoX2RlZmluZVByb3BlcnR5KHt9LCBhY3Rpb24uaWQsIGZhbHNlKSk7CgogICAgICAgICAgICAgICAgICBpZiAoIWVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBzZXRFeGVjdXRlUmVzdWx0c0Vycm9yKF9kZWZpbmVQcm9wZXJ0eSh7fSwgYWN0aW9uLmlkLCBlcnJvcikpKTsKCiAgICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRSZXN1bHRzID0gX3dhdGNoX2hpc3RvcnlfaXRlbS5XYXRjaEhpc3RvcnlJdGVtLmZyb21VcHN0cmVhbUpzb24oZGF0YS53YXRjaEhpc3RvcnlJdGVtKTsKICAgICAgICAgICAgICAgICAgYWN0aW9uU3RhdHVzZXMgPSBmb3JtYXR0ZWRSZXN1bHRzLndhdGNoU3RhdHVzLmFjdGlvblN0YXR1c2VzOwogICAgICAgICAgICAgICAgICBhY3Rpb25TdGF0dXMgPSBhY3Rpb25TdGF0dXNlcy5maW5kKGZ1bmN0aW9uIChhY3Rpb25JdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbkl0ZW0uaWQgPT09IGFjdGlvbi5pZDsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBpZiAoIShhY3Rpb25TdGF0dXMgJiYgYWN0aW9uU3RhdHVzLmxhc3RFeGVjdXRpb25TdWNjZXNzZnVsID09PSBmYWxzZSkpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBhY3Rpb25TdGF0dXMubGFzdEV4ZWN1dGlvblJlYXNvbiB8fCBhY3Rpb24uc2ltdWxhdGVGYWlsTWVzc2FnZTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdG9hc3RzLmFkZERhbmdlcihtZXNzYWdlKSk7CgogICAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdG9hc3RzLmFkZFN1Y2Nlc3MoYWN0aW9uLnNpbXVsYXRlTWVzc2FnZSkpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCBhY3Rpb24uc2ltdWxhdGVQcm9tcHQpKSk7CiAgICB9KTsKICB9CgogIHJldHVybiBudWxsOwp9OwoKZXhwb3J0cy5XYXRjaEFjdGlvbnNBY2NvcmRpb24gPSBXYXRjaEFjdGlvbnNBY2NvcmRpb247"},null]}