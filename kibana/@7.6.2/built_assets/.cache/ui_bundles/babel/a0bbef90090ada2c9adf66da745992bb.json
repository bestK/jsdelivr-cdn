{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/console/public/np_ready/lib/mappings/mappings.js","dependencies":[{"path":"src/legacy/core_plugins/console/public/np_ready/lib/mappings/mappings.js","mtime":1585205039224},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX2FwcGxpY2F0aW9uID0gcmVxdWlyZSgiLi4vLi4vYXBwbGljYXRpb24iKTsKCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IH0KCnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7Cgp2YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpOwoKdmFyIGVzID0gcmVxdWlyZSgnLi4vZXMvZXMnKTsgLy8gTk9URTogSWYgdGhpcyB2YWx1ZSBldmVyIGNoYW5nZXMgdG8gYmUgYSBmZXcgc2Vjb25kcyBvciBsZXNzLCBpdCBtaWdodCBpbnRyb2R1Y2UgZmxha2luZXNzCi8vIGR1ZSB0byB0aW1pbmcgaXNzdWVzIGluIG91ciBhcHAuanMgdGVzdHMuCgoKdmFyIFBPTExfSU5URVJWQUwgPSA2MDAwMDsKdmFyIHBvbGxUaW1lb3V0SWQ7CnZhciBwZXJJbmRleFR5cGVzID0ge307CnZhciBwZXJBbGlhc0luZGV4ZXMgPSBbXTsKdmFyIHRlbXBsYXRlcyA9IFtdOwp2YXIgbWFwcGluZ09iaiA9IHt9OwoKZnVuY3Rpb24gZXhwYW5kQWxpYXNlcyhpbmRpY2VzT3JBbGlhc2VzKSB7CiAgLy8gdGFrZXMgYSBsaXN0IG9mIGluZGljZXMgb3IgYWxpYXNlcyBvciBhIHN0cmluZyB3aGljaCBtYXkgYmUgZWl0aGVyIGFuZCByZXR1cm5zIGEgbGlzdCBvZiBpbmRpY2VzCiAgLy8gcmV0dXJucyBhIGxpc3QgZm9yIG11bHRpcGxlIHZhbHVlcyBvciBhIHN0cmluZyBmb3IgYSBzaW5nbGUuCiAgaWYgKCFpbmRpY2VzT3JBbGlhc2VzKSB7CiAgICByZXR1cm4gaW5kaWNlc09yQWxpYXNlczsKICB9CgogIGlmICh0eXBlb2YgaW5kaWNlc09yQWxpYXNlcyA9PT0gJ3N0cmluZycpIHsKICAgIGluZGljZXNPckFsaWFzZXMgPSBbaW5kaWNlc09yQWxpYXNlc107CiAgfQoKICBpbmRpY2VzT3JBbGlhc2VzID0gJC5tYXAoaW5kaWNlc09yQWxpYXNlcywgZnVuY3Rpb24gKGlPckEpIHsKICAgIGlmIChwZXJBbGlhc0luZGV4ZXNbaU9yQV0pIHsKICAgICAgcmV0dXJuIHBlckFsaWFzSW5kZXhlc1tpT3JBXTsKICAgIH0KCiAgICByZXR1cm4gW2lPckFdOwogIH0pOwogIHZhciByZXQgPSBbXS5jb25jYXQuYXBwbHkoW10sIGluZGljZXNPckFsaWFzZXMpOwogIHJldC5zb3J0KCk7CiAgdmFyIGxhc3Q7CiAgcmV0ID0gJC5tYXAocmV0LCBmdW5jdGlvbiAodikgewogICAgdmFyIHIgPSBsYXN0ID09PSB2ID8gbnVsbCA6IHY7CiAgICBsYXN0ID0gdjsKICAgIHJldHVybiByOwogIH0pOwogIHJldHVybiByZXQubGVuZ3RoID4gMSA/IHJldCA6IHJldFswXTsKfQoKZnVuY3Rpb24gZ2V0VGVtcGxhdGVzKCkgewogIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkodGVtcGxhdGVzKTsKfQoKZnVuY3Rpb24gZ2V0RmllbGRzKGluZGljZXMsIHR5cGVzKSB7CiAgLy8gZ2V0IGZpZWxkcyBmb3IgaW5kaWNlcyBhbmQgdHlwZXMuIEJvdGggY2FuIGJlIGEgbGlzdCwgYSBzdHJpbmcgb3IgbnVsbCAobWVhbmluZyBhbGwpLgogIHZhciByZXQgPSBbXTsKICBpbmRpY2VzID0gZXhwYW5kQWxpYXNlcyhpbmRpY2VzKTsKCiAgaWYgKHR5cGVvZiBpbmRpY2VzID09PSAnc3RyaW5nJykgewogICAgdmFyIHR5cGVEaWN0ID0gcGVySW5kZXhUeXBlc1tpbmRpY2VzXTsKCiAgICBpZiAoIXR5cGVEaWN0KSB7CiAgICAgIHJldHVybiBbXTsKICAgIH0KCiAgICBpZiAodHlwZW9mIHR5cGVzID09PSAnc3RyaW5nJykgewogICAgICB2YXIgZiA9IHR5cGVEaWN0W3R5cGVzXTsKICAgICAgcmV0ID0gZiA/IGYgOiBbXTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIGZpbHRlciB3aGF0IHdlIG5lZWQKICAgICAgJC5lYWNoKHR5cGVEaWN0LCBmdW5jdGlvbiAodHlwZSwgZmllbGRzKSB7CiAgICAgICAgaWYgKCF0eXBlcyB8fCB0eXBlcy5sZW5ndGggPT09IDAgfHwgJC5pbkFycmF5KHR5cGUsIHR5cGVzKSAhPT0gLTEpIHsKICAgICAgICAgIHJldC5wdXNoKGZpZWxkcyk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0ID0gW10uY29uY2F0LmFwcGx5KFtdLCByZXQpOwogICAgfQogIH0gZWxzZSB7CiAgICAvLyBtdWx0aSBpbmRleCBtb2RlLgogICAgJC5lYWNoKHBlckluZGV4VHlwZXMsIGZ1bmN0aW9uIChpbmRleCkgewogICAgICBpZiAoIWluZGljZXMgfHwgaW5kaWNlcy5sZW5ndGggPT09IDAgfHwgJC5pbkFycmF5KGluZGV4LCBpbmRpY2VzKSAhPT0gLTEpIHsKICAgICAgICByZXQucHVzaChnZXRGaWVsZHMoaW5kZXgsIHR5cGVzKSk7CiAgICAgIH0KICAgIH0pOwogICAgcmV0ID0gW10uY29uY2F0LmFwcGx5KFtdLCByZXQpOwogIH0KCiAgcmV0dXJuIF8udW5pcShyZXQsIGZ1bmN0aW9uIChmKSB7CiAgICByZXR1cm4gZi5uYW1lICsgJzonICsgZi50eXBlOwogIH0pOwp9CgpmdW5jdGlvbiBnZXRUeXBlcyhpbmRpY2VzKSB7CiAgdmFyIHJldCA9IFtdOwogIGluZGljZXMgPSBleHBhbmRBbGlhc2VzKGluZGljZXMpOwoKICBpZiAodHlwZW9mIGluZGljZXMgPT09ICdzdHJpbmcnKSB7CiAgICB2YXIgdHlwZURpY3QgPSBwZXJJbmRleFR5cGVzW2luZGljZXNdOwoKICAgIGlmICghdHlwZURpY3QpIHsKICAgICAgcmV0dXJuIFtdOwogICAgfSAvLyBmaWx0ZXIgd2hhdCB3ZSBuZWVkCgoKICAgICQuZWFjaCh0eXBlRGljdCwgZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgcmV0LnB1c2godHlwZSk7CiAgICB9KTsKICB9IGVsc2UgewogICAgLy8gbXVsdGkgaW5kZXggbW9kZS4KICAgICQuZWFjaChwZXJJbmRleFR5cGVzLCBmdW5jdGlvbiAoaW5kZXgpIHsKICAgICAgaWYgKCFpbmRpY2VzIHx8ICQuaW5BcnJheShpbmRleCwgaW5kaWNlcykgIT09IC0xKSB7CiAgICAgICAgcmV0LnB1c2goZ2V0VHlwZXMoaW5kZXgpKTsKICAgICAgfQogICAgfSk7CiAgICByZXQgPSBbXS5jb25jYXQuYXBwbHkoW10sIHJldCk7CiAgfQoKICByZXR1cm4gXy51bmlxKHJldCk7Cn0KCmZ1bmN0aW9uIGdldEluZGljZXMoaW5jbHVkZUFsaWFzZXMpIHsKICB2YXIgcmV0ID0gW107CiAgJC5lYWNoKHBlckluZGV4VHlwZXMsIGZ1bmN0aW9uIChpbmRleCkgewogICAgcmV0LnB1c2goaW5kZXgpOwogIH0pOwoKICBpZiAodHlwZW9mIGluY2x1ZGVBbGlhc2VzID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBpbmNsdWRlQWxpYXNlcykgewogICAgJC5lYWNoKHBlckFsaWFzSW5kZXhlcywgZnVuY3Rpb24gKGFsaWFzKSB7CiAgICAgIHJldC5wdXNoKGFsaWFzKTsKICAgIH0pOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKZnVuY3Rpb24gZ2V0RmllbGROYW1lc0Zyb21GaWVsZE1hcHBpbmcoZmllbGROYW1lLCBmaWVsZE1hcHBpbmcpIHsKICBpZiAoZmllbGRNYXBwaW5nLmVuYWJsZWQgPT09IGZhbHNlKSB7CiAgICByZXR1cm4gW107CiAgfQoKICB2YXIgbmVzdGVkRmllbGRzOwoKICBmdW5jdGlvbiBhcHBseVBhdGhTZXR0aW5ncyhuZXN0ZWRGaWVsZE5hbWVzKSB7CiAgICB2YXIgcGF0aFR5cGUgPSBmaWVsZE1hcHBpbmcucGF0aCB8fCAnZnVsbCc7CgogICAgaWYgKHBhdGhUeXBlID09PSAnZnVsbCcpIHsKICAgICAgcmV0dXJuICQubWFwKG5lc3RlZEZpZWxkTmFtZXMsIGZ1bmN0aW9uIChmKSB7CiAgICAgICAgZi5uYW1lID0gZmllbGROYW1lICsgJy4nICsgZi5uYW1lOwogICAgICAgIHJldHVybiBmOwogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gbmVzdGVkRmllbGROYW1lczsKICB9CgogIGlmIChmaWVsZE1hcHBpbmcucHJvcGVydGllcykgewogICAgLy8gZGVyaXZlZCBvYmplY3QgdHlwZQogICAgbmVzdGVkRmllbGRzID0gZ2V0RmllbGROYW1lc0Zyb21Qcm9wZXJ0aWVzKGZpZWxkTWFwcGluZy5wcm9wZXJ0aWVzKTsKICAgIHJldHVybiBhcHBseVBhdGhTZXR0aW5ncyhuZXN0ZWRGaWVsZHMpOwogIH0KCiAgdmFyIGZpZWxkVHlwZSA9IGZpZWxkTWFwcGluZy50eXBlOwogIHZhciByZXQgPSB7CiAgICBuYW1lOiBmaWVsZE5hbWUsCiAgICB0eXBlOiBmaWVsZFR5cGUKICB9OwoKICBpZiAoZmllbGRNYXBwaW5nLmluZGV4X25hbWUpIHsKICAgIHJldC5uYW1lID0gZmllbGRNYXBwaW5nLmluZGV4X25hbWU7CiAgfQoKICBpZiAoZmllbGRNYXBwaW5nLmZpZWxkcykgewogICAgbmVzdGVkRmllbGRzID0gJC5tYXAoZmllbGRNYXBwaW5nLmZpZWxkcywgZnVuY3Rpb24gKGZpZWxkTWFwcGluZywgZmllbGROYW1lKSB7CiAgICAgIHJldHVybiBnZXRGaWVsZE5hbWVzRnJvbUZpZWxkTWFwcGluZyhmaWVsZE5hbWUsIGZpZWxkTWFwcGluZyk7CiAgICB9KTsKICAgIG5lc3RlZEZpZWxkcyA9IGFwcGx5UGF0aFNldHRpbmdzKG5lc3RlZEZpZWxkcyk7CiAgICBuZXN0ZWRGaWVsZHMudW5zaGlmdChyZXQpOwogICAgcmV0dXJuIG5lc3RlZEZpZWxkczsKICB9CgogIHJldHVybiBbcmV0XTsKfQoKZnVuY3Rpb24gZ2V0RmllbGROYW1lc0Zyb21Qcm9wZXJ0aWVzKCkgewogIHZhciBwcm9wZXJ0aWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICB2YXIgZmllbGRMaXN0ID0gJC5tYXAocHJvcGVydGllcywgZnVuY3Rpb24gKGZpZWxkTWFwcGluZywgZmllbGROYW1lKSB7CiAgICByZXR1cm4gZ2V0RmllbGROYW1lc0Zyb21GaWVsZE1hcHBpbmcoZmllbGROYW1lLCBmaWVsZE1hcHBpbmcpOwogIH0pOyAvLyBkZWR1cGluZwoKICByZXR1cm4gXy51bmlxKGZpZWxkTGlzdCwgZnVuY3Rpb24gKGYpIHsKICAgIHJldHVybiBmLm5hbWUgKyAnOicgKyBmLnR5cGU7CiAgfSk7Cn0KCmZ1bmN0aW9uIGxvYWRUZW1wbGF0ZXMoKSB7CiAgdmFyIHRlbXBsYXRlc09iamVjdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgdGVtcGxhdGVzID0gT2JqZWN0LmtleXModGVtcGxhdGVzT2JqZWN0KTsKfQoKZnVuY3Rpb24gbG9hZE1hcHBpbmdzKG1hcHBpbmdzKSB7CiAgcGVySW5kZXhUeXBlcyA9IHt9OwogICQuZWFjaChtYXBwaW5ncywgZnVuY3Rpb24gKGluZGV4LCBpbmRleE1hcHBpbmcpIHsKICAgIHZhciBub3JtYWxpemVkSW5kZXhNYXBwaW5ncyA9IHt9OyAvLyBNaWdyYXRlIDEuMC4wIG1hcHBpbmdzLiBUaGlzIGZvcm1hdCBoYXMgY2hhbmdlZCwgc28gd2UgbmVlZCB0byBleHRyYWN0IHRoZSB1bmRlcmx5aW5nIG1hcHBpbmcuCgogICAgaWYgKGluZGV4TWFwcGluZy5tYXBwaW5ncyAmJiBfLmtleXMoaW5kZXhNYXBwaW5nKS5sZW5ndGggPT09IDEpIHsKICAgICAgaW5kZXhNYXBwaW5nID0gaW5kZXhNYXBwaW5nLm1hcHBpbmdzOwogICAgfQoKICAgICQuZWFjaChpbmRleE1hcHBpbmcsIGZ1bmN0aW9uICh0eXBlTmFtZSwgdHlwZU1hcHBpbmcpIHsKICAgICAgaWYgKHR5cGVOYW1lID09PSAncHJvcGVydGllcycpIHsKICAgICAgICB2YXIgZmllbGRMaXN0ID0gZ2V0RmllbGROYW1lc0Zyb21Qcm9wZXJ0aWVzKHR5cGVNYXBwaW5nKTsKICAgICAgICBub3JtYWxpemVkSW5kZXhNYXBwaW5nc1t0eXBlTmFtZV0gPSBmaWVsZExpc3Q7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbm9ybWFsaXplZEluZGV4TWFwcGluZ3NbdHlwZU5hbWVdID0gW107CiAgICAgIH0KICAgIH0pOwogICAgcGVySW5kZXhUeXBlc1tpbmRleF0gPSBub3JtYWxpemVkSW5kZXhNYXBwaW5nczsKICB9KTsKfQoKZnVuY3Rpb24gbG9hZEFsaWFzZXMoYWxpYXNlcykgewogIHBlckFsaWFzSW5kZXhlcyA9IHt9OwogICQuZWFjaChhbGlhc2VzIHx8IHt9LCBmdW5jdGlvbiAoaW5kZXgsIG9tZGV4QWxpYXNlcykgewogICAgLy8gdmVyaWZ5IHdlIGhhdmUgYW4gaW5kZXggZGVmaW5lZC4gdXNlZnVsIHdoZW4gbWFwcGluZyBsb2FkaW5nIGlzIGRpc2FibGVkCiAgICBwZXJJbmRleFR5cGVzW2luZGV4XSA9IHBlckluZGV4VHlwZXNbaW5kZXhdIHx8IHt9OwogICAgJC5lYWNoKG9tZGV4QWxpYXNlcy5hbGlhc2VzIHx8IHt9LCBmdW5jdGlvbiAoYWxpYXMpIHsKICAgICAgaWYgKGFsaWFzID09PSBpbmRleCkgewogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBhbGlhcyB3aGljaCBpcyBpZGVudGljYWwgdG8gaW5kZXggbWVhbnMgbm8gaW5kZXguCgoKICAgICAgdmFyIGN1ckFsaWFzZXMgPSBwZXJBbGlhc0luZGV4ZXNbYWxpYXNdOwoKICAgICAgaWYgKCFjdXJBbGlhc2VzKSB7CiAgICAgICAgY3VyQWxpYXNlcyA9IFtdOwogICAgICAgIHBlckFsaWFzSW5kZXhlc1thbGlhc10gPSBjdXJBbGlhc2VzOwogICAgICB9CgogICAgICBjdXJBbGlhc2VzLnB1c2goaW5kZXgpOwogICAgfSk7CiAgfSk7CiAgcGVyQWxpYXNJbmRleGVzLl9hbGwgPSBnZXRJbmRpY2VzKGZhbHNlKTsKfQoKZnVuY3Rpb24gY2xlYXIoKSB7CiAgcGVySW5kZXhUeXBlcyA9IHt9OwogIHBlckFsaWFzSW5kZXhlcyA9IHt9OwogIHRlbXBsYXRlcyA9IFtdOwp9CgpmdW5jdGlvbiByZXRyaWV2ZVNldHRpbmdzKHNldHRpbmdzS2V5LCBzZXR0aW5nc1RvUmV0cmlldmUpIHsKICB2YXIgY3VycmVudFNldHRpbmdzID0gKDAsIF9hcHBsaWNhdGlvbi5sZWdhY3lCYWNrRG9vclRvU2V0dGluZ3MpKCkuZ2V0QXV0b2NvbXBsZXRlKCk7CiAgdmFyIHNldHRpbmdLZXlUb1BhdGhNYXAgPSB7CiAgICBmaWVsZHM6ICdfbWFwcGluZycsCiAgICBpbmRpY2VzOiAnX2FsaWFzZXMnLAogICAgdGVtcGxhdGVzOiAnX3RlbXBsYXRlJwogIH07IC8vIEZldGNoIGF1dG9jb21wbGV0ZSBpbmZvIGlmIHNldHRpbmcgaXMgc2V0IHRvIHRydWUsIGFuZCBpZiB1c2VyIGhhcyBtYWRlIGNoYW5nZXMuCgogIGlmIChjdXJyZW50U2V0dGluZ3Nbc2V0dGluZ3NLZXldICYmIHNldHRpbmdzVG9SZXRyaWV2ZVtzZXR0aW5nc0tleV0pIHsKICAgIHJldHVybiBlcy5zZW5kKCdHRVQnLCBzZXR0aW5nS2V5VG9QYXRoTWFwW3NldHRpbmdzS2V5XSwgbnVsbCk7CiAgfSBlbHNlIHsKICAgIHZhciBzZXR0aW5nc1Byb21pc2UgPSBuZXcgJC5EZWZlcnJlZCgpOyAvLyBJZiBhIHVzZXIgaGFzIHNhdmVkIHNldHRpbmdzLCBidXQgYSBmaWVsZCByZW1haW5zIGNoZWNrZWQgYW5kIHVuY2hhbmdlZCwgbm8gbmVlZCB0byBtYWtlIGNoYW5nZXMKCiAgICBpZiAoY3VycmVudFNldHRpbmdzW3NldHRpbmdzS2V5XSkgewogICAgICByZXR1cm4gc2V0dGluZ3NQcm9taXNlLnJlc29sdmUoKTsKICAgIH0gLy8gSWYgdGhlIHVzZXIgZG9lc24ndCB3YW50IGF1dG9jb21wbGV0ZSBzdWdnZXN0aW9ucywgdGhlbiBjbGVhciBhbnkgdGhhdCBleGlzdAoKCiAgICByZXR1cm4gc2V0dGluZ3NQcm9taXNlLnJlc29sdmVXaXRoKHRoaXMsIFtbSlNPTi5zdHJpbmdpZnkoe30pXV0pOwogIH0KfSAvLyBSZXRyaWV2ZSBhbGwgc2VsZWN0ZWQgc2V0dGluZ3MgYnkgZGVmYXVsdC4KLy8gVE9ETzogV2Ugc2hvdWxkIHJlZmFjdG9yIHRoaXMgdG8gYmUgZWFzaWVyIHRvIGNvbnN1bWUuIElkZWFsbHkgdGhpcyBmdW5jdGlvbiBzaG91bGQgcmV0cmlldmUKLy8gd2hhdGV2ZXIgc2V0dGluZ3MgYXJlIHNwZWNpZmllZCwgb3RoZXJ3aXNlIGp1c3QgdXNlIHRoZSBzYXZlZCBzZXR0aW5ncy4gVGhpcyByZXF1aXJlcyBjaGFuZ2luZwovLyB0aGUgYmVoYXZpb3IgdG8gbm90ICpjbGVhciogd2hhdGV2ZXIgc2V0dGluZ3MgaGF2ZSBiZWVuIHVuc2VsZWN0ZWQsIGJ1dCBpdCdzIGhhcmQgdG8gdGVsbCBpZgovLyB0aGlzIGlzIHBvc3NpYmxlIHdpdGhvdXQgYWx0ZXJpbmcgdGhlIGF1dG9jb21wbGV0ZSBiZWhhdmlvci4gVGhlc2UgYXJlIHRoZSBzY2VuYXJpb3Mgd2UgbmVlZCB0bwovLyBzdXBwb3J0OgovLyAgIDEuIE1hbnVhbCByZWZyZXNoLiBTcGVjaWZ5IHdoYXQgd2Ugd2FudC4gRmV0Y2ggc3BlY2lmaWVkLCBsZWF2ZSB1bnNwZWNpZmllZCBhbG9uZS4KLy8gICAyLiBDaGFuZ2VkIHNlbGVjdGlvbiBhbmQgc2F2ZWQ6IFNwZWNpZnkgd2hhdCB3ZSB3YW50LiBGZXRjaCBjaGFuZ2VkIGFuZCBzZWxlY3RlZCwgbGVhdmUKLy8gICAgICB1bmNoYW5nZWQgYWxvbmUgKGJvdGggc2VsZWN0ZWQgYW5kIHVuc2VsZWN0ZWQpLgovLyAgIDMuIFBvbGw6IFVzZSBzYXZlZC4gRmV0Y2ggc2VsZWN0ZWQuIElnbm9yZSB1bnNlbGVjdGVkLgoKCmZ1bmN0aW9uIGNsZWFyU3Vic2NyaXB0aW9ucygpIHsKICBpZiAocG9sbFRpbWVvdXRJZCkgewogICAgY2xlYXJUaW1lb3V0KHBvbGxUaW1lb3V0SWQpOwogIH0KfQoKZnVuY3Rpb24gcmV0cmlldmVBdXRvQ29tcGxldGVJbmZvKCkgewogIHZhciBzZXR0aW5nc1RvUmV0cmlldmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICgwLCBfYXBwbGljYXRpb24ubGVnYWN5QmFja0Rvb3JUb1NldHRpbmdzKSgpLmdldEF1dG9jb21wbGV0ZSgpOwogIGNsZWFyU3Vic2NyaXB0aW9ucygpOwogIHZhciBtYXBwaW5nUHJvbWlzZSA9IHJldHJpZXZlU2V0dGluZ3MoJ2ZpZWxkcycsIHNldHRpbmdzVG9SZXRyaWV2ZSk7CiAgdmFyIGFsaWFzZXNQcm9taXNlID0gcmV0cmlldmVTZXR0aW5ncygnaW5kaWNlcycsIHNldHRpbmdzVG9SZXRyaWV2ZSk7CiAgdmFyIHRlbXBsYXRlc1Byb21pc2UgPSByZXRyaWV2ZVNldHRpbmdzKCd0ZW1wbGF0ZXMnLCBzZXR0aW5nc1RvUmV0cmlldmUpOwogICQud2hlbihtYXBwaW5nUHJvbWlzZSwgYWxpYXNlc1Byb21pc2UsIHRlbXBsYXRlc1Byb21pc2UpLmRvbmUoZnVuY3Rpb24gKG1hcHBpbmdzLCBhbGlhc2VzLCB0ZW1wbGF0ZXMpIHsKICAgIHZhciBtYXBwaW5nc1Jlc3BvbnNlOwoKICAgIGlmIChtYXBwaW5ncykgewogICAgICB2YXIgbWF4TWFwcGluZ1NpemUgPSBtYXBwaW5nc1swXS5sZW5ndGggPiAxMCAqIDEwMjQgKiAxMDI0OwoKICAgICAgaWYgKG1heE1hcHBpbmdTaXplKSB7CiAgICAgICAgY29uc29sZS53YXJuKCJNYXBwaW5nIHNpemUgaXMgbGFyZ2VyIHRoYW4gMTBNQiAoIi5jb25jYXQobWFwcGluZ3NbMF0ubGVuZ3RoIC8gMTAyNCAvIDEwMjQsICIgTUIpLiBJZ25vcmluZy4uLiIpKTsKICAgICAgICBtYXBwaW5nc1Jlc3BvbnNlID0gJ1t7fV0nOwogICAgICB9IGVsc2UgewogICAgICAgIG1hcHBpbmdzUmVzcG9uc2UgPSBtYXBwaW5nc1swXTsKICAgICAgfQoKICAgICAgbG9hZE1hcHBpbmdzKEpTT04ucGFyc2UobWFwcGluZ3NSZXNwb25zZSkpOwogICAgfQoKICAgIGlmIChhbGlhc2VzKSB7CiAgICAgIGxvYWRBbGlhc2VzKEpTT04ucGFyc2UoYWxpYXNlc1swXSkpOwogICAgfQoKICAgIGlmICh0ZW1wbGF0ZXMpIHsKICAgICAgbG9hZFRlbXBsYXRlcyhKU09OLnBhcnNlKHRlbXBsYXRlc1swXSkpOwogICAgfQoKICAgIGlmIChtYXBwaW5ncyAmJiBhbGlhc2VzKSB7CiAgICAgIC8vIFRyaWdnZXIgYW4gdXBkYXRlIGV2ZW50IHdpdGggdGhlIG1hcHBpbmdzLCBhbGlhc2VzCiAgICAgICQobWFwcGluZ09iaikudHJpZ2dlcigndXBkYXRlJywgW21hcHBpbmdzUmVzcG9uc2UsIGFsaWFzZXNbMF1dKTsKICAgIH0gLy8gU2NoZWR1bGUgbmV4dCByZXF1ZXN0LgoKCiAgICBwb2xsVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIC8vIFRoaXMgbG9va3Mgc3RyYW5nZS9pbmVmZmljaWVudCwgYnV0IGl0IGVuc3VyZXMgY29ycmVjdCBiZWhhdmlvciBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdG8gc2VuZAogICAgICAvLyBhIHNjaGVkdWxlZCByZXF1ZXN0IGlmIHRoZSB1c2VyIHR1cm5zIG9mZiBwb2xsaW5nLgogICAgICBpZiAoKDAsIF9hcHBsaWNhdGlvbi5sZWdhY3lCYWNrRG9vclRvU2V0dGluZ3MpKCkuZ2V0UG9sbGluZygpKSB7CiAgICAgICAgcmV0cmlldmVBdXRvQ29tcGxldGVJbmZvKCk7CiAgICAgIH0KICAgIH0sIFBPTExfSU5URVJWQUwpOwogIH0pOwp9Cgp2YXIgX2RlZmF1bHQgPSB7CiAgZ2V0RmllbGRzOiBnZXRGaWVsZHMsCiAgZ2V0VGVtcGxhdGVzOiBnZXRUZW1wbGF0ZXMsCiAgZ2V0SW5kaWNlczogZ2V0SW5kaWNlcywKICBnZXRUeXBlczogZ2V0VHlwZXMsCiAgbG9hZE1hcHBpbmdzOiBsb2FkTWFwcGluZ3MsCiAgbG9hZEFsaWFzZXM6IGxvYWRBbGlhc2VzLAogIGV4cGFuZEFsaWFzZXM6IGV4cGFuZEFsaWFzZXMsCiAgY2xlYXI6IGNsZWFyLAogIHJldHJpZXZlQXV0b0NvbXBsZXRlSW5mbzogcmV0cmlldmVBdXRvQ29tcGxldGVJbmZvLAogIGNsZWFyU3Vic2NyaXB0aW9uczogY2xlYXJTdWJzY3JpcHRpb25zCn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Owptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDs="},null]}