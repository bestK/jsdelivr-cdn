{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/kibana/public/management/sections/objects/lib/resolve_import_errors.js","dependencies":[{"path":"src/legacy/core_plugins/kibana/public/management/sections/objects/lib/resolve_import_errors.js","mtime":1585205039863},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLnJlc29sdmVJbXBvcnRFcnJvcnMgPSByZXNvbHZlSW1wb3J0RXJyb3JzOwoKdmFyIF9rZmV0Y2ggPSByZXF1aXJlKCJ1aS9rZmV0Y2giKTsKCmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gY2FsbFJlc29sdmVJbXBvcnRFcnJvcnNBcGkoZmlsZSwgcmV0cmllcykgewogIHZhciBmb3JtRGF0YTsKICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGNhbGxSZXNvbHZlSW1wb3J0RXJyb3JzQXBpJChfY29udGV4dCkgewogICAgd2hpbGUgKDEpIHsKICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTsKICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncmV0cmllcycsIEpTT04uc3RyaW5naWZ5KHJldHJpZXMpKTsKICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCgoMCwgX2tmZXRjaC5rZmV0Y2gpKHsKICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgIHBhdGhuYW1lOiAnL2FwaS9zYXZlZF9vYmplY3RzL19yZXNvbHZlX2ltcG9ydF9lcnJvcnMnLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgLy8gSW1wb3J0YW50IHRvIGJlIHVuZGVmaW5lZCwgaXQgZm9yY2VzIHByb3BlciBoZWFkZXJzIHRvIGJlIHNldCBmb3IgRm9ybURhdGEKICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJvZHk6IGZvcm1EYXRhCiAgICAgICAgICB9KSk7CgogICAgICAgIGNhc2UgNToKICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0LnNlbnQpOwoKICAgICAgICBjYXNlIDY6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgIH0KICAgIH0KICB9KTsKfQoKZnVuY3Rpb24gbWFwSW1wb3J0RmFpbHVyZVRvUmV0cnlPYmplY3QoX3JlZikgewogIHZhciBmYWlsdXJlID0gX3JlZi5mYWlsdXJlLAogICAgICBvdmVyd3JpdGVEZWNpc2lvbkNhY2hlID0gX3JlZi5vdmVyd3JpdGVEZWNpc2lvbkNhY2hlLAogICAgICByZXBsYWNlUmVmZXJlbmNlc0NhY2hlID0gX3JlZi5yZXBsYWNlUmVmZXJlbmNlc0NhY2hlLAogICAgICBzdGF0ZSA9IF9yZWYuc3RhdGU7CiAgdmFyIGlzT3ZlcndyaXRlQWxsQ2hlY2tlZCA9IHN0YXRlLmlzT3ZlcndyaXRlQWxsQ2hlY2tlZCwKICAgICAgdW5tYXRjaGVkUmVmZXJlbmNlcyA9IHN0YXRlLnVubWF0Y2hlZFJlZmVyZW5jZXM7CiAgdmFyIGlzT3ZlcndyaXRlR3JhbnRlZCA9IGlzT3ZlcndyaXRlQWxsQ2hlY2tlZCB8fCBvdmVyd3JpdGVEZWNpc2lvbkNhY2hlLmdldCgiIi5jb25jYXQoZmFpbHVyZS5vYmoudHlwZSwgIjoiKS5jb25jYXQoZmFpbHVyZS5vYmouaWQpKSA9PT0gdHJ1ZTsgLy8gQ29uZmxpY3RzIHdpaHRvdXQgb3ZlcndyaXRlIGdyYW50ZWQgYXJlIHNraXBwZWQKCiAgaWYgKCFpc092ZXJ3cml0ZUdyYW50ZWQgJiYgZmFpbHVyZS5lcnJvci50eXBlID09PSAnY29uZmxpY3QnKSB7CiAgICByZXR1cm47CiAgfSAvLyBSZXBsYWNlIHJlZmVyZW5jZXMgaWYgdXNlciBjaG9zZSBhIG5ldyByZWZlcmVuY2UKCgogIGlmIChmYWlsdXJlLmVycm9yLnR5cGUgPT09ICdtaXNzaW5nX3JlZmVyZW5jZXMnKSB7CiAgICB2YXIgb2JqUmVwbGFjZVJlZmVyZW5jZXMgPSByZXBsYWNlUmVmZXJlbmNlc0NhY2hlLmdldCgiIi5jb25jYXQoZmFpbHVyZS5vYmoudHlwZSwgIjoiKS5jb25jYXQoZmFpbHVyZS5vYmouaWQpKSB8fCBbXTsKICAgIHZhciBpbmRleFBhdHRlcm5SZWZzID0gZmFpbHVyZS5lcnJvci5yZWZlcmVuY2VzLmZpbHRlcihmdW5jdGlvbiAob2JqKSB7CiAgICAgIHJldHVybiBvYmoudHlwZSA9PT0gJ2luZGV4LXBhdHRlcm4nOwogICAgfSk7CiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTsKICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDsKCiAgICB0cnkgewogICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBpbmRleFBhdHRlcm5SZWZzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkgewogICAgICAgIHZhciByZWZlcmVuY2UgPSBfc3RlcC52YWx1ZTsKICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlOwogICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTsKICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHVubWF0Y2hlZFJlZmVyZW5jZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHsKICAgICAgICAgICAgdmFyIHVubWF0Y2hlZFJlZmVyZW5jZSA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgdmFyIGhhc05ld1ZhbHVlID0gISF1bm1hdGNoZWRSZWZlcmVuY2UubmV3SW5kZXhQYXR0ZXJuSWQ7CiAgICAgICAgICAgIHZhciBtYXRjaGVzSW5kZXhQYXR0ZXJuSWQgPSB1bm1hdGNoZWRSZWZlcmVuY2UuZXhpc3RpbmdJbmRleFBhdHRlcm5JZCA9PT0gcmVmZXJlbmNlLmlkOwoKICAgICAgICAgICAgaWYgKCFoYXNOZXdWYWx1ZSB8fCAhbWF0Y2hlc0luZGV4UGF0dGVybklkKSB7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG9ialJlcGxhY2VSZWZlcmVuY2VzLnB1c2goewogICAgICAgICAgICAgIHR5cGU6ICdpbmRleC1wYXR0ZXJuJywKICAgICAgICAgICAgICBmcm9tOiB1bm1hdGNoZWRSZWZlcmVuY2UuZXhpc3RpbmdJbmRleFBhdHRlcm5JZCwKICAgICAgICAgICAgICB0bzogdW5tYXRjaGVkUmVmZXJlbmNlLm5ld0luZGV4UGF0dGVybklkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTsKICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikgewogICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTsKICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7CiAgICB9IGZpbmFsbHkgewogICAgICB0cnkgewogICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTsKICAgICAgICB9CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7CiAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXBsYWNlUmVmZXJlbmNlc0NhY2hlLnNldCgiIi5jb25jYXQoZmFpbHVyZS5vYmoudHlwZSwgIjoiKS5jb25jYXQoZmFpbHVyZS5vYmouaWQpLCBvYmpSZXBsYWNlUmVmZXJlbmNlcyk7IC8vIFNraXAgaWYgbm90aGluZyB0byByZXBsYWNlLCB0aGUgVUkgb3B0aW9uIHNlbGVjdGVkIHdvdWxkIGJlIC0tU2tpcCBJbXBvcnQtLQoKICAgIGlmIChvYmpSZXBsYWNlUmVmZXJlbmNlcy5sZW5ndGggPT09IDApIHsKICAgICAgcmV0dXJuOwogICAgfQogIH0KCiAgcmV0dXJuIHsKICAgIGlkOiBmYWlsdXJlLm9iai5pZCwKICAgIHR5cGU6IGZhaWx1cmUub2JqLnR5cGUsCiAgICBvdmVyd3JpdGU6IGlzT3ZlcndyaXRlQWxsQ2hlY2tlZCB8fCBvdmVyd3JpdGVEZWNpc2lvbkNhY2hlLmdldCgiIi5jb25jYXQoZmFpbHVyZS5vYmoudHlwZSwgIjoiKS5jb25jYXQoZmFpbHVyZS5vYmouaWQpKSA9PT0gdHJ1ZSwKICAgIHJlcGxhY2VSZWZlcmVuY2VzOiByZXBsYWNlUmVmZXJlbmNlc0NhY2hlLmdldCgiIi5jb25jYXQoZmFpbHVyZS5vYmoudHlwZSwgIjoiKS5jb25jYXQoZmFpbHVyZS5vYmouaWQpKSB8fCBbXQogIH07Cn0KCmZ1bmN0aW9uIHJlc29sdmVJbXBvcnRFcnJvcnMoX3JlZjIpIHsKICB2YXIgZ2V0Q29uZmxpY3RSZXNvbHV0aW9ucywgc3RhdGUsIG92ZXJ3cml0ZURlY2lzaW9uQ2FjaGUsIHJlcGxhY2VSZWZlcmVuY2VzQ2FjaGUsIHN1Y2Nlc3NJbXBvcnRDb3VudCwgX3N0YXRlJGZhaWxlZEltcG9ydHMsIGltcG9ydEZhaWx1cmVzLCBmaWxlLCBpc092ZXJ3cml0ZUFsbENoZWNrZWQsIGRvZXNudEhhdmVPdmVyd3JpdGVEZWNpc2lvbiwgZ2V0T3ZlcndyaXRlRGVjaXNpb24sIGNhbGxNYXBJbXBvcnRGYWlsdXJlLCBpc05vdFNraXBwZWQsIHJlc3VsdCwgX2ksIF9PYmplY3Qka2V5cywga2V5LCByZXRyaWVzLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMywgX2RpZEl0ZXJhdG9yRXJyb3IzLCBfaXRlcmF0b3JFcnJvcjMsIF9sb29wLCBfaXRlcmF0b3IzLCBfc3RlcDMsIF9yZXQsIHJlc3BvbnNlLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCwgX2RpZEl0ZXJhdG9yRXJyb3I0LCBfaXRlcmF0b3JFcnJvcjQsIF9pdGVyYXRvcjQsIF9zdGVwNCwgX3N0ZXA0JHZhbHVlLCBlcnJvciwgb2JqOwoKICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHJlc29sdmVJbXBvcnRFcnJvcnMkKF9jb250ZXh0MikgewogICAgd2hpbGUgKDEpIHsKICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgZ2V0Q29uZmxpY3RSZXNvbHV0aW9ucyA9IF9yZWYyLmdldENvbmZsaWN0UmVzb2x1dGlvbnMsIHN0YXRlID0gX3JlZjIuc3RhdGU7CiAgICAgICAgICBvdmVyd3JpdGVEZWNpc2lvbkNhY2hlID0gbmV3IE1hcCgpOwogICAgICAgICAgcmVwbGFjZVJlZmVyZW5jZXNDYWNoZSA9IG5ldyBNYXAoKTsKICAgICAgICAgIHN1Y2Nlc3NJbXBvcnRDb3VudCA9IHN0YXRlLmltcG9ydENvdW50LCBfc3RhdGUkZmFpbGVkSW1wb3J0cyA9IHN0YXRlLmZhaWxlZEltcG9ydHMsIGltcG9ydEZhaWx1cmVzID0gX3N0YXRlJGZhaWxlZEltcG9ydHMgPT09IHZvaWQgMCA/IFtdIDogX3N0YXRlJGZhaWxlZEltcG9ydHM7CiAgICAgICAgICBmaWxlID0gc3RhdGUuZmlsZSwgaXNPdmVyd3JpdGVBbGxDaGVja2VkID0gc3RhdGUuaXNPdmVyd3JpdGVBbGxDaGVja2VkOwoKICAgICAgICAgIGRvZXNudEhhdmVPdmVyd3JpdGVEZWNpc2lvbiA9IGZ1bmN0aW9uIGRvZXNudEhhdmVPdmVyd3JpdGVEZWNpc2lvbihfcmVmMykgewogICAgICAgICAgICB2YXIgb2JqID0gX3JlZjMub2JqOwogICAgICAgICAgICByZXR1cm4gIW92ZXJ3cml0ZURlY2lzaW9uQ2FjaGUuaGFzKCIiLmNvbmNhdChvYmoudHlwZSwgIjoiKS5jb25jYXQob2JqLmlkKSk7CiAgICAgICAgICB9OwoKICAgICAgICAgIGdldE92ZXJ3cml0ZURlY2lzaW9uID0gZnVuY3Rpb24gZ2V0T3ZlcndyaXRlRGVjaXNpb24oX3JlZjQpIHsKICAgICAgICAgICAgdmFyIG9iaiA9IF9yZWY0Lm9iajsKICAgICAgICAgICAgcmV0dXJuIG92ZXJ3cml0ZURlY2lzaW9uQ2FjaGUuZ2V0KCIiLmNvbmNhdChvYmoudHlwZSwgIjoiKS5jb25jYXQob2JqLmlkKSk7CiAgICAgICAgICB9OwoKICAgICAgICAgIGNhbGxNYXBJbXBvcnRGYWlsdXJlID0gZnVuY3Rpb24gY2FsbE1hcEltcG9ydEZhaWx1cmUoZmFpbHVyZSkgewogICAgICAgICAgICByZXR1cm4gbWFwSW1wb3J0RmFpbHVyZVRvUmV0cnlPYmplY3QoewogICAgICAgICAgICAgIGZhaWx1cmU6IGZhaWx1cmUsCiAgICAgICAgICAgICAgb3ZlcndyaXRlRGVjaXNpb25DYWNoZTogb3ZlcndyaXRlRGVjaXNpb25DYWNoZSwKICAgICAgICAgICAgICByZXBsYWNlUmVmZXJlbmNlc0NhY2hlOiByZXBsYWNlUmVmZXJlbmNlc0NhY2hlLAogICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH07CgogICAgICAgICAgaXNOb3RTa2lwcGVkID0gZnVuY3Rpb24gaXNOb3RTa2lwcGVkKGZhaWx1cmUpIHsKICAgICAgICAgICAgcmV0dXJuIGZhaWx1cmUuZXJyb3IudHlwZSAhPT0gJ2NvbmZsaWN0JyAmJiBmYWlsdXJlLmVycm9yLnR5cGUgIT09ICdtaXNzaW5nX3JlZmVyZW5jZXMnIHx8IGdldE92ZXJ3cml0ZURlY2lzaW9uKGZhaWx1cmUpOwogICAgICAgICAgfTsgLy8gTG9vcCB1bnRpbCBhbGwgaXNzdWVzIGFyZSByZXNvbHZlZAoKCiAgICAgICAgY2FzZSA5OgogICAgICAgICAgaWYgKCFpbXBvcnRGYWlsdXJlcy5zb21lKGZ1bmN0aW9uIChmYWlsdXJlKSB7CiAgICAgICAgICAgIHJldHVybiBbJ2NvbmZsaWN0JywgJ21pc3NpbmdfcmVmZXJlbmNlcyddLmluY2x1ZGVzKGZhaWx1cmUuZXJyb3IudHlwZSk7CiAgICAgICAgICB9KSkgewogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDcyOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaXNPdmVyd3JpdGVBbGxDaGVja2VkKSB7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGdldENvbmZsaWN0UmVzb2x1dGlvbnMoaW1wb3J0RmFpbHVyZXMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmNSkgewogICAgICAgICAgICB2YXIgZXJyb3IgPSBfcmVmNS5lcnJvcjsKICAgICAgICAgICAgcmV0dXJuIGVycm9yLnR5cGUgPT09ICdjb25mbGljdCc7CiAgICAgICAgICB9KS5maWx0ZXIoZG9lc250SGF2ZU92ZXJ3cml0ZURlY2lzaW9uKS5tYXAoZnVuY3Rpb24gKF9yZWY2KSB7CiAgICAgICAgICAgIHZhciBvYmogPSBfcmVmNi5vYmo7CiAgICAgICAgICAgIHJldHVybiBvYmo7CiAgICAgICAgICB9KSkpOwoKICAgICAgICBjYXNlIDEzOgogICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgZm9yIChfaSA9IDAsIF9PYmplY3Qka2V5cyA9IE9iamVjdC5rZXlzKHJlc3VsdCk7IF9pIDwgX09iamVjdCRrZXlzLmxlbmd0aDsgX2krKykgewogICAgICAgICAgICBrZXkgPSBfT2JqZWN0JGtleXNbX2ldOwogICAgICAgICAgICBvdmVyd3JpdGVEZWNpc2lvbkNhY2hlLnNldChrZXksIHJlc3VsdFtrZXldKTsKICAgICAgICAgIH0KCiAgICAgICAgY2FzZSAxNToKICAgICAgICAgIC8vIEJ1aWxkIHJldHJpZXMgYXJyYXkKICAgICAgICAgIHJldHJpZXMgPSBpbXBvcnRGYWlsdXJlcy5tYXAoY2FsbE1hcEltcG9ydEZhaWx1cmUpLmZpbHRlcihmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgICAgIHJldHVybiAhIW9iajsKICAgICAgICAgIH0pOwogICAgICAgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlOwogICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7CiAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7CiAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE5OwoKICAgICAgICAgIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7CiAgICAgICAgICAgIHZhciBfc3RlcDMkdmFsdWUgPSBfc3RlcDMudmFsdWUsCiAgICAgICAgICAgICAgICBlcnJvciA9IF9zdGVwMyR2YWx1ZS5lcnJvciwKICAgICAgICAgICAgICAgIG9iaiA9IF9zdGVwMyR2YWx1ZS5vYmo7CgogICAgICAgICAgICBpZiAoZXJyb3IudHlwZSAhPT0gJ21pc3NpbmdfcmVmZXJlbmNlcycpIHsKICAgICAgICAgICAgICByZXR1cm4gImNvbnRpbnVlIjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFyZXRyaWVzLnNvbWUoZnVuY3Rpb24gKHJldHJ5T2JqKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJldHJ5T2JqLnR5cGUgPT09IG9iai50eXBlICYmIHJldHJ5T2JqLmlkID09PSBvYmouaWQ7CiAgICAgICAgICAgIH0pKSB7CiAgICAgICAgICAgICAgcmV0dXJuICJjb250aW51ZSI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWU7CiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjUgPSBmYWxzZTsKICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yNSA9IHVuZGVmaW5lZDsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNSA9IChlcnJvci5ibG9ja2luZyB8fCBbXSlbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDU7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSAoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWUpIHsKICAgICAgICAgICAgICAgIHZhciBfc3RlcDUkdmFsdWUgPSBfc3RlcDUudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IF9zdGVwNSR2YWx1ZS50eXBlLAogICAgICAgICAgICAgICAgICAgIGlkID0gX3N0ZXA1JHZhbHVlLmlkOwogICAgICAgICAgICAgICAgcmV0cmllcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICAgICAgaWQ6IGlkCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNSA9IHRydWU7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5yZXR1cm4oKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNSkgewogICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9OwoKICAgICAgICAgIF9pdGVyYXRvcjMgPSBpbXBvcnRGYWlsdXJlc1tTeW1ib2wuaXRlcmF0b3JdKCk7CgogICAgICAgIGNhc2UgMjI6CiAgICAgICAgICBpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpIHsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgX3JldCA9IF9sb29wKCk7CgogICAgICAgICAgaWYgKCEoX3JldCA9PT0gImNvbnRpbnVlIikpIHsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyNjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImNvbnRpbnVlIiwgMjYpOwoKICAgICAgICBjYXNlIDI2OgogICAgICAgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlOwogICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMjsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI5OgogICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzNTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDMxOgogICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzMTsKICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxOSk7CiAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlOwogICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gX2NvbnRleHQyLnQwOwoKICAgICAgICBjYXNlIDM1OgogICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzNTsKICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMzY7CgogICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7CiAgICAgICAgICB9CgogICAgICAgIGNhc2UgMzg6CiAgICAgICAgICBfY29udGV4dDIucHJldiA9IDM4OwoKICAgICAgICAgIGlmICghX2RpZEl0ZXJhdG9yRXJyb3IzKSB7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDE7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMzsKCiAgICAgICAgY2FzZSA0MToKICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDM4KTsKCiAgICAgICAgY2FzZSA0MjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDM1KTsKCiAgICAgICAgY2FzZSA0MzoKICAgICAgICAgIGlmICghKHJldHJpZXMubGVuZ3RoID09PSAwKSkgewogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ2OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBDYW5jZWxsZWQgb3ZlcndyaXRlcyBhcmVuJ3QgZmFpbHVyZXMgYW55bW9yZQogICAgICAgICAgaW1wb3J0RmFpbHVyZXMgPSBpbXBvcnRGYWlsdXJlcy5maWx0ZXIoaXNOb3RTa2lwcGVkKTsKICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJicmVhayIsIDcyKTsKCiAgICAgICAgY2FzZSA0NjoKICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDg7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGNhbGxSZXNvbHZlSW1wb3J0RXJyb3JzQXBpKGZpbGUsIHJldHJpZXMpKTsKCiAgICAgICAgY2FzZSA0ODoKICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICBzdWNjZXNzSW1wb3J0Q291bnQgKz0gcmVzcG9uc2Uuc3VjY2Vzc0NvdW50OwogICAgICAgICAgaW1wb3J0RmFpbHVyZXMgPSBbXTsKICAgICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTsKICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlOwogICAgICAgICAgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkOwogICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA1NDsKCiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQgPSAocmVzcG9uc2UuZXJyb3JzIHx8IFtdKVtTeW1ib2wuaXRlcmF0b3JdKCk7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSAoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWUpIHsKICAgICAgICAgICAgX3N0ZXA0JHZhbHVlID0gX3N0ZXA0LnZhbHVlLCBlcnJvciA9IF9zdGVwNCR2YWx1ZS5lcnJvciwgb2JqID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9zdGVwNCR2YWx1ZSwgWyJlcnJvciJdKTsKICAgICAgICAgICAgaW1wb3J0RmFpbHVyZXMucHVzaCh7CiAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLAogICAgICAgICAgICAgIG9iajogb2JqCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjI7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA1ODoKICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNTg7CiAgICAgICAgICBfY29udGV4dDIudDEgPSBfY29udGV4dDJbImNhdGNoIl0oNTQpOwogICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gdHJ1ZTsKICAgICAgICAgIF9pdGVyYXRvckVycm9yNCA9IF9jb250ZXh0Mi50MTsKCiAgICAgICAgY2FzZSA2MjoKICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNjI7CiAgICAgICAgICBfY29udGV4dDIucHJldiA9IDYzOwoKICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpOwogICAgICAgICAgfQoKICAgICAgICBjYXNlIDY1OgogICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA2NTsKCiAgICAgICAgICBpZiAoIV9kaWRJdGVyYXRvckVycm9yNCkgewogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY4OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjQ7CgogICAgICAgIGNhc2UgNjg6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmZpbmlzaCg2NSk7CgogICAgICAgIGNhc2UgNjk6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmZpbmlzaCg2Mik7CgogICAgICAgIGNhc2UgNzA6CiAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA3MjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBpbXBvcnRDb3VudDogc3VjY2Vzc0ltcG9ydENvdW50LAogICAgICAgICAgICBmYWlsZWRJbXBvcnRzOiBpbXBvcnRGYWlsdXJlcwogICAgICAgICAgfSk7CgogICAgICAgIGNhc2UgNzM6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICB9CiAgICB9CiAgfSwgbnVsbCwgbnVsbCwgW1sxOSwgMzEsIDM1LCA0M10sIFszNiwsIDM4LCA0Ml0sIFs1NCwgNTgsIDYyLCA3MF0sIFs2MywsIDY1LCA2OV1dKTsKfQ=="},null]}