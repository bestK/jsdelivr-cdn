{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/ml/public/application/jobs/jobs_list/components/jobs_list/jobs_list.js","dependencies":[{"path":"x-pack/legacy/plugins/ml/public/application/jobs/jobs_list/components/jobs_list/jobs_list.js","mtime":1585205045812},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkpvYnNMaXN0ID0gdm9pZCAwOwoKdmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInByb3AtdHlwZXMiKSk7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX2xvZGFzaCA9IHJlcXVpcmUoImxvZGFzaCIpOwoKdmFyIF9tb21lbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm1vbWVudCIpKTsKCnZhciBfc3RyaW5nX3V0aWxzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vdXRpbC9zdHJpbmdfdXRpbHMiKTsKCnZhciBfam9iX2FjdGlvbnMgPSByZXF1aXJlKCIuLi9qb2JfYWN0aW9ucyIpOwoKdmFyIF9qb2JfZGVzY3JpcHRpb24gPSByZXF1aXJlKCIuL2pvYl9kZXNjcmlwdGlvbiIpOwoKdmFyIF9qb2JfbWVzc2FnZV9pY29uID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9qb2JfbWVzc2FnZV9pY29uIik7Cgp2YXIgX3V0aWxzID0gcmVxdWlyZSgiLi4vdXRpbHMiKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX3JlYWN0MiA9IHJlcXVpcmUoIkBrYm4vaTE4bi9yZWFjdCIpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCnZhciBQQUdFX1NJWkUgPSAxMDsKdmFyIFBBR0VfU0laRV9PUFRJT05TID0gWzEwLCAyNSwgNTBdOwp2YXIgVElNRV9GT1JNQVQgPSAnWVlZWS1NTS1ERCBISDptbTpzcyc7IC8vICdpc01hbmFnZW1lbnRUYWJsZScgYm9vbCBwcm9wIHRvIGRldGVybWluZSB3aGVuIHRvIGNvbmZpZ3VyZSB0YWJsZSBmb3IgdXNlIGluIEtpYmFuYSBtYW5hZ2VtZW50IHBhZ2UKCnZhciBKb2JzTGlzdFVJID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhKb2JzTGlzdFVJLCBfQ29tcG9uZW50KTsKCiAgZnVuY3Rpb24gSm9ic0xpc3RVSShwcm9wcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBKb2JzTGlzdFVJKTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihKb2JzTGlzdFVJKS5jYWxsKHRoaXMsIHByb3BzKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25UYWJsZUNoYW5nZSIsIGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgIHZhciBfcmVmJHBhZ2UgPSBfcmVmLnBhZ2UsCiAgICAgICAgICBwYWdlID0gX3JlZiRwYWdlID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkcGFnZSwKICAgICAgICAgIF9yZWYkc29ydCA9IF9yZWYuc29ydCwKICAgICAgICAgIHNvcnQgPSBfcmVmJHNvcnQgPT09IHZvaWQgMCA/IHt9IDogX3JlZiRzb3J0OwogICAgICB2YXIgcGFnZUluZGV4ID0gcGFnZS5pbmRleCwKICAgICAgICAgIHBhZ2VTaXplID0gcGFnZS5zaXplOwogICAgICB2YXIgc29ydEZpZWxkID0gc29ydC5maWVsZCwKICAgICAgICAgIHNvcnREaXJlY3Rpb24gPSBzb3J0LmRpcmVjdGlvbjsKCiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBwYWdlSW5kZXg6IHBhZ2VJbmRleCwKICAgICAgICBwYWdlU2l6ZTogcGFnZVNpemUsCiAgICAgICAgc29ydEZpZWxkOiBzb3J0RmllbGQsCiAgICAgICAgc29ydERpcmVjdGlvbjogc29ydERpcmVjdGlvbgogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInRvZ2dsZVJvdyIsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIF90aGlzLnByb3BzLnRvZ2dsZVJvdyhpdGVtLmlkKTsKICAgIH0pOwoKICAgIF90aGlzLnN0YXRlID0gewogICAgICBqb2JzU3VtbWFyeUxpc3Q6IHByb3BzLmpvYnNTdW1tYXJ5TGlzdCwKICAgICAgcGFnZUluZGV4OiAwLAogICAgICBwYWdlU2l6ZTogUEFHRV9TSVpFLAogICAgICBpdGVtSWRUb0V4cGFuZGVkUm93TWFwOiB7fSwKICAgICAgc29ydEZpZWxkOiAnaWQnLAogICAgICBzb3J0RGlyZWN0aW9uOiAnYXNjJwogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhKb2JzTGlzdFVJLCBbewogICAga2V5OiAiZ2V0Sm9iSWRMaW5rIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRKb2JJZExpbmsoaWQpIHsKICAgICAgLy8gRG9uJ3QgYWxsb3cgbGluayB0byBqb2IgaWYgTUwgaXMgbm90IGVuYWJsZWQgaW4gY3VycmVudCBzcGFjZQogICAgICBpZiAodGhpcy5wcm9wcy5pc01sRW5hYmxlZEluU3BhY2UgPT09IGZhbHNlKSB7CiAgICAgICAgcmV0dXJuIGlkOwogICAgICB9CgogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxpbmssIHsKICAgICAgICBocmVmOiAoMCwgX3V0aWxzLmdldEpvYklkVXJsKShpZCkKICAgICAgfSwgaWQpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFBhZ2VPZkpvYnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhZ2VPZkpvYnMoaW5kZXgsIHNpemUsIHNvcnRGaWVsZCwgc29ydERpcmVjdGlvbikgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBsaXN0ID0gdGhpcy5zdGF0ZS5qb2JzU3VtbWFyeUxpc3Q7CiAgICAgIGxpc3QgPSAoMCwgX2xvZGFzaC5zb3J0QnkpKHRoaXMuc3RhdGUuam9ic1N1bW1hcnlMaXN0LCBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtW3NvcnRGaWVsZF07CiAgICAgIH0pOwogICAgICBsaXN0ID0gc29ydERpcmVjdGlvbiA9PT0gJ2FzYycgPyBsaXN0IDogbGlzdC5yZXZlcnNlKCk7CiAgICAgIHZhciBsaXN0TGVuZ3RoID0gbGlzdC5sZW5ndGg7CiAgICAgIHZhciBwYWdlU3RhcnQgPSBpbmRleCAqIHNpemU7CgogICAgICBpZiAocGFnZVN0YXJ0ID49IGxpc3RMZW5ndGggJiYgbGlzdExlbmd0aCAhPT0gMCkgewogICAgICAgIC8vIGlmIHRoZSBwYWdlIHN0YXJ0IGlzIGxhcmdlciB0aGFuIHRoZSBudW1iZXIgb2YgaXRlbXMgZHVlIHRvCiAgICAgICAgLy8gZmlsdGVycyBiZWluZyBhcHBsaWVkIG9yIGpvYnMgYmVpbmcgZGVsZXRlZCwgY2FsY3VsYXRlIGEgbmV3IHBhZ2Ugc3RhcnQKICAgICAgICBwYWdlU3RhcnQgPSBNYXRoLmZsb29yKChsaXN0TGVuZ3RoIC0gMSkgLyBzaXplKSAqIHNpemU7IC8vIHNldCB0aGUgc3RhdGUgb3V0IG9mIHRoZSByZW5kZXIgY3ljbGUKCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoewogICAgICAgICAgICBwYWdlSW5kZXg6IHBhZ2VTdGFydCAvIHNpemUKICAgICAgICAgIH0pOwogICAgICAgIH0sIDApOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIHBhZ2VPZkl0ZW1zOiBsaXN0LnNsaWNlKHBhZ2VTdGFydCwgcGFnZVN0YXJ0ICsgc2l6ZSksCiAgICAgICAgdG90YWxJdGVtQ291bnQ6IGxpc3RMZW5ndGgKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLAogICAgICAgICAgaW50bCA9IF90aGlzJHByb3BzLmludGwsCiAgICAgICAgICBsb2FkaW5nID0gX3RoaXMkcHJvcHMubG9hZGluZywKICAgICAgICAgIGlzTWFuYWdlbWVudFRhYmxlID0gX3RoaXMkcHJvcHMuaXNNYW5hZ2VtZW50VGFibGU7CiAgICAgIHZhciBzZWxlY3Rpb25Db250cm9scyA9IHsKICAgICAgICBzZWxlY3RhYmxlOiBmdW5jdGlvbiBzZWxlY3RhYmxlKGpvYikgewogICAgICAgICAgcmV0dXJuIGpvYi5kZWxldGluZyAhPT0gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIHNlbGVjdGFibGVNZXNzYWdlOiBmdW5jdGlvbiBzZWxlY3RhYmxlTWVzc2FnZShzZWxlY3RhYmxlLCByb3dJdGVtKSB7CiAgICAgICAgICByZXR1cm4gc2VsZWN0YWJsZSA9PT0gZmFsc2UgPyBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subWwuam9ic0xpc3QuY2Fubm90U2VsZWN0Um93Rm9ySm9iTWVzc2FnZScsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdDYW5ub3Qgc2VsZWN0IGpvYiBJRCB7am9iSWR9JywKICAgICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgICAgam9iSWQ6IHJvd0l0ZW0uaWQKICAgICAgICAgICAgfQogICAgICAgICAgfSkgOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subWwuam9ic0xpc3Quc2VsZWN0Um93Rm9ySm9iTWVzc2FnZScsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTZWxlY3QgdGhlIHJvdyBmb3Igam9iIElEIHtqb2JJZH0nLAogICAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgICBqb2JJZDogcm93SXRlbS5pZAogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlOiB0aGlzLnByb3BzLnNlbGVjdEpvYkNoYW5nZQogICAgICB9OyAvLyBBZGRpbmcgJ3dpZHRoJyBwcm9wcyB0byBjb2x1bW5zIGZvciB1c2UgaW4gdGhlIEtpYmFuYSBtYW5hZ2VtZW50IGpvYnMgbGlzdCB0YWJsZQogICAgICAvLyBUaGUgdmVyc2lvbiBvZiB0aGUgdGFibGUgdXNlZCBpbiBNTCA+IEpvYiBNYW5hZ21lbnQgZGVwZW5kcyBvbiBtYW55IEVVSSBjbGFzcyBvdmVycmlkZXMgdGhhdCBzZXQgdGhlIHdpZHRoIGV4cGxpY2l0bHkuCiAgICAgIC8vIFRoZSBNTCA+IEpvYiBNYW5hZ21lbnQgdGFibGUgd29uJ3QgY2hhbmdlIGFzIHRoZSBvdmVyd3JpdHRlbiBjbGFzcyBzdHlsZXMgdGFrZSBwcmVjZWRlbmNlLCB0aG91Z2ggdGhlc2UgdmFsdWVzIG1heSBuZWVkIHRvCiAgICAgIC8vIGJlIHVwZGF0ZWQgaWYgd2UgbW92ZSB0byBhbHdheXMgdXNpbmcgcHJvcHMgZm9yIHdpZHRoLgoKICAgICAgdmFyIGNvbHVtbnMgPSBbewogICAgICAgIG5hbWU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTY3JlZW5SZWFkZXJPbmx5LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAieHBhY2subWwuam9ic0xpc3Quc2hvd0RldGFpbHNDb2x1bW4uc2NyZWVuUmVhZGVyRGVzY3JpcHRpb24iLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUaGlzIGNvbHVtbiBjb250YWlucyBjbGlja2FibGUgY29udHJvbHMgZm9yIHNob3dpbmcgbW9yZSBkZXRhaWxzIG9uIGVhY2ggam9iIgogICAgICAgIH0pKSksCiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaXRlbSkgewogICAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b25JY29uLCB7CiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy50b2dnbGVSb3coaXRlbSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlzRGlzYWJsZWQ6IGl0ZW0uZGVsZXRpbmcgPT09IHRydWUsCiAgICAgICAgICAgIGljb25UeXBlOiBfdGhpczMuc3RhdGUuaXRlbUlkVG9FeHBhbmRlZFJvd01hcFtpdGVtLmlkXSA/ICdhcnJvd0Rvd24nIDogJ2Fycm93UmlnaHQnLAogICAgICAgICAgICAiYXJpYS1sYWJlbCI6IF90aGlzMy5zdGF0ZS5pdGVtSWRUb0V4cGFuZGVkUm93TWFwW2l0ZW0uaWRdID8gaW50bC5mb3JtYXRNZXNzYWdlKHsKICAgICAgICAgICAgICBpZDogJ3hwYWNrLm1sLmpvYnNMaXN0LmNvbGxhcHNlSm9iRGV0YWlsc0FyaWFMYWJlbCcsCiAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdIaWRlIGRldGFpbHMgZm9yIHtpdGVtSWR9JwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgaXRlbUlkOiBpdGVtLmlkCiAgICAgICAgICAgIH0pIDogaW50bC5mb3JtYXRNZXNzYWdlKHsKICAgICAgICAgICAgICBpZDogJ3hwYWNrLm1sLmpvYnNMaXN0LmV4cGFuZEpvYkRldGFpbHNBcmlhTGFiZWwnLAogICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2hvdyBkZXRhaWxzIGZvciB7aXRlbUlkfScKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIGl0ZW1JZDogaXRlbS5pZAogICAgICAgICAgICB9KSwKICAgICAgICAgICAgImRhdGEtcm93LWlkIjogaXRlbS5pZCwKICAgICAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogIm1sSm9iTGlzdFJvd0RldGFpbHNUb2dnbGUiCiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHdpZHRoOiAnMyUnCiAgICAgIH0sIHsKICAgICAgICBmaWVsZDogJ2lkJywKICAgICAgICAnZGF0YS10ZXN0LXN1YmonOiAnbWxKb2JMaXN0Q29sdW1uSWQnLAogICAgICAgIG5hbWU6IGludGwuZm9ybWF0TWVzc2FnZSh7CiAgICAgICAgICBpZDogJ3hwYWNrLm1sLmpvYnNMaXN0LmlkTGFiZWwnLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdJRCcKICAgICAgICB9KSwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0cnVuY2F0ZVRleHQ6IGZhbHNlLAogICAgICAgIHdpZHRoOiAnMjAlJywKICAgICAgICBzY29wZTogJ3JvdycsCiAgICAgICAgcmVuZGVyOiBpc01hbmFnZW1lbnRUYWJsZSA/IGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRKb2JJZExpbmsoaWQpOwogICAgICAgIH0gOiB1bmRlZmluZWQKICAgICAgfSwgewogICAgICAgIGZpZWxkOiAnYXVkaXRNZXNzYWdlJywKICAgICAgICBuYW1lOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU2NyZWVuUmVhZGVyT25seSwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInhwYWNrLm1sLmpvYnNMaXN0LmF1ZGl0TWVzc2FnZUNvbHVtbi5zY3JlZW5SZWFkZXJEZXNjcmlwdGlvbiIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlRoaXMgY29sdW1uIGRpc3BsYXkgaWNvbnMgd2hlbiB0aGVyZSBhcmUgZXJyb3JzIG9yIHdhcm5pbmdzIGZvciB0aGUgam9iIGluIHRoZSBwYXN0IDI0IGhvdXJzIgogICAgICAgIH0pKSksCiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaXRlbSkgewogICAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2pvYl9tZXNzYWdlX2ljb24uSm9iSWNvbiwgewogICAgICAgICAgICBtZXNzYWdlOiBpdGVtLAogICAgICAgICAgICBzaG93VG9vbHRpcDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgbmFtZTogaW50bC5mb3JtYXRNZXNzYWdlKHsKICAgICAgICAgIGlkOiAneHBhY2subWwuam9ic0xpc3QuZGVzY3JpcHRpb25MYWJlbCcsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0Rlc2NyaXB0aW9uJwogICAgICAgIH0pLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIGZpZWxkOiAnZGVzY3JpcHRpb24nLAogICAgICAgICdkYXRhLXRlc3Qtc3Viaic6ICdtbEpvYkxpc3RDb2x1bW5EZXNjcmlwdGlvbicsCiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoZGVzY3JpcHRpb24sIGl0ZW0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycwogICAgICAgICkgewogICAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2pvYl9kZXNjcmlwdGlvbi5Kb2JEZXNjcmlwdGlvbiwgewogICAgICAgICAgICBqb2I6IGl0ZW0KICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgdGV4dE9ubHk6IHRydWUsCiAgICAgICAgd2lkdGg6ICcyMCUnCiAgICAgIH0sIHsKICAgICAgICBmaWVsZDogJ3Byb2Nlc3NlZF9yZWNvcmRfY291bnQnLAogICAgICAgICdkYXRhLXRlc3Qtc3Viaic6ICdtbEpvYkxpc3RDb2x1bW5SZWNvcmRDb3VudCcsCiAgICAgICAgbmFtZTogaW50bC5mb3JtYXRNZXNzYWdlKHsKICAgICAgICAgIGlkOiAneHBhY2subWwuam9ic0xpc3QucHJvY2Vzc2VkUmVjb3Jkc0xhYmVsJywKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUHJvY2Vzc2VkIHJlY29yZHMnCiAgICAgICAgfSksCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdHJ1bmNhdGVUZXh0OiBmYWxzZSwKICAgICAgICBkYXRhVHlwZTogJ251bWJlcicsCiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoY291bnQpIHsKICAgICAgICAgIHJldHVybiAoMCwgX3N0cmluZ191dGlscy50b0xvY2FsZVN0cmluZykoY291bnQpOwogICAgICAgIH0sCiAgICAgICAgd2lkdGg6ICcxMCUnCiAgICAgIH0sIHsKICAgICAgICBmaWVsZDogJ21lbW9yeV9zdGF0dXMnLAogICAgICAgICdkYXRhLXRlc3Qtc3Viaic6ICdtbEpvYkxpc3RDb2x1bW5NZW1vcnlTdGF0dXMnLAogICAgICAgIG5hbWU6IGludGwuZm9ybWF0TWVzc2FnZSh7CiAgICAgICAgICBpZDogJ3hwYWNrLm1sLmpvYnNMaXN0Lm1lbW9yeVN0YXR1c0xhYmVsJywKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTWVtb3J5IHN0YXR1cycKICAgICAgICB9KSwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0cnVuY2F0ZVRleHQ6IGZhbHNlLAogICAgICAgIHdpZHRoOiAnNSUnCiAgICAgIH0sIHsKICAgICAgICBmaWVsZDogJ2pvYlN0YXRlJywKICAgICAgICAnZGF0YS10ZXN0LXN1YmonOiAnbWxKb2JMaXN0Q29sdW1uSm9iU3RhdGUnLAogICAgICAgIG5hbWU6IGludGwuZm9ybWF0TWVzc2FnZSh7CiAgICAgICAgICBpZDogJ3hwYWNrLm1sLmpvYnNMaXN0LmpvYlN0YXRlTGFiZWwnLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdKb2Igc3RhdGUnCiAgICAgICAgfSksCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdHJ1bmNhdGVUZXh0OiBmYWxzZSwKICAgICAgICB3aWR0aDogJzglJwogICAgICB9LCB7CiAgICAgICAgZmllbGQ6ICdkYXRhZmVlZFN0YXRlJywKICAgICAgICAnZGF0YS10ZXN0LXN1YmonOiAnbWxKb2JMaXN0Q29sdW1uRGF0YWZlZWRTdGF0ZScsCiAgICAgICAgbmFtZTogaW50bC5mb3JtYXRNZXNzYWdlKHsKICAgICAgICAgIGlkOiAneHBhY2subWwuam9ic0xpc3QuZGF0YWZlZWRTdGF0ZUxhYmVsJywKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRGF0YWZlZWQgc3RhdGUnCiAgICAgICAgfSksCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdHJ1bmNhdGVUZXh0OiBmYWxzZSwKICAgICAgICB3aWR0aDogJzglJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogaW50bC5mb3JtYXRNZXNzYWdlKHsKICAgICAgICAgIGlkOiAneHBhY2subWwuam9ic0xpc3QuYWN0aW9uc0xhYmVsJywKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQWN0aW9ucycKICAgICAgICB9KSwKICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihpdGVtKSB7CiAgICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfam9iX2FjdGlvbnMuUmVzdWx0TGlua3MsIHsKICAgICAgICAgICAgam9iczogW2l0ZW1dCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH1dOwoKICAgICAgaWYgKGlzTWFuYWdlbWVudFRhYmxlID09PSB0cnVlKSB7CiAgICAgICAgLy8gaW5zZXJ0IGJlZm9yZSBsYXN0IGNvbHVtbgogICAgICAgIGNvbHVtbnMuc3BsaWNlKGNvbHVtbnMubGVuZ3RoIC0gMSwgMCwgewogICAgICAgICAgbmFtZTogaW50bC5mb3JtYXRNZXNzYWdlKHsKICAgICAgICAgICAgaWQ6ICd4cGFjay5tbC5qb2JzTGlzdC5zcGFjZXNMYWJlbCcsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU3BhY2VzJwogICAgICAgICAgfSksCiAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCYWRnZSwgewogICAgICAgICAgICAgIGNvbG9yOiAnaG9sbG93JwogICAgICAgICAgICB9LCAnYWxsJyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7IC8vIFJlbW92ZSBhY3Rpb25zIGlmIE1sIG5vdCBlbmFibGVkIGluIGN1cnJlbnQgc3BhY2UKCiAgICAgICAgaWYgKHRoaXMucHJvcHMuaXNNbEVuYWJsZWRJblNwYWNlID09PSBmYWxzZSkgewogICAgICAgICAgY29sdW1ucy5wb3AoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gaW5zZXJ0IGJlZm9yZSBsYXN0IGNvbHVtbgogICAgICAgIGNvbHVtbnMuc3BsaWNlKGNvbHVtbnMubGVuZ3RoIC0gMSwgMCwgewogICAgICAgICAgbmFtZTogaW50bC5mb3JtYXRNZXNzYWdlKHsKICAgICAgICAgICAgaWQ6ICd4cGFjay5tbC5qb2JzTGlzdC5sYXRlc3RUaW1lc3RhbXBMYWJlbCcsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTGF0ZXN0IHRpbWVzdGFtcCcKICAgICAgICAgIH0pLAogICAgICAgICAgdHJ1bmNhdGVUZXh0OiBmYWxzZSwKICAgICAgICAgIGZpZWxkOiAnbGF0ZXN0VGltZXN0YW1wU29ydFZhbHVlJywKICAgICAgICAgICdkYXRhLXRlc3Qtc3Viaic6ICdtbEpvYkxpc3RDb2x1bW5MYXRlc3RUaW1lc3RhbXAnLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcih0aW1lLCBpdGVtIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKICAgICAgICAgICkgewogICAgICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsKICAgICAgICAgICAgICBjbGFzc05hbWU6ICJldWlUYWJsZUNlbGxDb250ZW50X190ZXh0IgogICAgICAgICAgICB9LCBpdGVtLmxhdGVzdFRpbWVzdGFtcE1zID09PSB1bmRlZmluZWQgPyAnJyA6ICgwLCBfbW9tZW50LmRlZmF1bHQpKGl0ZW0ubGF0ZXN0VGltZXN0YW1wTXMpLmZvcm1hdChUSU1FX0ZPUk1BVCkpOwogICAgICAgICAgfSwKICAgICAgICAgIHRleHRPbmx5OiB0cnVlLAogICAgICAgICAgd2lkdGg6ICcxNSUnCiAgICAgICAgfSk7CiAgICAgICAgY29sdW1ucy5wdXNoKHsKICAgICAgICAgIG5hbWU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTY3JlZW5SZWFkZXJPbmx5LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgICAgaWQ6ICJ4cGFjay5tbC5qb2JzTGlzdC5qb2JBY3Rpb25zQ29sdW1uLnNjcmVlblJlYWRlckRlc2NyaXB0aW9uIiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUaGlzIGNvbHVtbiBjb250YWlucyBleHRyYSBhY3Rpb25zIGluIGEgbWVudSB0aGF0IGNhbiBiZSBwZXJmb3JtZWQgb24gZWFjaCBqb2IiCiAgICAgICAgICB9KSkpLAogICAgICAgICAgYWN0aW9uczogKDAsIF9qb2JfYWN0aW9ucy5hY3Rpb25zTWVudUNvbnRlbnQpKHRoaXMucHJvcHMuc2hvd0VkaXRKb2JGbHlvdXQsIHRoaXMucHJvcHMuc2hvd0RlbGV0ZUpvYk1vZGFsLCB0aGlzLnByb3BzLnNob3dTdGFydERhdGFmZWVkTW9kYWwsIHRoaXMucHJvcHMucmVmcmVzaEpvYnMpCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsCiAgICAgICAgICBwYWdlSW5kZXggPSBfdGhpcyRzdGF0ZS5wYWdlSW5kZXgsCiAgICAgICAgICBwYWdlU2l6ZSA9IF90aGlzJHN0YXRlLnBhZ2VTaXplLAogICAgICAgICAgc29ydEZpZWxkID0gX3RoaXMkc3RhdGUuc29ydEZpZWxkLAogICAgICAgICAgc29ydERpcmVjdGlvbiA9IF90aGlzJHN0YXRlLnNvcnREaXJlY3Rpb247CgogICAgICB2YXIgX3RoaXMkZ2V0UGFnZU9mSm9icyA9IHRoaXMuZ2V0UGFnZU9mSm9icyhwYWdlSW5kZXgsIHBhZ2VTaXplLCBzb3J0RmllbGQsIHNvcnREaXJlY3Rpb24pLAogICAgICAgICAgcGFnZU9mSXRlbXMgPSBfdGhpcyRnZXRQYWdlT2ZKb2JzLnBhZ2VPZkl0ZW1zLAogICAgICAgICAgdG90YWxJdGVtQ291bnQgPSBfdGhpcyRnZXRQYWdlT2ZKb2JzLnRvdGFsSXRlbUNvdW50OwoKICAgICAgdmFyIHBhZ2luYXRpb24gPSB7CiAgICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXgsCiAgICAgICAgcGFnZVNpemU6IHBhZ2VTaXplLAogICAgICAgIHRvdGFsSXRlbUNvdW50OiB0b3RhbEl0ZW1Db3VudCwKICAgICAgICBwYWdlU2l6ZU9wdGlvbnM6IFBBR0VfU0laRV9PUFRJT05TCiAgICAgIH07CiAgICAgIHZhciBzb3J0aW5nID0gewogICAgICAgIHNvcnQ6IHsKICAgICAgICAgIGZpZWxkOiBzb3J0RmllbGQsCiAgICAgICAgICBkaXJlY3Rpb246IHNvcnREaXJlY3Rpb24KICAgICAgICB9CiAgICAgIH07CiAgICAgIHZhciBzZWxlY3RlZEpvYnNDbGFzcyA9IHRoaXMucHJvcHMuc2VsZWN0ZWRKb2JzQ291bnQgPyAnam9icy1zZWxlY3RlZCcgOiAnJzsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCYXNpY1RhYmxlLCB7CiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogbG9hZGluZyA/ICdtbEpvYkxpc3RUYWJsZSBsb2FkaW5nJyA6ICdtbEpvYkxpc3RUYWJsZSBsb2FkZWQnLAogICAgICAgIGxvYWRpbmc6IGxvYWRpbmcgPT09IHRydWUsCiAgICAgICAgbm9JdGVtc01lc3NhZ2U6IGxvYWRpbmcgPyBpbnRsLmZvcm1hdE1lc3NhZ2UoewogICAgICAgICAgaWQ6ICd4cGFjay5tbC5qb2JzTGlzdC5sb2FkaW5nSm9ic0xhYmVsJywKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTG9hZGluZyBqb2Jz4oCmJwogICAgICAgIH0pIDogaW50bC5mb3JtYXRNZXNzYWdlKHsKICAgICAgICAgIGlkOiAneHBhY2subWwuam9ic0xpc3Qubm9Kb2JzRm91bmRMYWJlbCcsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ05vIGpvYnMgZm91bmQnCiAgICAgICAgfSksCiAgICAgICAgaXRlbUlkOiAiaWQiLAogICAgICAgIGNsYXNzTmFtZTogImpvYnMtbGlzdC10YWJsZSAiLmNvbmNhdChzZWxlY3RlZEpvYnNDbGFzcyksCiAgICAgICAgaXRlbXM6IHBhZ2VPZkl0ZW1zLAogICAgICAgIGNvbHVtbnM6IGNvbHVtbnMsCiAgICAgICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvbiwKICAgICAgICBvbkNoYW5nZTogdGhpcy5vblRhYmxlQ2hhbmdlLAogICAgICAgIHNlbGVjdGlvbjogaXNNYW5hZ2VtZW50VGFibGUgPyB1bmRlZmluZWQgOiBzZWxlY3Rpb25Db250cm9scywKICAgICAgICBpdGVtSWRUb0V4cGFuZGVkUm93TWFwOiB0aGlzLnN0YXRlLml0ZW1JZFRvRXhwYW5kZWRSb3dNYXAsCiAgICAgICAgaXNFeHBhbmRhYmxlOiB0cnVlLAogICAgICAgIHNvcnRpbmc6IHNvcnRpbmcsCiAgICAgICAgaGFzQWN0aW9uczogdHJ1ZSwKICAgICAgICByb3dQcm9wczogZnVuY3Rpb24gcm93UHJvcHMoaXRlbSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgJ2RhdGEtdGVzdC1zdWJqJzogIm1sSm9iTGlzdFJvdyByb3ctIi5jb25jYXQoaXRlbS5pZCkKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9XSwgW3sKICAgIGtleTogImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzKSB7CiAgICAgIHZhciBpdGVtSWRUb0V4cGFuZGVkUm93TWFwID0gcHJvcHMuaXRlbUlkVG9FeHBhbmRlZFJvd01hcDsKICAgICAgdmFyIGpvYnNTdW1tYXJ5TGlzdCA9IHByb3BzLmpvYnNTdW1tYXJ5TGlzdDsKICAgICAgcmV0dXJuIHsKICAgICAgICBpdGVtSWRUb0V4cGFuZGVkUm93TWFwOiBpdGVtSWRUb0V4cGFuZGVkUm93TWFwLAogICAgICAgIGpvYnNTdW1tYXJ5TGlzdDogam9ic1N1bW1hcnlMaXN0CiAgICAgIH07CiAgICB9CiAgfV0pOwoKICByZXR1cm4gSm9ic0xpc3RVSTsKfShfcmVhY3QuQ29tcG9uZW50KTsKCkpvYnNMaXN0VUkucHJvcFR5cGVzID0gewogIGpvYnNTdW1tYXJ5TGlzdDogX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5LmlzUmVxdWlyZWQsCiAgZnVsbEpvYnNMaXN0OiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsCiAgaXNNYW5hZ2VtZW50VGFibGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLAogIGlzTWxFbmFibGVkSW5TcGFjZTogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsCiAgaXRlbUlkVG9FeHBhbmRlZFJvd01hcDogX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLAogIHRvZ2dsZVJvdzogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCwKICBzZWxlY3RKb2JDaGFuZ2U6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsCiAgc2hvd0VkaXRKb2JGbHlvdXQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLAogIHNob3dEZWxldGVKb2JNb2RhbDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsCiAgc2hvd1N0YXJ0RGF0YWZlZWRNb2RhbDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsCiAgcmVmcmVzaEpvYnM6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLAogIHNlbGVjdGVkSm9ic0NvdW50OiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLmlzUmVxdWlyZWQsCiAgbG9hZGluZzogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wKfTsKSm9ic0xpc3RVSS5kZWZhdWx0UHJvcHMgPSB7CiAgaXNNYW5hZ2VtZW50VGFibGU6IGZhbHNlLAogIGlzTWxFbmFibGVkSW5TcGFjZTogdHJ1ZSwKICBsb2FkaW5nOiBmYWxzZQp9Owp2YXIgSm9ic0xpc3QgPSAoMCwgX3JlYWN0Mi5pbmplY3RJMThuKShKb2JzTGlzdFVJKTsKZXhwb3J0cy5Kb2JzTGlzdCA9IEpvYnNMaXN0Ow=="},null]}