{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/kibana/public/management/sections/index_patterns/create_index_pattern_wizard/components/step_time_field/step_time_field.js","dependencies":[{"path":"src/legacy/core_plugins/kibana/public/management/sections/index_patterns/create_index_pattern_wizard/components/step_time_field/step_time_field.js","mtime":1585205039795},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlN0ZXBUaW1lRmllbGQgPSB2b2lkIDA7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicHJvcC10eXBlcyIpKTsKCnZhciBfbGliID0gcmVxdWlyZSgiLi4vLi4vbGliIik7Cgp2YXIgX2hlYWRlciA9IHJlcXVpcmUoIi4vY29tcG9uZW50cy9oZWFkZXIiKTsKCnZhciBfdGltZV9maWVsZCA9IHJlcXVpcmUoIi4vY29tcG9uZW50cy90aW1lX2ZpZWxkIik7Cgp2YXIgX2FkdmFuY2VkX29wdGlvbnMgPSByZXF1aXJlKCIuL2NvbXBvbmVudHMvYWR2YW5jZWRfb3B0aW9ucyIpOwoKdmFyIF9hY3Rpb25fYnV0dG9ucyA9IHJlcXVpcmUoIi4vY29tcG9uZW50cy9hY3Rpb25fYnV0dG9ucyIpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gIltvYmplY3QgQXJndW1lbnRzXSIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCnZhciBTdGVwVGltZUZpZWxkID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhTdGVwVGltZUZpZWxkLCBfQ29tcG9uZW50KTsKCiAgZnVuY3Rpb24gU3RlcFRpbWVGaWVsZChwcm9wcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGVwVGltZUZpZWxkKTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihTdGVwVGltZUZpZWxkKS5jYWxsKHRoaXMsIHByb3BzKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAibW91bnRlZCIsIGZhbHNlKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJmZXRjaFRpbWVGaWVsZHMiLCBmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMsIGluZGV4UGF0dGVybnNTZXJ2aWNlLCBwYXR0ZXJuLCBnZXRGZXRjaEZvcldpbGRjYXJkT3B0aW9ucywgaW5kZXhQYXR0ZXJuLCBmaWVsZHMsIHRpbWVGaWVsZHM7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsIGluZGV4UGF0dGVybnNTZXJ2aWNlID0gX3RoaXMkcHJvcHMuaW5kZXhQYXR0ZXJuc1NlcnZpY2UsIHBhdHRlcm4gPSBfdGhpcyRwcm9wcy5pbmRleFBhdHRlcm47CiAgICAgICAgICAgICAgZ2V0RmV0Y2hGb3JXaWxkY2FyZE9wdGlvbnMgPSBfdGhpcy5wcm9wcy5pbmRleFBhdHRlcm5DcmVhdGlvblR5cGUuZ2V0RmV0Y2hGb3JXaWxkY2FyZE9wdGlvbnM7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChpbmRleFBhdHRlcm5zU2VydmljZS5tYWtlKCkpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGluZGV4UGF0dGVybiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgaW5kZXhQYXR0ZXJuLnRpdGxlID0gcGF0dGVybjsKCiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgaXNGZXRjaGluZ1RpbWVGaWVsZHM6IHRydWUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCgoMCwgX2xpYi5lbnN1cmVNaW5pbXVtVGltZSkoaW5kZXhQYXR0ZXJuLmZpZWxkc0ZldGNoZXIuZmV0Y2hGb3JXaWxkY2FyZChwYXR0ZXJuLCBnZXRGZXRjaEZvcldpbGRjYXJkT3B0aW9ucygpKSkpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGZpZWxkcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgdGltZUZpZWxkcyA9ICgwLCBfbGliLmV4dHJhY3RUaW1lRmllbGRzKShmaWVsZHMpOwoKICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICB0aW1lRmllbGRzOiB0aW1lRmllbGRzLAogICAgICAgICAgICAgICAgaXNGZXRjaGluZ1RpbWVGaWVsZHM6IGZhbHNlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9uVGltZUZpZWxkQ2hhbmdlZCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlOyAvLyBGaW5kIHRoZSB0aW1lIGZpZWxkIGJhc2VkIG9uIHRoZSBzZWxlY3RlZCB2YWx1ZQoKICAgICAgdmFyIHRpbWVGaWVsZCA9IF90aGlzLnN0YXRlLnRpbWVGaWVsZHMuZmluZChmdW5jdGlvbiAodGltZUZpZWxkKSB7CiAgICAgICAgcmV0dXJuIHRpbWVGaWVsZC5maWVsZE5hbWUgPT09IHZhbHVlOwogICAgICB9KTsgLy8gSWYgdGhlIHZhbHVlIGlzIGFuIGVtcHR5IHN0cmluZywgaXQncyBub3QgYSB2YWxpZCBzZWxlY3Rpb24KCgogICAgICB2YXIgdmFsaWRTZWxlY3Rpb24gPSB2YWx1ZSAhPT0gJyc7CgogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgc2VsZWN0ZWRUaW1lRmllbGQ6IHRpbWVGaWVsZCA/IHRpbWVGaWVsZC5maWVsZE5hbWUgOiB1bmRlZmluZWQsCiAgICAgICAgdGltZUZpZWxkU2V0OiB2YWxpZFNlbGVjdGlvbgogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9uQ2hhbmdlSW5kZXhQYXR0ZXJuSWQiLCBmdW5jdGlvbiAoZSkgewogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgaW5kZXhQYXR0ZXJuSWQ6IGUudGFyZ2V0LnZhbHVlCiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAidG9nZ2xlQWR2YW5jZWRPcHRpb25zIiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaXNBZHZhbmNlZE9wdGlvbnNWaXNpYmxlOiAhc3RhdGUuaXNBZHZhbmNlZE9wdGlvbnNWaXNpYmxlCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJjcmVhdGVJbmRleFBhdHRlcm4iLCBmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNyZWF0ZUluZGV4UGF0dGVybiwgX3RoaXMkc3RhdGUsIHNlbGVjdGVkVGltZUZpZWxkLCBpbmRleFBhdHRlcm5JZDsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNyZWF0ZUluZGV4UGF0dGVybiA9IF90aGlzLnByb3BzLmNyZWF0ZUluZGV4UGF0dGVybjsKICAgICAgICAgICAgICBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLCBzZWxlY3RlZFRpbWVGaWVsZCA9IF90aGlzJHN0YXRlLnNlbGVjdGVkVGltZUZpZWxkLCBpbmRleFBhdHRlcm5JZCA9IF90aGlzJHN0YXRlLmluZGV4UGF0dGVybklkOwoKICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBpc0NyZWF0aW5nOiB0cnVlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMzsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChjcmVhdGVJbmRleFBhdHRlcm4oc2VsZWN0ZWRUaW1lRmllbGQsIGluZGV4UGF0dGVybklkKSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDg7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDMpOwoKICAgICAgICAgICAgICBpZiAoX3RoaXMubW91bnRlZCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQyLnQwIGluc3RhbmNlb2YgRXJyb3IgPyBfY29udGV4dDIudDAubWVzc2FnZSA6IFN0cmluZyhfY29udGV4dDIudDApLAogICAgICAgICAgICAgICAgaXNDcmVhdGluZzogZmFsc2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCBudWxsLCBbWzMsIDhdXSk7CiAgICB9KTsKCiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgZXJyb3I6ICcnLAogICAgICB0aW1lRmllbGRzOiBbXSwKICAgICAgc2VsZWN0ZWRUaW1lRmllbGQ6IHVuZGVmaW5lZCwKICAgICAgdGltZUZpZWxkU2V0OiBmYWxzZSwKICAgICAgaXNBZHZhbmNlZE9wdGlvbnNWaXNpYmxlOiBmYWxzZSwKICAgICAgaXNGZXRjaGluZ1RpbWVGaWVsZHM6IGZhbHNlLAogICAgICBpc0NyZWF0aW5nOiBmYWxzZSwKICAgICAgaW5kZXhQYXR0ZXJuSWQ6ICcnLAogICAgICBpbmRleFBhdHRlcm5UeXBlOiBwcm9wcy5pbmRleFBhdHRlcm5DcmVhdGlvblR5cGUuZ2V0SW5kZXhQYXR0ZXJuVHlwZSgpLAogICAgICBpbmRleFBhdHRlcm5OYW1lOiBwcm9wcy5pbmRleFBhdHRlcm5DcmVhdGlvblR5cGUuZ2V0SW5kZXhQYXR0ZXJuTmFtZSgpCiAgICB9OwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFN0ZXBUaW1lRmllbGQsIFt7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIHRoaXMubW91bnRlZCA9IHRydWU7CiAgICAgIHRoaXMuZmV0Y2hUaW1lRmllbGRzKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50V2lsbFVubW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgICB0aGlzLm1vdW50ZWQgPSBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmb3JtYXRFcnJvck1lc3NhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdEVycm9yTWVzc2FnZShtZXNzYWdlKSB7CiAgICAgIC8vIGBjcmVhdGVJbmRleFBhdHRlcm5gIHRocm93cyAiQ29uZmxpY3QiIHdoZW4gaW5kZXggcGF0dGVybiBJRCBhbHJlYWR5IGV4aXN0cy4KICAgICAgcmV0dXJuIG1lc3NhZ2UgPT09ICdDb25mbGljdCcgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAia2JuLm1hbmFnZW1lbnQuY3JlYXRlSW5kZXhQYXR0ZXJuLnN0ZXBUaW1lLnBhdHRlckFscmVhZHlFeGlzdHMiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ3VzdG9tIGluZGV4IHBhdHRlcm4gSUQgYWxyZWFkeSBleGlzdHMuIgogICAgICB9KSA6IG1lc3NhZ2U7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0ZTIgPSB0aGlzLnN0YXRlLAogICAgICAgICAgdGltZUZpZWxkcyA9IF90aGlzJHN0YXRlMi50aW1lRmllbGRzLAogICAgICAgICAgc2VsZWN0ZWRUaW1lRmllbGQgPSBfdGhpcyRzdGF0ZTIuc2VsZWN0ZWRUaW1lRmllbGQsCiAgICAgICAgICB0aW1lRmllbGRTZXQgPSBfdGhpcyRzdGF0ZTIudGltZUZpZWxkU2V0LAogICAgICAgICAgaXNBZHZhbmNlZE9wdGlvbnNWaXNpYmxlID0gX3RoaXMkc3RhdGUyLmlzQWR2YW5jZWRPcHRpb25zVmlzaWJsZSwKICAgICAgICAgIGluZGV4UGF0dGVybklkID0gX3RoaXMkc3RhdGUyLmluZGV4UGF0dGVybklkLAogICAgICAgICAgaXNDcmVhdGluZyA9IF90aGlzJHN0YXRlMi5pc0NyZWF0aW5nLAogICAgICAgICAgaXNGZXRjaGluZ1RpbWVGaWVsZHMgPSBfdGhpcyRzdGF0ZTIuaXNGZXRjaGluZ1RpbWVGaWVsZHMsCiAgICAgICAgICBpbmRleFBhdHRlcm5OYW1lID0gX3RoaXMkc3RhdGUyLmluZGV4UGF0dGVybk5hbWU7CgogICAgICBpZiAoaXNDcmVhdGluZykgewogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUGFuZWwsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgICAgICAgIGFsaWduSXRlbXM6ICJjZW50ZXIiCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgICBncm93OiBmYWxzZQogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlMb2FkaW5nU3Bpbm5lciwgbnVsbCkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICAgIGdyb3c6IGZhbHNlCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRleHQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogImtibi5tYW5hZ2VtZW50LmNyZWF0ZUluZGV4UGF0dGVybi5zdGVwVGltZS5jcmVhdGluZ0xhYmVsIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ3JlYXRpbmcgaW5kZXggcGF0dGVyblx1MjAyNiIKICAgICAgICB9KSkpKSk7CiAgICAgIH0KCiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLAogICAgICAgICAgaW5kZXhQYXR0ZXJuID0gX3RoaXMkcHJvcHMyLmluZGV4UGF0dGVybiwKICAgICAgICAgIGdvVG9QcmV2aW91c1N0ZXAgPSBfdGhpcyRwcm9wczIuZ29Ub1ByZXZpb3VzU3RlcDsKICAgICAgdmFyIHRpbWVGaWVsZE9wdGlvbnMgPSB0aW1lRmllbGRzID8gW3sKICAgICAgICB0ZXh0OiAnJywKICAgICAgICB2YWx1ZTogJycKICAgICAgfV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aW1lRmllbGRzLm1hcChmdW5jdGlvbiAodGltZUZpZWxkKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRleHQ6IHRpbWVGaWVsZC5kaXNwbGF5LAogICAgICAgICAgdmFsdWU6IHRpbWVGaWVsZC5maWVsZE5hbWUsCiAgICAgICAgICBkaXNhYmxlZDogdGltZUZpZWxkcy5pc0Rpc2FibGVkCiAgICAgICAgfTsKICAgICAgfSkpKSA6IFtdOwogICAgICB2YXIgc2hvd1RpbWVGaWVsZCA9ICF0aW1lRmllbGRzIHx8IHRpbWVGaWVsZHMubGVuZ3RoID4gMTsKICAgICAgdmFyIHN1Ym1pdHRhYmxlID0gIXNob3dUaW1lRmllbGQgfHwgdGltZUZpZWxkU2V0OwogICAgICB2YXIgZXJyb3IgPSB0aGlzLnN0YXRlLmVycm9yID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNhbGxPdXQsIHsKICAgICAgICB0aXRsZTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAia2JuLm1hbmFnZW1lbnQuY3JlYXRlSW5kZXhQYXR0ZXJuLnN0ZXBUaW1lLmVycm9yIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRXJyb3IiCiAgICAgICAgfSksCiAgICAgICAgY29sb3I6ICJkYW5nZXIiLAogICAgICAgIGljb25UeXBlOiAiY3Jvc3MiCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInAiLCBudWxsLCB0aGlzLmZvcm1hdEVycm9yTWVzc2FnZSh0aGlzLnN0YXRlLmVycm9yKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgc2l6ZTogIm0iCiAgICAgIH0pKSA6IG51bGw7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUGFuZWwsIHsKICAgICAgICBwYWRkaW5nU2l6ZTogImwiCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2hlYWRlci5IZWFkZXIsIHsKICAgICAgICBpbmRleFBhdHRlcm46IGluZGV4UGF0dGVybiwKICAgICAgICBpbmRleFBhdHRlcm5OYW1lOiBpbmRleFBhdHRlcm5OYW1lCiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgc2l6ZTogIm0iCiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF90aW1lX2ZpZWxkLlRpbWVGaWVsZCwgewogICAgICAgIGlzVmlzaWJsZTogc2hvd1RpbWVGaWVsZCwKICAgICAgICBmZXRjaFRpbWVGaWVsZHM6IHRoaXMuZmV0Y2hUaW1lRmllbGRzLAogICAgICAgIHRpbWVGaWVsZE9wdGlvbnM6IHRpbWVGaWVsZE9wdGlvbnMsCiAgICAgICAgaXNMb2FkaW5nOiBpc0ZldGNoaW5nVGltZUZpZWxkcywKICAgICAgICBzZWxlY3RlZFRpbWVGaWVsZDogc2VsZWN0ZWRUaW1lRmllbGQsCiAgICAgICAgb25UaW1lRmllbGRDaGFuZ2VkOiB0aGlzLm9uVGltZUZpZWxkQ2hhbmdlZAogICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJzIgogICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfYWR2YW5jZWRfb3B0aW9ucy5BZHZhbmNlZE9wdGlvbnMsIHsKICAgICAgICBpc1Zpc2libGU6IGlzQWR2YW5jZWRPcHRpb25zVmlzaWJsZSwKICAgICAgICBpbmRleFBhdHRlcm5JZDogaW5kZXhQYXR0ZXJuSWQsCiAgICAgICAgdG9nZ2xlQWR2YW5jZWRPcHRpb25zOiB0aGlzLnRvZ2dsZUFkdmFuY2VkT3B0aW9ucywKICAgICAgICBvbkNoYW5nZUluZGV4UGF0dGVybklkOiB0aGlzLm9uQ2hhbmdlSW5kZXhQYXR0ZXJuSWQKICAgICAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgICAgICBzaXplOiAibSIKICAgICAgfSksIGVycm9yLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hY3Rpb25fYnV0dG9ucy5BY3Rpb25CdXR0b25zLCB7CiAgICAgICAgZ29Ub1ByZXZpb3VzU3RlcDogZ29Ub1ByZXZpb3VzU3RlcCwKICAgICAgICBzdWJtaXR0YWJsZTogc3VibWl0dGFibGUsCiAgICAgICAgY3JlYXRlSW5kZXhQYXR0ZXJuOiB0aGlzLmNyZWF0ZUluZGV4UGF0dGVybgogICAgICB9KSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU3RlcFRpbWVGaWVsZDsKfShfcmVhY3QuQ29tcG9uZW50KTsKCmV4cG9ydHMuU3RlcFRpbWVGaWVsZCA9IFN0ZXBUaW1lRmllbGQ7CgpfZGVmaW5lUHJvcGVydHkoU3RlcFRpbWVGaWVsZCwgInByb3BUeXBlcyIsIHsKICBpbmRleFBhdHRlcm46IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCwKICBpbmRleFBhdHRlcm5zU2VydmljZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLAogIGdvVG9QcmV2aW91c1N0ZXA6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsCiAgY3JlYXRlSW5kZXhQYXR0ZXJuOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIGluZGV4UGF0dGVybkNyZWF0aW9uVHlwZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkCn0pOw=="},null]}