{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/remote_clusters/public/app/sections/remote_cluster_edit/remote_cluster_edit.js","dependencies":[{"path":"x-pack/legacy/plugins/remote_clusters/public/app/sections/remote_cluster_edit/remote_cluster_edit.js","mtime":1585205046648},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlJlbW90ZUNsdXN0ZXJFZGl0ID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInByb3AtdHlwZXMiKSk7Cgp2YXIgX3JlYWN0MiA9IHJlcXVpcmUoIkBrYm4vaTE4bi9yZWFjdCIpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgiLi4vLi4vY29uc3RhbnRzIik7Cgp2YXIgX3NlcnZpY2VzID0gcmVxdWlyZSgiLi4vLi4vc2VydmljZXMiKTsKCnZhciBfYnJlYWRjcnVtYiA9IHJlcXVpcmUoIi4uLy4uL3NlcnZpY2VzL2JyZWFkY3J1bWIiKTsKCnZhciBfY29tcG9uZW50cyA9IHJlcXVpcmUoIi4uL2NvbXBvbmVudHMiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCnZhciBkaXNhYmxlZEZpZWxkcyA9IHsKICBuYW1lOiB0cnVlCn07Cgp2YXIgUmVtb3RlQ2x1c3RlckVkaXQgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKFJlbW90ZUNsdXN0ZXJFZGl0LCBfQ29tcG9uZW50KTsKCiAgZnVuY3Rpb24gUmVtb3RlQ2x1c3RlckVkaXQocHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVtb3RlQ2x1c3RlckVkaXQpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFJlbW90ZUNsdXN0ZXJFZGl0KS5jYWxsKHRoaXMsIHByb3BzKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic2F2ZSIsIGZ1bmN0aW9uIChjbHVzdGVyQ29uZmlnKSB7CiAgICAgIF90aGlzLnByb3BzLmVkaXRDbHVzdGVyKGNsdXN0ZXJDb25maWcpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY2FuY2VsIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgb3BlbkRldGFpbFBhbmVsID0gX3RoaXMucHJvcHMub3BlbkRldGFpbFBhbmVsOwogICAgICB2YXIgY2x1c3Rlck5hbWUgPSBfdGhpcy5zdGF0ZS5jbHVzdGVyTmFtZTsKCiAgICAgIHZhciBfZ2V0Um91dGVyID0gKDAsIF9zZXJ2aWNlcy5nZXRSb3V0ZXIpKCksCiAgICAgICAgICBoaXN0b3J5ID0gX2dldFJvdXRlci5oaXN0b3J5LAogICAgICAgICAgc2VhcmNoID0gX2dldFJvdXRlci5yb3V0ZS5sb2NhdGlvbi5zZWFyY2g7CgogICAgICB2YXIgX2V4dHJhY3RRdWVyeVBhcmFtcyA9ICgwLCBfc2VydmljZXMuZXh0cmFjdFF1ZXJ5UGFyYW1zKShzZWFyY2gpLAogICAgICAgICAgcmVkaXJlY3RVcmwgPSBfZXh0cmFjdFF1ZXJ5UGFyYW1zLnJlZGlyZWN0OwoKICAgICAgaWYgKHJlZGlyZWN0VXJsKSB7CiAgICAgICAgdmFyIGRlY29kZWRSZWRpcmVjdCA9IGRlY29kZVVSSUNvbXBvbmVudChyZWRpcmVjdFVybCk7CiAgICAgICAgKDAsIF9zZXJ2aWNlcy5yZWRpcmVjdCkoZGVjb2RlZFJlZGlyZWN0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBoaXN0b3J5LnB1c2goX2NvbnN0YW50cy5DUlVEX0FQUF9CQVNFX1BBVEgpOwogICAgICAgIG9wZW5EZXRhaWxQYW5lbChjbHVzdGVyTmFtZSk7CiAgICAgIH0KICAgIH0pOwoKICAgIHZhciBuYW1lID0gcHJvcHMubWF0Y2gucGFyYW1zLm5hbWU7CiAgICAoMCwgX2JyZWFkY3J1bWIuc2V0QnJlYWRjcnVtYnMpKCdlZGl0JywgIj9jbHVzdGVyPSIuY29uY2F0KG5hbWUpKTsKICAgIF90aGlzLnN0YXRlID0gewogICAgICBjbHVzdGVyTmFtZTogbmFtZQogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhSZW1vdGVDbHVzdGVyRWRpdCwgW3sKICAgIGtleTogImNvbXBvbmVudERpZE1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHsKICAgICAgdmFyIHN0YXJ0RWRpdGluZ0NsdXN0ZXIgPSB0aGlzLnByb3BzLnN0YXJ0RWRpdGluZ0NsdXN0ZXI7CiAgICAgIHZhciBjbHVzdGVyTmFtZSA9IHRoaXMuc3RhdGUuY2x1c3Rlck5hbWU7CiAgICAgIHN0YXJ0RWRpdGluZ0NsdXN0ZXIoY2x1c3Rlck5hbWUpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudFdpbGxVbm1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsKICAgICAgLy8gQ2xlYW4gdXAgYWZ0ZXIgb3Vyc2VsdmVzLgogICAgICB0aGlzLnByb3BzLmNsZWFyRWRpdENsdXN0ZXJFcnJvcnMoKTsKICAgICAgdGhpcy5wcm9wcy5zdG9wRWRpdGluZ0NsdXN0ZXIoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXJDb250ZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJDb250ZW50KCkgewogICAgICB2YXIgY2x1c3Rlck5hbWUgPSB0aGlzLnN0YXRlLmNsdXN0ZXJOYW1lOwogICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLAogICAgICAgICAgaXNMb2FkaW5nID0gX3RoaXMkcHJvcHMuaXNMb2FkaW5nLAogICAgICAgICAgY2x1c3RlciA9IF90aGlzJHByb3BzLmNsdXN0ZXIsCiAgICAgICAgICBpc0VkaXRpbmdDbHVzdGVyID0gX3RoaXMkcHJvcHMuaXNFZGl0aW5nQ2x1c3RlciwKICAgICAgICAgIGdldEVkaXRDbHVzdGVyRXJyb3IgPSBfdGhpcyRwcm9wcy5nZXRFZGl0Q2x1c3RlckVycm9yOwoKICAgICAgaWYgKGlzTG9hZGluZykgewogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogImZsZXhTdGFydCIsCiAgICAgICAgICBhbGlnbkl0ZW1zOiAiY2VudGVyIiwKICAgICAgICAgIGd1dHRlclNpemU6ICJzIgogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTG9hZGluZ1NwaW5uZXIsIHsKICAgICAgICAgIHNpemU6ICJtIgogICAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgICBncm93OiBmYWxzZQogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUZXh0LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dENvbG9yLCB7CiAgICAgICAgICBjb2xvcjogInN1YmR1ZWQiCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAieHBhY2sucmVtb3RlQ2x1c3RlcnMuZWRpdC5sb2FkaW5nTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJMb2FkaW5nIHJlbW90ZSBjbHVzdGVyLi4uIgogICAgICAgIH0pKSkpKTsKICAgICAgfQoKICAgICAgaWYgKCFjbHVzdGVyKSB7CiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ2FsbE91dCwgewogICAgICAgICAgdGl0bGU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICAgIGlkOiAieHBhY2sucmVtb3RlQ2x1c3RlcnMuZWRpdC5sb2FkaW5nRXJyb3JUaXRsZSIsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRXJyb3IgbG9hZGluZyByZW1vdGUgY2x1c3RlciIKICAgICAgICAgIH0pLAogICAgICAgICAgY29sb3I6ICJkYW5nZXIiLAogICAgICAgICAgaWNvblR5cGU6ICJhbGVydCIKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ4cGFjay5yZW1vdGVDbHVzdGVycy5lZGl0LmxvYWRpbmdFcnJvck1lc3NhZ2UiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUaGUgcmVtb3RlIGNsdXN0ZXIgJ3tuYW1lfScgZG9lcyBub3QgZXhpc3QuIiwKICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICBuYW1lOiBjbHVzdGVyTmFtZQogICAgICAgICAgfQogICAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgICAgc2l6ZTogIm0iCiAgICAgICAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uRW1wdHksIF9leHRlbmRzKHt9LCAoMCwgX3NlcnZpY2VzLmdldFJvdXRlckxpbmtQcm9wcykoX2NvbnN0YW50cy5DUlVEX0FQUF9CQVNFX1BBVEgpLCB7CiAgICAgICAgICBpY29uVHlwZTogImFycm93TGVmdCIsCiAgICAgICAgICBmbHVzaDogImxlZnQiCiAgICAgICAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInhwYWNrLnJlbW90ZUNsdXN0ZXJzLmVkaXQudmlld1JlbW90ZUNsdXN0ZXJzQnV0dG9uTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJWaWV3IHJlbW90ZSBjbHVzdGVycyIKICAgICAgICB9KSkpKSk7CiAgICAgIH0KCiAgICAgIHZhciBpc0NvbmZpZ3VyZWRCeU5vZGUgPSBjbHVzdGVyLmlzQ29uZmlndXJlZEJ5Tm9kZTsKCiAgICAgIGlmIChpc0NvbmZpZ3VyZWRCeU5vZGUpIHsKICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHMuQ29uZmlndXJlZEJ5Tm9kZVdhcm5pbmcsIG51bGwpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgICBzaXplOiAicyIKICAgICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICAgICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICAgICAgb25DbGljazogdGhpcy5jYW5jZWwKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ4cGFjay5yZW1vdGVDbHVzdGVycy5lZGl0LmJhY2tUb1JlbW90ZUNsdXN0ZXJzQnV0dG9uTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJCYWNrIHRvIHJlbW90ZSBjbHVzdGVycyIKICAgICAgICB9KSkpOwogICAgICB9CgogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY29tcG9uZW50cy5SZW1vdGVDbHVzdGVyRm9ybSwgewogICAgICAgIGZpZWxkczogY2x1c3RlciwKICAgICAgICBkaXNhYmxlZEZpZWxkczogZGlzYWJsZWRGaWVsZHMsCiAgICAgICAgaXNTYXZpbmc6IGlzRWRpdGluZ0NsdXN0ZXIsCiAgICAgICAgc2F2ZUVycm9yOiBnZXRFZGl0Q2x1c3RlckVycm9yLAogICAgICAgIHNhdmU6IHRoaXMuc2F2ZSwKICAgICAgICBjYW5jZWw6IHRoaXMuY2FuY2VsCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVBhZ2VDb250ZW50LCB7CiAgICAgICAgaG9yaXpvbnRhbFBvc2l0aW9uOiAiY2VudGVyIiwKICAgICAgICBjbGFzc05hbWU6ICJyZW1vdGVDbHVzdGVyQWRkUGFnZSIKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY29tcG9uZW50cy5SZW1vdGVDbHVzdGVyUGFnZVRpdGxlLCB7CiAgICAgICAgdGl0bGU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInhwYWNrLnJlbW90ZUNsdXN0ZXJzLmVkaXRUaXRsZSIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkVkaXQgcmVtb3RlIGNsdXN0ZXIiCiAgICAgICAgfSkKICAgICAgfSksIHRoaXMucmVuZGVyQ29udGVudCgpKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBSZW1vdGVDbHVzdGVyRWRpdDsKfShfcmVhY3QuQ29tcG9uZW50KTsKCmV4cG9ydHMuUmVtb3RlQ2x1c3RlckVkaXQgPSBSZW1vdGVDbHVzdGVyRWRpdDsKCl9kZWZpbmVQcm9wZXJ0eShSZW1vdGVDbHVzdGVyRWRpdCwgInByb3BUeXBlcyIsIHsKICBpc0xvYWRpbmc6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLAogIGNsdXN0ZXI6IF9wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3QsCiAgc3RhcnRFZGl0aW5nQ2x1c3RlcjogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsCiAgc3RvcEVkaXRpbmdDbHVzdGVyOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYywKICBlZGl0Q2x1c3RlcjogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsCiAgaXNFZGl0aW5nQ2x1c3RlcjogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsCiAgZ2V0RWRpdENsdXN0ZXJFcnJvcjogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywKICBjbGVhckVkaXRDbHVzdGVyRXJyb3JzOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYywKICBvcGVuRGV0YWlsUGFuZWw6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jCn0pOw=="},null]}