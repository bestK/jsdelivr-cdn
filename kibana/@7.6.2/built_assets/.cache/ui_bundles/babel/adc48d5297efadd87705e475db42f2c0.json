{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/snapshot_restore/public/app/components/restore_snapshot_form/steps/step_settings.js","dependencies":[{"path":"x-pack/legacy/plugins/snapshot_restore/public/app/components/restore_snapshot_form/steps/step_settings.js","mtime":1585205048223},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlJlc3RvcmVTbmFwc2hvdFN0ZXBTZXR0aW5ncyA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoIi4uLy4uLy4uL2NvbnN0YW50cyIpOwoKdmFyIF9kb2N1bWVudGF0aW9uID0gcmVxdWlyZSgiLi4vLi4vLi4vc2VydmljZXMvZG9jdW1lbnRhdGlvbiIpOwoKdmFyIF9pbmRleCA9IHJlcXVpcmUoIi4uLy4uLy4uL2luZGV4Iik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgewogIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gIltvYmplY3QgQXJndW1lbnRzXSIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgewogICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgYXJyMltpXSA9IGFycltpXTsKICAgIH0KCiAgICByZXR1cm4gYXJyMjsKICB9Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCnZhciBSZXN0b3JlU25hcHNob3RTdGVwU2V0dGluZ3MgPSBmdW5jdGlvbiBSZXN0b3JlU25hcHNob3RTdGVwU2V0dGluZ3MoX3JlZikgewogIHZhciByZXN0b3JlU2V0dGluZ3MgPSBfcmVmLnJlc3RvcmVTZXR0aW5ncywKICAgICAgdXBkYXRlUmVzdG9yZVNldHRpbmdzID0gX3JlZi51cGRhdGVSZXN0b3JlU2V0dGluZ3MsCiAgICAgIGVycm9ycyA9IF9yZWYuZXJyb3JzOwoKICB2YXIgX3VzZUFwcERlcGVuZGVuY2llcyA9ICgwLCBfaW5kZXgudXNlQXBwRGVwZW5kZW5jaWVzKSgpLAogICAgICBpMThuID0gX3VzZUFwcERlcGVuZGVuY2llcy5jb3JlLmkxOG47CgogIHZhciBGb3JtYXR0ZWRNZXNzYWdlID0gaTE4bi5Gb3JtYXR0ZWRNZXNzYWdlOwogIHZhciBpbmRleFNldHRpbmdzID0gcmVzdG9yZVNldHRpbmdzLmluZGV4U2V0dGluZ3MsCiAgICAgIGlnbm9yZUluZGV4U2V0dGluZ3MgPSByZXN0b3JlU2V0dGluZ3MuaWdub3JlSW5kZXhTZXR0aW5nczsgLy8gU3RhdGUgZm9yIGluZGV4IHNldHRpbmcgdG9nZ2xlcwoKICB2YXIgX3VzZVN0YXRlID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoQm9vbGVhbihpbmRleFNldHRpbmdzKSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBpc1VzaW5nSW5kZXhTZXR0aW5ncyA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldElzVXNpbmdJbmRleFNldHRpbmdzID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTMgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShCb29sZWFuKGlnbm9yZUluZGV4U2V0dGluZ3MpKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBpc1VzaW5nSWdub3JlSW5kZXhTZXR0aW5ncyA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldElzVXNpbmdJZ25vcmVJbmRleFNldHRpbmdzID0gX3VzZVN0YXRlNFsxXTsgLy8gQ2FjaGluZyBzdGF0ZSBmb3IgdG9nZ2xhYmxlIHNldHRpbmdzCgoKICB2YXIgX3VzZVN0YXRlNSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKHsKICAgIGluZGV4U2V0dGluZ3M6IGluZGV4U2V0dGluZ3MgfHwgJ3t9JywKICAgIGlnbm9yZUluZGV4U2V0dGluZ3M6IGlnbm9yZUluZGV4U2V0dGluZ3MgPyBfdG9Db25zdW1hYmxlQXJyYXkoaWdub3JlSW5kZXhTZXR0aW5ncykgOiBbXQogIH0pLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIGNhY2hlZFJlc3RvcmVTZXR0aW5ncyA9IF91c2VTdGF0ZTZbMF0sCiAgICAgIHNldENhY2hlZFJlc3RvcmVTZXR0aW5ncyA9IF91c2VTdGF0ZTZbMV07IC8vIExpc3Qgb2Ygc2V0dGluZ3MgZm9yIGlnbm9yZSBzZXR0aW5ncyBjb21ib2JveCBzdWdnZXN0aW9ucywgdXNpbmcgYSBzdGF0ZSBiZWNhdXNlIHVzZXJzIGNhbiBhZGQgY3VzdG9tIHNldHRpbmdzCgoKICB2YXIgX3VzZVN0YXRlNyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKF90b0NvbnN1bWFibGVBcnJheShuZXcgU2V0KChpZ25vcmVJbmRleFNldHRpbmdzIHx8IFtdKS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF9jb25zdGFudHMuUkVNT1ZFX0lOREVYX1NFVFRJTkdTX1NVR0dFU1RJT05TKS5zb3J0KCkpKSkubWFwKGZ1bmN0aW9uIChzZXR0aW5nKSB7CiAgICByZXR1cm4gewogICAgICBsYWJlbDogc2V0dGluZwogICAgfTsKICB9KSksCiAgICAgIF91c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU3LCAyKSwKICAgICAgaWdub3JlSW5kZXhTZXR0aW5nc09wdGlvbnMgPSBfdXNlU3RhdGU4WzBdLAogICAgICBzZXRJZ25vcmVJbmRleFNldHRpbmdzT3B0aW9ucyA9IF91c2VTdGF0ZThbMV07IC8vIEluZGV4IHNldHRpbmdzIGRvYyBsaW5rCgoKICB2YXIgaW5kZXhTZXR0aW5nc0RvY0xpbmsgPSBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTGluaywgewogICAgaHJlZjogX2RvY3VtZW50YXRpb24uZG9jdW1lbnRhdGlvbkxpbmtzU2VydmljZS5nZXRJbmRleFNldHRpbmdzVXJsKCksCiAgICB0YXJnZXQ6ICJfYmxhbmsiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXN0b3JlRm9ybS5zdGVwU2V0dGluZ3MuaW5kZXhTZXR0aW5nc0RvY0xpbmtUZXh0IiwKICAgIGRlZmF1bHRNZXNzYWdlOiAiTGVhcm4gbW9yZS4iCiAgfSkpOwoKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiAic25hcHNob3RSZXN0b3JlX19yZXN0b3JlRm9ybV9fc3RlcFNldHRpbmdzIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgIGp1c3RpZnlDb250ZW50OiAic3BhY2VCZXR3ZWVuIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImgyIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXN0b3JlRm9ybS5zdGVwU2V0dGluZ3NUaXRsZSIsCiAgICBkZWZhdWx0TWVzc2FnZTogIkluZGV4IHNldHRpbmdzIgogIH0pKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICBzaXplOiAicyIsCiAgICBmbHVzaDogInJpZ2h0IiwKICAgIGhyZWY6IF9kb2N1bWVudGF0aW9uLmRvY3VtZW50YXRpb25MaW5rc1NlcnZpY2UuZ2V0UmVzdG9yZUluZGV4U2V0dGluZ3NVcmwoKSwKICAgIHRhcmdldDogIl9ibGFuayIsCiAgICBpY29uVHlwZTogImhlbHAiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXN0b3JlRm9ybS5zdGVwU2V0dGluZ3MuZG9jc0J1dHRvbkxhYmVsIiwKICAgIGRlZmF1bHRNZXNzYWdlOiAiSW5kZXggc2V0dGluZ3MgZG9jcyIKICB9KSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgc2l6ZTogImwiCiAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlEZXNjcmliZWRGb3JtR3JvdXAsIHsKICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIHsKICAgICAgc2l6ZTogInMiCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMyIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXN0b3JlRm9ybS5zdGVwU2V0dGluZ3MuaW5kZXhTZXR0aW5nc1RpdGxlIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJNb2RpZnkgaW5kZXggc2V0dGluZ3MiCiAgICB9KSkpLAogICAgZGVzY3JpcHRpb246IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXN0b3JlRm9ybS5zdGVwU2V0dGluZ3MuaW5kZXhTZXR0aW5nc0Rlc2NyaXB0aW9uIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJPdmVycmlkZXMgaW5kZXggc2V0dGluZ3MgZHVyaW5nIHJlc3RvcmUuIHtkb2NMaW5rfSIsCiAgICAgIHZhbHVlczogewogICAgICAgIGRvY0xpbms6IGluZGV4U2V0dGluZ3NEb2NMaW5rCiAgICAgIH0KICAgIH0pLAogICAgaWRBcmlhOiAic3RlcFNldHRpbmdzSW5kZXhTZXR0aW5nc0Rlc2NyaXB0aW9uIiwKICAgIGZ1bGxXaWR0aDogdHJ1ZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICBoYXNFbXB0eUxhYmVsU3BhY2U6IHRydWUsCiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBkZXNjcmliZWRCeUlkczogWydzdGVwU2V0dGluZ3NJbmRleFNldHRpbmdzRGVzY3JpcHRpb24nXQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3dpdGNoLCB7CiAgICBsYWJlbDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlc3RvcmVGb3JtLnN0ZXBTZXR0aW5ncy5pbmRleFNldHRpbmdzTGFiZWwiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIk1vZGlmeSBpbmRleCBzZXR0aW5ncyIKICAgIH0pLAogICAgY2hlY2tlZDogaXNVc2luZ0luZGV4U2V0dGluZ3MsCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICB2YXIgaXNDaGVja2VkID0gZS50YXJnZXQuY2hlY2tlZDsKCiAgICAgIGlmIChpc0NoZWNrZWQpIHsKICAgICAgICBzZXRJc1VzaW5nSW5kZXhTZXR0aW5ncyh0cnVlKTsKICAgICAgICB1cGRhdGVSZXN0b3JlU2V0dGluZ3MoewogICAgICAgICAgaW5kZXhTZXR0aW5nczogY2FjaGVkUmVzdG9yZVNldHRpbmdzLmluZGV4U2V0dGluZ3MKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZXRJc1VzaW5nSW5kZXhTZXR0aW5ncyhmYWxzZSk7CiAgICAgICAgdXBkYXRlUmVzdG9yZVNldHRpbmdzKHsKICAgICAgICAgIGluZGV4U2V0dGluZ3M6IHVuZGVmaW5lZAogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSksICFpc1VzaW5nSW5kZXhTZXR0aW5ncyA/IG51bGwgOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgc2l6ZTogIm0iCiAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICBsYWJlbDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlc3RvcmVGb3JtLnN0ZXBTZXR0aW5ncy5pbmRleFNldHRpbmdzRWRpdG9yTGFiZWwiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIkluZGV4IHNldHRpbmdzIgogICAgfSksCiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBkZXNjcmliZWRCeUlkczogWydzdGVwU2V0dGluZ3NJbmRleFNldHRpbmdzRGVzY3JpcHRpb24nXSwKICAgIGlzSW52YWxpZDogQm9vbGVhbihlcnJvcnMuaW5kZXhTZXR0aW5ncyksCiAgICBlcnJvcjogZXJyb3JzLmluZGV4U2V0dGluZ3MsCiAgICBoZWxwVGV4dDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlc3RvcmVGb3JtLnN0ZXBTZXR0aW5ncy5pbmRleFNldHRpbmdzRWRpdG9yRGVzY3JpcHRpb24iLAogICAgICBkZWZhdWx0TWVzc2FnZTogIlVzZSBKU09OIGZvcm1hdDoge2Zvcm1hdH0iLAogICAgICB2YWx1ZXM6IHsKICAgICAgICBmb3JtYXQ6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlDb2RlLCBudWxsLCAneyAiaW5kZXgubnVtYmVyX29mX3JlcGxpY2FzIjogMCB9JykKICAgICAgfQogICAgfSkKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ29kZUVkaXRvciwgewogICAgbW9kZTogImpzb24iLAogICAgdGhlbWU6ICJ0ZXh0bWF0ZSIsCiAgICB3aWR0aDogIjEwMCUiLAogICAgdmFsdWU6IGluZGV4U2V0dGluZ3MsCiAgICBzZXRPcHRpb25zOiB7CiAgICAgIHNob3dMaW5lTnVtYmVyczogZmFsc2UsCiAgICAgIHRhYlNpemU6IDIsCiAgICAgIG1heExpbmVzOiBJbmZpbml0eQogICAgfSwKICAgIGVkaXRvclByb3BzOiB7CiAgICAgICRibG9ja1Njcm9sbGluZzogSW5maW5pdHkKICAgIH0sCiAgICBzaG93R3V0dGVyOiBmYWxzZSwKICAgIG1pbkxpbmVzOiA2LAogICAgbWF4TGluZXM6IDE1LAogICAgImFyaWEtbGFiZWwiOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucmVzdG9yZUZvcm0uc3RlcFNldHRpbmdzLmluZGV4U2V0dGluZ3NBcmlhTGFiZWwiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIkluZGV4IHNldHRpbmdzIHRvIG1vZGlmeSIKICAgIH0pLAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHZhbHVlKSB7CiAgICAgIHVwZGF0ZVJlc3RvcmVTZXR0aW5ncyh7CiAgICAgICAgaW5kZXhTZXR0aW5nczogdmFsdWUKICAgICAgfSk7CiAgICAgIHNldENhY2hlZFJlc3RvcmVTZXR0aW5ncyhfb2JqZWN0U3ByZWFkKHt9LCBjYWNoZWRSZXN0b3JlU2V0dGluZ3MsIHsKICAgICAgICBpbmRleFNldHRpbmdzOiB2YWx1ZQogICAgICB9KSk7CiAgICB9CiAgfSkpKSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aURlc2NyaWJlZEZvcm1Hcm91cCwgewogICAgdGl0bGU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUaXRsZSwgewogICAgICBzaXplOiAicyIKICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImgzIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlc3RvcmVGb3JtLnN0ZXBTZXR0aW5ncy5pZ25vcmVJbmRleFNldHRpbmdzVGl0bGUiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIlJlc2V0IGluZGV4IHNldHRpbmdzIgogICAgfSkpKSwKICAgIGRlc2NyaXB0aW9uOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucmVzdG9yZUZvcm0uc3RlcFNldHRpbmdzLmlnbm9yZUluZGV4U2V0dGluZ3NEZXNjcmlwdGlvbiIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUmVzZXRzIHNlbGVjdGVkIHNldHRpbmdzIHRvIGRlZmF1bHQgZHVyaW5nIHJlc3RvcmUuIHtkb2NMaW5rfSIsCiAgICAgIHZhbHVlczogewogICAgICAgIGRvY0xpbms6IGluZGV4U2V0dGluZ3NEb2NMaW5rCiAgICAgIH0KICAgIH0pLAogICAgaWRBcmlhOiAic3RlcFNldHRpbmdzSWdub3JlSW5kZXhTZXR0aW5nc0Rlc2NyaXB0aW9uIiwKICAgIGZ1bGxXaWR0aDogdHJ1ZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICBoYXNFbXB0eUxhYmVsU3BhY2U6IHRydWUsCiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBkZXNjcmliZWRCeUlkczogWydzdGVwU2V0dGluZ3NJZ25vcmVJbmRleFNldHRpbmdzRGVzY3JpcHRpb24nXQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3dpdGNoLCB7CiAgICBsYWJlbDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlc3RvcmVGb3JtLnN0ZXBTZXR0aW5ncy5pZ25vcmVJbmRleFNldHRpbmdzTGFiZWwiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIlJlc2V0IGluZGV4IHNldHRpbmdzIgogICAgfSksCiAgICBjaGVja2VkOiBpc1VzaW5nSWdub3JlSW5kZXhTZXR0aW5ncywKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7CiAgICAgIHZhciBpc0NoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkOwoKICAgICAgaWYgKGlzQ2hlY2tlZCkgewogICAgICAgIHNldElzVXNpbmdJZ25vcmVJbmRleFNldHRpbmdzKHRydWUpOwogICAgICAgIHVwZGF0ZVJlc3RvcmVTZXR0aW5ncyh7CiAgICAgICAgICBpZ25vcmVJbmRleFNldHRpbmdzOiBfdG9Db25zdW1hYmxlQXJyYXkoY2FjaGVkUmVzdG9yZVNldHRpbmdzLmlnbm9yZUluZGV4U2V0dGluZ3MgfHwgW10pCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2V0SXNVc2luZ0lnbm9yZUluZGV4U2V0dGluZ3MoZmFsc2UpOwogICAgICAgIHVwZGF0ZVJlc3RvcmVTZXR0aW5ncyh7CiAgICAgICAgICBpZ25vcmVJbmRleFNldHRpbmdzOiB1bmRlZmluZWQKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0pLCAhaXNVc2luZ0lnbm9yZUluZGV4U2V0dGluZ3MgPyBudWxsIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgIHNpemU6ICJtIgogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgbGFiZWw6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5yZXN0b3JlRm9ybS5zdGVwU2V0dGluZ3Muc2VsZWN0SWdub3JlSW5kZXhTZXR0aW5nc0xhYmVsIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTZWxlY3Qgc2V0dGluZ3MiCiAgICB9KSwKICAgIGlzSW52YWxpZDogQm9vbGVhbihlcnJvcnMuaWdub3JlSW5kZXhTZXR0aW5ncyksCiAgICBlcnJvcjogZXJyb3JzLmlnbm9yZUluZGV4U2V0dGluZ3MKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ29tYm9Cb3gsIHsKICAgIHBsYWNlaG9sZGVyOiBpMThuLnRyYW5zbGF0ZSgneHBhY2suc25hcHNob3RSZXN0b3JlLnJlc3RvcmVGb3JtLnN0ZXBTZXR0aW5ncy5pZ25vcmVJbmRleFNldHRpbmdzUGxhY2Vob2xkZXInLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2VsZWN0IG9yIHR5cGUgaW5kZXggc2V0dGluZ3MnCiAgICB9KSwKICAgIG9wdGlvbnM6IGlnbm9yZUluZGV4U2V0dGluZ3NPcHRpb25zLAogICAgc2VsZWN0ZWRPcHRpb25zOiBpZ25vcmVJbmRleFNldHRpbmdzID8gaWdub3JlSW5kZXhTZXR0aW5nc09wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMikgewogICAgICB2YXIgbGFiZWwgPSBfcmVmMi5sYWJlbDsKICAgICAgcmV0dXJuIGlnbm9yZUluZGV4U2V0dGluZ3MuaW5jbHVkZXMobGFiZWwpOwogICAgfSkgOiBbXSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShzZWxlY3RlZE9wdGlvbnMpIHsKICAgICAgdmFyIG5ld0lnbm9yZUluZGV4U2V0dGluZ3MgPSBzZWxlY3RlZE9wdGlvbnMubWFwKGZ1bmN0aW9uIChfcmVmMykgewogICAgICAgIHZhciBsYWJlbCA9IF9yZWYzLmxhYmVsOwogICAgICAgIHJldHVybiBsYWJlbDsKICAgICAgfSk7CiAgICAgIHVwZGF0ZVJlc3RvcmVTZXR0aW5ncyh7CiAgICAgICAgaWdub3JlSW5kZXhTZXR0aW5nczogbmV3SWdub3JlSW5kZXhTZXR0aW5ncwogICAgICB9KTsKICAgICAgc2V0Q2FjaGVkUmVzdG9yZVNldHRpbmdzKF9vYmplY3RTcHJlYWQoe30sIGNhY2hlZFJlc3RvcmVTZXR0aW5ncywgewogICAgICAgIGlnbm9yZUluZGV4U2V0dGluZ3M6IG5ld0lnbm9yZUluZGV4U2V0dGluZ3MKICAgICAgfSkpOwogICAgfSwKICAgIG9uQ3JlYXRlT3B0aW9uOiBmdW5jdGlvbiBvbkNyZWF0ZU9wdGlvbihuZXdJbmRleFNldHRpbmcsIGZsYXR0ZW5lZE9wdGlvbnMpIHsKICAgICAgdmFyIG5vcm1hbGl6ZWRTZXR0aW5nTmFtZSA9IG5ld0luZGV4U2V0dGluZy50cmltKCkudG9Mb3dlckNhc2UoKTsKCiAgICAgIGlmICghbm9ybWFsaXplZFNldHRpbmdOYW1lKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgaXNDdXN0b21TZXR0aW5nID0gIUJvb2xlYW4oZmxhdHRlbmVkT3B0aW9ucy5maW5kKGZ1bmN0aW9uIChfcmVmNCkgewogICAgICAgIHZhciBsYWJlbCA9IF9yZWY0LmxhYmVsOwogICAgICAgIHJldHVybiBsYWJlbCA9PT0gbm9ybWFsaXplZFNldHRpbmdOYW1lOwogICAgICB9KSk7CgogICAgICBpZiAoaXNDdXN0b21TZXR0aW5nKSB7CiAgICAgICAgc2V0SWdub3JlSW5kZXhTZXR0aW5nc09wdGlvbnMoW3sKICAgICAgICAgIGxhYmVsOiBub3JtYWxpemVkU2V0dGluZ05hbWUKICAgICAgICB9XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGlnbm9yZUluZGV4U2V0dGluZ3NPcHRpb25zKSkpOwogICAgICB9CgogICAgICB1cGRhdGVSZXN0b3JlU2V0dGluZ3MoewogICAgICAgIGlnbm9yZUluZGV4U2V0dGluZ3M6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoaWdub3JlSW5kZXhTZXR0aW5ncyB8fCBbXSksIFtub3JtYWxpemVkU2V0dGluZ05hbWVdKQogICAgICB9KTsKICAgICAgc2V0Q2FjaGVkUmVzdG9yZVNldHRpbmdzKF9vYmplY3RTcHJlYWQoe30sIGNhY2hlZFJlc3RvcmVTZXR0aW5ncywgewogICAgICAgIGlnbm9yZUluZGV4U2V0dGluZ3M6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoaWdub3JlSW5kZXhTZXR0aW5ncyB8fCBbXSksIFtub3JtYWxpemVkU2V0dGluZ05hbWVdKQogICAgICB9KSk7CiAgICB9LAogICAgaXNDbGVhcmFibGU6IHRydWUKICB9KSkpKSkpKTsKfTsKCmV4cG9ydHMuUmVzdG9yZVNuYXBzaG90U3RlcFNldHRpbmdzID0gUmVzdG9yZVNuYXBzaG90U3RlcFNldHRpbmdzOw=="},null]}