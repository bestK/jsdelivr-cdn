{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/watcher/public/np_ready/application/sections/watch_status/components/watch_detail.js","dependencies":[{"path":"x-pack/legacy/plugins/watcher/public/np_ready/application/sections/watch_status/components/watch_detail.js","mtime":1585205048907},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLldhdGNoRGV0YWlsID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7Cgp2YXIgX3JlYWN0MiA9IHJlcXVpcmUoIkBrYm4vaTE4bi9yZWFjdCIpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfYXBpID0gcmVxdWlyZSgiLi4vLi4vLi4vbGliL2FwaSIpOwoKdmFyIF9jb21wb25lbnRzID0gcmVxdWlyZSgiLi4vLi4vLi4vY29tcG9uZW50cyIpOwoKdmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi9jb21tb24vY29uc3RhbnRzIik7Cgp2YXIgX3dhdGNoX2RldGFpbHNfY29udGV4dCA9IHJlcXVpcmUoIi4uL3dhdGNoX2RldGFpbHNfY29udGV4dCIpOwoKdmFyIF9hcHBfY29udGV4dCA9IHJlcXVpcmUoIi4uLy4uLy4uL2FwcF9jb250ZXh0Iik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgewogIHZhciBfYXJyID0gW107CiAgdmFyIF9uID0gdHJ1ZTsKICB2YXIgX2QgPSBmYWxzZTsKICB2YXIgX2UgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7CiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7CgogICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZCA9IHRydWU7CiAgICBfZSA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgfQogIH0KCiAgcmV0dXJuIF9hcnI7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOwp9Cgp2YXIgV2F0Y2hEZXRhaWwgPSBmdW5jdGlvbiBXYXRjaERldGFpbCgpIHsKICB2YXIgX3VzZUFwcENvbnRleHQgPSAoMCwgX2FwcF9jb250ZXh0LnVzZUFwcENvbnRleHQpKCksCiAgICAgIHRvYXN0cyA9IF91c2VBcHBDb250ZXh0LnRvYXN0czsKCiAgdmFyIF91c2VDb250ZXh0ID0gKDAsIF9yZWFjdC51c2VDb250ZXh0KShfd2F0Y2hfZGV0YWlsc19jb250ZXh0LldhdGNoRGV0YWlsc0NvbnRleHQpLAogICAgICB3YXRjaERldGFpbCA9IF91c2VDb250ZXh0LndhdGNoRGV0YWlsOwoKICB2YXIgX3VzZVN0YXRlID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoW10pLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgYWN0aW9uU3RhdHVzZXMgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRBY3Rpb25TdGF0dXNlcyA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU3RhdGUzID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoZmFsc2UpLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGlzQWN0aW9uU3RhdHVzTG9hZGluZyA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldElzQWN0aW9uU3RhdHVzTG9hZGluZyA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBfdXNlU3RhdGU1ID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkobnVsbCksCiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSwKICAgICAgc2VsZWN0ZWRFcnJvckFjdGlvbiA9IF91c2VTdGF0ZTZbMF0sCiAgICAgIHNldFNlbGVjdGVkRXJyb3JBY3Rpb24gPSBfdXNlU3RhdGU2WzFdOwoKICB2YXIgd2F0Y2hJZCA9IHdhdGNoRGV0YWlsLmlkLAogICAgICB3YXRjaEVycm9ycyA9IHdhdGNoRGV0YWlsLndhdGNoRXJyb3JzLAogICAgICB3YXRjaFN0YXR1cyA9IHdhdGNoRGV0YWlsLndhdGNoU3RhdHVzLAogICAgICBpc1N5c3RlbVdhdGNoID0gd2F0Y2hEZXRhaWwuaXNTeXN0ZW1XYXRjaDsKICB2YXIgYWN0aW9uRXJyb3JzID0gd2F0Y2hFcnJvcnMgJiYgd2F0Y2hFcnJvcnMuYWN0aW9uRXJyb3JzOwogIHZhciBjdXJyZW50QWN0aW9uU3RhdHVzZXMgPSB3YXRjaFN0YXR1cyAmJiB3YXRjaFN0YXR1cy5hY3Rpb25TdGF0dXNlczsKICB2YXIgaGFzQWN0aW9uRXJyb3JzID0gYWN0aW9uRXJyb3JzICYmIE9iamVjdC5rZXlzKGFjdGlvbkVycm9ycykubGVuZ3RoID4gMDsKICAoMCwgX3JlYWN0LnVzZUVmZmVjdCkoZnVuY3Rpb24gKCkgewogICAgdmFyIGFjdGlvblN0YXR1c2VzV2l0aEVycm9ycyA9IGN1cnJlbnRBY3Rpb25TdGF0dXNlcyAmJiBjdXJyZW50QWN0aW9uU3RhdHVzZXMubWFwKGZ1bmN0aW9uIChjdXJyZW50QWN0aW9uU3RhdHVzKSB7CiAgICAgIHZhciBlcnJvcnMgPSBhY3Rpb25FcnJvcnMgJiYgYWN0aW9uRXJyb3JzW2N1cnJlbnRBY3Rpb25TdGF0dXMuaWRdOwogICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgY3VycmVudEFjdGlvblN0YXR1cywgewogICAgICAgIGVycm9yczogZXJyb3JzIHx8IFtdCiAgICAgIH0pOwogICAgfSk7CiAgICBzZXRBY3Rpb25TdGF0dXNlcyhhY3Rpb25TdGF0dXNlc1dpdGhFcnJvcnMpOwogIH0sIFt3YXRjaERldGFpbCwgYWN0aW9uRXJyb3JzLCBjdXJyZW50QWN0aW9uU3RhdHVzZXNdKTsKICB2YXIgYmFzZUNvbHVtbnMgPSBbewogICAgZmllbGQ6ICdpZCcsCiAgICBuYW1lOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sud2F0Y2hlci5zZWN0aW9ucy53YXRjaERldGFpbC53YXRjaFRhYmxlLmFjdGlvbkhlYWRlcicsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdOYW1lJwogICAgfSksCiAgICBzb3J0YWJsZTogdHJ1ZSwKICAgIHRydW5jYXRlVGV4dDogdHJ1ZQogIH0sIHsKICAgIGZpZWxkOiAnc3RhdGUnLAogICAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLndhdGNoZXIuc2VjdGlvbnMud2F0Y2hEZXRhaWwud2F0Y2hUYWJsZS5zdGF0ZUhlYWRlcicsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTdGF0ZScKICAgIH0pLAogICAgc29ydGFibGU6IHRydWUsCiAgICB0cnVuY2F0ZVRleHQ6IHRydWUsCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihzdGF0ZSkgewogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY29tcG9uZW50cy5XYXRjaFN0YXR1cywgewogICAgICAgIHN0YXR1czogc3RhdGUKICAgICAgfSk7CiAgICB9CiAgfV07CiAgdmFyIGVycm9yQ29sdW1uID0gewogICAgZmllbGQ6ICdlcnJvcnMnLAogICAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLndhdGNoZXIuc2VjdGlvbnMud2F0Y2hEZXRhaWwud2F0Y2hUYWJsZS5lcnJvcnNIZWFkZXInLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRXJyb3JzJwogICAgfSksCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihlcnJvcnMsIGFjdGlvbikgewogICAgICB2YXIgYWN0aW9uSWQgPSBhY3Rpb24uaWQ7CgogICAgICBpZiAoZXJyb3JzICYmIGVycm9ycy5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b25FbXB0eSwgewogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgcmV0dXJuIHNldFNlbGVjdGVkRXJyb3JBY3Rpb24oYWN0aW9uSWQpOwogICAgICAgICAgfSwKICAgICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJhY3Rpb25FcnJvcnNCdXR0b24iCiAgICAgICAgfSwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLndhdGNoZXIuc2VjdGlvbnMud2F0Y2hEZXRhaWwud2F0Y2hUYWJsZS5lcnJvcnNDZWxsVGV4dCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAne3RvdGFsLCBudW1iZXJ9IHt0b3RhbCwgcGx1cmFsLCBvbmUge2Vycm9yfSBvdGhlciB7ZXJyb3JzfX0nLAogICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgIHRvdGFsOiBlcnJvcnMubGVuZ3RoCiAgICAgICAgICB9CiAgICAgICAgfSkpOwogICAgICB9CgogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwpOwogICAgfQogIH07CiAgdmFyIGFjdGlvbkNvbHVtbiA9IHsKICAgIGFjdGlvbnM6IFt7CiAgICAgIGF2YWlsYWJsZTogZnVuY3Rpb24gYXZhaWxhYmxlKGFjdGlvbikgewogICAgICAgIHJldHVybiBhY3Rpb24uaXNBY2thYmxlICYmICFpc1N5c3RlbVdhdGNoOwogICAgICB9LAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihhY3Rpb24pIHsKICAgICAgICB2YXIgYWN0aW9uSWQgPSBhY3Rpb24uaWQ7CiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUb29sVGlwLCB7CiAgICAgICAgICBjb250ZW50OiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sud2F0Y2hlci5zZWN0aW9ucy53YXRjaERldGFpbC53YXRjaFRhYmxlLmFja0FjdGlvbkNlbGxUb29sdGlwVGl0bGUnLCB7CiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQWNrbm93bGVkZ2Ugd2F0Y2ggYWN0aW9uLicKICAgICAgICAgIH0pCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICAgICAgICBpY29uVHlwZTogImNoZWNrIiwKICAgICAgICAgIGlzTG9hZGluZzogaXNBY3Rpb25TdGF0dXNMb2FkaW5nLAogICAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImFja25vd2xlZGdlV2F0Y2hCdXR0b24iLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgICAgdmFyIG5ld1dhdGNoU3RhdHVzLCBuZXdBY3Rpb25TdGF0dXNlc1dpdGhFcnJvcnM7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgc2V0SXNBY3Rpb25TdGF0dXNMb2FkaW5nKHRydWUpOwogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoKDAsIF9hcGkuYWNrV2F0Y2hBY3Rpb24pKHdhdGNoSWQsIGFjdGlvbklkKSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgbmV3V2F0Y2hTdGF0dXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgIG5ld0FjdGlvblN0YXR1c2VzV2l0aEVycm9ycyA9IG5ld1dhdGNoU3RhdHVzLmFjdGlvblN0YXR1c2VzLm1hcChmdW5jdGlvbiAobmV3QWN0aW9uU3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JzID0gYWN0aW9uRXJyb3JzICYmIGFjdGlvbkVycm9yc1tuZXdBY3Rpb25TdGF0dXMuaWRdOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIG5ld0FjdGlvblN0YXR1cywgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IGVycm9ycyB8fCBbXQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgc2V0SXNBY3Rpb25TdGF0dXNMb2FkaW5nKGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBzZXRBY3Rpb25TdGF0dXNlcyhuZXdBY3Rpb25TdGF0dXNlc1dpdGhFcnJvcnMpKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwOwogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICAgICAgc2V0SXNBY3Rpb25TdGF0dXNMb2FkaW5nKGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB0b2FzdHMuYWRkRGFuZ2VyKF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay53YXRjaGVyLnNlY3Rpb25zLndhdGNoRGV0YWlsLndhdGNoVGFibGUuYWNrQWN0aW9uRXJyb3JNZXNzYWdlJywgewogICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdFcnJvciBhY2tub3dsZWRnaW5nIGFjdGlvbiB7YWN0aW9uSWR9JywKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25JZDogYWN0aW9uLmlkCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgbnVsbCwgbnVsbCwgW1sxLCAxMF1dKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ4cGFjay53YXRjaGVyLnNlY3Rpb25zLndhdGNoRGV0YWlsLndhdGNoVGFibGUuYWNrQWN0aW9uQ2VsbFRpdGxlIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQWNrbm93bGVkZ2UiCiAgICAgICAgfSkpKTsKICAgICAgfQogICAgfV0KICB9OwogIHZhciBjb2x1bW5zID0gaGFzQWN0aW9uRXJyb3JzID8gW10uY29uY2F0KGJhc2VDb2x1bW5zLCBbZXJyb3JDb2x1bW4sIGFjdGlvbkNvbHVtbl0pIDogW10uY29uY2F0KGJhc2VDb2x1bW5zLCBbYWN0aW9uQ29sdW1uXSk7CiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJ3YXRjaERldGFpbFNlY3Rpb24iCiAgfSwgc2VsZWN0ZWRFcnJvckFjdGlvbiAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmx5b3V0LCB7CiAgICBzaXplOiAicyIsCiAgICAiYXJpYS1sYWJlbGxlZGJ5IjogImZseW91dEFjdGlvbkVycm9yVGl0bGUiLAogICAgImRhdGEtdGVzdC1zdWJqIjogImFjdGlvbkVycm9yc0ZseW91dCIsCiAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkgewogICAgICByZXR1cm4gc2V0U2VsZWN0ZWRFcnJvckFjdGlvbihudWxsKTsKICAgIH0KICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmx5b3V0SGVhZGVyLCB7CiAgICBoYXNCb3JkZXI6IHRydWUKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIHsKICAgIHNpemU6ICJzIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImgyIiwgewogICAgaWQ6ICJmbHlvdXRBY3Rpb25FcnJvclRpdGxlIiwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJ0aXRsZSIKICB9LCBzZWxlY3RlZEVycm9yQWN0aW9uKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmx5b3V0Qm9keSwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNhbGxPdXQsIHsKICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sud2F0Y2hlci5zZWN0aW9ucy53YXRjaERldGFpbC5hY3Rpb25FcnJvcnNDYWxsb3V0VGl0bGUnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVGhpcyBhY3Rpb24gY29udGFpbnMgZXJyb3JzJwogICAgfSksCiAgICBjb2xvcjogImRhbmdlciIsCiAgICBpY29uVHlwZTogImNyb3NzIiwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJlcnJvck1lc3NhZ2UiCiAgfSwgYWN0aW9uRXJyb3JzW3NlbGVjdGVkRXJyb3JBY3Rpb25dLmxlbmd0aCA+IDEgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJ1bCIsIG51bGwsIGFjdGlvbkVycm9yc1tzZWxlY3RlZEVycm9yQWN0aW9uXS5tYXAoZnVuY3Rpb24gKGFjdGlvbkVycm9yLCBlcnJvckluZGV4KSB7CiAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgibGkiLCB7CiAgICAgIGtleTogImFjdGlvbi1lcnJvci0iLmNvbmNhdChlcnJvckluZGV4KQogICAgfSwgYWN0aW9uRXJyb3IubWVzc2FnZSk7CiAgfSkpIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIGFjdGlvbkVycm9yc1tzZWxlY3RlZEVycm9yQWN0aW9uXVswXS5tZXNzYWdlKSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUluTWVtb3J5VGFibGUsIHsKICAgIGl0ZW1zOiBhY3Rpb25TdGF0dXNlcywKICAgIGl0ZW1JZDogImlkIiwKICAgIGNvbHVtbnM6IGNvbHVtbnMsCiAgICBwYWdpbmF0aW9uOiBfY29uc3RhbnRzLlBBR0lOQVRJT04sCiAgICBzb3J0aW5nOiB0cnVlLAogICAgImRhdGEtdGVzdC1zdWJqIjogIndhdGNoQWN0aW9uU3RhdHVzVGFibGUiLAogICAgbWVzc2FnZTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay53YXRjaGVyLnNlY3Rpb25zLndhdGNoRGV0YWlsLndhdGNoVGFibGUubm9XYXRjaGVzTWVzc2FnZSIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiTm8gYWN0aW9ucyB0byBzaG93IgogICAgfSkKICB9KSk7Cn07CgpleHBvcnRzLldhdGNoRGV0YWlsID0gV2F0Y2hEZXRhaWw7"},null]}