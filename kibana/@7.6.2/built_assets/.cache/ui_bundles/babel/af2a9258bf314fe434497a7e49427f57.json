{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/maps/public/connected_components/layer_panel/filter_editor/filter_editor.js","dependencies":[{"path":"x-pack/legacy/plugins/maps/public/connected_components/layer_panel/filter_editor/filter_editor.js","mtime":1585205045253},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkZpbHRlckVkaXRvciA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX3JlYWN0MiA9IHJlcXVpcmUoIkBrYm4vaTE4bi9yZWFjdCIpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7Cgp2YXIgX2tpYmFuYV9zZXJ2aWNlcyA9IHJlcXVpcmUoIi4uLy4uLy4uL2tpYmFuYV9zZXJ2aWNlcyIpOwoKdmFyIF9nbG9iYWxfZmlsdGVyX2NoZWNrYm94ID0gcmVxdWlyZSgiLi4vLi4vLi4vY29tcG9uZW50cy9nbG9iYWxfZmlsdGVyX2NoZWNrYm94Iik7Cgp2YXIgX25ld19wbGF0Zm9ybSA9IHJlcXVpcmUoInVpL25ld19wbGF0Zm9ybSIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCnZhciBTZWFyY2hCYXIgPSBfbmV3X3BsYXRmb3JtLm5wU3RhcnQucGx1Z2lucy5kYXRhLnVpLlNlYXJjaEJhcjsKCnZhciBGaWx0ZXJFZGl0b3IgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKEZpbHRlckVkaXRvciwgX0NvbXBvbmVudCk7CgogIGZ1bmN0aW9uIEZpbHRlckVkaXRvcigpIHsKICAgIHZhciBfZ2V0UHJvdG90eXBlT2YyOwoKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmlsdGVyRWRpdG9yKTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKEZpbHRlckVkaXRvcikpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInN0YXRlIiwgewogICAgICBpc1BvcG92ZXJPcGVuOiBmYWxzZSwKICAgICAgaW5kZXhQYXR0ZXJuczogW10KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIl9sb2FkSW5kZXhQYXR0ZXJucyIsIGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgaW5kZXhQYXR0ZXJuSWRzLCBpbmRleFBhdHRlcm5zLCBnZXRJbmRleFBhdHRlcm5Qcm9taXNlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgLy8gRmlsdGVyIG9ubHkgZWZmZWN0cyBzb3VyY2Ugc28gb25seSBsb2FkIHNvdXJjZSBpbmRpY2VzLgogICAgICAgICAgICAgIGluZGV4UGF0dGVybklkcyA9IF90aGlzLnByb3BzLmxheWVyLmdldFNvdXJjZSgpLmdldEluZGV4UGF0dGVybklkcygpOwogICAgICAgICAgICAgIGluZGV4UGF0dGVybnMgPSBbXTsKICAgICAgICAgICAgICBnZXRJbmRleFBhdHRlcm5Qcm9taXNlcyA9IGluZGV4UGF0dGVybklkcy5tYXAoZnVuY3Rpb24gX2NhbGxlZShpbmRleFBhdHRlcm5JZCkgewogICAgICAgICAgICAgICAgdmFyIGluZGV4UGF0dGVybjsKICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChfa2liYW5hX3NlcnZpY2VzLmluZGV4UGF0dGVyblNlcnZpY2UuZ2V0KGluZGV4UGF0dGVybklkKSk7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICBpbmRleFBhdHRlcm4gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICBpbmRleFBhdHRlcm5zLnB1c2goaW5kZXhQYXR0ZXJuKTsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIG51bGwsIG51bGwsIFtbMCwgN11dKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChQcm9taXNlLmFsbChnZXRJbmRleFBhdHRlcm5Qcm9taXNlcykpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGlmIChfdGhpcy5faXNNb3VudGVkKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBpbmRleFBhdHRlcm5zOiBpbmRleFBhdHRlcm5zCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIl90b2dnbGUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaXNQb3BvdmVyT3BlbjogIXByZXZTdGF0ZS5pc1BvcG92ZXJPcGVuCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJfY2xvc2UiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBpc1BvcG92ZXJPcGVuOiBmYWxzZQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIl9vblF1ZXJ5Q2hhbmdlIiwgZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgdmFyIHF1ZXJ5ID0gX3JlZi5xdWVyeTsKCiAgICAgIF90aGlzLnByb3BzLnNldExheWVyUXVlcnkoX3RoaXMucHJvcHMubGF5ZXIuZ2V0SWQoKSwgcXVlcnkpOwoKICAgICAgX3RoaXMuX2Nsb3NlKCk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJfb25GaWx0ZXJCeU1hcEJvdW5kc0NoYW5nZSIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBfdGhpcy5wcm9wcy51cGRhdGVTb3VyY2VQcm9wKF90aGlzLnByb3BzLmxheWVyLmdldElkKCksICdmaWx0ZXJCeU1hcEJvdW5kcycsIGV2ZW50LnRhcmdldC5jaGVja2VkKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIl9vbkFwcGx5R2xvYmFsUXVlcnlDaGFuZ2UiLCBmdW5jdGlvbiAoYXBwbHlHbG9iYWxRdWVyeSkgewogICAgICBfdGhpcy5wcm9wcy51cGRhdGVTb3VyY2VQcm9wKF90aGlzLnByb3BzLmxheWVyLmdldElkKCksICdhcHBseUdsb2JhbFF1ZXJ5JywgYXBwbHlHbG9iYWxRdWVyeSk7CiAgICB9KTsKCiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoRmlsdGVyRWRpdG9yLCBbewogICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgICB0aGlzLl9pc01vdW50ZWQgPSB0cnVlOwoKICAgICAgdGhpcy5fbG9hZEluZGV4UGF0dGVybnMoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnRXaWxsVW5tb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7CiAgICAgIHRoaXMuX2lzTW91bnRlZCA9IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogIl9yZW5kZXJRdWVyeVBvcG92ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJRdWVyeVBvcG92ZXIoKSB7CiAgICAgIHZhciBsYXllclF1ZXJ5ID0gdGhpcy5wcm9wcy5sYXllci5nZXRRdWVyeSgpOwogICAgICB2YXIgdWlTZXR0aW5ncyA9IF9uZXdfcGxhdGZvcm0ubnBTdGFydC5jb3JlLnVpU2V0dGluZ3M7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUG9wb3ZlciwgewogICAgICAgIGlkOiAibGF5ZXJRdWVyeVBvcG92ZXIiLAogICAgICAgIGJ1dHRvbjogdGhpcy5fcmVuZGVyT3BlbkJ1dHRvbigpLAogICAgICAgIGlzT3BlbjogdGhpcy5zdGF0ZS5pc1BvcG92ZXJPcGVuLAogICAgICAgIGNsb3NlUG9wb3ZlcjogdGhpcy5fY2xvc2UsCiAgICAgICAgYW5jaG9yUG9zaXRpb246ICJsZWZ0Q2VudGVyIiwKICAgICAgICBvd25Gb2N1czogdHJ1ZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAibWFwRmlsdGVyRWRpdG9yIiwKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAibWFwRmlsdGVyRWRpdG9yIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNlYXJjaEJhciwgewogICAgICAgIHNob3dGaWx0ZXJCYXI6IGZhbHNlLAogICAgICAgIHNob3dEYXRlUGlja2VyOiBmYWxzZSwKICAgICAgICBzaG93UXVlcnlJbnB1dDogdHJ1ZSwKICAgICAgICBxdWVyeTogbGF5ZXJRdWVyeSA/IGxheWVyUXVlcnkgOiB7CiAgICAgICAgICBsYW5ndWFnZTogdWlTZXR0aW5ncy5nZXQoJ3NlYXJjaDpxdWVyeUxhbmd1YWdlJyksCiAgICAgICAgICBxdWVyeTogJycKICAgICAgICB9LAogICAgICAgIG9uUXVlcnlTdWJtaXQ6IHRoaXMuX29uUXVlcnlDaGFuZ2UsCiAgICAgICAgaW5kZXhQYXR0ZXJuczogdGhpcy5zdGF0ZS5pbmRleFBhdHRlcm5zLAogICAgICAgIGN1c3RvbVN1Ym1pdEJ1dHRvbjogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgICAgICAgZmlsbDogdHJ1ZSwKICAgICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJtYXBGaWx0ZXJFZGl0b3JTdWJtaXRCdXR0b24iCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAieHBhY2subWFwcy5sYXllclBhbmVsLmZpbHRlckVkaXRvci5xdWVyeUJhclN1Ym1pdEJ1dHRvbkxhYmVsIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU2V0IGZpbHRlciIKICAgICAgICB9KSkKICAgICAgfSkpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfcmVuZGVyUXVlcnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJRdWVyeSgpIHsKICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5wcm9wcy5sYXllci5nZXRRdWVyeSgpOwoKICAgICAgaWYgKCFxdWVyeSB8fCAhcXVlcnkucXVlcnkpIHsKICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRleHQsIHsKICAgICAgICAgIHNpemU6ICJzIiwKICAgICAgICAgIHRleHRBbGlnbjogImNlbnRlciIKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRleHRDb2xvciwgewogICAgICAgICAgY29sb3I6ICJzdWJkdWVkIgogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInhwYWNrLm1hcHMubGF5ZXJQYW5lbC5maWx0ZXJFZGl0b3IuZW1wdHlTdGF0ZS5kZXNjcmlwdGlvbiIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkFkZCBhIGZpbHRlciB0byBuYXJyb3cgdGhlIGxheWVyIGRhdGEuIgogICAgICAgIH0pKSkpOwogICAgICB9CgogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlDb2RlQmxvY2ssIHsKICAgICAgICBwYWRkaW5nU2l6ZTogInMiCiAgICAgIH0sIHF1ZXJ5LnF1ZXJ5KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJtIgogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3JlbmRlck9wZW5CdXR0b24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJPcGVuQnV0dG9uKCkgewogICAgICB2YXIgcXVlcnkgPSB0aGlzLnByb3BzLmxheWVyLmdldFF1ZXJ5KCk7CiAgICAgIHZhciBvcGVuQnV0dG9uTGFiZWwgPSBxdWVyeSAmJiBxdWVyeS5xdWVyeSA/IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tYXBzLmxheWVyUGFuZWwuZmlsdGVyRWRpdG9yLmVkaXRGaWx0ZXJCdXR0b25MYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0VkaXQgZmlsdGVyJwogICAgICB9KSA6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tYXBzLmxheWVyUGFuZWwuZmlsdGVyRWRpdG9yLmFkZEZpbHRlckJ1dHRvbkxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQWRkIGZpbHRlcicKICAgICAgfSk7CiAgICAgIHZhciBvcGVuQnV0dG9uSWNvbiA9IHF1ZXJ5ICYmIHF1ZXJ5LnF1ZXJ5ID8gJ3BlbmNpbCcgOiAncGx1c0luQ2lyY2xlRmlsbGVkJzsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b25FbXB0eSwgewogICAgICAgIHNpemU6ICJ4cyIsCiAgICAgICAgb25DbGljazogdGhpcy5fdG9nZ2xlLAogICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJtYXBMYXllclBhbmVsT3BlbkZpbHRlckVkaXRvckJ1dHRvbiIsCiAgICAgICAgaWNvblR5cGU6IG9wZW5CdXR0b25JY29uCiAgICAgIH0sIG9wZW5CdXR0b25MYWJlbCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBmaWx0ZXJCeUJvdW5kc1N3aXRjaDsKCiAgICAgIGlmICh0aGlzLnByb3BzLmxheWVyLmdldFNvdXJjZSgpLmlzRmlsdGVyQnlNYXBCb3VuZHNDb25maWd1cmFibGUoKSkgewogICAgICAgIGZpbHRlckJ5Qm91bmRzU3dpdGNoID0gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgICAgICAgIGRpc3BsYXk6ICJyb3dDb21wcmVzc2VkIgogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTd2l0Y2gsIHsKICAgICAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subWFwcy5maWx0ZXJFZGl0b3IuZXh0ZW50RmlsdGVyTGFiZWwnLCB7CiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRHluYW1pY2FsbHkgZmlsdGVyIGZvciBkYXRhIGluIHRoZSB2aXNpYmxlIG1hcCBhcmVhJwogICAgICAgICAgfSksCiAgICAgICAgICBjaGVja2VkOiB0aGlzLnByb3BzLmxheWVyLmdldFNvdXJjZSgpLmlzRmlsdGVyQnlNYXBCb3VuZHMoKSwKICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLl9vbkZpbHRlckJ5TWFwQm91bmRzQ2hhbmdlLAogICAgICAgICAgY29tcHJlc3NlZDogdHJ1ZQogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIHsKICAgICAgICBzaXplOiAieHMiCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImg1IiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInhwYWNrLm1hcHMubGF5ZXJQYW5lbC5maWx0ZXJFZGl0b3IudGl0bGUiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRmlsdGVyaW5nIgogICAgICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgc2l6ZTogIm0iCiAgICAgIH0pLCB0aGlzLl9yZW5kZXJRdWVyeSgpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dEFsaWduLCB7CiAgICAgICAgdGV4dEFsaWduOiAiY2VudGVyIgogICAgICB9LCB0aGlzLl9yZW5kZXJRdWVyeVBvcG92ZXIoKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgICAgICBzaXplOiAibSIKICAgICAgfSksIGZpbHRlckJ5Qm91bmRzU3dpdGNoLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9nbG9iYWxfZmlsdGVyX2NoZWNrYm94Lkdsb2JhbEZpbHRlckNoZWNrYm94LCB7CiAgICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tYXBzLmZpbHRlckVkaXRvci5hcHBseUdsb2JhbFF1ZXJ5Q2hlY2tib3hMYWJlbCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQXBwbHkgZ2xvYmFsIGZpbHRlciB0byBsYXllciBkYXRhIgogICAgICAgIH0pLAogICAgICAgIGFwcGx5R2xvYmFsUXVlcnk6IHRoaXMucHJvcHMubGF5ZXIuZ2V0U291cmNlKCkuZ2V0QXBwbHlHbG9iYWxRdWVyeSgpLAogICAgICAgIHNldEFwcGx5R2xvYmFsUXVlcnk6IHRoaXMuX29uQXBwbHlHbG9iYWxRdWVyeUNoYW5nZQogICAgICB9KSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRmlsdGVyRWRpdG9yOwp9KF9yZWFjdC5Db21wb25lbnQpOwoKZXhwb3J0cy5GaWx0ZXJFZGl0b3IgPSBGaWx0ZXJFZGl0b3I7"},null]}