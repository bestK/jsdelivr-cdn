{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/snapshot_restore/public/app/sections/home/policy_list/policy_table/policy_table.js","dependencies":[{"path":"x-pack/legacy/plugins/snapshot_restore/public/app/sections/home/policy_list/policy_table/policy_table.js","mtime":1585205048227},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlBvbGljeVRhYmxlID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vY29uc3RhbnRzIik7Cgp2YXIgX2luZGV4ID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vaW5kZXgiKTsKCnZhciBfY29tcG9uZW50cyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMiKTsKCnZhciBfdWlfbWV0cmljID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vc2VydmljZXMvdWlfbWV0cmljIik7Cgp2YXIgX25hdmlnYXRpb24gPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9zZXJ2aWNlcy9uYXZpZ2F0aW9uIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCnZhciBQb2xpY3lUYWJsZSA9IGZ1bmN0aW9uIFBvbGljeVRhYmxlKF9yZWYpIHsKICB2YXIgcG9saWNpZXMgPSBfcmVmLnBvbGljaWVzLAogICAgICByZWxvYWQgPSBfcmVmLnJlbG9hZCwKICAgICAgb3BlblBvbGljeURldGFpbHNVcmwgPSBfcmVmLm9wZW5Qb2xpY3lEZXRhaWxzVXJsLAogICAgICBvblBvbGljeURlbGV0ZWQgPSBfcmVmLm9uUG9saWN5RGVsZXRlZCwKICAgICAgb25Qb2xpY3lFeGVjdXRlZCA9IF9yZWYub25Qb2xpY3lFeGVjdXRlZDsKCiAgdmFyIF91c2VBcHBEZXBlbmRlbmNpZXMgPSAoMCwgX2luZGV4LnVzZUFwcERlcGVuZGVuY2llcykoKSwKICAgICAgaTE4biA9IF91c2VBcHBEZXBlbmRlbmNpZXMuY29yZS5pMThuOwoKICB2YXIgRm9ybWF0dGVkTWVzc2FnZSA9IGkxOG4uRm9ybWF0dGVkTWVzc2FnZTsKICB2YXIgdHJhY2tVaU1ldHJpYyA9IF91aV9tZXRyaWMudWlNZXRyaWNTZXJ2aWNlLnRyYWNrVWlNZXRyaWM7CgogIHZhciBfdXNlU3RhdGUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShbXSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBzZWxlY3RlZEl0ZW1zID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0U2VsZWN0ZWRJdGVtcyA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBjb2x1bW5zID0gW3sKICAgIGZpZWxkOiAnbmFtZScsCiAgICBuYW1lOiBpMThuLnRyYW5zbGF0ZSgneHBhY2suc25hcHNob3RSZXN0b3JlLnBvbGljeUxpc3QudGFibGUucG9saWN5TmFtZUNvbHVtblRpdGxlJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ1BvbGljeScKICAgIH0pLAogICAgdHJ1bmNhdGVUZXh0OiB0cnVlLAogICAgc29ydGFibGU6IHRydWUsCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihuYW1lLCBfcmVmMikgewogICAgICB2YXIgaW5Qcm9ncmVzcyA9IF9yZWYyLmluUHJvZ3Jlc3MsCiAgICAgICAgICBpc01hbmFnZWRQb2xpY3kgPSBfcmVmMi5pc01hbmFnZWRQb2xpY3k7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICAgICAgZ3V0dGVyU2l6ZTogInMiLAogICAgICAgIGFsaWduSXRlbXM6ICJjZW50ZXIiCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgIGdyb3c6IGZhbHNlCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlMaW5rLCB7CiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHJldHVybiB0cmFja1VpTWV0cmljKF9jb25zdGFudHMuVUlNX1BPTElDWV9TSE9XX0RFVEFJTFNfQ0xJQ0spOwogICAgICAgIH0sCiAgICAgICAgaHJlZjogb3BlblBvbGljeURldGFpbHNVcmwobmFtZSksCiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogInBvbGljeUxpbmsiCiAgICAgIH0sIG5hbWUpLCAnICcpLCBpc01hbmFnZWRQb2xpY3kgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSWNvblRpcCwgewogICAgICAgIGNvbnRlbnQ6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucG9saWN5TGlzdC50YWJsZS5tYW5hZ2VkUG9saWN5QmFkZ2VMYWJlbCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlRoaXMgaXMgYSBtYW5hZ2VkIHBvbGljeSIKICAgICAgICB9KSwKICAgICAgICBwb3NpdGlvbjogInJpZ2h0IgogICAgICB9KSkgOiBudWxsLCBpblByb2dyZXNzID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRvb2xUaXAsIHsKICAgICAgICBjb250ZW50OiBpMThuLnRyYW5zbGF0ZSgneHBhY2suc25hcHNob3RSZXN0b3JlLnBvbGljeUxpc3QudGFibGUuaW5Qcm9ncmVzc1Rvb2x0aXAnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1NuYXBzaG90IGluIHByb2dyZXNzJwogICAgICAgIH0pCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlMb2FkaW5nU3Bpbm5lciwgewogICAgICAgIHNpemU6ICJtIgogICAgICB9KSkpIDogbnVsbCk7CiAgICB9CiAgfSwgewogICAgZmllbGQ6ICdzbmFwc2hvdE5hbWUnLAogICAgbmFtZTogaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lMaXN0LnRhYmxlLnNuYXBzaG90TmFtZUNvbHVtblRpdGxlJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ1NuYXBzaG90IG5hbWUnCiAgICB9KSwKICAgIHNvcnRhYmxlOiB0cnVlLAogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoc25hcHNob3ROYW1lLCBfcmVmMykgewogICAgICB2YXIgbGFzdEZhaWx1cmUgPSBfcmVmMy5sYXN0RmFpbHVyZSwKICAgICAgICAgIGxhc3RTdWNjZXNzID0gX3JlZjMubGFzdFN1Y2Nlc3M7IC8vIEFsZXJ0IHVzZXIgaWYgbGFzdCBzbmFwc2hvdCBmYWlsZWQKCiAgICAgIGlmIChsYXN0U3VjY2VzcyAmJiBsYXN0RmFpbHVyZSAmJiBsYXN0RmFpbHVyZS50aW1lID4gbGFzdFN1Y2Nlc3MudGltZSkgewogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICAgICAgICBndXR0ZXJTaXplOiAicyIsCiAgICAgICAgICBhbGlnbkl0ZW1zOiAiY2VudGVyIiwKICAgICAgICAgIGNsYXNzTmFtZTogInNuYXBzaG90UmVzdG9yZVBvbGljeVRhYmxlU25hcHNob3RGYWlsdXJlQ29udGFpbmVyIgogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVG9vbFRpcCwgewogICAgICAgICAgcG9zaXRpb246ICJ0b3AiLAogICAgICAgICAgY29udGVudDogaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lMaXN0LnRhYmxlLmxhc3RTbmFwc2hvdEZhaWxlZFRvb2x0aXAnLCB7CiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTGFzdCBzbmFwc2hvdCBmYWlsZWQnCiAgICAgICAgICB9KQogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlJY29uLCB7CiAgICAgICAgICB0eXBlOiAiYWxlcnQiLAogICAgICAgICAgY29sb3I6ICJkYW5nZXIiCiAgICAgICAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgICBncm93OiAxCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRleHQsIHsKICAgICAgICAgIHNpemU6ICJzIgogICAgICAgIH0sIHNuYXBzaG90TmFtZSkpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNuYXBzaG90TmFtZTsKICAgIH0KICB9LCB7CiAgICBmaWVsZDogJ3JlcG9zaXRvcnknLAogICAgbmFtZTogaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lMaXN0LnRhYmxlLnJlcG9zaXRvcnlDb2x1bW5UaXRsZScsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdSZXBvc2l0b3J5JwogICAgfSksCiAgICB0cnVuY2F0ZVRleHQ6IHRydWUsCiAgICBzb3J0YWJsZTogdHJ1ZQogIH0sIHsKICAgIGZpZWxkOiAnc2NoZWR1bGUnLAogICAgbmFtZTogaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lMaXN0LnRhYmxlLnNjaGVkdWxlQ29sdW1uVGl0bGUnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2NoZWR1bGUnCiAgICB9KSwKICAgIHRydW5jYXRlVGV4dDogdHJ1ZSwKICAgIHNvcnRhYmxlOiB0cnVlCiAgfSwgewogICAgZmllbGQ6ICdyZXRlbnRpb24nLAogICAgbmFtZTogaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lMaXN0LnRhYmxlLnJldGVudGlvbkNvbHVtblRpdGxlJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ1JldGVudGlvbicKICAgIH0pLAogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIocmV0ZW50aW9uKSB7CiAgICAgIHJldHVybiByZXRlbnRpb24gPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSWNvbiwgewogICAgICAgIHR5cGU6ICJjaGVjayIsCiAgICAgICAgImFyaWEtbGFiZWwiOiBpMThuLnRyYW5zbGF0ZSgneHBhY2suc25hcHNob3RSZXN0b3JlLnBvbGljeUxpc3QudGFibGUucmV0ZW50aW9uQ29sdW1uQXJpYUxhYmVsJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdSZXRlbnRpb24gY29uZmlndXJlZCcKICAgICAgICB9KQogICAgICB9KSA6IG51bGw7CiAgICB9CiAgfSwgewogICAgZmllbGQ6ICduZXh0RXhlY3V0aW9uTWlsbGlzJywKICAgIG5hbWU6IGkxOG4udHJhbnNsYXRlKCd4cGFjay5zbmFwc2hvdFJlc3RvcmUucG9saWN5TGlzdC50YWJsZS5uZXh0RXhlY3V0aW9uQ29sdW1uVGl0bGUnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTmV4dCBzbmFwc2hvdCcKICAgIH0pLAogICAgdHJ1bmNhdGVUZXh0OiB0cnVlLAogICAgc29ydGFibGU6IHRydWUsCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihuZXh0RXhlY3V0aW9uTWlsbGlzKSB7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb21wb25lbnRzLkZvcm1hdHRlZERhdGVUaW1lLCB7CiAgICAgICAgZXBvY2hNczogbmV4dEV4ZWN1dGlvbk1pbGxpcwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBuYW1lOiBpMThuLnRyYW5zbGF0ZSgneHBhY2suc25hcHNob3RSZXN0b3JlLnBvbGljeUxpc3QudGFibGUuYWN0aW9uc0NvbHVtblRpdGxlJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ0FjdGlvbnMnCiAgICB9KSwKICAgIGFjdGlvbnM6IFt7CiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKF9yZWY0KSB7CiAgICAgICAgdmFyIG5hbWUgPSBfcmVmNC5uYW1lLAogICAgICAgICAgICBpblByb2dyZXNzID0gX3JlZjQuaW5Qcm9ncmVzcywKICAgICAgICAgICAgaXNNYW5hZ2VkUG9saWN5ID0gX3JlZjQuaXNNYW5hZ2VkUG9saWN5OwogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICAgICAgICBndXR0ZXJTaXplOiAicyIKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICAgIGdyb3c6IGZhbHNlCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY29tcG9uZW50cy5Qb2xpY3lFeGVjdXRlUHJvdmlkZXIsIG51bGwsIGZ1bmN0aW9uIChleGVjdXRlUG9saWN5UHJvbXB0KSB7CiAgICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRvb2xUaXAsIHsKICAgICAgICAgICAgY29udGVudDogQm9vbGVhbihpblByb2dyZXNzKSA/IGkxOG4udHJhbnNsYXRlKCd4cGFjay5zbmFwc2hvdFJlc3RvcmUucG9saWN5TGlzdC50YWJsZS5hY3Rpb25FeGVjdXRlRGlzYWJsZWRUb29sdGlwJywgewogICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUG9saWN5IGlzIHJ1bm5pbmcnCiAgICAgICAgICAgIH0pIDogaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lMaXN0LnRhYmxlLmFjdGlvbkV4ZWN1dGVUb29sdGlwJywgewogICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUnVuIG5vdycKICAgICAgICAgICAgfSkKICAgICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b25JY29uLCB7CiAgICAgICAgICAgICJhcmlhLWxhYmVsIjogaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lMaXN0LnRhYmxlLmFjdGlvbkV4ZWN1dGVBcmlhTGFiZWwnLCB7CiAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJSdW4gJ3tuYW1lfScgaW1tZWRpYXRlbHkiLAogICAgICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICAgICAgbmFtZTogbmFtZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSksCiAgICAgICAgICAgIGljb25UeXBlOiAicGxheSIsCiAgICAgICAgICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICAgICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJleGVjdXRlUG9saWN5QnV0dG9uIiwKICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVBvbGljeVByb21wdChuYW1lLCBvblBvbGljeUV4ZWN1dGVkKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGlzYWJsZWQ6IEJvb2xlYW4oaW5Qcm9ncmVzcykKICAgICAgICAgIH0pKTsKICAgICAgICB9KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVG9vbFRpcCwgewogICAgICAgICAgY29udGVudDogaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lMaXN0LnRhYmxlLmFjdGlvbkVkaXRUb29sdGlwJywgewogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0VkaXQnCiAgICAgICAgICB9KQogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b25JY29uLCB7CiAgICAgICAgICAiYXJpYS1sYWJlbCI6IGkxOG4udHJhbnNsYXRlKCd4cGFjay5zbmFwc2hvdFJlc3RvcmUucG9saWN5TGlzdC50YWJsZS5hY3Rpb25FZGl0QXJpYUxhYmVsJywgewogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkVkaXQgcG9saWN5ICd7bmFtZX0nIiwKICAgICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgICAgbmFtZTogbmFtZQogICAgICAgICAgICB9CiAgICAgICAgICB9KSwKICAgICAgICAgIGljb25UeXBlOiAicGVuY2lsIiwKICAgICAgICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICAgICAgICBocmVmOiAoMCwgX25hdmlnYXRpb24ubGlua1RvRWRpdFBvbGljeSkobmFtZSksCiAgICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZWRpdFBvbGljeUJ1dHRvbiIKICAgICAgICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICAgIGdyb3c6IGZhbHNlCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY29tcG9uZW50cy5Qb2xpY3lEZWxldGVQcm92aWRlciwgbnVsbCwgZnVuY3Rpb24gKGRlbGV0ZVBvbGljeVByb21wdCkgewogICAgICAgICAgdmFyIGxhYmVsID0gIWlzTWFuYWdlZFBvbGljeSA/IGkxOG4udHJhbnNsYXRlKCd4cGFjay5zbmFwc2hvdFJlc3RvcmUucG9saWN5TGlzdC50YWJsZS5hY3Rpb25EZWxldGVUb29sdGlwJywgewogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0RlbGV0ZScKICAgICAgICAgIH0pIDogaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lMaXN0LnRhYmxlLmRlbGV0ZU1hbmFnZWRQb2xpY3lUYWJsZUFjdGlvblRvb2x0aXAnLCB7CiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnWW91IGNhbm5vdCBkZWxldGUgYSBtYW5hZ2VkIHBvbGljeS4nCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVG9vbFRpcCwgewogICAgICAgICAgICBjb250ZW50OiBsYWJlbAogICAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkljb24sIHsKICAgICAgICAgICAgImFyaWEtbGFiZWwiOiBpMThuLnRyYW5zbGF0ZSgneHBhY2suc25hcHNob3RSZXN0b3JlLnBvbGljeUxpc3QudGFibGUuYWN0aW9uRGVsZXRlQXJpYUxhYmVsJywgewogICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRGVsZXRlIHBvbGljeSAne25hbWV9JyIsCiAgICAgICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KSwKICAgICAgICAgICAgaWNvblR5cGU6ICJ0cmFzaCIsCiAgICAgICAgICAgIGNvbG9yOiAiZGFuZ2VyIiwKICAgICAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImRlbGV0ZVBvbGljeUJ1dHRvbiIsCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZVBvbGljeVByb21wdChbbmFtZV0sIG9uUG9saWN5RGVsZXRlZCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlzRGlzYWJsZWQ6IGlzTWFuYWdlZFBvbGljeQogICAgICAgICAgfSkpOwogICAgICAgIH0pKSk7CiAgICAgIH0KICAgIH1dLAogICAgd2lkdGg6ICcxMDBweCcKICB9XTsKICB2YXIgc29ydGluZyA9IHsKICAgIHNvcnQ6IHsKICAgICAgZmllbGQ6ICduYW1lJywKICAgICAgZGlyZWN0aW9uOiAnYXNjJwogICAgfQogIH07CiAgdmFyIHBhZ2luYXRpb24gPSB7CiAgICBpbml0aWFsUGFnZVNpemU6IDIwLAogICAgcGFnZVNpemVPcHRpb25zOiBbMTAsIDIwLCA1MF0KICB9OwogIHZhciBzZWxlY3Rpb24gPSB7CiAgICBvblNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gb25TZWxlY3Rpb25DaGFuZ2UobmV3U2VsZWN0ZWRJdGVtcykgewogICAgICByZXR1cm4gc2V0U2VsZWN0ZWRJdGVtcyhuZXdTZWxlY3RlZEl0ZW1zKTsKICAgIH0sCiAgICBzZWxlY3RhYmxlOiBmdW5jdGlvbiBzZWxlY3RhYmxlKF9yZWY1KSB7CiAgICAgIHZhciBpc01hbmFnZWRQb2xpY3kgPSBfcmVmNS5pc01hbmFnZWRQb2xpY3k7CiAgICAgIHJldHVybiAhaXNNYW5hZ2VkUG9saWN5OwogICAgfSwKICAgIHNlbGVjdGFibGVNZXNzYWdlOiBmdW5jdGlvbiBzZWxlY3RhYmxlTWVzc2FnZShzZWxlY3RhYmxlKSB7CiAgICAgIGlmICghc2VsZWN0YWJsZSkgewogICAgICAgIHJldHVybiBpMThuLnRyYW5zbGF0ZSgneHBhY2suc25hcHNob3RSZXN0b3JlLnBvbGljeUxpc3QudGFibGUuZGVsZXRlTWFuYWdlZFBvbGljeVNlbGVjdFRvb2x0aXAnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1lvdSBjYW5ub3QgZGVsZXRlIGEgbWFuYWdlZCBwb2xpY3kuJwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfTsKICB2YXIgc2VhcmNoID0gewogICAgdG9vbHNMZWZ0OiBzZWxlY3RlZEl0ZW1zLmxlbmd0aCA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHMuUG9saWN5RGVsZXRlUHJvdmlkZXIsIG51bGwsIGZ1bmN0aW9uIChkZWxldGVQb2xpY3lQcm9tcHQpIHsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgcmV0dXJuIGRlbGV0ZVBvbGljeVByb21wdChzZWxlY3RlZEl0ZW1zLm1hcChmdW5jdGlvbiAoX3JlZjYpIHsKICAgICAgICAgICAgdmFyIG5hbWUgPSBfcmVmNi5uYW1lOwogICAgICAgICAgICByZXR1cm4gbmFtZTsKICAgICAgICAgIH0pLCBvblBvbGljeURlbGV0ZWQpOwogICAgICAgIH0sCiAgICAgICAgY29sb3I6ICJkYW5nZXIiLAogICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJzclBvbGljeUxpc3RCdWxrRGVsZXRlQWN0aW9uQnV0dG9uIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lMaXN0LnRhYmxlLmRlbGV0ZVBvbGljeUJ1dHRvbiIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJEZWxldGUge2NvdW50LCBwbHVyYWwsIG9uZSB7cG9saWN5fSBvdGhlciB7cG9saWNpZXN9fSIsCiAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICBjb3VudDogc2VsZWN0ZWRJdGVtcy5sZW5ndGgKICAgICAgICB9CiAgICAgIH0pKTsKICAgIH0pIDogdW5kZWZpbmVkLAogICAgdG9vbHNSaWdodDogW19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgICAga2V5OiAicmVsb2FkUG9saWNpZXMiLAogICAgICBjb2xvcjogInNlY29uZGFyeSIsCiAgICAgIGljb25UeXBlOiAicmVmcmVzaCIsCiAgICAgIG9uQ2xpY2s6IHJlbG9hZCwKICAgICAgImRhdGEtdGVzdC1zdWJqIjogInJlbG9hZEJ1dHRvbiIKICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lMaXN0LnRhYmxlLnJlbG9hZFBvbGljaWVzQnV0dG9uIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJSZWxvYWQiCiAgICB9KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgICAga2V5OiAiY3JlYXRlTmV3UG9saWN5IiwKICAgICAgaHJlZjogKDAsIF9uYXZpZ2F0aW9uLmxpbmtUb0FkZFBvbGljeSkoKSwKICAgICAgZmlsbDogdHJ1ZSwKICAgICAgaWNvblR5cGU6ICJwbHVzSW5DaXJjbGUiLAogICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiY3JlYXRlUG9saWN5QnV0dG9uIgogICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnBvbGljeUxpc3QudGFibGUuYWRkUG9saWN5QnV0dG9uIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDcmVhdGUgYSBwb2xpY3kiCiAgICB9KSldLAogICAgYm94OiB7CiAgICAgIGluY3JlbWVudGFsOiB0cnVlLAogICAgICBzY2hlbWE6IHRydWUKICAgIH0sCiAgICBmaWx0ZXJzOiBbewogICAgICB0eXBlOiAnZmllbGRfdmFsdWVfc2VsZWN0aW9uJywKICAgICAgZmllbGQ6ICdyZXBvc2l0b3J5JywKICAgICAgbmFtZTogaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lMaXN0LnRhYmxlLnJlcG9zaXRvcnlGaWx0ZXJMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1JlcG9zaXRvcnknCiAgICAgIH0pLAogICAgICBtdWx0aVNlbGVjdDogZmFsc2UsCiAgICAgIG9wdGlvbnM6IE9iamVjdC5rZXlzKHBvbGljaWVzLnJlZHVjZShmdW5jdGlvbiAocmVwb3NpdG9yaWVzTWFwLCBwb2xpY3kpIHsKICAgICAgICByZXBvc2l0b3JpZXNNYXBbcG9saWN5LnJlcG9zaXRvcnldID0gdHJ1ZTsKICAgICAgICByZXR1cm4gcmVwb3NpdG9yaWVzTWFwOwogICAgICB9LCB7fSkpLm1hcChmdW5jdGlvbiAocmVwb3NpdG9yeSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2YWx1ZTogcmVwb3NpdG9yeSwKICAgICAgICAgIHZpZXc6IHJlcG9zaXRvcnkKICAgICAgICB9OwogICAgICB9KQogICAgfV0KICB9OwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSW5NZW1vcnlUYWJsZSwgewogICAgY2xhc3NOYW1lOiAic25hcHNob3RSZXN0b3JlX19wb2xpY3lUYWJsZSIsCiAgICBpdGVtczogcG9saWNpZXMsCiAgICBpdGVtSWQ6ICJuYW1lIiwKICAgIGNvbHVtbnM6IGNvbHVtbnMsCiAgICBzZWFyY2g6IHNlYXJjaCwKICAgIHNvcnRpbmc6IHNvcnRpbmcsCiAgICBzZWxlY3Rpb246IHNlbGVjdGlvbiwKICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb24sCiAgICBpc1NlbGVjdGFibGU6IHRydWUsCiAgICByb3dQcm9wczogZnVuY3Rpb24gcm93UHJvcHMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgJ2RhdGEtdGVzdC1zdWJqJzogJ3JvdycKICAgICAgfTsKICAgIH0sCiAgICBjZWxsUHJvcHM6IGZ1bmN0aW9uIGNlbGxQcm9wcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAnZGF0YS10ZXN0LXN1YmonOiAnY2VsbCcKICAgICAgfTsKICAgIH0sCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAicG9saWN5VGFibGUiCiAgfSk7Cn07CgpleHBvcnRzLlBvbGljeVRhYmxlID0gUG9saWN5VGFibGU7"},null]}