{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/plugins/kibana_utils/public/state_management/url/kbn_url_storage.js","dependencies":[{"path":"src/plugins/kibana_utils/public/state_management/url/kbn_url_storage.js","mtime":1585205041870},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldFN0YXRlc0Zyb21LYm5VcmwgPSBnZXRTdGF0ZXNGcm9tS2JuVXJsOwpleHBvcnRzLmdldFN0YXRlRnJvbUtiblVybCA9IGdldFN0YXRlRnJvbUtiblVybDsKZXhwb3J0cy5zZXRTdGF0ZVRvS2JuVXJsID0gc2V0U3RhdGVUb0tiblVybDsKZXhwb3J0cy5nZXRSZWxhdGl2ZVRvSGlzdG9yeVBhdGggPSBnZXRSZWxhdGl2ZVRvSGlzdG9yeVBhdGg7CmV4cG9ydHMuY3JlYXRlS2JuVXJsQ29udHJvbHMgPSB2b2lkIDA7Cgp2YXIgX3VybCA9IHJlcXVpcmUoInVybCIpOwoKdmFyIF9oaXN0b3J5ID0gcmVxdWlyZSgiaGlzdG9yeSIpOwoKdmFyIF9zdGF0ZV9lbmNvZGVyID0gcmVxdWlyZSgiLi4vc3RhdGVfZW5jb2RlciIpOwoKdmFyIF9wYXJzZSA9IHJlcXVpcmUoIi4vcGFyc2UiKTsKCnZhciBfc3RyaW5naWZ5X3F1ZXJ5X3N0cmluZyA9IHJlcXVpcmUoIi4vc3RyaW5naWZ5X3F1ZXJ5X3N0cmluZyIpOwoKdmFyIF9mb3JtYXQgPSByZXF1aXJlKCIuL2Zvcm1hdCIpOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KLyoqCiAqIFBhcnNlcyBhIGtpYmFuYSB1cmwgYW5kIHJldHJpZXZlcyBhbGwgdGhlIHN0YXRlcyBlbmNvZGVkIGludG8gdXJsLAogKiBIYW5kbGVzIGJvdGggZXhwYW5kZWQgcmlzb24gc3RhdGUgYW5kIGhhc2hlZCBzdGF0ZSAod2hlcmUgdGhlIGFjdHVhbCBzdGF0ZSBzdG9yZWQgaW4gc2Vzc2lvblN0b3JhZ2UpCiAqIGUuZy46CiAqCiAqIGdpdmVuIGFuIHVybDoKICogaHR0cDovL2xvY2FsaG9zdDo1NjAxL294Zi9hcHAva2liYW5hIy9tYW5hZ2VtZW50L2tpYmFuYS9pbmRleF9wYXR0ZXJucy9pZD9fYT0odGFiOmluZGV4ZWRGaWVsZHMpJl9iPShmOnRlc3QsaTonJyxsOicnKQogKiB3aWxsIHJldHVybiBvYmplY3Q6CiAqIHtfYToge3RhYjogJ2luZGV4ZWRGaWVsZHMnfSwgX2I6IHtmOiAndGVzdCcsIGk6ICcnLCBsOiAnJ319OwogKi8KCgpmdW5jdGlvbiBnZXRTdGF0ZXNGcm9tS2JuVXJsKCkgewogIHZhciBfcGFyc2VVcmxIYXNoOwoKICB2YXIgdXJsID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB3aW5kb3cubG9jYXRpb24uaHJlZjsKICB2YXIga2V5cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogIHZhciBxdWVyeSA9IChfcGFyc2VVcmxIYXNoID0gKDAsIF9wYXJzZS5wYXJzZVVybEhhc2gpKHVybCkpID09PSBudWxsIHx8IF9wYXJzZVVybEhhc2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wYXJzZVVybEhhc2gucXVlcnk7CiAgaWYgKCFxdWVyeSkgcmV0dXJuIHt9OwogIHZhciBkZWNvZGVkID0ge307CiAgT2JqZWN0LmVudHJpZXMocXVlcnkpLmZpbHRlcihmdW5jdGlvbiAoX3JlZikgewogICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMSksCiAgICAgICAga2V5ID0gX3JlZjJbMF07CgogICAgcmV0dXJuIGtleXMgPyBrZXlzLmluY2x1ZGVzKGtleSkgOiB0cnVlOwogIH0pLmZvckVhY2goZnVuY3Rpb24gKF9yZWYzKSB7CiAgICB2YXIgX3JlZjQgPSBfc2xpY2VkVG9BcnJheShfcmVmMywgMiksCiAgICAgICAgcSA9IF9yZWY0WzBdLAogICAgICAgIHZhbHVlID0gX3JlZjRbMV07CgogICAgZGVjb2RlZFtxXSA9ICgwLCBfc3RhdGVfZW5jb2Rlci5kZWNvZGVTdGF0ZSkodmFsdWUpOwogIH0pOwogIHJldHVybiBkZWNvZGVkOwp9Ci8qKgogKiBSZXRyaWV2ZXMgc3BlY2lmaWMgc3RhdGUgZnJvbSB1cmwgYnkga2V5CiAqIGUuZy46CiAqCiAqIGdpdmVuIGFuIHVybDoKICogaHR0cDovL2xvY2FsaG9zdDo1NjAxL294Zi9hcHAva2liYW5hIy9tYW5hZ2VtZW50L2tpYmFuYS9pbmRleF9wYXR0ZXJucy9pZD9fYT0odGFiOmluZGV4ZWRGaWVsZHMpJl9iPShmOnRlc3QsaTonJyxsOicnKQogKiBhbmQga2V5ICdfYScKICogd2lsbCByZXR1cm4gb2JqZWN0OgogKiB7dGFiOiAnaW5kZXhlZEZpZWxkcyd9CiAqLwoKCmZ1bmN0aW9uIGdldFN0YXRlRnJvbUtiblVybChrZXkpIHsKICB2YXIgdXJsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB3aW5kb3cubG9jYXRpb24uaHJlZjsKICByZXR1cm4gZ2V0U3RhdGVzRnJvbUtiblVybCh1cmwsIFtrZXldKVtrZXldIHx8IG51bGw7Cn0KLyoqCiAqIFNldHMgc3RhdGUgdG8gdGhlIHVybCBieSBrZXkgYW5kIHJldHVybnMgYSBuZXcgdXJsIHN0cmluZy4KICogRG9lc24ndCBhY3R1YWxseSB1cGRhdGVzIGhpc3RvcnkKICoKICogZS5nLjoKICogZ2l2ZW4gYSB1cmw6IGh0dHA6Ly9sb2NhbGhvc3Q6NTYwMS9veGYvYXBwL2tpYmFuYSMvbWFuYWdlbWVudC9raWJhbmEvaW5kZXhfcGF0dGVybnMvaWQ/X2E9KHRhYjppbmRleGVkRmllbGRzKSZfYj0oZjp0ZXN0LGk6JycsbDonJykKICoga2V5OiAnX2EnCiAqIGFuZCBzdGF0ZToge3RhYjogJ290aGVyJ30KICoKICogd2lsbCByZXR1cm4gdXJsOgogKiBodHRwOi8vbG9jYWxob3N0OjU2MDEvb3hmL2FwcC9raWJhbmEjL21hbmFnZW1lbnQva2liYW5hL2luZGV4X3BhdHRlcm5zL2lkP19hPSh0YWI6b3RoZXIpJl9iPShmOnRlc3QsaTonJyxsOicnKQogKi8KCgpmdW5jdGlvbiBzZXRTdGF0ZVRvS2JuVXJsKGtleSwgc3RhdGUpIHsKICB2YXIgX3JlZjUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHsKICAgIHVzZUhhc2g6IGZhbHNlCiAgfSwKICAgICAgX3JlZjUkdXNlSGFzaCA9IF9yZWY1LnVzZUhhc2gsCiAgICAgIHVzZUhhc2ggPSBfcmVmNSR1c2VIYXNoID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY1JHVzZUhhc2g7CgogIHZhciByYXdVcmwgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogIHJldHVybiAoMCwgX2Zvcm1hdC5yZXBsYWNlVXJsSGFzaFF1ZXJ5KShyYXdVcmwsIGZ1bmN0aW9uIChxdWVyeSkgewogICAgdmFyIGVuY29kZWQgPSAoMCwgX3N0YXRlX2VuY29kZXIuZW5jb2RlU3RhdGUpKHN0YXRlLCB1c2VIYXNoKTsKICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBxdWVyeSwgX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIGVuY29kZWQpKTsKICB9KTsKfQovKioKICogQSB0aW55IHdyYXBwZXIgYXJvdW5kIGhpc3RvcnkgbGlicmFyeSB0byBsaXN0ZW4gZm9yIHVybCBjaGFuZ2VzIGFuZCB1cGRhdGUgdXJsCiAqIEhpc3RvcnkgbGlicmFyeSBoYW5kbGVzIGEgYnVuY2ggb2YgY3Jvc3MgYnJvd3NlciBlZGdlIGNhc2VzCiAqLwoKCnZhciBjcmVhdGVLYm5VcmxDb250cm9scyA9IGZ1bmN0aW9uIGNyZWF0ZUtiblVybENvbnRyb2xzKCkgewogIHZhciBoaXN0b3J5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAoMCwgX2hpc3RvcnkuY3JlYXRlQnJvd3Nlckhpc3RvcnkpKCk7CiAgdmFyIHVwZGF0ZVF1ZXVlID0gW107IC8vIGlmIHdlIHNob3VsZCByZXBsYWNlIG9yIHB1c2ggd2l0aCBuZXh0IGFzeW5jIHVwZGF0ZSwKICAvLyBpZiBhbnkgY2FsbCBpbiBhIHF1ZXVlIGFza2VkIHRvIHB1c2gsIHRoZW4gd2Ugc2hvdWxkIHB1c2gKCiAgdmFyIHNob3VsZFJlcGxhY2UgPSB0cnVlOwoKICBmdW5jdGlvbiB1cGRhdGVVcmwobmV3VXJsKSB7CiAgICB2YXIgcmVwbGFjZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICB2YXIgY3VycmVudFVybCA9ICgwLCBfcGFyc2UuZ2V0Q3VycmVudFVybCkoKTsKICAgIGlmIChuZXdVcmwgPT09IGN1cnJlbnRVcmwpIHJldHVybiBjdXJyZW50VXJsOyAvLyBza2lwIHVwZGF0ZQoKICAgIHZhciBoaXN0b3J5UGF0aCA9IGdldFJlbGF0aXZlVG9IaXN0b3J5UGF0aChuZXdVcmwsIGhpc3RvcnkpOwoKICAgIGlmIChyZXBsYWNlKSB7CiAgICAgIGhpc3RvcnkucmVwbGFjZShoaXN0b3J5UGF0aCk7CiAgICB9IGVsc2UgewogICAgICBoaXN0b3J5LnB1c2goaGlzdG9yeVBhdGgpOwogICAgfQoKICAgIHJldHVybiAoMCwgX3BhcnNlLmdldEN1cnJlbnRVcmwpKCk7CiAgfSAvLyBxdWV1ZSBjbGVhbiB1cAoKCiAgZnVuY3Rpb24gY2xlYW5VcCgpIHsKICAgIHVwZGF0ZVF1ZXVlLnNwbGljZSgwLCB1cGRhdGVRdWV1ZS5sZW5ndGgpOwogICAgc2hvdWxkUmVwbGFjZSA9IHRydWU7CiAgfSAvLyBydW5zIHNjaGVkdWxlZCB1cmwgdXBkYXRlcwoKCiAgZnVuY3Rpb24gX2ZsdXNoKCkgewogICAgdmFyIHJlcGxhY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHNob3VsZFJlcGxhY2U7CiAgICBpZiAodXBkYXRlUXVldWUubGVuZ3RoID09PSAwKSByZXR1cm4gKDAsIF9wYXJzZS5nZXRDdXJyZW50VXJsKSgpOwogICAgdmFyIHJlc3VsdFVybCA9IHVwZGF0ZVF1ZXVlLnJlZHVjZShmdW5jdGlvbiAodXJsLCBuZXh0VXBkYXRlKSB7CiAgICAgIHJldHVybiBuZXh0VXBkYXRlKHVybCk7CiAgICB9LCAoMCwgX3BhcnNlLmdldEN1cnJlbnRVcmwpKCkpOwogICAgY2xlYW5VcCgpOwogICAgdmFyIG5ld1VybCA9IHVwZGF0ZVVybChyZXN1bHRVcmwsIHJlcGxhY2UpOwogICAgcmV0dXJuIG5ld1VybDsKICB9CgogIHJldHVybiB7CiAgICBsaXN0ZW46IGZ1bmN0aW9uIGxpc3RlbihjYikgewogICAgICByZXR1cm4gaGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGNiKCk7CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG5ld1VybCkgewogICAgICB2YXIgcmVwbGFjZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICAgIHJldHVybiB1cGRhdGVVcmwobmV3VXJsLCByZXBsYWNlKTsKICAgIH0sCiAgICB1cGRhdGVBc3luYzogZnVuY3Rpb24gdXBkYXRlQXN5bmModXBkYXRlcikgewogICAgICB2YXIgcmVwbGFjZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICAgIHVwZGF0ZVF1ZXVlLnB1c2godXBkYXRlcik7CgogICAgICBpZiAoc2hvdWxkUmVwbGFjZSkgewogICAgICAgIHNob3VsZFJlcGxhY2UgPSByZXBsYWNlOwogICAgICB9IC8vIFNjaGVkdWxlIHVybCB1cGRhdGUgdG8gdGhlIG5leHQgbWljcm90YXNrCiAgICAgIC8vIHRoaXMgYWxsb3dzIHRvIGJhdGNoIHN5bmNocm9ub3VzIHVybCBjaGFuZ2VzCgoKICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfZmx1c2goKTsKICAgICAgfSk7CiAgICB9LAogICAgZmx1c2g6IGZ1bmN0aW9uIGZsdXNoKHJlcGxhY2UpIHsKICAgICAgcmV0dXJuIF9mbHVzaChyZXBsYWNlKTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgY2xlYW5VcCgpOwogICAgfQogIH07Cn07Ci8qKgogKiBEZXBlbmRpbmcgb24gaGlzdG9yeSBjb25maWd1cmF0aW9uIGV4dHJhY3RzIHJlbGF0aXZlIHBhdGggZm9yIGhpc3RvcnkgdXBkYXRlcwogKiA0IHBvc3NpYmxlIGNhc2VzIChzZWUgdGVzdHMpOgogKiAxLiBCcm93c2VyIGhpc3Rvcnkgd2l0aCBlbXB0eSBiYXNlIHBhdGgKICogMi4gQnJvd3NlciBoaXN0b3J5IHdpdGggYmFzZSBwYXRoCiAqIDMuIEhhc2ggaGlzdG9yeSB3aXRoIGVtcHR5IGJhc2UgcGF0aAogKiA0LiBIYXNoIGhpc3Rvcnkgd2l0aCBiYXNlIHBhdGgKICovCgoKZXhwb3J0cy5jcmVhdGVLYm5VcmxDb250cm9scyA9IGNyZWF0ZUtiblVybENvbnRyb2xzOwoKZnVuY3Rpb24gZ2V0UmVsYXRpdmVUb0hpc3RvcnlQYXRoKGFic29sdXRlVXJsLCBoaXN0b3J5KSB7CiAgZnVuY3Rpb24gc3RyaXBCYXNlbmFtZSgpIHsKICAgIHZhciBwYXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJzsKCiAgICB2YXIgc3RyaXBMZWFkaW5nSGFzaCA9IGZ1bmN0aW9uIHN0cmlwTGVhZGluZ0hhc2goXykgewogICAgICByZXR1cm4gXy5jaGFyQXQoMCkgPT09ICcjJyA/IF8uc3Vic3RyKDEpIDogXzsKICAgIH07CgogICAgdmFyIHN0cmlwVHJhaWxpbmdTbGFzaCA9IGZ1bmN0aW9uIHN0cmlwVHJhaWxpbmdTbGFzaChfKSB7CiAgICAgIHJldHVybiBfLmNoYXJBdChfLmxlbmd0aCAtIDEpID09PSAnLycgPyBfLnN1YnN0cigwLCBfLmxlbmd0aCAtIDEpIDogXzsKICAgIH07CgogICAgdmFyIGJhc2VOYW1lID0gc3RyaXBMZWFkaW5nSGFzaChzdHJpcFRyYWlsaW5nU2xhc2goaGlzdG9yeS5jcmVhdGVIcmVmKHt9KSkpOwogICAgcmV0dXJuIHBhdGguc3RhcnRzV2l0aChiYXNlTmFtZSkgPyBwYXRoLnN1YnN0cihiYXNlTmFtZS5sZW5ndGgpIDogcGF0aDsKICB9CgogIHZhciBpc0hhc2hIaXN0b3J5ID0gaGlzdG9yeS5jcmVhdGVIcmVmKHt9KS5pbmNsdWRlcygnIycpOwogIHZhciBwYXJzZWRVcmwgPSBpc0hhc2hIaXN0b3J5ID8gKDAsIF9wYXJzZS5wYXJzZVVybEhhc2gpKGFic29sdXRlVXJsKSA6ICgwLCBfcGFyc2UucGFyc2VVcmwpKGFic29sdXRlVXJsKTsKICB2YXIgcGFyc2VkSGFzaCA9IGlzSGFzaEhpc3RvcnkgPyBudWxsIDogKDAsIF9wYXJzZS5wYXJzZVVybEhhc2gpKGFic29sdXRlVXJsKTsKICByZXR1cm4gKDAsIF91cmwuZm9ybWF0KSh7CiAgICBwYXRobmFtZTogc3RyaXBCYXNlbmFtZShwYXJzZWRVcmwucGF0aG5hbWUpLAogICAgc2VhcmNoOiAoMCwgX3N0cmluZ2lmeV9xdWVyeV9zdHJpbmcuc3RyaW5naWZ5UXVlcnlTdHJpbmcpKHBhcnNlZFVybC5xdWVyeSksCiAgICBoYXNoOiBwYXJzZWRIYXNoID8gKDAsIF91cmwuZm9ybWF0KSh7CiAgICAgIHBhdGhuYW1lOiBwYXJzZWRIYXNoLnBhdGhuYW1lLAogICAgICBzZWFyY2g6ICgwLCBfc3RyaW5naWZ5X3F1ZXJ5X3N0cmluZy5zdHJpbmdpZnlRdWVyeVN0cmluZykocGFyc2VkSGFzaC5xdWVyeSkKICAgIH0pIDogcGFyc2VkVXJsLmhhc2gKICB9KTsKfQ=="},null]}