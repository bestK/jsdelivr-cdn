{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/plugins/expressions/public/expression_renderer.js","dependencies":[{"path":"src/plugins/expressions/public/expression_renderer.js","mtime":1585205041730},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkV4cHJlc3Npb25SZW5kZXJlckltcGxlbWVudGF0aW9uID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9jbGFzc25hbWVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJjbGFzc25hbWVzIikpOwoKdmFyIF9vcGVyYXRvcnMgPSByZXF1aXJlKCJyeGpzL29wZXJhdG9ycyIpOwoKdmFyIF91c2VTaGFsbG93Q29tcGFyZUVmZmVjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicmVhY3QtdXNlL2xpYi91c2VTaGFsbG93Q29tcGFyZUVmZmVjdCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2V1aV90aGVtZV9saWdodCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQGVsYXN0aWMvZXVpL2Rpc3QvZXVpX3RoZW1lX2xpZ2h0Lmpzb24iKSk7Cgp2YXIgX2xvYWRlciA9IHJlcXVpcmUoIi4vbG9hZGVyIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF9leHRlbmRzKCkgewogIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7CiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOwoKICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7CiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0YXJnZXQ7CiAgfTsKCiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgewogIHZhciBfYXJyID0gW107CiAgdmFyIF9uID0gdHJ1ZTsKICB2YXIgX2QgPSBmYWxzZTsKICB2YXIgX2UgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7CiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7CgogICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZCA9IHRydWU7CiAgICBfZSA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgfQogIH0KCiAgcmV0dXJuIF9hcnI7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOwp9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgewogIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OwoKICB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7CgogIHZhciBrZXksIGk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsKCiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgewogICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOwogICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOwogICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOwogICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgewogIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OwogIHZhciB0YXJnZXQgPSB7fTsKICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7CiAgdmFyIGtleSwgaTsKCiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsKICAgIGtleSA9IHNvdXJjZUtleXNbaV07CiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOwogICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsKICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCnZhciBkZWZhdWx0U3RhdGUgPSB7CiAgaXNFbXB0eTogdHJ1ZSwKICBpc0xvYWRpbmc6IGZhbHNlLAogIGVycm9yOiBudWxsCn07Cgp2YXIgRXhwcmVzc2lvblJlbmRlcmVySW1wbGVtZW50YXRpb24gPSBmdW5jdGlvbiBFeHByZXNzaW9uUmVuZGVyZXJJbXBsZW1lbnRhdGlvbihfcmVmKSB7CiAgdmFyIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLAogICAgICBkYXRhQXR0cnMgPSBfcmVmLmRhdGFBdHRycywKICAgICAgcGFkZGluZyA9IF9yZWYucGFkZGluZywKICAgICAgcmVuZGVyRXJyb3IgPSBfcmVmLnJlbmRlckVycm9yLAogICAgICBleHByZXNzaW9uID0gX3JlZi5leHByZXNzaW9uLAogICAgICBleHByZXNzaW9uTG9hZGVyT3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbImNsYXNzTmFtZSIsICJkYXRhQXR0cnMiLCAicGFkZGluZyIsICJyZW5kZXJFcnJvciIsICJleHByZXNzaW9uIl0pOwoKICB2YXIgbW91bnRwb2ludCA9ICgwLCBfcmVhY3QudXNlUmVmKShudWxsKTsKCiAgdmFyIF91c2VTdGF0ZSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRTdGF0ZSkpLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgc3RhdGUgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRTdGF0ZSA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBoYXNDdXN0b21SZW5kZXJFcnJvckhhbmRsZXIgPSAhIXJlbmRlckVycm9yOwogIHZhciBleHByZXNzaW9uTG9hZGVyUmVmID0gKDAsIF9yZWFjdC51c2VSZWYpKG51bGwpOyAvLyBmbGFnIHRvIHNraXAgbmV4dCByZW5kZXIkIG5vdGlmaWNhdGlvbiwKICAvLyBiZWNhdXNlIG9mIGp1c3QgaGFuZGxlZCBlcnJvcgoKICB2YXIgaGFzSGFuZGxlZEVycm9yUmVmID0gKDAsIF9yZWFjdC51c2VSZWYpKGZhbHNlKTsgLy8gd2lsbCBjYWxsIGRvbmUoKSBpbiBMYXlvdXRFZmZlY3Qgd2hlbiBkb25lIHdpdGggcmVuZGVyaW5nIGN1c3RvbSBlcnJvciBzdGF0ZQoKICB2YXIgZXJyb3JSZW5kZXJIYW5kbGVyUmVmID0gKDAsIF9yZWFjdC51c2VSZWYpKG51bGwpOwogIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwcyAqLwogIC8vIE9LIHRvIGlnbm9yZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHMgYmVjYXVzZSBvcHRpb25zIHVwZGF0ZSBpcyBoYW5kbGVkIGJ5IGNhbGxpbmcgLnVwZGF0ZSgpCgogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICB2YXIgc3VicyA9IFtdOwogICAgZXhwcmVzc2lvbkxvYWRlclJlZi5jdXJyZW50ID0gbmV3IF9sb2FkZXIuRXhwcmVzc2lvbkxvYWRlcihtb3VudHBvaW50LmN1cnJlbnQsIGV4cHJlc3Npb24sIF9vYmplY3RTcHJlYWQoe30sIGV4cHJlc3Npb25Mb2FkZXJPcHRpb25zLCB7CiAgICAgIC8vIHJlYWN0IGNvbXBvbmVudCB3cmFwcGVyIHByb3ZpZGVzIGRpZmZlcmVudAogICAgICAvLyBlcnJvciBoYW5kbGluZyBhcGkgd2hpY2ggaXMgZWFzaWVyIHRvIHdvcmsgd2l0aCBmcm9tIHJlYWN0CiAgICAgIC8vIGlmIGN1c3RvbSByZW5kZXJFcnJvciBpcyBub3QgcHJvdmlkZWQgdGhlbiB3ZSBmYWxsYmFjayB0byBkZWZhdWx0IGVycm9yIGhhbmRsaW5nIGZyb20gRXhwcmVzc2lvbkxvYWRlcgogICAgICBvblJlbmRlckVycm9yOiBoYXNDdXN0b21SZW5kZXJFcnJvckhhbmRsZXIgPyBmdW5jdGlvbiAoZG9tTm9kZSwgZXJyb3IsIGhhbmRsZXJzKSB7CiAgICAgICAgZXJyb3JSZW5kZXJIYW5kbGVyUmVmLmN1cnJlbnQgPSBoYW5kbGVyczsKICAgICAgICBzZXRTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdFN0YXRlLCB7CiAgICAgICAgICAgIGlzRW1wdHk6IGZhbHNlLAogICAgICAgICAgICBlcnJvcjogZXJyb3IKICAgICAgICAgIH0pOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoZXhwcmVzc2lvbkxvYWRlck9wdGlvbnMub25SZW5kZXJFcnJvcikgewogICAgICAgICAgZXhwcmVzc2lvbkxvYWRlck9wdGlvbnMub25SZW5kZXJFcnJvcihkb21Ob2RlLCBlcnJvciwgaGFuZGxlcnMpOwogICAgICAgIH0KICAgICAgfSA6IGV4cHJlc3Npb25Mb2FkZXJPcHRpb25zLm9uUmVuZGVyRXJyb3IKICAgIH0pKTsKICAgIHN1YnMucHVzaChleHByZXNzaW9uTG9hZGVyUmVmLmN1cnJlbnQubG9hZGluZyQuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHsKICAgICAgaGFzSGFuZGxlZEVycm9yUmVmLmN1cnJlbnQgPSBmYWxzZTsKICAgICAgc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkgewogICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBwcmV2U3RhdGUsIHsKICAgICAgICAgIGlzTG9hZGluZzogdHJ1ZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pLCBleHByZXNzaW9uTG9hZGVyUmVmLmN1cnJlbnQucmVuZGVyJC5waXBlKCgwLCBfb3BlcmF0b3JzLmZpbHRlcikoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gIWhhc0hhbmRsZWRFcnJvclJlZi5jdXJyZW50OwogICAgfSkpLnN1YnNjcmliZShmdW5jdGlvbiAoaXRlbSkgewogICAgICBzZXRTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRTdGF0ZSwgewogICAgICAgICAgaXNFbXB0eTogZmFsc2UKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KSk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBzdWJzLmZvckVhY2goZnVuY3Rpb24gKHMpIHsKICAgICAgICByZXR1cm4gcy51bnN1YnNjcmliZSgpOwogICAgICB9KTsKCiAgICAgIGlmIChleHByZXNzaW9uTG9hZGVyUmVmLmN1cnJlbnQpIHsKICAgICAgICBleHByZXNzaW9uTG9hZGVyUmVmLmN1cnJlbnQuZGVzdHJveSgpOwogICAgICAgIGV4cHJlc3Npb25Mb2FkZXJSZWYuY3VycmVudCA9IG51bGw7CiAgICAgIH0KCiAgICAgIGVycm9yUmVuZGVySGFuZGxlclJlZi5jdXJyZW50ID0gbnVsbDsKICAgIH07CiAgfSwgW2hhc0N1c3RvbVJlbmRlckVycm9ySGFuZGxlcl0pOyAvLyBSZS1mZXRjaCBkYXRhIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgaW5wdXRzIGNoYW5nZQoKICAoMCwgX3VzZVNoYWxsb3dDb21wYXJlRWZmZWN0LmRlZmF1bHQpKGZ1bmN0aW9uICgpIHsKICAgIGlmIChleHByZXNzaW9uTG9hZGVyUmVmLmN1cnJlbnQpIHsKICAgICAgZXhwcmVzc2lvbkxvYWRlclJlZi5jdXJyZW50LnVwZGF0ZShleHByZXNzaW9uLCBleHByZXNzaW9uTG9hZGVyT3B0aW9ucyk7CiAgICB9CiAgfSwgLy8gd2hlbiBleHByZXNzaW9uIGlzIGNoYW5nZWQgYnkgcmVmZXJlbmNlIGFuZCB3aGVuIGFueSBvdGhlciBsb2FkZXJPcHRpb24gaXMgY2hhbmdlZCBieSByZWZlcmVuY2UKICBbX29iamVjdFNwcmVhZCh7CiAgICBleHByZXNzaW9uOiBleHByZXNzaW9uCiAgfSwgZXhwcmVzc2lvbkxvYWRlck9wdGlvbnMpXSk7CiAgLyogZXNsaW50LWVuYWJsZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHMgKi8KICAvLyBjYWxsIGV4cHJlc3Npb24gbG9hZGVyJ3MgZG9uZSgpIGhhbmRsZXIgd2hlbiBmaW5pc2hlZCByZW5kZXJpbmcgY3VzdG9tIGVycm9yIHN0YXRlCgogICgwLCBfcmVhY3QudXNlTGF5b3V0RWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICBpZiAoc3RhdGUuZXJyb3IgJiYgZXJyb3JSZW5kZXJIYW5kbGVyUmVmLmN1cnJlbnQpIHsKICAgICAgaGFzSGFuZGxlZEVycm9yUmVmLmN1cnJlbnQgPSB0cnVlOwogICAgICBlcnJvclJlbmRlckhhbmRsZXJSZWYuY3VycmVudC5kb25lKCk7CiAgICAgIGVycm9yUmVuZGVySGFuZGxlclJlZi5jdXJyZW50ID0gbnVsbDsKICAgIH0KICB9LCBbc3RhdGUuZXJyb3JdKTsKICB2YXIgY2xhc3NlcyA9ICgwLCBfY2xhc3NuYW1lcy5kZWZhdWx0KSgnZXhwRXhwcmVzc2lvblJlbmRlcmVyJywgewogICAgJ2V4cEV4cHJlc3Npb25SZW5kZXJlci1pc0VtcHR5Jzogc3RhdGUuaXNFbXB0eSwKICAgICdleHBFeHByZXNzaW9uUmVuZGVyZXItaGFzRXJyb3InOiAhIXN0YXRlLmVycm9yLAogICAgY2xhc3NOYW1lOiBjbGFzc05hbWUKICB9KTsKICB2YXIgZXhwcmVzc2lvblN0eWxlcyA9IHt9OwoKICBpZiAocGFkZGluZykgewogICAgZXhwcmVzc2lvblN0eWxlcy5wYWRkaW5nID0gX2V1aV90aGVtZV9saWdodC5kZWZhdWx0LnBhZGRpbmdTaXplc1twYWRkaW5nXTsKICB9CgogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBfZXh0ZW5kcyh7fSwgZGF0YUF0dHJzLCB7CiAgICBjbGFzc05hbWU6IGNsYXNzZXMKICB9KSwgc3RhdGUuaXNFbXB0eSAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTG9hZGluZ0NoYXJ0LCB7CiAgICBtb25vOiB0cnVlLAogICAgc2l6ZTogImwiCiAgfSksIHN0YXRlLmlzTG9hZGluZyAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUHJvZ3Jlc3MsIHsKICAgIHNpemU6ICJ4cyIsCiAgICBjb2xvcjogImFjY2VudCIsCiAgICBwb3NpdGlvbjogImFic29sdXRlIgogIH0pLCAhc3RhdGUuaXNMb2FkaW5nICYmIHN0YXRlLmVycm9yICYmIHJlbmRlckVycm9yICYmIHJlbmRlckVycm9yKHN0YXRlLmVycm9yLm1lc3NhZ2UpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJleHBFeHByZXNzaW9uUmVuZGVyZXJfX2V4cHJlc3Npb24iLAogICAgc3R5bGU6IGV4cHJlc3Npb25TdHlsZXMsCiAgICByZWY6IG1vdW50cG9pbnQKICB9KSk7Cn07CgpleHBvcnRzLkV4cHJlc3Npb25SZW5kZXJlckltcGxlbWVudGF0aW9uID0gRXhwcmVzc2lvblJlbmRlcmVySW1wbGVtZW50YXRpb247"},null]}