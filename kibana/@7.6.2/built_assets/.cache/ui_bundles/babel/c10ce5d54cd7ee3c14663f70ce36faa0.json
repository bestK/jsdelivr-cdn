{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/remote_clusters/public/app/sections/remote_cluster_list/remote_cluster_list.js","dependencies":[{"path":"x-pack/legacy/plugins/remote_clusters/public/app/sections/remote_cluster_list/remote_cluster_list.js","mtime":1585205046648},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlJlbW90ZUNsdXN0ZXJMaXN0ID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInByb3AtdHlwZXMiKSk7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCIuLi8uLi9jb25zdGFudHMiKTsKCnZhciBfc2VydmljZXMgPSByZXF1aXJlKCIuLi8uLi9zZXJ2aWNlcyIpOwoKdmFyIF9icmVhZGNydW1iID0gcmVxdWlyZSgiLi4vLi4vc2VydmljZXMvYnJlYWRjcnVtYiIpOwoKdmFyIF9yZW1vdGVfY2x1c3Rlcl90YWJsZSA9IHJlcXVpcmUoIi4vcmVtb3RlX2NsdXN0ZXJfdGFibGUiKTsKCnZhciBfZGV0YWlsX3BhbmVsID0gcmVxdWlyZSgiLi9kZXRhaWxfcGFuZWwiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCnZhciBSRUZSRVNIX1JBVEVfTVMgPSAzMDAwMDsKCnZhciBSZW1vdGVDbHVzdGVyTGlzdCA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoUmVtb3RlQ2x1c3Rlckxpc3QsIF9Db21wb25lbnQpOwoKICBmdW5jdGlvbiBSZW1vdGVDbHVzdGVyTGlzdCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZW1vdGVDbHVzdGVyTGlzdCk7CgogICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihSZW1vdGVDbHVzdGVyTGlzdCkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoUmVtb3RlQ2x1c3Rlckxpc3QsIFt7CiAgICBrZXk6ICJjb21wb25lbnREaWRVcGRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHsKICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcywKICAgICAgICAgIG9wZW5EZXRhaWxQYW5lbCA9IF90aGlzJHByb3BzLm9wZW5EZXRhaWxQYW5lbCwKICAgICAgICAgIGNsb3NlRGV0YWlsUGFuZWwgPSBfdGhpcyRwcm9wcy5jbG9zZURldGFpbFBhbmVsLAogICAgICAgICAgaXNEZXRhaWxQYW5lbE9wZW4gPSBfdGhpcyRwcm9wcy5pc0RldGFpbFBhbmVsT3BlbiwKICAgICAgICAgIHNlYXJjaCA9IF90aGlzJHByb3BzLmhpc3RvcnkubG9jYXRpb24uc2VhcmNoOwoKICAgICAgdmFyIF9leHRyYWN0UXVlcnlQYXJhbXMgPSAoMCwgX3NlcnZpY2VzLmV4dHJhY3RRdWVyeVBhcmFtcykoc2VhcmNoKSwKICAgICAgICAgIGNsdXN0ZXJOYW1lID0gX2V4dHJhY3RRdWVyeVBhcmFtcy5jbHVzdGVyOyAvLyBTaG93IGRlZXBsaW5rZWQgcmVtb3RlQ2x1c3RlciB3aGVuZXZlciByZW1vdGVDbHVzdGVycyBnZXQgbG9hZGVkIG9yIHRoZSBVUkwgY2hhbmdlcy4KCgogICAgICBpZiAoY2x1c3Rlck5hbWUgIT0gbnVsbCkgewogICAgICAgIG9wZW5EZXRhaWxQYW5lbChjbHVzdGVyTmFtZSk7CiAgICAgIH0gZWxzZSBpZiAoaXNEZXRhaWxQYW5lbE9wZW4pIHsKICAgICAgICBjbG9zZURldGFpbFBhbmVsKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIHRoaXMucHJvcHMubG9hZENsdXN0ZXJzKCk7CiAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLnByb3BzLnJlZnJlc2hDbHVzdGVycywgUkVGUkVTSF9SQVRFX01TKTsKICAgICAgKDAsIF9icmVhZGNydW1iLnNldEJyZWFkY3J1bWJzKSgnaG9tZScpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudFdpbGxVbm1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRIZWFkZXJTZWN0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIZWFkZXJTZWN0aW9uKGlzQXV0aG9yaXplZCkgewogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlQYWdlQ29udGVudEhlYWRlciwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVBhZ2VDb250ZW50SGVhZGVyU2VjdGlvbiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRpdGxlLCB7CiAgICAgICAgc2l6ZTogImwiCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImgxIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInhwYWNrLnJlbW90ZUNsdXN0ZXJzLnJlbW90ZUNsdXN0ZXJMaXN0VGl0bGUiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUmVtb3RlIENsdXN0ZXJzIgogICAgICB9KSkpKSwgaXNBdXRob3JpemVkICYmIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlQYWdlQ29udGVudEhlYWRlclNlY3Rpb24sIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIF9leHRlbmRzKHt9LCAoMCwgX3NlcnZpY2VzLmdldFJvdXRlckxpbmtQcm9wcykoIiIuY29uY2F0KF9jb25zdGFudHMuQ1JVRF9BUFBfQkFTRV9QQVRILCAiL2FkZCIpKSwgewogICAgICAgIGZpbGw6IHRydWUsCiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogInJlbW90ZUNsdXN0ZXJDcmVhdGVCdXR0b24iCiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAieHBhY2sucmVtb3RlQ2x1c3RlcnMucmVtb3RlQ2x1c3Rlckxpc3QuY29ubmVjdEJ1dHRvbkxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkFkZCBhIHJlbW90ZSBjbHVzdGVyIgogICAgICB9KSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJtIgogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyQmxvY2tpbmdBY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckJsb2NraW5nQWN0aW9uKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcywKICAgICAgICAgIGlzQ29weWluZ0NsdXN0ZXIgPSBfdGhpcyRwcm9wczIuaXNDb3B5aW5nQ2x1c3RlciwKICAgICAgICAgIGlzUmVtb3ZpbmdDbHVzdGVyID0gX3RoaXMkcHJvcHMyLmlzUmVtb3ZpbmdDbHVzdGVyOwoKICAgICAgaWYgKGlzQ29weWluZ0NsdXN0ZXIgfHwgaXNSZW1vdmluZ0NsdXN0ZXIpIHsKICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU92ZXJsYXlNYXNrLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTG9hZGluZ0tpYmFuYSwgewogICAgICAgICAgc2l6ZTogInhsIgogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyTm9QZXJtaXNzaW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJOb1Blcm1pc3Npb24oKSB7CiAgICAgIHZhciB0aXRsZSA9IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5yZW1vdGVDbHVzdGVycy5yZW1vdGVDbHVzdGVyTGlzdC5ub1Blcm1pc3Npb25UaXRsZScsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1Blcm1pc3Npb24gZXJyb3InCiAgICAgIH0pOwoKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlDYWxsT3V0LCB7CiAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgIGNvbG9yOiAid2FybmluZyIsCiAgICAgICAgaWNvblR5cGU6ICJoZWxwIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAieHBhY2sucmVtb3RlQ2x1c3RlcnMucmVtb3RlQ2x1c3Rlckxpc3Qubm9QZXJtaXNzaW9uVGV4dCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byB2aWV3IG9yIGFkZCByZW1vdGUgY2x1c3RlcnMuIgogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyRXJyb3IiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckVycm9yKGVycm9yKSB7CiAgICAgIC8vIFdlIGNhbiBzYWZlbHkgZGVwZW5kIHVwb24gdGhlIHNoYXBlIG9mIHRoaXMgZXJyb3IgY29taW5nIGZyb20gQW5ndWxhciAkaHR0cCwgYmVjYXVzZSB3ZQogICAgICAvLyBoYW5kbGUgdW5leHBlY3RlZCBlcnJvciBzaGFwZXMgaW4gdGhlIEFQSSBhY3Rpb24uCiAgICAgIHZhciBfZXJyb3IkZGF0YSA9IGVycm9yLmRhdGEsCiAgICAgICAgICBzdGF0dXNDb2RlID0gX2Vycm9yJGRhdGEuc3RhdHVzQ29kZSwKICAgICAgICAgIGVycm9yU3RyaW5nID0gX2Vycm9yJGRhdGEuZXJyb3I7CgogICAgICB2YXIgdGl0bGUgPSBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sucmVtb3RlQ2x1c3RlcnMucmVtb3RlQ2x1c3Rlckxpc3QubG9hZGluZ0Vycm9yVGl0bGUnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdFcnJvciBsb2FkaW5nIHJlbW90ZSBjbHVzdGVycycKICAgICAgfSk7CgogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNhbGxPdXQsIHsKICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgY29sb3I6ICJkYW5nZXIiLAogICAgICAgIGljb25UeXBlOiAiYWxlcnQiCiAgICAgIH0sIHN0YXR1c0NvZGUsICIgIiwgZXJyb3JTdHJpbmcpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlckVtcHR5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJFbXB0eSgpIHsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlFbXB0eVByb21wdCwgewogICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJyZW1vdGVDbHVzdGVyTGlzdEVtcHR5UHJvbXB0IiwKICAgICAgICBpY29uVHlwZTogIm1hbmFnZW1lbnRBcHAiLAogICAgICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMSIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInhwYWNrLnJlbW90ZUNsdXN0ZXJzLnJlbW90ZUNsdXN0ZXJMaXN0LmVtcHR5UHJvbXB0VGl0bGUiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJBZGQgeW91ciBmaXJzdCByZW1vdGUgY2x1c3RlciIKICAgICAgICB9KSksCiAgICAgICAgYm9keTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInAiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ4cGFjay5yZW1vdGVDbHVzdGVycy5yZW1vdGVDbHVzdGVyTGlzdC5lbXB0eVByb21wdERlc2NyaXB0aW9uIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUmVtb3RlIGNsdXN0ZXJzIGNyZWF0ZSBhIHVuaS1kaXJlY3Rpb25hbCBjb25uZWN0aW9uIGZyb20geW91ciBsb2NhbCBjbHVzdGVyIHRvIG90aGVyIGNsdXN0ZXJzLiIKICAgICAgICB9KSkpLAogICAgICAgIGFjdGlvbnM6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIF9leHRlbmRzKHt9LCAoMCwgX3NlcnZpY2VzLmdldFJvdXRlckxpbmtQcm9wcykoIiIuY29uY2F0KF9jb25zdGFudHMuQ1JVRF9BUFBfQkFTRV9QQVRILCAiL2FkZCIpKSwgewogICAgICAgICAgZmlsbDogdHJ1ZSwKICAgICAgICAgIGljb25UeXBlOiAicGx1c0luQ2lyY2xlIiwKICAgICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJyZW1vdGVDbHVzdGVyRW1wdHlQcm9tcHRDcmVhdGVCdXR0b24iCiAgICAgICAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInhwYWNrLnJlbW90ZUNsdXN0ZXJzLnJlbW90ZUNsdXN0ZXJMaXN0LmVtcHR5UHJvbXB0LmNvbm5lY3RCdXR0b25MYWJlbCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkFkZCBhIHJlbW90ZSBjbHVzdGVyIgogICAgICAgIH0pKQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXJMb2FkaW5nIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJMb2FkaW5nKCkgewogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgICAgIGp1c3RpZnlDb250ZW50OiAiZmxleFN0YXJ0IiwKICAgICAgICBhbGlnbkl0ZW1zOiAiY2VudGVyIiwKICAgICAgICBndXR0ZXJTaXplOiAicyIsCiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogInJlbW90ZUNsdXN0ZXJzVGFibGVMb2FkaW5nIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTG9hZGluZ1NwaW5uZXIsIHsKICAgICAgICBzaXplOiAibSIKICAgICAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRleHRDb2xvciwgewogICAgICAgIGNvbG9yOiAic3ViZHVlZCIKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInhwYWNrLnJlbW90ZUNsdXN0ZXJzLnJlbW90ZUNsdXN0ZXJMaXN0LmxvYWRpbmdUaXRsZSIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJMb2FkaW5nIHJlbW90ZSBjbHVzdGVycy4uLiIKICAgICAgfSkpKSkpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlckxpc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckxpc3QoKSB7CiAgICAgIHZhciBjbHVzdGVycyA9IHRoaXMucHJvcHMuY2x1c3RlcnM7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVtb3RlX2NsdXN0ZXJfdGFibGUuUmVtb3RlQ2x1c3RlclRhYmxlLCB7CiAgICAgICAgY2x1c3RlcnM6IGNsdXN0ZXJzCiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9kZXRhaWxfcGFuZWwuRGV0YWlsUGFuZWwsIG51bGwpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsCiAgICAgICAgICBpc0xvYWRpbmcgPSBfdGhpcyRwcm9wczMuaXNMb2FkaW5nLAogICAgICAgICAgY2x1c3RlcnMgPSBfdGhpcyRwcm9wczMuY2x1c3RlcnMsCiAgICAgICAgICBjbHVzdGVyTG9hZEVycm9yID0gX3RoaXMkcHJvcHMzLmNsdXN0ZXJMb2FkRXJyb3I7CiAgICAgIHZhciBpc0VtcHR5ID0gIWlzTG9hZGluZyAmJiAhY2x1c3RlcnMubGVuZ3RoOwogICAgICB2YXIgaXNBdXRob3JpemVkID0gIWNsdXN0ZXJMb2FkRXJyb3IgfHwgY2x1c3RlckxvYWRFcnJvci5zdGF0dXMgIT09IDQwMzsKICAgICAgdmFyIGlzSGVhZGVyVmlzaWJsZSA9IGNsdXN0ZXJMb2FkRXJyb3IgfHwgIWlzRW1wdHk7CiAgICAgIHZhciBjb250ZW50OwoKICAgICAgaWYgKGNsdXN0ZXJMb2FkRXJyb3IpIHsKICAgICAgICBpZiAoIWlzQXV0aG9yaXplZCkgewogICAgICAgICAgY29udGVudCA9IHRoaXMucmVuZGVyTm9QZXJtaXNzaW9uKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnRlbnQgPSB0aGlzLnJlbmRlckVycm9yKGNsdXN0ZXJMb2FkRXJyb3IpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChpc0VtcHR5KSB7CiAgICAgICAgY29udGVudCA9IHRoaXMucmVuZGVyRW1wdHkoKTsKICAgICAgfSBlbHNlIGlmIChpc0xvYWRpbmcpIHsKICAgICAgICBjb250ZW50ID0gdGhpcy5yZW5kZXJMb2FkaW5nKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29udGVudCA9IHRoaXMucmVuZGVyTGlzdCgpOwogICAgICB9CgogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVBhZ2VCb2R5LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUGFnZUNvbnRlbnQsIG51bGwsIGlzSGVhZGVyVmlzaWJsZSAmJiB0aGlzLmdldEhlYWRlclNlY3Rpb24oaXNBdXRob3JpemVkKSwgY29udGVudCwgdGhpcy5yZW5kZXJCbG9ja2luZ0FjdGlvbigpKSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUmVtb3RlQ2x1c3Rlckxpc3Q7Cn0oX3JlYWN0LkNvbXBvbmVudCk7CgpleHBvcnRzLlJlbW90ZUNsdXN0ZXJMaXN0ID0gUmVtb3RlQ2x1c3Rlckxpc3Q7CgpfZGVmaW5lUHJvcGVydHkoUmVtb3RlQ2x1c3Rlckxpc3QsICJwcm9wVHlwZXMiLCB7CiAgbG9hZENsdXN0ZXJzOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIHJlZnJlc2hDbHVzdGVyczogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCwKICBvcGVuRGV0YWlsUGFuZWw6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsCiAgY2xvc2VEZXRhaWxQYW5lbDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCwKICBpc0RldGFpbFBhbmVsT3BlbjogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsCiAgY2x1c3RlcnM6IF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheSwKICBpc0xvYWRpbmc6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLAogIGlzQ29weWluZ0NsdXN0ZXI6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLAogIGlzUmVtb3ZpbmdDbHVzdGVyOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbAp9KTs="},null]}