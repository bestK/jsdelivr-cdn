{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/ui/public/vis/editors/default/controls/top_aggregate.js","dependencies":[{"path":"src/legacy/ui/public/vis/editors/default/controls/top_aggregate.js","mtime":1585205041295},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldENvbXBhdGlibGVBZ2dzID0gZ2V0Q29tcGF0aWJsZUFnZ3M7CmV4cG9ydHMuVG9wQWdncmVnYXRlUGFyYW1FZGl0b3IgPSBUb3BBZ2dyZWdhdGVQYXJhbUVkaXRvcjsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7CiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICBhcnIyW2ldID0gYXJyW2ldOwogICAgfQoKICAgIHJldHVybiBhcnIyOwogIH0KfQoKZnVuY3Rpb24gZ2V0Q29tcGF0aWJsZUFnZ3MoYWdnKSB7CiAgdmFyIF9yZWYgPSBhZ2cuZ2V0QWdnUGFyYW1zKCkuZmluZChmdW5jdGlvbiAoX3JlZjIpIHsKICAgIHZhciBuYW1lID0gX3JlZjIubmFtZTsKICAgIHJldHVybiBuYW1lID09PSAnYWdncmVnYXRlJzsKICB9KSwKICAgICAgX3JlZiRvcHRpb25zID0gX3JlZi5vcHRpb25zLAogICAgICBvcHRpb25zID0gX3JlZiRvcHRpb25zID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkb3B0aW9uczsKCiAgcmV0dXJuIG9wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChvcHRpb24pIHsKICAgIHJldHVybiBvcHRpb24uaXNDb21wYXRpYmxlKGFnZyk7CiAgfSk7Cn0KCmZ1bmN0aW9uIFRvcEFnZ3JlZ2F0ZVBhcmFtRWRpdG9yKF9yZWYzKSB7CiAgdmFyIGFnZyA9IF9yZWYzLmFnZywKICAgICAgYWdnUGFyYW0gPSBfcmVmMy5hZ2dQYXJhbSwKICAgICAgdmFsdWUgPSBfcmVmMy52YWx1ZSwKICAgICAgc2hvd1ZhbGlkYXRpb24gPSBfcmVmMy5zaG93VmFsaWRhdGlvbiwKICAgICAgc2V0VmFsdWUgPSBfcmVmMy5zZXRWYWx1ZSwKICAgICAgc2V0VmFsaWRpdHkgPSBfcmVmMy5zZXRWYWxpZGl0eSwKICAgICAgc2V0VG91Y2hlZCA9IF9yZWYzLnNldFRvdWNoZWQ7CiAgdmFyIGlzRmlyc3RSdW4gPSAoMCwgX3JlYWN0LnVzZVJlZikodHJ1ZSk7CiAgdmFyIGZpZWxkVHlwZSA9IGFnZy5wYXJhbXMuZmllbGQgJiYgYWdnLnBhcmFtcy5maWVsZC50eXBlOwogIHZhciBlbXB0eVZhbHVlID0gewogICAgdGV4dDogJycsCiAgICB2YWx1ZTogJ0VNUFRZX1ZBTFVFJywKICAgIGRpc2FibGVkOiB0cnVlLAogICAgaGlkZGVuOiB0cnVlCiAgfTsKICB2YXIgZmlsdGVyZWRPcHRpb25zID0gZ2V0Q29tcGF0aWJsZUFnZ3MoYWdnKS5tYXAoZnVuY3Rpb24gKF9yZWY0KSB7CiAgICB2YXIgdGV4dCA9IF9yZWY0LnRleHQsCiAgICAgICAgdmFsID0gX3JlZjQudmFsdWU7CiAgICByZXR1cm4gewogICAgICB0ZXh0OiB0ZXh0LAogICAgICB2YWx1ZTogdmFsCiAgICB9OwogIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiBhLnRleHQudG9Mb3dlckNhc2UoKS5sb2NhbGVDb21wYXJlKGIudGV4dC50b0xvd2VyQ2FzZSgpKTsKICB9KTsKICB2YXIgb3B0aW9ucyA9IFtlbXB0eVZhbHVlXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGZpbHRlcmVkT3B0aW9ucykpOwogIHZhciBkaXNhYmxlZCA9IGZpZWxkVHlwZSAmJiAhZmlsdGVyZWRPcHRpb25zLmxlbmd0aDsKICB2YXIgaXNWYWxpZCA9IGRpc2FibGVkIHx8ICEhdmFsdWU7CgogIHZhciBsYWJlbCA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LmRlZmF1bHQuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBpZDogImNvbW1vbi51aS5hZ2dUeXBlcy5hZ2dyZWdhdGVXaXRoTGFiZWwiLAogICAgZGVmYXVsdE1lc3NhZ2U6ICJBZ2dyZWdhdGUgd2l0aCIKICB9KSwgJyAnLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSWNvblRpcCwgewogICAgcG9zaXRpb246ICJyaWdodCIsCiAgICB0eXBlOiAicXVlc3Rpb25JbkNpcmNsZSIsCiAgICBjb250ZW50OiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgnY29tbW9uLnVpLmFnZ1R5cGVzLmFnZ3JlZ2F0ZVdpdGhUb29sdGlwJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ0Nob29zZSBhIHN0cmF0ZWd5IGZvciBjb21iaW5pbmcgbXVsdGlwbGUgaGl0cyBvciBhIG11bHRpLXZhbHVlZCBmaWVsZCBpbnRvIGEgc2luZ2xlIG1ldHJpYy4nCiAgICB9KQogIH0pKTsKCiAgKDAsIF9yZWFjdC51c2VFZmZlY3QpKGZ1bmN0aW9uICgpIHsKICAgIHNldFZhbGlkaXR5KGlzVmFsaWQpOwogIH0sIFtpc1ZhbGlkXSk7CiAgKDAsIF9yZWFjdC51c2VFZmZlY3QpKGZ1bmN0aW9uICgpIHsKICAgIGlmIChpc0ZpcnN0UnVuLmN1cnJlbnQpIHsKICAgICAgaXNGaXJzdFJ1bi5jdXJyZW50ID0gZmFsc2U7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAodmFsdWUpIHsKICAgICAgaWYgKGFnZ1BhcmFtLm9wdGlvbnMuZmluZChmdW5jdGlvbiAob3B0KSB7CiAgICAgICAgcmV0dXJuIG9wdC52YWx1ZSA9PT0gdmFsdWUudmFsdWU7CiAgICAgIH0pKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBzZXRWYWx1ZSgpOwogICAgfQoKICAgIGlmIChmaWx0ZXJlZE9wdGlvbnMubGVuZ3RoID09PSAxKSB7CiAgICAgIHNldFZhbHVlKGFnZ1BhcmFtLm9wdGlvbnMuZmluZChmdW5jdGlvbiAob3B0KSB7CiAgICAgICAgcmV0dXJuIG9wdC52YWx1ZSA9PT0gZmlsdGVyZWRPcHRpb25zWzBdLnZhbHVlOwogICAgICB9KSk7CiAgICB9CiAgfSwgW2ZpZWxkVHlwZV0pOwoKICB2YXIgaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlID09PSBlbXB0eVZhbHVlLnZhbHVlKSB7CiAgICAgIHNldFZhbHVlKCk7CiAgICB9IGVsc2UgewogICAgICBzZXRWYWx1ZShhZ2dQYXJhbS5vcHRpb25zLmZpbmQoZnVuY3Rpb24gKG9wdCkgewogICAgICAgIHJldHVybiBvcHQudmFsdWUgPT09IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgICAgfSkpOwogICAgfQogIH07CgogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgbGFiZWw6IGxhYmVsLAogICAgZnVsbFdpZHRoOiB0cnVlLAogICAgaXNJbnZhbGlkOiBzaG93VmFsaWRhdGlvbiA/ICFpc1ZhbGlkIDogZmFsc2UsCiAgICBjb21wcmVzc2VkOiB0cnVlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNlbGVjdCwgewogICAgb3B0aW9uczogb3B0aW9ucywKICAgIHZhbHVlOiB2YWx1ZSA/IHZhbHVlLnZhbHVlIDogZW1wdHlWYWx1ZS52YWx1ZSwKICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBjb21wcmVzc2VkOiB0cnVlLAogICAgaXNJbnZhbGlkOiBzaG93VmFsaWRhdGlvbiA/ICFpc1ZhbGlkIDogZmFsc2UsCiAgICBkaXNhYmxlZDogZGlzYWJsZWQsCiAgICBvbkJsdXI6IHNldFRvdWNoZWQsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAidmlzRGVmYXVsdEVkaXRvckFnZ3JlZ2F0ZVdpdGgiCiAgfSkpOwp9"},null]}