{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/kibana/public/home/np_ready/components/sample_data_set_cards.js","dependencies":[{"path":"src/legacy/core_plugins/kibana/public/home/np_ready/components/sample_data_set_cards.js","mtime":1585205039564},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlNhbXBsZURhdGFTZXRDYXJkcyA9IHZvaWQgMDsKCnZhciBfbG9kYXNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJsb2Rhc2giKSk7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJwcm9wLXR5cGVzIikpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfc2FtcGxlX2RhdGFfc2V0X2NhcmQgPSByZXF1aXJlKCIuL3NhbXBsZV9kYXRhX3NldF9jYXJkIik7Cgp2YXIgX2tpYmFuYV9zZXJ2aWNlcyA9IHJlcXVpcmUoIi4uLy4uL2tpYmFuYV9zZXJ2aWNlcyIpOwoKdmFyIF9zYW1wbGVfZGF0YV9jbGllbnQgPSByZXF1aXJlKCIuLi9zYW1wbGVfZGF0YV9jbGllbnQiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCnZhciBTYW1wbGVEYXRhU2V0Q2FyZHMgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKFNhbXBsZURhdGFTZXRDYXJkcywgX1JlYWN0JENvbXBvbmVudCk7CgogIGZ1bmN0aW9uIFNhbXBsZURhdGFTZXRDYXJkcyhwcm9wcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTYW1wbGVEYXRhU2V0Q2FyZHMpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFNhbXBsZURhdGFTZXRDYXJkcykuY2FsbCh0aGlzLCBwcm9wcykpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImxvYWRTYW1wbGVEYXRhU2V0cyIsIGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBzYW1wbGVEYXRhU2V0czsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKCgwLCBfc2FtcGxlX2RhdGFfY2xpZW50Lmxpc3RTYW1wbGVEYXRhU2V0cykoKSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgc2FtcGxlRGF0YVNldHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNjsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICBfdGhpcy50b2FzdE5vdGlmaWNhdGlvbnMuYWRkRGFuZ2VyKHsKICAgICAgICAgICAgICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgna2JuLmhvbWUuc2FtcGxlRGF0YVNldC51bmFibGVUb0xvYWRMaXN0RXJyb3JNZXNzYWdlJywgewogICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1VuYWJsZSB0byBsb2FkIHNhbXBsZSBkYXRhIHNldHMgbGlzdCcKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgdGV4dDogIiIuY29uY2F0KF9jb250ZXh0LnQwLm1lc3NhZ2UpCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIHNhbXBsZURhdGFTZXRzID0gW107CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGlmIChfdGhpcy5faXNNb3VudGVkKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBzYW1wbGVEYXRhU2V0czogc2FtcGxlRGF0YVNldHMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICAgICAgICByZXR1cm4gYS5uYW1lLnRvTG93ZXJDYXNlKCkubG9jYWxlQ29tcGFyZShiLm5hbWUudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIHByb2Nlc3NpbmdTdGF0dXM6IHt9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCBudWxsLCBbWzAsIDZdXSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJpbnN0YWxsIiwgZnVuY3Rpb24gX2NhbGxlZTIoaWQpIHsKICAgICAgdmFyIHRhcmdldFNhbXBsZURhdGFTZXQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHRhcmdldFNhbXBsZURhdGFTZXQgPSBfdGhpcy5zdGF0ZS5zYW1wbGVEYXRhU2V0cy5maW5kKGZ1bmN0aW9uIChzYW1wbGVEYXRhU2V0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gc2FtcGxlRGF0YVNldC5pZCA9PT0gaWQ7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIHByb2Nlc3NpbmdTdGF0dXM6IF9vYmplY3RTcHJlYWQoe30sIHByZXZTdGF0ZS5wcm9jZXNzaW5nU3RhdHVzLCBfZGVmaW5lUHJvcGVydHkoe30sIGlkLCB0cnVlKSkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCgoMCwgX3NhbXBsZV9kYXRhX2NsaWVudC5pbnN0YWxsU2FtcGxlRGF0YVNldCkoaWQsIHRhcmdldFNhbXBsZURhdGFTZXQuZGVmYXVsdEluZGV4KSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDc7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICBpZiAoX3RoaXMuX2lzTW91bnRlZCkgewogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIHByb2Nlc3NpbmdTdGF0dXM6IF9vYmplY3RTcHJlYWQoe30sIHByZXZTdGF0ZS5wcm9jZXNzaW5nU3RhdHVzLCBfZGVmaW5lUHJvcGVydHkoe30sIGlkLCBmYWxzZSkpCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF90aGlzLnRvYXN0Tm90aWZpY2F0aW9ucy5hZGREYW5nZXIoewogICAgICAgICAgICAgICAgdGl0bGU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCdrYm4uaG9tZS5zYW1wbGVEYXRhU2V0LnVuYWJsZVRvSW5zdGFsbEVycm9yTWVzc2FnZScsIHsKICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdVbmFibGUgdG8gaW5zdGFsbCBzYW1wbGUgZGF0YSBzZXQ6IHtuYW1lfScsCiAgICAgICAgICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICAgICAgICAgIG5hbWU6IHRhcmdldFNhbXBsZURhdGFTZXQubmFtZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIHRleHQ6ICIiLmNvbmNhdChfY29udGV4dDIudDAubWVzc2FnZSkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBpZiAoX3RoaXMuX2lzTW91bnRlZCkgewogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIHByb2Nlc3NpbmdTdGF0dXM6IF9vYmplY3RTcHJlYWQoe30sIHByZXZTdGF0ZS5wcm9jZXNzaW5nU3RhdHVzLCBfZGVmaW5lUHJvcGVydHkoe30sIGlkLCBmYWxzZSkpLAogICAgICAgICAgICAgICAgICAgIHNhbXBsZURhdGFTZXRzOiBwcmV2U3RhdGUuc2FtcGxlRGF0YVNldHMubWFwKGZ1bmN0aW9uIChzYW1wbGVEYXRhU2V0KSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoc2FtcGxlRGF0YVNldC5pZCA9PT0gaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlRGF0YVNldC5zdGF0dXMgPSBfc2FtcGxlX2RhdGFfc2V0X2NhcmQuSU5TVEFMTEVEX1NUQVRVUzsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2FtcGxlRGF0YVNldDsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpcy50b2FzdE5vdGlmaWNhdGlvbnMuYWRkU3VjY2VzcyhfZGVmaW5lUHJvcGVydHkoewogICAgICAgICAgICAgICAgdGl0bGU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCdrYm4uaG9tZS5zYW1wbGVEYXRhU2V0Lmluc3RhbGxlZExhYmVsJywgewogICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ3tuYW1lfSBpbnN0YWxsZWQnLAogICAgICAgICAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiB0YXJnZXRTYW1wbGVEYXRhU2V0Lm5hbWUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9LCAnZGF0YS10ZXN0LXN1YmonLCAnc2FtcGxlRGF0YVNldEluc3RhbGxUb2FzdCcpKTsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCBudWxsLCBbWzIsIDddXSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJ1bmluc3RhbGwiLCBmdW5jdGlvbiBfY2FsbGVlMyhpZCkgewogICAgICB2YXIgdGFyZ2V0U2FtcGxlRGF0YVNldDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdGFyZ2V0U2FtcGxlRGF0YVNldCA9IF90aGlzLnN0YXRlLnNhbXBsZURhdGFTZXRzLmZpbmQoZnVuY3Rpb24gKHNhbXBsZURhdGFTZXQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBzYW1wbGVEYXRhU2V0LmlkID09PSBpZDsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgcHJvY2Vzc2luZ1N0YXR1czogX29iamVjdFNwcmVhZCh7fSwgcHJldlN0YXRlLnByb2Nlc3NpbmdTdGF0dXMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaWQsIHRydWUpKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKCgwLCBfc2FtcGxlX2RhdGFfY2xpZW50LnVuaW5zdGFsbFNhbXBsZURhdGFTZXQpKGlkLCB0YXJnZXRTYW1wbGVEYXRhU2V0LmRlZmF1bHRJbmRleCkpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA3OwogICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgaWYgKF90aGlzLl9pc01vdW50ZWQpIHsKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwcm9jZXNzaW5nU3RhdHVzOiBfb2JqZWN0U3ByZWFkKHt9LCBwcmV2U3RhdGUucHJvY2Vzc2luZ1N0YXR1cywgX2RlZmluZVByb3BlcnR5KHt9LCBpZCwgZmFsc2UpKQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpcy50b2FzdE5vdGlmaWNhdGlvbnMuYWRkRGFuZ2VyKHsKICAgICAgICAgICAgICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgna2JuLmhvbWUuc2FtcGxlRGF0YVNldC51bmFibGVUb1VuaW5zdGFsbEVycm9yTWVzc2FnZScsIHsKICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdVbmFibGUgdG8gdW5pbnN0YWxsIHNhbXBsZSBkYXRhIHNldDoge25hbWV9JywKICAgICAgICAgICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGFyZ2V0U2FtcGxlRGF0YVNldC5uYW1lCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgdGV4dDogIiIuY29uY2F0KF9jb250ZXh0My50MC5tZXNzYWdlKQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGlmIChfdGhpcy5faXNNb3VudGVkKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2luZ1N0YXR1czogX29iamVjdFNwcmVhZCh7fSwgcHJldlN0YXRlLnByb2Nlc3NpbmdTdGF0dXMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaWQsIGZhbHNlKSksCiAgICAgICAgICAgICAgICAgICAgc2FtcGxlRGF0YVNldHM6IHByZXZTdGF0ZS5zYW1wbGVEYXRhU2V0cy5tYXAoZnVuY3Rpb24gKHNhbXBsZURhdGFTZXQpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChzYW1wbGVEYXRhU2V0LmlkID09PSBpZCkgewogICAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVEYXRhU2V0LnN0YXR1cyA9IF9zYW1wbGVfZGF0YV9zZXRfY2FyZC5VTklOU1RBTExFRF9TVEFUVVM7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNhbXBsZURhdGFTZXQ7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX3RoaXMudG9hc3ROb3RpZmljYXRpb25zLmFkZFN1Y2Nlc3MoX2RlZmluZVByb3BlcnR5KHsKICAgICAgICAgICAgICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgna2JuLmhvbWUuc2FtcGxlRGF0YVNldC51bmluc3RhbGxlZExhYmVsJywgewogICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ3tuYW1lfSB1bmluc3RhbGxlZCcsCiAgICAgICAgICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICAgICAgICAgIG5hbWU6IHRhcmdldFNhbXBsZURhdGFTZXQubmFtZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH0sICdkYXRhLXRlc3Qtc3ViaicsICdzYW1wbGVEYXRhU2V0VW5pbnN0YWxsVG9hc3QnKSk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgbnVsbCwgW1syLCA3XV0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAibGlnaHRPckRhcmtJbWFnZSIsIGZ1bmN0aW9uIChzYW1wbGVEYXRhU2V0KSB7CiAgICAgIHJldHVybiAoMCwgX2tpYmFuYV9zZXJ2aWNlcy5nZXRTZXJ2aWNlcykoKS51aVNldHRpbmdzLmdldCgndGhlbWU6ZGFya01vZGUnKSAmJiBzYW1wbGVEYXRhU2V0LmRhcmtQcmV2aWV3SW1hZ2VQYXRoID8gc2FtcGxlRGF0YVNldC5kYXJrUHJldmlld0ltYWdlUGF0aCA6IHNhbXBsZURhdGFTZXQucHJldmlld0ltYWdlUGF0aDsKICAgIH0pOwoKICAgIF90aGlzLnRvYXN0Tm90aWZpY2F0aW9ucyA9ICgwLCBfa2liYW5hX3NlcnZpY2VzLmdldFNlcnZpY2VzKSgpLnRvYXN0Tm90aWZpY2F0aW9uczsKICAgIF90aGlzLnN0YXRlID0gewogICAgICBzYW1wbGVEYXRhU2V0czogW10sCiAgICAgIHByb2Nlc3NpbmdTdGF0dXM6IHt9CiAgICB9OwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFNhbXBsZURhdGFTZXRDYXJkcywgW3sKICAgIGtleTogImNvbXBvbmVudFdpbGxVbm1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsKICAgICAgdGhpcy5faXNNb3VudGVkID0gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50JChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICB0aGlzLl9pc01vdW50ZWQgPSB0cnVlOwogICAgICAgICAgICAgIHRoaXMubG9hZFNhbXBsZURhdGFTZXRzKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcmlkLCB7CiAgICAgICAgY29sdW1uczogMywKICAgICAgICBjbGFzc05hbWU6ICJob21TYW1wbGVEYXRhU2V0Q2FyZHMiCiAgICAgIH0sIHRoaXMuc3RhdGUuc2FtcGxlRGF0YVNldHMubWFwKGZ1bmN0aW9uIChzYW1wbGVEYXRhU2V0KSB7CiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgICAga2V5OiBzYW1wbGVEYXRhU2V0LmlkCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfc2FtcGxlX2RhdGFfc2V0X2NhcmQuU2FtcGxlRGF0YVNldENhcmQsIHsKICAgICAgICAgIGlkOiBzYW1wbGVEYXRhU2V0LmlkLAogICAgICAgICAgZGVzY3JpcHRpb246IHNhbXBsZURhdGFTZXQuZGVzY3JpcHRpb24sCiAgICAgICAgICBuYW1lOiBzYW1wbGVEYXRhU2V0Lm5hbWUsCiAgICAgICAgICBvdmVydmlld0Rhc2hib2FyZDogc2FtcGxlRGF0YVNldC5vdmVydmlld0Rhc2hib2FyZCwKICAgICAgICAgIGFwcExpbmtzOiBzYW1wbGVEYXRhU2V0LmFwcExpbmtzLAogICAgICAgICAgc3RhdHVzOiBzYW1wbGVEYXRhU2V0LnN0YXR1cywKICAgICAgICAgIGlzUHJvY2Vzc2luZzogX2xvZGFzaC5kZWZhdWx0LmdldChfdGhpczIuc3RhdGUucHJvY2Vzc2luZ1N0YXR1cywgc2FtcGxlRGF0YVNldC5pZCwgZmFsc2UpLAogICAgICAgICAgc3RhdHVzTXNnOiBzYW1wbGVEYXRhU2V0LnN0YXR1c01zZywKICAgICAgICAgIHByZXZpZXdVcmw6IF90aGlzMi5wcm9wcy5hZGRCYXNlUGF0aChfdGhpczIubGlnaHRPckRhcmtJbWFnZShzYW1wbGVEYXRhU2V0KSksCiAgICAgICAgICBvbkluc3RhbGw6IF90aGlzMi5pbnN0YWxsLAogICAgICAgICAgb25Vbmluc3RhbGw6IF90aGlzMi51bmluc3RhbGwKICAgICAgICB9KSk7CiAgICAgIH0pKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBTYW1wbGVEYXRhU2V0Q2FyZHM7Cn0oX3JlYWN0LmRlZmF1bHQuQ29tcG9uZW50KTsKCmV4cG9ydHMuU2FtcGxlRGF0YVNldENhcmRzID0gU2FtcGxlRGF0YVNldENhcmRzOwpTYW1wbGVEYXRhU2V0Q2FyZHMucHJvcFR5cGVzID0gewogIGFkZEJhc2VQYXRoOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkCn07"},null]}