{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/siem/public/components/ml_popover/api.js","dependencies":[{"path":"x-pack/legacy/plugins/siem/public/components/ml_popover/api.js","mtime":1585205047512},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldEpvYnNTdW1tYXJ5ID0gZXhwb3J0cy5zdG9wRGF0YWZlZWRzID0gZXhwb3J0cy5zdGFydERhdGFmZWVkcyA9IGV4cG9ydHMuc2V0dXBNbEpvYiA9IGV4cG9ydHMuZ2V0TW9kdWxlcyA9IGV4cG9ydHMuY2hlY2tSZWNvZ25pemVyID0gdm9pZCAwOwoKdmFyIF9jaHJvbWUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInVpL2Nocm9tZSIpKTsKCnZhciBfdGhyb3dfaWZfbm90X29rID0gcmVxdWlyZSgiLi4vbWwvYXBpL3Rocm93X2lmX25vdF9vayIpOwoKdmFyIF9hcGkgPSByZXF1aXJlKCIuLi8uLi9ob29rcy9hcGkvYXBpIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQovKioKICogQ2hlY2tzIHRoZSBNTCBSZWNvZ25pemVyIEFQSSB0byBzZWUgaWYgYSBnaXZlbiBpbmRleFBhdHRlcm4gaGFzIGFueSBjb21wYXRpYmxlIG1vZHVsZXMKICoKICogQHBhcmFtIGluZGV4UGF0dGVybk5hbWUgRVMgaW5kZXggcGF0dGVybiB0byBjaGVjayBmb3IgY29tcGF0aWJsZSBtb2R1bGVzCiAqIEBwYXJhbSBzaWduYWwgdG8gY2FuY2VsIHJlcXVlc3QKICovCgoKdmFyIGNoZWNrUmVjb2duaXplciA9IGZ1bmN0aW9uIGNoZWNrUmVjb2duaXplcihfcmVmKSB7CiAgdmFyIGluZGV4UGF0dGVybk5hbWUsIHNpZ25hbCwgcmVzcG9uc2U7CiAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBjaGVja1JlY29nbml6ZXIkKF9jb250ZXh0KSB7CiAgICB3aGlsZSAoMSkgewogICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgaW5kZXhQYXR0ZXJuTmFtZSA9IF9yZWYuaW5kZXhQYXR0ZXJuTmFtZSwgc2lnbmFsID0gX3JlZi5zaWduYWw7CiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoZmV0Y2goIiIuY29uY2F0KF9jaHJvbWUuZGVmYXVsdC5nZXRCYXNlUGF0aCgpLCAiL2FwaS9tbC9tb2R1bGVzL3JlY29nbml6ZS8iKS5jb25jYXQoaW5kZXhQYXR0ZXJuTmFtZSksIHsKICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAgICdrYm4tc3lzdGVtLWFwaSc6ICd0cnVlJywKICAgICAgICAgICAgICAna2JuLXhzcmYnOiAndHJ1ZScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2lnbmFsOiBzaWduYWwKICAgICAgICAgIH0pKTsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKCgwLCBfYXBpLnRocm93SWZOb3RPaykocmVzcG9uc2UpKTsKCiAgICAgICAgY2FzZSA2OgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UuanNvbigpKTsKCiAgICAgICAgY2FzZSA3OgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICB9CiAgICB9CiAgfSk7Cn07Ci8qKgogKiBSZXR1cm5zIE1MIE1vZHVsZSBmb3IgZ2l2ZW4gbW9kdWxlSWQuIFJldHVybnMgYWxsIG1vZHVsZXMgaWYgbm8gbW9kdWxlSWQgc3BlY2lmaWVkCiAqCiAqIEBwYXJhbSBtb2R1bGVJZCBpZCBvZiB0aGUgbW9kdWxlIHRvIHJldHJpZXZlCiAqIEBwYXJhbSBzaWduYWwgdG8gY2FuY2VsIHJlcXVlc3QKICovCgoKZXhwb3J0cy5jaGVja1JlY29nbml6ZXIgPSBjaGVja1JlY29nbml6ZXI7Cgp2YXIgZ2V0TW9kdWxlcyA9IGZ1bmN0aW9uIGdldE1vZHVsZXMoX3JlZjIpIHsKICB2YXIgX3JlZjIkbW9kdWxlSWQsIG1vZHVsZUlkLCBzaWduYWwsIHJlc3BvbnNlOwoKICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGdldE1vZHVsZXMkKF9jb250ZXh0MikgewogICAgd2hpbGUgKDEpIHsKICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgX3JlZjIkbW9kdWxlSWQgPSBfcmVmMi5tb2R1bGVJZCwgbW9kdWxlSWQgPSBfcmVmMiRtb2R1bGVJZCA9PT0gdm9pZCAwID8gJycgOiBfcmVmMiRtb2R1bGVJZCwgc2lnbmFsID0gX3JlZjIuc2lnbmFsOwogICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChmZXRjaCgiIi5jb25jYXQoX2Nocm9tZS5kZWZhdWx0LmdldEJhc2VQYXRoKCksICIvYXBpL21sL21vZHVsZXMvZ2V0X21vZHVsZS8iKS5jb25jYXQobW9kdWxlSWQpLCB7CiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgICAna2JuLXN5c3RlbS1hcGknOiAndHJ1ZScsCiAgICAgICAgICAgICAgJ2tibi14c3JmJzogJ3RydWUnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNpZ25hbDogc2lnbmFsCiAgICAgICAgICB9KSk7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKCgwLCBfYXBpLnRocm93SWZOb3RPaykocmVzcG9uc2UpKTsKCiAgICAgICAgY2FzZSA2OgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlLmpzb24oKSk7CgogICAgICAgIGNhc2UgNzoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgIH0KICAgIH0KICB9KTsKfTsKLyoqCiAqIENyZWF0ZXMgTUwgSm9icyArIERhdGFmZWVkcyBmb3IgdGhlIGdpdmVuIGNvbmZpZ1RlbXBsYXRlICsgaW5kZXhQYXR0ZXJuTmFtZQogKgogKiBAcGFyYW0gY29uZmlnVGVtcGxhdGUgLSBuYW1lIG9mIGNvbmZpZ1RlbXBsYXRlIHRvIHNldHVwCiAqIEBwYXJhbSBpbmRleFBhdHRlcm5OYW1lIC0gZGVmYXVsdCBpbmRleCBwYXR0ZXJuIGNvbmZpZ1RlbXBsYXRlIHNob3VsZCBiZSBpbnN0YWxsZWQgd2l0aAogKiBAcGFyYW0gam9iSWRFcnJvckZpbHRlciAtIGlmIHByb3ZpZGVkLCBmaWx0ZXJzIGFsbCBlcnJvcnMgZXhjZXB0IGZvciBnaXZlbiBqb2JJZHMKICogQHBhcmFtIGdyb3VwcyAtIGxpc3Qgb2YgZ3JvdXBzIHRvIGFkZCB0byBqb2JzIGJlaW5nIGluc3RhbGxlZAogKiBAcGFyYW0gcHJlZml4IC0gcHJlZml4IHRvIGJlIGFkZGVkIHRvIGpvYiBuYW1lCiAqIEBwYXJhbSBoZWFkZXJzIG9wdGlvbmFsIGhlYWRlcnMgdG8gYWRkCiAqLwoKCmV4cG9ydHMuZ2V0TW9kdWxlcyA9IGdldE1vZHVsZXM7Cgp2YXIgc2V0dXBNbEpvYiA9IGZ1bmN0aW9uIHNldHVwTWxKb2IoX3JlZjMpIHsKICB2YXIgY29uZmlnVGVtcGxhdGUsIF9yZWYzJGluZGV4UGF0dGVybk5hbSwgaW5kZXhQYXR0ZXJuTmFtZSwgX3JlZjMkam9iSWRFcnJvckZpbHRlLCBqb2JJZEVycm9yRmlsdGVyLCBfcmVmMyRncm91cHMsIGdyb3VwcywgX3JlZjMkcHJlZml4LCBwcmVmaXgsIHJlc3BvbnNlLCBqc29uOwoKICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHNldHVwTWxKb2IkKF9jb250ZXh0MykgewogICAgd2hpbGUgKDEpIHsKICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgY29uZmlnVGVtcGxhdGUgPSBfcmVmMy5jb25maWdUZW1wbGF0ZSwgX3JlZjMkaW5kZXhQYXR0ZXJuTmFtID0gX3JlZjMuaW5kZXhQYXR0ZXJuTmFtZSwgaW5kZXhQYXR0ZXJuTmFtZSA9IF9yZWYzJGluZGV4UGF0dGVybk5hbSA9PT0gdm9pZCAwID8gJ2F1ZGl0YmVhdC0qJyA6IF9yZWYzJGluZGV4UGF0dGVybk5hbSwgX3JlZjMkam9iSWRFcnJvckZpbHRlID0gX3JlZjMuam9iSWRFcnJvckZpbHRlciwgam9iSWRFcnJvckZpbHRlciA9IF9yZWYzJGpvYklkRXJyb3JGaWx0ZSA9PT0gdm9pZCAwID8gW10gOiBfcmVmMyRqb2JJZEVycm9yRmlsdGUsIF9yZWYzJGdyb3VwcyA9IF9yZWYzLmdyb3VwcywgZ3JvdXBzID0gX3JlZjMkZ3JvdXBzID09PSB2b2lkIDAgPyBbJ3NpZW0nXSA6IF9yZWYzJGdyb3VwcywgX3JlZjMkcHJlZml4ID0gX3JlZjMucHJlZml4LCBwcmVmaXggPSBfcmVmMyRwcmVmaXggPT09IHZvaWQgMCA/ICcnIDogX3JlZjMkcHJlZml4OwogICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChmZXRjaCgiIi5jb25jYXQoX2Nocm9tZS5kZWZhdWx0LmdldEJhc2VQYXRoKCksICIvYXBpL21sL21vZHVsZXMvc2V0dXAvIikuY29uY2F0KGNvbmZpZ1RlbXBsYXRlKSwgewogICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsCiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICBwcmVmaXg6IHByZWZpeCwKICAgICAgICAgICAgICBncm91cHM6IGdyb3VwcywKICAgICAgICAgICAgICBpbmRleFBhdHRlcm5OYW1lOiBpbmRleFBhdHRlcm5OYW1lLAogICAgICAgICAgICAgIHN0YXJ0RGF0YWZlZWQ6IGZhbHNlLAogICAgICAgICAgICAgIHVzZURlZGljYXRlZEluZGV4OiB0cnVlCiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgICAna2JuLXN5c3RlbS1hcGknOiAndHJ1ZScsCiAgICAgICAgICAgICAgJ2tibi14c3JmJzogJ3RydWUnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pKTsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoKDAsIF9hcGkudGhyb3dJZk5vdE9rKShyZXNwb25zZSkpOwoKICAgICAgICBjYXNlIDY6CiAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHJlc3BvbnNlLmpzb24oKSk7CgogICAgICAgIGNhc2UgODoKICAgICAgICAgIGpzb24gPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICgwLCBfdGhyb3dfaWZfbm90X29rLnRocm93SWZFcnJvckF0dGFjaGVkVG9TZXR1cCkoanNvbiwgam9iSWRFcnJvckZpbHRlcik7CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwganNvbik7CgogICAgICAgIGNhc2UgMTE6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICB9CiAgICB9CiAgfSk7Cn07Ci8qKgogKiBTdGFydHMgdGhlIGdpdmVuIGRhdGFGZWVkSWRzCiAqCiAqIEBwYXJhbSBkYXRhZmVlZElkcwogKiBAcGFyYW0gc3RhcnQKICovCgoKZXhwb3J0cy5zZXR1cE1sSm9iID0gc2V0dXBNbEpvYjsKCnZhciBzdGFydERhdGFmZWVkcyA9IGZ1bmN0aW9uIHN0YXJ0RGF0YWZlZWRzKF9yZWY0KSB7CiAgdmFyIGRhdGFmZWVkSWRzLCBfcmVmNCRzdGFydCwgc3RhcnQsIHJlc3BvbnNlLCBqc29uOwoKICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHN0YXJ0RGF0YWZlZWRzJChfY29udGV4dDQpIHsKICAgIHdoaWxlICgxKSB7CiAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIGRhdGFmZWVkSWRzID0gX3JlZjQuZGF0YWZlZWRJZHMsIF9yZWY0JHN0YXJ0ID0gX3JlZjQuc3RhcnQsIHN0YXJ0ID0gX3JlZjQkc3RhcnQgPT09IHZvaWQgMCA/IDAgOiBfcmVmNCRzdGFydDsKICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoZmV0Y2goIiIuY29uY2F0KF9jaHJvbWUuZGVmYXVsdC5nZXRCYXNlUGF0aCgpLCAiL2FwaS9tbC9qb2JzL2ZvcmNlX3N0YXJ0X2RhdGFmZWVkcyIpLCB7CiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJywKICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgZGF0YWZlZWRJZHM6IGRhdGFmZWVkSWRzCiAgICAgICAgICAgIH0sIHN0YXJ0ICE9PSAwICYmIHsKICAgICAgICAgICAgICBzdGFydDogc3RhcnQKICAgICAgICAgICAgfSkpLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgICAna2JuLXN5c3RlbS1hcGknOiAndHJ1ZScsCiAgICAgICAgICAgICAgJ2tibi14c3JmJzogJ3RydWUnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pKTsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoKDAsIF9hcGkudGhyb3dJZk5vdE9rKShyZXNwb25zZSkpOwoKICAgICAgICBjYXNlIDY6CiAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHJlc3BvbnNlLmpzb24oKSk7CgogICAgICAgIGNhc2UgODoKICAgICAgICAgIGpzb24gPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICgwLCBfdGhyb3dfaWZfbm90X29rLnRocm93SWZFcnJvckF0dGFjaGVkKShqc29uLCBkYXRhZmVlZElkcyk7CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwganNvbik7CgogICAgICAgIGNhc2UgMTE6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICB9CiAgICB9CiAgfSk7Cn07Ci8qKgogKiBTdG9wcyB0aGUgZ2l2ZW4gZGF0YUZlZWRJZHMgYW5kIHNldHMgdGhlIGNvcnJlc3BvbmRpbmcgSm9iJ3Mgam9iU3RhdGUgdG8gY2xvc2VkCiAqCiAqIEBwYXJhbSBkYXRhZmVlZElkcwogKiBAcGFyYW0gaGVhZGVycyBvcHRpb25hbCBoZWFkZXJzIHRvIGFkZAogKi8KCgpleHBvcnRzLnN0YXJ0RGF0YWZlZWRzID0gc3RhcnREYXRhZmVlZHM7Cgp2YXIgc3RvcERhdGFmZWVkcyA9IGZ1bmN0aW9uIHN0b3BEYXRhZmVlZHMoX3JlZjUpIHsKICB2YXIgZGF0YWZlZWRJZHMsIHN0b3BEYXRhZmVlZHNSZXNwb25zZSwgc3RvcERhdGFmZWVkc1Jlc3BvbnNlSnNvbiwgZGF0YWZlZWRQcmVmaXgsIGNsb3NlSm9ic1Jlc3BvbnNlOwogIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gc3RvcERhdGFmZWVkcyQoX2NvbnRleHQ1KSB7CiAgICB3aGlsZSAoMSkgewogICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBkYXRhZmVlZElkcyA9IF9yZWY1LmRhdGFmZWVkSWRzOwogICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChmZXRjaCgiIi5jb25jYXQoX2Nocm9tZS5kZWZhdWx0LmdldEJhc2VQYXRoKCksICIvYXBpL21sL2pvYnMvc3RvcF9kYXRhZmVlZHMiKSwgewogICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsCiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICBkYXRhZmVlZElkczogZGF0YWZlZWRJZHMKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAgICdrYm4tc3lzdGVtLWFwaSc6ICd0cnVlJywKICAgICAgICAgICAgICAna2JuLXhzcmYnOiAndHJ1ZScKICAgICAgICAgICAgfQogICAgICAgICAgfSkpOwoKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBzdG9wRGF0YWZlZWRzUmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNjsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoKDAsIF9hcGkudGhyb3dJZk5vdE9rKShzdG9wRGF0YWZlZWRzUmVzcG9uc2UpKTsKCiAgICAgICAgY2FzZSA2OgogICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChzdG9wRGF0YWZlZWRzUmVzcG9uc2UuanNvbigpKTsKCiAgICAgICAgY2FzZSA4OgogICAgICAgICAgc3RvcERhdGFmZWVkc1Jlc3BvbnNlSnNvbiA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgZGF0YWZlZWRQcmVmaXggPSAnZGF0YWZlZWQtJzsKICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTI7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGZldGNoKCIiLmNvbmNhdChfY2hyb21lLmRlZmF1bHQuZ2V0QmFzZVBhdGgoKSwgIi9hcGkvbWwvam9icy9jbG9zZV9qb2JzIiksIHsKICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLAogICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgam9iSWRzOiBkYXRhZmVlZElkcy5tYXAoZnVuY3Rpb24gKGRhdGFGZWVkSWQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBkYXRhRmVlZElkLnN0YXJ0c1dpdGgoZGF0YWZlZWRQcmVmaXgpID8gZGF0YUZlZWRJZC5zdWJzdHJpbmcoZGF0YWZlZWRQcmVmaXgubGVuZ3RoKSA6IGRhdGFGZWVkSWQ7CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAgICdrYm4tc3lzdGVtLWFwaSc6ICd0cnVlJywKICAgICAgICAgICAgICAna2JuLXhzcmYnOiAndHJ1ZScKICAgICAgICAgICAgfQogICAgICAgICAgfSkpOwoKICAgICAgICBjYXNlIDEyOgogICAgICAgICAgY2xvc2VKb2JzUmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTU7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKCgwLCBfYXBpLnRocm93SWZOb3RPaykoY2xvc2VKb2JzUmVzcG9uc2UpKTsKCiAgICAgICAgY2FzZSAxNToKICAgICAgICAgIF9jb250ZXh0NS50MCA9IHN0b3BEYXRhZmVlZHNSZXNwb25zZUpzb247CiAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE4OwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChjbG9zZUpvYnNSZXNwb25zZS5qc29uKCkpOwoKICAgICAgICBjYXNlIDE4OgogICAgICAgICAgX2NvbnRleHQ1LnQxID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgW19jb250ZXh0NS50MCwgX2NvbnRleHQ1LnQxXSk7CgogICAgICAgIGNhc2UgMjA6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICB9CiAgICB9CiAgfSk7Cn07Ci8qKgogKiBGZXRjaGVzIGEgc3VtbWFyeSBvZiBhbGwgTUwgam9icyBjdXJyZW50bHkgaW5zdGFsbGVkCiAqCiAqIE5PVEU6IElmIG5vdCBzZW5kaW5nIGpvYklkcyBpbiB0aGUgYm9keSwgeW91IG11c3QgYXQgbGVhc3Qgc2VuZCBhbiBlbXB0eSBib2R5IG9yIHRoZSBzZXJ2ZXIgd2lsbAogKiByZXR1cm4gYSA1MDAKICoKICogQHBhcmFtIHNpZ25hbCB0byBjYW5jZWwgcmVxdWVzdAogKi8KCgpleHBvcnRzLnN0b3BEYXRhZmVlZHMgPSBzdG9wRGF0YWZlZWRzOwoKdmFyIGdldEpvYnNTdW1tYXJ5ID0gZnVuY3Rpb24gZ2V0Sm9ic1N1bW1hcnkoc2lnbmFsKSB7CiAgdmFyIHJlc3BvbnNlOwogIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gZ2V0Sm9ic1N1bW1hcnkkKF9jb250ZXh0NikgewogICAgd2hpbGUgKDEpIHsKICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChmZXRjaCgiIi5jb25jYXQoX2Nocm9tZS5kZWZhdWx0LmdldEJhc2VQYXRoKCksICIvYXBpL21sL2pvYnMvam9ic19zdW1tYXJ5IiksIHsKICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLAogICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7fSksCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAgICdrYm4tc3lzdGVtLWFwaSc6ICd0cnVlJywKICAgICAgICAgICAgICAna2JuLXhzcmYnOiAndHJ1ZScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2lnbmFsOiBzaWduYWwKICAgICAgICAgIH0pKTsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNTsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoKDAsIF9hcGkudGhyb3dJZk5vdE9rKShyZXNwb25zZSkpOwoKICAgICAgICBjYXNlIDU6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UuanNvbigpKTsKCiAgICAgICAgY2FzZSA2OgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgfQogICAgfQogIH0pOwp9OwoKZXhwb3J0cy5nZXRKb2JzU3VtbWFyeSA9IGdldEpvYnNTdW1tYXJ5Ow=="},null]}