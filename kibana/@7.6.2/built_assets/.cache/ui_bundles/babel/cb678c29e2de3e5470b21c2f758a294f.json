{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/canvas/public/components/workpad_loader/index.js","dependencies":[{"path":"x-pack/legacy/plugins/canvas/public/components/workpad_loader/index.js","mtime":1585205043713},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLldvcmtwYWRMb2FkZXIgPSB2b2lkIDA7Cgp2YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicHJvcC10eXBlcyIpKTsKCnZhciBfcmVhY3RSZWR1eCA9IHJlcXVpcmUoInJlYWN0LXJlZHV4Iik7Cgp2YXIgX3JlY29tcG9zZSA9IHJlcXVpcmUoInJlY29tcG9zZSIpOwoKdmFyIHdvcmtwYWRTZXJ2aWNlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgiLi4vLi4vbGliL3dvcmtwYWRfc2VydmljZSIpKTsKCnZhciBfbm90aWZ5ID0gcmVxdWlyZSgiLi4vLi4vbGliL25vdGlmeSIpOwoKdmFyIF9hcHAgPSByZXF1aXJlKCIuLi8uLi9zdGF0ZS9zZWxlY3RvcnMvYXBwIik7Cgp2YXIgX3dvcmtwYWQgPSByZXF1aXJlKCIuLi8uLi9zdGF0ZS9zZWxlY3RvcnMvd29ya3BhZCIpOwoKdmFyIF9nZXRfaWQgPSByZXF1aXJlKCIuLi8uLi9saWIvZ2V0X2lkIik7Cgp2YXIgX2Rvd25sb2FkX3dvcmtwYWQgPSByZXF1aXJlKCIuLi8uLi9saWIvZG93bmxvYWRfd29ya3BhZCIpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiLi4vLi4vLi4vaTE4biIpOwoKdmFyIF93b3JrcGFkX2xvYWRlciA9IHJlcXVpcmUoIi4vd29ya3BhZF9sb2FkZXIiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH0KCnZhciBzdHJpbmdzID0gX2kxOG4uQ29tcG9uZW50U3RyaW5ncy5Xb3JrcGFkTG9hZGVyOwp2YXIgZXJyb3JzID0gX2kxOG4uRXJyb3JTdHJpbmdzLldvcmtwYWRMb2FkZXI7Cgp2YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7CiAgcmV0dXJuIHsKICAgIHdvcmtwYWRJZDogKDAsIF93b3JrcGFkLmdldFdvcmtwYWQpKHN0YXRlKS5pZCwKICAgIGNhblVzZXJXcml0ZTogKDAsIF9hcHAuY2FuVXNlcldyaXRlKShzdGF0ZSkKICB9Owp9OwoKdmFyIFdvcmtwYWRMb2FkZXIgPSAoMCwgX3JlY29tcG9zZS5jb21wb3NlKSgoMCwgX3JlY29tcG9zZS5nZXRDb250ZXh0KSh7CiAgcm91dGVyOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0Cn0pLCAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkobWFwU3RhdGVUb1Byb3BzKSwgKDAsIF9yZWNvbXBvc2Uud2l0aFN0YXRlKSgnd29ya3BhZHMnLCAnc2V0V29ya3BhZHMnLCBudWxsKSwgKDAsIF9yZWNvbXBvc2Uud2l0aEhhbmRsZXJzKSh7CiAgLy8gV29ya3BhZCBjcmVhdGlvbiB2aWEgbmF2aWdhdGlvbgogIGNyZWF0ZVdvcmtwYWQ6IGZ1bmN0aW9uIGNyZWF0ZVdvcmtwYWQocHJvcHMpIHsKICAgIHJldHVybiBmdW5jdGlvbiBfY2FsbGVlKHdvcmtwYWQpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoISh3b3JrcGFkICE9IG51bGwpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAod29ya3BhZFNlcnZpY2UuY3JlYXRlKHdvcmtwYWQpKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBwcm9wcy5yb3V0ZXIubmF2aWdhdGVUbygnbG9hZFdvcmtwYWQnLCB7CiAgICAgICAgICAgICAgICBpZDogd29ya3BhZC5pZCwKICAgICAgICAgICAgICAgIHBhZ2U6IDEKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDc7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKCiAgICAgICAgICAgICAgX25vdGlmeS5ub3RpZnkuZXJyb3IoX2NvbnRleHQudDAsIHsKICAgICAgICAgICAgICAgIHRpdGxlOiBlcnJvcnMuZ2V0VXBsb2FkRmFpbHVyZUVycm9yTWVzc2FnZSgpCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBwcm9wcy5yb3V0ZXIubmF2aWdhdGVUbygnY3JlYXRlV29ya3BhZCcpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgbnVsbCwgW1sxLCA3XV0pOwogICAgfTsKICB9LAogIC8vIFdvcmtwYWQgc2VhcmNoCiAgZmluZFdvcmtwYWRzOiBmdW5jdGlvbiBmaW5kV29ya3BhZHMoX3JlZikgewogICAgdmFyIHNldFdvcmtwYWRzID0gX3JlZi5zZXRXb3JrcGFkczsKICAgIHJldHVybiBmdW5jdGlvbiBfY2FsbGVlMih0ZXh0KSB7CiAgICAgIHZhciB3b3JrcGFkczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHdvcmtwYWRTZXJ2aWNlLmZpbmQodGV4dCkpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHdvcmtwYWRzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgc2V0V29ya3BhZHMod29ya3BhZHMpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA3OwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgX25vdGlmeS5ub3RpZnkuZXJyb3IoX2NvbnRleHQyLnQwLCB7CiAgICAgICAgICAgICAgICB0aXRsZTogZXJyb3JzLmdldEZpbmRGYWlsdXJlRXJyb3JNZXNzYWdlKCkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCBudWxsLCBbWzAsIDddXSk7CiAgICB9OwogIH0sCiAgLy8gV29ya3BhZCBpbXBvcnQvZXhwb3J0IG1ldGhvZHMKICBkb3dubG9hZFdvcmtwYWQ6IGZ1bmN0aW9uIGRvd25sb2FkV29ya3BhZCgpIHsKICAgIHJldHVybiBmdW5jdGlvbiAod29ya3BhZElkKSB7CiAgICAgIHJldHVybiAoMCwgX2Rvd25sb2FkX3dvcmtwYWQuZG93bmxvYWRXb3JrcGFkKSh3b3JrcGFkSWQpOwogICAgfTsKICB9LAogIC8vIENsb25lIHdvcmtwYWQgZ2l2ZW4gYW4gaWQKICBjbG9uZVdvcmtwYWQ6IGZ1bmN0aW9uIGNsb25lV29ya3BhZChwcm9wcykgewogICAgcmV0dXJuIGZ1bmN0aW9uIF9jYWxsZWUzKHdvcmtwYWRJZCkgewogICAgICB2YXIgd29ya3BhZDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHdvcmtwYWRTZXJ2aWNlLmdldCh3b3JrcGFkSWQpKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICB3b3JrcGFkID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgd29ya3BhZC5uYW1lID0gc3RyaW5ncy5nZXRDbG9uZWRXb3JrcGFkTmFtZSh3b3JrcGFkLm5hbWUpOwogICAgICAgICAgICAgIHdvcmtwYWQuaWQgPSAoMCwgX2dldF9pZC5nZXRJZCkoJ3dvcmtwYWQnKTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh3b3JrcGFkU2VydmljZS5jcmVhdGUod29ya3BhZCkpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHByb3BzLnJvdXRlci5uYXZpZ2F0ZVRvKCdsb2FkV29ya3BhZCcsIHsKICAgICAgICAgICAgICAgIGlkOiB3b3JrcGFkLmlkLAogICAgICAgICAgICAgICAgcGFnZTogMQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICBfbm90aWZ5Lm5vdGlmeS5lcnJvcihfY29udGV4dDMudDAsIHsKICAgICAgICAgICAgICAgIHRpdGxlOiBlcnJvcnMuZ2V0Q2xvbmVGYWlsdXJlRXJyb3JNZXNzYWdlKCkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCBudWxsLCBbWzAsIDExXV0pOwogICAgfTsKICB9LAogIC8vIFJlbW92ZSB3b3JrcGFkIGdpdmVuIGFuIGFycmF5IG9mIGlkCiAgcmVtb3ZlV29ya3BhZHM6IGZ1bmN0aW9uIHJlbW92ZVdvcmtwYWRzKHByb3BzKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gX2NhbGxlZTQod29ya3BhZElkcykgewogICAgICB2YXIgc2V0V29ya3BhZHMsIHdvcmtwYWRzLCBsb2FkZWRXb3JrcGFkLCByZW1vdmVXb3JrcGFkczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc2V0V29ya3BhZHMgPSBwcm9wcy5zZXRXb3JrcGFkcywgd29ya3BhZHMgPSBwcm9wcy53b3JrcGFkcywgbG9hZGVkV29ya3BhZCA9IHByb3BzLndvcmtwYWRJZDsKICAgICAgICAgICAgICByZW1vdmVXb3JrcGFkcyA9IHdvcmtwYWRJZHMubWFwKGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtwYWRTZXJ2aWNlLnJlbW92ZShpZCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgICAgICAgICAgIGVycjogbnVsbAogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgICAgICAgICBlcnI6IGVycgogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UuYWxsKHJlbW92ZVdvcmtwYWRzKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVkaXJlY3RIb21lID0gZmFsc2U7CgogICAgICAgICAgICAgICAgdmFyIF9yZXN1bHRzJHJlZHVjZSA9IHJlc3VsdHMucmVkdWNlKGZ1bmN0aW9uIChfcmVmMiwgcmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMyA9IF9zbGljZWRUb0FycmF5KF9yZWYyLCAyKSwKICAgICAgICAgICAgICAgICAgICAgIHBhc3NlcyA9IF9yZWYzWzBdLAogICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gX3JlZjNbMV07CgogICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmlkID09PSBsb2FkZWRXb3JrcGFkICYmICFyZXN1bHQuZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RIb21lID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5lcnIpIHsKICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChyZXN1bHQuaWQpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHBhc3Nlcy5wdXNoKHJlc3VsdC5pZCk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBbcGFzc2VzLCBlcnJvcnNdOwogICAgICAgICAgICAgICAgfSwgW1tdLCBbXV0pLAogICAgICAgICAgICAgICAgICAgIF9yZXN1bHRzJHJlZHVjZTIgPSBfc2xpY2VkVG9BcnJheShfcmVzdWx0cyRyZWR1Y2UsIDIpLAogICAgICAgICAgICAgICAgICAgIHBhc3NlcyA9IF9yZXN1bHRzJHJlZHVjZTJbMF0sCiAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gX3Jlc3VsdHMkcmVkdWNlMlsxXTsKCiAgICAgICAgICAgICAgICB2YXIgcmVtYWluaW5nV29ya3BhZHMgPSB3b3JrcGFkcy53b3JrcGFkcy5maWx0ZXIoZnVuY3Rpb24gKF9yZWY0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBpZCA9IF9yZWY0LmlkOwogICAgICAgICAgICAgICAgICByZXR1cm4gIXBhc3Nlcy5pbmNsdWRlcyhpZCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZhciB3b3JrcGFkU3RhdGUgPSB7CiAgICAgICAgICAgICAgICAgIHRvdGFsOiByZW1haW5pbmdXb3JrcGFkcy5sZW5ndGgsCiAgICAgICAgICAgICAgICAgIHdvcmtwYWRzOiByZW1haW5pbmdXb3JrcGFkcwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgX25vdGlmeS5ub3RpZnkuZXJyb3IoZXJyb3JzLmdldERlbGV0ZUZhaWx1cmVFcnJvck1lc3NhZ2UoKSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc2V0V29ya3BhZHMod29ya3BhZFN0YXRlKTsKCiAgICAgICAgICAgICAgICBpZiAocmVkaXJlY3RIb21lKSB7CiAgICAgICAgICAgICAgICAgIHByb3BzLnJvdXRlci5uYXZpZ2F0ZVRvKCdob21lJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIGVycm9ycy5tYXAoZnVuY3Rpb24gKF9yZWY1KSB7CiAgICAgICAgICAgICAgICAgIHZhciBpZCA9IF9yZWY1LmlkOwogICAgICAgICAgICAgICAgICByZXR1cm4gaWQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgfQp9KSkoX3dvcmtwYWRfbG9hZGVyLldvcmtwYWRMb2FkZXIpOwpleHBvcnRzLldvcmtwYWRMb2FkZXIgPSBXb3JrcGFkTG9hZGVyOw=="},null]}