{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/console/public/np_ready/application/containers/editor/legacy/console_editor/editor.js","dependencies":[{"path":"src/legacy/core_plugins/console/public/np_ready/application/containers/editor/legacy/console_editor/editor.js","mtime":1585205039188},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkVkaXRvciA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfbG9kYXNoID0gcmVxdWlyZSgibG9kYXNoIik7Cgp2YXIgcXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJxdWVyeXN0cmluZy1icm93c2VyIikpOwoKdmFyIF9jb250ZXh0cyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2NvbnRleHRzIik7Cgp2YXIgX3B1YmxpYyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3BsdWdpbnMvZXNfdWlfc2hhcmVkL3B1YmxpYyIpOwoKdmFyIF9jb21wb25lbnRzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vY29tcG9uZW50cyIpOwoKdmFyIF9jb25zb2xlX21lbnVfYWN0aW9ucyA9IHJlcXVpcmUoIi4uL2NvbnNvbGVfbWVudV9hY3Rpb25zIik7Cgp2YXIgX2tleWJvYXJkX3Nob3J0Y3V0cyA9IHJlcXVpcmUoIi4va2V5Ym9hcmRfc2hvcnRjdXRzIik7Cgp2YXIgX2FwcGx5X2VkaXRvcl9zZXR0aW5ncyA9IHJlcXVpcmUoIi4vYXBwbHlfZWRpdG9yX3NldHRpbmdzIik7Cgp2YXIgX2hvb2tzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vaG9va3MiKTsKCnZhciBzZW5zZUVkaXRvciA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoIi4uLy4uLy4uLy4uL21vZGVscy9zZW5zZV9lZGl0b3IiKSk7Cgp2YXIgX21hcHBpbmdzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi9saWIvbWFwcGluZ3MvbWFwcGluZ3MiKSk7Cgp2YXIgX3N1YnNjcmliZV9jb25zb2xlX3Jlc2l6ZV9jaGVja2VyID0gcmVxdWlyZSgiLi4vc3Vic2NyaWJlX2NvbnNvbGVfcmVzaXplX2NoZWNrZXIiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgIHJldHVybiBvYmo7CiAgfSBlbHNlIHsKICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7CiAgICByZXR1cm4gbmV3T2JqOwogIH0KfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKdmFyIGFicyA9IHsKICBwb3NpdGlvbjogJ2Fic29sdXRlJywKICB0b3A6ICcwJywKICBsZWZ0OiAnMCcsCiAgYm90dG9tOiAnMCcsCiAgcmlnaHQ6ICcwJwp9Owp2YXIgREVGQVVMVF9JTlBVVF9WQUxVRSA9ICJHRVQgX3NlYXJjaFxue1xuICBcInF1ZXJ5XCI6IHtcbiAgICBcIm1hdGNoX2FsbFwiOiB7fVxuICB9XG59IjsKCmZ1bmN0aW9uIEVkaXRvclVJKCkgewogIHZhciBfdXNlU2VydmljZXNDb250ZXh0ID0gKDAsIF9jb250ZXh0cy51c2VTZXJ2aWNlc0NvbnRleHQpKCksCiAgICAgIF91c2VTZXJ2aWNlc0NvbnRleHQkcyA9IF91c2VTZXJ2aWNlc0NvbnRleHQuc2VydmljZXMsCiAgICAgIGhpc3RvcnkgPSBfdXNlU2VydmljZXNDb250ZXh0JHMuaGlzdG9yeSwKICAgICAgbm90aWZpY2F0aW9ucyA9IF91c2VTZXJ2aWNlc0NvbnRleHQkcy5ub3RpZmljYXRpb25zLAogICAgICBkb2NMaW5rVmVyc2lvbiA9IF91c2VTZXJ2aWNlc0NvbnRleHQuZG9jTGlua1ZlcnNpb24sCiAgICAgIGVsYXN0aWNzZWFyY2hVcmwgPSBfdXNlU2VydmljZXNDb250ZXh0LmVsYXN0aWNzZWFyY2hVcmw7CgogIHZhciBfdXNlRWRpdG9yUmVhZENvbnRleHQgPSAoMCwgX2NvbnRleHRzLnVzZUVkaXRvclJlYWRDb250ZXh0KSgpLAogICAgICBzZXR0aW5ncyA9IF91c2VFZGl0b3JSZWFkQ29udGV4dC5zZXR0aW5nczsKCiAgdmFyIHNldElucHV0RWRpdG9yID0gKDAsIF9ob29rcy51c2VTZXRJbnB1dEVkaXRvcikoKTsKICB2YXIgc2VuZEN1cnJlbnRSZXF1ZXN0VG9FUyA9ICgwLCBfaG9va3MudXNlU2VuZEN1cnJlbnRSZXF1ZXN0VG9FUykoKTsKICB2YXIgZWRpdG9yUmVmID0gKDAsIF9yZWFjdC51c2VSZWYpKG51bGwpOwogIHZhciBlZGl0b3JJbnN0YW5jZVJlZiA9ICgwLCBfcmVhY3QudXNlUmVmKShudWxsKTsKCiAgdmFyIF91c2VTdGF0ZSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKG51bGwpLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgdGV4dEFyZWEgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRUZXh0QXJlYSA9IF91c2VTdGF0ZTJbMV07CgogICgwLCBfcHVibGljLnVzZVVJQWNlS2V5Ym9hcmRNb2RlKSh0ZXh0QXJlYSk7CiAgdmFyIG9wZW5Eb2N1bWVudGF0aW9uID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgIHZhciBkb2N1bWVudGF0aW9uOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoKDAsIF9jb25zb2xlX21lbnVfYWN0aW9ucy5nZXREb2N1bWVudGF0aW9uKShlZGl0b3JJbnN0YW5jZVJlZi5jdXJyZW50LCBkb2NMaW5rVmVyc2lvbikpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgZG9jdW1lbnRhdGlvbiA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICBpZiAoZG9jdW1lbnRhdGlvbikgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIHdpbmRvdy5vcGVuKGRvY3VtZW50YXRpb24sICdfYmxhbmsnKTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwgW2RvY0xpbmtWZXJzaW9uXSk7CiAgKDAsIF9yZWFjdC51c2VFZmZlY3QpKGZ1bmN0aW9uICgpIHsKICAgIGVkaXRvckluc3RhbmNlUmVmLmN1cnJlbnQgPSBzZW5zZUVkaXRvci5jcmVhdGUoZWRpdG9yUmVmLmN1cnJlbnQpOwogICAgdmFyIGVkaXRvciA9IGVkaXRvckluc3RhbmNlUmVmLmN1cnJlbnQ7CgogICAgdmFyIHJlYWRRdWVyeVBhcmFtcyA9IGZ1bmN0aW9uIHJlYWRRdWVyeVBhcmFtcygpIHsKICAgICAgdmFyIF9zcGxpdCA9ICh3aW5kb3cubG9jYXRpb24uaGFzaCB8fCAnJykuc3BsaXQoJz8nKSwKICAgICAgICAgIF9zcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfc3BsaXQsIDIpLAogICAgICAgICAgcXVlcnlTdHJpbmcgPSBfc3BsaXQyWzFdOwoKICAgICAgcmV0dXJuIHFzLnBhcnNlKHF1ZXJ5U3RyaW5nIHx8ICcnKTsKICAgIH07CgogICAgdmFyIGxvYWRCdWZmZXJGcm9tUmVtb3RlID0gZnVuY3Rpb24gbG9hZEJ1ZmZlckZyb21SZW1vdGUodXJsKSB7CiAgICAgIGlmICgvXmh0dHBzPzpcL1wvLy50ZXN0KHVybCkpIHsKICAgICAgICB2YXIgbG9hZEZyb20gPSB7CiAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgIC8vIEhhdmluZyBkYXRhVHlwZSBoZXJlIGlzIHJlcXVpcmVkIGFzIGl0IGRvZXNuJ3QgYWxsb3cgalF1ZXJ5IHRvIGBldmFsYCBjb250ZW50CiAgICAgICAgICAvLyBjb21pbmcgZnJvbSB0aGUgZXh0ZXJuYWwgc291cmNlIHRoZXJlYnkgcHJldmVudGluZyBYU1MgYXR0YWNrLgogICAgICAgICAgZGF0YVR5cGU6ICd0ZXh0JywKICAgICAgICAgIGtiblhzcmZUb2tlbjogZmFsc2UKICAgICAgICB9OwoKICAgICAgICBpZiAoL2h0dHBzPzpcL1wvYXBpXC5naXRodWJcLmNvbS8udGVzdCh1cmwpKSB7CiAgICAgICAgICBsb2FkRnJvbS5oZWFkZXJzID0gewogICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi92bmQuZ2l0aHViLnYzLnJhdycKICAgICAgICAgIH07CiAgICAgICAgfSAvLyBGaXJlIGFuZCBmb3JnZXQuCgoKICAgICAgICAkLmFqYXgobG9hZEZyb20pLmRvbmUoZnVuY3Rpb24gX2NhbGxlZTIoZGF0YSkgewogICAgICAgICAgdmFyIGNvcmVFZGl0b3I7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgY29yZUVkaXRvciA9IGVkaXRvci5nZXRDb3JlRWRpdG9yKCk7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChlZGl0b3IudXBkYXRlKGRhdGEsIHRydWUpKTsKCiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgIGVkaXRvci5tb3ZlVG9OZXh0UmVxdWVzdEVkZ2UoZmFsc2UpOwogICAgICAgICAgICAgICAgICBjb3JlRWRpdG9yLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgICAgICAgICAgICAgIGVkaXRvci5oaWdobGlnaHRDdXJyZW50UmVxdWVzdHNBbmRVcGRhdGVBY3Rpb25CYXIoKTsKICAgICAgICAgICAgICAgICAgY29yZUVkaXRvci5nZXRDb250YWluZXIoKS5mb2N1cygpOwoKICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07IC8vIFN1cHBvcnQgZm9yIGxvYWRpbmcgYSBjb25zb2xlIHNuaXBwZXQgZnJvbSBhIHJlbW90ZSBzb3VyY2UsIGxpa2Ugc3VwcG9ydCBkb2NzLgoKCiAgICB2YXIgb25IYXNoQ2hhbmdlID0gKDAsIF9sb2Rhc2guZGVib3VuY2UpKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWFkUXVlcnlQYXJhbXMgPSByZWFkUXVlcnlQYXJhbXMoKSwKICAgICAgICAgIHVybCA9IF9yZWFkUXVlcnlQYXJhbXMubG9hZF9mcm9tOwoKICAgICAgaWYgKCF1cmwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGxvYWRCdWZmZXJGcm9tUmVtb3RlKHVybCk7CiAgICB9LCAyMDApOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBvbkhhc2hDaGFuZ2UpOwogICAgdmFyIGluaXRpYWxRdWVyeVBhcmFtcyA9IHJlYWRRdWVyeVBhcmFtcygpOwoKICAgIGlmIChpbml0aWFsUXVlcnlQYXJhbXMubG9hZF9mcm9tKSB7CiAgICAgIGxvYWRCdWZmZXJGcm9tUmVtb3RlKGluaXRpYWxRdWVyeVBhcmFtcy5sb2FkX2Zyb20pOwogICAgfSBlbHNlIHsKICAgICAgdmFyIF9yZWYgPSBoaXN0b3J5LmdldFNhdmVkRWRpdG9yU3RhdGUoKSB8fCB7CiAgICAgICAgY29udGVudDogREVGQVVMVF9JTlBVVF9WQUxVRQogICAgICB9LAogICAgICAgICAgdGV4dCA9IF9yZWYuY29udGVudDsKCiAgICAgIGVkaXRvci51cGRhdGUodGV4dCk7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0dXBBdXRvc2F2ZSgpIHsKICAgICAgdmFyIHRpbWVyOwogICAgICB2YXIgc2F2ZURlbGF5ID0gNTAwOwogICAgICBlZGl0b3IuZ2V0Q29yZUVkaXRvcigpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHRpbWVyKSB7CiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIH0KCiAgICAgICAgdGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChzYXZlQ3VycmVudFN0YXRlLCBzYXZlRGVsYXkpOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBzYXZlQ3VycmVudFN0YXRlKCkgewogICAgICB0cnkgewogICAgICAgIHZhciBjb250ZW50ID0gZWRpdG9yLmdldENvcmVFZGl0b3IoKS5nZXRWYWx1ZSgpOwogICAgICAgIGhpc3RvcnkudXBkYXRlQ3VycmVudFN0YXRlKGNvbnRlbnQpOwogICAgICB9IGNhdGNoIChlKSB7Ly8gSWdub3Jpbmcgc2F2aW5nIGVycm9yCiAgICAgIH0KICAgIH0KCiAgICBzZXRJbnB1dEVkaXRvcihlZGl0b3IpOwogICAgc2V0VGV4dEFyZWEoZWRpdG9yUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKSk7CgogICAgX21hcHBpbmdzLmRlZmF1bHQucmV0cmlldmVBdXRvQ29tcGxldGVJbmZvKCk7CgogICAgdmFyIHVuc3Vic2NyaWJlUmVzaXplciA9ICgwLCBfc3Vic2NyaWJlX2NvbnNvbGVfcmVzaXplX2NoZWNrZXIuc3Vic2NyaWJlUmVzaXplQ2hlY2tlcikoZWRpdG9yUmVmLmN1cnJlbnQsIGVkaXRvcik7CiAgICBzZXR1cEF1dG9zYXZlKCk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB1bnN1YnNjcmliZVJlc2l6ZXIoKTsKCiAgICAgIF9tYXBwaW5ncy5kZWZhdWx0LmNsZWFyU3Vic2NyaXB0aW9ucygpOwoKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBvbkhhc2hDaGFuZ2UpOwogICAgfTsKICB9LCBbaGlzdG9yeSwgc2V0SW5wdXRFZGl0b3JdKTsKICAoMCwgX3JlYWN0LnVzZUVmZmVjdCkoZnVuY3Rpb24gKCkgewogICAgdmFyIGVkaXRvciA9IGVkaXRvckluc3RhbmNlUmVmLmN1cnJlbnQ7CiAgICAoMCwgX2FwcGx5X2VkaXRvcl9zZXR0aW5ncy5hcHBseUN1cnJlbnRTZXR0aW5ncykoZWRpdG9yLmdldENvcmVFZGl0b3IoKSwgc2V0dGluZ3MpOyAvLyBQcmVzZXJ2ZSBsZWdhY3kgZm9jdXMgYmVoYXZpb3IgYWZ0ZXIgc2V0dGluZ3MgaGF2ZSB1cGRhdGVkLgoKICAgIGVkaXRvci5nZXRDb3JlRWRpdG9yKCkuZ2V0Q29udGFpbmVyKCkuZm9jdXMoKTsKICB9LCBbc2V0dGluZ3NdKTsKICAoMCwgX3JlYWN0LnVzZUVmZmVjdCkoZnVuY3Rpb24gKCkgewogICAgKDAsIF9rZXlib2FyZF9zaG9ydGN1dHMucmVnaXN0ZXJDb21tYW5kcykoewogICAgICBzZW5zZUVkaXRvcjogZWRpdG9ySW5zdGFuY2VSZWYuY3VycmVudCwKICAgICAgc2VuZEN1cnJlbnRSZXF1ZXN0VG9FUzogc2VuZEN1cnJlbnRSZXF1ZXN0VG9FUywKICAgICAgb3BlbkRvY3VtZW50YXRpb246IG9wZW5Eb2N1bWVudGF0aW9uCiAgICB9KTsKICB9LCBbc2VuZEN1cnJlbnRSZXF1ZXN0VG9FUywgb3BlbkRvY3VtZW50YXRpb25dKTsKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgc3R5bGU6IGFicywKICAgIGNsYXNzTmFtZTogImNvbkFwcCIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJjb25BcHBfX2VkaXRvciIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJ1bCIsIHsKICAgIGNsYXNzTmFtZTogImNvbkFwcF9fYXV0b0NvbXBsZXRlIiwKICAgIGlkOiAiYXV0b2NvbXBsZXRlIgogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICBjbGFzc05hbWU6ICJjb25BcHBfX2VkaXRvckFjdGlvbnMiLAogICAgaWQ6ICJDb25BcHBFZGl0b3JBY3Rpb25zIiwKICAgIGd1dHRlclNpemU6ICJub25lIiwKICAgIHJlc3BvbnNpdmU6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVG9vbFRpcCwgewogICAgY29udGVudDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2NvbnNvbGUuc2VuZFJlcXVlc3RCdXR0b25Ub29sdGlwJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ2NsaWNrIHRvIHNlbmQgcmVxdWVzdCcKICAgIH0pCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgewogICAgb25DbGljazogc2VuZEN1cnJlbnRSZXF1ZXN0VG9FUywKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJzZW5kUmVxdWVzdEJ1dHRvbiIsCiAgICAiYXJpYS1sYWJlbCI6IF9pMThuLmkxOG4udHJhbnNsYXRlKCdjb25zb2xlLnNlbmRSZXF1ZXN0QnV0dG9uVG9vbHRpcCcsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdjbGljayB0byBzZW5kIHJlcXVlc3QnCiAgICB9KSwKICAgIGNsYXNzTmFtZTogImNvbkFwcF9fZWRpdG9yQWN0aW9uQnV0dG9uIGNvbkFwcF9fZWRpdG9yQWN0aW9uQnV0dG9uLS1zdWNjZXNzIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlJY29uLCB7CiAgICB0eXBlOiAicGxheSIKICB9KSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb21wb25lbnRzLkNvbnNvbGVNZW51LCB7CiAgICBnZXRDdXJsOiBmdW5jdGlvbiBnZXRDdXJsKCkgewogICAgICByZXR1cm4gZWRpdG9ySW5zdGFuY2VSZWYuY3VycmVudC5nZXRSZXF1ZXN0c0FzQ1VSTChlbGFzdGljc2VhcmNoVXJsKTsKICAgIH0sCiAgICBnZXREb2N1bWVudGF0aW9uOiBmdW5jdGlvbiBnZXREb2N1bWVudGF0aW9uKCkgewogICAgICByZXR1cm4gKDAsIF9jb25zb2xlX21lbnVfYWN0aW9ucy5nZXREb2N1bWVudGF0aW9uKShlZGl0b3JJbnN0YW5jZVJlZi5jdXJyZW50LCBkb2NMaW5rVmVyc2lvbik7CiAgICB9LAogICAgYXV0b0luZGVudDogZnVuY3Rpb24gYXV0b0luZGVudChldmVudCkgewogICAgICAoMCwgX2NvbnNvbGVfbWVudV9hY3Rpb25zLmF1dG9JbmRlbnQpKGVkaXRvckluc3RhbmNlUmVmLmN1cnJlbnQsIGV2ZW50KTsKICAgIH0sCiAgICBhZGROb3RpZmljYXRpb246IGZ1bmN0aW9uIGFkZE5vdGlmaWNhdGlvbihfcmVmMikgewogICAgICB2YXIgdGl0bGUgPSBfcmVmMi50aXRsZTsKICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbnMudG9hc3RzLmFkZCh7CiAgICAgICAgdGl0bGU6IHRpdGxlCiAgICAgIH0pOwogICAgfQogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImxhYmVsIiwgewogICAgY2xhc3NOYW1lOiAiY29uQXBwX190ZXh0QXJlYUxhYmVsSGFjayIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICByZWY6IGVkaXRvclJlZiwKICAgIGlkOiAiQ29uQXBwRWRpdG9yIiwKICAgIGNsYXNzTmFtZTogImNvbkFwcF9fZWRpdG9yQ29udGVudCIsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAicmVxdWVzdC1lZGl0b3IiCiAgfSkpKSk7Cn0KCnZhciBFZGl0b3IgPSBfcmVhY3QuZGVmYXVsdC5tZW1vKEVkaXRvclVJKTsKCmV4cG9ydHMuRWRpdG9yID0gRWRpdG9yOw=="},null]}