{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/infra/public/components/logging/log_text_stream/log_entry_row.js","dependencies":[{"path":"x-pack/legacy/plugins/infra/public/components/logging/log_text_stream/log_entry_row.js","mtime":1585205044621},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkxvZ0VudHJ5Um93ID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9ldWlfc3R5bGVkX2NvbXBvbmVudHMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uL2NvbW1vbi9ldWlfc3R5bGVkX2NvbXBvbmVudHMiKSk7Cgp2YXIgX2xvZ19lbnRyeSA9IHJlcXVpcmUoIi4uLy4uLy4uL3V0aWxzL2xvZ19lbnRyeSIpOwoKdmFyIF9zb3VyY2VfY29uZmlndXJhdGlvbiA9IHJlcXVpcmUoIi4uLy4uLy4uL3V0aWxzL3NvdXJjZV9jb25maWd1cmF0aW9uIik7Cgp2YXIgX2xvZ19lbnRyeV9jb2x1bW4gPSByZXF1aXJlKCIuL2xvZ19lbnRyeV9jb2x1bW4iKTsKCnZhciBfbG9nX2VudHJ5X2ZpZWxkX2NvbHVtbiA9IHJlcXVpcmUoIi4vbG9nX2VudHJ5X2ZpZWxkX2NvbHVtbiIpOwoKdmFyIF9sb2dfZW50cnlfaWNvbl9jb2x1bW4gPSByZXF1aXJlKCIuL2xvZ19lbnRyeV9pY29uX2NvbHVtbiIpOwoKdmFyIF9sb2dfZW50cnlfbWVzc2FnZV9jb2x1bW4gPSByZXF1aXJlKCIuL2xvZ19lbnRyeV9tZXNzYWdlX2NvbHVtbiIpOwoKdmFyIF9sb2dfZW50cnlfdGltZXN0YW1wX2NvbHVtbiA9IHJlcXVpcmUoIi4vbG9nX2VudHJ5X3RpbWVzdGFtcF9jb2x1bW4iKTsKCnZhciBfdGV4dF9zdHlsZXMgPSByZXF1aXJlKCIuL3RleHRfc3R5bGVzIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XG4gIGNvbG9yOiAiLCAiO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gICIsICI7XG4iXSk7CgogIF90ZW1wbGF0ZU9iamVjdCA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKHN0cmluZ3MsIHJhdykgewogIGlmICghcmF3KSB7CiAgICByYXcgPSBzdHJpbmdzLnNsaWNlKDApOwogIH0KCiAgcmV0dXJuIE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3RyaW5ncywgewogICAgcmF3OiB7CiAgICAgIHZhbHVlOiBPYmplY3QuZnJlZXplKHJhdykKICAgIH0KICB9KSk7Cn0KCmZ1bmN0aW9uIF9leHRlbmRzKCkgewogIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7CiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOwoKICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7CiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0YXJnZXQ7CiAgfTsKCiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7CiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICBhcnIyW2ldID0gYXJyW2ldOwogICAgfQoKICAgIHJldHVybiBhcnIyOwogIH0KfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCnZhciBMb2dFbnRyeVJvdyA9IGZ1bmN0aW9uIExvZ0VudHJ5Um93KF9yZWYpIHsKICB2YXIgYm91bmRpbmdCb3hSZWYgPSBfcmVmLmJvdW5kaW5nQm94UmVmLAogICAgICBjb2x1bW5Db25maWd1cmF0aW9ucyA9IF9yZWYuY29sdW1uQ29uZmlndXJhdGlvbnMsCiAgICAgIGNvbHVtbldpZHRocyA9IF9yZWYuY29sdW1uV2lkdGhzLAogICAgICBoaWdobGlnaHRzID0gX3JlZi5oaWdobGlnaHRzLAogICAgICBpc0FjdGl2ZUhpZ2hsaWdodCA9IF9yZWYuaXNBY3RpdmVIaWdobGlnaHQsCiAgICAgIGlzSGlnaGxpZ2h0ZWQgPSBfcmVmLmlzSGlnaGxpZ2h0ZWQsCiAgICAgIGxvZ0VudHJ5ID0gX3JlZi5sb2dFbnRyeSwKICAgICAgb3BlbkZseW91dFdpdGhJdGVtID0gX3JlZi5vcGVuRmx5b3V0V2l0aEl0ZW0sCiAgICAgIHNjYWxlID0gX3JlZi5zY2FsZSwKICAgICAgd3JhcCA9IF9yZWYud3JhcDsKCiAgdmFyIF91c2VTdGF0ZSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIGlzSG92ZXJlZCA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldElzSG92ZXJlZCA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBzZXRJdGVtSXNIb3ZlcmVkID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gKCkgewogICAgc2V0SXNIb3ZlcmVkKHRydWUpOwogIH0sIFtdKTsKICB2YXIgc2V0SXRlbUlzTm90SG92ZXJlZCA9ICgwLCBfcmVhY3QudXNlQ2FsbGJhY2spKGZ1bmN0aW9uICgpIHsKICAgIHNldElzSG92ZXJlZChmYWxzZSk7CiAgfSwgW10pOwogIHZhciBvcGVuRmx5b3V0ID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG9wZW5GbHlvdXRXaXRoSXRlbShsb2dFbnRyeS5naWQpOwogIH0sIFtvcGVuRmx5b3V0V2l0aEl0ZW0sIGxvZ0VudHJ5LmdpZF0pOwogIHZhciBsb2dFbnRyeUNvbHVtbnNCeUlkID0gKDAsIF9yZWFjdC51c2VNZW1vKShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbG9nRW50cnkuY29sdW1ucy5yZWR1Y2UoZnVuY3Rpb24gKGNvbHVtbnNCeUlkLCBjb2x1bW4pIHsKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGNvbHVtbnNCeUlkLCBfZGVmaW5lUHJvcGVydHkoe30sIGNvbHVtbi5jb2x1bW5JZCwgY29sdW1uKSk7CiAgICB9LCB7fSk7CiAgfSwgW2xvZ0VudHJ5LmNvbHVtbnNdKTsKICB2YXIgaGlnaGxpZ2h0c0J5Q29sdW1uSWQgPSAoMCwgX3JlYWN0LnVzZU1lbW8pKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBoaWdobGlnaHRzLnJlZHVjZShmdW5jdGlvbiAoY29sdW1uc0J5SWQsIGhpZ2hsaWdodCkgewogICAgICByZXR1cm4gaGlnaGxpZ2h0LmNvbHVtbnMucmVkdWNlKGZ1bmN0aW9uIChpbm5lckNvbHVtbnNCeUlkLCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgaW5uZXJDb2x1bW5zQnlJZCwgX2RlZmluZVByb3BlcnR5KHt9LCBjb2x1bW4uY29sdW1uSWQsIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoaW5uZXJDb2x1bW5zQnlJZFtjb2x1bW4uY29sdW1uSWRdIHx8IFtdKSwgW2NvbHVtbl0pKSk7CiAgICAgIH0sIGNvbHVtbnNCeUlkKTsKICAgIH0sIHt9KTsKICB9LCBbaGlnaGxpZ2h0c10pOwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KExvZ0VudHJ5Um93V3JhcHBlciwgewogICAgImRhdGEtdGVzdC1zdWJqIjogInN0cmVhbUVudHJ5IGxvZ1RleHRTdHJlYW1FbnRyeSIsCiAgICByZWY6CiAgICAvKiBXb3JrYXJvdW5kIGZvciBtaXNzaW5nIFJlZk9iamVjdCBzdXBwb3J0IGluIHN0eWxlZC1jb21wb25lbnRzICovCiAgICBib3VuZGluZ0JveFJlZiwKICAgIG9uTW91c2VFbnRlcjogc2V0SXRlbUlzSG92ZXJlZCwKICAgIG9uTW91c2VMZWF2ZTogc2V0SXRlbUlzTm90SG92ZXJlZCwKICAgIHNjYWxlOiBzY2FsZQogIH0sIGNvbHVtbkNvbmZpZ3VyYXRpb25zLm1hcChmdW5jdGlvbiAoY29sdW1uQ29uZmlndXJhdGlvbikgewogICAgaWYgKCgwLCBfc291cmNlX2NvbmZpZ3VyYXRpb24uaXNUaW1lc3RhbXBMb2dDb2x1bW5Db25maWd1cmF0aW9uKShjb2x1bW5Db25maWd1cmF0aW9uKSkgewogICAgICB2YXIgY29sdW1uID0gbG9nRW50cnlDb2x1bW5zQnlJZFtjb2x1bW5Db25maWd1cmF0aW9uLnRpbWVzdGFtcENvbHVtbi5pZF07CiAgICAgIHZhciBjb2x1bW5XaWR0aCA9IGNvbHVtbldpZHRoc1tjb2x1bW5Db25maWd1cmF0aW9uLnRpbWVzdGFtcENvbHVtbi5pZF07CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9sb2dfZW50cnlfY29sdW1uLkxvZ0VudHJ5Q29sdW1uLCBfZXh0ZW5kcyh7CiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImxvZ0NvbHVtbiB0aW1lc3RhbXBMb2dDb2x1bW4iLAogICAgICAgIGtleTogY29sdW1uQ29uZmlndXJhdGlvbi50aW1lc3RhbXBDb2x1bW4uaWQKICAgICAgfSwgY29sdW1uV2lkdGgpLCAoMCwgX2xvZ19lbnRyeS5pc1RpbWVzdGFtcENvbHVtbikoY29sdW1uKSA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2xvZ19lbnRyeV90aW1lc3RhbXBfY29sdW1uLkxvZ0VudHJ5VGltZXN0YW1wQ29sdW1uLCB7CiAgICAgICAgaXNIaWdobGlnaHRlZDogaXNIaWdobGlnaHRlZCwKICAgICAgICBpc0hvdmVyZWQ6IGlzSG92ZXJlZCwKICAgICAgICB0aW1lOiBjb2x1bW4udGltZXN0YW1wCiAgICAgIH0pIDogbnVsbCk7CiAgICB9IGVsc2UgaWYgKCgwLCBfc291cmNlX2NvbmZpZ3VyYXRpb24uaXNNZXNzYWdlTG9nQ29sdW1uQ29uZmlndXJhdGlvbikoY29sdW1uQ29uZmlndXJhdGlvbikpIHsKICAgICAgdmFyIF9jb2x1bW4gPSBsb2dFbnRyeUNvbHVtbnNCeUlkW2NvbHVtbkNvbmZpZ3VyYXRpb24ubWVzc2FnZUNvbHVtbi5pZF07CiAgICAgIHZhciBfY29sdW1uV2lkdGggPSBjb2x1bW5XaWR0aHNbY29sdW1uQ29uZmlndXJhdGlvbi5tZXNzYWdlQ29sdW1uLmlkXTsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2xvZ19lbnRyeV9jb2x1bW4uTG9nRW50cnlDb2x1bW4sIF9leHRlbmRzKHsKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAibG9nQ29sdW1uIG1lc3NhZ2VMb2dDb2x1bW4iLAogICAgICAgIGtleTogY29sdW1uQ29uZmlndXJhdGlvbi5tZXNzYWdlQ29sdW1uLmlkCiAgICAgIH0sIF9jb2x1bW5XaWR0aCksIF9jb2x1bW4gPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9sb2dfZW50cnlfbWVzc2FnZV9jb2x1bW4uTG9nRW50cnlNZXNzYWdlQ29sdW1uLCB7CiAgICAgICAgY29sdW1uVmFsdWU6IF9jb2x1bW4sCiAgICAgICAgaGlnaGxpZ2h0czogaGlnaGxpZ2h0c0J5Q29sdW1uSWRbX2NvbHVtbi5jb2x1bW5JZF0gfHwgW10sCiAgICAgICAgaXNIaWdobGlnaHRlZDogaXNIaWdobGlnaHRlZCwKICAgICAgICBpc0FjdGl2ZUhpZ2hsaWdodDogaXNBY3RpdmVIaWdobGlnaHQsCiAgICAgICAgaXNIb3ZlcmVkOiBpc0hvdmVyZWQsCiAgICAgICAgaXNXcmFwcGVkOiB3cmFwCiAgICAgIH0pIDogbnVsbCk7CiAgICB9IGVsc2UgaWYgKCgwLCBfc291cmNlX2NvbmZpZ3VyYXRpb24uaXNGaWVsZExvZ0NvbHVtbkNvbmZpZ3VyYXRpb24pKGNvbHVtbkNvbmZpZ3VyYXRpb24pKSB7CiAgICAgIHZhciBfY29sdW1uMiA9IGxvZ0VudHJ5Q29sdW1uc0J5SWRbY29sdW1uQ29uZmlndXJhdGlvbi5maWVsZENvbHVtbi5pZF07CiAgICAgIHZhciBfY29sdW1uV2lkdGgyID0gY29sdW1uV2lkdGhzW2NvbHVtbkNvbmZpZ3VyYXRpb24uZmllbGRDb2x1bW4uaWRdOwogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbG9nX2VudHJ5X2NvbHVtbi5Mb2dFbnRyeUNvbHVtbiwgX2V4dGVuZHMoewogICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJsb2dDb2x1bW4gZmllbGRMb2dDb2x1bW4gZmllbGRMb2dDb2x1bW46Ii5jb25jYXQoY29sdW1uQ29uZmlndXJhdGlvbi5maWVsZENvbHVtbi5maWVsZCksCiAgICAgICAga2V5OiBjb2x1bW5Db25maWd1cmF0aW9uLmZpZWxkQ29sdW1uLmlkCiAgICAgIH0sIF9jb2x1bW5XaWR0aDIpLCBfY29sdW1uMiA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2xvZ19lbnRyeV9maWVsZF9jb2x1bW4uTG9nRW50cnlGaWVsZENvbHVtbiwgewogICAgICAgIGNvbHVtblZhbHVlOiBfY29sdW1uMiwKICAgICAgICBoaWdobGlnaHRzOiBoaWdobGlnaHRzQnlDb2x1bW5JZFtfY29sdW1uMi5jb2x1bW5JZF0gfHwgW10sCiAgICAgICAgaXNBY3RpdmVIaWdobGlnaHQ6IGlzQWN0aXZlSGlnaGxpZ2h0LAogICAgICAgIGlzSGlnaGxpZ2h0ZWQ6IGlzSGlnaGxpZ2h0ZWQsCiAgICAgICAgaXNIb3ZlcmVkOiBpc0hvdmVyZWQsCiAgICAgICAgaXNXcmFwcGVkOiB3cmFwCiAgICAgIH0pIDogbnVsbCk7CiAgICB9CiAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2xvZ19lbnRyeV9jb2x1bW4uTG9nRW50cnlDb2x1bW4sIF9leHRlbmRzKHsKICAgIGtleTogImxvZ0NvbHVtbiBpY29uTG9nQ29sdW1uIGljb25Mb2dDb2x1bW46ZGV0YWlscyIKICB9LCBjb2x1bW5XaWR0aHNbX2xvZ19lbnRyeV9jb2x1bW4uaWNvbkNvbHVtbklkXSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2xvZ19lbnRyeV9pY29uX2NvbHVtbi5Mb2dFbnRyeURldGFpbHNJY29uQ29sdW1uLCB7CiAgICBpc0hpZ2hsaWdodGVkOiBpc0hpZ2hsaWdodGVkLAogICAgaXNIb3ZlcmVkOiBpc0hvdmVyZWQsCiAgICBvcGVuRmx5b3V0OiBvcGVuRmx5b3V0CiAgfSkpKTsKfTsKCmV4cG9ydHMuTG9nRW50cnlSb3cgPSBMb2dFbnRyeVJvdzsKCnZhciBMb2dFbnRyeVJvd1dyYXBwZXIgPSBfZXVpX3N0eWxlZF9jb21wb25lbnRzLmRlZmF1bHQuZGl2LmF0dHJzKGZ1bmN0aW9uICgpIHsKICByZXR1cm4gewogICAgcm9sZTogJ3JvdycKICB9Owp9KShfdGVtcGxhdGVPYmplY3QoKSwgZnVuY3Rpb24gKHByb3BzKSB7CiAgcmV0dXJuIHByb3BzLnRoZW1lLmV1aS5ldWlUZXh0Q29sb3I7Cn0sIGZ1bmN0aW9uIChwcm9wcykgewogIHJldHVybiAoMCwgX3RleHRfc3R5bGVzLm1vbm9zcGFjZVRleHRTdHlsZSkocHJvcHMuc2NhbGUpOwp9KTs="},null]}