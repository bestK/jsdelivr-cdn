{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/maps/public/selectors/map_selectors.js","dependencies":[{"path":"x-pack/legacy/plugins/maps/public/selectors/map_selectors.js","mtime":1585205045393},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmFyZUxheWVyc0xvYWRlZCA9IGV4cG9ydHMuaGFzRGlydHlTdGF0ZSA9IGV4cG9ydHMuZ2V0UXVlcnlhYmxlVW5pcXVlSW5kZXhQYXR0ZXJuSWRzID0gZXhwb3J0cy5nZXRVbmlxdWVJbmRleFBhdHRlcm5JZHMgPSBleHBvcnRzLmdldFNlbGVjdGVkTGF5ZXJKb2luRGVzY3JpcHRvcnMgPSBleHBvcnRzLmdldE1hcENvbG9ycyA9IGV4cG9ydHMuZ2V0U2VsZWN0ZWRMYXllciA9IGV4cG9ydHMuZ2V0SGlkZGVuTGF5ZXJJZHMgPSBleHBvcnRzLmdldExheWVyTGlzdCA9IGV4cG9ydHMuZ2V0RGF0YUZpbHRlcnMgPSBleHBvcnRzLmdldFJlZnJlc2hUaW1lckxhc3RUcmlnZ2VyZWRBdCA9IGV4cG9ydHMuZ2V0UmVmcmVzaENvbmZpZyA9IGV4cG9ydHMuaXNEcmF3aW5nRmlsdGVyID0gZXhwb3J0cy5nZXREcmF3U3RhdGUgPSBleHBvcnRzLmlzVXNpbmdTZWFyY2ggPSBleHBvcnRzLmdldEZpbHRlcnMgPSBleHBvcnRzLmdldFF1ZXJ5ID0gZXhwb3J0cy5nZXRUaW1lRmlsdGVycyA9IGV4cG9ydHMuZ2V0TW91c2VDb29yZGluYXRlcyA9IGV4cG9ydHMuZ2V0TWFwQ2VudGVyID0gZXhwb3J0cy5nZXRNYXBab29tID0gZXhwb3J0cy5nZXRNYXBCdWZmZXIgPSBleHBvcnRzLmdldE1hcEV4dGVudCA9IGV4cG9ydHMuaXNWaWV3Q29udHJvbEhpZGRlbiA9IGV4cG9ydHMuaXNMYXllckNvbnRyb2xIaWRkZW4gPSBleHBvcnRzLmlzVG9vbGJhck92ZXJsYXlIaWRkZW4gPSBleHBvcnRzLmlzVG9vbHRpcENvbnRyb2xEaXNhYmxlZCA9IGV4cG9ydHMuaXNJbnRlcmFjdGl2ZURpc2FibGVkID0gZXhwb3J0cy5nZXRTY3JvbGxab29tID0gZXhwb3J0cy5nZXRXYWl0aW5nRm9yTWFwUmVhZHlMYXllckxpc3RSYXcgPSBleHBvcnRzLmdldExheWVyTGlzdFJhdyA9IGV4cG9ydHMuZ2V0VHJhbnNpZW50TGF5ZXJJZCA9IGV4cG9ydHMuZ2V0U2VsZWN0ZWRMYXllcklkID0gZXhwb3J0cy5nZXRHb3RvID0gZXhwb3J0cy5nZXRNYXBJbml0RXJyb3IgPSBleHBvcnRzLmdldE1hcFJlYWR5ID0gZXhwb3J0cy5nZXRUb29sdGlwU3RhdGUgPSB2b2lkIDA7Cgp2YXIgX3Jlc2VsZWN0ID0gcmVxdWlyZSgicmVzZWxlY3QiKTsKCnZhciBfbG9kYXNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJsb2Rhc2giKSk7Cgp2YXIgX3RpbGVfbGF5ZXIgPSByZXF1aXJlKCIuLi9sYXllcnMvdGlsZV9sYXllciIpOwoKdmFyIF92ZWN0b3JfdGlsZV9sYXllciA9IHJlcXVpcmUoIi4uL2xheWVycy92ZWN0b3JfdGlsZV9sYXllciIpOwoKdmFyIF92ZWN0b3JfbGF5ZXIgPSByZXF1aXJlKCIuLi9sYXllcnMvdmVjdG9yX2xheWVyIik7Cgp2YXIgX2hlYXRtYXBfbGF5ZXIgPSByZXF1aXJlKCIuLi9sYXllcnMvaGVhdG1hcF9sYXllciIpOwoKdmFyIF9hbGxfc291cmNlcyA9IHJlcXVpcmUoIi4uL2xheWVycy9zb3VyY2VzL2FsbF9zb3VyY2VzIik7Cgp2YXIgX3RpbWVmaWx0ZXIgPSByZXF1aXJlKCJ1aS90aW1lZmlsdGVyIik7Cgp2YXIgX25vbl9zZXJpYWxpemFibGVfaW5zdGFuY2VzID0gcmVxdWlyZSgiLi4vcmVkdWNlcnMvbm9uX3NlcmlhbGl6YWJsZV9pbnN0YW5jZXMiKTsKCnZhciBfdXRpbCA9IHJlcXVpcmUoIi4uL3JlZHVjZXJzL3V0aWwiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gIltvYmplY3QgQXJndW1lbnRzXSIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSB9CgpmdW5jdGlvbiBjcmVhdGVMYXllckluc3RhbmNlKGxheWVyRGVzY3JpcHRvciwgaW5zcGVjdG9yQWRhcHRlcnMpIHsKICB2YXIgc291cmNlID0gY3JlYXRlU291cmNlSW5zdGFuY2UobGF5ZXJEZXNjcmlwdG9yLnNvdXJjZURlc2NyaXB0b3IsIGluc3BlY3RvckFkYXB0ZXJzKTsKCiAgc3dpdGNoIChsYXllckRlc2NyaXB0b3IudHlwZSkgewogICAgY2FzZSBfdGlsZV9sYXllci5UaWxlTGF5ZXIudHlwZToKICAgICAgcmV0dXJuIG5ldyBfdGlsZV9sYXllci5UaWxlTGF5ZXIoewogICAgICAgIGxheWVyRGVzY3JpcHRvcjogbGF5ZXJEZXNjcmlwdG9yLAogICAgICAgIHNvdXJjZTogc291cmNlCiAgICAgIH0pOwoKICAgIGNhc2UgX3ZlY3Rvcl9sYXllci5WZWN0b3JMYXllci50eXBlOgogICAgICByZXR1cm4gbmV3IF92ZWN0b3JfbGF5ZXIuVmVjdG9yTGF5ZXIoewogICAgICAgIGxheWVyRGVzY3JpcHRvcjogbGF5ZXJEZXNjcmlwdG9yLAogICAgICAgIHNvdXJjZTogc291cmNlCiAgICAgIH0pOwoKICAgIGNhc2UgX3ZlY3Rvcl90aWxlX2xheWVyLlZlY3RvclRpbGVMYXllci50eXBlOgogICAgICByZXR1cm4gbmV3IF92ZWN0b3JfdGlsZV9sYXllci5WZWN0b3JUaWxlTGF5ZXIoewogICAgICAgIGxheWVyRGVzY3JpcHRvcjogbGF5ZXJEZXNjcmlwdG9yLAogICAgICAgIHNvdXJjZTogc291cmNlCiAgICAgIH0pOwoKICAgIGNhc2UgX2hlYXRtYXBfbGF5ZXIuSGVhdG1hcExheWVyLnR5cGU6CiAgICAgIHJldHVybiBuZXcgX2hlYXRtYXBfbGF5ZXIuSGVhdG1hcExheWVyKHsKICAgICAgICBsYXllckRlc2NyaXB0b3I6IGxheWVyRGVzY3JpcHRvciwKICAgICAgICBzb3VyY2U6IHNvdXJjZQogICAgICB9KTsKCiAgICBkZWZhdWx0OgogICAgICB0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCBsYXllclR5cGUgIi5jb25jYXQobGF5ZXJEZXNjcmlwdG9yLnR5cGUpKTsKICB9Cn0KCmZ1bmN0aW9uIGNyZWF0ZVNvdXJjZUluc3RhbmNlKHNvdXJjZURlc2NyaXB0b3IsIGluc3BlY3RvckFkYXB0ZXJzKSB7CiAgdmFyIFNvdXJjZSA9IF9hbGxfc291cmNlcy5BTExfU09VUkNFUy5maW5kKGZ1bmN0aW9uIChTb3VyY2UpIHsKICAgIHJldHVybiBTb3VyY2UudHlwZSA9PT0gc291cmNlRGVzY3JpcHRvci50eXBlOwogIH0pOwoKICBpZiAoIVNvdXJjZSkgewogICAgdGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgc291cmNlVHlwZSAiLmNvbmNhdChzb3VyY2VEZXNjcmlwdG9yLnR5cGUpKTsKICB9CgogIHJldHVybiBuZXcgU291cmNlKHNvdXJjZURlc2NyaXB0b3IsIGluc3BlY3RvckFkYXB0ZXJzKTsKfQoKdmFyIGdldFRvb2x0aXBTdGF0ZSA9IGZ1bmN0aW9uIGdldFRvb2x0aXBTdGF0ZShfcmVmKSB7CiAgdmFyIG1hcCA9IF9yZWYubWFwOwogIHJldHVybiBtYXAudG9vbHRpcFN0YXRlOwp9OwoKZXhwb3J0cy5nZXRUb29sdGlwU3RhdGUgPSBnZXRUb29sdGlwU3RhdGU7Cgp2YXIgZ2V0TWFwUmVhZHkgPSBmdW5jdGlvbiBnZXRNYXBSZWFkeShfcmVmMikgewogIHZhciBtYXAgPSBfcmVmMi5tYXA7CiAgcmV0dXJuIG1hcCAmJiBtYXAucmVhZHk7Cn07CgpleHBvcnRzLmdldE1hcFJlYWR5ID0gZ2V0TWFwUmVhZHk7Cgp2YXIgZ2V0TWFwSW5pdEVycm9yID0gZnVuY3Rpb24gZ2V0TWFwSW5pdEVycm9yKF9yZWYzKSB7CiAgdmFyIG1hcCA9IF9yZWYzLm1hcDsKICByZXR1cm4gbWFwLm1hcEluaXRFcnJvcjsKfTsKCmV4cG9ydHMuZ2V0TWFwSW5pdEVycm9yID0gZ2V0TWFwSW5pdEVycm9yOwoKdmFyIGdldEdvdG8gPSBmdW5jdGlvbiBnZXRHb3RvKF9yZWY0KSB7CiAgdmFyIG1hcCA9IF9yZWY0Lm1hcDsKICByZXR1cm4gbWFwICYmIG1hcC5nb3RvOwp9OwoKZXhwb3J0cy5nZXRHb3RvID0gZ2V0R290bzsKCnZhciBnZXRTZWxlY3RlZExheWVySWQgPSBmdW5jdGlvbiBnZXRTZWxlY3RlZExheWVySWQoX3JlZjUpIHsKICB2YXIgbWFwID0gX3JlZjUubWFwOwogIHJldHVybiAhbWFwLnNlbGVjdGVkTGF5ZXJJZCB8fCAhbWFwLmxheWVyTGlzdCA/IG51bGwgOiBtYXAuc2VsZWN0ZWRMYXllcklkOwp9OwoKZXhwb3J0cy5nZXRTZWxlY3RlZExheWVySWQgPSBnZXRTZWxlY3RlZExheWVySWQ7Cgp2YXIgZ2V0VHJhbnNpZW50TGF5ZXJJZCA9IGZ1bmN0aW9uIGdldFRyYW5zaWVudExheWVySWQoX3JlZjYpIHsKICB2YXIgbWFwID0gX3JlZjYubWFwOwogIHJldHVybiBtYXAuX190cmFuc2llbnRMYXllcklkOwp9OwoKZXhwb3J0cy5nZXRUcmFuc2llbnRMYXllcklkID0gZ2V0VHJhbnNpZW50TGF5ZXJJZDsKCnZhciBnZXRMYXllckxpc3RSYXcgPSBmdW5jdGlvbiBnZXRMYXllckxpc3RSYXcoX3JlZjcpIHsKICB2YXIgbWFwID0gX3JlZjcubWFwOwogIHJldHVybiBtYXAubGF5ZXJMaXN0ID8gbWFwLmxheWVyTGlzdCA6IFtdOwp9OwoKZXhwb3J0cy5nZXRMYXllckxpc3RSYXcgPSBnZXRMYXllckxpc3RSYXc7Cgp2YXIgZ2V0V2FpdGluZ0Zvck1hcFJlYWR5TGF5ZXJMaXN0UmF3ID0gZnVuY3Rpb24gZ2V0V2FpdGluZ0Zvck1hcFJlYWR5TGF5ZXJMaXN0UmF3KF9yZWY4KSB7CiAgdmFyIG1hcCA9IF9yZWY4Lm1hcDsKICByZXR1cm4gbWFwLndhaXRpbmdGb3JNYXBSZWFkeUxheWVyTGlzdCA/IG1hcC53YWl0aW5nRm9yTWFwUmVhZHlMYXllckxpc3QgOiBbXTsKfTsKCmV4cG9ydHMuZ2V0V2FpdGluZ0Zvck1hcFJlYWR5TGF5ZXJMaXN0UmF3ID0gZ2V0V2FpdGluZ0Zvck1hcFJlYWR5TGF5ZXJMaXN0UmF3OwoKdmFyIGdldFNjcm9sbFpvb20gPSBmdW5jdGlvbiBnZXRTY3JvbGxab29tKF9yZWY5KSB7CiAgdmFyIG1hcCA9IF9yZWY5Lm1hcDsKICByZXR1cm4gbWFwLm1hcFN0YXRlLnNjcm9sbFpvb207Cn07CgpleHBvcnRzLmdldFNjcm9sbFpvb20gPSBnZXRTY3JvbGxab29tOwoKdmFyIGlzSW50ZXJhY3RpdmVEaXNhYmxlZCA9IGZ1bmN0aW9uIGlzSW50ZXJhY3RpdmVEaXNhYmxlZChfcmVmMTApIHsKICB2YXIgbWFwID0gX3JlZjEwLm1hcDsKICByZXR1cm4gbWFwLm1hcFN0YXRlLmRpc2FibGVJbnRlcmFjdGl2ZTsKfTsKCmV4cG9ydHMuaXNJbnRlcmFjdGl2ZURpc2FibGVkID0gaXNJbnRlcmFjdGl2ZURpc2FibGVkOwoKdmFyIGlzVG9vbHRpcENvbnRyb2xEaXNhYmxlZCA9IGZ1bmN0aW9uIGlzVG9vbHRpcENvbnRyb2xEaXNhYmxlZChfcmVmMTEpIHsKICB2YXIgbWFwID0gX3JlZjExLm1hcDsKICByZXR1cm4gbWFwLm1hcFN0YXRlLmRpc2FibGVUb29sdGlwQ29udHJvbDsKfTsKCmV4cG9ydHMuaXNUb29sdGlwQ29udHJvbERpc2FibGVkID0gaXNUb29sdGlwQ29udHJvbERpc2FibGVkOwoKdmFyIGlzVG9vbGJhck92ZXJsYXlIaWRkZW4gPSBmdW5jdGlvbiBpc1Rvb2xiYXJPdmVybGF5SGlkZGVuKF9yZWYxMikgewogIHZhciBtYXAgPSBfcmVmMTIubWFwOwogIHJldHVybiBtYXAubWFwU3RhdGUuaGlkZVRvb2xiYXJPdmVybGF5Owp9OwoKZXhwb3J0cy5pc1Rvb2xiYXJPdmVybGF5SGlkZGVuID0gaXNUb29sYmFyT3ZlcmxheUhpZGRlbjsKCnZhciBpc0xheWVyQ29udHJvbEhpZGRlbiA9IGZ1bmN0aW9uIGlzTGF5ZXJDb250cm9sSGlkZGVuKF9yZWYxMykgewogIHZhciBtYXAgPSBfcmVmMTMubWFwOwogIHJldHVybiBtYXAubWFwU3RhdGUuaGlkZUxheWVyQ29udHJvbDsKfTsKCmV4cG9ydHMuaXNMYXllckNvbnRyb2xIaWRkZW4gPSBpc0xheWVyQ29udHJvbEhpZGRlbjsKCnZhciBpc1ZpZXdDb250cm9sSGlkZGVuID0gZnVuY3Rpb24gaXNWaWV3Q29udHJvbEhpZGRlbihfcmVmMTQpIHsKICB2YXIgbWFwID0gX3JlZjE0Lm1hcDsKICByZXR1cm4gbWFwLm1hcFN0YXRlLmhpZGVWaWV3Q29udHJvbDsKfTsKCmV4cG9ydHMuaXNWaWV3Q29udHJvbEhpZGRlbiA9IGlzVmlld0NvbnRyb2xIaWRkZW47Cgp2YXIgZ2V0TWFwRXh0ZW50ID0gZnVuY3Rpb24gZ2V0TWFwRXh0ZW50KF9yZWYxNSkgewogIHZhciBtYXAgPSBfcmVmMTUubWFwOwogIHJldHVybiBtYXAubWFwU3RhdGUuZXh0ZW50ID8gbWFwLm1hcFN0YXRlLmV4dGVudCA6IHt9Owp9OwoKZXhwb3J0cy5nZXRNYXBFeHRlbnQgPSBnZXRNYXBFeHRlbnQ7Cgp2YXIgZ2V0TWFwQnVmZmVyID0gZnVuY3Rpb24gZ2V0TWFwQnVmZmVyKF9yZWYxNikgewogIHZhciBtYXAgPSBfcmVmMTYubWFwOwogIHJldHVybiBtYXAubWFwU3RhdGUuYnVmZmVyID8gbWFwLm1hcFN0YXRlLmJ1ZmZlciA6IHt9Owp9OwoKZXhwb3J0cy5nZXRNYXBCdWZmZXIgPSBnZXRNYXBCdWZmZXI7Cgp2YXIgZ2V0TWFwWm9vbSA9IGZ1bmN0aW9uIGdldE1hcFpvb20oX3JlZjE3KSB7CiAgdmFyIG1hcCA9IF9yZWYxNy5tYXA7CiAgcmV0dXJuIG1hcC5tYXBTdGF0ZS56b29tID8gbWFwLm1hcFN0YXRlLnpvb20gOiAwOwp9OwoKZXhwb3J0cy5nZXRNYXBab29tID0gZ2V0TWFwWm9vbTsKCnZhciBnZXRNYXBDZW50ZXIgPSBmdW5jdGlvbiBnZXRNYXBDZW50ZXIoX3JlZjE4KSB7CiAgdmFyIG1hcCA9IF9yZWYxOC5tYXA7CiAgcmV0dXJuIG1hcC5tYXBTdGF0ZS5jZW50ZXIgPyBtYXAubWFwU3RhdGUuY2VudGVyIDogewogICAgbGF0OiAwLAogICAgbG9uOiAwCiAgfTsKfTsKCmV4cG9ydHMuZ2V0TWFwQ2VudGVyID0gZ2V0TWFwQ2VudGVyOwoKdmFyIGdldE1vdXNlQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbiBnZXRNb3VzZUNvb3JkaW5hdGVzKF9yZWYxOSkgewogIHZhciBtYXAgPSBfcmVmMTkubWFwOwogIHJldHVybiBtYXAubWFwU3RhdGUubW91c2VDb29yZGluYXRlczsKfTsKCmV4cG9ydHMuZ2V0TW91c2VDb29yZGluYXRlcyA9IGdldE1vdXNlQ29vcmRpbmF0ZXM7Cgp2YXIgZ2V0VGltZUZpbHRlcnMgPSBmdW5jdGlvbiBnZXRUaW1lRmlsdGVycyhfcmVmMjApIHsKICB2YXIgbWFwID0gX3JlZjIwLm1hcDsKICByZXR1cm4gbWFwLm1hcFN0YXRlLnRpbWVGaWx0ZXJzID8gbWFwLm1hcFN0YXRlLnRpbWVGaWx0ZXJzIDogX3RpbWVmaWx0ZXIudGltZWZpbHRlci5nZXRUaW1lKCk7Cn07CgpleHBvcnRzLmdldFRpbWVGaWx0ZXJzID0gZ2V0VGltZUZpbHRlcnM7Cgp2YXIgZ2V0UXVlcnkgPSBmdW5jdGlvbiBnZXRRdWVyeShfcmVmMjEpIHsKICB2YXIgbWFwID0gX3JlZjIxLm1hcDsKICByZXR1cm4gbWFwLm1hcFN0YXRlLnF1ZXJ5Owp9OwoKZXhwb3J0cy5nZXRRdWVyeSA9IGdldFF1ZXJ5OwoKdmFyIGdldEZpbHRlcnMgPSBmdW5jdGlvbiBnZXRGaWx0ZXJzKF9yZWYyMikgewogIHZhciBtYXAgPSBfcmVmMjIubWFwOwogIHJldHVybiBtYXAubWFwU3RhdGUuZmlsdGVyczsKfTsKCmV4cG9ydHMuZ2V0RmlsdGVycyA9IGdldEZpbHRlcnM7Cgp2YXIgaXNVc2luZ1NlYXJjaCA9IGZ1bmN0aW9uIGlzVXNpbmdTZWFyY2goc3RhdGUpIHsKICB2YXIgZmlsdGVycyA9IGdldEZpbHRlcnMoc3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoZmlsdGVyKSB7CiAgICByZXR1cm4gIWZpbHRlci5tZXRhLmRpc2FibGVkOwogIH0pOwoKICB2YXIgcXVlcnlTdHJpbmcgPSBfbG9kYXNoLmRlZmF1bHQuZ2V0KGdldFF1ZXJ5KHN0YXRlKSwgJ3F1ZXJ5JywgJycpOwoKICByZXR1cm4gZmlsdGVycy5sZW5ndGggfHwgcXVlcnlTdHJpbmcubGVuZ3RoOwp9OwoKZXhwb3J0cy5pc1VzaW5nU2VhcmNoID0gaXNVc2luZ1NlYXJjaDsKCnZhciBnZXREcmF3U3RhdGUgPSBmdW5jdGlvbiBnZXREcmF3U3RhdGUoX3JlZjIzKSB7CiAgdmFyIG1hcCA9IF9yZWYyMy5tYXA7CiAgcmV0dXJuIG1hcC5tYXBTdGF0ZS5kcmF3U3RhdGU7Cn07CgpleHBvcnRzLmdldERyYXdTdGF0ZSA9IGdldERyYXdTdGF0ZTsKCnZhciBpc0RyYXdpbmdGaWx0ZXIgPSBmdW5jdGlvbiBpc0RyYXdpbmdGaWx0ZXIoX3JlZjI0KSB7CiAgdmFyIG1hcCA9IF9yZWYyNC5tYXA7CiAgcmV0dXJuICEhbWFwLm1hcFN0YXRlLmRyYXdTdGF0ZTsKfTsKCmV4cG9ydHMuaXNEcmF3aW5nRmlsdGVyID0gaXNEcmF3aW5nRmlsdGVyOwoKdmFyIGdldFJlZnJlc2hDb25maWcgPSBmdW5jdGlvbiBnZXRSZWZyZXNoQ29uZmlnKF9yZWYyNSkgewogIHZhciBtYXAgPSBfcmVmMjUubWFwOwoKICBpZiAobWFwLm1hcFN0YXRlLnJlZnJlc2hDb25maWcpIHsKICAgIHJldHVybiBtYXAubWFwU3RhdGUucmVmcmVzaENvbmZpZzsKICB9CgogIHZhciByZWZyZXNoSW50ZXJ2YWwgPSBfdGltZWZpbHRlci50aW1lZmlsdGVyLmdldFJlZnJlc2hJbnRlcnZhbCgpOwoKICByZXR1cm4gewogICAgaXNQYXVzZWQ6IHJlZnJlc2hJbnRlcnZhbC5wYXVzZSwKICAgIGludGVydmFsOiByZWZyZXNoSW50ZXJ2YWwudmFsdWUKICB9Owp9OwoKZXhwb3J0cy5nZXRSZWZyZXNoQ29uZmlnID0gZ2V0UmVmcmVzaENvbmZpZzsKCnZhciBnZXRSZWZyZXNoVGltZXJMYXN0VHJpZ2dlcmVkQXQgPSBmdW5jdGlvbiBnZXRSZWZyZXNoVGltZXJMYXN0VHJpZ2dlcmVkQXQoX3JlZjI2KSB7CiAgdmFyIG1hcCA9IF9yZWYyNi5tYXA7CiAgcmV0dXJuIG1hcC5tYXBTdGF0ZS5yZWZyZXNoVGltZXJMYXN0VHJpZ2dlcmVkQXQ7Cn07CgpleHBvcnRzLmdldFJlZnJlc2hUaW1lckxhc3RUcmlnZ2VyZWRBdCA9IGdldFJlZnJlc2hUaW1lckxhc3RUcmlnZ2VyZWRBdDsKdmFyIGdldERhdGFGaWx0ZXJzID0gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoZ2V0TWFwRXh0ZW50LCBnZXRNYXBCdWZmZXIsIGdldE1hcFpvb20sIGdldFRpbWVGaWx0ZXJzLCBnZXRSZWZyZXNoVGltZXJMYXN0VHJpZ2dlcmVkQXQsIGdldFF1ZXJ5LCBnZXRGaWx0ZXJzLCBmdW5jdGlvbiAobWFwRXh0ZW50LCBtYXBCdWZmZXIsIG1hcFpvb20sIHRpbWVGaWx0ZXJzLCByZWZyZXNoVGltZXJMYXN0VHJpZ2dlcmVkQXQsIHF1ZXJ5LCBmaWx0ZXJzKSB7CiAgcmV0dXJuIHsKICAgIGV4dGVudDogbWFwRXh0ZW50LAogICAgYnVmZmVyOiBtYXBCdWZmZXIsCiAgICB6b29tOiBtYXBab29tLAogICAgdGltZUZpbHRlcnM6IHRpbWVGaWx0ZXJzLAogICAgcmVmcmVzaFRpbWVyTGFzdFRyaWdnZXJlZEF0OiByZWZyZXNoVGltZXJMYXN0VHJpZ2dlcmVkQXQsCiAgICBxdWVyeTogcXVlcnksCiAgICBmaWx0ZXJzOiBmaWx0ZXJzCiAgfTsKfSk7CmV4cG9ydHMuZ2V0RGF0YUZpbHRlcnMgPSBnZXREYXRhRmlsdGVyczsKdmFyIGdldExheWVyTGlzdCA9ICgwLCBfcmVzZWxlY3QuY3JlYXRlU2VsZWN0b3IpKGdldExheWVyTGlzdFJhdywgX25vbl9zZXJpYWxpemFibGVfaW5zdGFuY2VzLmdldEluc3BlY3RvckFkYXB0ZXJzLCBmdW5jdGlvbiAobGF5ZXJEZXNjcmlwdG9yTGlzdCwgaW5zcGVjdG9yQWRhcHRlcnMpIHsKICByZXR1cm4gbGF5ZXJEZXNjcmlwdG9yTGlzdC5tYXAoZnVuY3Rpb24gKGxheWVyRGVzY3JpcHRvcikgewogICAgcmV0dXJuIGNyZWF0ZUxheWVySW5zdGFuY2UobGF5ZXJEZXNjcmlwdG9yLCBpbnNwZWN0b3JBZGFwdGVycyk7CiAgfSk7Cn0pOwpleHBvcnRzLmdldExheWVyTGlzdCA9IGdldExheWVyTGlzdDsKdmFyIGdldEhpZGRlbkxheWVySWRzID0gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoZ2V0TGF5ZXJMaXN0UmF3LCBmdW5jdGlvbiAobGF5ZXJzKSB7CiAgcmV0dXJuIGxheWVycy5maWx0ZXIoZnVuY3Rpb24gKGxheWVyKSB7CiAgICByZXR1cm4gIWxheWVyLnZpc2libGU7CiAgfSkubWFwKGZ1bmN0aW9uIChsYXllcikgewogICAgcmV0dXJuIGxheWVyLmlkOwogIH0pOwp9KTsKZXhwb3J0cy5nZXRIaWRkZW5MYXllcklkcyA9IGdldEhpZGRlbkxheWVySWRzOwp2YXIgZ2V0U2VsZWN0ZWRMYXllciA9ICgwLCBfcmVzZWxlY3QuY3JlYXRlU2VsZWN0b3IpKGdldFNlbGVjdGVkTGF5ZXJJZCwgZ2V0TGF5ZXJMaXN0LCBmdW5jdGlvbiAoc2VsZWN0ZWRMYXllcklkLCBsYXllckxpc3QpIHsKICByZXR1cm4gbGF5ZXJMaXN0LmZpbmQoZnVuY3Rpb24gKGxheWVyKSB7CiAgICByZXR1cm4gbGF5ZXIuZ2V0SWQoKSA9PT0gc2VsZWN0ZWRMYXllcklkOwogIH0pOwp9KTsKZXhwb3J0cy5nZXRTZWxlY3RlZExheWVyID0gZ2V0U2VsZWN0ZWRMYXllcjsKdmFyIGdldE1hcENvbG9ycyA9ICgwLCBfcmVzZWxlY3QuY3JlYXRlU2VsZWN0b3IpKGdldFRyYW5zaWVudExheWVySWQsIGdldExheWVyTGlzdFJhdywgZnVuY3Rpb24gKHRyYW5zaWVudExheWVySWQsIGxheWVyTGlzdCkgewogIHJldHVybiBsYXllckxpc3QucmVkdWNlKGZ1bmN0aW9uIChhY2N1LCBsYXllcikgewogICAgaWYgKGxheWVyLmlkID09PSB0cmFuc2llbnRMYXllcklkKSB7CiAgICAgIHJldHVybiBhY2N1OwogICAgfQoKICAgIHZhciBjb2xvciA9IF9sb2Rhc2guZGVmYXVsdC5nZXQobGF5ZXIsICdzdHlsZS5wcm9wZXJ0aWVzLmZpbGxDb2xvci5vcHRpb25zLmNvbG9yJyk7CgogICAgaWYgKGNvbG9yKSBhY2N1LnB1c2goY29sb3IpOwogICAgcmV0dXJuIGFjY3U7CiAgfSwgW10pOwp9KTsKZXhwb3J0cy5nZXRNYXBDb2xvcnMgPSBnZXRNYXBDb2xvcnM7CnZhciBnZXRTZWxlY3RlZExheWVySm9pbkRlc2NyaXB0b3JzID0gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoZ2V0U2VsZWN0ZWRMYXllciwgZnVuY3Rpb24gKHNlbGVjdGVkTGF5ZXIpIHsKICByZXR1cm4gc2VsZWN0ZWRMYXllci5nZXRKb2lucygpLm1hcChmdW5jdGlvbiAoam9pbikgewogICAgcmV0dXJuIGpvaW4udG9EZXNjcmlwdG9yKCk7CiAgfSk7Cn0pOyAvLyBHZXQgbGlzdCBvZiB1bmlxdWUgaW5kZXggcGF0dGVybnMgdXNlZCBieSBhbGwgbGF5ZXJzCgpleHBvcnRzLmdldFNlbGVjdGVkTGF5ZXJKb2luRGVzY3JpcHRvcnMgPSBnZXRTZWxlY3RlZExheWVySm9pbkRlc2NyaXB0b3JzOwp2YXIgZ2V0VW5pcXVlSW5kZXhQYXR0ZXJuSWRzID0gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoZ2V0TGF5ZXJMaXN0LCBmdW5jdGlvbiAobGF5ZXJMaXN0KSB7CiAgdmFyIGluZGV4UGF0dGVybklkcyA9IFtdOwogIGxheWVyTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChsYXllcikgewogICAgaW5kZXhQYXR0ZXJuSWRzLnB1c2guYXBwbHkoaW5kZXhQYXR0ZXJuSWRzLCBfdG9Db25zdW1hYmxlQXJyYXkobGF5ZXIuZ2V0SW5kZXhQYXR0ZXJuSWRzKCkpKTsKICB9KTsKICByZXR1cm4gX2xvZGFzaC5kZWZhdWx0LnVuaXEoaW5kZXhQYXR0ZXJuSWRzKS5zb3J0KCk7Cn0pOyAvLyBHZXQgbGlzdCBvZiB1bmlxdWUgaW5kZXggcGF0dGVybnMsIGV4Y2x1ZGluZyBpbmRleCBwYXR0ZXJucyBmcm9tIGxheWVycyB0aGF0IGRpc2FibGUgYXBwbHlHbG9iYWxRdWVyeQoKZXhwb3J0cy5nZXRVbmlxdWVJbmRleFBhdHRlcm5JZHMgPSBnZXRVbmlxdWVJbmRleFBhdHRlcm5JZHM7CnZhciBnZXRRdWVyeWFibGVVbmlxdWVJbmRleFBhdHRlcm5JZHMgPSAoMCwgX3Jlc2VsZWN0LmNyZWF0ZVNlbGVjdG9yKShnZXRMYXllckxpc3QsIGZ1bmN0aW9uIChsYXllckxpc3QpIHsKICB2YXIgaW5kZXhQYXR0ZXJuSWRzID0gW107CiAgbGF5ZXJMaXN0LmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7CiAgICBpbmRleFBhdHRlcm5JZHMucHVzaC5hcHBseShpbmRleFBhdHRlcm5JZHMsIF90b0NvbnN1bWFibGVBcnJheShsYXllci5nZXRRdWVyeWFibGVJbmRleFBhdHRlcm5JZHMoKSkpOwogIH0pOwogIHJldHVybiBfbG9kYXNoLmRlZmF1bHQudW5pcShpbmRleFBhdHRlcm5JZHMpOwp9KTsKZXhwb3J0cy5nZXRRdWVyeWFibGVVbmlxdWVJbmRleFBhdHRlcm5JZHMgPSBnZXRRdWVyeWFibGVVbmlxdWVJbmRleFBhdHRlcm5JZHM7CnZhciBoYXNEaXJ0eVN0YXRlID0gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoZ2V0TGF5ZXJMaXN0UmF3LCBnZXRUcmFuc2llbnRMYXllcklkLCBmdW5jdGlvbiAobGF5ZXJMaXN0UmF3LCB0cmFuc2llbnRMYXllcklkKSB7CiAgaWYgKHRyYW5zaWVudExheWVySWQpIHsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgcmV0dXJuIGxheWVyTGlzdFJhdy5zb21lKGZ1bmN0aW9uIChsYXllckRlc2NyaXB0b3IpIHsKICAgIHZhciB0cmFja2VkU3RhdGUgPSBsYXllckRlc2NyaXB0b3JbX3V0aWwuVFJBQ0tFRF9MQVlFUl9ERVNDUklQVE9SXTsKCiAgICBpZiAoIXRyYWNrZWRTdGF0ZSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgdmFyIGN1cnJlbnRTdGF0ZSA9ICgwLCBfdXRpbC5jb3B5UGVyc2lzdGVudFN0YXRlKShsYXllckRlc2NyaXB0b3IpOwogICAgcmV0dXJuICFfbG9kYXNoLmRlZmF1bHQuaXNFcXVhbChjdXJyZW50U3RhdGUsIHRyYWNrZWRTdGF0ZSk7CiAgfSk7Cn0pOwpleHBvcnRzLmhhc0RpcnR5U3RhdGUgPSBoYXNEaXJ0eVN0YXRlOwp2YXIgYXJlTGF5ZXJzTG9hZGVkID0gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoZ2V0TGF5ZXJMaXN0LCBnZXRXYWl0aW5nRm9yTWFwUmVhZHlMYXllckxpc3RSYXcsIGdldE1hcFpvb20sIGZ1bmN0aW9uIChsYXllckxpc3QsIHdhaXRpbmdGb3JNYXBSZWFkeUxheWVyTGlzdCwgem9vbSkgewogIGlmICh3YWl0aW5nRm9yTWFwUmVhZHlMYXllckxpc3QubGVuZ3RoKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBmb3IgKHZhciBpID0gMDsgaSA8IGxheWVyTGlzdC5sZW5ndGg7IGkrKykgewogICAgdmFyIGxheWVyID0gbGF5ZXJMaXN0W2ldOwoKICAgIGlmIChsYXllci5pc1Zpc2libGUoKSAmJiBsYXllci5zaG93QXRab29tTGV2ZWwoem9vbSkgJiYgIWxheWVyLmlzRGF0YUxvYWRlZCgpKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9CgogIHJldHVybiB0cnVlOwp9KTsKZXhwb3J0cy5hcmVMYXllcnNMb2FkZWQgPSBhcmVMYXllcnNMb2FkZWQ7"},null]}