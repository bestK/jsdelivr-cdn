{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/rollup/public/index_pattern_creation/rollup_index_pattern_creation_config.js","dependencies":[{"path":"x-pack/legacy/plugins/rollup/public/index_pattern_creation/rollup_index_pattern_creation_config.js","mtime":1585205047036},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlJvbGx1cEluZGV4UGF0dGVybkNyZWF0aW9uQ29uZmlnID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfbmV3X3BsYXRmb3JtID0gcmVxdWlyZSgidWkvbmV3X3BsYXRmb3JtIik7Cgp2YXIgX3JvbGx1cF9wcm9tcHQgPSByZXF1aXJlKCIuL2NvbXBvbmVudHMvcm9sbHVwX3Byb21wdCIpOwoKdmFyIF9hcGkgPSByZXF1aXJlKCIuLi9zZXJ2aWNlcy9hcGkiKTsKCnZhciBfcHVibGljID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2xlZ2FjeS9jb3JlX3BsdWdpbnMvbWFuYWdlbWVudC9wdWJsaWMiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9Cgp2YXIgcm9sbHVwSW5kZXhQYXR0ZXJuVHlwZU5hbWUgPSBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sucm9sbHVwSm9icy5lZGl0Um9sbHVwSW5kZXhQYXR0ZXJuLmNyZWF0ZUluZGV4LmRlZmF1bHRUeXBlTmFtZScsIHsKICBkZWZhdWx0TWVzc2FnZTogJ3JvbGx1cCBpbmRleCBwYXR0ZXJuJwp9KTsKCnZhciByb2xsdXBJbmRleFBhdHRlcm5CdXR0b25UZXh0ID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnJvbGx1cEpvYnMuZWRpdFJvbGx1cEluZGV4UGF0dGVybi5jcmVhdGVJbmRleC5kZWZhdWx0QnV0dG9uVGV4dCcsIHsKICBkZWZhdWx0TWVzc2FnZTogJ1JvbGx1cCBpbmRleCBwYXR0ZXJuJwp9KTsKCnZhciByb2xsdXBJbmRleFBhdHRlcm5CdXR0b25EZXNjcmlwdGlvbiA9IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5yb2xsdXBKb2JzLmVkaXRSb2xsdXBJbmRleFBhdHRlcm4uY3JlYXRlSW5kZXguZGVmYXVsdEJ1dHRvbkRlc2NyaXB0aW9uJywgewogIGRlZmF1bHRNZXNzYWdlOiAnUGVyZm9ybSBsaW1pdGVkIGFnZ3JlZ2F0aW9ucyBhZ2FpbnN0IHN1bW1hcml6ZWQgZGF0YScKfSk7Cgp2YXIgcm9sbHVwSW5kZXhQYXR0ZXJuTm9NYXRjaEVycm9yID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnJvbGx1cEpvYnMuZWRpdFJvbGx1cEluZGV4UGF0dGVybi5jcmVhdGVJbmRleC5ub01hdGNoRXJyb3InLCB7CiAgZGVmYXVsdE1lc3NhZ2U6ICdSb2xsdXAgaW5kZXggcGF0dGVybiBlcnJvcjogbXVzdCBtYXRjaCBvbmUgcm9sbHVwIGluZGV4Jwp9KTsKCnZhciByb2xsdXBJbmRleFBhdHRlcm5Ub29NYW55TWF0Y2hlc0Vycm9yID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnJvbGx1cEpvYnMuZWRpdFJvbGx1cEluZGV4UGF0dGVybi5jcmVhdGVJbmRleC50b29NYW55TWF0Y2hlc0Vycm9yJywgewogIGRlZmF1bHRNZXNzYWdlOiAnUm9sbHVwIGluZGV4IHBhdHRlcm4gZXJyb3I6IGNhbiBvbmx5IG1hdGNoIG9uZSByb2xsdXAgaW5kZXgnCn0pOwoKdmFyIHJvbGx1cEluZGV4UGF0dGVybkluZGV4TGFiZWwgPSBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sucm9sbHVwSm9icy5lZGl0Um9sbHVwSW5kZXhQYXR0ZXJuLmNyZWF0ZUluZGV4LmluZGV4TGFiZWwnLCB7CiAgZGVmYXVsdE1lc3NhZ2U6ICdSb2xsdXAnCn0pOwoKdmFyIFJvbGx1cEluZGV4UGF0dGVybkNyZWF0aW9uQ29uZmlnID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0luZGV4UGF0dGVybkNyZWF0aW9uKSB7CiAgX2luaGVyaXRzKFJvbGx1cEluZGV4UGF0dGVybkNyZWF0aW9uQ29uZmlnLCBfSW5kZXhQYXR0ZXJuQ3JlYXRpb24pOwoKICBmdW5jdGlvbiBSb2xsdXBJbmRleFBhdHRlcm5DcmVhdGlvbkNvbmZpZyhvcHRpb25zKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvbGx1cEluZGV4UGF0dGVybkNyZWF0aW9uQ29uZmlnKTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihSb2xsdXBJbmRleFBhdHRlcm5DcmVhdGlvbkNvbmZpZykuY2FsbCh0aGlzLCBfb2JqZWN0U3ByZWFkKHsKICAgICAgdHlwZTogJ3JvbGx1cCcsCiAgICAgIG5hbWU6IHJvbGx1cEluZGV4UGF0dGVyblR5cGVOYW1lLAogICAgICBzaG93U3lzdGVtSW5kaWNlczogZmFsc2UsCiAgICAgIGlzQmV0YTogdHJ1ZQogICAgfSwgb3B0aW9ucykpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJrZXkiLCAncm9sbHVwJyk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiaXNSb2xsdXBJbmRleCIsIGZ1bmN0aW9uIChpbmRleE5hbWUpIHsKICAgICAgcmV0dXJuIF90aGlzLnJvbGx1cEluZGljZXMuaW5jbHVkZXMoaW5kZXhOYW1lKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImNoZWNrSW5kaWNlc0ZvckVycm9ycyIsIGZ1bmN0aW9uIChpbmRpY2VzKSB7CiAgICAgIF90aGlzLnJvbGx1cEluZGV4ID0gbnVsbDsKCiAgICAgIGlmICghaW5kaWNlcyB8fCAhaW5kaWNlcy5sZW5ndGgpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciByb2xsdXBJbmRpY2VzID0gaW5kaWNlcy5maWx0ZXIoZnVuY3Rpb24gKGluZGV4KSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmlzUm9sbHVwSW5kZXgoaW5kZXgubmFtZSk7CiAgICAgIH0pOwoKICAgICAgaWYgKCFyb2xsdXBJbmRpY2VzLmxlbmd0aCkgewogICAgICAgIHJldHVybiBbcm9sbHVwSW5kZXhQYXR0ZXJuTm9NYXRjaEVycm9yXTsKICAgICAgfSBlbHNlIGlmIChyb2xsdXBJbmRpY2VzLmxlbmd0aCA+IDEpIHsKICAgICAgICByZXR1cm4gW3JvbGx1cEluZGV4UGF0dGVyblRvb01hbnlNYXRjaGVzRXJyb3JdOwogICAgICB9CgogICAgICB2YXIgcm9sbHVwSW5kZXhOYW1lID0gcm9sbHVwSW5kaWNlc1swXS5uYW1lOwogICAgICB2YXIgZXJyb3IgPSBfdGhpcy5yb2xsdXBJbmRpY2VzQ2FwYWJpbGl0aWVzW3JvbGx1cEluZGV4TmFtZV0uZXJyb3I7CgogICAgICBpZiAoZXJyb3IpIHsKICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnJvbGx1cEpvYnMuZWRpdFJvbGx1cEluZGV4UGF0dGVybi5jcmVhdGVJbmRleC51bmNhdWdodEVycm9yJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdSb2xsdXAgaW5kZXggcGF0dGVybiBlcnJvcjoge2Vycm9yfScsCiAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgZXJyb3I6IGVycm9yCiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiBbZXJyb3JNZXNzYWdlXTsKICAgICAgfQoKICAgICAgX3RoaXMucm9sbHVwSW5kZXggPSByb2xsdXBJbmRleE5hbWU7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJnZXRJbmRleFBhdHRlcm5NYXBwaW5ncyIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF90aGlzLnJvbGx1cEluZGV4ID8gewogICAgICAgIHR5cGU6IF90aGlzLnR5cGUsCiAgICAgICAgdHlwZU1ldGE6IHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICByb2xsdXBfaW5kZXg6IF90aGlzLnJvbGx1cEluZGV4CiAgICAgICAgICB9LAogICAgICAgICAgYWdnczogX3RoaXMucm9sbHVwSW5kaWNlc0NhcGFiaWxpdGllc1tfdGhpcy5yb2xsdXBJbmRleF0uYWdncwogICAgICAgIH0KICAgICAgfSA6IHt9OwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicmVuZGVyUHJvbXB0IiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcm9sbHVwX3Byb21wdC5Sb2xsdXBQcm9tcHQsIG51bGwpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZ2V0RmV0Y2hGb3JXaWxkY2FyZE9wdGlvbnMiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdHlwZTogX3RoaXMudHlwZSwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHJvbGx1cF9pbmRleDogX3RoaXMucm9sbHVwSW5kZXgKICAgICAgICB9CiAgICAgIH07CiAgICB9KTsKCiAgICAoMCwgX2FwaS5zZXRIdHRwQ2xpZW50KShfdGhpcy5odHRwQ2xpZW50KTsKICAgIF90aGlzLnJvbGx1cEluZGV4ID0gbnVsbDsKICAgIF90aGlzLnJvbGx1cEpvYnMgPSBbXTsKICAgIF90aGlzLnJvbGx1cEluZGljZXNDYXBhYmlsaXRpZXMgPSB7fTsKICAgIF90aGlzLnJvbGx1cEluZGljZXMgPSBbXTsKICAgIF90aGlzLnNldHRpbmdVcCA9IF90aGlzLnNldFJvbGx1cEluZGljZXMoKTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhSb2xsdXBJbmRleFBhdHRlcm5DcmVhdGlvbkNvbmZpZywgW3sKICAgIGtleTogInNldFJvbGx1cEluZGljZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFJvbGx1cEluZGljZXMoKSB7CiAgICAgIHZhciBpc0Fub255bW91czsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBzZXRSb2xsdXBJbmRpY2VzJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgaGFjayBpbnRlbmRlZCB0byBwcmV2ZW50IHRoZSBnZXRSb2xsdXBJbmRpY2VzKCkgcmVxdWVzdCBmcm9tIGJlaW5nIHNlbnQgaWYKICAgICAgICAgICAgICAvLyB3ZSdyZSBvbiAvbG9nb3V0LiBUaGVyZSBpcyBhIHJhY2UgY29uZGl0aW9uIHRoYXQgY2FuIGFyaXNlIG9uIHRoYXQgcGFnZSwgd2hlcmVieSB0aGlzCiAgICAgICAgICAgICAgLy8gcmVxdWVzdCByZXNvbHZlcyBhZnRlciB0aGUgbG9nb3V0IHJlcXVlc3QgcmVzb2x2ZXMsIGFuZCB1bi1jbGVhcnMgdGhlIHNlc3Npb24gSUQuCiAgICAgICAgICAgICAgaXNBbm9ueW1vdXMgPSBfbmV3X3BsYXRmb3JtLm5wU2V0dXAuY29yZS5odHRwLmFub255bW91c1BhdGhzLmlzQW5vbnltb3VzKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7CgogICAgICAgICAgICAgIGlmIChpc0Fub255bW91cykgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoKDAsIF9hcGkuZ2V0Um9sbHVwSW5kaWNlcykoKSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgdGhpcy5yb2xsdXBJbmRpY2VzQ2FwYWJpbGl0aWVzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICB0aGlzLnJvbGx1cEluZGljZXMgPSBPYmplY3Qua2V5cyh0aGlzLnJvbGx1cEluZGljZXNDYXBhYmlsaXRpZXMpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcywgW1swLCA5XV0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEluZGV4UGF0dGVybkNyZWF0aW9uT3B0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbmRleFBhdHRlcm5DcmVhdGlvbk9wdGlvbih1cmxIYW5kbGVyKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gZ2V0SW5kZXhQYXR0ZXJuQ3JlYXRpb25PcHRpb24kKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuc2V0dGluZ1VwKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgdGhpcy5yb2xsdXBJbmRpY2VzICYmIHRoaXMucm9sbHVwSW5kaWNlcy5sZW5ndGggPyB7CiAgICAgICAgICAgICAgICB0ZXh0OiByb2xsdXBJbmRleFBhdHRlcm5CdXR0b25UZXh0LAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJvbGx1cEluZGV4UGF0dGVybkJ1dHRvbkRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgdGVzdFN1Ymo6ICJjcmVhdGVSb2xsdXBJbmRleFBhdHRlcm5CdXR0b24iLAogICAgICAgICAgICAgICAgaXNCZXRhOiB0aGlzLmlzQmV0YSwKICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgICAgIHVybEhhbmRsZXIoJy9tYW5hZ2VtZW50L2tpYmFuYS9pbmRleF9wYXR0ZXJuP3R5cGU9cm9sbHVwJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSA6IG51bGwpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0SW5kZXhUYWdzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbmRleFRhZ3MoaW5kZXhOYW1lKSB7CiAgICAgIHJldHVybiB0aGlzLmlzUm9sbHVwSW5kZXgoaW5kZXhOYW1lKSA/IFt7CiAgICAgICAga2V5OiB0aGlzLnR5cGUsCiAgICAgICAgbmFtZTogcm9sbHVwSW5kZXhQYXR0ZXJuSW5kZXhMYWJlbAogICAgICB9XSA6IFtdOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFJvbGx1cEluZGV4UGF0dGVybkNyZWF0aW9uQ29uZmlnOwp9KF9wdWJsaWMuSW5kZXhQYXR0ZXJuQ3JlYXRpb25Db25maWcpOwoKZXhwb3J0cy5Sb2xsdXBJbmRleFBhdHRlcm5DcmVhdGlvbkNvbmZpZyA9IFJvbGx1cEluZGV4UGF0dGVybkNyZWF0aW9uQ29uZmlnOw=="},null]}