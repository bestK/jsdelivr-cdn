{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/timelion/public/services/arg_value_suggestions.js","dependencies":[{"path":"src/legacy/core_plugins/timelion/public/services/arg_value_suggestions.js","mtime":1585205040155},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldEFyZ1ZhbHVlU3VnZ2VzdGlvbnMgPSBnZXRBcmdWYWx1ZVN1Z2dlc3Rpb25zOwoKdmFyIF9sb2Rhc2ggPSByZXF1aXJlKCJsb2Rhc2giKTsKCnZhciBfcGx1Z2luX3NlcnZpY2VzID0gcmVxdWlyZSgiLi9wbHVnaW5fc2VydmljZXMiKTsKCnZhciBfcHVibGljID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL3BsdWdpbnMvZGF0YS9wdWJsaWMiKTsKLyoKICogTGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yCiAqIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoCiAqIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0CiAqIG93bmVyc2hpcC4gRWxhc3RpY3NlYXJjaCBCLlYuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIKICogdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkKICogbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICovCgoKZnVuY3Rpb24gZ2V0QXJnVmFsdWVTdWdnZXN0aW9ucygpIHsKICB2YXIgaW5kZXhQYXR0ZXJucyA9ICgwLCBfcGx1Z2luX3NlcnZpY2VzLmdldEluZGV4UGF0dGVybnMpKCk7CiAgdmFyIHNhdmVkT2JqZWN0c0NsaWVudCA9ICgwLCBfcGx1Z2luX3NlcnZpY2VzLmdldFNhdmVkT2JqZWN0c0NsaWVudCkoKTsKCiAgZnVuY3Rpb24gZ2V0SW5kZXhQYXR0ZXJuKGZ1bmN0aW9uQXJncykgewogICAgdmFyIGluZGV4UGF0dGVybkFyZywgaW5kZXhQYXR0ZXJuVGl0bGUsIF9yZWYyLCBzYXZlZE9iamVjdHMsIGluZGV4UGF0dGVyblNhdmVkT2JqZWN0OwoKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gZ2V0SW5kZXhQYXR0ZXJuJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaW5kZXhQYXR0ZXJuQXJnID0gZnVuY3Rpb25BcmdzLmZpbmQoZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICAgICAgICB2YXIgbmFtZSA9IF9yZWYubmFtZTsKICAgICAgICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2luZGV4JzsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoaW5kZXhQYXR0ZXJuQXJnKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgaW5kZXhQYXR0ZXJuVGl0bGUgPSAoMCwgX2xvZGFzaC5nZXQpKGluZGV4UGF0dGVybkFyZywgJ3ZhbHVlLnRleHQnKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoc2F2ZWRPYmplY3RzQ2xpZW50LmZpbmQoewogICAgICAgICAgICAgIHR5cGU6ICdpbmRleC1wYXR0ZXJuJywKICAgICAgICAgICAgICBmaWVsZHM6IFsndGl0bGUnXSwKICAgICAgICAgICAgICBzZWFyY2g6ICJcIiIuY29uY2F0KGluZGV4UGF0dGVyblRpdGxlLCAiXCIiKSwKICAgICAgICAgICAgICBzZWFyY2hGaWVsZHM6IFsndGl0bGUnXSwKICAgICAgICAgICAgICBwZXJQYWdlOiAxMAogICAgICAgICAgICB9KSk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBfcmVmMiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIHNhdmVkT2JqZWN0cyA9IF9yZWYyLnNhdmVkT2JqZWN0czsKICAgICAgICAgICAgaW5kZXhQYXR0ZXJuU2F2ZWRPYmplY3QgPSBzYXZlZE9iamVjdHMuZmluZChmdW5jdGlvbiAoX3JlZjMpIHsKICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlcyA9IF9yZWYzLmF0dHJpYnV0ZXM7CiAgICAgICAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXMudGl0bGUgPT09IGluZGV4UGF0dGVyblRpdGxlOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChpbmRleFBhdHRlcm5TYXZlZE9iamVjdCkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGluZGV4UGF0dGVybnMuZ2V0KGluZGV4UGF0dGVyblNhdmVkT2JqZWN0LmlkKSk7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQuc2VudCk7CgogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGNvbnRhaW5zRmllbGROYW1lKHBhcnRpYWwsIGZpZWxkKSB7CiAgICBpZiAoIXBhcnRpYWwpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZpZWxkLm5hbWUuaW5jbHVkZXMocGFydGlhbCk7CiAgfSAvLyBBcmd1bWVudCB2YWx1ZSBzdWdnZXN0aW9uIGhhbmRsZXJzIHJlcXVpcmluZyBjdXN0b20gY2xpZW50IHNpZGUgY29kZQogIC8vIENvdWxkIG5vdCBwdXQgd2l0aCBmdW5jdGlvbiBkZWZpbml0aW9uIHNpbmNlIGZ1bmN0aW9ucyBhcmUgZGVmaW5lZCBvbiBzZXJ2ZXIKCgogIHZhciBjdXN0b21IYW5kbGVycyA9IHsKICAgIGVzOiB7CiAgICAgIGluZGV4OiBmdW5jdGlvbiBpbmRleChwYXJ0aWFsKSB7CiAgICAgICAgdmFyIHNlYXJjaCwgcmVzcDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGluZGV4JChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHNlYXJjaCA9IHBhcnRpYWwgPyAiIi5jb25jYXQocGFydGlhbCwgIioiKSA6ICcqJzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoc2F2ZWRPYmplY3RzQ2xpZW50LmZpbmQoewogICAgICAgICAgICAgICAgICB0eXBlOiAnaW5kZXgtcGF0dGVybicsCiAgICAgICAgICAgICAgICAgIGZpZWxkczogWyd0aXRsZScsICd0eXBlJ10sCiAgICAgICAgICAgICAgICAgIHNlYXJjaDogIiIuY29uY2F0KHNlYXJjaCksCiAgICAgICAgICAgICAgICAgIHNlYXJjaEZpZWxkczogWyd0aXRsZSddLAogICAgICAgICAgICAgICAgICBwZXJQYWdlOiAyNQogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcmVzcC5zYXZlZE9iamVjdHMuZmlsdGVyKGZ1bmN0aW9uIChzYXZlZE9iamVjdCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gIXNhdmVkT2JqZWN0LmdldCgndHlwZScpOwogICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChzYXZlZE9iamVjdCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIG5hbWU6IHNhdmVkT2JqZWN0LmF0dHJpYnV0ZXMudGl0bGUKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBtZXRyaWM6IGZ1bmN0aW9uIG1ldHJpYyhwYXJ0aWFsLCBmdW5jdGlvbkFyZ3MpIHsKICAgICAgICB2YXIgaW5kZXhQYXR0ZXJuLCB2YWx1ZVNwbGl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gbWV0cmljJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKCFwYXJ0aWFsIHx8ICFwYXJ0aWFsLmluY2x1ZGVzKCc6JykpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIFt7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdhdmc6JwogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICBuYW1lOiAnY2FyZGluYWxpdHk6JwogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICBuYW1lOiAnY291bnQnCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdtYXg6JwogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICBuYW1lOiAnbWluOicKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ3BlcmNlbnRpbGVzOicKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ3N1bTonCiAgICAgICAgICAgICAgICB9XSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoZ2V0SW5kZXhQYXR0ZXJuKGZ1bmN0aW9uQXJncykpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBpbmRleFBhdHRlcm4gPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoaW5kZXhQYXR0ZXJuKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIFtdKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgdmFsdWVTcGxpdCA9IHBhcnRpYWwuc3BsaXQoJzonKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBpbmRleFBhdHRlcm4uZmllbGRzLmZpbHRlcihmdW5jdGlvbiAoZmllbGQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpZWxkLmFnZ3JlZ2F0YWJsZSAmJiAnbnVtYmVyJyA9PT0gZmllbGQudHlwZSAmJiBjb250YWluc0ZpZWxkTmFtZSh2YWx1ZVNwbGl0WzFdLCBmaWVsZCkgJiYgISgwLCBfcHVibGljLmlzTmVzdGVkRmllbGQpKGZpZWxkKTsKICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoZmllbGQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiIi5jb25jYXQodmFsdWVTcGxpdFswXSwgIjoiKS5jb25jYXQoZmllbGQubmFtZSksCiAgICAgICAgICAgICAgICAgICAgaGVscDogZmllbGQudHlwZQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHNwbGl0OiBmdW5jdGlvbiBzcGxpdChwYXJ0aWFsLCBmdW5jdGlvbkFyZ3MpIHsKICAgICAgICB2YXIgaW5kZXhQYXR0ZXJuOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gc3BsaXQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChnZXRJbmRleFBhdHRlcm4oZnVuY3Rpb25BcmdzKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGluZGV4UGF0dGVybiA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChpbmRleFBhdHRlcm4pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgW10pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgaW5kZXhQYXR0ZXJuLmZpZWxkcy5maWx0ZXIoZnVuY3Rpb24gKGZpZWxkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBmaWVsZC5hZ2dyZWdhdGFibGUgJiYgWydudW1iZXInLCAnYm9vbGVhbicsICdkYXRlJywgJ2lwJywgJ3N0cmluZyddLmluY2x1ZGVzKGZpZWxkLnR5cGUpICYmIGNvbnRhaW5zRmllbGROYW1lKHBhcnRpYWwsIGZpZWxkKSAmJiAhKDAsIF9wdWJsaWMuaXNOZXN0ZWRGaWVsZCkoZmllbGQpOwogICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChmaWVsZCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpZWxkLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgaGVscDogZmllbGQudHlwZQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHRpbWVmaWVsZDogZnVuY3Rpb24gdGltZWZpZWxkKHBhcnRpYWwsIGZ1bmN0aW9uQXJncykgewogICAgICAgIHZhciBpbmRleFBhdHRlcm47CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiB0aW1lZmllbGQkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChnZXRJbmRleFBhdHRlcm4oZnVuY3Rpb25BcmdzKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGluZGV4UGF0dGVybiA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChpbmRleFBhdHRlcm4pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgW10pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgaW5kZXhQYXR0ZXJuLmZpZWxkcy5maWx0ZXIoZnVuY3Rpb24gKGZpZWxkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiAnZGF0ZScgPT09IGZpZWxkLnR5cGUgJiYgY29udGFpbnNGaWVsZE5hbWUocGFydGlhbCwgZmllbGQpICYmICEoMCwgX3B1YmxpYy5pc05lc3RlZEZpZWxkKShmaWVsZCk7CiAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGZpZWxkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogZmllbGQubmFtZQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9OwogIHJldHVybiB7CiAgICAvKioKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmdW5jdGlvbk5hbWUgLSB1c2VyIHByb3ZpZGVkIGZ1bmN0aW9uIG5hbWUgY29udGFpbmluZyBhcmd1bWVudAogICAgICogQHBhcmFtIHtzdHJpbmd9IGFyZ05hbWUgLSB1c2VyIHByb3ZpZGVkIGFyZ3VtZW50IG5hbWUKICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgd2hlbiBkeW5hbWljIHN1Z2dlc3Rpb24gaGFuZGxlciBwcm92aWRlZCBmb3IgZnVuY3Rpb24gYXJndW1lbnQKICAgICAqLwogICAgaGFzRHluYW1pY1N1Z2dlc3Rpb25zRm9yQXJndW1lbnQ6IGZ1bmN0aW9uIGhhc0R5bmFtaWNTdWdnZXN0aW9uc0ZvckFyZ3VtZW50KGZ1bmN0aW9uTmFtZSwgYXJnTmFtZSkgewogICAgICByZXR1cm4gY3VzdG9tSGFuZGxlcnNbZnVuY3Rpb25OYW1lXSAmJiBjdXN0b21IYW5kbGVyc1tmdW5jdGlvbk5hbWVdW2FyZ05hbWVdOwogICAgfSwKCiAgICAvKioKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmdW5jdGlvbk5hbWUgLSB1c2VyIHByb3ZpZGVkIGZ1bmN0aW9uIG5hbWUgY29udGFpbmluZyBhcmd1bWVudAogICAgICogQHBhcmFtIHtzdHJpbmd9IGFyZ05hbWUgLSB1c2VyIHByb3ZpZGVkIGFyZ3VtZW50IG5hbWUKICAgICAqIEBwYXJhbSB7b2JqZWN0fSBmdW5jdGlvbkFyZ3MgLSB1c2VyIHByb3ZpZGVkIGZ1bmN0aW9uIGFyZ3VtZW50cyBwYXJzZWQgYWhlYWQgb2YgY3VycmVudCBhcmd1bWVudAogICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpYWwgLSB1c2VyIHByb3ZpZGVkIGFyZ3VtZW50IHZhbHVlCiAgICAgKiBAcmV0dXJuIHthcnJheX0gYXJyYXkgb2YgZHluYW1pYyBzdWdnZXN0aW9ucyBtYXRjaGluZyBwYXJ0aWFsCiAgICAgKi8KICAgIGdldER5bmFtaWNTdWdnZXN0aW9uc0ZvckFyZ3VtZW50OiBmdW5jdGlvbiBnZXREeW5hbWljU3VnZ2VzdGlvbnNGb3JBcmd1bWVudChmdW5jdGlvbk5hbWUsIGFyZ05hbWUsIGZ1bmN0aW9uQXJncykgewogICAgICB2YXIgcGFydGlhbElucHV0LAogICAgICAgICAgX2FyZ3M2ID0gYXJndW1lbnRzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGdldER5bmFtaWNTdWdnZXN0aW9uc0ZvckFyZ3VtZW50JChfY29udGV4dDYpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBwYXJ0aWFsSW5wdXQgPSBfYXJnczYubGVuZ3RoID4gMyAmJiBfYXJnczZbM10gIT09IHVuZGVmaW5lZCA/IF9hcmdzNlszXSA6ICcnOwogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGN1c3RvbUhhbmRsZXJzW2Z1bmN0aW9uTmFtZV1bYXJnTmFtZV0ocGFydGlhbElucHV0LCBmdW5jdGlvbkFyZ3MpKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ2LnNlbnQpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpYWwgLSB1c2VyIHByb3ZpZGVkIGFyZ3VtZW50IHZhbHVlCiAgICAgKiBAcGFyYW0ge2FycmF5fSBzdGF0aWNTdWdnZXN0aW9ucyAtIGFyZ3VtZW50IHZhbHVlIHN1Z2dlc3Rpb25zCiAgICAgKiBAcmV0dXJuIHthcnJheX0gYXJyYXkgb2Ygc3RhdGljIHN1Z2dlc3Rpb25zIG1hdGNoaW5nIHBhcnRpYWwKICAgICAqLwogICAgZ2V0U3RhdGljU3VnZ2VzdGlvbnNGb3JJbnB1dDogZnVuY3Rpb24gZ2V0U3RhdGljU3VnZ2VzdGlvbnNGb3JJbnB1dCgpIHsKICAgICAgdmFyIHBhcnRpYWxJbnB1dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7CiAgICAgIHZhciBzdGF0aWNTdWdnZXN0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107CgogICAgICBpZiAocGFydGlhbElucHV0KSB7CiAgICAgICAgcmV0dXJuIHN0YXRpY1N1Z2dlc3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoc3VnZ2VzdGlvbikgewogICAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb24ubmFtZS5pbmNsdWRlcyhwYXJ0aWFsSW5wdXQpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gc3RhdGljU3VnZ2VzdGlvbnM7CiAgICB9CiAgfTsKfQ=="},null]}