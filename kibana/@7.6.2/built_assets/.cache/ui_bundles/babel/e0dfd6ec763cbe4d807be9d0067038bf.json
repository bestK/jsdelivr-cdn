{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/graph/public/components/settings/url_template_form.js","dependencies":[{"path":"x-pack/legacy/plugins/graph/public/components/settings/url_template_form.js","mtime":1585205044221},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlVybFRlbXBsYXRlRm9ybSA9IFVybFRlbXBsYXRlRm9ybTsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfY2xhc3NuYW1lcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiY2xhc3NuYW1lcyIpKTsKCnZhciBfbGVnYWN5X2ljb24gPSByZXF1aXJlKCIuLi9sZWdhY3lfaWNvbiIpOwoKdmFyIF9vdXRsaW5rX2VuY29kZXJzID0gcmVxdWlyZSgiLi4vLi4vaGVscGVycy9vdXRsaW5rX2VuY29kZXJzIik7Cgp2YXIgX3N0eWxlX2Nob2ljZXMgPSByZXF1aXJlKCIuLi8uLi9oZWxwZXJzL3N0eWxlX2Nob2ljZXMiKTsKCnZhciBfdXJsX3RlbXBsYXRlID0gcmVxdWlyZSgiLi4vLi4vaGVscGVycy91cmxfdGVtcGxhdGUiKTsKCnZhciBfaGVscGVycyA9IHJlcXVpcmUoIi4uL2hlbHBlcnMiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgIHJldHVybiBvYmo7CiAgfSBlbHNlIHsKICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7CiAgICByZXR1cm4gbmV3T2JqOwogIH0KfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCmZ1bmN0aW9uIGlzVXBkYXRlRm9ybShwcm9wcykgewogIHJldHVybiAnaW5pdGlhbFRlbXBsYXRlJyBpbiBwcm9wczsKfQoKZnVuY3Rpb24gVXJsVGVtcGxhdGVGb3JtKHByb3BzKSB7CiAgdmFyIF9vblN1Ym1pdCA9IHByb3BzLm9uU3VibWl0OwoKICB2YXIgZ2V0SW5pdGlhbFRlbXBsYXRlID0gZnVuY3Rpb24gZ2V0SW5pdGlhbFRlbXBsYXRlKCkgewogICAgcmV0dXJuIGlzVXBkYXRlRm9ybShwcm9wcykgPyBwcm9wcy5pbml0aWFsVGVtcGxhdGUgOiB7CiAgICAgIGVuY29kZXI6IF9vdXRsaW5rX2VuY29kZXJzLm91dGxpbmtFbmNvZGVyc1swXSwKICAgICAgaWNvbjogbnVsbCwKICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICB1cmw6ICcnCiAgICB9OwogIH07CgogIHZhciBfdXNlU3RhdGUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShnZXRJbml0aWFsVGVtcGxhdGUpLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgY3VycmVudFRlbXBsYXRlID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0Q3VycmVudFRlbXBsYXRlID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIHBlcnNpc3RlZFRlbXBsYXRlU3RhdGUgPSBpc1VwZGF0ZUZvcm0ocHJvcHMpICYmIHByb3BzLmluaXRpYWxUZW1wbGF0ZTsgLy8gcmVzZXQgbG9jYWwgZm9ybSBpZiB0ZW1wbGF0ZSBwYXNzZWQgaW4gZnJvbSBwYXJlbnQgY29tcG9uZW50IGNoYW5nZXMKCiAgKDAsIF9yZWFjdC51c2VFZmZlY3QpKGZ1bmN0aW9uICgpIHsKICAgIGlmIChpc1VwZGF0ZUZvcm0ocHJvcHMpICYmIGN1cnJlbnRUZW1wbGF0ZSAhPT0gcHJvcHMuaW5pdGlhbFRlbXBsYXRlKSB7CiAgICAgIHNldEN1cnJlbnRUZW1wbGF0ZShwcm9wcy5pbml0aWFsVGVtcGxhdGUpOwogICAgfSAvLyB0aGlzIGhvb2sgb25seSB1cGRhdGVzIG9uIGNoYW5nZSBvZiB0aGUgcHJvcAogICAgLy8gaXQncyBtZWFudCB0byByZXNldCB0aGUgaW50ZXJuYWwgc3RhdGUgb24gY2hhbmdlcyBvdXRzaWRlIG9mIHRoZSBjb21wb25lbnQuCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzCgogIH0sIFtwZXJzaXN0ZWRUZW1wbGF0ZVN0YXRlXSk7CgogIHZhciBfdXNlU3RhdGUzID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoewogICAgZGVzY3JpcHRpb246IGZhbHNlLAogICAgdXJsOiBmYWxzZQogIH0pLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIHRvdWNoZWQgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRUb3VjaGVkID0gX3VzZVN0YXRlNFsxXTsKCiAgdmFyIF91c2VTdGF0ZTUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKSghaXNVcGRhdGVGb3JtKHByb3BzKSksCiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSwKICAgICAgb3BlbiA9IF91c2VTdGF0ZTZbMF0sCiAgICAgIHNldE9wZW4gPSBfdXNlU3RhdGU2WzFdOwoKICB2YXIgX3VzZVN0YXRlNyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlOCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTcsIDIpLAogICAgICBhdXRvZm9ybWF0VXJsID0gX3VzZVN0YXRlOFswXSwKICAgICAgc2V0QXV0b2Zvcm1hdFVybCA9IF91c2VTdGF0ZThbMV07CgogIGZ1bmN0aW9uIHNldFZhbHVlKGtleSwgdmFsdWUpIHsKICAgIHNldEN1cnJlbnRUZW1wbGF0ZShfb2JqZWN0U3ByZWFkKHt9LCBjdXJyZW50VGVtcGxhdGUsIF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5LCB2YWx1ZSkpKTsKICB9CgogIGZ1bmN0aW9uIHJlc2V0KCkgewogICAgc2V0VG91Y2hlZCh7CiAgICAgIGRlc2NyaXB0aW9uOiBmYWxzZSwKICAgICAgdXJsOiBmYWxzZQogICAgfSk7CiAgICBzZXRDdXJyZW50VGVtcGxhdGUoZ2V0SW5pdGlhbFRlbXBsYXRlKCkpOwogICAgc2V0QXV0b2Zvcm1hdFVybChmYWxzZSk7CiAgfQoKICBmdW5jdGlvbiBjb252ZXJ0VXJsKCkgewogICAgc2V0Q3VycmVudFRlbXBsYXRlKF9vYmplY3RTcHJlYWQoe30sIGN1cnJlbnRUZW1wbGF0ZSwgewogICAgICB1cmw6ICgwLCBfdXJsX3RlbXBsYXRlLnJlcGxhY2VLaWJhbmFVcmxQYXJhbSkoY3VycmVudFRlbXBsYXRlLnVybCksCiAgICAgIC8vIHJlc2V0IHRvIGtxbCBlbmNvZGVyCiAgICAgIGVuY29kZXI6IGN1cnJlbnRUZW1wbGF0ZS5lbmNvZGVyLnR5cGUgPT09ICdrcWwnID8gY3VycmVudFRlbXBsYXRlLmVuY29kZXIgOiBfb3V0bGlua19lbmNvZGVycy5vdXRsaW5rRW5jb2RlcnMuZmluZChmdW5jdGlvbiAoZW5jKSB7CiAgICAgICAgcmV0dXJuIGVuYy50eXBlID09PSAna3FsJzsKICAgICAgfSkKICAgIH0pKTsKICAgIHNldEF1dG9mb3JtYXRVcmwoZmFsc2UpOwogIH0KCiAgdmFyIHVybFBsYWNlaG9sZGVyTWlzc2luZyA9IEJvb2xlYW4oY3VycmVudFRlbXBsYXRlLnVybCAmJiAhKDAsIF91cmxfdGVtcGxhdGUuaXNVcmxUZW1wbGF0ZVZhbGlkKShjdXJyZW50VGVtcGxhdGUudXJsKSk7CiAgdmFyIGZvcm1JbmNvbXBsZXRlID0gIUJvb2xlYW4oY3VycmVudFRlbXBsYXRlLmRlc2NyaXB0aW9uICYmIGN1cnJlbnRUZW1wbGF0ZS51cmwpOwogIHZhciBmb3JtVW50b3VjaGVkID0gKDAsIF9oZWxwZXJzLmlzRXF1YWwpKGN1cnJlbnRUZW1wbGF0ZSwgZ2V0SW5pdGlhbFRlbXBsYXRlKCkpOwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQWNjb3JkaW9uLCB7CiAgICBpZDogcHJvcHMuaWQsCiAgICBpbml0aWFsSXNPcGVuOiAhaXNVcGRhdGVGb3JtKHByb3BzKSwKICAgIGJ1dHRvbkNvbnRlbnQ6IGlzVXBkYXRlRm9ybShwcm9wcykgPyBwcm9wcy5pbml0aWFsVGVtcGxhdGUuZGVzY3JpcHRpb24gOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suZ3JhcGgudGVtcGxhdGVzLmFkZExhYmVsJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ05ldyBkcmlsbGRvd24nCiAgICB9KSwKICAgIGV4dHJhQWN0aW9uOiBpc1VwZGF0ZUZvcm0ocHJvcHMpICYmIHByb3BzLmluaXRpYWxUZW1wbGF0ZS5pY29uICYmIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2xlZ2FjeV9pY29uLkxlZ2FjeUljb24sIHsKICAgICAgYXNMaXN0SWNvbjogdHJ1ZSwKICAgICAgaWNvbjogcHJvcHMuaW5pdGlhbFRlbXBsYXRlLmljb24KICAgIH0pLAogICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMuZGVmYXVsdCkoJ2dwaFVybFRlbXBsYXRlTGlzdF9fYWNjb3JkaW9uJywgewogICAgICAnZ3BoVXJsVGVtcGxhdGVMaXN0X19hY2NvcmRpb24tLWlzT3Blbic6IG9wZW4KICAgIH0pLAogICAgYnV0dG9uQ2xhc3NOYW1lOiAiZ3BoVXJsVGVtcGxhdGVMaXN0X19hY2NvcmRpb25idXR0b24iLAogICAgb25Ub2dnbGU6IGZ1bmN0aW9uIG9uVG9nZ2xlKGlzT3BlbikgewogICAgICBzZXRPcGVuKGlzT3Blbik7CiAgICB9LAogICAgcGFkZGluZ1NpemU6ICJtIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImZvcm0iLCB7CiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CgogICAgICBfb25TdWJtaXQoY3VycmVudFRlbXBsYXRlKTsKCiAgICAgIGlmICghaXNVcGRhdGVGb3JtKHByb3BzKSkgewogICAgICAgIHJlc2V0KCk7CiAgICAgIH0KICAgIH0KICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgZnVsbFdpZHRoOiB0cnVlLAogICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5ncmFwaC5zZXR0aW5ncy5kcmlsbERvd25zLnVybERlc2NyaXB0aW9uSW5wdXRMYWJlbCcsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdUaXRsZScKICAgIH0pLAogICAgaXNJbnZhbGlkOiB0b3VjaGVkLmRlc2NyaXB0aW9uICYmICFjdXJyZW50VGVtcGxhdGUuZGVzY3JpcHRpb24sCiAgICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cigpIHsKICAgICAgcmV0dXJuIHNldFRvdWNoZWQoX29iamVjdFNwcmVhZCh7fSwgdG91Y2hlZCwgewogICAgICAgIGRlc2NyaXB0aW9uOiB0cnVlCiAgICAgIH0pKTsKICAgIH0KICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmllbGRUZXh0LCB7CiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICB2YWx1ZTogY3VycmVudFRlbXBsYXRlLmRlc2NyaXB0aW9uLAogICAgaXNJbnZhbGlkOiB0b3VjaGVkLmRlc2NyaXB0aW9uICYmICFjdXJyZW50VGVtcGxhdGUuZGVzY3JpcHRpb24sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICByZXR1cm4gc2V0VmFsdWUoJ2Rlc2NyaXB0aW9uJywgZS50YXJnZXQudmFsdWUpOwogICAgfSwKICAgIHBsYWNlaG9sZGVyOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suZ3JhcGguc2V0dGluZ3MuZHJpbGxEb3ducy51cmxEZXNjcmlwdGlvbklucHV0UGxhY2Vob2xkZXInLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2VhcmNoIG9uIEdvb2dsZScKICAgIH0pCiAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgZnVsbFdpZHRoOiB0cnVlLAogICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5ncmFwaC5zZXR0aW5ncy5kcmlsbERvd25zLnVybElucHV0TGFiZWwnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVVJMJwogICAgfSksCiAgICBoZWxwVGV4dDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgYXV0b2Zvcm1hdFVybCAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmdyYXBoLnNldHRpbmdzLmRyaWxsRG93bnMua2liYW5hVXJsV2FybmluZ1RleHQnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUG9zc2libGUgS2liYW5hIFVSTCBwYXN0ZWQsICcKICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTGluaywgewogICAgICBvbkNsaWNrOiBjb252ZXJ0VXJsCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suZ3JhcGguc2V0dGluZ3MuZHJpbGxEb3ducy5raWJhbmFVcmxXYXJuaW5nQ29udmVydE9wdGlvbkxpbmtUZXh0JywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ2NvbnZlcnQgaXQuJwogICAgfSkpKSkpLCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suZ3JhcGguc2V0dGluZ3MuZHJpbGxEb3ducy51cmxJbnB1dEhlbHBUZXh0JywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ0RlZmluZSB0ZW1wbGF0ZSBVUkxzIHVzaW5nIHtncXVlcnl9IHdoZXJlIHRoZSBzZWxlY3RlZCB2ZXJ0ZXggdGVybXMgYXJlIGluc2VydGVkLicsCiAgICAgIHZhbHVlczogewogICAgICAgIGdxdWVyeTogJ3t7Z3F1ZXJ5fX0nCiAgICAgIH0KICAgIH0pKSwKICAgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKCkgewogICAgICByZXR1cm4gc2V0VG91Y2hlZChfb2JqZWN0U3ByZWFkKHt9LCB0b3VjaGVkLCB7CiAgICAgICAgdXJsOiB0cnVlCiAgICAgIH0pKTsKICAgIH0sCiAgICBpc0ludmFsaWQ6IHVybFBsYWNlaG9sZGVyTWlzc2luZyB8fCB0b3VjaGVkLnVybCAmJiAhY3VycmVudFRlbXBsYXRlLnVybCwKICAgIGVycm9yOiB1cmxQbGFjZWhvbGRlck1pc3NpbmcgPyBbX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmdyYXBoLnNldHRpbmdzLmRyaWxsRG93bnMuaW52YWxpZFVybFdhcm5pbmdUZXh0JywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ1RoZSBVUkwgbXVzdCBjb250YWluIGEge3BsYWNlaG9sZGVyfSBzdHJpbmcuJywKICAgICAgdmFsdWVzOiB7CiAgICAgICAgcGxhY2Vob2xkZXI6ICd7e2dxdWVyeX19JwogICAgICB9CiAgICB9KV0gOiBbXQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGaWVsZFRleHQsIHsKICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgIHBsYWNlaG9sZGVyOiAiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvLnVrLyNxPXt7Z3F1ZXJ5fX0iLAogICAgdmFsdWU6IGN1cnJlbnRUZW1wbGF0ZS51cmwsCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICBzZXRWYWx1ZSgndXJsJywgZS50YXJnZXQudmFsdWUpOwogICAgICBzZXRBdXRvZm9ybWF0VXJsKGZhbHNlKTsKICAgIH0sCiAgICBvblBhc3RlOiBmdW5jdGlvbiBvblBhc3RlKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcGFzdGVkVXJsID0gZS5jbGlwYm9hcmREYXRhLmdldERhdGEoJ3RleHQvcGxhaW4nKTsKCiAgICAgIGlmICgoMCwgX3VybF90ZW1wbGF0ZS5pc0tpYmFuYVVybCkocGFzdGVkVXJsKSkgewogICAgICAgIHNldEF1dG9mb3JtYXRVcmwodHJ1ZSk7CiAgICAgIH0KCiAgICAgIHNldFZhbHVlKCd1cmwnLCBwYXN0ZWRVcmwpOwogICAgfSwKICAgIGlzSW52YWxpZDogdXJsUGxhY2Vob2xkZXJNaXNzaW5nIHx8IHRvdWNoZWQudXJsICYmICFjdXJyZW50VGVtcGxhdGUudXJsCiAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgZnVsbFdpZHRoOiB0cnVlLAogICAgaGVscFRleHQ6IGN1cnJlbnRUZW1wbGF0ZS5lbmNvZGVyLmRlc2NyaXB0aW9uLAogICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5ncmFwaC5zZXR0aW5ncy5kcmlsbERvd25zLnVybEVuY29kZXJJbnB1dExhYmVsJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ1VSTCBwYXJhbWV0ZXIgdHlwZScKICAgIH0pCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNvbWJvQm94LCB7CiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBzaW5nbGVTZWxlY3Rpb246IHsKICAgICAgYXNQbGFpblRleHQ6IHRydWUKICAgIH0sCiAgICBpc0NsZWFyYWJsZTogZmFsc2UsCiAgICBvcHRpb25zOiBfb3V0bGlua19lbmNvZGVycy5vdXRsaW5rRW5jb2RlcnMubWFwKGZ1bmN0aW9uIChlbmNvZGVyKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbGFiZWw6IGVuY29kZXIudGl0bGUsCiAgICAgICAgdmFsdWU6IGVuY29kZXIKICAgICAgfTsKICAgIH0pLAogICAgc2VsZWN0ZWRPcHRpb25zOiBbewogICAgICBsYWJlbDogY3VycmVudFRlbXBsYXRlLmVuY29kZXIudGl0bGUsCiAgICAgIHZhbHVlOiBjdXJyZW50VGVtcGxhdGUuZW5jb2RlcgogICAgfV0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoY2hvaWNlcykgewogICAgICAvLyBjaG9pY2VzWzBdLnZhbHVlIGNhbid0IGJlIG51bGwgYmVjYXVzZSBgaXNDbGVhcmFibGVgIGlzIHNldCB0byBmYWxzZSBhYm92ZQogICAgICBzZXRWYWx1ZSgnZW5jb2RlcicsIGNob2ljZXNbMF0udmFsdWUpOwogICAgfQogIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suZ3JhcGguc2V0dGluZ3MuZHJpbGxEb3ducy50b29sYmFySWNvblBpY2tlckxhYmVsJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ1Rvb2xiYXIgaWNvbicKICAgIH0pCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgcm9sZTogImxpc3Rib3giCiAgfSwgX3N0eWxlX2Nob2ljZXMudXJsVGVtcGxhdGVJY29uQ2hvaWNlcy5tYXAoZnVuY3Rpb24gKGljb24pIHsKICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9sZWdhY3lfaWNvbi5MZWdhY3lJY29uLCB7CiAgICAgIGtleTogaWNvbi5jbGFzcywKICAgICAgc2VsZWN0ZWQ6IGljb24gPT09IGN1cnJlbnRUZW1wbGF0ZS5pY29uLAogICAgICBpY29uOiBpY29uLAogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgIGlmIChjdXJyZW50VGVtcGxhdGUuaWNvbiA9PT0gaWNvbikgewogICAgICAgICAgc2V0VmFsdWUoJ2ljb24nLCBudWxsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2V0VmFsdWUoJ2ljb24nLCBpY29uKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgIGp1c3RpZnlDb250ZW50OiAiZmxleEVuZCIsCiAgICByZXNwb25zaXZlOiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uRW1wdHksIHsKICAgIGNvbG9yOiAiZGFuZ2VyIiwKICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgIHByb3BzLm9uUmVtb3ZlKCk7CiAgICB9LAogICAgImRhdGEtdGVzdC1zdWJqIjogImdyYXBoUmVtb3ZlVXJsVGVtcGxhdGUiCiAgfSwgaXNVcGRhdGVGb3JtKHByb3BzKSA/IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5ncmFwaC5zZXR0aW5ncy5kcmlsbERvd25zLnJlbW92ZUJ1dHRvbkxhYmVsJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdSZW1vdmUnCiAgfSkgOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suZ3JhcGguc2V0dGluZ3MuZHJpbGxEb3ducy5jYW5jZWxCdXR0b25MYWJlbCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnQ2FuY2VsJwogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgbnVsbCksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uRW1wdHksIHsKICAgIG9uQ2xpY2s6IHJlc2V0LAogICAgZGlzYWJsZWQ6IGZvcm1VbnRvdWNoZWQKICB9LCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suZ3JhcGguc2V0dGluZ3MuZHJpbGxEb3ducy5yZXNldEJ1dHRvbkxhYmVsJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdSZXNldCcKICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgdHlwZTogInN1Ym1pdCIsCiAgICBmaWxsOiB0cnVlLAogICAgaXNEaXNhYmxlZDogdXJsUGxhY2Vob2xkZXJNaXNzaW5nIHx8IGZvcm1JbmNvbXBsZXRlCiAgfSwgaXNVcGRhdGVGb3JtKHByb3BzKSA/IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5ncmFwaC5zZXR0aW5ncy5kcmlsbERvd25zLnVwZGF0ZVNhdmVCdXR0b25MYWJlbCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnVXBkYXRlIGRyaWxsZG93bicKICB9KSA6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5ncmFwaC5zZXR0aW5ncy5kcmlsbERvd25zLm5ld1NhdmVCdXR0b25MYWJlbCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnU2F2ZSBkcmlsbGRvd24nCiAgfSkpKSkpKTsKfQ=="},null]}