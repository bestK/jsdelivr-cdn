{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/searchprofiler/public/np_ready/application/components/profile_tree/unsafe_utils.js","dependencies":[{"path":"x-pack/legacy/plugins/searchprofiler/public/np_ready/application/components/profile_tree/unsafe_utils.js","mtime":1585205047076},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLnRpbWVJbk1pbGxpc2Vjb25kcyA9IHRpbWVJbk1pbGxpc2Vjb25kczsKZXhwb3J0cy5jYWxjVGltZXMgPSBjYWxjVGltZXM7CmV4cG9ydHMubm9ybWFsaXplQnJlYWtkb3duID0gbm9ybWFsaXplQnJlYWtkb3duOwpleHBvcnRzLm5vcm1hbGl6ZUluZGljZXMgPSBub3JtYWxpemVJbmRpY2VzOwpleHBvcnRzLm5vcm1hbGl6ZVRpbWUgPSBub3JtYWxpemVUaW1lOwpleHBvcnRzLmluaXRUcmVlID0gaW5pdFRyZWU7CmV4cG9ydHMuc29ydEluZGljZXMgPSBleHBvcnRzLmNvbXBhcmF0b3IgPSB2b2lkIDA7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfdGlueWNvbG9yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJ0aW55Y29sb3IyIikpOwoKdmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxvZGFzaCIpKTsKCnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgiLi9jb25zdGFudHMiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KLyoKICogQ29weXJpZ2h0IEVsYXN0aWNzZWFyY2ggQi5WLiBhbmQvb3IgbGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gTGljZW5zZWQgdW5kZXIgdGhlIEVsYXN0aWMgTGljZW5zZTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBFbGFzdGljIExpY2Vuc2UuCiAqLwoKCnZhciBjb21wYXJhdG9yID0gZnVuY3Rpb24gY29tcGFyYXRvcih2MSwgdjIpIHsKICBpZiAodjEgPCB2MikgewogICAgcmV0dXJuIDE7CiAgfQoKICByZXR1cm4gdjEgPiB2MiA/IC0xIDogMDsKfTsKCmV4cG9ydHMuY29tcGFyYXRvciA9IGNvbXBhcmF0b3I7CgpmdW5jdGlvbiBnZXRUb29sVGlwKGtleSkgewogIHN3aXRjaCAoa2V5KSB7CiAgICBjYXNlICdidWlsZF9zY29yZXInOgogICAgICByZXR1cm4gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnNlYXJjaFByb2ZpbGVyLmJ1aWxkU2NvcmVyVGltZURlc2NyaXB0aW9uJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVGhlIHRpbWUgdGFrZW4gdG8gY3JlYXRlIHRoZSBTY29yaW5nIG9iamVjdCwgd2hpY2ggaXMgbGF0ZXIgdXNlZCB0byBleGVjdXRlIHRoZSBhY3R1YWwgc2NvcmluZyBvZiBlYWNoIGRvYy4nCiAgICAgIH0pOwoKICAgIGNhc2UgJ2NyZWF0ZV93ZWlnaHQnOgogICAgICByZXR1cm4gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnNlYXJjaFByb2ZpbGVyLmNyZWF0ZVdlaWdodFRpbWVEZXNjcmlwdGlvbicsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1RoZSB0aW1lIHRha2VuIHRvIGNyZWF0ZSB0aGUgV2VpZ2h0IG9iamVjdCwgd2hpY2ggaG9sZHMgdGVtcG9yYXJ5IGluZm9ybWF0aW9uIGR1cmluZyBzY29yaW5nLicKICAgICAgfSk7CgogICAgY2FzZSAnbmV4dF9kb2MnOgogICAgICByZXR1cm4gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnNlYXJjaFByb2ZpbGVyLm5leHREb2NUaW1lRGVzY3JpcHRpb24nLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdUaGUgdGltZSB0YWtlbiB0byBhZHZhbmNlIHRoZSBpdGVyYXRvciB0byB0aGUgbmV4dCBtYXRjaGluZyBkb2N1bWVudC4nCiAgICAgIH0pOwoKICAgIGNhc2UgJ3Njb3JlJzoKICAgICAgcmV0dXJuIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5zZWFyY2hQcm9maWxlci5zY29yZVRpbWVEZXNjcmlwdGlvbicsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1RoZSB0aW1lIHRha2VuIGluIGFjdHVhbGx5IHNjb3JpbmcgdGhlIGRvY3VtZW50IGFnYWluc3QgdGhlIHF1ZXJ5LicKICAgICAgfSk7CgogICAgY2FzZSAnbWF0Y2gnOgogICAgICByZXR1cm4gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnNlYXJjaFByb2ZpbGVyLm1hdGNoVGltZURlc2NyaXB0aW9uJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVGhlIHRpbWUgdGFrZW4gdG8gZXhlY3V0ZSBhIHNlY29uZGFyeSwgbW9yZSBwcmVjaXNlIHNjb3JpbmcgcGhhc2UgKHVzZWQgYnkgcGhyYXNlIHF1ZXJpZXMpLicKICAgICAgfSk7CgogICAgY2FzZSAnYWR2YW5jZSc6CiAgICAgIHJldHVybiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suc2VhcmNoUHJvZmlsZXIuYWR2YW5jZVRpbWVEZXNjcmlwdGlvbicsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1RoZSB0aW1lIHRha2VuIHRvIGFkdmFuY2UgdGhlIGl0ZXJhdG9yIHRvIHRoZSBuZXh0IGRvY3VtZW50LicKICAgICAgfSk7CgogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuICcnOwogIH0KfQoKZnVuY3Rpb24gdGltZUluTWlsbGlzZWNvbmRzKGRhdGEpIHsKICBpZiAoZGF0YS50aW1lX2luX25hbm9zKSB7CiAgICByZXR1cm4gZGF0YS50aW1lX2luX25hbm9zIC8gMTAwMDAwMDsKICB9CgogIGlmICh0eXBlb2YgZGF0YS50aW1lID09PSAnc3RyaW5nJykgewogICAgcmV0dXJuIE51bWJlcihkYXRhLnRpbWUucmVwbGFjZSgnbXMnLCAnJykpOwogIH0KCiAgcmV0dXJuIE51bWJlcihkYXRhLnRpbWUpOwp9CgpmdW5jdGlvbiBjYWxjVGltZXMoZGF0YSwgcGFyZW50SWQpIHsKICB2YXIgdG90YWxUaW1lID0gMDsgLy8gRmlyc3QgcGFzcyB0byBjb2xsZWN0IHRvdGFsCgogIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTsKICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTsKICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBkYXRhW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkgewogICAgICB2YXIgY2hpbGQgPSBfc3RlcC52YWx1ZTsKICAgICAgdG90YWxUaW1lICs9IHRpbWVJbk1pbGxpc2Vjb25kcyhjaGlsZCk7CiAgICAgIGNoaWxkLmJyZWFrZG93biA9IG5vcm1hbGl6ZUJyZWFrZG93bihjaGlsZC5icmVha2Rvd24pOwogICAgICB2YXIgY2hpbGRyZW5UaW1lID0gMDsKCiAgICAgIGlmIChjaGlsZC5jaGlsZHJlbiAhPSBudWxsICYmIGNoaWxkLmNoaWxkcmVuLmxlbmd0aCAhPT0gMCkgewogICAgICAgIGNoaWxkcmVuVGltZSA9IGNhbGNUaW1lcyhjaGlsZC5jaGlsZHJlbiwgY2hpbGQuaWQpOwogICAgICAgIGNoaWxkLmhhc0NoaWxkcmVuID0gdHJ1ZTsKICAgICAgfQoKICAgICAgY2hpbGQuc2VsZlRpbWUgPSB0aW1lSW5NaWxsaXNlY29uZHMoY2hpbGQpIC0gY2hpbGRyZW5UaW1lOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHsKICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7CiAgICAgIH0KICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikgewogICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yOwogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gdG90YWxUaW1lOwp9CgpmdW5jdGlvbiBub3JtYWxpemVCcmVha2Rvd24oYnJlYWtkb3duKSB7CiAgdmFyIGZpbmFsID0gW107CiAgdmFyIHRvdGFsID0gT2JqZWN0LmtleXMoYnJlYWtkb3duKS5yZWR1Y2UoZnVuY3Rpb24gKHBhcnRpYWxUb3RhbCwgY3VycmVudEtleSkgewogICAgaWYgKGN1cnJlbnRLZXkuaW5kZXhPZignX2NvdW50JykgPT09IC0xKSB7CiAgICAgIHBhcnRpYWxUb3RhbCArPSBicmVha2Rvd25bY3VycmVudEtleV07CiAgICB9CgogICAgcmV0dXJuIHBhcnRpYWxUb3RhbDsKICB9LCAwKTsKICBPYmplY3Qua2V5cyhicmVha2Rvd24pLnNvcnQoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgIHZhciByZWxhdGl2ZSA9IDA7CgogICAgaWYgKGtleS5pbmRleE9mKCdfY291bnQnKSA9PT0gLTEpIHsKICAgICAgcmVsYXRpdmUgPSAoYnJlYWtkb3duW2tleV0gLyB0b3RhbCAqIDEwMCkudG9GaXhlZCgxKTsKICAgIH0KCiAgICBmaW5hbC5wdXNoKHsKICAgICAga2V5OiBrZXksCiAgICAgIHRpbWU6IGJyZWFrZG93bltrZXldLAogICAgICByZWxhdGl2ZTogcmVsYXRpdmUsCiAgICAgIGNvbG9yOiBfdGlueWNvbG9yLmRlZmF1bHQubWl4KCcjRjVGNUY1JywgJyNGRkFGQUYnLCByZWxhdGl2ZSkudG9IZXhTdHJpbmcoKSwKICAgICAgdGlwOiBnZXRUb29sVGlwKGtleSkKICAgIH0pOwogIH0pOyAvLyBTb3J0IGJ5IHRpbWUgZGVzY2VuZGluZyBhbmQgdGhlbiBrZXkgYXNjZW5kaW5nCgogIHJldHVybiBmaW5hbC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICBpZiAoY29tcGFyYXRvcihhLnRpbWUsIGIudGltZSkgIT09IDApIHsKICAgICAgcmV0dXJuIGNvbXBhcmF0b3IoYS50aW1lLCBiLnRpbWUpOwogICAgfQoKICAgIHJldHVybiAtMSAqIGNvbXBhcmF0b3IoYS5rZXksIGIua2V5KTsKICB9KTsKfQoKZnVuY3Rpb24gbm9ybWFsaXplSW5kaWNlcyhpbmRpY2VzLCB0YXJnZXQpIHsKICAvLyBTb3J0IHRoZSBzaGFyZHMgcGVyLWluZGV4CiAgdmFyIHNvcnRRdWVyeUNvbXBvbmVudHM7CgogIGlmICh0YXJnZXQgPT09ICdzZWFyY2hlcycpIHsKICAgIHNvcnRRdWVyeUNvbXBvbmVudHMgPSBmdW5jdGlvbiBzb3J0UXVlcnlDb21wb25lbnRzKGEsIGIpIHsKICAgICAgdmFyIGFUaW1lID0gX2xvZGFzaC5kZWZhdWx0LnN1bShhLnNlYXJjaGVzLCBmdW5jdGlvbiAoc2VhcmNoKSB7CiAgICAgICAgcmV0dXJuIHNlYXJjaC50cmVlUm9vdC50aW1lOwogICAgICB9KTsKCiAgICAgIHZhciBiVGltZSA9IF9sb2Rhc2guZGVmYXVsdC5zdW0oYi5zZWFyY2hlcywgZnVuY3Rpb24gKHNlYXJjaCkgewogICAgICAgIHJldHVybiBzZWFyY2gudHJlZVJvb3QudGltZTsKICAgICAgfSk7CgogICAgICByZXR1cm4gY29tcGFyYXRvcihhVGltZSwgYlRpbWUpOwogICAgfTsKICB9IGVsc2UgaWYgKHRhcmdldCA9PT0gJ2FnZ3JlZ2F0aW9ucycpIHsKICAgIHNvcnRRdWVyeUNvbXBvbmVudHMgPSBmdW5jdGlvbiBzb3J0UXVlcnlDb21wb25lbnRzKGEsIGIpIHsKICAgICAgdmFyIGFUaW1lID0gX2xvZGFzaC5kZWZhdWx0LnN1bShhLmFnZ3JlZ2F0aW9ucywgZnVuY3Rpb24gKGFnZykgewogICAgICAgIHJldHVybiBhZ2cudHJlZVJvb3QudGltZTsKICAgICAgfSk7CgogICAgICB2YXIgYlRpbWUgPSBfbG9kYXNoLmRlZmF1bHQuc3VtKGIuYWdncmVnYXRpb25zLCBmdW5jdGlvbiAoYWdnKSB7CiAgICAgICAgcmV0dXJuIGFnZy50cmVlUm9vdC50aW1lOwogICAgICB9KTsKCiAgICAgIHJldHVybiBjb21wYXJhdG9yKGFUaW1lLCBiVGltZSk7CiAgICB9OwogIH0KCiAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JHZhbHVlcyA9IE9iamVjdC52YWx1ZXMoaW5kaWNlcyk7IF9pIDwgX09iamVjdCR2YWx1ZXMubGVuZ3RoOyBfaSsrKSB7CiAgICB2YXIgaW5kZXggPSBfT2JqZWN0JHZhbHVlc1tfaV07CiAgICBpbmRleC5zaGFyZHMuc29ydChzb3J0UXVlcnlDb21wb25lbnRzKTsKICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7CiAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7CiAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkOwoKICAgIHRyeSB7CiAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBpbmRleC5zaGFyZHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHsKICAgICAgICB2YXIgc2hhcmQgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgc2hhcmQucmVsYXRpdmUgPSAoc2hhcmQudGltZSAvIGluZGV4LnRpbWUgKiAxMDApLnRvRml4ZWQoMik7CiAgICAgICAgc2hhcmQuY29sb3IgPSBfdGlueWNvbG9yLmRlZmF1bHQubWl4KCcjRjVGNUY1JywgJyNGRkFGQUYnLCBzaGFyZC5yZWxhdGl2ZSkudG9IZXhTdHJpbmcoKTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7CiAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjsKICAgIH0gZmluYWxseSB7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpOwogICAgICAgIH0KICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7CiAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBub3JtYWxpemVUaW1lKG9wZXJhdGlvbiwgdG90YWxUaW1lKSB7CiAgb3BlcmF0aW9uLnRpbWVQZXJjZW50YWdlID0gKHRpbWVJbk1pbGxpc2Vjb25kcyhvcGVyYXRpb24pIC8gdG90YWxUaW1lICogMTAwKS50b0ZpeGVkKDIpOwogIG9wZXJhdGlvbi5hYnNvbHV0ZUNvbG9yID0gX3Rpbnljb2xvci5kZWZhdWx0Lm1peCgnI0Y1RjVGNScsICcjRkZBRkFGJywgK29wZXJhdGlvbi50aW1lUGVyY2VudGFnZSkudG9IZXhTdHJpbmcoKTsKfQoKZnVuY3Rpb24gaW5pdFRyZWUoZGF0YSwgdG90YWxUaW1lKSB7CiAgdmFyIGRlcHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwOwogIHZhciBwYXJlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IG51bGw7CgogIGlmIChfY29uc3RhbnRzLk1BWF9UUkVFX0RFUFRIICsgMSA9PT0gZGVwdGgpIHsKICAgIGlmIChwYXJlbnQpIHsKICAgICAgcGFyZW50Lmhhc0NoaWxkcmVuID0gZmFsc2U7CiAgICAgIHBhcmVudC5jaGlsZHJlbiA9IFtdOwogICAgfQoKICAgIHJldHVybjsKICB9CgogIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7CiAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlOwogIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gZGF0YVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkgewogICAgICB2YXIgY2hpbGQgPSBfc3RlcDMudmFsdWU7IC8vIEZvciBid2Mgb2Ygb2xkZXIgcHJvZmlsZSByZXNwb25zZXMKCiAgICAgIGlmICghY2hpbGQuZGVzY3JpcHRpb24pIHsKICAgICAgICBjaGlsZC5kZXNjcmlwdGlvbiA9IGNoaWxkLmx1Y2VuZTsKICAgICAgICBjaGlsZC5sdWNlbmUgPSBudWxsOwogICAgICAgIGNoaWxkLnR5cGUgPSBjaGlsZC5xdWVyeV90eXBlOwogICAgICAgIGNoaWxkLnF1ZXJ5X3R5cGUgPSBudWxsOwogICAgICB9CgogICAgICBub3JtYWxpemVUaW1lKGNoaWxkLCB0b3RhbFRpbWUpOwogICAgICBjaGlsZC5wYXJlbnQgPSBwYXJlbnQ7CiAgICAgIGNoaWxkLnRpbWUgPSB0aW1lSW5NaWxsaXNlY29uZHMoY2hpbGQpOwogICAgICBjaGlsZC5sdWNlbmUgPSBjaGlsZC5kZXNjcmlwdGlvbjsKICAgICAgY2hpbGQucXVlcnlfdHlwZSA9IGNoaWxkLnR5cGUuc3BsaXQoJy4nKS5wb3AoKTsKICAgICAgY2hpbGQudmlzaWJsZSA9ICtjaGlsZC50aW1lUGVyY2VudGFnZSA+IDIwOwogICAgICBjaGlsZC5kZXB0aCA9IGRlcHRoOwoKICAgICAgaWYgKGNoaWxkLmNoaWxkcmVuICE9IG51bGwgJiYgY2hpbGQuY2hpbGRyZW4ubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgaW5pdFRyZWUoY2hpbGQuY2hpbGRyZW4sIHRvdGFsVGltZSwgZGVwdGggKyAxLCBjaGlsZCk7CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7CiAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7CiAgICAgIH0KICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHsKICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7CiAgICAgIH0KICAgIH0KICB9CgogIGRhdGEuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIGNvbXBhcmF0b3IodGltZUluTWlsbGlzZWNvbmRzKGEpLCB0aW1lSW5NaWxsaXNlY29uZHMoYikpOwogIH0pOwp9Cgp2YXIgc29ydEluZGljZXMgPSBmdW5jdGlvbiBzb3J0SW5kaWNlcyhkYXRhKSB7CiAgdmFyIHNvcnRlZEluZGljZXMgPSBbXTsKCiAgZm9yICh2YXIgX2kyID0gMCwgX09iamVjdCR2YWx1ZXMyID0gT2JqZWN0LnZhbHVlcyhkYXRhKTsgX2kyIDwgX09iamVjdCR2YWx1ZXMyLmxlbmd0aDsgX2kyKyspIHsKICAgIHZhciBpbmRleCA9IF9PYmplY3QkdmFsdWVzMltfaTJdOwogICAgc29ydGVkSW5kaWNlcy5wdXNoKGluZGV4KTsKICB9IC8vIEFuZCBub3cgc29ydCB0aGUgaW5kaWNlcyB0aGVtc2VsdmVzCgoKICBzb3J0ZWRJbmRpY2VzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiBjb21wYXJhdG9yKGEudGltZSwgYi50aW1lKTsKICB9KTsKICByZXR1cm4gc29ydGVkSW5kaWNlczsKfTsKCmV4cG9ydHMuc29ydEluZGljZXMgPSBzb3J0SW5kaWNlczs="},null]}