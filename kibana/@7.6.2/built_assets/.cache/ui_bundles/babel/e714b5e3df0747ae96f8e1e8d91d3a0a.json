{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/snapshot_restore/public/app/sections/home/snapshot_list/snapshot_list.js","dependencies":[{"path":"x-pack/legacy/plugins/snapshot_restore/public/app/sections/home/snapshot_list/snapshot_list.js","mtime":1585205048235},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlNuYXBzaG90TGlzdCA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfcXVlcnlzdHJpbmcgPSByZXF1aXJlKCJxdWVyeXN0cmluZyIpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50cyIpOwoKdmFyIF9jb21wb25lbnRzID0gcmVxdWlyZSgiLi4vLi4vLi4vY29tcG9uZW50cyIpOwoKdmFyIF9jb25zdGFudHMyID0gcmVxdWlyZSgiLi4vLi4vLi4vY29uc3RhbnRzIik7Cgp2YXIgX2F1dGhvcml6YXRpb24gPSByZXF1aXJlKCIuLi8uLi8uLi9saWIvYXV0aG9yaXphdGlvbiIpOwoKdmFyIF9pbmRleCA9IHJlcXVpcmUoIi4uLy4uLy4uL2luZGV4Iik7Cgp2YXIgX2RvY3VtZW50YXRpb24gPSByZXF1aXJlKCIuLi8uLi8uLi9zZXJ2aWNlcy9kb2N1bWVudGF0aW9uIik7Cgp2YXIgX2h0dHAgPSByZXF1aXJlKCIuLi8uLi8uLi9zZXJ2aWNlcy9odHRwIik7Cgp2YXIgX25hdmlnYXRpb24gPSByZXF1aXJlKCIuLi8uLi8uLi9zZXJ2aWNlcy9uYXZpZ2F0aW9uIik7Cgp2YXIgX3VpX21ldHJpYyA9IHJlcXVpcmUoIi4uLy4uLy4uL3NlcnZpY2VzL3VpX21ldHJpYyIpOwoKdmFyIF9zbmFwc2hvdF9kZXRhaWxzID0gcmVxdWlyZSgiLi9zbmFwc2hvdF9kZXRhaWxzIik7Cgp2YXIgX3NuYXBzaG90X3RhYmxlID0gcmVxdWlyZSgiLi9zbmFwc2hvdF90YWJsZSIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7CiAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgewogICAgcmV0dXJuIG9iajsKICB9IGVsc2UgewogICAgdmFyIG5ld09iaiA9IHt9OwoKICAgIGlmIChvYmogIT0gbnVsbCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsKICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OwoKICAgICAgICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBuZXdPYmouZGVmYXVsdCA9IG9iajsKICAgIHJldHVybiBuZXdPYmo7CiAgfQp9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgewogIHZhciBfYXJyID0gW107CiAgdmFyIF9uID0gdHJ1ZTsKICB2YXIgX2QgPSBmYWxzZTsKICB2YXIgX2UgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7CiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7CgogICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZCA9IHRydWU7CiAgICBfZSA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgfQogIH0KCiAgcmV0dXJuIF9hcnI7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOwp9Cgp2YXIgU25hcHNob3RMaXN0ID0gZnVuY3Rpb24gU25hcHNob3RMaXN0KF9yZWYpIHsKICB2YXIgX3JlZiRtYXRjaCRwYXJhbXMgPSBfcmVmLm1hdGNoLnBhcmFtcywKICAgICAgcmVwb3NpdG9yeU5hbWUgPSBfcmVmJG1hdGNoJHBhcmFtcy5yZXBvc2l0b3J5TmFtZSwKICAgICAgc25hcHNob3RJZCA9IF9yZWYkbWF0Y2gkcGFyYW1zLnNuYXBzaG90SWQsCiAgICAgIHNlYXJjaCA9IF9yZWYubG9jYXRpb24uc2VhcmNoLAogICAgICBoaXN0b3J5ID0gX3JlZi5oaXN0b3J5OwoKICB2YXIgX3VzZUFwcERlcGVuZGVuY2llcyA9ICgwLCBfaW5kZXgudXNlQXBwRGVwZW5kZW5jaWVzKSgpLAogICAgICBGb3JtYXR0ZWRNZXNzYWdlID0gX3VzZUFwcERlcGVuZGVuY2llcy5jb3JlLmkxOG4uRm9ybWF0dGVkTWVzc2FnZTsKCiAgdmFyIF91c2VMb2FkU25hcHNob3RzID0gKDAsIF9odHRwLnVzZUxvYWRTbmFwc2hvdHMpKCksCiAgICAgIGVycm9yID0gX3VzZUxvYWRTbmFwc2hvdHMuZXJyb3IsCiAgICAgIGlzTG9hZGluZyA9IF91c2VMb2FkU25hcHNob3RzLmlzTG9hZGluZywKICAgICAgX3VzZUxvYWRTbmFwc2hvdHMkZGF0ID0gX3VzZUxvYWRTbmFwc2hvdHMuZGF0YSwKICAgICAgX3VzZUxvYWRTbmFwc2hvdHMkZGF0MiA9IF91c2VMb2FkU25hcHNob3RzJGRhdC5zbmFwc2hvdHMsCiAgICAgIHNuYXBzaG90cyA9IF91c2VMb2FkU25hcHNob3RzJGRhdDIgPT09IHZvaWQgMCA/IFtdIDogX3VzZUxvYWRTbmFwc2hvdHMkZGF0MiwKICAgICAgX3VzZUxvYWRTbmFwc2hvdHMkZGF0MyA9IF91c2VMb2FkU25hcHNob3RzJGRhdC5yZXBvc2l0b3JpZXMsCiAgICAgIHJlcG9zaXRvcmllcyA9IF91c2VMb2FkU25hcHNob3RzJGRhdDMgPT09IHZvaWQgMCA/IFtdIDogX3VzZUxvYWRTbmFwc2hvdHMkZGF0MywKICAgICAgX3VzZUxvYWRTbmFwc2hvdHMkZGF0NCA9IF91c2VMb2FkU25hcHNob3RzJGRhdC5wb2xpY2llcywKICAgICAgcG9saWNpZXMgPSBfdXNlTG9hZFNuYXBzaG90cyRkYXQ0ID09PSB2b2lkIDAgPyBbXSA6IF91c2VMb2FkU25hcHNob3RzJGRhdDQsCiAgICAgIF91c2VMb2FkU25hcHNob3RzJGRhdDUgPSBfdXNlTG9hZFNuYXBzaG90cyRkYXQuZXJyb3JzLAogICAgICBlcnJvcnMgPSBfdXNlTG9hZFNuYXBzaG90cyRkYXQ1ID09PSB2b2lkIDAgPyB7fSA6IF91c2VMb2FkU25hcHNob3RzJGRhdDUsCiAgICAgIHJlbG9hZCA9IF91c2VMb2FkU25hcHNob3RzLnNlbmRSZXF1ZXN0OwoKICB2YXIgb3BlblNuYXBzaG90RGV0YWlsc1VybCA9IGZ1bmN0aW9uIG9wZW5TbmFwc2hvdERldGFpbHNVcmwocmVwb3NpdG9yeU5hbWVUb09wZW4sIHNuYXBzaG90SWRUb09wZW4pIHsKICAgIHJldHVybiAoMCwgX25hdmlnYXRpb24ubGlua1RvU25hcHNob3QpKHJlcG9zaXRvcnlOYW1lVG9PcGVuLCBzbmFwc2hvdElkVG9PcGVuKTsKICB9OwoKICB2YXIgY2xvc2VTbmFwc2hvdERldGFpbHMgPSBmdW5jdGlvbiBjbG9zZVNuYXBzaG90RGV0YWlscygpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQoX2NvbnN0YW50czIuQkFTRV9QQVRILCAiL3NuYXBzaG90cyIpKTsKICB9OwoKICB2YXIgb25TbmFwc2hvdERlbGV0ZWQgPSBmdW5jdGlvbiBvblNuYXBzaG90RGVsZXRlZChzbmFwc2hvdHNEZWxldGVkKSB7CiAgICBpZiAocmVwb3NpdG9yeU5hbWUgJiYgc25hcHNob3RJZCAmJiBzbmFwc2hvdHNEZWxldGVkLmZpbmQoZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgIHZhciBzbmFwc2hvdCA9IF9yZWYyLnNuYXBzaG90LAogICAgICAgICAgcmVwb3NpdG9yeSA9IF9yZWYyLnJlcG9zaXRvcnk7CiAgICAgIHJldHVybiBzbmFwc2hvdCA9PT0gc25hcHNob3RJZCAmJiByZXBvc2l0b3J5ID09PSByZXBvc2l0b3J5TmFtZTsKICAgIH0pKSB7CiAgICAgIGNsb3NlU25hcHNob3REZXRhaWxzKCk7CiAgICB9CgogICAgaWYgKHNuYXBzaG90c0RlbGV0ZWQubGVuZ3RoKSB7CiAgICAgIHJlbG9hZCgpOwogICAgfQogIH07IC8vIEFsbG93IGRlZXBsaW5raW5nIHRvIGxpc3QgcHJlLWZpbHRlcmVkIGJ5IHJlcG9zaXRvcnkgbmFtZSBvciBieSBwb2xpY3kgbmFtZQoKCiAgdmFyIF91c2VTdGF0ZSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKHVuZGVmaW5lZCksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBmaWx0ZXJlZFJlcG9zaXRvcnkgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRGaWx0ZXJlZFJlcG9zaXRvcnkgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKHVuZGVmaW5lZCksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgZmlsdGVyZWRQb2xpY3kgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRGaWx0ZXJlZFBvbGljeSA9IF91c2VTdGF0ZTRbMV07CgogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICBpZiAoc2VhcmNoKSB7CiAgICAgIHZhciBwYXJzZWRQYXJhbXMgPSAoMCwgX3F1ZXJ5c3RyaW5nLnBhcnNlKShzZWFyY2gucmVwbGFjZSgvXlw/LywgJycpKTsKICAgICAgdmFyIHJlcG9zaXRvcnkgPSBwYXJzZWRQYXJhbXMucmVwb3NpdG9yeSwKICAgICAgICAgIHBvbGljeSA9IHBhcnNlZFBhcmFtcy5wb2xpY3k7CgogICAgICBpZiAocG9saWN5ICYmIHBvbGljeSAhPT0gZmlsdGVyZWRQb2xpY3kpIHsKICAgICAgICBzZXRGaWx0ZXJlZFBvbGljeShTdHJpbmcocG9saWN5KSk7CiAgICAgICAgaGlzdG9yeS5yZXBsYWNlKCIiLmNvbmNhdChfY29uc3RhbnRzMi5CQVNFX1BBVEgsICIvc25hcHNob3RzIikpOwogICAgICB9IGVsc2UgaWYgKHJlcG9zaXRvcnkgJiYgcmVwb3NpdG9yeSAhPT0gZmlsdGVyZWRSZXBvc2l0b3J5KSB7CiAgICAgICAgc2V0RmlsdGVyZWRSZXBvc2l0b3J5KFN0cmluZyhyZXBvc2l0b3J5KSk7CiAgICAgICAgaGlzdG9yeS5yZXBsYWNlKCIiLmNvbmNhdChfY29uc3RhbnRzMi5CQVNFX1BBVEgsICIvc25hcHNob3RzIikpOwogICAgICB9CiAgICB9CiAgfSwgW10pOyAvLyBUcmFjayBjb21wb25lbnQgbG9hZGVkCgogIHZhciB0cmFja1VpTWV0cmljID0gX3VpX21ldHJpYy51aU1ldHJpY1NlcnZpY2UudHJhY2tVaU1ldHJpYzsKICAoMCwgX3JlYWN0LnVzZUVmZmVjdCkoZnVuY3Rpb24gKCkgewogICAgdHJhY2tVaU1ldHJpYyhfY29uc3RhbnRzMi5VSU1fU05BUFNIT1RfTElTVF9MT0FEKTsKICB9LCBbXSk7CiAgdmFyIGNvbnRlbnQ7CgogIGlmIChpc0xvYWRpbmcpIHsKICAgIGNvbnRlbnQgPSBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb21wb25lbnRzLlNlY3Rpb25Mb2FkaW5nLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUuc25hcHNob3RMaXN0LmxvYWRpbmdTbmFwc2hvdHNEZXNjcmlwdGlvbiIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiTG9hZGluZyBzbmFwc2hvdHNcdTIwMjYiCiAgICB9KSk7CiAgfSBlbHNlIGlmIChlcnJvcikgewogICAgY29udGVudCA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHMuU2VjdGlvbkVycm9yLCB7CiAgICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5zbmFwc2hvdExpc3QubG9hZGluZ1NuYXBzaG90c0Vycm9yTWVzc2FnZSIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJFcnJvciBsb2FkaW5nIHNuYXBzaG90cyIKICAgICAgfSksCiAgICAgIGVycm9yOiBlcnJvcgogICAgfSk7CiAgfSBlbHNlIGlmIChPYmplY3Qua2V5cyhlcnJvcnMpLmxlbmd0aCAmJiByZXBvc2l0b3JpZXMubGVuZ3RoID09PSAwKSB7CiAgICBjb250ZW50ID0gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUVtcHR5UHJvbXB0LCB7CiAgICAgIGljb25UeXBlOiAibWFuYWdlbWVudEFwcCIsCiAgICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMSIsIHsKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAidGl0bGUiCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnNuYXBzaG90TGlzdC5lbXB0eVByb21wdC5lcnJvclJlcG9zaXRvcmllc1RpdGxlIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlNvbWUgcmVwb3NpdG9yaWVzIGNvbnRhaW4gZXJyb3JzIgogICAgICB9KSksCiAgICAgIGJvZHk6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInAiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5zbmFwc2hvdExpc3QuZW1wdHlQcm9tcHQucmVwb3NpdG9yeVdhcm5pbmdEZXNjcmlwdGlvbiIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJHbyB0byB7cmVwb3NpdG9yeUxpbmt9IHRvIGZpeCB0aGUgZXJyb3JzLiIsCiAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICByZXBvc2l0b3J5TGluazogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxpbmssIHsKICAgICAgICAgICAgaHJlZjogKDAsIF9uYXZpZ2F0aW9uLmxpbmtUb1JlcG9zaXRvcmllcykoKQogICAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnJlcG9zaXRvcnlXYXJuaW5nTGlua1RleHQiLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlJlcG9zaXRvcmllcyIKICAgICAgICAgIH0pKQogICAgICAgIH0KICAgICAgfSkpCiAgICB9KTsKICB9IGVsc2UgaWYgKHJlcG9zaXRvcmllcy5sZW5ndGggPT09IDApIHsKICAgIGNvbnRlbnQgPSBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRW1wdHlQcm9tcHQsIHsKICAgICAgaWNvblR5cGU6ICJtYW5hZ2VtZW50QXBwIiwKICAgICAgdGl0bGU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImgxIiwgewogICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJ0aXRsZSIKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUuc25hcHNob3RMaXN0LmVtcHR5UHJvbXB0Lm5vUmVwb3NpdG9yaWVzVGl0bGUiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU3RhcnQgYnkgcmVnaXN0ZXJpbmcgYSByZXBvc2l0b3J5IgogICAgICB9KSksCiAgICAgIGJvZHk6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LmRlZmF1bHQuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInAiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5zbmFwc2hvdExpc3QuZW1wdHlQcm9tcHQubm9SZXBvc2l0b3JpZXNEZXNjcmlwdGlvbiIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJZb3UgbmVlZCBhIHBsYWNlIHdoZXJlIHlvdXIgc25hcHNob3RzIHdpbGwgbGl2ZS4iCiAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgICAgICBocmVmOiAoMCwgX25hdmlnYXRpb24ubGlua1RvQWRkUmVwb3NpdG9yeSkoKSwKICAgICAgICBmaWxsOiB0cnVlLAogICAgICAgIGljb25UeXBlOiAicGx1c0luQ2lyY2xlIiwKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAicmVnaXN0ZXJSZXBvc2l0b3J5QnV0dG9uIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5zbmFwc2hvdExpc3QuZW1wdHlQcm9tcHQubm9SZXBvc2l0b3JpZXNBZGRCdXR0b25MYWJlbCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJSZWdpc3RlciBhIHJlcG9zaXRvcnkiCiAgICAgIH0pKSkpLAogICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZW1wdHlQcm9tcHQiCiAgICB9KTsKICB9IGVsc2UgaWYgKHNuYXBzaG90cy5sZW5ndGggPT09IDApIHsKICAgIGNvbnRlbnQgPSBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRW1wdHlQcm9tcHQsIHsKICAgICAgaWNvblR5cGU6ICJtYW5hZ2VtZW50QXBwIiwKICAgICAgdGl0bGU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImgxIiwgewogICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJ0aXRsZSIKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUuc25hcHNob3RMaXN0LmVtcHR5UHJvbXB0Lm5vU25hcHNob3RzVGl0bGUiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiWW91IGRvbid0IGhhdmUgYW55IHNuYXBzaG90cyB5ZXQiCiAgICAgIH0pKSwKICAgICAgYm9keTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfYXV0aG9yaXphdGlvbi5XaXRoUHJpdmlsZWdlcywgewogICAgICAgIHByaXZpbGVnZXM6IF9jb25zdGFudHMuQVBQX1NMTV9DTFVTVEVSX1BSSVZJTEVHRVMubWFwKGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICByZXR1cm4gImNsdXN0ZXIuIi5jb25jYXQobmFtZSk7CiAgICAgICAgfSkKICAgICAgfSwgZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgdmFyIGhhc1ByaXZpbGVnZXMgPSBfcmVmMy5oYXNQcml2aWxlZ2VzOwogICAgICAgIHJldHVybiBoYXNQcml2aWxlZ2VzID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInAiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnNuYXBzaG90TGlzdC5lbXB0eVByb21wdC51c2VQb2xpY3lEZXNjcmlwdGlvbiIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlJ1biBhIFNuYXBzaG90IExpZmVjeWNsZSBQb2xpY3kgdG8gY3JlYXRlIGEgc25hcHNob3QuIFNuYXBzaG90cyBjYW4gYWxzbyBiZSBjcmVhdGVkIGJ5IHVzaW5nIHtkb2NMaW5rfS4iLAogICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgIGRvY0xpbms6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlMaW5rLCB7CiAgICAgICAgICAgICAgaHJlZjogX2RvY3VtZW50YXRpb24uZG9jdW1lbnRhdGlvbkxpbmtzU2VydmljZS5nZXRTbmFwc2hvdERvY1VybCgpLAogICAgICAgICAgICAgIHRhcmdldDogIl9ibGFuayIsCiAgICAgICAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImRvY3VtZW50YXRpb25MaW5rIgogICAgICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5lbXB0eVByb21wdC51c2VQb2xpY3lEb2NMaW5rVGV4dCIsCiAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJ0aGUgRWxhc3RpY3NlYXJjaCBBUEkiCiAgICAgICAgICAgIH0pKQogICAgICAgICAgfQogICAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIHBvbGljaWVzLmxlbmd0aCA9PT0gMCA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgICAgICAgIGhyZWY6ICgwLCBfbmF2aWdhdGlvbi5saW5rVG9BZGRQb2xpY3kpKCksCiAgICAgICAgICBmaWxsOiB0cnVlLAogICAgICAgICAgaWNvblR5cGU6ICJwbHVzSW5DaXJjbGUiLAogICAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImFkZFBvbGljeUJ1dHRvbiIKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnNuYXBzaG90TGlzdC5lbXB0eVByb21wdC5hZGRQb2xpY3lUZXh0IiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ3JlYXRlIGEgcG9saWN5IgogICAgICAgIH0pKSA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgICAgICAgIGhyZWY6ICgwLCBfbmF2aWdhdGlvbi5saW5rVG9Qb2xpY2llcykoKSwKICAgICAgICAgIGZpbGw6IHRydWUsCiAgICAgICAgICBpY29uVHlwZTogImxpc3QiLAogICAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImdvVG9Qb2xpY2llc0J1dHRvbiIKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnNuYXBzaG90TGlzdC5lbXB0eVByb21wdC5nb1RvUG9saWNpZXNUZXh0IiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiVmlldyBwb2xpY2llcyIKICAgICAgICB9KSkpKSA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5zbmFwc2hvdExpc3QuZW1wdHlQcm9tcHQubm9TbmFwc2hvdHNEZXNjcmlwdGlvbiIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkNyZWF0ZSBhIHNuYXBzaG90IHVzaW5nIHRoZSBFbGFzdGljc2VhcmNoIEFQSS4iCiAgICAgICAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxpbmssIHsKICAgICAgICAgIGhyZWY6IF9kb2N1bWVudGF0aW9uLmRvY3VtZW50YXRpb25MaW5rc1NlcnZpY2UuZ2V0U25hcHNob3REb2NVcmwoKSwKICAgICAgICAgIHRhcmdldDogIl9ibGFuayIsCiAgICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZG9jdW1lbnRhdGlvbkxpbmsiCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5lbXB0eVByb21wdC5ub1NuYXBzaG90c0RvY0xpbmtUZXh0IiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiTGVhcm4gaG93IHRvIGNyZWF0ZSBhIHNuYXBzaG90IgogICAgICAgIH0pLCAnICcsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlJY29uLCB7CiAgICAgICAgICB0eXBlOiAibGluayIKICAgICAgICB9KSkpKTsKICAgICAgfSksCiAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJlbXB0eVByb21wdCIKICAgIH0pOwogIH0gZWxzZSB7CiAgICB2YXIgcmVwb3NpdG9yeUVycm9yc1dhcm5pbmcgPSBPYmplY3Qua2V5cyhlcnJvcnMpLmxlbmd0aCA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ2FsbE91dCwgewogICAgICB0aXRsZTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucmVwb3NpdG9yeVdhcm5pbmdUaXRsZSIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTb21lIHJlcG9zaXRvcmllcyBjb250YWluIGVycm9ycyIKICAgICAgfSksCiAgICAgIGNvbG9yOiAid2FybmluZyIsCiAgICAgIGljb25UeXBlOiAiYWxlcnQiCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucmVwb3NpdG9yeVdhcm5pbmdEZXNjcmlwdGlvbiIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU25hcHNob3RzIG1pZ2h0IGxvYWQgc2xvd2x5LiBHbyB0byB7cmVwb3NpdG9yeUxpbmt9IHRvIGZpeCB0aGUgZXJyb3JzLiIsCiAgICAgIHZhbHVlczogewogICAgICAgIHJlcG9zaXRvcnlMaW5rOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTGluaywgewogICAgICAgICAgaHJlZjogKDAsIF9uYXZpZ2F0aW9uLmxpbmtUb1JlcG9zaXRvcmllcykoKQogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucmVwb3NpdG9yeVdhcm5pbmdMaW5rVGV4dCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlJlcG9zaXRvcmllcyIKICAgICAgICB9KSkKICAgICAgfQogICAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCBudWxsKSkgOiBudWxsOwogICAgY29udGVudCA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCByZXBvc2l0b3J5RXJyb3JzV2FybmluZywgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfc25hcHNob3RfdGFibGUuU25hcHNob3RUYWJsZSwgewogICAgICBzbmFwc2hvdHM6IHNuYXBzaG90cywKICAgICAgcmVwb3NpdG9yaWVzOiByZXBvc2l0b3JpZXMsCiAgICAgIHJlbG9hZDogcmVsb2FkLAogICAgICBvcGVuU25hcHNob3REZXRhaWxzVXJsOiBvcGVuU25hcHNob3REZXRhaWxzVXJsLAogICAgICBvblNuYXBzaG90RGVsZXRlZDogb25TbmFwc2hvdERlbGV0ZWQsCiAgICAgIHJlcG9zaXRvcnlGaWx0ZXI6IGZpbHRlcmVkUmVwb3NpdG9yeSwKICAgICAgcG9saWN5RmlsdGVyOiBmaWx0ZXJlZFBvbGljeQogICAgfSkpOwogIH0KCiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNlY3Rpb24iLCB7CiAgICAiZGF0YS10ZXN0LXN1YmoiOiAic25hcHNob3RMaXN0IgogIH0sIHJlcG9zaXRvcnlOYW1lICYmIHNuYXBzaG90SWQgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9zbmFwc2hvdF9kZXRhaWxzLlNuYXBzaG90RGV0YWlscywgewogICAgcmVwb3NpdG9yeU5hbWU6IHJlcG9zaXRvcnlOYW1lLAogICAgc25hcHNob3RJZDogc25hcHNob3RJZCwKICAgIG9uQ2xvc2U6IGNsb3NlU25hcHNob3REZXRhaWxzLAogICAgb25TbmFwc2hvdERlbGV0ZWQ6IG9uU25hcHNob3REZWxldGVkCiAgfSkgOiBudWxsLCBjb250ZW50KTsKfTsKCmV4cG9ydHMuU25hcHNob3RMaXN0ID0gU25hcHNob3RMaXN0Ow=="},null]}