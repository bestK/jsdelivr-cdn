{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/snapshot_restore/public/app/components/retention_update_modal_provider.js","dependencies":[{"path":"x-pack/legacy/plugins/snapshot_restore/public/app/components/retention_update_modal_provider.js","mtime":1585205048199},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlJldGVudGlvblNldHRpbmdzVXBkYXRlTW9kYWxQcm92aWRlciA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2luZGV4ID0gcmVxdWlyZSgiLi4vaW5kZXgiKTsKCnZhciBfZG9jdW1lbnRhdGlvbiA9IHJlcXVpcmUoIi4uL3NlcnZpY2VzL2RvY3VtZW50YXRpb24iKTsKCnZhciBfc2hhcmVkX2ltcG9ydHMgPSByZXF1aXJlKCIuLi8uLi9zaGFyZWRfaW1wb3J0cyIpOwoKdmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCIuLi9jb25zdGFudHMiKTsKCnZhciBfaHR0cCA9IHJlcXVpcmUoIi4uL3NlcnZpY2VzL2h0dHAiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgIHJldHVybiBvYmo7CiAgfSBlbHNlIHsKICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7CiAgICByZXR1cm4gbmV3T2JqOwogIH0KfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKdmFyIFJldGVudGlvblNldHRpbmdzVXBkYXRlTW9kYWxQcm92aWRlciA9IGZ1bmN0aW9uIFJldGVudGlvblNldHRpbmdzVXBkYXRlTW9kYWxQcm92aWRlcihfcmVmKSB7CiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjsKCiAgdmFyIF91c2VBcHBEZXBlbmRlbmNpZXMgPSAoMCwgX2luZGV4LnVzZUFwcERlcGVuZGVuY2llcykoKSwKICAgICAgX3VzZUFwcERlcGVuZGVuY2llcyRjID0gX3VzZUFwcERlcGVuZGVuY2llcy5jb3JlLAogICAgICBpMThuID0gX3VzZUFwcERlcGVuZGVuY2llcyRjLmkxOG4sCiAgICAgIHRvYXN0Tm90aWZpY2F0aW9ucyA9IF91c2VBcHBEZXBlbmRlbmNpZXMkYy5ub3RpZmljYXRpb24udG9hc3ROb3RpZmljYXRpb25zOwoKICB2YXIgRm9ybWF0dGVkTWVzc2FnZSA9IGkxOG4uRm9ybWF0dGVkTWVzc2FnZTsKCiAgdmFyIF91c2VTdGF0ZSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKF9jb25zdGFudHMuREVGQVVMVF9SRVRFTlRJT05fU0NIRURVTEUpLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgcmV0ZW50aW9uU2NoZWR1bGUgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRSZXRlbnRpb25TY2hlZHVsZSA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU3RhdGUzID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoZmFsc2UpLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGlzTW9kYWxPcGVuID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0SXNNb2RhbE9wZW4gPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgX3VzZVN0YXRlNSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLAogICAgICBpc0VkaXRpbmcgPSBfdXNlU3RhdGU2WzBdLAogICAgICBzZXRJc0VkaXRpbmcgPSBfdXNlU3RhdGU2WzFdOwoKICB2YXIgX3VzZVN0YXRlNyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlOCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTcsIDIpLAogICAgICBpc1NhdmluZyA9IF91c2VTdGF0ZThbMF0sCiAgICAgIHNldElzU2F2aW5nID0gX3VzZVN0YXRlOFsxXTsKCiAgdmFyIF91c2VTdGF0ZTkgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShudWxsKSwKICAgICAgX3VzZVN0YXRlMTAgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU5LCAyKSwKICAgICAgc2F2ZUVycm9yID0gX3VzZVN0YXRlMTBbMF0sCiAgICAgIHNldFNhdmVFcnJvciA9IF91c2VTdGF0ZTEwWzFdOwoKICB2YXIgX3VzZVN0YXRlMTEgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShmYWxzZSksCiAgICAgIF91c2VTdGF0ZTEyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMTEsIDIpLAogICAgICBpc0FkdmFuY2VkQ3JvblZpc2libGUgPSBfdXNlU3RhdGUxMlswXSwKICAgICAgc2V0SXNBZHZhbmNlZENyb25WaXNpYmxlID0gX3VzZVN0YXRlMTJbMV07CgogIHZhciBvblN1Y2Nlc3NDYWxsYmFjayA9ICgwLCBfcmVhY3QudXNlUmVmKShudWxsKTsKCiAgdmFyIF91c2VTdGF0ZTEzID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoewogICAgZXhwcmVzc2lvbjogX2NvbnN0YW50cy5ERUZBVUxUX1JFVEVOVElPTl9TQ0hFRFVMRSwKICAgIGZyZXF1ZW5jeTogX2NvbnN0YW50cy5ERUZBVUxUX1JFVEVOVElPTl9GUkVRVUVOQ1kKICB9KSwKICAgICAgX3VzZVN0YXRlMTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUxMywgMiksCiAgICAgIHNpbXBsZUNyb24gPSBfdXNlU3RhdGUxNFswXSwKICAgICAgc2V0U2ltcGxlQ3JvbiA9IF91c2VTdGF0ZTE0WzFdOwoKICB2YXIgX3VzZVN0YXRlMTUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKSh7fSksCiAgICAgIF91c2VTdGF0ZTE2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMTUsIDIpLAogICAgICBmaWVsZFRvUHJlZmVycmVkVmFsdWVNYXAgPSBfdXNlU3RhdGUxNlswXSwKICAgICAgc2V0RmllbGRUb1ByZWZlcnJlZFZhbHVlTWFwID0gX3VzZVN0YXRlMTZbMV07CgogIHZhciBfdXNlU3RhdGUxNyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlMTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUxNywgMiksCiAgICAgIGlzSW52YWxpZCA9IF91c2VTdGF0ZTE4WzBdLAogICAgICBzZXRJc0ludmFsaWQgPSBfdXNlU3RhdGUxOFsxXTsKCiAgdmFyIHVwZGF0ZVJldGVudGlvblByb21wdCA9IGZ1bmN0aW9uIHVwZGF0ZVJldGVudGlvblByb21wdChvcmlnaW5hbFJldGVudGlvblNjaGVkdWxlKSB7CiAgICB2YXIgb25TdWNjZXNzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9OwogICAgc2V0SXNNb2RhbE9wZW4odHJ1ZSk7CiAgICBzZXRJc0FkdmFuY2VkQ3JvblZpc2libGUoQm9vbGVhbihvcmlnaW5hbFJldGVudGlvblNjaGVkdWxlICYmIG9yaWdpbmFsUmV0ZW50aW9uU2NoZWR1bGUgIT09IF9jb25zdGFudHMuREVGQVVMVF9SRVRFTlRJT05fU0NIRURVTEUpKTsKCiAgICBpZiAob3JpZ2luYWxSZXRlbnRpb25TY2hlZHVsZSkgewogICAgICBzZXRJc0VkaXRpbmcodHJ1ZSk7CiAgICAgIHNldFJldGVudGlvblNjaGVkdWxlKG9yaWdpbmFsUmV0ZW50aW9uU2NoZWR1bGUpOwogICAgfQoKICAgIG9uU3VjY2Vzc0NhbGxiYWNrLmN1cnJlbnQgPSBvblN1Y2Nlc3M7CiAgfTsKCiAgdmFyIGNsb3NlTW9kYWwgPSBmdW5jdGlvbiBjbG9zZU1vZGFsKCkgewogICAgc2V0SXNNb2RhbE9wZW4oZmFsc2UpOwogIH07CgogIHZhciB1cGRhdGVSZXRlbnRpb25TZXR0aW5nID0gZnVuY3Rpb24gdXBkYXRlUmV0ZW50aW9uU2V0dGluZygpIHsKICAgIHZhciBfcmVmMiwgZXJyb3I7CgogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiB1cGRhdGVSZXRlbnRpb25TZXR0aW5nJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKHJldGVudGlvblNjaGVkdWxlKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNldElzSW52YWxpZCh0cnVlKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBzZXRJc1NhdmluZyh0cnVlKTsKICAgICAgICAgICAgc2V0U2F2ZUVycm9yKG51bGwpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCgoMCwgX2h0dHAudXBkYXRlUmV0ZW50aW9uU2NoZWR1bGUpKHJldGVudGlvblNjaGVkdWxlKSk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBfcmVmMiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGVycm9yID0gX3JlZjIuZXJyb3I7CiAgICAgICAgICAgIHNldElzU2F2aW5nKGZhbHNlKTsKCiAgICAgICAgICAgIGlmIChlcnJvcikgewogICAgICAgICAgICAgIHNldFNhdmVFcnJvcihlcnJvcik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY2xvc2VNb2RhbCgpOwogICAgICAgICAgICAgIHRvYXN0Tm90aWZpY2F0aW9ucy5hZGRTdWNjZXNzKGkxOG4udHJhbnNsYXRlKCd4cGFjay5zbmFwc2hvdFJlc3RvcmUucG9saWN5Rm9ybS5zdGVwUmV0ZW50aW9uLnBvbGljeVVwZGF0ZVJldGVudGlvblN1Y2Nlc3NNZXNzYWdlJywgewogICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdSZXRlbnRpb24gc2NoZWR1bGUgdXBkYXRlZCcKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGlmIChvblN1Y2Nlc3NDYWxsYmFjay5jdXJyZW50KSB7CiAgICAgICAgICAgICAgICBvblN1Y2Nlc3NDYWxsYmFjay5jdXJyZW50KCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9OwoKICB2YXIgcmVuZGVyTW9kYWwgPSBmdW5jdGlvbiByZW5kZXJNb2RhbCgpIHsKICAgIGlmICghaXNNb2RhbE9wZW4pIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlPdmVybGF5TWFzaywgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU1vZGFsLCB7CiAgICAgIG9uQ2xvc2U6IGNsb3NlTW9kYWwKICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlNb2RhbEhlYWRlciwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU1vZGFsSGVhZGVyVGl0bGUsIG51bGwsIGlzRWRpdGluZyA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lGb3JtLnN0ZXBSZXRlbnRpb24ucG9saWN5VXBkYXRlUmV0ZW50aW9uRWRpdFRpdGxlIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJFZGl0IHJldGVudGlvbiBzY2hlZHVsZSIKICAgIH0pIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnBvbGljeUZvcm0uc3RlcFJldGVudGlvbi5wb2xpY3lVcGRhdGVSZXRlbnRpb25BZGRUaXRsZSIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQWRkIHJldGVudGlvbiBzY2hlZHVsZSIKICAgIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlNb2RhbEJvZHksIG51bGwsIHNhdmVFcnJvciAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNhbGxPdXQsIHsKICAgICAgdGl0bGU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnBvbGljeUZvcm0uc3RlcFJldGVudGlvbi5wb2xpY3lVcGRhdGVSZXRlbnRpb25FcnJvclRpdGxlIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkVycm9yIHNhdmluZyByZXRlbnRpb24gc2NoZWR1bGUiCiAgICAgIH0pLAogICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgIGljb25UeXBlOiAiYWxlcnQiCiAgICB9LCBzYXZlRXJyb3IuZGF0YSAmJiBzYXZlRXJyb3IuZGF0YS5tZXNzYWdlID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIHNhdmVFcnJvci5kYXRhLm1lc3NhZ2UpIDogbnVsbCksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgICAgc2l6ZTogIm0iCiAgICB9KSksIGlzQWR2YW5jZWRDcm9uVmlzaWJsZSA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgICBsYWJlbDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucG9saWN5Rm9ybS5zdGVwUmV0ZW50aW9uLnBvbGljeVVwZGF0ZVJldGVudGlvblNjaGVkdWxlTGFiZWwiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUmV0ZW50aW9uIHNjaGVkdWxlIgogICAgICB9KSwKICAgICAgaXNJbnZhbGlkOiBpc0ludmFsaWQsCiAgICAgIGVycm9yOiBpMThuLnRyYW5zbGF0ZSgneHBhY2suc25hcHNob3RSZXN0b3JlLnBvbGljeUZvcm0uc3RlcFJldGVudGlvbi5wb2xpY3lVcGRhdGVSZXRlbnRpb25TY2hlZHVsZUZpZWxkRXJyb3JNZXNzYWdlJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUmV0ZW50aW9uIHNjaGVkdWxlIGlzIHJlcXVpcmVkLicKICAgICAgfSksCiAgICAgIGhlbHBUZXh0OiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lGb3JtLnN0ZXBSZXRlbnRpb24ucG9saWN5VXBkYXRlUmV0ZW50aW9uSGVscFRleHQiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiVXNlIGNyb24gZXhwcmVzc2lvbi4ge2RvY0xpbmt9IiwKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIGRvY0xpbms6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlMaW5rLCB7CiAgICAgICAgICAgIGhyZWY6IF9kb2N1bWVudGF0aW9uLmRvY3VtZW50YXRpb25MaW5rc1NlcnZpY2UuZ2V0Q3JvblVybCgpLAogICAgICAgICAgICB0YXJnZXQ6ICJfYmxhbmsiCiAgICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucG9saWN5Rm9ybS5zdGVwUmV0ZW50aW9uLnBvbGljeVVwZGF0ZVJldGVudGlvbkhlbHBUZXh0RG9jTGlua1RleHQiLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkxlYXJuIG1vcmUuIgogICAgICAgICAgfSkpCiAgICAgICAgfQogICAgICB9KSwKICAgICAgZnVsbFdpZHRoOiB0cnVlCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmllbGRUZXh0LCB7CiAgICAgIGRlZmF1bHRWYWx1ZTogcmV0ZW50aW9uU2NoZWR1bGUsCiAgICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgICByZXR1cm4gc2V0UmV0ZW50aW9uU2NoZWR1bGUoZS50YXJnZXQudmFsdWUpOwogICAgICB9CiAgICB9KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgICAgc2l6ZTogIm0iCiAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRleHQsIHsKICAgICAgc2l6ZTogInMiCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTGluaywgewogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgIHNldElzQWR2YW5jZWRDcm9uVmlzaWJsZShmYWxzZSk7CiAgICAgICAgc2V0UmV0ZW50aW9uU2NoZWR1bGUoc2ltcGxlQ3Jvbi5leHByZXNzaW9uKTsKICAgICAgfSwKICAgICAgImRhdGEtdGVzdC1zdWJqIjogInNob3dCYXNpY0Nyb25MaW5rIgogICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2suc25hcHNob3RSZXN0b3JlLnBvbGljeUZvcm0uc3RlcFJldGVudGlvbi5wb2xpY3lVcGRhdGVSZXRlbnRpb25CYXNpY0xhYmVsIiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDcmVhdGUgYmFzaWMgaW50ZXJ2YWwiCiAgICB9KSkpKSA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9zaGFyZWRfaW1wb3J0cy5Dcm9uRWRpdG9yLCB7CiAgICAgIGZpZWxkVG9QcmVmZXJyZWRWYWx1ZU1hcDogZmllbGRUb1ByZWZlcnJlZFZhbHVlTWFwLAogICAgICBjcm9uRXhwcmVzc2lvbjogc2ltcGxlQ3Jvbi5leHByZXNzaW9uLAogICAgICBmcmVxdWVuY3k6IHNpbXBsZUNyb24uZnJlcXVlbmN5LAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoX3JlZjMpIHsKICAgICAgICB2YXIgZXhwcmVzc2lvbiA9IF9yZWYzLmNyb25FeHByZXNzaW9uLAogICAgICAgICAgICBmcmVxdWVuY3kgPSBfcmVmMy5mcmVxdWVuY3ksCiAgICAgICAgICAgIG5ld0ZpZWxkVG9QcmVmZXJyZWRWYWx1ZU1hcCA9IF9yZWYzLmZpZWxkVG9QcmVmZXJyZWRWYWx1ZU1hcDsKICAgICAgICBzZXRTaW1wbGVDcm9uKHsKICAgICAgICAgIGV4cHJlc3Npb246IGV4cHJlc3Npb24sCiAgICAgICAgICBmcmVxdWVuY3k6IGZyZXF1ZW5jeQogICAgICAgIH0pOwogICAgICAgIHNldEZpZWxkVG9QcmVmZXJyZWRWYWx1ZU1hcChuZXdGaWVsZFRvUHJlZmVycmVkVmFsdWVNYXApOwogICAgICAgIHNldFJldGVudGlvblNjaGVkdWxlKGV4cHJlc3Npb24pOwogICAgICB9CiAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICBzaXplOiAibSIKICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgewogICAgICBzaXplOiAicyIKICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlMaW5rLCB7CiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgc2V0SXNBZHZhbmNlZENyb25WaXNpYmxlKHRydWUpOwogICAgICB9LAogICAgICAiZGF0YS10ZXN0LXN1YmoiOiAic2hvd0FkdmFuY2VkQ3JvbkxpbmsiCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucG9saWN5Rm9ybS5zdGVwUmV0ZW50aW9uLnBvbGljeVVwZGF0ZVJldGVudGlvbkFkdmFuY2VkTGFiZWwiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIkNyZWF0ZSBjcm9uIGV4cHJlc3Npb24iCiAgICB9KSkpKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlNb2RhbEZvb3RlciwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICAgIG9uQ2xpY2s6IGNsb3NlTW9kYWwKICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnNuYXBzaG90UmVzdG9yZS5wb2xpY3lGb3JtLnN0ZXBSZXRlbnRpb24ucG9saWN5VXBkYXRlUmV0ZW50aW9uQ2FuY2VsQnV0dG9uTGFiZWwiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIkNhbmNlbCIKICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgICBvbkNsaWNrOiB1cGRhdGVSZXRlbnRpb25TZXR0aW5nLAogICAgICBmaWxsOiB0cnVlLAogICAgICBpc0xvYWRpbmc6IGlzU2F2aW5nCiAgICB9LCBpc0VkaXRpbmcgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucG9saWN5Rm9ybS5zdGVwUmV0ZW50aW9uLnBvbGljeVVwZGF0ZVJldGVudGlvbkVkaXRCdXR0b25MYWJlbCIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU2F2ZSBjaGFuZ2VzIgogICAgfSkgOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zbmFwc2hvdFJlc3RvcmUucG9saWN5Rm9ybS5zdGVwUmV0ZW50aW9uLnBvbGljeVVwZGF0ZVJldGVudGlvblNhdmVCdXR0b25MYWJlbCIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU2NoZWR1bGUiCiAgICB9KSkpKSk7CiAgfTsKCiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBjaGlsZHJlbih1cGRhdGVSZXRlbnRpb25Qcm9tcHQpLCByZW5kZXJNb2RhbCgpKTsKfTsKCmV4cG9ydHMuUmV0ZW50aW9uU2V0dGluZ3NVcGRhdGVNb2RhbFByb3ZpZGVyID0gUmV0ZW50aW9uU2V0dGluZ3NVcGRhdGVNb2RhbFByb3ZpZGVyOw=="},null]}