{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/infra/public/pages/logs/log_entry_rate/sections/anomalies/index.js","dependencies":[{"path":"x-pack/legacy/plugins/infra/public/pages/logs/log_entry_rate/sections/anomalies/index.js","mtime":1585205044769},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkFub21hbGllc1Jlc3VsdHMgPSB2b2lkIDA7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF9udW1lcmFsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAZWxhc3RpYy9udW1lcmFsIikpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX2V1aV9zdHlsZWRfY29tcG9uZW50cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vY29tbW9uL2V1aV9zdHlsZWRfY29tcG9uZW50cyIpKTsKCnZhciBfbG9nX2FuYWx5c2lzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vLi4vY29tbW9uL2xvZ19hbmFseXNpcyIpOwoKdmFyIF9kYXRhX2Zvcm1hdHRlcnMgPSByZXF1aXJlKCIuLi9oZWxwZXJzL2RhdGFfZm9ybWF0dGVycyIpOwoKdmFyIF9jaGFydCA9IHJlcXVpcmUoIi4vY2hhcnQiKTsKCnZhciBfdGFibGUgPSByZXF1aXJlKCIuL3RhYmxlIik7Cgp2YXIgX2xvZ19hbmFseXNpc19qb2Jfc3RhdHVzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sb2dnaW5nL2xvZ19hbmFseXNpc19qb2Jfc3RhdHVzIik7Cgp2YXIgX2xvZ19hbmFseXNpc19yZXN1bHRzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sb2dnaW5nL2xvZ19hbmFseXNpc19yZXN1bHRzIik7Cgp2YXIgX2xvYWRpbmdfb3ZlcmxheV93cmFwcGVyID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sb2FkaW5nX292ZXJsYXlfd3JhcHBlciIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7CiAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgewogICAgcmV0dXJuIG9iajsKICB9IGVsc2UgewogICAgdmFyIG5ld09iaiA9IHt9OwoKICAgIGlmIChvYmogIT0gbnVsbCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsKICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OwoKICAgICAgICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBuZXdPYmouZGVmYXVsdCA9IG9iajsKICAgIHJldHVybiBuZXdPYmo7CiAgfQp9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4iXSk7CgogIF90ZW1wbGF0ZU9iamVjdCA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKHN0cmluZ3MsIHJhdykgewogIGlmICghcmF3KSB7CiAgICByYXcgPSBzdHJpbmdzLnNsaWNlKDApOwogIH0KCiAgcmV0dXJuIE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3RyaW5ncywgewogICAgcmF3OiB7CiAgICAgIHZhbHVlOiBPYmplY3QuZnJlZXplKHJhdykKICAgIH0KICB9KSk7Cn0KCnZhciBBbm9tYWxpZXNSZXN1bHRzID0gZnVuY3Rpb24gQW5vbWFsaWVzUmVzdWx0cyhfcmVmKSB7CiAgdmFyIGlzTG9hZGluZyA9IF9yZWYuaXNMb2FkaW5nLAogICAgICBqb2JTdGF0dXMgPSBfcmVmLmpvYlN0YXR1cywKICAgICAgcmVzdWx0cyA9IF9yZWYucmVzdWx0cywKICAgICAgc2V0VGltZVJhbmdlID0gX3JlZi5zZXRUaW1lUmFuZ2UsCiAgICAgIHNldHVwU3RhdHVzID0gX3JlZi5zZXR1cFN0YXR1cywKICAgICAgdGltZVJhbmdlID0gX3JlZi50aW1lUmFuZ2UsCiAgICAgIHZpZXdTZXR1cEZvclJlY29uZmlndXJhdGlvbiA9IF9yZWYudmlld1NldHVwRm9yUmVjb25maWd1cmF0aW9uLAogICAgICB2aWV3U2V0dXBGb3JVcGRhdGUgPSBfcmVmLnZpZXdTZXR1cEZvclVwZGF0ZSwKICAgICAgam9iSWQgPSBfcmVmLmpvYklkOwogIHZhciBoYXNBbm9tYWxpZXMgPSAoMCwgX3JlYWN0LnVzZU1lbW8pKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiByZXN1bHRzICYmIHJlc3VsdHMuaGlzdG9ncmFtQnVja2V0cyA/IHJlc3VsdHMuaGlzdG9ncmFtQnVja2V0cy5zb21lKGZ1bmN0aW9uIChidWNrZXQpIHsKICAgICAgcmV0dXJuIGJ1Y2tldC5wYXJ0aXRpb25zLnNvbWUoZnVuY3Rpb24gKHBhcnRpdGlvbikgewogICAgICAgIHJldHVybiBwYXJ0aXRpb24uYW5vbWFsaWVzLmxlbmd0aCA+IDA7CiAgICAgIH0pOwogICAgfSkgOiBmYWxzZTsKICB9LCBbcmVzdWx0c10pOwogIHZhciBsb2dFbnRyeVJhdGVTZXJpZXMgPSAoMCwgX3JlYWN0LnVzZU1lbW8pKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiByZXN1bHRzICYmIHJlc3VsdHMuaGlzdG9ncmFtQnVja2V0cyA/ICgwLCBfZGF0YV9mb3JtYXR0ZXJzLmdldExvZ0VudHJ5UmF0ZUNvbWJpbmVkU2VyaWVzKShyZXN1bHRzKSA6IFtdOwogIH0sIFtyZXN1bHRzXSk7CiAgdmFyIGFub21hbHlBbm5vdGF0aW9ucyA9ICgwLCBfcmVhY3QudXNlTWVtbykoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHJlc3VsdHMgJiYgcmVzdWx0cy5oaXN0b2dyYW1CdWNrZXRzID8gKDAsIF9kYXRhX2Zvcm1hdHRlcnMuZ2V0QW5ub3RhdGlvbnNGb3JBbGwpKHJlc3VsdHMpIDogewogICAgICB3YXJuaW5nOiBbXSwKICAgICAgbWlub3I6IFtdLAogICAgICBtYWpvcjogW10sCiAgICAgIGNyaXRpY2FsOiBbXQogICAgfTsKICB9LCBbcmVzdWx0c10pOwogIHZhciB0b3BBbm9tYWx5U2NvcmUgPSAoMCwgX3JlYWN0LnVzZU1lbW8pKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiByZXN1bHRzICYmIHJlc3VsdHMuaGlzdG9ncmFtQnVja2V0cyA/ICgwLCBfZGF0YV9mb3JtYXR0ZXJzLmdldFRvcEFub21hbHlTY29yZUFjcm9zc0FsbFBhcnRpdGlvbnMpKHJlc3VsdHMpIDogdW5kZWZpbmVkOwogIH0sIFtyZXN1bHRzXSk7CiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LmRlZmF1bHQuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgIGFsaWduSXRlbXM6ICJjZW50ZXIiLAogICAgZ3V0dGVyU2l6ZTogInMiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIHsKICAgIHNpemU6ICJzIiwKICAgICJhcmlhLWxhYmVsIjogdGl0bGUKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMiIsIG51bGwsIHRpdGxlKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbG9nX2FuYWx5c2lzX2pvYl9zdGF0dXMuUmVjcmVhdGVKb2JCdXR0b24sIHsKICAgIG9uQ2xpY2s6IHZpZXdTZXR1cEZvclVwZGF0ZSwKICAgIHNpemU6ICJzIgogIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2xvZ19hbmFseXNpc19yZXN1bHRzLkFuYWx5emVJbk1sQnV0dG9uLCB7CiAgICBqb2JJZDogam9iSWQsCiAgICB0aW1lUmFuZ2U6IHRpbWVSYW5nZQogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgIHNpemU6ICJtIgogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9sb2dfYW5hbHlzaXNfam9iX3N0YXR1cy5Mb2dBbmFseXNpc0pvYlByb2JsZW1JbmRpY2F0b3IsIHsKICAgIGpvYlN0YXR1czogam9iU3RhdHVzLAogICAgc2V0dXBTdGF0dXM6IHNldHVwU3RhdHVzLAogICAgb25SZWNyZWF0ZU1sSm9iRm9yUmVjb25maWd1cmF0aW9uOiB2aWV3U2V0dXBGb3JSZWNvbmZpZ3VyYXRpb24sCiAgICBvblJlY3JlYXRlTWxKb2JGb3JVcGRhdGU6IHZpZXdTZXR1cEZvclVwZGF0ZQogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICBzaXplOiAibSIKICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbG9hZGluZ19vdmVybGF5X3dyYXBwZXIuTG9hZGluZ092ZXJsYXlXcmFwcGVyLCB7CiAgICBpc0xvYWRpbmc6IGlzTG9hZGluZywKICAgIGxvYWRpbmdDaGlsZHJlbjogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChMb2FkaW5nT3ZlcmxheUNvbnRlbnQsIG51bGwpCiAgfSwgIXJlc3VsdHMgfHwgcmVzdWx0cyAmJiByZXN1bHRzLmhpc3RvZ3JhbUJ1Y2tldHMgJiYgIXJlc3VsdHMuaGlzdG9ncmFtQnVja2V0cy5sZW5ndGggPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRW1wdHlQcm9tcHQsIHsKICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMiIsIG51bGwsIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pbmZyYS5sb2dzLmFuYWx5c2lzLmFub21hbHlTZWN0aW9uTm9EYXRhVGl0bGUnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVGhlcmUgaXMgbm8gZGF0YSB0byBkaXNwbGF5LicKICAgIH0pKSwKICAgIHRpdGxlU2l6ZTogIm0iLAogICAgYm9keTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pbmZyYS5sb2dzLmFuYWx5c2lzLmFub21hbHlTZWN0aW9uTm9EYXRhQm9keScsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdZb3UgbWF5IHdhbnQgdG8gYWRqdXN0IHlvdXIgdGltZSByYW5nZS4nCiAgICB9KSkKICB9KSA6ICFoYXNBbm9tYWxpZXMgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRW1wdHlQcm9tcHQsIHsKICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMiIsIG51bGwsIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pbmZyYS5sb2dzLmFuYWx5c2lzLmFub21hbHlTZWN0aW9uTm9Bbm9tYWxpZXNUaXRsZScsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdObyBhbm9tYWxpZXMgd2VyZSBkZXRlY3RlZC4nCiAgICB9KSksCiAgICB0aXRsZVNpemU6ICJtIgogIH0pIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiA4CiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY2hhcnQuQW5vbWFsaWVzQ2hhcnQsIHsKICAgIGNoYXJ0SWQ6ICJvdmVyYWxsIiwKICAgIHNldFRpbWVSYW5nZTogc2V0VGltZVJhbmdlLAogICAgdGltZVJhbmdlOiB0aW1lUmFuZ2UsCiAgICBzZXJpZXM6IGxvZ0VudHJ5UmF0ZVNlcmllcywKICAgIGFubm90YXRpb25zOiBhbm9tYWx5QW5ub3RhdGlvbnMsCiAgICByZW5kZXJBbm5vdGF0aW9uVG9vbHRpcDogcmVuZGVyQW5ub3RhdGlvblRvb2x0aXAKICB9KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogMgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTdGF0LCB7CiAgICB0aXRsZTogKDAsIF9udW1lcmFsLmRlZmF1bHQpKHJlc3VsdHMudG90YWxOdW1iZXJPZkxvZ0VudHJpZXMpLmZvcm1hdCgnMC4wMGEnKSwKICAgIHRpdGxlU2l6ZTogIm0iLAogICAgZGVzY3JpcHRpb246IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pbmZyYS5sb2dzLmFuYWx5c2lzLm92ZXJhbGxBbm9tYWxpZXNOdW1iZXJPZkxvZ0VudHJpZXNEZXNjcmlwdGlvbicsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdOdW1iZXIgb2YgbG9nIGVudHJpZXMnCiAgICB9KSwKICAgIHJldmVyc2U6IHRydWUKICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVN0YXQsIHsKICAgIHRpdGxlOiB0b3BBbm9tYWx5U2NvcmUgPyAoMCwgX2xvZ19hbmFseXNpcy5mb3JtYXRBbm9tYWx5U2NvcmUpKHRvcEFub21hbHlTY29yZSkgOiBudWxsLAogICAgdGl0bGVTaXplOiAibSIsCiAgICBkZXNjcmlwdGlvbjogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmluZnJhLmxvZ3MuYW5hbHlzaXMub3ZlcmFsbEFub21hbGllc1RvcEFub21hbHlTY29yZURlc2NyaXB0aW9uJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ01heCBhbm9tYWx5IHNjb3JlJwogICAgfSksCiAgICByZXZlcnNlOiB0cnVlCiAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgc2l6ZTogImwiCiAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3RhYmxlLkFub21hbGllc1RhYmxlLCB7CiAgICByZXN1bHRzOiByZXN1bHRzLAogICAgc2V0VGltZVJhbmdlOiBzZXRUaW1lUmFuZ2UsCiAgICB0aW1lUmFuZ2U6IHRpbWVSYW5nZSwKICAgIGpvYklkOiBqb2JJZAogIH0pKSkpOwp9OwoKZXhwb3J0cy5Bbm9tYWxpZXNSZXN1bHRzID0gQW5vbWFsaWVzUmVzdWx0czsKCnZhciB0aXRsZSA9IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pbmZyYS5sb2dzLmFuYWx5c2lzLmFub21hbGllc1NlY3Rpb25UaXRsZScsIHsKICBkZWZhdWx0TWVzc2FnZTogJ0Fub21hbGllcycKfSk7Cgp2YXIgb3ZlcmFsbEFub21hbHlTY29yZUxhYmVsID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmluZnJhLmxvZ3MuYW5hbHlzaXMub3ZlcmFsbEFub21hbHlDaGFydE1heFNjb3Jlc0xhYmVsJywgewogIGRlZmF1bHRNZXNzYWdlOiAnTWF4IGFub21hbHkgc2NvcmVzOicKfSk7Cgp2YXIgQW5ub3RhdGlvblRvb2x0aXAgPSBmdW5jdGlvbiBBbm5vdGF0aW9uVG9vbHRpcChfcmVmMikgewogIHZhciBkZXRhaWxzID0gX3JlZjIuZGV0YWlsczsKICB2YXIgcGFyc2VkRGV0YWlscyA9IEpTT04ucGFyc2UoZGV0YWlscyk7CiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcFdyYXBwZXIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJiIiwgbnVsbCwgb3ZlcmFsbEFub21hbHlTY29yZUxhYmVsKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInVsIiwgbnVsbCwgcGFyc2VkRGV0YWlscy5hbm9tYWx5U2NvcmVzQnlQYXJ0aXRpb24ubWFwKGZ1bmN0aW9uIChfcmVmMykgewogICAgdmFyIHBhcnRpdGlvbk5hbWUgPSBfcmVmMy5wYXJ0aXRpb25OYW1lLAogICAgICAgIG1heGltdW1Bbm9tYWx5U2NvcmUgPSBfcmVmMy5tYXhpbXVtQW5vbWFseVNjb3JlOwogICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImxpIiwgewogICAgICBrZXk6ICJvdmVyYWxsLWFub21hbHktY2hhcnQtIi5jb25jYXQocGFydGl0aW9uTmFtZSkKICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAiIi5jb25jYXQocGFydGl0aW9uTmFtZSwgIjogIiksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImIiLCBudWxsLCBtYXhpbXVtQW5vbWFseVNjb3JlKSkpOwogIH0pKSk7Cn07Cgp2YXIgcmVuZGVyQW5ub3RhdGlvblRvb2x0aXAgPSBmdW5jdGlvbiByZW5kZXJBbm5vdGF0aW9uVG9vbHRpcChkZXRhaWxzKSB7CiAgLy8gTm90ZTogU2VlbXMgdG8gYmUgbmVjZXNzYXJ5IHRvIGdldCB0aGluZ3MgdHlwZWQgY29ycmVjdGx5IGFsbCB0aGUgd2F5IHRocm91Z2ggdG8gZWxhc3RpYy1jaGFydHMgY29tcG9uZW50cwogIGlmICghZGV0YWlscykgewogICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwpOwogIH0KCiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQW5ub3RhdGlvblRvb2x0aXAsIHsKICAgIGRldGFpbHM6IGRldGFpbHMKICB9KTsKfTsKCnZhciBUb29sdGlwV3JhcHBlciA9ICgwLCBfZXVpX3N0eWxlZF9jb21wb25lbnRzLmRlZmF1bHQpKCdkaXYnKShfdGVtcGxhdGVPYmplY3QoKSk7Cgp2YXIgbG9hZGluZ0FyaWFMYWJlbCA9IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pbmZyYS5sb2dzLmFuYWx5c2lzLmFub21hbGllc1NlY3Rpb25Mb2FkaW5nQXJpYUxhYmVsJywgewogIGRlZmF1bHRNZXNzYWdlOiAnTG9hZGluZyBhbm9tYWxpZXMnCn0pOwoKdmFyIExvYWRpbmdPdmVybGF5Q29udGVudCA9IGZ1bmN0aW9uIExvYWRpbmdPdmVybGF5Q29udGVudCgpIHsKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxvYWRpbmdTcGlubmVyLCB7CiAgICBzaXplOiAieGwiLAogICAgImFyaWEtbGFiZWwiOiBsb2FkaW5nQXJpYUxhYmVsCiAgfSk7Cn07"},null]}