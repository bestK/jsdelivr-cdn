{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/core/public/core_system.js","dependencies":[{"path":"src/core/public/core_system.js","mtime":1585205038704},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkNvcmVTeXN0ZW0gPSB2b2lkIDA7CgpyZXF1aXJlKCIuL2NvcmUuY3NzIik7Cgp2YXIgX2Nocm9tZSA9IHJlcXVpcmUoIi4vY2hyb21lIik7Cgp2YXIgX2ZhdGFsX2Vycm9ycyA9IHJlcXVpcmUoIi4vZmF0YWxfZXJyb3JzIik7Cgp2YXIgX2h0dHAyID0gcmVxdWlyZSgiLi9odHRwIik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCIuL2kxOG4iKTsKCnZhciBfaW5qZWN0ZWRfbWV0YWRhdGEgPSByZXF1aXJlKCIuL2luamVjdGVkX21ldGFkYXRhIik7Cgp2YXIgX2xlZ2FjeSA9IHJlcXVpcmUoIi4vbGVnYWN5Iik7Cgp2YXIgX25vdGlmaWNhdGlvbnMyID0gcmVxdWlyZSgiLi9ub3RpZmljYXRpb25zIik7Cgp2YXIgX292ZXJsYXlzID0gcmVxdWlyZSgiLi9vdmVybGF5cyIpOwoKdmFyIF9wbHVnaW5zMiA9IHJlcXVpcmUoIi4vcGx1Z2lucyIpOwoKdmFyIF91aV9zZXR0aW5ncyA9IHJlcXVpcmUoIi4vdWlfc2V0dGluZ3MiKTsKCnZhciBfYXBwbGljYXRpb24yID0gcmVxdWlyZSgiLi9hcHBsaWNhdGlvbiIpOwoKdmFyIF91dGlscyA9IHJlcXVpcmUoIi4uL3V0aWxzLyIpOwoKdmFyIF9kb2NfbGlua3MgPSByZXF1aXJlKCIuL2RvY19saW5rcyIpOwoKdmFyIF9yZW5kZXJpbmcgPSByZXF1aXJlKCIuL3JlbmRlcmluZyIpOwoKdmFyIF9zYXZlZF9vYmplY3RzID0gcmVxdWlyZSgiLi9zYXZlZF9vYmplY3RzIik7Cgp2YXIgX2NvbnRleHQzID0gcmVxdWlyZSgiLi9jb250ZXh0Iik7Cgp2YXIgX2ludGVncmF0aW9ucyA9IHJlcXVpcmUoIi4vaW50ZWdyYXRpb25zIik7CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgewogIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gIltvYmplY3QgQXJndW1lbnRzXSIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgewogICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgYXJyMltpXSA9IGFycltpXTsKICAgIH0KCiAgICByZXR1cm4gYXJyMjsKICB9Cn0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgfQp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOwogIH0KfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICByZXR1cm4gQ29uc3RydWN0b3I7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9Ci8qKgogKiBUaGUgQ29yZVN5c3RlbSBpcyB0aGUgcm9vdCBvZiB0aGUgbmV3IHBsYXRmb3JtLCBhbmQgc2V0dXBzIGFsbCBwYXJ0cwogKiBvZiBLaWJhbmEgaW4gdGhlIFVJLCBpbmNsdWRpbmcgdGhlIExlZ2FjeVBsYXRmb3JtIHdoaWNoIGlzIG1hbmFnZWQKICogYnkgdGhlIExlZ2FjeVBsYXRmb3JtU2VydmljZS4gQXMgd2UgbWlncmF0ZSBtb3JlIHRoaW5ncyB0byB0aGUgbmV3CiAqIHBsYXRmb3JtIHRoZSBDb3JlU3lzdGVtIHdpbGwgZ2V0IG1hbnkgbW9yZSBTZXJ2aWNlcy4KICoKICogQGludGVybmFsCiAqLwoKCnZhciBDb3JlU3lzdGVtID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQ29yZVN5c3RlbShwYXJhbXMpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvcmVTeXN0ZW0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZmF0YWxFcnJvcnMiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiaW5qZWN0ZWRNZXRhZGF0YSIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJsZWdhY3kiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAibm90aWZpY2F0aW9ucyIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJodHRwIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInNhdmVkT2JqZWN0cyIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ1aVNldHRpbmdzIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImNocm9tZSIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJpMThuIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIm92ZXJsYXkiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAicGx1Z2lucyIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJhcHBsaWNhdGlvbiIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJkb2NMaW5rcyIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJyZW5kZXJpbmciLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiY29udGV4dCIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJpbnRlZ3JhdGlvbnMiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAicm9vdERvbUVsZW1lbnQiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiY29yZUNvbnRleHQiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZmF0YWxFcnJvcnNTZXR1cCIsIG51bGwpOwoKICAgIHZhciByb290RG9tRWxlbWVudCA9IHBhcmFtcy5yb290RG9tRWxlbWVudCwKICAgICAgICBicm93c2VyU3VwcG9ydHNDc3AgPSBwYXJhbXMuYnJvd3NlclN1cHBvcnRzQ3NwLAogICAgICAgIGluamVjdGVkTWV0YWRhdGEgPSBwYXJhbXMuaW5qZWN0ZWRNZXRhZGF0YSwKICAgICAgICByZXF1aXJlTGVnYWN5RmlsZXMgPSBwYXJhbXMucmVxdWlyZUxlZ2FjeUZpbGVzLAogICAgICAgIHVzZUxlZ2FjeVRlc3RIYXJuZXNzID0gcGFyYW1zLnVzZUxlZ2FjeVRlc3RIYXJuZXNzOwogICAgdGhpcy5yb290RG9tRWxlbWVudCA9IHJvb3REb21FbGVtZW50OwogICAgdGhpcy5pMThuID0gbmV3IF9pMThuLkkxOG5TZXJ2aWNlKCk7CiAgICB0aGlzLmluamVjdGVkTWV0YWRhdGEgPSBuZXcgX2luamVjdGVkX21ldGFkYXRhLkluamVjdGVkTWV0YWRhdGFTZXJ2aWNlKHsKICAgICAgaW5qZWN0ZWRNZXRhZGF0YTogaW5qZWN0ZWRNZXRhZGF0YQogICAgfSk7CiAgICB0aGlzLmZhdGFsRXJyb3JzID0gbmV3IF9mYXRhbF9lcnJvcnMuRmF0YWxFcnJvcnNTZXJ2aWNlKHJvb3REb21FbGVtZW50LCBmdW5jdGlvbiAoKSB7CiAgICAgIC8vIFN0b3AgQ29yZSBiZWZvcmUgcmVuZGVyaW5nIGFueSBmYXRhbCBlcnJvcnMgaW50byB0aGUgRE9NCiAgICAgIF90aGlzLnN0b3AoKTsKICAgIH0pOwogICAgdGhpcy5ub3RpZmljYXRpb25zID0gbmV3IF9ub3RpZmljYXRpb25zMi5Ob3RpZmljYXRpb25zU2VydmljZSgpOwogICAgdGhpcy5odHRwID0gbmV3IF9odHRwMi5IdHRwU2VydmljZSgpOwogICAgdGhpcy5zYXZlZE9iamVjdHMgPSBuZXcgX3NhdmVkX29iamVjdHMuU2F2ZWRPYmplY3RzU2VydmljZSgpOwogICAgdGhpcy51aVNldHRpbmdzID0gbmV3IF91aV9zZXR0aW5ncy5VaVNldHRpbmdzU2VydmljZSgpOwogICAgdGhpcy5vdmVybGF5ID0gbmV3IF9vdmVybGF5cy5PdmVybGF5U2VydmljZSgpOwogICAgdGhpcy5jaHJvbWUgPSBuZXcgX2Nocm9tZS5DaHJvbWVTZXJ2aWNlKHsKICAgICAgYnJvd3NlclN1cHBvcnRzQ3NwOiBicm93c2VyU3VwcG9ydHNDc3AKICAgIH0pOwogICAgdGhpcy5kb2NMaW5rcyA9IG5ldyBfZG9jX2xpbmtzLkRvY0xpbmtzU2VydmljZSgpOwogICAgdGhpcy5yZW5kZXJpbmcgPSBuZXcgX3JlbmRlcmluZy5SZW5kZXJpbmdTZXJ2aWNlKCk7CiAgICB0aGlzLmFwcGxpY2F0aW9uID0gbmV3IF9hcHBsaWNhdGlvbjIuQXBwbGljYXRpb25TZXJ2aWNlKCk7CiAgICB0aGlzLmludGVncmF0aW9ucyA9IG5ldyBfaW50ZWdyYXRpb25zLkludGVncmF0aW9uc1NlcnZpY2UoKTsKICAgIHRoaXMuY29yZUNvbnRleHQgPSB7CiAgICAgIGNvcmVJZDogU3ltYm9sKCdjb3JlJyksCiAgICAgIGVudjogaW5qZWN0ZWRNZXRhZGF0YS5lbnYKICAgIH07CiAgICB0aGlzLmNvbnRleHQgPSBuZXcgX2NvbnRleHQzLkNvbnRleHRTZXJ2aWNlKHRoaXMuY29yZUNvbnRleHQpOwogICAgdGhpcy5wbHVnaW5zID0gbmV3IF9wbHVnaW5zMi5QbHVnaW5zU2VydmljZSh0aGlzLmNvcmVDb250ZXh0LCBpbmplY3RlZE1ldGFkYXRhLnVpUGx1Z2lucyk7CiAgICB0aGlzLmxlZ2FjeSA9IG5ldyBfbGVnYWN5LkxlZ2FjeVBsYXRmb3JtU2VydmljZSh7CiAgICAgIHJlcXVpcmVMZWdhY3lGaWxlczogcmVxdWlyZUxlZ2FjeUZpbGVzLAogICAgICB1c2VMZWdhY3lUZXN0SGFybmVzczogdXNlTGVnYWN5VGVzdEhhcm5lc3MKICAgIH0pOwogIH0KCiAgX2NyZWF0ZUNsYXNzKENvcmVTeXN0ZW0sIFt7CiAgICBrZXk6ICJzZXR1cCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICAgIHZhciBpbmplY3RlZE1ldGFkYXRhLCBodHRwLCB1aVNldHRpbmdzLCBub3RpZmljYXRpb25zLCBwbHVnaW5EZXBlbmRlbmNpZXMsIGNvbnRleHQsIGFwcGxpY2F0aW9uLCBjb3JlLCBwbHVnaW5zOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHNldHVwJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsgLy8gU2V0dXAgRmF0YWxFcnJvcnNTZXJ2aWNlIGFuZCBpdCdzIGRlcGVuZGVuY2llcyBmaXJzdCBzbyB0aGF0IHdlJ3JlCiAgICAgICAgICAgICAgLy8gYWJsZSB0byByZW5kZXIgYW55IGVycm9ycy4KCiAgICAgICAgICAgICAgaW5qZWN0ZWRNZXRhZGF0YSA9IHRoaXMuaW5qZWN0ZWRNZXRhZGF0YS5zZXR1cCgpOwogICAgICAgICAgICAgIHRoaXMuZmF0YWxFcnJvcnNTZXR1cCA9IHRoaXMuZmF0YWxFcnJvcnMuc2V0dXAoewogICAgICAgICAgICAgICAgaW5qZWN0ZWRNZXRhZGF0YTogaW5qZWN0ZWRNZXRhZGF0YSwKICAgICAgICAgICAgICAgIGkxOG46IHRoaXMuaTE4bi5nZXRDb250ZXh0KCkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuaW50ZWdyYXRpb25zLnNldHVwKCkpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGh0dHAgPSB0aGlzLmh0dHAuc2V0dXAoewogICAgICAgICAgICAgICAgaW5qZWN0ZWRNZXRhZGF0YTogaW5qZWN0ZWRNZXRhZGF0YSwKICAgICAgICAgICAgICAgIGZhdGFsRXJyb3JzOiB0aGlzLmZhdGFsRXJyb3JzU2V0dXAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB1aVNldHRpbmdzID0gdGhpcy51aVNldHRpbmdzLnNldHVwKHsKICAgICAgICAgICAgICAgIGh0dHA6IGh0dHAsCiAgICAgICAgICAgICAgICBpbmplY3RlZE1ldGFkYXRhOiBpbmplY3RlZE1ldGFkYXRhCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgbm90aWZpY2F0aW9ucyA9IHRoaXMubm90aWZpY2F0aW9ucy5zZXR1cCh7CiAgICAgICAgICAgICAgICB1aVNldHRpbmdzOiB1aVNldHRpbmdzCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgcGx1Z2luRGVwZW5kZW5jaWVzID0gdGhpcy5wbHVnaW5zLmdldE9wYXF1ZUlkcygpOwogICAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLmNvbnRleHQuc2V0dXAoewogICAgICAgICAgICAgICAgLy8gV2UgaW5qZWN0IGEgZmFrZSAibGVnYWN5IHBsdWdpbiIgd2l0aCBkZXBlbmRlbmNpZXMgb24gZXZlcnkgcGx1Z2luIHNvIHRoYXQgbGVnYWN5IHBsdWdpbnM6CiAgICAgICAgICAgICAgICAvLyAxKSBDYW4gYWNjZXNzIGNvbnRleHQgZnJvbSBhbnkgTlAgcGx1Z2luCiAgICAgICAgICAgICAgICAvLyAyKSBDYW4gcmVnaXN0ZXIgY29udGV4dCBwcm92aWRlcnMgdGhhdCB3aWxsIG9ubHkgYmUgYXZhaWxhYmxlIHRvIG90aGVyIGxlZ2FjeSBwbHVnaW5zIGFuZCB3aWxsIG5vdCBsZWFrIGludG8KICAgICAgICAgICAgICAgIC8vICAgIE5ldyBQbGF0Zm9ybSBwbHVnaW5zLgogICAgICAgICAgICAgICAgcGx1Z2luRGVwZW5kZW5jaWVzOiBuZXcgTWFwKFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGx1Z2luRGVwZW5kZW5jaWVzKSwgW1t0aGlzLmxlZ2FjeS5sZWdhY3lJZCwgX3RvQ29uc3VtYWJsZUFycmF5KHBsdWdpbkRlcGVuZGVuY2llcy5rZXlzKCkpXV0pKQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGFwcGxpY2F0aW9uID0gdGhpcy5hcHBsaWNhdGlvbi5zZXR1cCh7CiAgICAgICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LAogICAgICAgICAgICAgICAgaHR0cDogaHR0cCwKICAgICAgICAgICAgICAgIGluamVjdGVkTWV0YWRhdGE6IGluamVjdGVkTWV0YWRhdGEKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb3JlID0gewogICAgICAgICAgICAgICAgYXBwbGljYXRpb246IGFwcGxpY2F0aW9uLAogICAgICAgICAgICAgICAgY29udGV4dDogY29udGV4dCwKICAgICAgICAgICAgICAgIGZhdGFsRXJyb3JzOiB0aGlzLmZhdGFsRXJyb3JzU2V0dXAsCiAgICAgICAgICAgICAgICBodHRwOiBodHRwLAogICAgICAgICAgICAgICAgaW5qZWN0ZWRNZXRhZGF0YTogaW5qZWN0ZWRNZXRhZGF0YSwKICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IG5vdGlmaWNhdGlvbnMsCiAgICAgICAgICAgICAgICB1aVNldHRpbmdzOiB1aVNldHRpbmdzCiAgICAgICAgICAgICAgfTsgLy8gU2VydmljZXMgdGhhdCBkbyBub3QgZXhwb3NlIGNvbnRyYWN0cyBhdCBzZXR1cAoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLnBsdWdpbnMuc2V0dXAoY29yZSkpOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBwbHVnaW5zID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLmxlZ2FjeS5zZXR1cCh7CiAgICAgICAgICAgICAgICBjb3JlOiBjb3JlLAogICAgICAgICAgICAgICAgcGx1Z2luczogKDAsIF91dGlscy5tYXBUb09iamVjdCkocGx1Z2lucy5jb250cmFjdHMpCiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICBmYXRhbEVycm9yczogdGhpcy5mYXRhbEVycm9yc1NldHVwCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMDsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICBpZiAodGhpcy5mYXRhbEVycm9yc1NldHVwKSB7CiAgICAgICAgICAgICAgICB0aGlzLmZhdGFsRXJyb3JzU2V0dXAuYWRkKF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gSWYgdGhlIEZhdGFsRXJyb3JzU2VydmljZSBoYXMgbm90IHlldCBiZWVuIHNldHVwLCBsb2cgZXJyb3IgdG8gY29uc29sZQogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzLCBbWzAsIDIwXV0pOwogICAgfQogIH0sIHsKICAgIGtleTogInN0YXJ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgdmFyIF9pbmplY3RlZE1ldGFkYXRhLCBfdWlTZXR0aW5ncywgZG9jTGlua3MsIF9odHRwLCBzYXZlZE9iamVjdHMsIGkxOG4sIGNvcmVVaVRhcmdldERvbUVsZW1lbnQsIG5vdGlmaWNhdGlvbnNUYXJnZXREb21FbGVtZW50LCBvdmVybGF5VGFyZ2V0RG9tRWxlbWVudCwgb3ZlcmxheXMsIF9ub3RpZmljYXRpb25zLCBfYXBwbGljYXRpb24sIGNocm9tZSwgX2NvcmUsIF9wbHVnaW5zLCByZW5kZXJpbmc7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHN0YXJ0JChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAodGhpcy5pbmplY3RlZE1ldGFkYXRhLnN0YXJ0KCkpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9pbmplY3RlZE1ldGFkYXRhID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAodGhpcy51aVNldHRpbmdzLnN0YXJ0KCkpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF91aVNldHRpbmdzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAodGhpcy5kb2NMaW5rcy5zdGFydCh7CiAgICAgICAgICAgICAgICBpbmplY3RlZE1ldGFkYXRhOiBfaW5qZWN0ZWRNZXRhZGF0YQogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBkb2NMaW5rcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLmh0dHAuc3RhcnQoKSk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9odHRwID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuc2F2ZWRPYmplY3RzLnN0YXJ0KHsKICAgICAgICAgICAgICAgIGh0dHA6IF9odHRwCiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBzYXZlZE9iamVjdHMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE4OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAodGhpcy5pMThuLnN0YXJ0KCkpOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBpMThuID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuaW50ZWdyYXRpb25zLnN0YXJ0KHsKICAgICAgICAgICAgICAgIHVpU2V0dGluZ3M6IF91aVNldHRpbmdzCiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBjb3JlVWlUYXJnZXREb21FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgY29yZVVpVGFyZ2V0RG9tRWxlbWVudC5pZCA9ICdraWJhbmEtYm9keSc7CiAgICAgICAgICAgICAgbm90aWZpY2F0aW9uc1RhcmdldERvbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICBvdmVybGF5VGFyZ2V0RG9tRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgIG92ZXJsYXlzID0gdGhpcy5vdmVybGF5LnN0YXJ0KHsKICAgICAgICAgICAgICAgIGkxOG46IGkxOG4sCiAgICAgICAgICAgICAgICB0YXJnZXREb21FbGVtZW50OiBvdmVybGF5VGFyZ2V0RG9tRWxlbWVudCwKICAgICAgICAgICAgICAgIHVpU2V0dGluZ3M6IF91aVNldHRpbmdzCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyODsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMubm90aWZpY2F0aW9ucy5zdGFydCh7CiAgICAgICAgICAgICAgICBpMThuOiBpMThuLAogICAgICAgICAgICAgICAgb3ZlcmxheXM6IG92ZXJsYXlzLAogICAgICAgICAgICAgICAgdGFyZ2V0RG9tRWxlbWVudDogbm90aWZpY2F0aW9uc1RhcmdldERvbUVsZW1lbnQKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgIF9ub3RpZmljYXRpb25zID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuYXBwbGljYXRpb24uc3RhcnQoewogICAgICAgICAgICAgICAgaHR0cDogX2h0dHAsCiAgICAgICAgICAgICAgICBvdmVybGF5czogb3ZlcmxheXMKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgIF9hcHBsaWNhdGlvbiA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzQ7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLmNocm9tZS5zdGFydCh7CiAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbjogX2FwcGxpY2F0aW9uLAogICAgICAgICAgICAgICAgZG9jTGlua3M6IGRvY0xpbmtzLAogICAgICAgICAgICAgICAgaHR0cDogX2h0dHAsCiAgICAgICAgICAgICAgICBpbmplY3RlZE1ldGFkYXRhOiBfaW5qZWN0ZWRNZXRhZGF0YSwKICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IF9ub3RpZmljYXRpb25zCiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAzNDoKICAgICAgICAgICAgICBjaHJvbWUgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgX2FwcGxpY2F0aW9uLnJlZ2lzdGVyTW91bnRDb250ZXh0KHRoaXMuY29yZUNvbnRleHQuY29yZUlkLCAnY29yZScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uOiAoMCwgX3V0aWxzLnBpY2spKF9hcHBsaWNhdGlvbiwgWydjYXBhYmlsaXRpZXMnLCAnbmF2aWdhdGVUb0FwcCddKSwKICAgICAgICAgICAgICAgICAgY2hyb21lOiBjaHJvbWUsCiAgICAgICAgICAgICAgICAgIGRvY0xpbmtzOiBkb2NMaW5rcywKICAgICAgICAgICAgICAgICAgaHR0cDogX2h0dHAsCiAgICAgICAgICAgICAgICAgIGkxOG46IGkxOG4sCiAgICAgICAgICAgICAgICAgIGluamVjdGVkTWV0YWRhdGE6ICgwLCBfdXRpbHMucGljaykoX2luamVjdGVkTWV0YWRhdGEsIFsnZ2V0SW5qZWN0ZWRWYXInXSksCiAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IF9ub3RpZmljYXRpb25zLAogICAgICAgICAgICAgICAgICBvdmVybGF5czogb3ZlcmxheXMsCiAgICAgICAgICAgICAgICAgIHNhdmVkT2JqZWN0czogc2F2ZWRPYmplY3RzLAogICAgICAgICAgICAgICAgICB1aVNldHRpbmdzOiBfdWlTZXR0aW5ncwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX2NvcmUgPSB7CiAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbjogX2FwcGxpY2F0aW9uLAogICAgICAgICAgICAgICAgY2hyb21lOiBjaHJvbWUsCiAgICAgICAgICAgICAgICBkb2NMaW5rczogZG9jTGlua3MsCiAgICAgICAgICAgICAgICBodHRwOiBfaHR0cCwKICAgICAgICAgICAgICAgIHNhdmVkT2JqZWN0czogc2F2ZWRPYmplY3RzLAogICAgICAgICAgICAgICAgaTE4bjogaTE4biwKICAgICAgICAgICAgICAgIGluamVjdGVkTWV0YWRhdGE6IF9pbmplY3RlZE1ldGFkYXRhLAogICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uczogX25vdGlmaWNhdGlvbnMsCiAgICAgICAgICAgICAgICBvdmVybGF5czogb3ZlcmxheXMsCiAgICAgICAgICAgICAgICB1aVNldHRpbmdzOiBfdWlTZXR0aW5ncwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMucGx1Z2lucy5zdGFydChfY29yZSkpOwoKICAgICAgICAgICAgY2FzZSAzOToKICAgICAgICAgICAgICBfcGx1Z2lucyA9IF9jb250ZXh0Mi5zZW50OyAvLyBlbnN1cmUgdGhlIHJvb3REb21FbGVtZW50IGlzIGVtcHR5CgogICAgICAgICAgICAgIHRoaXMucm9vdERvbUVsZW1lbnQudGV4dENvbnRlbnQgPSAnJzsKICAgICAgICAgICAgICB0aGlzLnJvb3REb21FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NvcmVTeXN0ZW1Sb290RG9tRWxlbWVudCcpOwogICAgICAgICAgICAgIHRoaXMucm9vdERvbUVsZW1lbnQuYXBwZW5kQ2hpbGQoY29yZVVpVGFyZ2V0RG9tRWxlbWVudCk7CiAgICAgICAgICAgICAgdGhpcy5yb290RG9tRWxlbWVudC5hcHBlbmRDaGlsZChub3RpZmljYXRpb25zVGFyZ2V0RG9tRWxlbWVudCk7CiAgICAgICAgICAgICAgdGhpcy5yb290RG9tRWxlbWVudC5hcHBlbmRDaGlsZChvdmVybGF5VGFyZ2V0RG9tRWxlbWVudCk7CiAgICAgICAgICAgICAgcmVuZGVyaW5nID0gdGhpcy5yZW5kZXJpbmcuc3RhcnQoewogICAgICAgICAgICAgICAgYXBwbGljYXRpb246IF9hcHBsaWNhdGlvbiwKICAgICAgICAgICAgICAgIGNocm9tZTogY2hyb21lLAogICAgICAgICAgICAgICAgaW5qZWN0ZWRNZXRhZGF0YTogX2luamVjdGVkTWV0YWRhdGEsCiAgICAgICAgICAgICAgICBvdmVybGF5czogb3ZlcmxheXMsCiAgICAgICAgICAgICAgICB0YXJnZXREb21FbGVtZW50OiBjb3JlVWlUYXJnZXREb21FbGVtZW50CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0ODsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMubGVnYWN5LnN0YXJ0KHsKICAgICAgICAgICAgICAgIGNvcmU6IF9jb3JlLAogICAgICAgICAgICAgICAgcGx1Z2luczogKDAsIF91dGlscy5tYXBUb09iamVjdCkoX3BsdWdpbnMuY29udHJhY3RzKSwKICAgICAgICAgICAgICAgIHRhcmdldERvbUVsZW1lbnQ6IHJlbmRlcmluZy5sZWdhY3lUYXJnZXREb21FbGVtZW50CiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSA0ODoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDUzOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA1MDoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDUwOwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgaWYgKHRoaXMuZmF0YWxFcnJvcnNTZXR1cCkgewogICAgICAgICAgICAgICAgdGhpcy5mYXRhbEVycm9yc1NldHVwLmFkZChfY29udGV4dDIudDApOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgRmF0YWxFcnJvcnNTZXJ2aWNlIGhhcyBub3QgeWV0IGJlZW4gc2V0dXAsIGxvZyBlcnJvciB0byBjb25zb2xlCiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dDIudDApOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzLCBbWzAsIDUwXV0pOwogICAgfQogIH0sIHsKICAgIGtleTogInN0b3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIHRoaXMubGVnYWN5LnN0b3AoKTsKICAgICAgdGhpcy5wbHVnaW5zLnN0b3AoKTsKICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnN0b3AoKTsKICAgICAgdGhpcy5odHRwLnN0b3AoKTsKICAgICAgdGhpcy5pbnRlZ3JhdGlvbnMuc3RvcCgpOwogICAgICB0aGlzLnVpU2V0dGluZ3Muc3RvcCgpOwogICAgICB0aGlzLmNocm9tZS5zdG9wKCk7CiAgICAgIHRoaXMuaTE4bi5zdG9wKCk7CiAgICAgIHRoaXMuYXBwbGljYXRpb24uc3RvcCgpOwogICAgICB0aGlzLnJvb3REb21FbGVtZW50LnRleHRDb250ZW50ID0gJyc7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQ29yZVN5c3RlbTsKfSgpOwoKZXhwb3J0cy5Db3JlU3lzdGVtID0gQ29yZVN5c3RlbTs="},null]}