{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/spaces/public/management/components/confirm_delete_modal/confirm_delete_modal.js","dependencies":[{"path":"x-pack/legacy/plugins/spaces/public/management/components/confirm_delete_modal/confirm_delete_modal.js","mtime":1585205048323},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuQ29uZmlybURlbGV0ZU1vZGFsID0gdm9pZCAwOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfcmVhY3QgPSByZXF1aXJlKCJAa2JuL2kxOG4vcmVhY3QiKTsKCnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgX3R5cGVvZjIoU3ltYm9sLml0ZXJhdG9yKSA9PT0gInN5bWJvbCIpIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gX3R5cGVvZjIob2JqKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiBfdHlwZW9mMihvYmopOwogICAgfTsKICB9CgogIHJldHVybiBfdHlwZW9mKG9iaik7Cn0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgfQp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOwogIH0KfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICByZXR1cm4gQ29uc3RydWN0b3I7Cn0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsKICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7CiAgICByZXR1cm4gY2FsbDsKICB9CgogIHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOwp9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgewogIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7CiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOwogIH07CiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsKfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7CiAgaWYgKHNlbGYgPT09IHZvaWQgMCkgewogICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsKICB9CgogIHJldHVybiBzZWxmOwp9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsKICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsKICB9CgogIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgewogICAgY29uc3RydWN0b3I6IHsKICAgICAgdmFsdWU6IHN1YkNsYXNzLAogICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICB9CiAgfSk7CiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7Cn0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgICBvLl9fcHJvdG9fXyA9IHA7CiAgICByZXR1cm4gbzsKICB9OwoKICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOwp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKdmFyIENvbmZpcm1EZWxldGVNb2RhbFVJID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhDb25maXJtRGVsZXRlTW9kYWxVSSwgX0NvbXBvbmVudCk7CgogIGZ1bmN0aW9uIENvbmZpcm1EZWxldGVNb2RhbFVJKCkgewogICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7CgogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb25maXJtRGVsZXRlTW9kYWxVSSk7CgogICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICB9CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2dldFByb3RvdHlwZU9mMiA9IF9nZXRQcm90b3R5cGVPZihDb25maXJtRGVsZXRlTW9kYWxVSSkpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInN0YXRlIiwgewogICAgICBjb25maXJtU3BhY2VOYW1lOiAnJywKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIGRlbGV0ZUluUHJvZ3Jlc3M6IGZhbHNlLAogICAgICBpc0RlbGV0aW5nQ3VycmVudFNwYWNlOiBmYWxzZQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25TcGFjZU5hbWVDaGFuZ2UiLCBmdW5jdGlvbiAoZSkgewogICAgICBpZiAodHlwZW9mIF90aGlzLnN0YXRlLmVycm9yID09PSAnYm9vbGVhbicpIHsKICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBjb25maXJtU3BhY2VOYW1lOiBlLnRhcmdldC52YWx1ZSwKICAgICAgICAgIGVycm9yOiBlLnRhcmdldC52YWx1ZSAhPT0gX3RoaXMucHJvcHMuc3BhY2UubmFtZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgIGNvbmZpcm1TcGFjZU5hbWU6IGUudGFyZ2V0LnZhbHVlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9uQ29uZmlybSIsIGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBuZWVkc1JlZGlyZWN0LCBzcGFjZXNNYW5hZ2VyOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghKF90aGlzLnN0YXRlLmNvbmZpcm1TcGFjZU5hbWUgPT09IF90aGlzLnByb3BzLnNwYWNlLm5hbWUpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIG5lZWRzUmVkaXJlY3QgPSBfdGhpcy5zdGF0ZS5pc0RlbGV0aW5nQ3VycmVudFNwYWNlOwogICAgICAgICAgICAgIHNwYWNlc01hbmFnZXIgPSBfdGhpcy5wcm9wcy5zcGFjZXNNYW5hZ2VyOwoKICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBkZWxldGVJblByb2dyZXNzOiB0cnVlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoX3RoaXMucHJvcHMub25Db25maXJtKCkpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIGRlbGV0ZUluUHJvZ3Jlc3M6IGZhbHNlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGlmIChuZWVkc1JlZGlyZWN0KSB7CiAgICAgICAgICAgICAgICBzcGFjZXNNYW5hZ2VyLnJlZGlyZWN0VG9TcGFjZVNlbGVjdG9yKCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIGVycm9yOiB0cnVlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhDb25maXJtRGVsZXRlTW9kYWxVSSwgW3sKICAgIGtleTogImNvbXBvbmVudERpZE1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpc0N1cnJlbnRTcGFjZSh0aGlzLnByb3BzLnNwYWNlLCB0aGlzLnByb3BzLnNwYWNlc01hbmFnZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7CiAgICAgICAgICBpc0RlbGV0aW5nQ3VycmVudFNwYWNlOiByZXN1bHQKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsCiAgICAgICAgICBzcGFjZSA9IF90aGlzJHByb3BzLnNwYWNlLAogICAgICAgICAgb25DYW5jZWwgPSBfdGhpcyRwcm9wcy5vbkNhbmNlbCwKICAgICAgICAgIGludGwgPSBfdGhpcyRwcm9wcy5pbnRsOwogICAgICB2YXIgaXNEZWxldGluZ0N1cnJlbnRTcGFjZSA9IHRoaXMuc3RhdGUuaXNEZWxldGluZ0N1cnJlbnRTcGFjZTsKICAgICAgdmFyIHdhcm5pbmcgPSBudWxsOwoKICAgICAgaWYgKGlzRGVsZXRpbmdDdXJyZW50U3BhY2UpIHsKICAgICAgICB2YXIgbmFtZSA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgIigiLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgc3BhY2UubmFtZSksICIpIik7CgogICAgICAgIHdhcm5pbmcgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLmRlZmF1bHQuRnJhZ21lbnQsIG51bGwsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCBudWxsKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlDYWxsT3V0LCB7CiAgICAgICAgICBjb2xvcjogIndhcm5pbmciCiAgICAgICAgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUZXh0LCBudWxsLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ4cGFjay5zcGFjZXMubWFuYWdlbWVudC5jb25maXJtRGVsZXRlTW9kYWwucmVkaXJlY3RBZnRlckRlbGV0aW5nQ3VycmVudFNwYWNlV2FybmluZ01lc3NhZ2UiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJZb3UgYXJlIGFib3V0IHRvIGRlbGV0ZSB5b3VyIGN1cnJlbnQgc3BhY2Uge25hbWV9LiBZb3Ugd2lsbCBiZSByZWRpcmVjdGVkIHRvIGNob29zZSBhIGRpZmZlcmVudCBzcGFjZSBpZiB5b3UgY29udGludWUuIiwKICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICBuYW1lOiBuYW1lCiAgICAgICAgICB9CiAgICAgICAgfSkpKSk7CiAgICAgIH0gLy8gVGhpcyBpcyBsYXJnZWx5IHRoZSBzYW1lIGFzIHRoZSBidWlsdC1pbiBFdWlDb25maXJtTW9kYWwgY29tcG9uZW50LCBidXQgd2UgbmVlZGVkIHRoZSBhYmlsaXR5CiAgICAgIC8vIHRvIGRpc2FibGUgdGhlIGJ1dHRvbnMgc2luY2UgdGhpcyBjb3VsZCBiZSBhIGxvbmctcnVubmluZyBvcGVyYXRpb24KCgogICAgICB2YXIgbW9kYWxQcm9wcyA9IHsKICAgICAgICBvbkNsb3NlOiBvbkNhbmNlbCwKICAgICAgICBjbGFzc05hbWU6ICdzcGNDb25maXJtRGVsZXRlTW9kYWwnLAogICAgICAgIGluaXRpYWxGb2N1czogJ2lucHV0W25hbWU9ImNvbmZpcm1EZWxldGVTcGFjZUlucHV0Il0nCiAgICAgIH07CiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU92ZXJsYXlNYXNrLCBudWxsLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU1vZGFsLCBtb2RhbFByb3BzLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU1vZGFsSGVhZGVyLCBudWxsLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU1vZGFsSGVhZGVyVGl0bGUsIHsKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiY29uZmlybU1vZGFsVGl0bGVUZXh0IgogICAgICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAieHBhY2suc3BhY2VzLm1hbmFnZW1lbnQuY29uZmlybURlbGV0ZU1vZGFsLmNvbmZpcm1EZWxldGVTcGFjZUJ1dHRvbkxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkRlbGV0ZSBzcGFjZSB7c3BhY2VOYW1lfSIsCiAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICBzcGFjZU5hbWU6ICInIiArIHNwYWNlLm5hbWUgKyAiJyIKICAgICAgICB9CiAgICAgIH0pKSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTW9kYWxCb2R5LCBudWxsLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRleHQsIHsKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiY29uZmlybU1vZGFsQm9keVRleHQiCiAgICAgIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInhwYWNrLnNwYWNlcy5tYW5hZ2VtZW50LmNvbmZpcm1EZWxldGVNb2RhbC5kZWxldGluZ1NwYWNlV2FybmluZ01lc3NhZ2UiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRGVsZXRpbmcgYSBzcGFjZSBwZXJtYW5lbnRseSByZW1vdmVzIHRoZSBzcGFjZSBhbmQge2FsbENvbnRlbnRzfS4gWW91IGNhbid0IHVuZG8gdGhpcyBhY3Rpb24uIiwKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIGFsbENvbnRlbnRzOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgICAgaWQ6ICJ4cGFjay5zcGFjZXMubWFuYWdlbWVudC5jb25maXJtRGVsZXRlTW9kYWwuYWxsQ29udGVudHNUZXh0IiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJhbGwgb2YgaXRzIGNvbnRlbnRzIgogICAgICAgICAgfSkpCiAgICAgICAgfQogICAgICB9KSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgICAgIGxhYmVsOiBpbnRsLmZvcm1hdE1lc3NhZ2UoewogICAgICAgICAgaWQ6ICd4cGFjay5zcGFjZXMubWFuYWdlbWVudC5jb25maXJtRGVsZXRlTW9kYWwuY29uZmlybVNwYWNlTmFtZUZvcm1Sb3dMYWJlbCcsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0NvbmZpcm0gc3BhY2UgbmFtZSB0byBkZWxldGUnCiAgICAgICAgfSksCiAgICAgICAgaXNJbnZhbGlkOiAhIXRoaXMuc3RhdGUuZXJyb3IsCiAgICAgICAgZXJyb3I6IGludGwuZm9ybWF0TWVzc2FnZSh7CiAgICAgICAgICBpZDogJ3hwYWNrLnNwYWNlcy5tYW5hZ2VtZW50LmNvbmZpcm1EZWxldGVNb2RhbC5zcGFjZU5hbWVzRG9Ob01hdGNoRXJyb3JNZXNzYWdlJywKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU3BhY2UgbmFtZXMgZG8gbm90IG1hdGNoLicKICAgICAgICB9KQogICAgICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZpZWxkVGV4dCwgewogICAgICAgIG5hbWU6ICJjb25maXJtRGVsZXRlU3BhY2VJbnB1dCIsCiAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuY29uZmlybVNwYWNlTmFtZSwKICAgICAgICBvbkNoYW5nZTogdGhpcy5vblNwYWNlTmFtZUNoYW5nZSwKICAgICAgICBkaXNhYmxlZDogdGhpcy5zdGF0ZS5kZWxldGVJblByb2dyZXNzCiAgICAgIH0pKSwgd2FybmluZykpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU1vZGFsRm9vdGVyLCBudWxsLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImNvbmZpcm1Nb2RhbENhbmNlbEJ1dHRvbiIsCiAgICAgICAgb25DbGljazogb25DYW5jZWwsCiAgICAgICAgaXNEaXNhYmxlZDogdGhpcy5zdGF0ZS5kZWxldGVJblByb2dyZXNzCiAgICAgIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay5zcGFjZXMubWFuYWdlbWVudC5jb25maXJtRGVsZXRlTW9kYWwuY2FuY2VsQnV0dG9uTGFiZWwiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ2FuY2VsIgogICAgICB9KSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uLCB7CiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImNvbmZpcm1Nb2RhbENvbmZpcm1CdXR0b24iLAogICAgICAgIG9uQ2xpY2s6IHRoaXMub25Db25maXJtLAogICAgICAgIGZpbGw6IHRydWUsCiAgICAgICAgY29sb3I6ICdkYW5nZXInLAogICAgICAgIGlzTG9hZGluZzogdGhpcy5zdGF0ZS5kZWxldGVJblByb2dyZXNzCiAgICAgIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay5zcGFjZXMubWFuYWdlbWVudC5jb25maXJtRGVsZXRlTW9kYWwuZGVsZXRlU3BhY2VBbmRBbGxDb250ZW50c0J1dHRvbkxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIiBEZWxldGUgc3BhY2UgYW5kIGFsbCBjb250ZW50cyIKICAgICAgfSkpKSkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENvbmZpcm1EZWxldGVNb2RhbFVJOwp9KF9yZWFjdDIuQ29tcG9uZW50KTsKCmZ1bmN0aW9uIGlzQ3VycmVudFNwYWNlKHNwYWNlLCBzcGFjZXNNYW5hZ2VyKSB7CiAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBpc0N1cnJlbnRTcGFjZSQoX2NvbnRleHQyKSB7CiAgICB3aGlsZSAoMSkgewogICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBfY29udGV4dDIudDAgPSBzcGFjZS5pZDsKICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoc3BhY2VzTWFuYWdlci5nZXRBY3RpdmVTcGFjZSgpKTsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyLnNlbnQuaWQ7CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyLnQwID09PSBfY29udGV4dDIudDEpOwoKICAgICAgICBjYXNlIDU6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICB9CiAgICB9CiAgfSk7Cn0KCnZhciBDb25maXJtRGVsZXRlTW9kYWwgPSAoMCwgX3JlYWN0LmluamVjdEkxOG4pKENvbmZpcm1EZWxldGVNb2RhbFVJKTsKZXhwb3J0cy5Db25maXJtRGVsZXRlTW9kYWwgPSBDb25maXJtRGVsZXRlTW9kYWw7"},null]}