{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/watcher/public/np_ready/application/sections/watch_edit/components/json_watch_edit/json_watch_edit_form.js","dependencies":[{"path":"x-pack/legacy/plugins/watcher/public/np_ready/application/sections/watch_edit/components/json_watch_edit/json_watch_edit_form.js","mtime":1585205048899},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkpzb25XYXRjaEVkaXRGb3JtID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9yZWFjdDIgPSByZXF1aXJlKCJAa2JuL2kxOG4vcmVhY3QiKTsKCnZhciBfc2VyaWFsaXphdGlvbiA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2NvbW1vbi9saWIvc2VyaWFsaXphdGlvbiIpOwoKdmFyIF9jb21wb25lbnRzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vY29tcG9uZW50cyIpOwoKdmFyIF93YXRjaF9lZGl0X2FjdGlvbnMgPSByZXF1aXJlKCIuLi8uLi93YXRjaF9lZGl0X2FjdGlvbnMiKTsKCnZhciBfd2F0Y2hfY29udGV4dCA9IHJlcXVpcmUoIi4uLy4uL3dhdGNoX2NvbnRleHQiKTsKCnZhciBfbmF2aWdhdGlvbiA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2xpYi9uYXZpZ2F0aW9uIik7Cgp2YXIgX3JlcXVlc3RfZmx5b3V0ID0gcmVxdWlyZSgiLi4vcmVxdWVzdF9mbHlvdXQiKTsKCnZhciBfYXBwX2NvbnRleHQgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9hcHBfY29udGV4dCIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7CiAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgewogICAgcmV0dXJuIG9iajsKICB9IGVsc2UgewogICAgdmFyIG5ld09iaiA9IHt9OwoKICAgIGlmIChvYmogIT0gbnVsbCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsKICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OwoKICAgICAgICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBuZXdPYmouZGVmYXVsdCA9IG9iajsKICAgIHJldHVybiBuZXdPYmo7CiAgfQp9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgewogIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gIltvYmplY3QgQXJndW1lbnRzXSIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgewogICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgYXJyMltpXSA9IGFycltpXTsKICAgIH0KCiAgICByZXR1cm4gYXJyMjsKICB9Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgewogIHZhciBfYXJyID0gW107CiAgdmFyIF9uID0gdHJ1ZTsKICB2YXIgX2QgPSBmYWxzZTsKICB2YXIgX2UgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7CiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7CgogICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZCA9IHRydWU7CiAgICBfZSA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgfQogIH0KCiAgcmV0dXJuIF9hcnI7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOwp9Cgp2YXIgSnNvbldhdGNoRWRpdEZvcm0gPSBmdW5jdGlvbiBKc29uV2F0Y2hFZGl0Rm9ybSgpIHsKICB2YXIgX3VzZUFwcENvbnRleHQgPSAoMCwgX2FwcF9jb250ZXh0LnVzZUFwcENvbnRleHQpKCksCiAgICAgIHB1dFdhdGNoQXBpVXJsID0gX3VzZUFwcENvbnRleHQubGlua3MucHV0V2F0Y2hBcGlVcmwsCiAgICAgIHRvYXN0cyA9IF91c2VBcHBDb250ZXh0LnRvYXN0czsKCiAgdmFyIF91c2VDb250ZXh0ID0gKDAsIF9yZWFjdC51c2VDb250ZXh0KShfd2F0Y2hfY29udGV4dC5XYXRjaENvbnRleHQpLAogICAgICB3YXRjaCA9IF91c2VDb250ZXh0LndhdGNoLAogICAgICBzZXRXYXRjaFByb3BlcnR5ID0gX3VzZUNvbnRleHQuc2V0V2F0Y2hQcm9wZXJ0eTsKCiAgdmFyIF93YXRjaCR2YWxpZGF0ZSA9IHdhdGNoLnZhbGlkYXRlKCksCiAgICAgIGVycm9ycyA9IF93YXRjaCR2YWxpZGF0ZS5lcnJvcnM7CgogIHZhciBoYXNFcnJvcnMgPSAhIU9iamVjdC5rZXlzKGVycm9ycykuZmluZChmdW5jdGlvbiAoZXJyb3JLZXkpIHsKICAgIHJldHVybiBlcnJvcnNbZXJyb3JLZXldLmxlbmd0aCA+PSAxOwogIH0pOwoKICB2YXIgX3VzZVN0YXRlID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkobnVsbCksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICB2YWxpZGF0aW9uRXJyb3IgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRWYWxpZGF0aW9uRXJyb3IgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBpc1JlcXVlc3RWaXNpYmxlID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0SXNSZXF1ZXN0VmlzaWJsZSA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBfdXNlU3RhdGU1ID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkobnVsbCksCiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSwKICAgICAgc2VydmVyRXJyb3IgPSBfdXNlU3RhdGU2WzBdLAogICAgICBzZXRTZXJ2ZXJFcnJvciA9IF91c2VTdGF0ZTZbMV07CgogIHZhciBfdXNlU3RhdGU3ID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoZmFsc2UpLAogICAgICBfdXNlU3RhdGU4ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNywgMiksCiAgICAgIGlzU2F2aW5nID0gX3VzZVN0YXRlOFswXSwKICAgICAgc2V0SXNTYXZpbmcgPSBfdXNlU3RhdGU4WzFdOwoKICB2YXIgaGFzQWN0aW9uRXJyb3JzID0gISF2YWxpZGF0aW9uRXJyb3I7CgogIHZhciBpbnZhbGlkQWN0aW9uTWVzc2FnZSA9IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay53YXRjaGVyLnNlY3Rpb25zLndhdGNoRWRpdC5qc29uLmZvcm0uYWN0aW9uVmFsaWRhdGlvbkVycm9yTWVzc2FnZScsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnSW52YWxpZCB3YXRjaCBhY3Rpb25zJwogIH0pOwoKICB2YXIganNvbkVycm9ycyA9IF9vYmplY3RTcHJlYWQoe30sIGVycm9ycywgewogICAganNvbjogaGFzQWN0aW9uRXJyb3JzID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShlcnJvcnMuanNvbiksIFtpbnZhbGlkQWN0aW9uTWVzc2FnZV0pIDogX3RvQ29uc3VtYWJsZUFycmF5KGVycm9ycy5qc29uKQogIH0pOwoKICBpZiAoZXJyb3JzLmpzb24ubGVuZ3RoID09PSAwKSB7CiAgICBzZXRXYXRjaFByb3BlcnR5KCd3YXRjaCcsIEpTT04ucGFyc2Uod2F0Y2gud2F0Y2hTdHJpbmcpKTsKICB9CgogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm0sIHsKICAgIGlzSW52YWxpZDogaGFzQWN0aW9uRXJyb3JzLAogICAgZXJyb3I6IHZhbGlkYXRpb25FcnJvciA/IHZhbGlkYXRpb25FcnJvciA6IFtdLAogICAgImRhdGEtdGVzdC1zdWJqIjogImpzb25XYXRjaEZvcm0iCiAgfSwgc2VydmVyRXJyb3IgJiYgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHMuU2VjdGlvbkVycm9yLCB7CiAgICB0aXRsZTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay53YXRjaGVyLnNlY3Rpb25zLndhdGNoRWRpdC5qc29uLnNhdmVXYXRjaEVycm9yVGl0bGUiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIkVycm9yIHNhdmluZyB3YXRjaCIKICAgIH0pLAogICAgZXJyb3I6IHNlcnZlckVycm9yLAogICAgImRhdGEtdGVzdC1zdWJqIjogInNlY3Rpb25FcnJvciIKICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgbnVsbCkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgaWQ6ICJ3YXRjaE5hbWUiLAogICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay53YXRjaGVyLnNlY3Rpb25zLndhdGNoRWRpdC5qc29uLmZvcm0ud2F0Y2hOYW1lTGFiZWwnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTmFtZSAob3B0aW9uYWwpJwogICAgfSkKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmllbGRUZXh0LCB7CiAgICBpZDogIndhdGNoTmFtZSIsCiAgICBuYW1lOiAibmFtZSIsCiAgICB2YWx1ZTogd2F0Y2gubmFtZSB8fCAnJywKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJuYW1lSW5wdXQiLAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgdmFyIHdhdGNoTmFtZSA9IGUudGFyZ2V0LnZhbHVlOwogICAgICBzZXRXYXRjaFByb3BlcnR5KCduYW1lJywgd2F0Y2hOYW1lKTsKICAgIH0sCiAgICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cigpIHsKICAgICAgaWYgKCF3YXRjaC5uYW1lKSB7CiAgICAgICAgc2V0V2F0Y2hQcm9wZXJ0eSgnbmFtZScsICcnKTsKICAgICAgfQogICAgfQogIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY29tcG9uZW50cy5FcnJhYmxlRm9ybVJvdywgewogICAgaWQ6ICJ3YXRjaElkIiwKICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sud2F0Y2hlci5zZWN0aW9ucy53YXRjaEVkaXQuanNvbi5mb3JtLndhdGNoSURMYWJlbCcsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdJRCcKICAgIH0pLAogICAgZXJyb3JLZXk6ICJpZCIsCiAgICBpc1Nob3dpbmdFcnJvcnM6IGhhc0Vycm9ycyAmJiB3YXRjaC5pZCAhPT0gdW5kZWZpbmVkLAogICAgZXJyb3JzOiBlcnJvcnMKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmllbGRUZXh0LCB7CiAgICBpZDogImlkIiwKICAgIG5hbWU6ICJpZCIsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAiaWRJbnB1dCIsCiAgICB2YWx1ZTogd2F0Y2guaWQgfHwgJycsCiAgICByZWFkT25seTogIXdhdGNoLmlzTmV3LAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgc2V0V2F0Y2hQcm9wZXJ0eSgnaWQnLCBlLnRhcmdldC52YWx1ZSk7CiAgICB9LAogICAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoKSB7CiAgICAgIGlmICghd2F0Y2guaWQpIHsKICAgICAgICBzZXRXYXRjaFByb3BlcnR5KCdpZCcsICcnKTsKICAgICAgfQogICAgfQogIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgc2l6ZTogIm0iCiAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHMuRXJyYWJsZUZvcm1Sb3csIHsKICAgIGlkOiAid2F0Y2hKc29uIiwKICAgIGxhYmVsOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLndhdGNoZXIuc2VjdGlvbnMud2F0Y2hFZGl0Lmpzb24uZm9ybS53YXRjaEpzb25MYWJlbCcsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdXYXRjaCBKU09OJwogICAgfSksICcgJywgIigiLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTGluaywgewogICAgICBocmVmOiBwdXRXYXRjaEFwaVVybCwKICAgICAgdGFyZ2V0OiAiX2JsYW5rIgogICAgfSwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLndhdGNoZXIuc2VjdGlvbnMud2F0Y2hFZGl0Lmpzb24uZm9ybS53YXRjaEpzb25Eb2NMaW5rJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ0FQSSBzeW50YXgnCiAgICB9KSksICIpIiksCiAgICBlcnJvcktleTogImpzb24iLAogICAgaXNTaG93aW5nRXJyb3JzOiBoYXNFcnJvcnMgfHwgaGFzQWN0aW9uRXJyb3JzLAogICAgZnVsbFdpZHRoOiB0cnVlLAogICAgZXJyb3JzOiBqc29uRXJyb3JzCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNvZGVFZGl0b3IsIHsKICAgIG1vZGU6ICJqc29uIiwKICAgIHdpZHRoOiAiMTAwJSIsCiAgICB0aGVtZTogImdpdGh1YiIsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAianNvbkVkaXRvciIsCiAgICAiYXJpYS1sYWJlbCI6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay53YXRjaGVyLnNlY3Rpb25zLndhdGNoRWRpdC5qc29uLmZvcm0ud2F0Y2hKc29uQXJpYUxhYmVsJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ0NvZGUgZWRpdG9yJwogICAgfSksCiAgICB2YWx1ZTogd2F0Y2gud2F0Y2hTdHJpbmcsCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoanNvbikgewogICAgICBpZiAodmFsaWRhdGlvbkVycm9yKSB7CiAgICAgICAgc2V0VmFsaWRhdGlvbkVycm9yKG51bGwpOwogICAgICB9CgogICAgICBzZXRXYXRjaFByb3BlcnR5KCd3YXRjaFN0cmluZycsIGpzb24pOwogICAgfQogIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgbnVsbCksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgIGp1c3RpZnlDb250ZW50OiAic3BhY2VCZXR3ZWVuIiwKICAgIGFsaWduSXRlbXM6ICJjZW50ZXIiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgZ3V0dGVyU2l6ZTogIm0iLAogICAgYWxpZ25JdGVtczogImNlbnRlciIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgImRhdGEtdGVzdC1zdWJqIjogInNhdmVXYXRjaEJ1dHRvbiIsCiAgICBmaWxsOiB0cnVlLAogICAgY29sb3I6ICJzZWNvbmRhcnkiLAogICAgdHlwZTogInN1Ym1pdCIsCiAgICBpY29uVHlwZTogImNoZWNrIiwKICAgIGlzTG9hZGluZzogaXNTYXZpbmcsCiAgICBpc0Rpc2FibGVkOiBoYXNFcnJvcnMsCiAgICBvbkNsaWNrOiBmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgc2F2ZWRXYXRjaCwgZGF0YTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzZXRJc1NhdmluZyh0cnVlKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKCgwLCBfd2F0Y2hfZWRpdF9hY3Rpb25zLm9uV2F0Y2hTYXZlKSh3YXRjaCwgdG9hc3RzKSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgc2F2ZWRXYXRjaCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKHNhdmVkV2F0Y2ggJiYgc2F2ZWRXYXRjaC5lcnJvcikpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZGF0YSA9IHNhdmVkV2F0Y2guZXJyb3IuZGF0YTsKICAgICAgICAgICAgICBzZXRJc1NhdmluZyhmYWxzZSk7CgogICAgICAgICAgICAgIGlmICghKGRhdGEgJiYgZGF0YS5lcnJvciA9PT0gJ3ZhbGlkYXRpb24nKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHNldFZhbGlkYXRpb25FcnJvcihkYXRhLm1lc3NhZ2UpKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBzZXRTZXJ2ZXJFcnJvcihzYXZlZFdhdGNoLmVycm9yKSk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB3YXRjaC5pc05ldyA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBpZDogInhwYWNrLndhdGNoZXIuc2VjdGlvbnMud2F0Y2hFZGl0Lmpzb24uY3JlYXRlQnV0dG9uTGFiZWwiLAogICAgZGVmYXVsdE1lc3NhZ2U6ICJDcmVhdGUgd2F0Y2giCiAgfSkgOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgaWQ6ICJ4cGFjay53YXRjaGVyLnNlY3Rpb25zLndhdGNoRWRpdC5qc29uLnNhdmVCdXR0b25MYWJlbCIsCiAgICBkZWZhdWx0TWVzc2FnZTogIlNhdmUgd2F0Y2giCiAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b25FbXB0eSwgewogICAgImRhdGEtdGVzdC1zdWJqIjogImJ0bkNhbmNlbFdhdGNoIiwKICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgIHJldHVybiAoMCwgX25hdmlnYXRpb24uZ29Ub1dhdGNoTGlzdCkoKTsKICAgIH0KICB9LCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sud2F0Y2hlci5zZWN0aW9ucy53YXRjaEVkaXQuanNvbi5jYW5jZWxCdXR0b25MYWJlbCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnQ2FuY2VsJwogIH0pKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICByZXR1cm4gc2V0SXNSZXF1ZXN0VmlzaWJsZSghaXNSZXF1ZXN0VmlzaWJsZSk7CiAgICB9CiAgfSwgaXNSZXF1ZXN0VmlzaWJsZSA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBpZDogInhwYWNrLndhdGNoZXIuc2VjdGlvbnMud2F0Y2hFZGl0Lmpzb24uaGlkZVJlcXVlc3RCdXR0b25MYWJlbCIsCiAgICBkZWZhdWx0TWVzc2FnZTogIkhpZGUgcmVxdWVzdCIKICB9KSA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBpZDogInhwYWNrLndhdGNoZXIuc2VjdGlvbnMud2F0Y2hFZGl0Lmpzb24uc2hvd1JlcXVlc3RCdXR0b25MYWJlbCIsCiAgICBkZWZhdWx0TWVzc2FnZTogIlNob3cgcmVxdWVzdCIKICB9KSkpKSksIGlzUmVxdWVzdFZpc2libGUgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZXF1ZXN0X2ZseW91dC5SZXF1ZXN0Rmx5b3V0LCB7CiAgICBpZDogd2F0Y2guaWQsCiAgICBwYXlsb2FkOiAoMCwgX3NlcmlhbGl6YXRpb24uc2VyaWFsaXplSnNvbldhdGNoKSh3YXRjaC5uYW1lLCB3YXRjaC53YXRjaCksCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHJldHVybiBzZXRJc1JlcXVlc3RWaXNpYmxlKGZhbHNlKTsKICAgIH0KICB9KSA6IG51bGwpOwp9OwoKZXhwb3J0cy5Kc29uV2F0Y2hFZGl0Rm9ybSA9IEpzb25XYXRjaEVkaXRGb3JtOw=="},null]}