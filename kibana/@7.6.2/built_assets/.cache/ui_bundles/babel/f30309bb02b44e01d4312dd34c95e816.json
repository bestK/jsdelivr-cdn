{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/kibana/public/management/sections/objects/components/objects_table/components/relationships/relationships.js","dependencies":[{"path":"src/legacy/core_plugins/kibana/public/management/sections/objects/components/objects_table/components/relationships/relationships.js","mtime":1585205039843},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlJlbGF0aW9uc2hpcHMgPSB2b2lkIDA7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicHJvcC10eXBlcyIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2Nocm9tZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgidWkvY2hyb21lIikpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7Cgp2YXIgX3JlYWN0MiA9IHJlcXVpcmUoIkBrYm4vaTE4bi9yZWFjdCIpOwoKdmFyIF9saWIgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9saWIiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKdmFyIFJlbGF0aW9uc2hpcHMgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKFJlbGF0aW9uc2hpcHMsIF9Db21wb25lbnQpOwoKICBmdW5jdGlvbiBSZWxhdGlvbnNoaXBzKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbGF0aW9uc2hpcHMpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFJlbGF0aW9uc2hpcHMpLmNhbGwodGhpcywgcHJvcHMpKTsKICAgIF90aGlzLnN0YXRlID0gewogICAgICByZWxhdGlvbnNoaXBzOiB1bmRlZmluZWQsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGVycm9yOiB1bmRlZmluZWQKICAgIH07CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoUmVsYXRpb25zaGlwcywgW3sKICAgIGtleTogIlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSB7CiAgICAgIHRoaXMuZ2V0UmVsYXRpb25zaGlwRGF0YSgpOwogICAgfQogIH0sIHsKICAgIGtleTogIlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHsKICAgICAgaWYgKG5leHRQcm9wcy5zYXZlZE9iamVjdC5pZCAhPT0gdGhpcy5wcm9wcy5zYXZlZE9iamVjdC5pZCkgewogICAgICAgIHRoaXMuZ2V0UmVsYXRpb25zaGlwRGF0YSgpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UmVsYXRpb25zaGlwRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVsYXRpb25zaGlwRGF0YSgpIHsKICAgICAgdmFyIF90aGlzJHByb3BzLCBzYXZlZE9iamVjdCwgZ2V0UmVsYXRpb25zaGlwcywgcmVsYXRpb25zaGlwczsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gZ2V0UmVsYXRpb25zaGlwRGF0YSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLCBzYXZlZE9iamVjdCA9IF90aGlzJHByb3BzLnNhdmVkT2JqZWN0LCBnZXRSZWxhdGlvbnNoaXBzID0gX3RoaXMkcHJvcHMuZ2V0UmVsYXRpb25zaGlwczsKICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIGlzTG9hZGluZzogdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoZ2V0UmVsYXRpb25zaGlwcyhzYXZlZE9iamVjdC50eXBlLCBzYXZlZE9iamVjdC5pZCkpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJlbGF0aW9uc2hpcHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwczogcmVsYXRpb25zaGlwcywKICAgICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICBlcnJvcjogdW5kZWZpbmVkCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQudDAubWVzc2FnZSwKICAgICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMsIFtbMiwgOV1dKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXJFcnJvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyRXJyb3IoKSB7CiAgICAgIHZhciBlcnJvciA9IHRoaXMuc3RhdGUuZXJyb3I7CgogICAgICBpZiAoIWVycm9yKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ2FsbE91dCwgewogICAgICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJrYm4ubWFuYWdlbWVudC5vYmplY3RzLm9iamVjdHNUYWJsZS5yZWxhdGlvbnNoaXBzLnJlbmRlckVycm9yTWVzc2FnZSIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkVycm9yIgogICAgICAgIH0pLAogICAgICAgIGNvbG9yOiAiZGFuZ2VyIgogICAgICB9LCBlcnJvcik7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyUmVsYXRpb25zaGlwcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyUmVsYXRpb25zaGlwcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcywKICAgICAgICAgIGdvSW5zcGVjdE9iamVjdCA9IF90aGlzJHByb3BzMi5nb0luc3BlY3RPYmplY3QsCiAgICAgICAgICBzYXZlZE9iamVjdCA9IF90aGlzJHByb3BzMi5zYXZlZE9iamVjdDsKICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSwKICAgICAgICAgIHJlbGF0aW9uc2hpcHMgPSBfdGhpcyRzdGF0ZS5yZWxhdGlvbnNoaXBzLAogICAgICAgICAgaXNMb2FkaW5nID0gX3RoaXMkc3RhdGUuaXNMb2FkaW5nLAogICAgICAgICAgZXJyb3IgPSBfdGhpcyRzdGF0ZS5lcnJvcjsKCiAgICAgIGlmIChlcnJvcikgewogICAgICAgIHJldHVybiB0aGlzLnJlbmRlckVycm9yKCk7CiAgICAgIH0KCiAgICAgIGlmIChpc0xvYWRpbmcpIHsKICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxvYWRpbmdLaWJhbmEsIHsKICAgICAgICAgIHNpemU6ICJ4bCIKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdmFyIGNvbHVtbnMgPSBbewogICAgICAgIGZpZWxkOiAndHlwZScsCiAgICAgICAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2tibi5tYW5hZ2VtZW50Lm9iamVjdHMub2JqZWN0c1RhYmxlLnJlbGF0aW9uc2hpcHMuY29sdW1uVHlwZU5hbWUnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1R5cGUnCiAgICAgICAgfSksCiAgICAgICAgd2lkdGg6ICc1MHB4JywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgZGVzY3JpcHRpb246IF9pMThuLmkxOG4udHJhbnNsYXRlKCdrYm4ubWFuYWdlbWVudC5vYmplY3RzLm9iamVjdHNUYWJsZS5yZWxhdGlvbnNoaXBzLmNvbHVtblR5cGVEZXNjcmlwdGlvbicsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVHlwZSBvZiB0aGUgc2F2ZWQgb2JqZWN0JwogICAgICAgIH0pLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcih0eXBlLCBvYmplY3QpIHsKICAgICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVG9vbFRpcCwgewogICAgICAgICAgICBwb3NpdGlvbjogInRvcCIsCiAgICAgICAgICAgIGNvbnRlbnQ6ICgwLCBfbGliLmdldFNhdmVkT2JqZWN0TGFiZWwpKHR5cGUpCiAgICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSWNvbiwgewogICAgICAgICAgICAiYXJpYS1sYWJlbCI6ICgwLCBfbGliLmdldFNhdmVkT2JqZWN0TGFiZWwpKHR5cGUpLAogICAgICAgICAgICB0eXBlOiBvYmplY3QubWV0YS5pY29uIHx8ICdhcHBzJywKICAgICAgICAgICAgc2l6ZTogInMiCiAgICAgICAgICB9KSk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgZmllbGQ6ICdyZWxhdGlvbnNoaXAnLAogICAgICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCdrYm4ubWFuYWdlbWVudC5vYmplY3RzLm9iamVjdHNUYWJsZS5yZWxhdGlvbnNoaXBzLmNvbHVtblJlbGF0aW9uc2hpcE5hbWUnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0RpcmVjdCByZWxhdGlvbnNoaXAnCiAgICAgICAgfSksCiAgICAgICAgZGF0YVR5cGU6ICdzdHJpbmcnLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICB3aWR0aDogJzEyNXB4JywKICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihyZWxhdGlvbnNoaXApIHsKICAgICAgICAgIGlmIChyZWxhdGlvbnNoaXAgPT09ICdwYXJlbnQnKSB7CiAgICAgICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgewogICAgICAgICAgICAgIHNpemU6ICJzIgogICAgICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgICAgIGlkOiAia2JuLm1hbmFnZW1lbnQub2JqZWN0cy5vYmplY3RzVGFibGUucmVsYXRpb25zaGlwcy5jb2x1bW5SZWxhdGlvbnNoaXAucGFyZW50QXNWYWx1ZSIsCiAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJQYXJlbnQiCiAgICAgICAgICAgIH0pKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocmVsYXRpb25zaGlwID09PSAnY2hpbGQnKSB7CiAgICAgICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgewogICAgICAgICAgICAgIHNpemU6ICJzIgogICAgICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgICAgIGlkOiAia2JuLm1hbmFnZW1lbnQub2JqZWN0cy5vYmplY3RzVGFibGUucmVsYXRpb25zaGlwcy5jb2x1bW5SZWxhdGlvbnNoaXAuY2hpbGRBc1ZhbHVlIiwKICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkNoaWxkIgogICAgICAgICAgICB9KSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgZmllbGQ6ICdtZXRhLnRpdGxlJywKICAgICAgICBuYW1lOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgna2JuLm1hbmFnZW1lbnQub2JqZWN0cy5vYmplY3RzVGFibGUucmVsYXRpb25zaGlwcy5jb2x1bW5UaXRsZU5hbWUnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1RpdGxlJwogICAgICAgIH0pLAogICAgICAgIGRlc2NyaXB0aW9uOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgna2JuLm1hbmFnZW1lbnQub2JqZWN0cy5vYmplY3RzVGFibGUucmVsYXRpb25zaGlwcy5jb2x1bW5UaXRsZURlc2NyaXB0aW9uJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdUaXRsZSBvZiB0aGUgc2F2ZWQgb2JqZWN0JwogICAgICAgIH0pLAogICAgICAgIGRhdGFUeXBlOiAnc3RyaW5nJywKICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIodGl0bGUsIG9iamVjdCkgewogICAgICAgICAgdmFyIF9yZWYgPSBvYmplY3QubWV0YS5pbkFwcFVybCB8fCB7fSwKICAgICAgICAgICAgICBwYXRoID0gX3JlZi5wYXRoOwoKICAgICAgICAgIHZhciBjYW5Hb0luQXBwID0gX3RoaXMyLnByb3BzLmNhbkdvSW5BcHAob2JqZWN0KTsKCiAgICAgICAgICBpZiAoIWNhbkdvSW5BcHApIHsKICAgICAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUZXh0LCB7CiAgICAgICAgICAgICAgc2l6ZTogInMiCiAgICAgICAgICAgIH0sIHRpdGxlIHx8ICgwLCBfbGliLmdldERlZmF1bHRUaXRsZSkob2JqZWN0KSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlMaW5rLCB7CiAgICAgICAgICAgIGhyZWY6IF9jaHJvbWUuZGVmYXVsdC5hZGRCYXNlUGF0aChwYXRoKQogICAgICAgICAgfSwgdGl0bGUgfHwgKDAsIF9saWIuZ2V0RGVmYXVsdFRpdGxlKShvYmplY3QpKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBuYW1lOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgna2JuLm1hbmFnZW1lbnQub2JqZWN0cy5vYmplY3RzVGFibGUucmVsYXRpb25zaGlwcy5jb2x1bW5BY3Rpb25zTmFtZScsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQWN0aW9ucycKICAgICAgICB9KSwKICAgICAgICBhY3Rpb25zOiBbewogICAgICAgICAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2tibi5tYW5hZ2VtZW50Lm9iamVjdHMub2JqZWN0c1RhYmxlLnJlbGF0aW9uc2hpcHMuY29sdW1uQWN0aW9ucy5pbnNwZWN0QWN0aW9uTmFtZScsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdJbnNwZWN0JwogICAgICAgICAgfSksCiAgICAgICAgICBkZXNjcmlwdGlvbjogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2tibi5tYW5hZ2VtZW50Lm9iamVjdHMub2JqZWN0c1RhYmxlLnJlbGF0aW9uc2hpcHMuY29sdW1uQWN0aW9ucy5pbnNwZWN0QWN0aW9uRGVzY3JpcHRpb24nLCB7CiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnSW5zcGVjdCB0aGlzIHNhdmVkIG9iamVjdCcKICAgICAgICAgIH0pLAogICAgICAgICAgdHlwZTogJ2ljb24nLAogICAgICAgICAgaWNvbjogJ2luc3BlY3QnLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhvYmplY3QpIHsKICAgICAgICAgICAgcmV0dXJuIGdvSW5zcGVjdE9iamVjdChvYmplY3QpOwogICAgICAgICAgfSwKICAgICAgICAgIGF2YWlsYWJsZTogZnVuY3Rpb24gYXZhaWxhYmxlKG9iamVjdCkgewogICAgICAgICAgICByZXR1cm4gISFvYmplY3QubWV0YS5lZGl0VXJsOwogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH1dOwogICAgICB2YXIgZmlsdGVyVHlwZXNNYXAgPSBuZXcgTWFwKHJlbGF0aW9uc2hpcHMubWFwKGZ1bmN0aW9uIChyZWxhdGlvbnNoaXApIHsKICAgICAgICByZXR1cm4gW3JlbGF0aW9uc2hpcC50eXBlLCB7CiAgICAgICAgICB2YWx1ZTogcmVsYXRpb25zaGlwLnR5cGUsCiAgICAgICAgICBuYW1lOiByZWxhdGlvbnNoaXAudHlwZSwKICAgICAgICAgIHZpZXc6IHJlbGF0aW9uc2hpcC50eXBlCiAgICAgICAgfV07CiAgICAgIH0pKTsKICAgICAgdmFyIHNlYXJjaCA9IHsKICAgICAgICBmaWx0ZXJzOiBbewogICAgICAgICAgdHlwZTogJ2ZpZWxkX3ZhbHVlX3NlbGVjdGlvbicsCiAgICAgICAgICBmaWVsZDogJ3JlbGF0aW9uc2hpcCcsCiAgICAgICAgICBuYW1lOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgna2JuLm1hbmFnZW1lbnQub2JqZWN0cy5vYmplY3RzVGFibGUucmVsYXRpb25zaGlwcy5zZWFyY2guZmlsdGVycy5yZWxhdGlvbnNoaXAubmFtZScsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdEaXJlY3QgcmVsYXRpb25zaGlwJwogICAgICAgICAgfSksCiAgICAgICAgICBtdWx0aVNlbGVjdDogJ29yJywKICAgICAgICAgIG9wdGlvbnM6IFt7CiAgICAgICAgICAgIHZhbHVlOiAncGFyZW50JywKICAgICAgICAgICAgbmFtZTogJ3BhcmVudCcsCiAgICAgICAgICAgIHZpZXc6IF9pMThuLmkxOG4udHJhbnNsYXRlKCdrYm4ubWFuYWdlbWVudC5vYmplY3RzLm9iamVjdHNUYWJsZS5yZWxhdGlvbnNoaXBzLnNlYXJjaC5maWx0ZXJzLnJlbGF0aW9uc2hpcC5wYXJlbnRBc1ZhbHVlLnZpZXcnLCB7CiAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdQYXJlbnQnCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnY2hpbGQnLAogICAgICAgICAgICBuYW1lOiAnY2hpbGQnLAogICAgICAgICAgICB2aWV3OiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgna2JuLm1hbmFnZW1lbnQub2JqZWN0cy5vYmplY3RzVGFibGUucmVsYXRpb25zaGlwcy5zZWFyY2guZmlsdGVycy5yZWxhdGlvbnNoaXAuY2hpbGRBc1ZhbHVlLnZpZXcnLCB7CiAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdDaGlsZCcKICAgICAgICAgICAgfSkKICAgICAgICAgIH1dCiAgICAgICAgfSwgewogICAgICAgICAgdHlwZTogJ2ZpZWxkX3ZhbHVlX3NlbGVjdGlvbicsCiAgICAgICAgICBmaWVsZDogJ3R5cGUnLAogICAgICAgICAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2tibi5tYW5hZ2VtZW50Lm9iamVjdHMub2JqZWN0c1RhYmxlLnJlbGF0aW9uc2hpcHMuc2VhcmNoLmZpbHRlcnMudHlwZS5uYW1lJywgewogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1R5cGUnCiAgICAgICAgICB9KSwKICAgICAgICAgIG11bHRpU2VsZWN0OiAnb3InLAogICAgICAgICAgb3B0aW9uczogX3RvQ29uc3VtYWJsZUFycmF5KGZpbHRlclR5cGVzTWFwLnZhbHVlcygpKQogICAgICAgIH1dCiAgICAgIH07CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ2FsbE91dCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIF9pMThuLmkxOG4udHJhbnNsYXRlKCdrYm4ubWFuYWdlbWVudC5vYmplY3RzLm9iamVjdHNUYWJsZS5yZWxhdGlvbnNoaXBzLnJlbGF0aW9uc2hpcHNUaXRsZScsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0hlcmUgYXJlIHRoZSBzYXZlZCBvYmplY3RzIHJlbGF0ZWQgdG8ge3RpdGxlfS4gJyArICdEZWxldGluZyB0aGlzIHt0eXBlfSBhZmZlY3RzIGl0cyBwYXJlbnQgb2JqZWN0cywgYnV0IG5vdCBpdHMgY2hpbGRyZW4uJywKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIHR5cGU6IHNhdmVkT2JqZWN0LnR5cGUsCiAgICAgICAgICB0aXRsZTogc2F2ZWRPYmplY3QubWV0YS50aXRsZSB8fCAoMCwgX2xpYi5nZXREZWZhdWx0VGl0bGUpKHNhdmVkT2JqZWN0KQogICAgICAgIH0KICAgICAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgbnVsbCksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlJbk1lbW9yeVRhYmxlLCB7CiAgICAgICAgaXRlbXM6IHJlbGF0aW9uc2hpcHMsCiAgICAgICAgY29sdW1uczogY29sdW1ucywKICAgICAgICBwYWdpbmF0aW9uOiB0cnVlLAogICAgICAgIHNlYXJjaDogc2VhcmNoCiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsCiAgICAgICAgICBjbG9zZSA9IF90aGlzJHByb3BzMy5jbG9zZSwKICAgICAgICAgIHNhdmVkT2JqZWN0ID0gX3RoaXMkcHJvcHMzLnNhdmVkT2JqZWN0OwogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZseW91dCwgewogICAgICAgIG9uQ2xvc2U6IGNsb3NlCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbHlvdXRIZWFkZXIsIHsKICAgICAgICBoYXNCb3JkZXI6IHRydWUKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRpdGxlLCB7CiAgICAgICAgc2l6ZTogIm0iCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImgyIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRvb2xUaXAsIHsKICAgICAgICBwb3NpdGlvbjogInRvcCIsCiAgICAgICAgY29udGVudDogKDAsIF9saWIuZ2V0U2F2ZWRPYmplY3RMYWJlbCkoc2F2ZWRPYmplY3QudHlwZSkKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUljb24sIHsKICAgICAgICAiYXJpYS1sYWJlbCI6ICgwLCBfbGliLmdldFNhdmVkT2JqZWN0TGFiZWwpKHNhdmVkT2JqZWN0LnR5cGUpLAogICAgICAgIHNpemU6ICJtIiwKICAgICAgICB0eXBlOiBzYXZlZE9iamVjdC5tZXRhLmljb24gfHwgJ2FwcHMnCiAgICAgIH0pKSwgIlx4QTBceEEwIiwgc2F2ZWRPYmplY3QubWV0YS50aXRsZSB8fCAoMCwgX2xpYi5nZXREZWZhdWx0VGl0bGUpKHNhdmVkT2JqZWN0KSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZseW91dEJvZHksIG51bGwsIHRoaXMucmVuZGVyUmVsYXRpb25zaGlwcygpKSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUmVsYXRpb25zaGlwczsKfShfcmVhY3QuQ29tcG9uZW50KTsKCmV4cG9ydHMuUmVsYXRpb25zaGlwcyA9IFJlbGF0aW9uc2hpcHM7CgpfZGVmaW5lUHJvcGVydHkoUmVsYXRpb25zaGlwcywgInByb3BUeXBlcyIsIHsKICBnZXRSZWxhdGlvbnNoaXBzOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIHNhdmVkT2JqZWN0OiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsCiAgY2xvc2U6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsCiAgZ29JbnNwZWN0T2JqZWN0OiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIGNhbkdvSW5BcHA6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQKfSk7"},null]}