{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/ml/public/application/jobs/new_job/common/job_validator/job_validator.js","dependencies":[{"path":"x-pack/legacy/plugins/ml/public/application/jobs/new_job/common/job_validator/job_validator.js","mtime":1585205045856},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkpvYlZhbGlkYXRvciA9IHZvaWQgMDsKCnZhciBfcnhqcyA9IHJlcXVpcmUoInJ4anMiKTsKCnZhciBfb3BlcmF0b3JzID0gcmVxdWlyZSgicnhqcy9vcGVyYXRvcnMiKTsKCnZhciBfam9iX3V0aWxzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vLi4vY29tbW9uL3V0aWwvam9iX3V0aWxzIik7Cgp2YXIgX21sX3NlcnZlcl9pbmZvID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vc2VydmljZXMvbWxfc2VydmVyX2luZm8iKTsKCnZhciBfam9iX2NyZWF0b3IgPSByZXF1aXJlKCIuLi9qb2JfY3JlYXRvciIpOwoKdmFyIF91dGlsID0gcmVxdWlyZSgiLi91dGlsIik7Cgp2YXIgX3ZhbGlkYXRvcnMgPSByZXF1aXJlKCIuL3ZhbGlkYXRvcnMiKTsKCnZhciBfbmV3X2pvYiA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uL2NvbW1vbi9jb25zdGFudHMvbmV3X2pvYiIpOwoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICB9Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOwogICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOwogICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7CiAgfQp9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOwogIHJldHVybiBDb25zdHJ1Y3RvcjsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0gLy8gZGVsYXkgc3RhcnQgb2YgdmFsaWRhdGlvbiB0byBhbGxvdyB0aGUgdXNlciB0byBtYWtlIGNoYW5nZXMKLy8gZS5nLiBpZiB0aGV5IGFyZSB0eXBpbmcgaW4gYSBuZXcgdmFsdWUsIHRyeSBub3QgdG8gdmFsaWRhdGUKLy8gYWZ0ZXIgZXZlcnkga2V5c3Ryb2tlCgoKdmFyIFZBTElEQVRJT05fREVMQVlfTVMgPSA1MDA7Cgp2YXIgSm9iVmFsaWRhdG9yID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgLyoqCiAgICogT2JzZXJ2YWJsZSB0aGF0IGNvbWJpbmVzIGJhc2ljIGFuZCBhc3luYyB2YWxpZGF0aW9uIHJlc3VsdHMuCiAgICovCiAgZnVuY3Rpb24gSm9iVmFsaWRhdG9yKGpvYkNyZWF0b3IsIGV4aXN0aW5nSm9ic0FuZEdyb3VwcykgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSm9iVmFsaWRhdG9yKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9qb2JDcmVhdG9yIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl92YWxpZGF0aW9uU3VtbWFyeSIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfbGFzdEpvYkNvbmZpZyIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfbGFzdERhdGFmZWVkQ29uZmlnIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl92YWxpZGF0ZVRpbWVvdXQiLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9hc3luY1ZhbGlkYXRvcnMkIiwgW10pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX2FzeW5jVmFsaWRhdG9yc1Jlc3VsdCQiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX2V4aXN0aW5nSm9ic0FuZEdyb3VwcyIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfYmFzaWNWYWxpZGF0aW9ucyIsIHsKICAgICAgam9iSWQ6IHsKICAgICAgICB2YWxpZDogdHJ1ZQogICAgICB9LAogICAgICBncm91cElkczogewogICAgICAgIHZhbGlkOiB0cnVlCiAgICAgIH0sCiAgICAgIG1vZGVsTWVtb3J5TGltaXQ6IHsKICAgICAgICB2YWxpZDogdHJ1ZQogICAgICB9LAogICAgICBidWNrZXRTcGFuOiB7CiAgICAgICAgdmFsaWQ6IHRydWUKICAgICAgfSwKICAgICAgZHVwbGljYXRlRGV0ZWN0b3JzOiB7CiAgICAgICAgdmFsaWQ6IHRydWUKICAgICAgfSwKICAgICAgcXVlcnk6IHsKICAgICAgICB2YWxpZDogdHJ1ZQogICAgICB9LAogICAgICBxdWVyeURlbGF5OiB7CiAgICAgICAgdmFsaWQ6IHRydWUKICAgICAgfSwKICAgICAgZnJlcXVlbmN5OiB7CiAgICAgICAgdmFsaWQ6IHRydWUKICAgICAgfSwKICAgICAgc2Nyb2xsU2l6ZTogewogICAgICAgIHZhbGlkOiB0cnVlCiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX2FkdmFuY2VkVmFsaWRhdGlvbnMiLCB7CiAgICAgIGNhdGVnb3JpemF0aW9uRmllbGRWYWxpZDogewogICAgICAgIHZhbGlkOiB0cnVlCiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX3ZhbGlkYXRpbmciLCBmYWxzZSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfYmFzaWNWYWxpZGF0aW9uUmVzdWx0JCIsIG5ldyBfcnhqcy5SZXBsYXlTdWJqZWN0KDIpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9qb2JDcmVhdG9yU3ViamVjdCQiLCBuZXcgX3J4anMuU3ViamVjdCgpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInZhbGlkYXRpb25SZXN1bHQkIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImxhdGVzdFZhbGlkYXRpb25SZXN1bHQiLCB0aGlzLl9iYXNpY1ZhbGlkYXRpb25zKTsKCiAgICB0aGlzLl9qb2JDcmVhdG9yID0gam9iQ3JlYXRvcjsKICAgIHRoaXMuX2xhc3RKb2JDb25maWcgPSB0aGlzLl9qb2JDcmVhdG9yLmZvcm1hdHRlZEpvYkpzb247CiAgICB0aGlzLl9sYXN0RGF0YWZlZWRDb25maWcgPSB0aGlzLl9qb2JDcmVhdG9yLmZvcm1hdHRlZERhdGFmZWVkSnNvbjsKICAgIHRoaXMuX3ZhbGlkYXRpb25TdW1tYXJ5ID0gewogICAgICBiYXNpYzogZmFsc2UsCiAgICAgIGFkdmFuY2VkOiBmYWxzZQogICAgfTsKICAgIHRoaXMuX2V4aXN0aW5nSm9ic0FuZEdyb3VwcyA9IGV4aXN0aW5nSm9ic0FuZEdyb3VwczsKICAgIHRoaXMuX2FzeW5jVmFsaWRhdG9ycyQgPSBbKDAsIF92YWxpZGF0b3JzLmNhcmRpbmFsaXR5VmFsaWRhdG9yKSh0aGlzLl9qb2JDcmVhdG9yU3ViamVjdCQpXTsKICAgIHRoaXMuX2FzeW5jVmFsaWRhdG9yc1Jlc3VsdCQgPSAoMCwgX3J4anMuY29tYmluZUxhdGVzdCkodGhpcy5fYXN5bmNWYWxpZGF0b3JzJCkucGlwZSgoMCwgX29wZXJhdG9ycy5tYXApKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgcmV0dXJuIHJlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgY3VycikgewogICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBhY2MsIHt9LCBjdXJyID8gY3VyciA6IHt9KTsKICAgICAgfSwge30pOwogICAgfSkpOwogICAgdGhpcy52YWxpZGF0aW9uUmVzdWx0JCA9ICgwLCBfcnhqcy5jb21iaW5lTGF0ZXN0KShbdGhpcy5fYmFzaWNWYWxpZGF0aW9uUmVzdWx0JCwgdGhpcy5fYXN5bmNWYWxpZGF0b3JzUmVzdWx0JF0pLnBpcGUoKDAsIF9vcGVyYXRvcnMubWFwKShmdW5jdGlvbiAoX3JlZikgewogICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSwKICAgICAgICAgIGJhc2ljVmFsaWRhdGlvblJlc3VsdCA9IF9yZWYyWzBdLAogICAgICAgICAgYXN5bmNWYWxpZGF0b3JzUmVzdWx0ID0gX3JlZjJbMV07CgogICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgYmFzaWNWYWxpZGF0aW9uUmVzdWx0LCB7fSwgYXN5bmNWYWxpZGF0b3JzUmVzdWx0KTsKICAgIH0pLCAoMCwgX29wZXJhdG9ycy50YXApKGZ1bmN0aW9uIChsYXRlc3RWYWxpZGF0aW9uUmVzdWx0KSB7CiAgICAgIF90aGlzLmxhdGVzdFZhbGlkYXRpb25SZXN1bHQgPSBsYXRlc3RWYWxpZGF0aW9uUmVzdWx0OwogICAgfSkpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEpvYlZhbGlkYXRvciwgW3sKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZShjYWxsYmFjaykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBmb3JjZVZhbGlkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICAgICAgdGhpcy5fdmFsaWRhdGluZyA9IHRydWU7CiAgICAgIHZhciBmb3JtYXR0ZWRKb2JDb25maWcgPSB0aGlzLl9qb2JDcmVhdG9yLmZvcm1hdHRlZEpvYkpzb247CiAgICAgIHZhciBmb3JtYXR0ZWREYXRhZmVlZENvbmZpZyA9IHRoaXMuX2pvYkNyZWF0b3IuZm9ybWF0dGVkRGF0YWZlZWRKc29uOyAvLyBvbmx5IHZhbGlkYXRlIGlmIHRoZSBjb25maWcgaGFzIGNoYW5nZWQKCiAgICAgIGlmIChmb3JjZVZhbGlkYXRlIHx8IGZvcm1hdHRlZEpvYkNvbmZpZyAhPT0gdGhpcy5fbGFzdEpvYkNvbmZpZyB8fCBmb3JtYXR0ZWREYXRhZmVlZENvbmZpZyAhPT0gdGhpcy5fbGFzdERhdGFmZWVkQ29uZmlnKSB7CiAgICAgICAgaWYgKHRoaXMuX3ZhbGlkYXRlVGltZW91dCAhPT0gbnVsbCkgewogICAgICAgICAgLy8gY2xlYXIgYW55IHByZXZpb3VzIG9uIGdvaW5nIHZhbGlkYXRpb24gdGltZW91dHMKICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl92YWxpZGF0ZVRpbWVvdXQpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5fbGFzdEpvYkNvbmZpZyA9IGZvcm1hdHRlZEpvYkNvbmZpZzsKICAgICAgICB0aGlzLl9sYXN0RGF0YWZlZWRDb25maWcgPSBmb3JtYXR0ZWREYXRhZmVlZENvbmZpZzsKICAgICAgICB0aGlzLl92YWxpZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5fcnVuQmFzaWNWYWxpZGF0aW9uKCk7CgogICAgICAgICAgX3RoaXMyLl9ydW5BZHZhbmNlZFZhbGlkYXRpb24oKTsKCiAgICAgICAgICBfdGhpczIuX2pvYkNyZWF0b3JTdWJqZWN0JC5uZXh0KF90aGlzMi5fam9iQ3JlYXRvcik7CgogICAgICAgICAgX3RoaXMyLl92YWxpZGF0aW5nID0gZmFsc2U7CiAgICAgICAgICBfdGhpczIuX3ZhbGlkYXRlVGltZW91dCA9IG51bGw7CiAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgIH0sIFZBTElEQVRJT05fREVMQVlfTVMpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIF92YWxpZGF0aW5nIGlzIHN0aWxsIHRydWUgaWYgdGhlcmUgaXMgYSBwcmV2aW91cyB2YWxpZGF0aW9uIHRpbWVvdXQgb24gZ29pbmcuCiAgICAgICAgdGhpcy5fdmFsaWRhdGluZyA9IHRoaXMuX3ZhbGlkYXRlVGltZW91dCAhPT0gbnVsbDsKICAgICAgfQoKICAgICAgY2FsbGJhY2soKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfcmVzZXRCYXNpY1ZhbGlkYXRpb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzZXRCYXNpY1ZhbGlkYXRpb25zKCkgewogICAgICB0aGlzLl92YWxpZGF0aW9uU3VtbWFyeS5iYXNpYyA9IHRydWU7CiAgICAgIE9iamVjdC52YWx1ZXModGhpcy5fYmFzaWNWYWxpZGF0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAodikgewogICAgICAgIHYudmFsaWQgPSB0cnVlOwogICAgICAgIGRlbGV0ZSB2Lm1lc3NhZ2U7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogIl9ydW5CYXNpY1ZhbGlkYXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9ydW5CYXNpY1ZhbGlkYXRpb24oKSB7CiAgICAgIHRoaXMuX3Jlc2V0QmFzaWNWYWxpZGF0aW9ucygpOwoKICAgICAgdmFyIGpvYkNvbmZpZyA9IHRoaXMuX2pvYkNyZWF0b3Iuam9iQ29uZmlnOwogICAgICB2YXIgZGF0YWZlZWRDb25maWcgPSB0aGlzLl9qb2JDcmVhdG9yLmRhdGFmZWVkQ29uZmlnOwogICAgICB2YXIgbGltaXRzID0gKDAsIF9tbF9zZXJ2ZXJfaW5mby5nZXROZXdKb2JMaW1pdHMpKCk7IC8vIHJ1biBzdGFuZGFyZCBiYXNpYyB2YWxpZGF0aW9uCgogICAgICB2YXIgYmFzaWNKb2JSZXN1bHRzID0gKDAsIF9qb2JfdXRpbHMuYmFzaWNKb2JWYWxpZGF0aW9uKShqb2JDb25maWcsIHVuZGVmaW5lZCwgbGltaXRzKTsKICAgICAgKDAsIF91dGlsLnBvcHVsYXRlVmFsaWRhdGlvbk1lc3NhZ2VzKShiYXNpY0pvYlJlc3VsdHMsIHRoaXMuX2Jhc2ljVmFsaWRhdGlvbnMsIGpvYkNvbmZpZywgZGF0YWZlZWRDb25maWcpOwogICAgICB2YXIgYmFzaWNEYXRhZmVlZFJlc3VsdHMgPSAoMCwgX2pvYl91dGlscy5iYXNpY0RhdGFmZWVkVmFsaWRhdGlvbikoZGF0YWZlZWRDb25maWcpOwogICAgICAoMCwgX3V0aWwucG9wdWxhdGVWYWxpZGF0aW9uTWVzc2FnZXMpKGJhc2ljRGF0YWZlZWRSZXN1bHRzLCB0aGlzLl9iYXNpY1ZhbGlkYXRpb25zLCBqb2JDb25maWcsIGRhdGFmZWVkQ29uZmlnKTsgLy8gcnVuIGFkZGl0aW9uIGpvYiBhbmQgZ3JvdXAgaWQgdmFsaWRhdGlvbgoKICAgICAgdmFyIGlkUmVzdWx0cyA9ICgwLCBfdXRpbC5jaGVja0ZvckV4aXN0aW5nSm9iQW5kR3JvdXBJZHMpKHRoaXMuX2pvYkNyZWF0b3Iuam9iSWQsIHRoaXMuX2pvYkNyZWF0b3IuZ3JvdXBzLCB0aGlzLl9leGlzdGluZ0pvYnNBbmRHcm91cHMpOwogICAgICAoMCwgX3V0aWwucG9wdWxhdGVWYWxpZGF0aW9uTWVzc2FnZXMpKGlkUmVzdWx0cywgdGhpcy5fYmFzaWNWYWxpZGF0aW9ucywgam9iQ29uZmlnLCBkYXRhZmVlZENvbmZpZyk7CiAgICAgIHRoaXMuX3ZhbGlkYXRpb25TdW1tYXJ5LmJhc2ljID0gdGhpcy5faXNPdmVyYWxsQmFzaWNWYWxpZCgpOyAvLyBVcGRhdGUgdmFsaWRhdGlvbiByZXN1bHRzIHN1YmplY3QKCiAgICAgIHRoaXMuX2Jhc2ljVmFsaWRhdGlvblJlc3VsdCQubmV4dCh0aGlzLl9iYXNpY1ZhbGlkYXRpb25zKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfcnVuQWR2YW5jZWRWYWxpZGF0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfcnVuQWR2YW5jZWRWYWxpZGF0aW9uKCkgewogICAgICBpZiAoKDAsIF9qb2JfY3JlYXRvci5pc0NhdGVnb3JpemF0aW9uSm9iQ3JlYXRvcikodGhpcy5fam9iQ3JlYXRvcikpIHsKICAgICAgICB0aGlzLl9hZHZhbmNlZFZhbGlkYXRpb25zLmNhdGVnb3JpemF0aW9uRmllbGRWYWxpZC52YWxpZCA9IHRoaXMuX2pvYkNyZWF0b3Iub3ZlcmFsbFZhbGlkU3RhdHVzICE9PSBfbmV3X2pvYi5DQVRFR09SWV9FWEFNUExFU19WQUxJREFUSU9OX1NUQVRVUy5JTlZBTElEOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiX2lzT3ZlcmFsbEJhc2ljVmFsaWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9pc092ZXJhbGxCYXNpY1ZhbGlkKCkgewogICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLl9iYXNpY1ZhbGlkYXRpb25zKS5zb21lKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYudmFsaWQgPT09IGZhbHNlOwogICAgICB9KSA9PT0gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAidmFsaWRhdGlvblN1bW1hcnkiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl92YWxpZGF0aW9uU3VtbWFyeTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJidWNrZXRTcGFuIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fYmFzaWNWYWxpZGF0aW9ucy5idWNrZXRTcGFuOwogICAgfQogIH0sIHsKICAgIGtleTogImR1cGxpY2F0ZURldGVjdG9ycyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2Jhc2ljVmFsaWRhdGlvbnMuZHVwbGljYXRlRGV0ZWN0b3JzOwogICAgfQogIH0sIHsKICAgIGtleTogImpvYklkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fYmFzaWNWYWxpZGF0aW9ucy5qb2JJZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJncm91cElkcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2Jhc2ljVmFsaWRhdGlvbnMuZ3JvdXBJZHM7CiAgICB9CiAgfSwgewogICAga2V5OiAibW9kZWxNZW1vcnlMaW1pdCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2Jhc2ljVmFsaWRhdGlvbnMubW9kZWxNZW1vcnlMaW1pdDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJxdWVyeSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2Jhc2ljVmFsaWRhdGlvbnMucXVlcnk7CiAgICB9CiAgfSwgewogICAga2V5OiAicXVlcnlEZWxheSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2Jhc2ljVmFsaWRhdGlvbnMucXVlcnlEZWxheTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmcmVxdWVuY3kiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9iYXNpY1ZhbGlkYXRpb25zLmZyZXF1ZW5jeTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzY3JvbGxTaXplIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fYmFzaWNWYWxpZGF0aW9ucy5zY3JvbGxTaXplOwogICAgfQogIH0sIHsKICAgIGtleTogImFkdmFuY2VkVmFsaWQiLAogICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsaWQpIHsKICAgICAgdGhpcy5fdmFsaWRhdGlvblN1bW1hcnkuYWR2YW5jZWQgPSB2YWxpZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2YWxpZGF0aW5nIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fdmFsaWRhdGluZzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYXRlZ29yaXphdGlvbkZpZWxkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fYWR2YW5jZWRWYWxpZGF0aW9ucy5jYXRlZ29yaXphdGlvbkZpZWxkVmFsaWQudmFsaWQ7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsaWQpIHsKICAgICAgdGhpcy5fYWR2YW5jZWRWYWxpZGF0aW9ucy5jYXRlZ29yaXphdGlvbkZpZWxkVmFsaWQudmFsaWQgPSB2YWxpZDsKICAgIH0KICB9XSk7CgogIHJldHVybiBKb2JWYWxpZGF0b3I7Cn0oKTsKCmV4cG9ydHMuSm9iVmFsaWRhdG9yID0gSm9iVmFsaWRhdG9yOw=="},null]}