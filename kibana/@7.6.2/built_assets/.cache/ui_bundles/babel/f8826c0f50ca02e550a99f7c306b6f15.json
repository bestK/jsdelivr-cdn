{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/ml/public/application/datavisualizer/file_based/components/import_view/importer/importer.js","dependencies":[{"path":"x-pack/legacy/plugins/ml/public/application/datavisualizer/file_based/components/import_view/importer/importer.js","mtime":1585205045664},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkltcG9ydGVyID0gdm9pZCAwOwoKdmFyIF9tbF9hcGlfc2VydmljZSA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uL3NlcnZpY2VzL21sX2FwaV9zZXJ2aWNlIik7Cgp2YXIgX2xvZGFzaCA9IHJlcXVpcmUoImxvZGFzaCIpOwoKdmFyIF9tb21lbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm1vbWVudCIpKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9Cgp2YXIgQ0hVTktfU0laRSA9IDUwMDA7CnZhciBNQVhfQ0hVTktfQ0hBUl9DT1VOVCA9IDEwMDAwMDA7CnZhciBJTVBPUlRfUkVUUklFUyA9IDU7Cgp2YXIgSW1wb3J0ZXIgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBJbXBvcnRlcihfcmVmKSB7CiAgICB2YXIgc2V0dGluZ3MgPSBfcmVmLnNldHRpbmdzLAogICAgICAgIG1hcHBpbmdzID0gX3JlZi5tYXBwaW5ncywKICAgICAgICBwaXBlbGluZSA9IF9yZWYucGlwZWxpbmU7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEltcG9ydGVyKTsKCiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7CiAgICB0aGlzLm1hcHBpbmdzID0gbWFwcGluZ3M7CiAgICB0aGlzLnBpcGVsaW5lID0gcGlwZWxpbmU7CiAgICB0aGlzLmRhdGEgPSBbXTsKICAgIHRoaXMuZG9jQXJyYXkgPSBbXTsKICAgIHRoaXMuZG9jU2l6ZUFycmF5ID0gW107CiAgfQoKICBfY3JlYXRlQ2xhc3MoSW1wb3J0ZXIsIFt7CiAgICBrZXk6ICJpbml0aWFsaXplSW1wb3J0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplSW1wb3J0KGluZGV4KSB7CiAgICAgIHZhciBzZXR0aW5ncywgbWFwcGluZ3MsIHBpcGVsaW5lLCBpbmdlc3RQaXBlbGluZSwgY3JlYXRlSW5kZXhSZXNwOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGluaXRpYWxpemVJbXBvcnQkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHNldHRpbmdzID0gdGhpcy5zZXR0aW5nczsKICAgICAgICAgICAgICBtYXBwaW5ncyA9IHRoaXMubWFwcGluZ3M7CiAgICAgICAgICAgICAgcGlwZWxpbmUgPSB0aGlzLnBpcGVsaW5lOwogICAgICAgICAgICAgIHVwZGF0ZVBpcGVsaW5lVGltZXpvbmUocGlwZWxpbmUpOyAvLyBpZiBubyBwaXBlbGluZSBoYXMgYmVlbiBzdXBwbGllZCwKICAgICAgICAgICAgICAvLyBzZW5kIGFuIGVtcHR5IG9iamVjdAoKICAgICAgICAgICAgICBpbmdlc3RQaXBlbGluZSA9IHBpcGVsaW5lICE9PSB1bmRlZmluZWQgPyB7CiAgICAgICAgICAgICAgICBpZDogIiIuY29uY2F0KGluZGV4LCAiLXBpcGVsaW5lIiksCiAgICAgICAgICAgICAgICBwaXBlbGluZTogcGlwZWxpbmUKICAgICAgICAgICAgICB9IDoge307CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChfbWxfYXBpX3NlcnZpY2UubWwuZmlsZURhdGF2aXN1YWxpemVyLmltcG9ydCh7CiAgICAgICAgICAgICAgICBpZDogdW5kZWZpbmVkLAogICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LAogICAgICAgICAgICAgICAgZGF0YTogW10sCiAgICAgICAgICAgICAgICBzZXR0aW5nczogc2V0dGluZ3MsCiAgICAgICAgICAgICAgICBtYXBwaW5nczogbWFwcGluZ3MsCiAgICAgICAgICAgICAgICBpbmdlc3RQaXBlbGluZTogaW5nZXN0UGlwZWxpbmUKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY3JlYXRlSW5kZXhSZXNwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBjcmVhdGVJbmRleFJlc3ApOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbXBvcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9pbXBvcnQoaWQsIGluZGV4LCBwaXBlbGluZUlkLCBzZXRJbXBvcnRQcm9ncmVzcykgewogICAgICB2YXIgY2h1bmtzLCBpbmdlc3RQaXBlbGluZSwgc3VjY2VzcywgZmFpbHVyZXMsIGVycm9yLCBpLCBhZ2dzLCByZXRyaWVzLCByZXNwLCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gX2ltcG9ydCQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCEoIWlkIHx8ICFpbmRleCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLAogICAgICAgICAgICAgICAgZXJyb3I6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tbC5maWxlRGF0YXZpc3VhbGl6ZXIuaW1wb3J0Vmlldy5ub0lkT3JJbmRleFN1cHBsaWVkRXJyb3JNZXNzYWdlJywgewogICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ25vIElEIG9yIGluZGV4IHN1cHBsaWVkJwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjaHVua3MgPSBjcmVhdGVEb2N1bWVudENodW5rcyh0aGlzLmRvY0FycmF5KTsKICAgICAgICAgICAgICBpbmdlc3RQaXBlbGluZSA9IHsKICAgICAgICAgICAgICAgIGlkOiBwaXBlbGluZUlkCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTsKICAgICAgICAgICAgICBmYWlsdXJlcyA9IFtdOwogICAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGlmICghKGkgPCBjaHVua3MubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgYWdncyA9IHsKICAgICAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICAgICAgICAgIGRhdGE6IGNodW5rc1tpXSwKICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7fSwKICAgICAgICAgICAgICAgIG1hcHBpbmdzOiB7fSwKICAgICAgICAgICAgICAgIGluZ2VzdFBpcGVsaW5lOiBpbmdlc3RQaXBlbGluZQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgcmV0cmllcyA9IElNUE9SVF9SRVRSSUVTOwogICAgICAgICAgICAgIHJlc3AgPSB7CiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwKICAgICAgICAgICAgICAgIGZhaWx1cmVzOiBbXSwKICAgICAgICAgICAgICAgIGRvY0NvdW50OiAwCiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgaWYgKCEocmVzcC5zdWNjZXNzID09PSBmYWxzZSAmJiByZXRyaWVzID4gMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKF9tbF9hcGlfc2VydmljZS5tbC5maWxlRGF0YXZpc3VhbGl6ZXIuaW1wb3J0KGFnZ3MpKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAocmV0cmllcyA8IElNUE9SVF9SRVRSSUVTKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiUmV0cnlpbmcgaW1wb3J0ICIuY29uY2F0KElNUE9SVF9SRVRSSUVTIC0gcmV0cmllcykpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0cmllcy0tOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjA7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDEyKTsKICAgICAgICAgICAgICByZXNwID0gewogICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsCiAgICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQyLnQwCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICByZXRyaWVzID0gMDsKCiAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgaWYgKCFyZXNwLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHNldEltcG9ydFByb2dyZXNzKChpICsgMSkgLyBjaHVua3MubGVuZ3RoICogMTAwKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM1OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlc3ApOwogICAgICAgICAgICAgIHN1Y2Nlc3MgPSBmYWxzZTsKICAgICAgICAgICAgICBlcnJvciA9IHJlc3AuZXJyb3I7CiAgICAgICAgICAgICAgcG9wdWxhdGVGYWlsdXJlcyhyZXNwLCBmYWlsdXJlcywgaSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMzkpOwoKICAgICAgICAgICAgY2FzZSAzNToKICAgICAgICAgICAgICBwb3B1bGF0ZUZhaWx1cmVzKHJlc3AsIGZhaWx1cmVzLCBpKTsKCiAgICAgICAgICAgIGNhc2UgMzY6CiAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMzk6CiAgICAgICAgICAgICAgcmVzdWx0ID0gewogICAgICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcywKICAgICAgICAgICAgICAgIGZhaWx1cmVzOiBmYWlsdXJlcywKICAgICAgICAgICAgICAgIGRvY0NvdW50OiB0aGlzLmRvY0FycmF5Lmxlbmd0aAogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7CiAgICAgICAgICAgICAgICBzZXRJbXBvcnRQcm9ncmVzcygxMDApOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXN1bHQuZXJyb3IgPSBlcnJvcjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgY2FzZSA0MjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMsIFtbMTIsIDIwXV0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEltcG9ydGVyOwp9KCk7CgpleHBvcnRzLkltcG9ydGVyID0gSW1wb3J0ZXI7CgpmdW5jdGlvbiBwb3B1bGF0ZUZhaWx1cmVzKGVycm9yLCBmYWlsdXJlcywgY2h1bmtDb3VudCkgewogIGlmIChlcnJvci5mYWlsdXJlcyAmJiBlcnJvci5mYWlsdXJlcy5sZW5ndGgpIHsKICAgIC8vIHVwZGF0ZSB0aGUgaXRlbSB2YWx1ZSB0byBpbmNsdWRlIHRoZSBjaHVuayBjb3VudAogICAgLy8gZS5nLiBpdGVtIDMgaW4gY2h1bmsgMiBpcyBhY3R1YWxseSBpdGVtIDIwMDAzCiAgICBmb3IgKHZhciBmID0gMDsgZiA8IGVycm9yLmZhaWx1cmVzLmxlbmd0aDsgZisrKSB7CiAgICAgIHZhciBmYWlsdXJlID0gZXJyb3IuZmFpbHVyZXNbZl07CiAgICAgIGZhaWx1cmUuaXRlbSA9IGZhaWx1cmUuaXRlbSArIENIVU5LX1NJWkUgKiBjaHVua0NvdW50OwogICAgfQoKICAgIGZhaWx1cmVzLnB1c2guYXBwbHkoZmFpbHVyZXMsIF90b0NvbnN1bWFibGVBcnJheShlcnJvci5mYWlsdXJlcykpOwogIH0KfSAvLyBUaGUgZmlsZSBzdHJ1Y3R1cmUgZW5kcG9pbnQgc2V0cyB0aGUgdGltZXpvbmUgdG8gYmUge3sgYmVhdC50aW1lem9uZSB9fQovLyBhcyB0aGF0J3MgdGhlIHZhcmlhYmxlIEZpbGViZWF0IHdvdWxkIHNlbmQgdGhlIGNsaWVudCB0aW1lem9uZSBpbi4KLy8gSW4gdGhpcyBkYXRhIGltcG9ydCBmdW5jdGlvbiB0aGUgVUkgaXMgZWZmZWN0aXZlbHkgcGVyZm9ybWluZyB0aGUgcm9sZSBvZiBGaWxlYmVhdCwKLy8gaS5lLiBkb2luZyBiYXNpYyBwYXJzaW5nLCBwcm9jZXNzaW5nIGFuZCBjb252ZXJzaW9uIHRvIEpTT04gYmVmb3JlIGZvcndhcmRpbmcgdG8gdGhlIGluZ2VzdCBwaXBlbGluZS4KLy8gQnV0IGl0J3Mgbm90IHNlbmRpbmcgZXZlcnkgc2luZ2xlIGZpZWxkIHRoYXQgRmlsZWJlYXQgd291bGQgYWRkLCBzbyB0aGUgaW5nZXN0IHBpcGVsaW5lCi8vIGNhbm5vdCBsb29rIGZvciBhIGJlYXQudGltZXpvbmUgdmFyaWFibGUgaW4gZWFjaCBpbnB1dCByZWNvcmQuCi8vIFRoZXJlZm9yZSB3ZSBuZWVkIHRvIHJlcGxhY2Uge3sgYmVhdC50aW1lem9uZSB9fSB3aXRoIHRoZSBhY3R1YWwgYnJvd3NlciB0aW1lem9uZQoKCmZ1bmN0aW9uIHVwZGF0ZVBpcGVsaW5lVGltZXpvbmUoaW5nZXN0UGlwZWxpbmUpIHsKICBpZiAoaW5nZXN0UGlwZWxpbmUgIT09IHVuZGVmaW5lZCAmJiBpbmdlc3RQaXBlbGluZS5wcm9jZXNzb3JzICYmIGluZ2VzdFBpcGVsaW5lLnByb2Nlc3NvcnMpIHsKICAgIHZhciBkYXRlUHJvY2Vzc29yID0gaW5nZXN0UGlwZWxpbmUucHJvY2Vzc29ycy5maW5kKGZ1bmN0aW9uIChwKSB7CiAgICAgIHJldHVybiBwLmRhdGUgIT09IHVuZGVmaW5lZCAmJiBwLmRhdGUudGltZXpvbmUgPT09ICd7eyBiZWF0LnRpbWV6b25lIH19JzsKICAgIH0pOwoKICAgIGlmIChkYXRlUHJvY2Vzc29yKSB7CiAgICAgIGRhdGVQcm9jZXNzb3IuZGF0ZS50aW1lem9uZSA9IF9tb21lbnQuZGVmYXVsdC50ei5ndWVzcygpOwogICAgfQogIH0KfQoKZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnRDaHVua3MoZG9jQXJyYXkpIHsKICB2YXIgY2h1bmtzID0gW107IC8vIGNob3AgZG9jQXJyYXkgaW50byA1MDAwIGRvYyBjaHVua3MKCiAgdmFyIHRlbXBDaHVua3MgPSAoMCwgX2xvZGFzaC5jaHVuaykoZG9jQXJyYXksIENIVU5LX1NJWkUpOyAvLyBsb29wIG92ZXIgdGVtcENodW5rcyBhbmQgY2hlY2sgdGhhdCB0aGUgdG90YWwgY2hhcmFjdGVyIGxlbmd0aAogIC8vIGZvciBlYWNoIGNodW5rIGlzIHdpdGhpbiB0aGUgTUFYX0NIVU5LX0NIQVJfQ09VTlQuCiAgLy8gaWYgdGhlIGxlbmd0aCBpcyB0b28gbG9uZywgc3BsaXQgdGhlIGNodW5rIGludG8gc21hbGxlciBjaHVua3MKICAvLyBiYXNlZCBvbiBob3cgbXVjaCBsYXJnZXIgaXQgaXMgdGhhbiBNQVhfQ0hVTktfQ0hBUl9DT1VOVAogIC8vIG5vdGUsIGVhY2ggZG9jdW1lbnQgaXMgYSBkaWZmZXJlbnQgc2l6ZSwgc28gZGl2aWRpbmcgYnkgY2hhckNvdW50T2ZEb2NzCiAgLy8gb25seSBwcm9kdWNlcyBhbiBhdmVyYWdlIGNodW5rIHNpemUgdGhhdCBzaG91bGQgYmUgc21hbGxlciB0aGFuIHRoZSBtYXggbGVuZ3RoCgogIGZvciAodmFyIF9pID0gMDsgX2kgPCB0ZW1wQ2h1bmtzLmxlbmd0aDsgX2krKykgewogICAgdmFyIGRvY3MgPSB0ZW1wQ2h1bmtzW19pXTsKICAgIHZhciBudW1iZXJPZkRvY3MgPSBkb2NzLmxlbmd0aDsKICAgIHZhciBjaGFyQ291bnRPZkRvY3MgPSBKU09OLnN0cmluZ2lmeShkb2NzKS5sZW5ndGg7CgogICAgaWYgKGNoYXJDb3VudE9mRG9jcyA+IE1BWF9DSFVOS19DSEFSX0NPVU5UKSB7CiAgICAgIC8vIGNhbGN1bGF0ZSBuZXcgY2h1bmsgc2l6ZSB3aGljaCBzaG91bGQgcHJvZHVjZSBhIGNodW5rCiAgICAgIC8vIHdobydzIGxlbmd0aCBpcyBvbiBhdmVyYWdlIGFyb3VuZCBNQVhfQ0hVTktfQ0hBUl9DT1VOVAogICAgICB2YXIgYWRqdXN0ZWRDaHVua1NpemUgPSBNYXRoLmZsb29yKE1BWF9DSFVOS19DSEFSX0NPVU5UIC8gY2hhckNvdW50T2ZEb2NzICogbnVtYmVyT2ZEb2NzKTsKICAgICAgdmFyIHNtYWxsZXJDaHVua3MgPSAoMCwgX2xvZGFzaC5jaHVuaykoZG9jcywgYWRqdXN0ZWRDaHVua1NpemUpOwogICAgICBjaHVua3MucHVzaC5hcHBseShjaHVua3MsIF90b0NvbnN1bWFibGVBcnJheShzbWFsbGVyQ2h1bmtzKSk7CiAgICB9IGVsc2UgewogICAgICBjaHVua3MucHVzaChkb2NzKTsKICAgIH0KICB9CgogIHJldHVybiBjaHVua3M7Cn0="},null]}