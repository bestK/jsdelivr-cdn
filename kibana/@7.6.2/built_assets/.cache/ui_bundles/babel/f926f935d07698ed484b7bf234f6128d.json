{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/kibana/public/management/sections/objects/_view.js","dependencies":[{"path":"src/legacy/core_plugins/kibana/public/management/sections/objects/_view.js","mtime":1585205039835},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxvZGFzaCIpKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJhbmd1bGFyIikpOwoKcmVxdWlyZSgiYW5ndWxhci1lbGFzdGljL2VsYXN0aWMiKTsKCnZhciBfcmlzb25Ob2RlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJyaXNvbi1ub2RlIikpOwoKdmFyIF9zYXZlZF9vYmplY3RfcmVnaXN0cnkgPSByZXF1aXJlKCIuLi8uLi9zYXZlZF9vYmplY3RfcmVnaXN0cnkiKTsKCnZhciBfdmlldyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9fdmlldy5odG1sIikpOwoKdmFyIF9yb3V0ZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInVpL3JvdXRlcyIpKTsKCnZhciBfbW9kdWxlcyA9IHJlcXVpcmUoInVpL21vZHVsZXMiKTsKCnZhciBfbm90aWZ5ID0gcmVxdWlyZSgidWkvbm90aWZ5Iik7CgpyZXF1aXJlKCJ1aS9hY2Nlc3NpYmlsaXR5L2tibl91aV9hY2Vfa2V5Ym9hcmRfbW9kZSIpOwoKdmFyIF9zYXZlZF9vYmplY3RzID0gcmVxdWlyZSgidWkvc2F2ZWRfb2JqZWN0cyIpOwoKdmFyIF9udW1lcmljID0gcmVxdWlyZSgiLi9saWIvbnVtZXJpYyIpOwoKdmFyIF9pbl9hcHBfdXJsID0gcmVxdWlyZSgiLi9saWIvaW5fYXBwX3VybCIpOwoKdmFyIF9wdWJsaWMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wbHVnaW5zL2RhdGEvcHVibGljIik7Cgp2YXIgX2JyZWFkY3J1bWJzID0gcmVxdWlyZSgiLi9icmVhZGNydW1icyIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfQoKdmFyIGxvY2F0aW9uID0gJ1NhdmVkT2JqZWN0IHZpZXcnOwoKX3JvdXRlcy5kZWZhdWx0LndoZW4oJy9tYW5hZ2VtZW50L2tpYmFuYS9vYmplY3RzLzpzZXJ2aWNlLzppZCcsIHsKICB0ZW1wbGF0ZTogX3ZpZXcuZGVmYXVsdCwKICBrN0JyZWFkY3J1bWJzOiBfYnJlYWRjcnVtYnMuZ2V0Vmlld0JyZWFkY3J1bWJzLAogIHJlcXVpcmVVSUNhcGFiaWxpdHk6ICdtYW5hZ2VtZW50LmtpYmFuYS5vYmplY3RzJwp9KTsKCl9tb2R1bGVzLnVpTW9kdWxlcy5nZXQoJ2FwcHMvbWFuYWdlbWVudCcsIFsnbW9ub3NwYWNlZC5lbGFzdGljJ10pLmRpcmVjdGl2ZSgna2JuTWFuYWdlbWVudE9iamVjdHNWaWV3JywgZnVuY3Rpb24gKGtibkluZGV4LCBjb25maXJtTW9kYWwpIHsKICByZXR1cm4gewogICAgcmVzdHJpY3Q6ICdFJywKICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uIGNvbnRyb2xsZXIoJHNjb3BlLCAkaW5qZWN0b3IsICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uLCAkd2luZG93LCAkcm9vdFNjb3BlLCBQcml2YXRlLCB1aUNhcGFiaWxpdGllcykgewogICAgICB2YXIgc2VydmljZU9iaiA9IF9zYXZlZF9vYmplY3RfcmVnaXN0cnkuc2F2ZWRPYmplY3RNYW5hZ2VtZW50UmVnaXN0cnkuZ2V0KCRyb3V0ZVBhcmFtcy5zZXJ2aWNlKTsKCiAgICAgIHZhciBzZXJ2aWNlID0gJGluamVjdG9yLmdldChzZXJ2aWNlT2JqLnNlcnZpY2UpOwogICAgICB2YXIgc2F2ZWRPYmplY3RzQ2xpZW50ID0gUHJpdmF0ZShfc2F2ZWRfb2JqZWN0cy5TYXZlZE9iamVjdHNDbGllbnRQcm92aWRlcik7CiAgICAgIC8qKgogICAgICAgKiBDcmVhdGVzIGEgZmllbGQgZGVmaW5pdGlvbiBhbmQgcHVzaGVzIGl0IHRvIHRoZSBtZW1vIHN0YWNrLiBUaGlzIGZ1bmN0aW9uCiAgICAgICAqIGlzIGRlc2lnbmVkIHRvIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBfLnJlZHVjZSgpLiBJZiB0aGUKICAgICAgICogdmFsdWVzIGlzIHBsYWluIG9iamVjdCBpdCB3aWxsIHJlY3Vyc2UgdGhyb3VnaCBhbGwgdGhlIGtleXMgdGlsbCBpdCBoaXRzCiAgICAgICAqIGEgc3RyaW5nLCBudW1iZXIgb3IgYW4gYXJyYXkuCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSB7YXJyYXl9IG1lbW8gVGhlIHN0YWNrIG9mIGZpZWxkcwogICAgICAgKiBAcGFyYW0ge21peGVkfSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkCiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZmllbGQKICAgICAgICogQHBhcmFtIHtvYmplY3R9IGNvbGxlY3Rpb24gVGhpcyBpcyBhIHJlZmVyZW5jZSB0aGUgY29sbGVjdGlvbiBiZWluZyByZWR1Y2VkCiAgICAgICAqIEBwYXJhbSB7YXJyYXl9IHBhcmVudHMgVGhlIHBhcmVudCBrZXlzIHRvIHRoZSBmaWVsZAogICAgICAgKiBAcmV0dXJucyB7YXJyYXl9CiAgICAgICAqLwoKICAgICAgdmFyIGNyZWF0ZUZpZWxkID0gZnVuY3Rpb24gY3JlYXRlRmllbGQobWVtbywgdmFsLCBrZXksIGNvbGxlY3Rpb24sIHBhcmVudHMpIHsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJlbnRzKSkgewogICAgICAgICAgcGFyZW50cy5wdXNoKGtleSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBhcmVudHMgPSBba2V5XTsKICAgICAgICB9CgogICAgICAgIHZhciBmaWVsZCA9IHsKICAgICAgICAgIHR5cGU6ICd0ZXh0JywKICAgICAgICAgIG5hbWU6IHBhcmVudHMuam9pbignLicpLAogICAgICAgICAgdmFsdWU6IHZhbAogICAgICAgIH07CgogICAgICAgIGlmIChfbG9kYXNoLmRlZmF1bHQuaXNTdHJpbmcoZmllbGQudmFsdWUpKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmaWVsZC52YWx1ZSA9IF9hbmd1bGFyLmRlZmF1bHQudG9Kc29uKEpTT04ucGFyc2UoZmllbGQudmFsdWUpLCB0cnVlKTsKICAgICAgICAgICAgZmllbGQudHlwZSA9ICdqc29uJzsKICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBmaWVsZC52YWx1ZSA9IGZpZWxkLnZhbHVlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoKDAsIF9udW1lcmljLmlzTnVtZXJpYykoZmllbGQudmFsdWUpKSB7CiAgICAgICAgICBmaWVsZC50eXBlID0gJ251bWJlcic7CiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGZpZWxkLnZhbHVlKSkgewogICAgICAgICAgZmllbGQudHlwZSA9ICdhcnJheSc7CiAgICAgICAgICBmaWVsZC52YWx1ZSA9IF9hbmd1bGFyLmRlZmF1bHQudG9Kc29uKGZpZWxkLnZhbHVlLCB0cnVlKTsKICAgICAgICB9IGVsc2UgaWYgKF9sb2Rhc2guZGVmYXVsdC5pc0Jvb2xlYW4oZmllbGQudmFsdWUpKSB7CiAgICAgICAgICBmaWVsZC50eXBlID0gJ2Jvb2xlYW4nOwogICAgICAgICAgZmllbGQudmFsdWUgPSBmaWVsZC52YWx1ZTsKICAgICAgICB9IGVsc2UgaWYgKF9sb2Rhc2guZGVmYXVsdC5pc1BsYWluT2JqZWN0KGZpZWxkLnZhbHVlKSkgewogICAgICAgICAgLy8gZG8gc29tZXRoaW5nIHJlY3Vyc2l2ZQogICAgICAgICAgcmV0dXJuIF9sb2Rhc2guZGVmYXVsdC5yZWR1Y2UoZmllbGQudmFsdWUsIF9sb2Rhc2guZGVmYXVsdC5wYXJ0aWFsUmlnaHQoY3JlYXRlRmllbGQsIHBhcmVudHMpLCBtZW1vKTsKICAgICAgICB9CgogICAgICAgIG1lbW8ucHVzaChmaWVsZCk7IC8vIG9uY2UgdGhlIGZpZWxkIGlzIGFkZGVkIHRvIHRoZSBvYmplY3QgeW91IG5lZWQgdG8gcG9wIHRoZSBwYXJlbnRzCiAgICAgICAgLy8gdG8gcmVtb3ZlIGl0IHNpbmNlIHdlJ3ZlIGhpdCB0aGUgZW5kIG9mIHRoZSBicmFuY2guCgogICAgICAgIHBhcmVudHMucG9wKCk7CiAgICAgICAgcmV0dXJuIG1lbW87CiAgICAgIH07CgogICAgICB2YXIgcmVhZE9iamVjdENsYXNzID0gZnVuY3Rpb24gcmVhZE9iamVjdENsYXNzKGZpZWxkcywgQ2xhc3MpIHsKICAgICAgICB2YXIgZmllbGRNYXAgPSBfbG9kYXNoLmRlZmF1bHQuaW5kZXhCeShmaWVsZHMsICduYW1lJyk7CgogICAgICAgIF9sb2Rhc2guZGVmYXVsdC5mb3JPd24oQ2xhc3MubWFwcGluZywgZnVuY3Rpb24gKGVzVHlwZSwgbmFtZSkgewogICAgICAgICAgaWYgKGZpZWxkTWFwW25hbWVdKSByZXR1cm47CiAgICAgICAgICBmaWVsZHMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgIHR5cGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKCgwLCBfcHVibGljLmNhc3RFc1RvS2JuRmllbGRUeXBlTmFtZSkoZXNUeXBlKSkgewogICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzoKICAgICAgICAgICAgICAgICAgcmV0dXJuICd0ZXh0JzsKCiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOgogICAgICAgICAgICAgICAgICByZXR1cm4gJ251bWJlcic7CgogICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6CiAgICAgICAgICAgICAgICAgIHJldHVybiAnYm9vbGVhbic7CgogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgcmV0dXJuICdqc29uJzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0oKQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChDbGFzcy5zZWFyY2hTb3VyY2UgJiYgIWZpZWxkTWFwWydraWJhbmFTYXZlZE9iamVjdE1ldGEuc2VhcmNoU291cmNlSlNPTiddKSB7CiAgICAgICAgICBmaWVsZHMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdraWJhbmFTYXZlZE9iamVjdE1ldGEuc2VhcmNoU291cmNlSlNPTicsCiAgICAgICAgICAgIHR5cGU6ICdqc29uJywKICAgICAgICAgICAgdmFsdWU6ICd7fScKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFmaWVsZE1hcC5yZWZlcmVuY2VzKSB7CiAgICAgICAgICBmaWVsZHMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdyZWZlcmVuY2VzJywKICAgICAgICAgICAgdHlwZTogJ2FycmF5JywKICAgICAgICAgICAgdmFsdWU6ICdbXScKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHZhciBfdWlDYXBhYmlsaXRpZXMkc2F2ZWQgPSB1aUNhcGFiaWxpdGllcy5zYXZlZE9iamVjdHNNYW5hZ2VtZW50LAogICAgICAgICAgY2FuRWRpdCA9IF91aUNhcGFiaWxpdGllcyRzYXZlZC5lZGl0LAogICAgICAgICAgY2FuRGVsZXRlID0gX3VpQ2FwYWJpbGl0aWVzJHNhdmVkLmRlbGV0ZTsKICAgICAgJHNjb3BlLmNhbkVkaXQgPSBjYW5FZGl0OwogICAgICAkc2NvcGUuY2FuRGVsZXRlID0gY2FuRGVsZXRlOwogICAgICAkc2NvcGUuY2FuVmlld0luQXBwID0gKDAsIF9pbl9hcHBfdXJsLmNhblZpZXdJbkFwcCkodWlDYXBhYmlsaXRpZXMsIHNlcnZpY2UudHlwZSk7CiAgICAgICRzY29wZS5ub3RGb3VuZCA9ICRyb3V0ZVBhcmFtcy5ub3RGb3VuZDsKICAgICAgJHNjb3BlLnRpdGxlID0gc2VydmljZS50eXBlOwogICAgICBzYXZlZE9iamVjdHNDbGllbnQuZ2V0KHNlcnZpY2UudHlwZSwgJHJvdXRlUGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAkc2NvcGUub2JqID0gb2JqOwogICAgICAgICRzY29wZS5saW5rID0gc2VydmljZS51cmxGb3Iob2JqLmlkKTsKCiAgICAgICAgdmFyIGZpZWxkcyA9IF9sb2Rhc2guZGVmYXVsdC5yZWR1Y2Uob2JqLmF0dHJpYnV0ZXMsIGNyZWF0ZUZpZWxkLCBbXSk7IC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIHJlZmVyZW5jZXMgd2hpY2ggaXNuJ3Qgd2l0aGluICJhdHRyaWJ1dGVzIgoKCiAgICAgICAgY3JlYXRlRmllbGQoZmllbGRzLCBvYmoucmVmZXJlbmNlcywgJ3JlZmVyZW5jZXMnKTsKICAgICAgICBpZiAoc2VydmljZS5DbGFzcykgcmVhZE9iamVjdENsYXNzKGZpZWxkcywgc2VydmljZS5DbGFzcyk7IC8vIHNvcnRzIHR3aWNlIHNpbmNlIHdlIHdhbnQgbnVtZXJpY2FsIHNvcnQgdG8gcHJpb3JpdGl6ZSBvdmVyIG5hbWUsCiAgICAgICAgLy8gYW5kIHNvcnRCeSB3aWxsIGRvIHN0cmluZyBjb21wYXJpc29uIGlmIHRyeWluZyB0byBtYXRjaCBhZ2FpbnN0IHN0cmluZ3MKCiAgICAgICAgdmFyIG5hbWVTb3J0ZWRGaWVsZHMgPSBfbG9kYXNoLmRlZmF1bHQuc29ydEJ5KGZpZWxkcywgJ25hbWUnKTsKCiAgICAgICAgJHNjb3BlLmZpZWxkcyA9IF9sb2Rhc2guZGVmYXVsdC5zb3J0QnkobmFtZVNvcnRlZEZpZWxkcywgZnVuY3Rpb24gKGZpZWxkKSB7CiAgICAgICAgICB2YXIgb3JkZXJJbmRleCA9IHNlcnZpY2UuQ2xhc3MuZmllbGRPcmRlciA/IHNlcnZpY2UuQ2xhc3MuZmllbGRPcmRlci5pbmRleE9mKGZpZWxkLm5hbWUpIDogLTE7CiAgICAgICAgICByZXR1cm4gb3JkZXJJbmRleCA+IC0xID8gb3JkZXJJbmRleCA6IEluZmluaXR5OwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gKDAsIF9ub3RpZnkuZmF0YWxFcnJvcikoZXJyb3IsIGxvY2F0aW9uKTsKICAgICAgfSk7IC8vIFRoaXMgaGFuZGxlcyB0aGUgdmFsaWRhdGlvbiBvZiB0aGUgQWNlIEVkaXRvci4gU2luY2Ugd2UgZG9uJ3QgaGF2ZSBhbnkKICAgICAgLy8gb3RoZXIgaG9va3MgaW50byB0aGUgZWRpdG9ycyB0byB0ZWxsIHVzIGlmIHRoZSBjb250ZW50IGlzIHZhbGlkIG9yIG5vdAogICAgICAvLyB3ZSBuZWVkIHRvIHVzZSB0aGUgYW5ub3RhdGlvbnMgdG8gc2VlIGlmIHRoZXkgaGF2ZSBhbnkgZXJyb3JzLiBJZiB0aGV5CiAgICAgIC8vIGRvIHRoZW4gd2UgcHVzaCB0aGUgZmllbGQubmFtZSB0byBhY2VJbnZhbGlkRWRpdG9yIHZhcmlhYmxlLgogICAgICAvLyBPdGhlcndpc2Ugd2UgcmVtb3ZlIGl0LgoKICAgICAgdmFyIGxvYWRlZEVkaXRvcnMgPSBbXTsKICAgICAgJHNjb3BlLmFjZUludmFsaWRFZGl0b3JzID0gW107CgogICAgICAkc2NvcGUuYWNlTG9hZGVkID0gZnVuY3Rpb24gKGVkaXRvcikgewogICAgICAgIGlmIChfbG9kYXNoLmRlZmF1bHQuY29udGFpbnMobG9hZGVkRWRpdG9ycywgZWRpdG9yKSkgcmV0dXJuOwogICAgICAgIGxvYWRlZEVkaXRvcnMucHVzaChlZGl0b3IpOwogICAgICAgIGVkaXRvci4kYmxvY2tTY3JvbGxpbmcgPSBJbmZpbml0eTsKICAgICAgICB2YXIgc2Vzc2lvbiA9IGVkaXRvci5nZXRTZXNzaW9uKCk7CiAgICAgICAgdmFyIGZpZWxkTmFtZSA9IGVkaXRvci5jb250YWluZXIuaWQ7CiAgICAgICAgc2Vzc2lvbi5zZXRUYWJTaXplKDIpOwogICAgICAgIHNlc3Npb24uc2V0VXNlU29mdFRhYnModHJ1ZSk7CiAgICAgICAgc2Vzc2lvbi5vbignY2hhbmdlQW5ub3RhdGlvbicsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBhbm5vdGF0aW9ucyA9IHNlc3Npb24uZ2V0QW5ub3RhdGlvbnMoKTsKCiAgICAgICAgICBpZiAoX2xvZGFzaC5kZWZhdWx0LnNvbWUoYW5ub3RhdGlvbnMsIHsKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSkpIHsKICAgICAgICAgICAgaWYgKCFfbG9kYXNoLmRlZmF1bHQuY29udGFpbnMoJHNjb3BlLmFjZUludmFsaWRFZGl0b3JzLCBmaWVsZE5hbWUpKSB7CiAgICAgICAgICAgICAgJHNjb3BlLmFjZUludmFsaWRFZGl0b3JzLnB1c2goZmllbGROYW1lKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJHNjb3BlLmFjZUludmFsaWRFZGl0b3JzID0gX2xvZGFzaC5kZWZhdWx0LndpdGhvdXQoJHNjb3BlLmFjZUludmFsaWRFZGl0b3JzLCBmaWVsZE5hbWUpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSAkc2NvcGUuJGFwcGx5KCk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgICR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9OwogICAgICAvKioKICAgICAgICogRGVsZXRlcyBhbiBvYmplY3QgYW5kIHNldHMgdGhlIG5vdGlmaWNhdGlvbgogICAgICAgKiBAcGFyYW0ge3R5cGV9IG5hbWUgZGVzY3JpcHRpb24KICAgICAgICogQHJldHVybnMge3R5cGV9IGRlc2NyaXB0aW9uCiAgICAgICAqLwoKCiAgICAgICRzY29wZS5kZWxldGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZnVuY3Rpb24gZG9EZWxldGUoKSB7CiAgICAgICAgICBzYXZlZE9iamVjdHNDbGllbnQuZGVsZXRlKHNlcnZpY2UudHlwZSwgJHJvdXRlUGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHJlZGlyZWN0SGFuZGxlcignZGVsZXRlZCcpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIHJldHVybiAoMCwgX25vdGlmeS5mYXRhbEVycm9yKShlcnJvciwgbG9jYXRpb24pOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgY29uZmlybU1vZGFsT3B0aW9ucyA9IHsKICAgICAgICAgIG9uQ29uZmlybTogZG9EZWxldGUsCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2tibi5tYW5hZ2VtZW50Lm9iamVjdHMuY29uZmlybU1vZGFsT3B0aW9ucy5kZWxldGVCdXR0b25MYWJlbCcsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdEZWxldGUnCiAgICAgICAgICB9KSwKICAgICAgICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgna2JuLm1hbmFnZW1lbnQub2JqZWN0cy5jb25maXJtTW9kYWxPcHRpb25zLm1vZGFsVGl0bGUnLCB7CiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRGVsZXRlIHNhdmVkIEtpYmFuYSBvYmplY3Q/JwogICAgICAgICAgfSkKICAgICAgICB9OwogICAgICAgIGNvbmZpcm1Nb2RhbChfaTE4bi5pMThuLnRyYW5zbGF0ZSgna2JuLm1hbmFnZW1lbnQub2JqZWN0cy5jb25maXJtTW9kYWxPcHRpb25zLm1vZGFsRGVzY3JpcHRpb24nLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIllvdSBjYW4ndCByZWNvdmVyIGRlbGV0ZWQgb2JqZWN0cyIKICAgICAgICB9KSwgY29uZmlybU1vZGFsT3B0aW9ucyk7CiAgICAgIH07CgogICAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBzb3VyY2UgPSBfbG9kYXNoLmRlZmF1bHQuY2xvbmVEZWVwKCRzY29wZS5vYmouYXR0cmlidXRlcyk7CgogICAgICAgIF9sb2Rhc2guZGVmYXVsdC5lYWNoKCRzY29wZS5maWVsZHMsIGZ1bmN0aW9uIChmaWVsZCkgewogICAgICAgICAgdmFyIHZhbHVlID0gZmllbGQudmFsdWU7CgogICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdudW1iZXInKSB7CiAgICAgICAgICAgIHZhbHVlID0gTnVtYmVyKGZpZWxkLnZhbHVlKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ2FycmF5JykgewogICAgICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UoZmllbGQudmFsdWUpOwogICAgICAgICAgfQoKICAgICAgICAgIF9sb2Rhc2guZGVmYXVsdC5zZXQoc291cmNlLCBmaWVsZC5uYW1lLCB2YWx1ZSk7CiAgICAgICAgfSk7CgogICAgICAgIHZhciByZWZlcmVuY2VzID0gc291cmNlLnJlZmVyZW5jZXMsCiAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBbInJlZmVyZW5jZXMiXSk7CgogICAgICAgIHNhdmVkT2JqZWN0c0NsaWVudC51cGRhdGUoc2VydmljZS50eXBlLCAkcm91dGVQYXJhbXMuaWQsIGF0dHJpYnV0ZXMsIHsKICAgICAgICAgIHJlZmVyZW5jZXM6IHJlZmVyZW5jZXMKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiByZWRpcmVjdEhhbmRsZXIoJ3VwZGF0ZWQnKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJldHVybiAoMCwgX25vdGlmeS5mYXRhbEVycm9yKShlcnJvciwgbG9jYXRpb24pOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgZnVuY3Rpb24gcmVkaXJlY3RIYW5kbGVyKGFjdGlvbikgewogICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbWFuYWdlbWVudC9raWJhbmEvb2JqZWN0cycpLnNlYXJjaCh7CiAgICAgICAgICBfYTogX3Jpc29uTm9kZS5kZWZhdWx0LmVuY29kZSh7CiAgICAgICAgICAgIHRhYjogc2VydmljZU9iai50aXRsZQogICAgICAgICAgfSkKICAgICAgICB9KTsKCiAgICAgICAgX25vdGlmeS50b2FzdE5vdGlmaWNhdGlvbnMuYWRkU3VjY2VzcygiIi5jb25jYXQoX2xvZGFzaC5kZWZhdWx0LmNhcGl0YWxpemUoYWN0aW9uKSwgIiAnIikuY29uY2F0KCRzY29wZS5vYmouYXR0cmlidXRlcy50aXRsZSwgIicgIikuY29uY2F0KCRzY29wZS50aXRsZS50b0xvd2VyQ2FzZSgpLCAiIG9iamVjdCIpKTsKICAgICAgfQogICAgfQogIH07Cn0pOw=="},null]}