{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/ml/public/application/jobs/new_job/pages/components/pick_fields_step/components/multi_metric_view/metric_selection.js","dependencies":[{"path":"x-pack/legacy/plugins/ml/public/application/jobs/new_job/pages/components/pick_fields_step/components/multi_metric_view/metric_selection.js","mtime":1585205045900},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLk11bHRpTWV0cmljRGV0ZWN0b3JzID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9qb2JfY3JlYXRvcl9jb250ZXh0ID0gcmVxdWlyZSgiLi4vLi4vLi4vam9iX2NyZWF0b3JfY29udGV4dCIpOwoKdmFyIF9uZXdfam9iX2NhcGFiaWxpdGllc19zZXJ2aWNlID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vLi4vLi4vc2VydmljZXMvbmV3X2pvYl9jYXBhYmlsaXRpZXNfc2VydmljZSIpOwoKdmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoIi4uLy4uLy4uL2NoYXJ0cy9jb21tb24vc2V0dGluZ3MiKTsKCnZhciBfbWV0cmljX3NlbGVjdG9yID0gcmVxdWlyZSgiLi9tZXRyaWNfc2VsZWN0b3IiKTsKCnZhciBfY2hhcnRfZ3JpZCA9IHJlcXVpcmUoIi4vY2hhcnRfZ3JpZCIpOwoKdmFyIF9tZXNzYWdlYmFyID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vLi4vLi4vY29tcG9uZW50cy9tZXNzYWdlYmFyIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7CiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICBhcnIyW2ldID0gYXJyW2ldOwogICAgfQoKICAgIHJldHVybiBhcnIyOwogIH0KfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKdmFyIE11bHRpTWV0cmljRGV0ZWN0b3JzID0gZnVuY3Rpb24gTXVsdGlNZXRyaWNEZXRlY3RvcnMoX3JlZikgewogIHZhciBzZXRJc1ZhbGlkID0gX3JlZi5zZXRJc1ZhbGlkOwoKICB2YXIgX3VzZUNvbnRleHQgPSAoMCwgX3JlYWN0LnVzZUNvbnRleHQpKF9qb2JfY3JlYXRvcl9jb250ZXh0LkpvYkNyZWF0b3JDb250ZXh0KSwKICAgICAgamMgPSBfdXNlQ29udGV4dC5qb2JDcmVhdG9yLAogICAgICBqb2JDcmVhdG9yVXBkYXRlID0gX3VzZUNvbnRleHQuam9iQ3JlYXRvclVwZGF0ZSwKICAgICAgam9iQ3JlYXRvclVwZGF0ZWQgPSBfdXNlQ29udGV4dC5qb2JDcmVhdG9yVXBkYXRlZCwKICAgICAgY2hhcnRMb2FkZXIgPSBfdXNlQ29udGV4dC5jaGFydExvYWRlciwKICAgICAgY2hhcnRJbnRlcnZhbCA9IF91c2VDb250ZXh0LmNoYXJ0SW50ZXJ2YWw7CgogIHZhciBqb2JDcmVhdG9yID0gamM7CiAgdmFyIGZpZWxkcyA9IF9uZXdfam9iX2NhcGFiaWxpdGllc19zZXJ2aWNlLm5ld0pvYkNhcHNTZXJ2aWNlLmZpZWxkczsKCiAgdmFyIF91c2VTdGF0ZSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKFtdKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIHNlbGVjdGVkT3B0aW9ucyA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldFNlbGVjdGVkT3B0aW9ucyA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU3RhdGUzID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoam9iQ3JlYXRvci5hZ2dGaWVsZFBhaXJzKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBhZ2dGaWVsZFBhaXJMaXN0ID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0QWdnRmllbGRQYWlyTGlzdCA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBfdXNlU3RhdGU1ID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoe30pLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIGxpbmVDaGFydHNEYXRhID0gX3VzZVN0YXRlNlswXSwKICAgICAgc2V0TGluZUNoYXJ0c0RhdGEgPSBfdXNlU3RhdGU2WzFdOwoKICB2YXIgX3VzZVN0YXRlNyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlOCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTcsIDIpLAogICAgICBsb2FkaW5nRGF0YSA9IF91c2VTdGF0ZThbMF0sCiAgICAgIHNldExvYWRpbmdEYXRhID0gX3VzZVN0YXRlOFsxXTsKCiAgdmFyIF91c2VTdGF0ZTkgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShqb2JDcmVhdG9yLnN0YXJ0KSwKICAgICAgX3VzZVN0YXRlMTAgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU5LCAyKSwKICAgICAgc3RhcnQgPSBfdXNlU3RhdGUxMFswXSwKICAgICAgc2V0U3RhcnQgPSBfdXNlU3RhdGUxMFsxXTsKCiAgdmFyIF91c2VTdGF0ZTExID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoam9iQ3JlYXRvci5lbmQpLAogICAgICBfdXNlU3RhdGUxMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTExLCAyKSwKICAgICAgZW5kID0gX3VzZVN0YXRlMTJbMF0sCiAgICAgIHNldEVuZCA9IF91c2VTdGF0ZTEyWzFdOwoKICB2YXIgX3VzZVN0YXRlMTMgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShqb2JDcmVhdG9yLmJ1Y2tldFNwYW5NcyksCiAgICAgIF91c2VTdGF0ZTE0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMTMsIDIpLAogICAgICBidWNrZXRTcGFuTXMgPSBfdXNlU3RhdGUxNFswXSwKICAgICAgc2V0QnVja2V0U3Bhbk1zID0gX3VzZVN0YXRlMTRbMV07CgogIHZhciBfdXNlU3RhdGUxNSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKF9zZXR0aW5ncy5kZWZhdWx0Q2hhcnRTZXR0aW5ncyksCiAgICAgIF91c2VTdGF0ZTE2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMTUsIDIpLAogICAgICBjaGFydFNldHRpbmdzID0gX3VzZVN0YXRlMTZbMF0sCiAgICAgIHNldENoYXJ0U2V0dGluZ3MgPSBfdXNlU3RhdGUxNlsxXTsKCiAgdmFyIF91c2VTdGF0ZTE3ID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoam9iQ3JlYXRvci5zcGxpdEZpZWxkKSwKICAgICAgX3VzZVN0YXRlMTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUxNywgMiksCiAgICAgIHNwbGl0RmllbGQgPSBfdXNlU3RhdGUxOFswXSwKICAgICAgc2V0U3BsaXRGaWVsZCA9IF91c2VTdGF0ZTE4WzFdOwoKICB2YXIgX3VzZVN0YXRlMTkgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShbXSksCiAgICAgIF91c2VTdGF0ZTIwID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMTksIDIpLAogICAgICBmaWVsZFZhbHVlcyA9IF91c2VTdGF0ZTIwWzBdLAogICAgICBzZXRGaWVsZFZhbHVlcyA9IF91c2VTdGF0ZTIwWzFdOwoKICB2YXIgX3VzZVN0YXRlMjEgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShmYWxzZSksCiAgICAgIF91c2VTdGF0ZTIyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMjEsIDIpLAogICAgICBwYWdlUmVhZHkgPSBfdXNlU3RhdGUyMlswXSwKICAgICAgc2V0UGFnZVJlYWR5ID0gX3VzZVN0YXRlMjJbMV07CgogIGZ1bmN0aW9uIGRldGVjdG9yQ2hhbmdlSGFuZGxlcihzZWxlY3RlZE9wdGlvbnNJbikgewogICAgYWRkRGV0ZWN0b3Ioc2VsZWN0ZWRPcHRpb25zSW4pOwogIH0KCiAgZnVuY3Rpb24gYWRkRGV0ZWN0b3Ioc2VsZWN0ZWRPcHRpb25zSW4pIHsKICAgIGlmIChzZWxlY3RlZE9wdGlvbnNJbiAhPT0gbnVsbCAmJiBzZWxlY3RlZE9wdGlvbnNJbi5sZW5ndGgpIHsKICAgICAgdmFyIG9wdGlvbiA9IHNlbGVjdGVkT3B0aW9uc0luWzBdOwoKICAgICAgaWYgKHR5cGVvZiBvcHRpb24gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgdmFyIG5ld1BhaXIgPSB7CiAgICAgICAgICBhZ2c6IG9wdGlvbi5hZ2csCiAgICAgICAgICBmaWVsZDogb3B0aW9uLmZpZWxkCiAgICAgICAgfTsKICAgICAgICBzZXRBZ2dGaWVsZFBhaXJMaXN0KFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYWdnRmllbGRQYWlyTGlzdCksIFtuZXdQYWlyXSkpOwogICAgICAgIHNldFNlbGVjdGVkT3B0aW9ucyhbXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2V0QWdnRmllbGRQYWlyTGlzdChbXSk7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGRlbGV0ZURldGVjdG9yKGluZGV4KSB7CiAgICBhZ2dGaWVsZFBhaXJMaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICBzZXRBZ2dGaWVsZFBhaXJMaXN0KF90b0NvbnN1bWFibGVBcnJheShhZ2dGaWVsZFBhaXJMaXN0KSk7CiAgfQoKICAoMCwgX3JlYWN0LnVzZUVmZmVjdCkoZnVuY3Rpb24gKCkgewogICAgc2V0UGFnZVJlYWR5KHRydWUpOwogIH0sIFtdKTsgLy8gd2F0Y2ggZm9yIGNoYW5nZXMgaW4gZGV0ZWN0b3IgbGlzdCBsZW5ndGgKCiAgKDAsIF9yZWFjdC51c2VFZmZlY3QpKGZ1bmN0aW9uICgpIHsKICAgIGpvYkNyZWF0b3IucmVtb3ZlQWxsRGV0ZWN0b3JzKCk7CiAgICBhZ2dGaWVsZFBhaXJMaXN0LmZvckVhY2goZnVuY3Rpb24gKHBhaXIpIHsKICAgICAgam9iQ3JlYXRvci5hZGREZXRlY3RvcihwYWlyLmFnZywgcGFpci5maWVsZCk7CiAgICB9KTsKICAgIGpvYkNyZWF0b3IuY2FsY3VsYXRlTW9kZWxNZW1vcnlMaW1pdCgpOwogICAgam9iQ3JlYXRvclVwZGF0ZSgpOwogICAgbG9hZENoYXJ0cygpOwogICAgc2V0SXNWYWxpZChhZ2dGaWVsZFBhaXJMaXN0Lmxlbmd0aCA+IDApOwogIH0sIFthZ2dGaWVsZFBhaXJMaXN0Lmxlbmd0aF0pOyAvLyB3YXRjaCBmb3IgY2hhbmdlIGluIGpvYkNyZWF0b3IKCiAgKDAsIF9yZWFjdC51c2VFZmZlY3QpKGZ1bmN0aW9uICgpIHsKICAgIGlmIChqb2JDcmVhdG9yLnN0YXJ0ICE9PSBzdGFydCB8fCBqb2JDcmVhdG9yLmVuZCAhPT0gZW5kKSB7CiAgICAgIHNldFN0YXJ0KGpvYkNyZWF0b3Iuc3RhcnQpOwogICAgICBzZXRFbmQoam9iQ3JlYXRvci5lbmQpOwogICAgICBsb2FkQ2hhcnRzKCk7CiAgICB9CgogICAgaWYgKGpvYkNyZWF0b3IuYnVja2V0U3Bhbk1zICE9PSBidWNrZXRTcGFuTXMpIHsKICAgICAgc2V0QnVja2V0U3Bhbk1zKGpvYkNyZWF0b3IuYnVja2V0U3Bhbk1zKTsKICAgICAgbG9hZENoYXJ0cygpOwogICAgfQoKICAgIHNldFNwbGl0RmllbGQoam9iQ3JlYXRvci5zcGxpdEZpZWxkKTsKICB9LCBbam9iQ3JlYXRvclVwZGF0ZWRdKTsgLy8gd2F0Y2ggZm9yIGNoYW5nZXMgaW4gc3BsaXQgZmllbGQuCiAgLy8gbG9hZCBleGFtcGxlIGZpZWxkIHZhbHVlcwogIC8vIGNoYW5nZXMgdG8gZmllbGRWYWx1ZXMgaGVyZSB3aWxsIHRyaWdnZXIgdGhlIGNhcmQgZWZmZWN0CgogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICBpZiAoc3BsaXRGaWVsZCAhPT0gbnVsbCkgewogICAgICBjaGFydExvYWRlci5sb2FkRmllbGRFeGFtcGxlVmFsdWVzKHNwbGl0RmllbGQpLnRoZW4oc2V0RmllbGRWYWx1ZXMpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF9tZXNzYWdlYmFyLm1sTWVzc2FnZUJhclNlcnZpY2Uubm90aWZ5LmVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBzZXRGaWVsZFZhbHVlcyhbXSk7CiAgICB9CgogICAgam9iQ3JlYXRvci5jYWxjdWxhdGVNb2RlbE1lbW9yeUxpbWl0KCk7CiAgfSwgW3NwbGl0RmllbGRdKTsgLy8gd2F0Y2ggZm9yIGNoYW5nZXMgaW4gdGhlIHNwbGl0IGZpZWxkIHZhbHVlcwogIC8vIHJlbG9hZCB0aGUgY2hhcnRzCgogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICBsb2FkQ2hhcnRzKCk7CiAgfSwgW2ZpZWxkVmFsdWVzXSk7CgogIGZ1bmN0aW9uIGxvYWRDaGFydHMoKSB7CiAgICB2YXIgY3MsIHJlc3A7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGxvYWRDaGFydHMkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoIWFsbERhdGFSZWFkeSgpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzZXRMb2FkaW5nRGF0YSh0cnVlKTsKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgIGNzID0gKDAsIF9zZXR0aW5ncy5nZXRDaGFydFNldHRpbmdzKShqb2JDcmVhdG9yLCBjaGFydEludGVydmFsKTsKICAgICAgICAgICAgc2V0Q2hhcnRTZXR0aW5ncyhjcyk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGNoYXJ0TG9hZGVyLmxvYWRMaW5lQ2hhcnRzKGpvYkNyZWF0b3Iuc3RhcnQsIGpvYkNyZWF0b3IuZW5kLCBhZ2dGaWVsZFBhaXJMaXN0LCBqb2JDcmVhdG9yLnNwbGl0RmllbGQsIGZpZWxkVmFsdWVzLmxlbmd0aCA+IDAgPyBmaWVsZFZhbHVlc1swXSA6IG51bGwsIGNzLmludGVydmFsTXMpKTsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBzZXRMaW5lQ2hhcnRzRGF0YShyZXNwKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTE7CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CgogICAgICAgICAgICBfbWVzc2FnZWJhci5tbE1lc3NhZ2VCYXJTZXJ2aWNlLm5vdGlmeS5lcnJvcihfY29udGV4dC50MCk7CgogICAgICAgICAgICBzZXRMaW5lQ2hhcnRzRGF0YShbXSk7CgogICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgc2V0TG9hZGluZ0RhdGEoZmFsc2UpOwoKICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgbnVsbCwgbnVsbCwgW1syLCAxMV1dKTsKICB9CgogIGZ1bmN0aW9uIGFsbERhdGFSZWFkeSgpIHsKICAgIHJldHVybiBwYWdlUmVhZHkgJiYgYWdnRmllbGRQYWlyTGlzdC5sZW5ndGggPiAwICYmIChzcGxpdEZpZWxkID09PSBudWxsIHx8IHNwbGl0RmllbGQgIT09IG51bGwgJiYgZmllbGRWYWx1ZXMubGVuZ3RoID4gMCk7CiAgfQoKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NoYXJ0X2dyaWQuQ2hhcnRHcmlkLCB7CiAgICBhZ2dGaWVsZFBhaXJMaXN0OiBhZ2dGaWVsZFBhaXJMaXN0LAogICAgY2hhcnRTZXR0aW5nczogY2hhcnRTZXR0aW5ncywKICAgIHNwbGl0RmllbGQ6IHNwbGl0RmllbGQsCiAgICBmaWVsZFZhbHVlczogZmllbGRWYWx1ZXMsCiAgICBsaW5lQ2hhcnRzRGF0YTogbGluZUNoYXJ0c0RhdGEsCiAgICBtb2RlbERhdGE6IFtdLAogICAgYW5vbWFseURhdGE6IFtdLAogICAgZGVsZXRlRGV0ZWN0b3I6IGRlbGV0ZURldGVjdG9yLAogICAgam9iVHlwZTogam9iQ3JlYXRvci50eXBlLAogICAgbG9hZGluZzogbG9hZGluZ0RhdGEKICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbWV0cmljX3NlbGVjdG9yLk1ldHJpY1NlbGVjdG9yLCB7CiAgICBmaWVsZHM6IGZpZWxkcywKICAgIGRldGVjdG9yQ2hhbmdlSGFuZGxlcjogZGV0ZWN0b3JDaGFuZ2VIYW5kbGVyLAogICAgc2VsZWN0ZWRPcHRpb25zOiBzZWxlY3RlZE9wdGlvbnMsCiAgICByZW1vdmVPcHRpb25zOiBhZ2dGaWVsZFBhaXJMaXN0CiAgfSkpOwp9OwoKZXhwb3J0cy5NdWx0aU1ldHJpY0RldGVjdG9ycyA9IE11bHRpTWV0cmljRGV0ZWN0b3JzOw=="},null]}