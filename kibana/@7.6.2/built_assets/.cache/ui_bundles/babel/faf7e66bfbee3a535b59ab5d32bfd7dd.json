{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/index_management/public/app/components/mappings_editor/constants/parameters_definition.js","dependencies":[{"path":"x-pack/legacy/plugins/index_management/public/app/components/mappings_editor/constants/parameters_definition.js","mtime":1585205044433},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1585205104179},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1585205115915},{"path":"node_modules/babel-loader/lib/index.js","mtime":1585205080825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlBBUkFNRVRFUlNfREVGSU5JVElPTiA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9yZWFjdDIgPSByZXF1aXJlKCJAa2JuL2kxOG4vcmVhY3QiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIHQgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJpby10cyIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX3NoYXJlZF9pbXBvcnRzID0gcmVxdWlyZSgiLi4vc2hhcmVkX2ltcG9ydHMiKTsKCnZhciBfZG9jdW1lbnRhdGlvbiA9IHJlcXVpcmUoIi4uLy4uLy4uL3NlcnZpY2VzL2RvY3VtZW50YXRpb24iKTsKCnZhciBfZGVmYXVsdF92YWx1ZXMgPSByZXF1aXJlKCIuL2RlZmF1bHRfdmFsdWVzIik7Cgp2YXIgX2RhdGFfdHlwZXNfZGVmaW5pdGlvbiA9IHJlcXVpcmUoIi4vZGF0YV90eXBlc19kZWZpbml0aW9uIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9Cgp2YXIgdG9JbnQgPSBfc2hhcmVkX2ltcG9ydHMuZmllbGRGb3JtYXR0ZXJzLnRvSW50Owp2YXIgZW1wdHlGaWVsZCA9IF9zaGFyZWRfaW1wb3J0cy5maWVsZFZhbGlkYXRvcnMuZW1wdHlGaWVsZCwKICAgIGNvbnRhaW5zQ2hhcnNGaWVsZCA9IF9zaGFyZWRfaW1wb3J0cy5maWVsZFZhbGlkYXRvcnMuY29udGFpbnNDaGFyc0ZpZWxkLAogICAgbnVtYmVyR3JlYXRlclRoYW5GaWVsZCA9IF9zaGFyZWRfaW1wb3J0cy5maWVsZFZhbGlkYXRvcnMubnVtYmVyR3JlYXRlclRoYW5GaWVsZDsKdmFyIGNvbW1vbkVycm9yTWVzc2FnZXMgPSB7CiAgc21hbGxlclRoYW5aZXJvOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLnZhbGlkYXRpb25zLnNtYWxsZXJaZXJvRXJyb3JNZXNzYWdlJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdUaGUgdmFsdWUgbXVzdCBiZSBncmVhdGVyIG9yIGVxdWFsIHRvIDAuJwogIH0pLAogIHNwYWNlc05vdEFsbG93ZWQ6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnBhcmFtZXRlcnMudmFsaWRhdGlvbnMuc3BhY2VzTm90QWxsb3dlZEVycm9yTWVzc2FnZScsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnU3BhY2VzIGFyZSBub3QgYWxsb3dlZC4nCiAgfSksCiAgYW5hbHl6ZXJJc1JlcXVpcmVkOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLnZhbGlkYXRpb25zLmFuYWx5emVySXNSZXF1aXJlZEVycm9yTWVzc2FnZScsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnU3BlY2lmeSB0aGUgY3VzdG9tIGFuYWx5emVyIG5hbWUgb3IgY2hvb3NlIGEgYnVpbHQtaW4gYW5hbHl6ZXIuJwogIH0pCn07Cgp2YXIgbnVsbFZhbHVlTGFiZWwgPSBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5udWxsVmFsdWVGaWVsZExhYmVsJywgewogIGRlZmF1bHRNZXNzYWdlOiAnTnVsbCB2YWx1ZScKfSk7Cgp2YXIgbnVsbFZhbHVlVmFsaWRhdGVFbXB0eUZpZWxkID0gZW1wdHlGaWVsZChfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLnZhbGlkYXRpb25zLm51bGxWYWx1ZUlzUmVxdWlyZWRFcnJvck1lc3NhZ2UnLCB7CiAgZGVmYXVsdE1lc3NhZ2U6ICdOdWxsIHZhbHVlIGlzIHJlcXVpcmVkLicKfSkpOwp2YXIgbWFwSW5kZXhUb1ZhbHVlID0gWyd0cnVlJywgdHJ1ZSwgJ2ZhbHNlJywgZmFsc2VdOwp2YXIgaW5kZXhPcHRpb25zQ29uZmlnID0gewogIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5pbmRleE9wdGlvbnNMYWJlbCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnSW5kZXggb3B0aW9ucycKICB9KSwKICBoZWxwVGV4dDogZnVuY3Rpb24gaGVscFRleHQoKSB7CiAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLmluZGV4T3B0aW9uc0hlbHBUZXh0IiwKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJJbmZvcm1hdGlvbiB0byBzdG9yZSBpbiB0aGUgaW5kZXguIHtkb2NzTGlua30iLAogICAgICB2YWx1ZXM6IHsKICAgICAgICBkb2NzTGluazogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxpbmssIHsKICAgICAgICAgIGhyZWY6IF9kb2N1bWVudGF0aW9uLmRvY3VtZW50YXRpb25TZXJ2aWNlLmdldEluZGV4T3B0aW9uc0xpbmsoKSwKICAgICAgICAgIHRhcmdldDogIl9ibGFuayIKICAgICAgICB9LCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5jb25maWd1cmF0aW9uLmluZGV4T3B0aW9uc2REb2N1bWVudGF0aW9uTGluaycsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTGVhcm4gbW9yZS4nCiAgICAgICAgfSkpCiAgICAgIH0KICAgIH0pOwogIH0sCiAgdHlwZTogX3NoYXJlZF9pbXBvcnRzLkZJRUxEX1RZUEVTLlNVUEVSX1NFTEVDVAp9Owp2YXIgZmllbGRkYXRhRnJlcXVlbmN5RmlsdGVyUGFyYW0gPSB7CiAgZmllbGRDb25maWc6IHsKICAgIGRlZmF1bHRWYWx1ZToge30KICB9LAogIC8vIE5lZWRlZCBmb3IgIkZpZWxkUGFyYW1zIiB0eXBlCiAgcHJvcHM6IHsKICAgIG1pbl9zZWdtZW50X3NpemU6IHsKICAgICAgZmllbGRDb25maWc6IHsKICAgICAgICB0eXBlOiBfc2hhcmVkX2ltcG9ydHMuRklFTERfVFlQRVMuTlVNQkVSLAogICAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5taW5TZWdtZW50U2l6ZUZpZWxkTGFiZWwnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ01pbmltdW0gc2VnbWVudCBzaXplJwogICAgICAgIH0pLAogICAgICAgIGRlZmF1bHRWYWx1ZTogNTAsCiAgICAgICAgZm9ybWF0dGVyczogW3RvSW50XQogICAgICB9CiAgICB9CiAgfSwKICBzY2hlbWE6IHQucmVjb3JkKHQudW5pb24oW3QubGl0ZXJhbCgnbWluJyksIHQubGl0ZXJhbCgnbWF4JyksIHQubGl0ZXJhbCgnbWluX3NlZ21lbnRfc2l6ZScpXSksIHQubnVtYmVyKQp9Owp2YXIgYW5hbHl6ZXJWYWxpZGF0aW9ucyA9IFt7CiAgdmFsaWRhdG9yOiBlbXB0eUZpZWxkKGNvbW1vbkVycm9yTWVzc2FnZXMuYW5hbHl6ZXJJc1JlcXVpcmVkKQp9LCB7CiAgdmFsaWRhdG9yOiBjb250YWluc0NoYXJzRmllbGQoewogICAgY2hhcnM6ICcgJywKICAgIG1lc3NhZ2U6IGNvbW1vbkVycm9yTWVzc2FnZXMuc3BhY2VzTm90QWxsb3dlZAogIH0pCn1dOwovKioKICogU2luZ2xlIHNvdXJjZSBvZiB0cnV0aCBmb3IgdGhlIHBhcmFtZXRlcnMgYSB1c2VyIGNhbiBjaGFuZ2Ugb24gX2FueV8gZmllbGQgdHlwZS4KICogSXQgaXMgYWxzbyB0aGUgc2luZ2xlIHNvdXJjZSBvZiB0cnV0aCBmb3IgdGhlIHBhcmFtZXRlcnMgZGVmYXVsdCB2YWx1ZXMuCiAqCiAqIEFzIGEgY29uc2VxdWVuY2UsIGlmIGEgcGFyYW1ldGVyIGlzICpub3QqIGRlY2xhcmVkIGhlcmUsIHdlIHdvbid0IGJlIGFibGUgdG8gZGVjbGFyZSBpdCBpbiB0aGUgSnNvbiBlZGl0b3IuCiAqLwoKdmFyIFBBUkFNRVRFUlNfREVGSU5JVElPTiA9IHsKICBuYW1lOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IubmFtZUZpZWxkTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdGaWVsZCBuYW1lJwogICAgICB9KSwKICAgICAgZGVmYXVsdFZhbHVlOiAnJywKICAgICAgdmFsaWRhdGlvbnM6IFt7CiAgICAgICAgdmFsaWRhdG9yOiBlbXB0eUZpZWxkKF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnBhcmFtZXRlcnMudmFsaWRhdGlvbnMubmFtZUlzUmVxdWlyZWRFcnJvck1lc3NhZ2UnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0dpdmUgYSBuYW1lIHRvIHRoZSBmaWVsZC4nCiAgICAgICAgfSkpCiAgICAgIH1dCiAgICB9CiAgfSwKICB0eXBlOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IudHlwZUZpZWxkTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdGaWVsZCB0eXBlJwogICAgICB9KSwKICAgICAgZGVmYXVsdFZhbHVlOiAndGV4dCcsCiAgICAgIGRlc2VyaWFsaXplcjogZnVuY3Rpb24gZGVzZXJpYWxpemVyKGZpZWxkVHlwZSkgewogICAgICAgIGlmICh0eXBlb2YgZmllbGRUeXBlID09PSAnc3RyaW5nJyAmJiBCb29sZWFuKGZpZWxkVHlwZSkpIHsKICAgICAgICAgIHJldHVybiBbewogICAgICAgICAgICBsYWJlbDogX2RhdGFfdHlwZXNfZGVmaW5pdGlvbi5UWVBFX0RFRklOSVRJT05bZmllbGRUeXBlXSA/IF9kYXRhX3R5cGVzX2RlZmluaXRpb24uVFlQRV9ERUZJTklUSU9OW2ZpZWxkVHlwZV0ubGFiZWwgOiBmaWVsZFR5cGUsCiAgICAgICAgICAgIHZhbHVlOiBmaWVsZFR5cGUKICAgICAgICAgIH1dOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9LAogICAgICBzZXJpYWxpemVyOiBmdW5jdGlvbiBzZXJpYWxpemVyKGZpZWxkVHlwZSkgewogICAgICAgIHJldHVybiBmaWVsZFR5cGUgJiYgZmllbGRUeXBlLmxlbmd0aCA/IGZpZWxkVHlwZVswXS52YWx1ZSA6IGZpZWxkVHlwZTsKICAgICAgfSwKICAgICAgdmFsaWRhdGlvbnM6IFt7CiAgICAgICAgdmFsaWRhdG9yOiBlbXB0eUZpZWxkKF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnBhcmFtZXRlcnMudmFsaWRhdGlvbnMudHlwZUlzUmVxdWlyZWRFcnJvck1lc3NhZ2UnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1NwZWNpZnkgYSBmaWVsZCB0eXBlLicKICAgICAgICB9KSkKICAgICAgfV0KICAgIH0sCiAgICBzY2hlbWE6IHQuc3RyaW5nCiAgfSwKICBzdG9yZTogewogICAgZmllbGRDb25maWc6IHsKICAgICAgdHlwZTogX3NoYXJlZF9pbXBvcnRzLkZJRUxEX1RZUEVTLkNIRUNLQk9YLAogICAgICBkZWZhdWx0VmFsdWU6IGZhbHNlCiAgICB9LAogICAgc2NoZW1hOiB0LmJvb2xlYW4KICB9LAogIGluZGV4OiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICB0eXBlOiBfc2hhcmVkX2ltcG9ydHMuRklFTERfVFlQRVMuQ0hFQ0tCT1gsCiAgICAgIGRlZmF1bHRWYWx1ZTogdHJ1ZQogICAgfSwKICAgIHNjaGVtYTogdC5ib29sZWFuCiAgfSwKICBkb2NfdmFsdWVzOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBkZWZhdWx0VmFsdWU6IHRydWUKICAgIH0sCiAgICBzY2hlbWE6IHQuYm9vbGVhbgogIH0sCiAgZG9jX3ZhbHVlc19iaW5hcnk6IHsKICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgIGRlZmF1bHRWYWx1ZTogZmFsc2UKICAgIH0sCiAgICBzY2hlbWE6IHQuYm9vbGVhbgogIH0sCiAgZmllbGRkYXRhOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICB0eXBlOiBfc2hhcmVkX2ltcG9ydHMuRklFTERfVFlQRVMuQ0hFQ0tCT1gsCiAgICAgIGRlZmF1bHRWYWx1ZTogZmFsc2UKICAgIH0sCiAgICBzY2hlbWE6IHQuYm9vbGVhbgogIH0sCiAgZmllbGRkYXRhX2ZyZXF1ZW5jeV9maWx0ZXI6IGZpZWxkZGF0YUZyZXF1ZW5jeUZpbHRlclBhcmFtLAogIGZpZWxkZGF0YV9mcmVxdWVuY3lfZmlsdGVyX3BlcmNlbnRhZ2U6IF9vYmplY3RTcHJlYWQoe30sIGZpZWxkZGF0YUZyZXF1ZW5jeUZpbHRlclBhcmFtLCB7CiAgICBwcm9wczogewogICAgICBtaW46IHsKICAgICAgICBmaWVsZENvbmZpZzogewogICAgICAgICAgZGVmYXVsdFZhbHVlOiAwLjAxLAogICAgICAgICAgc2VyaWFsaXplcjogZnVuY3Rpb24gc2VyaWFsaXplcih2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09ICcnID8gJycgOiB0b0ludCh2YWx1ZSkgLyAxMDA7CiAgICAgICAgICB9LAogICAgICAgICAgZGVzZXJpYWxpemVyOiBmdW5jdGlvbiBkZXNlcmlhbGl6ZXIodmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiAxMDApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgbWF4OiB7CiAgICAgICAgZmllbGRDb25maWc6IHsKICAgICAgICAgIGRlZmF1bHRWYWx1ZTogMSwKICAgICAgICAgIHNlcmlhbGl6ZXI6IGZ1bmN0aW9uIHNlcmlhbGl6ZXIodmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSAnJyA/ICcnIDogdG9JbnQodmFsdWUpIC8gMTAwOwogICAgICAgICAgfSwKICAgICAgICAgIGRlc2VyaWFsaXplcjogZnVuY3Rpb24gZGVzZXJpYWxpemVyKHZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogMTAwKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9KSwKICBmaWVsZGRhdGFfZnJlcXVlbmN5X2ZpbHRlcl9hYnNvbHV0ZTogX29iamVjdFNwcmVhZCh7fSwgZmllbGRkYXRhRnJlcXVlbmN5RmlsdGVyUGFyYW0sIHsKICAgIHByb3BzOiB7CiAgICAgIG1pbjogewogICAgICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgICAgICBkZWZhdWx0VmFsdWU6IDIsCiAgICAgICAgICB2YWxpZGF0aW9uczogW3sKICAgICAgICAgICAgdmFsaWRhdG9yOiBudW1iZXJHcmVhdGVyVGhhbkZpZWxkKHsKICAgICAgICAgICAgICB0aGFuOiAxLAogICAgICAgICAgICAgIG1lc3NhZ2U6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnBhcmFtZXRlcnMudmFsaWRhdGlvbnMuZmllbGREYXRhRnJlcXVlbmN5Lm51bWJlckdyZWF0ZXJUaGFuT25lRXJyb3JNZXNzYWdlJywgewogICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdWYWx1ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvbmUuJwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9XSwKICAgICAgICAgIGZvcm1hdHRlcnM6IFt0b0ludF0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1heDogewogICAgICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgICAgICBkZWZhdWx0VmFsdWU6IDUsCiAgICAgICAgICB2YWxpZGF0aW9uczogW3sKICAgICAgICAgICAgdmFsaWRhdG9yOiBudW1iZXJHcmVhdGVyVGhhbkZpZWxkKHsKICAgICAgICAgICAgICB0aGFuOiAxLAogICAgICAgICAgICAgIG1lc3NhZ2U6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnBhcmFtZXRlcnMudmFsaWRhdGlvbnMuZmllbGREYXRhRnJlcXVlbmN5Lm51bWJlckdyZWF0ZXJUaGFuT25lRXJyb3JNZXNzYWdlJywgewogICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdWYWx1ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvbmUuJwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9XSwKICAgICAgICAgIGZvcm1hdHRlcnM6IFt0b0ludF0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9KSwKICBjb2VyY2U6IHsKICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgIGRlZmF1bHRWYWx1ZTogdHJ1ZQogICAgfSwKICAgIHNjaGVtYTogdC5ib29sZWFuCiAgfSwKICBjb2VyY2Vfc2hhcGU6IHsKICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgIGRlZmF1bHRWYWx1ZTogZmFsc2UKICAgIH0sCiAgICBzY2hlbWE6IHQuYm9vbGVhbgogIH0sCiAgaWdub3JlX21hbGZvcm1lZDogewogICAgZmllbGRDb25maWc6IHsKICAgICAgZGVmYXVsdFZhbHVlOiBmYWxzZQogICAgfSwKICAgIHNjaGVtYTogdC5ib29sZWFuCiAgfSwKICBudWxsX3ZhbHVlOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBkZWZhdWx0VmFsdWU6ICcnLAogICAgICB0eXBlOiBfc2hhcmVkX2ltcG9ydHMuRklFTERfVFlQRVMuVEVYVCwKICAgICAgbGFiZWw6IG51bGxWYWx1ZUxhYmVsCiAgICB9CiAgfSwKICBudWxsX3ZhbHVlX2lwOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBkZWZhdWx0VmFsdWU6ICcnLAogICAgICB0eXBlOiBfc2hhcmVkX2ltcG9ydHMuRklFTERfVFlQRVMuVEVYVCwKICAgICAgbGFiZWw6IG51bGxWYWx1ZUxhYmVsLAogICAgICBoZWxwVGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IucGFyYW1ldGVycy5udWxsVmFsdWVJcEhlbHBUZXh0JywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQWNjZXB0cyBhbiBJUCBhZGRyZXNzLicKICAgICAgfSkKICAgIH0KICB9LAogIG51bGxfdmFsdWVfbnVtZXJpYzogewogICAgZmllbGRDb25maWc6IHsKICAgICAgZGVmYXVsdFZhbHVlOiAnJywKICAgICAgLy8gTmVlZGVkIGZvciBGaWVsZFBhcmFtcyB0eXBpbmcKICAgICAgbGFiZWw6IG51bGxWYWx1ZUxhYmVsLAogICAgICBmb3JtYXR0ZXJzOiBbdG9JbnRdLAogICAgICB2YWxpZGF0aW9uczogW3sKICAgICAgICB2YWxpZGF0b3I6IG51bGxWYWx1ZVZhbGlkYXRlRW1wdHlGaWVsZAogICAgICB9XQogICAgfSwKICAgIHNjaGVtYTogdC5udW1iZXIKICB9LAogIG51bGxfdmFsdWVfYm9vbGVhbjogewogICAgZmllbGRDb25maWc6IHsKICAgICAgZGVmYXVsdFZhbHVlOiBmYWxzZSwKICAgICAgbGFiZWw6IG51bGxWYWx1ZUxhYmVsLAogICAgICBkZXNlcmlhbGl6ZXI6IGZ1bmN0aW9uIGRlc2VyaWFsaXplcih2YWx1ZSkgewogICAgICAgIHJldHVybiBtYXBJbmRleFRvVmFsdWUuaW5kZXhPZih2YWx1ZSk7CiAgICAgIH0sCiAgICAgIHNlcmlhbGl6ZXI6IGZ1bmN0aW9uIHNlcmlhbGl6ZXIodmFsdWUpIHsKICAgICAgICByZXR1cm4gbWFwSW5kZXhUb1ZhbHVlW3ZhbHVlXTsKICAgICAgfQogICAgfSwKICAgIHNjaGVtYTogdC51bmlvbihbdC5saXRlcmFsKHRydWUpLCB0LmxpdGVyYWwoZmFsc2UpLCB0LmxpdGVyYWwoJ3RydWUnKSwgdC5saXRlcmFsKCdmYWxzZScpXSkKICB9LAogIG51bGxfdmFsdWVfZ2VvX3BvaW50OiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBkZWZhdWx0VmFsdWU6ICcnLAogICAgICAvLyBOZWVkZWQgZm9yIEZpZWxkUGFyYW1zIHR5cGluZwogICAgICBsYWJlbDogbnVsbFZhbHVlTGFiZWwsCiAgICAgIGhlbHBUZXh0OiBmdW5jdGlvbiBoZWxwVGV4dCgpIHsKICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAieHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLmdlb1BvaW50TnVsbFZhbHVlSGVscFRleHQiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJHZW8tcG9pbnRzIGNhbiBiZSBleHByZXNzZWQgYXMgYW4gb2JqZWN0LCBzdHJpbmcsIGdlb2hhc2gsIGFycmF5IG9yIHtkb2NzTGlua30gUE9JTlQuIiwKICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICBkb2NzTGluazogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxpbmssIHsKICAgICAgICAgICAgICBocmVmOiBfZG9jdW1lbnRhdGlvbi5kb2N1bWVudGF0aW9uU2VydmljZS5nZXRXZWxsS25vd25UZXh0TGluaygpLAogICAgICAgICAgICAgIHRhcmdldDogIl9ibGFuayIKICAgICAgICAgICAgfSwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IucGFyYW1ldGVycy53ZWxsS25vd25UZXh0RG9jdW1lbnRhdGlvbkxpbmsnLCB7CiAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdXZWxsLUtub3duIFRleHQnCiAgICAgICAgICAgIH0pKQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICB2YWxpZGF0aW9uczogW3sKICAgICAgICB2YWxpZGF0b3I6IG51bGxWYWx1ZVZhbGlkYXRlRW1wdHlGaWVsZAogICAgICB9XSwKICAgICAgZGVzZXJpYWxpemVyOiBmdW5jdGlvbiBkZXNlcmlhbGl6ZXIodmFsdWUpIHsKICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpOwogICAgICB9LAogICAgICBzZXJpYWxpemVyOiBmdW5jdGlvbiBzZXJpYWxpemVyKHZhbHVlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgLy8gc3dhbGxvdyBlcnJvciBhbmQgcmV0dXJuIG5vbi1wYXJzZWQgdmFsdWU7CiAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2NoZW1hOiB0LmFueQogIH0sCiAgY29weV90bzogewogICAgZmllbGRDb25maWc6IHsKICAgICAgZGVmYXVsdFZhbHVlOiAnJywKICAgICAgdHlwZTogX3NoYXJlZF9pbXBvcnRzLkZJRUxEX1RZUEVTLlRFWFQsCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLmNvcHlUb0xhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnR3JvdXAgZmllbGQgbmFtZScKICAgICAgfSksCiAgICAgIHZhbGlkYXRpb25zOiBbewogICAgICAgIHZhbGlkYXRvcjogZW1wdHlGaWVsZChfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLnZhbGlkYXRpb25zLmNvcHlUb0lzUmVxdWlyZWRFcnJvck1lc3NhZ2UnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0dyb3VwIGZpZWxkIG5hbWUgaXMgcmVxdWlyZWQuJwogICAgICAgIH0pKQogICAgICB9XQogICAgfSwKICAgIHNjaGVtYTogdC5zdHJpbmcKICB9LAogIG1heF9pbnB1dF9sZW5ndGg6IHsKICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgIGRlZmF1bHRWYWx1ZTogNTAsCiAgICAgIHR5cGU6IF9zaGFyZWRfaW1wb3J0cy5GSUVMRF9UWVBFUy5OVU1CRVIsCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLm1heElucHV0TGVuZ3RoTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdNYXggaW5wdXQgbGVuZ3RoJwogICAgICB9KSwKICAgICAgZm9ybWF0dGVyczogW3RvSW50XSwKICAgICAgdmFsaWRhdGlvbnM6IFt7CiAgICAgICAgdmFsaWRhdG9yOiBlbXB0eUZpZWxkKF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnBhcmFtZXRlcnMudmFsaWRhdGlvbnMubWF4SW5wdXRMZW5ndGhGaWVsZFJlcXVpcmVkRXJyb3JNZXNzYWdlJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTcGVjaWZ5IGEgbWF4IGlucHV0IGxlbmd0aC4nCiAgICAgICAgfSkpCiAgICAgIH1dCiAgICB9LAogICAgc2NoZW1hOiB0Lm51bWJlcgogIH0sCiAgbG9jYWxlOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBkZWZhdWx0VmFsdWU6ICdST09UJywKICAgICAgdHlwZTogX3NoYXJlZF9pbXBvcnRzLkZJRUxEX1RZUEVTLlRFWFQsCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLmxvY2FsZUxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTG9jYWxlJwogICAgICB9KSwKICAgICAgaGVscFRleHQ6IGZ1bmN0aW9uIGhlbHBUZXh0KCkgewogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnBhcmFtZXRlcnMubG9jYWxlSGVscFRleHQiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTZXBhcmF0ZSB0aGUgbGFuZ3VhZ2UsIGNvdW50cnksIGFuZCB2YXJpYW50LCB1c2Uge2h5cGhlbn0gb3Ige3VuZGVyc2NvcmV9LiBBIG1heGltdW0gb2YgMiBzZXBhcmF0b3JzIGlzIGFsbG93ZWQuIEV4YW1wbGU6IHtsb2NhbGV9LiIsCiAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgbG9jYWxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ29kZSwgbnVsbCwgImVuLVVTIiksCiAgICAgICAgICAgIGh5cGhlbjogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNvZGUsIG51bGwsICItIiksCiAgICAgICAgICAgIHVuZGVyc2NvcmU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlDb2RlLCBudWxsLCAiXyIpCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHZhbGlkYXRpb25zOiBbewogICAgICAgIHZhbGlkYXRvcjogZW1wdHlGaWVsZChfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLnZhbGlkYXRpb25zLmxvY2FsZUZpZWxkUmVxdWlyZWRFcnJvck1lc3NhZ2UnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1NwZWNpZnkgYSBsb2NhbGUuJwogICAgICAgIH0pKQogICAgICB9XQogICAgfSwKICAgIHNjaGVtYTogdC5zdHJpbmcKICB9LAogIG9yaWVudGF0aW9uOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBkZWZhdWx0VmFsdWU6ICdjY3cnLAogICAgICB0eXBlOiBfc2hhcmVkX2ltcG9ydHMuRklFTERfVFlQRVMuU1VQRVJfU0VMRUNULAogICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IucGFyYW1ldGVycy5vcmllbnRhdGlvbkxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnT3JpZW50YXRpb24nCiAgICAgIH0pCiAgICB9LAogICAgc2NoZW1hOiB0LnN0cmluZwogIH0sCiAgYm9vc3Q6IHsKICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgIGRlZmF1bHRWYWx1ZTogMS4wLAogICAgICB0eXBlOiBfc2hhcmVkX2ltcG9ydHMuRklFTERfVFlQRVMuTlVNQkVSLAogICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IucGFyYW1ldGVycy5ib29zdExhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQm9vc3QgbGV2ZWwnCiAgICAgIH0pLAogICAgICBmb3JtYXR0ZXJzOiBbdG9JbnRdLAogICAgICB2YWxpZGF0aW9uczogW3sKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihfcmVmKSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlOwoKICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBtZXNzYWdlOiBjb21tb25FcnJvck1lc3NhZ2VzLnNtYWxsZXJUaGFuWmVybwogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfV0KICAgIH0sCiAgICBzY2hlbWE6IHQubnVtYmVyCiAgfSwKICBzY2FsaW5nX2ZhY3RvcjogewogICAgdGl0bGU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnBhcmFtZXRlcnMuc2NhbGluZ0ZhY3RvckZpZWxkVGl0bGUnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2NhbGluZyBmYWN0b3InCiAgICB9KSwKICAgIGRlc2NyaXB0aW9uOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLnNjYWxpbmdGYWN0b3JGaWVsZERlc2NyaXB0aW9uJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ1ZhbHVlcyB3aWxsIGJlIG11bHRpcGxpZWQgYnkgdGhpcyBmYWN0b3IgYXQgaW5kZXggdGltZSBhbmQgcm91bmRlZCB0byB0aGUgY2xvc2VzdCBsb25nIHZhbHVlLiBIaWdoIGZhY3RvciB2YWx1ZXMgaW1wcm92ZSBhY2N1cmFjeSwgYnV0IGFsc28gaW5jcmVhc2Ugc3BhY2UgcmVxdWlyZW1lbnRzLicKICAgIH0pLAogICAgZmllbGRDb25maWc6IHsKICAgICAgZGVmYXVsdFZhbHVlOiAnJywKICAgICAgdHlwZTogX3NoYXJlZF9pbXBvcnRzLkZJRUxEX1RZUEVTLk5VTUJFUiwKICAgICAgZGVzZXJpYWxpemVyOiBmdW5jdGlvbiBkZXNlcmlhbGl6ZXIodmFsdWUpIHsKICAgICAgICByZXR1cm4gK3ZhbHVlOwogICAgICB9LAogICAgICBmb3JtYXR0ZXJzOiBbdG9JbnRdLAogICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IucGFyYW1ldGVycy5zY2FsaW5nRmFjdG9yTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTY2FsaW5nIGZhY3RvcicKICAgICAgfSksCiAgICAgIHZhbGlkYXRpb25zOiBbewogICAgICAgIHZhbGlkYXRvcjogZW1wdHlGaWVsZChfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLnZhbGlkYXRpb25zLnNjYWxpbmdGYWN0b3JJc1JlcXVpcmVkRXJyb3JNZXNzYWdlJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdBIHNjYWxpbmcgZmFjdG9yIGlzIHJlcXVpcmVkLicKICAgICAgICB9KSkKICAgICAgfSwgewogICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKF9yZWYyKSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBfcmVmMi52YWx1ZTsKCiAgICAgICAgICBpZiAodmFsdWUgPD0gMCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIG1lc3NhZ2U6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnBhcmFtZXRlcnMudmFsaWRhdGlvbnMuZ3JlYXRlclRoYW5aZXJvRXJyb3JNZXNzYWdlJywgewogICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdUaGUgc2NhbGluZyBmYWN0b3IgbXVzdCBiZSBncmVhdGVyIHRoYW4gMC4nCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH1dLAogICAgICBoZWxwVGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IucGFyYW1ldGVycy5zY2FsaW5nRmFjdG9ySGVscFRleHQnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdWYWx1ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwLicKICAgICAgfSkKICAgIH0sCiAgICBzY2hlbWE6IHQubnVtYmVyCiAgfSwKICBkeW5hbWljOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBkZWZhdWx0VmFsdWU6IHRydWUKICAgIH0sCiAgICBzY2hlbWE6IHQudW5pb24oW3QuYm9vbGVhbiwgdC5saXRlcmFsKCdzdHJpY3QnKV0pCiAgfSwKICBkeW5hbWljX3RvZ2dsZTogewogICAgZmllbGRDb25maWc6IHsKICAgICAgZGVmYXVsdFZhbHVlOiB0cnVlCiAgICB9CiAgfSwKICBkeW5hbWljX3N0cmljdDogewogICAgZmllbGRDb25maWc6IHsKICAgICAgZGVmYXVsdFZhbHVlOiBmYWxzZSwKICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLmR5bmFtaWNTdHJpY3RQYXJhbWV0ZXIuZmllbGRUaXRsZScsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1Rocm93IGFuIGV4Y2VwdGlvbiB3aGVuIHRoZSBvYmplY3QgY29udGFpbnMgYW4gdW5tYXBwZWQgcHJvcGVydHknCiAgICAgIH0pLAogICAgICBoZWxwVGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IuZHluYW1pY1N0cmljdFBhcmFtZXRlci5maWVsZEhlbHBUZXh0JywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQnkgZGVmYXVsdCwgdW5tYXBwZWQgcHJvcGVydGllcyB3aWxsIGJlIHNpbGVudGx5IGlnbm9yZWQgd2hlbiBkeW5hbWljIG1hcHBpbmcgaXMgZGlzYWJsZWQuIE9wdGlvbmFsbHksIHlvdSBjYW4gY2hvb3NlIHRvIHRocm93IGFuIGV4Y2VwdGlvbiB3aGVuIGFuIG9iamVjdCBjb250YWlucyBhbiB1bm1hcHBlZCBwcm9wZXJ0eS4nCiAgICAgIH0pCiAgICB9CiAgfSwKICBlbmFibGVkOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBkZWZhdWx0VmFsdWU6IHRydWUKICAgIH0sCiAgICBzY2hlbWE6IHQuYm9vbGVhbgogIH0sCiAgZm9ybWF0OiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IuZm9ybWF0RmllbGRMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0Zvcm1hdCcKICAgICAgfSksCiAgICAgIGRlZmF1bHRWYWx1ZTogJ3N0cmljdF9kYXRlX29wdGlvbmFsX3RpbWV8fGVwb2NoX21pbGxpcycsCiAgICAgIHNlcmlhbGl6ZXI6IGZ1bmN0aW9uIHNlcmlhbGl6ZXIoZm9ybWF0KSB7CiAgICAgICAgcmV0dXJuIGZvcm1hdC5sZW5ndGggPyBmb3JtYXQubWFwKGZ1bmN0aW9uIChfcmVmMykgewogICAgICAgICAgdmFyIGxhYmVsID0gX3JlZjMubGFiZWw7CiAgICAgICAgICByZXR1cm4gbGFiZWw7CiAgICAgICAgfSkuam9pbignfHwnKSA6IHVuZGVmaW5lZDsKICAgICAgfSwKICAgICAgZGVzZXJpYWxpemVyOiBmdW5jdGlvbiBkZXNlcmlhbGl6ZXIoZm9ybWF0cykgewogICAgICAgIHJldHVybiBmb3JtYXRzLnNwbGl0KCd8fCcpLm1hcChmdW5jdGlvbiAoZm9ybWF0KSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsYWJlbDogZm9ybWF0CiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9LAogICAgICBoZWxwVGV4dDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInhwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IuZm9ybWF0SGVscFRleHQiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU3BlY2lmeSBjdXN0b20gZm9ybWF0cyB1c2luZyB7ZGF0ZVN5bnRheH0gc3ludGF4LiIsCiAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICBkYXRlU3ludGF4OiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ29kZSwgbnVsbCwgInl5eXkvTU0vZGQiKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBzY2hlbWE6IHQuc3RyaW5nCiAgfSwKICBhbmFseXplcjogewogICAgZmllbGRDb25maWc6IHsKICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLmFuYWx5emVyRmllbGRMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0FuYWx5emVyJwogICAgICB9KSwKICAgICAgZGVmYXVsdFZhbHVlOiBfZGVmYXVsdF92YWx1ZXMuSU5ERVhfREVGQVVMVCwKICAgICAgdmFsaWRhdGlvbnM6IGFuYWx5emVyVmFsaWRhdGlvbnMKICAgIH0sCiAgICBzY2hlbWE6IHQuc3RyaW5nCiAgfSwKICBzZWFyY2hfYW5hbHl6ZXI6IHsKICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5zZWFyY2hBbmFseXplckZpZWxkTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTZWFyY2ggYW5hbHl6ZXInCiAgICAgIH0pLAogICAgICBkZWZhdWx0VmFsdWU6IF9kZWZhdWx0X3ZhbHVlcy5JTkRFWF9ERUZBVUxULAogICAgICB2YWxpZGF0aW9uczogYW5hbHl6ZXJWYWxpZGF0aW9ucwogICAgfSwKICAgIHNjaGVtYTogdC5zdHJpbmcKICB9LAogIHNlYXJjaF9xdW90ZV9hbmFseXplcjogewogICAgZmllbGRDb25maWc6IHsKICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnNlYXJjaFF1b3RlQW5hbHl6ZXJGaWVsZExhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2VhcmNoIHF1b3RlIGFuYWx5emVyJwogICAgICB9KSwKICAgICAgZGVmYXVsdFZhbHVlOiBfZGVmYXVsdF92YWx1ZXMuSU5ERVhfREVGQVVMVCwKICAgICAgdmFsaWRhdGlvbnM6IGFuYWx5emVyVmFsaWRhdGlvbnMKICAgIH0sCiAgICBzY2hlbWE6IHQuc3RyaW5nCiAgfSwKICBub3JtYWxpemVyOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBsYWJlbDogJ05vcm1hbGl6ZXInLAogICAgICBkZWZhdWx0VmFsdWU6ICcnLAogICAgICB0eXBlOiBfc2hhcmVkX2ltcG9ydHMuRklFTERfVFlQRVMuVEVYVCwKICAgICAgdmFsaWRhdGlvbnM6IFt7CiAgICAgICAgdmFsaWRhdG9yOiBlbXB0eUZpZWxkKF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnBhcmFtZXRlcnMudmFsaWRhdGlvbnMubm9ybWFsaXplcklzUmVxdWlyZWRFcnJvck1lc3NhZ2UnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ05vcm1hbGl6ZXIgbmFtZSBpcyByZXF1aXJlZC4nCiAgICAgICAgfSkpCiAgICAgIH0sIHsKICAgICAgICB2YWxpZGF0b3I6IGNvbnRhaW5zQ2hhcnNGaWVsZCh7CiAgICAgICAgICBjaGFyczogJyAnLAogICAgICAgICAgbWVzc2FnZTogY29tbW9uRXJyb3JNZXNzYWdlcy5zcGFjZXNOb3RBbGxvd2VkCiAgICAgICAgfSkKICAgICAgfV0sCiAgICAgIGhlbHBUZXh0OiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLm5vcm1hbGl6ZXJIZWxwVGV4dCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlRoZSBuYW1lIG9mIGEgbm9ybWFsaXplciBkZWZpbmVkIGluIHRoZSBpbmRleCdzIHNldHRpbmdzLiIKICAgICAgfSkKICAgIH0sCiAgICBzY2hlbWE6IHQuc3RyaW5nCiAgfSwKICBpbmRleF9vcHRpb25zOiB7CiAgICBmaWVsZENvbmZpZzogX29iamVjdFNwcmVhZCh7fSwgaW5kZXhPcHRpb25zQ29uZmlnLCB7CiAgICAgIGRlZmF1bHRWYWx1ZTogJ3Bvc2l0aW9ucycKICAgIH0pLAogICAgc2NoZW1hOiB0LnN0cmluZwogIH0sCiAgaW5kZXhfb3B0aW9uc19rZXl3b3JkOiB7CiAgICBmaWVsZENvbmZpZzogX29iamVjdFNwcmVhZCh7fSwgaW5kZXhPcHRpb25zQ29uZmlnLCB7CiAgICAgIGRlZmF1bHRWYWx1ZTogJ2RvY3MnCiAgICB9KSwKICAgIHNjaGVtYTogdC5zdHJpbmcKICB9LAogIGluZGV4X29wdGlvbnNfZmxhdHRlbmVkOiB7CiAgICBmaWVsZENvbmZpZzogX29iamVjdFNwcmVhZCh7fSwgaW5kZXhPcHRpb25zQ29uZmlnLCB7CiAgICAgIGRlZmF1bHRWYWx1ZTogJ2RvY3MnCiAgICB9KSwKICAgIHNjaGVtYTogdC5zdHJpbmcKICB9LAogIGVhZ2VyX2dsb2JhbF9vcmRpbmFsczogewogICAgZmllbGRDb25maWc6IHsKICAgICAgZGVmYXVsdFZhbHVlOiBmYWxzZQogICAgfSwKICAgIHNjaGVtYTogdC5ib29sZWFuCiAgfSwKICBlYWdlcl9nbG9iYWxfb3JkaW5hbHNfam9pbjogewogICAgZmllbGRDb25maWc6IHsKICAgICAgZGVmYXVsdFZhbHVlOiB0cnVlCiAgICB9CiAgfSwKICBpbmRleF9waHJhc2VzOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBkZWZhdWx0VmFsdWU6IGZhbHNlCiAgICB9LAogICAgc2NoZW1hOiB0LmJvb2xlYW4KICB9LAogIHByZXNlcnZlX3NlcGFyYXRvcnM6IHsKICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgIGRlZmF1bHRWYWx1ZTogdHJ1ZQogICAgfSwKICAgIHNjaGVtYTogdC5ib29sZWFuCiAgfSwKICBwcmVzZXJ2ZV9wb3NpdGlvbl9pbmNyZW1lbnRzOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBkZWZhdWx0VmFsdWU6IHRydWUKICAgIH0sCiAgICBzY2hlbWE6IHQuYm9vbGVhbgogIH0sCiAgaWdub3JlX3pfdmFsdWU6IHsKICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgIGRlZmF1bHRWYWx1ZTogdHJ1ZQogICAgfSwKICAgIHNjaGVtYTogdC5ib29sZWFuCiAgfSwKICBwb2ludHNfb25seTogewogICAgZmllbGRDb25maWc6IHsKICAgICAgZGVmYXVsdFZhbHVlOiBmYWxzZQogICAgfSwKICAgIHNjaGVtYTogdC5ib29sZWFuCiAgfSwKICBub3JtczogewogICAgZmllbGRDb25maWc6IHsKICAgICAgZGVmYXVsdFZhbHVlOiB0cnVlCiAgICB9LAogICAgc2NoZW1hOiB0LmJvb2xlYW4KICB9LAogIG5vcm1zX2tleXdvcmQ6IHsKICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgIGRlZmF1bHRWYWx1ZTogZmFsc2UKICAgIH0sCiAgICBzY2hlbWE6IHQuYm9vbGVhbgogIH0sCiAgdGVybV92ZWN0b3I6IHsKICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgIHR5cGU6IF9zaGFyZWRfaW1wb3J0cy5GSUVMRF9UWVBFUy5TVVBFUl9TRUxFQ1QsCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLnRlcm1WZWN0b3JMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1NldCB0ZXJtIHZlY3RvcicKICAgICAgfSksCiAgICAgIGRlZmF1bHRWYWx1ZTogJ25vJwogICAgfSwKICAgIHNjaGVtYTogdC5zdHJpbmcKICB9LAogIHBhdGg6IHsKICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgIHR5cGU6IF9zaGFyZWRfaW1wb3J0cy5GSUVMRF9UWVBFUy5DT01CT19CT1gsCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLnBhdGhMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0ZpZWxkIHBhdGgnCiAgICAgIH0pLAogICAgICBoZWxwVGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IucGFyYW1ldGVycy5wYXRoSGVscFRleHQnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdUaGUgYWJzb2x1dGUgcGF0aCBmcm9tIHRoZSByb290IHRvIHRoZSB0YXJnZXQgZmllbGQuJwogICAgICB9KSwKICAgICAgdmFsaWRhdGlvbnM6IFt7CiAgICAgICAgdmFsaWRhdG9yOiBlbXB0eUZpZWxkKF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnBhcmFtZXRlcnMudmFsaWRhdGlvbnMucGF0aElzUmVxdWlyZWRFcnJvck1lc3NhZ2UnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1NlbGVjdCBhIGZpZWxkIHRvIHBvaW50IHRoZSBhbGlhcyB0by4nCiAgICAgICAgfSkpCiAgICAgIH1dLAogICAgICBzZXJpYWxpemVyOiBmdW5jdGlvbiBzZXJpYWxpemVyKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA9PT0gMCA/ICcnIDogdmFsdWVbMF0uaWQ7CiAgICAgIH0KICAgIH0sCiAgICB0YXJnZXRUeXBlc05vdEFsbG93ZWQ6IFsnb2JqZWN0JywgJ25lc3RlZCcsICdhbGlhcyddLAogICAgc2NoZW1hOiB0LnN0cmluZwogIH0sCiAgcG9zaXRpb25faW5jcmVtZW50X2dhcDogewogICAgZmllbGRDb25maWc6IHsKICAgICAgdHlwZTogX3NoYXJlZF9pbXBvcnRzLkZJRUxEX1RZUEVTLk5VTUJFUiwKICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnBhcmFtZXRlcnMucG9zaXRpb25JbmNyZW1lbnRHYXBMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1Bvc2l0aW9uIGluY3JlbWVudCBnYXAnCiAgICAgIH0pLAogICAgICBkZWZhdWx0VmFsdWU6IDEwMCwKICAgICAgZm9ybWF0dGVyczogW3RvSW50XSwKICAgICAgdmFsaWRhdGlvbnM6IFt7CiAgICAgICAgdmFsaWRhdG9yOiBlbXB0eUZpZWxkKF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnBhcmFtZXRlcnMudmFsaWRhdGlvbnMucG9zaXRpb25JbmNyZW1lbnRHYXBJc1JlcXVpcmVkRXJyb3JNZXNzYWdlJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTZXQgYSBwb3NpdGlvbiBpbmNyZW1lbnQgZ2FwIHZhbHVlJwogICAgICAgIH0pKQogICAgICB9LCB7CiAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IoX3JlZjQpIHsKICAgICAgICAgIHZhciB2YWx1ZSA9IF9yZWY0LnZhbHVlOwoKICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBtZXNzYWdlOiBjb21tb25FcnJvck1lc3NhZ2VzLnNtYWxsZXJUaGFuWmVybwogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfV0KICAgIH0sCiAgICBzY2hlbWE6IHQubnVtYmVyCiAgfSwKICBpbmRleF9wcmVmaXhlczogewogICAgZmllbGRDb25maWc6IHsKICAgICAgZGVmYXVsdFZhbHVlOiB7fQogICAgfSwKICAgIC8vIE5lZWRlZCBmb3IgRmllbGRQYXJhbXMgdHlwaW5nCiAgICBwcm9wczogewogICAgICBtaW5fY2hhcnM6IHsKICAgICAgICBmaWVsZENvbmZpZzogewogICAgICAgICAgdHlwZTogX3NoYXJlZF9pbXBvcnRzLkZJRUxEX1RZUEVTLk5VTUJFUiwKICAgICAgICAgIGRlZmF1bHRWYWx1ZTogMiwKICAgICAgICAgIHNlcmlhbGl6ZXI6IGZ1bmN0aW9uIHNlcmlhbGl6ZXIodmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSAnJyA/ICcnIDogdG9JbnQodmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgbWF4X2NoYXJzOiB7CiAgICAgICAgZmllbGRDb25maWc6IHsKICAgICAgICAgIHR5cGU6IF9zaGFyZWRfaW1wb3J0cy5GSUVMRF9UWVBFUy5OVU1CRVIsCiAgICAgICAgICBkZWZhdWx0VmFsdWU6IDUsCiAgICAgICAgICBzZXJpYWxpemVyOiBmdW5jdGlvbiBzZXJpYWxpemVyKHZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gJycgPyAnJyA6IHRvSW50KHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzY2hlbWE6IHQucGFydGlhbCh7CiAgICAgIG1pbl9jaGFyczogdC5udW1iZXIsCiAgICAgIG1heF9jaGFyczogdC5udW1iZXIKICAgIH0pCiAgfSwKICBzaW1pbGFyaXR5OiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBkZWZhdWx0VmFsdWU6ICdCTTI1JywKICAgICAgdHlwZTogX3NoYXJlZF9pbXBvcnRzLkZJRUxEX1RZUEVTLlNVUEVSX1NFTEVDVCwKICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pZHhNZ210Lm1hcHBpbmdzRWRpdG9yLnBhcmFtZXRlcnMuc2ltaWxhcml0eUxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2ltaWxhcml0eSBhbGdvcml0aG0nCiAgICAgIH0pCiAgICB9LAogICAgc2NoZW1hOiB0LnN0cmluZwogIH0sCiAgc3BsaXRfcXVlcmllc19vbl93aGl0ZXNwYWNlOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBkZWZhdWx0VmFsdWU6IGZhbHNlCiAgICB9LAogICAgc2NoZW1hOiB0LmJvb2xlYW4KICB9LAogIGlnbm9yZV9hYm92ZTogewogICAgZmllbGRDb25maWc6IHsKICAgICAgLy8gUHJvdGVjdHMgYWdhaW5zdCBMdWNlbmXigJlzIHRlcm0gYnl0ZS1sZW5ndGggbGltaXQgb2YgMzI3NjYuIFVURi04IGNoYXJhY3RlcnMgbWF5IG9jY3VweSBhdAogICAgICAvLyBtb3N0IDQgYnl0ZXMsIHNvIDMyNzY2IC8gNCA9IDgxOTEgY2hhcmFjdGVycy4KICAgICAgZGVmYXVsdFZhbHVlOiA4MTkxLAogICAgICB0eXBlOiBfc2hhcmVkX2ltcG9ydHMuRklFTERfVFlQRVMuTlVNQkVSLAogICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IuaWdub3JlQWJvdmVGaWVsZExhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQ2hhcmFjdGVyIGxlbmd0aCBsaW1pdCcKICAgICAgfSksCiAgICAgIGZvcm1hdHRlcnM6IFt0b0ludF0sCiAgICAgIHZhbGlkYXRpb25zOiBbewogICAgICAgIHZhbGlkYXRvcjogZW1wdHlGaWVsZChfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLnZhbGlkYXRpb25zLmlnbm9yZUFib3ZlSXNSZXF1aXJlZEVycm9yTWVzc2FnZScsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQ2hhcmFjdGVyIGxlbmd0aCBsaW1pdCBpcyByZXF1aXJlZC4nCiAgICAgICAgfSkpCiAgICAgIH0sIHsKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihfcmVmNSkgewogICAgICAgICAgdmFyIHZhbHVlID0gX3JlZjUudmFsdWU7CgogICAgICAgICAgaWYgKHZhbHVlIDwgMCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIG1lc3NhZ2U6IGNvbW1vbkVycm9yTWVzc2FnZXMuc21hbGxlclRoYW5aZXJvCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9XQogICAgfSwKICAgIHNjaGVtYTogdC5udW1iZXIKICB9LAogIGVuYWJsZV9wb3NpdGlvbl9pbmNyZW1lbnRzOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICBkZWZhdWx0VmFsdWU6IHRydWUKICAgIH0sCiAgICBzY2hlbWE6IHQuYm9vbGVhbgogIH0sCiAgZGVwdGhfbGltaXQ6IHsKICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgIGRlZmF1bHRWYWx1ZTogMjAsCiAgICAgIHR5cGU6IF9zaGFyZWRfaW1wb3J0cy5GSUVMRF9UWVBFUy5OVU1CRVIsCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5kZXB0aExpbWl0RmllbGRMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ05lc3RlZCBvYmplY3QgZGVwdGggbGltaXQnCiAgICAgIH0pLAogICAgICBmb3JtYXR0ZXJzOiBbdG9JbnRdLAogICAgICB2YWxpZGF0aW9uczogW3sKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihfcmVmNikgewogICAgICAgICAgdmFyIHZhbHVlID0gX3JlZjYudmFsdWU7CgogICAgICAgICAgaWYgKHZhbHVlIDwgMCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIG1lc3NhZ2U6IGNvbW1vbkVycm9yTWVzc2FnZXMuc21hbGxlclRoYW5aZXJvCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9XQogICAgfSwKICAgIHNjaGVtYTogdC5udW1iZXIKICB9LAogIGRpbXM6IHsKICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgIGRlZmF1bHRWYWx1ZTogJycsCiAgICAgIHR5cGU6IF9zaGFyZWRfaW1wb3J0cy5GSUVMRF9UWVBFUy5OVU1CRVIsCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5kaW1zRmllbGRMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0RpbWVuc2lvbnMnCiAgICAgIH0pLAogICAgICBoZWxwVGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IucGFyYW1ldGVycy5kaW1zSGVscFRleHREZXNjcmlwdGlvbicsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1RoZSBudW1iZXIgb2YgZGltZW5zaW9ucyBpbiB0aGUgdmVjdG9yLicKICAgICAgfSksCiAgICAgIGZvcm1hdHRlcnM6IFt0b0ludF0sCiAgICAgIHZhbGlkYXRpb25zOiBbewogICAgICAgIHZhbGlkYXRvcjogZW1wdHlGaWVsZChfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaWR4TWdtdC5tYXBwaW5nc0VkaXRvci5wYXJhbWV0ZXJzLnZhbGlkYXRpb25zLmRpbXNJc1JlcXVpcmVkRXJyb3JNZXNzYWdlJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTcGVjaWZ5IGEgZGltZW5zaW9uLicKICAgICAgICB9KSkKICAgICAgfV0KICAgIH0sCiAgICBzY2hlbWE6IHQuc3RyaW5nCiAgfSwKICByZWxhdGlvbnM6IHsKICAgIGZpZWxkQ29uZmlnOiB7CiAgICAgIGRlZmF1bHRWYWx1ZTogW10gLy8gTmVlZGVkIGZvciBGaWVsZFBhcmFtcyB0eXBpbmcKCiAgICB9LAogICAgc2NoZW1hOiB0LnJlY29yZCh0LnN0cmluZywgdC51bmlvbihbdC5zdHJpbmcsIHQuYXJyYXkodC5zdHJpbmcpXSkpCiAgfSwKICBtYXhfc2hpbmdsZV9zaXplOiB7CiAgICBmaWVsZENvbmZpZzogewogICAgICB0eXBlOiBfc2hhcmVkX2ltcG9ydHMuRklFTERfVFlQRVMuU0VMRUNULAogICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmlkeE1nbXQubWFwcGluZ3NFZGl0b3IubGFyZ2VzdFNoaW5nbGVTaXplRmllbGRMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ01heCBzaGluZ2xlIHNpemUnCiAgICAgIH0pLAogICAgICBkZWZhdWx0VmFsdWU6IDMsCiAgICAgIGZvcm1hdHRlcnM6IFt0b0ludF0KICAgIH0sCiAgICBzY2hlbWE6IHQudW5pb24oW3QubGl0ZXJhbCgyKSwgdC5saXRlcmFsKDMpLCB0LmxpdGVyYWwoNCldKQogIH0KfTsKZXhwb3J0cy5QQVJBTUVURVJTX0RFRklOSVRJT04gPSBQQVJBTUVURVJTX0RFRklOSVRJT047"},null]}