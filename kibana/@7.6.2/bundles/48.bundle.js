/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[48],{1001:function(module,exports,__webpack_require__){module.exports=__webpack_require__(17)(3215)},1002:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VectorTileLayer=void 0;var _tile_layer=__webpack_require__(403);var _lodash=_interopRequireDefault(__webpack_require__(3));var _constants=__webpack_require__(25);var _meta=__webpack_require__(165);var _utils=__webpack_require__(998);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var MB_STYLE_TYPE_TO_OPACITY={fill:["fill-opacity"],line:["line-opacity"],circle:["circle-opacity"],background:["background-opacity"],symbol:["icon-opacity","text-opacity"]};var VectorTileLayer=function(_TileLayer){_inherits(VectorTileLayer,_TileLayer);function VectorTileLayer(){_classCallCheck(this,VectorTileLayer);return _possibleConstructorReturn(this,_getPrototypeOf(VectorTileLayer).apply(this,arguments))}_createClass(VectorTileLayer,[{key:"_canSkipSync",value:function _canSkipSync(_ref){var prevDataRequest=_ref.prevDataRequest,nextMeta=_ref.nextMeta;if(!prevDataRequest){return false}var prevMeta=prevDataRequest.getMeta();if(!prevMeta){return false}return prevMeta.tileLayerId===nextMeta.tileLayerId}},{key:"syncData",value:function syncData(_ref2){var startLoading,stopLoading,onLoadError,dataFilters,nextMeta,canSkipSync,requestToken,styleAndSprites,spriteSheetImageData,data;return regeneratorRuntime.async((function syncData$(_context){while(1){switch(_context.prev=_context.next){case 0:startLoading=_ref2.startLoading,stopLoading=_ref2.stopLoading,onLoadError=_ref2.onLoadError,dataFilters=_ref2.dataFilters;if(!(!this.isVisible()||!this.showAtZoomLevel(dataFilters.zoom))){_context.next=3;break}return _context.abrupt("return");case 3:nextMeta={tileLayerId:this._source.getTileLayerId()};canSkipSync=this._canSkipSync({prevDataRequest:this.getSourceDataRequest(),nextMeta:nextMeta});if(!canSkipSync){_context.next=7;break}return _context.abrupt("return");case 7:requestToken=Symbol("layer-source-refresh:".concat(this.getId()," - source"));_context.prev=8;startLoading(_constants.SOURCE_DATA_ID_ORIGIN,requestToken,dataFilters);_context.next=12;return regeneratorRuntime.awrap(this._source.getVectorStyleSheetAndSpriteMeta((0,_meta.isRetina)()));case 12:styleAndSprites=_context.sent;_context.next=15;return regeneratorRuntime.awrap((0,_utils.loadSpriteSheetImageData)(styleAndSprites.spriteMeta.png));case 15:spriteSheetImageData=_context.sent;data=_objectSpread({},styleAndSprites,{spriteSheetImageData:spriteSheetImageData});stopLoading(_constants.SOURCE_DATA_ID_ORIGIN,requestToken,data,nextMeta);_context.next=23;break;case 20:_context.prev=20;_context.t0=_context["catch"](8);onLoadError(_constants.SOURCE_DATA_ID_ORIGIN,requestToken,_context.t0.message);case 23:case"end":return _context.stop()}}}),null,this,[[8,20]])}},{key:"_generateMbId",value:function _generateMbId(name){return"".concat(this.getId(),"_").concat(name)}},{key:"_generateMbSourceIdPrefix",value:function _generateMbSourceIdPrefix(){var DELIMITTER="___";return"".concat(this.getId()).concat(DELIMITTER).concat(this._source.getTileLayerId()).concat(DELIMITTER)}},{key:"_generateMbSourceId",value:function _generateMbSourceId(name){return"".concat(this._generateMbSourceIdPrefix()).concat(name)}},{key:"_getVectorStyle",value:function _getVectorStyle(){var sourceDataRequest=this.getSourceDataRequest();if(!sourceDataRequest){return null}var vectorStyleAndSprites=sourceDataRequest.getData();if(!vectorStyleAndSprites){return null}return vectorStyleAndSprites.vectorStyleSheet}},{key:"_getSpriteMeta",value:function _getSpriteMeta(){var sourceDataRequest=this.getSourceDataRequest();if(!sourceDataRequest){return null}var vectorStyleAndSprites=sourceDataRequest.getData();return vectorStyleAndSprites.spriteMeta}},{key:"_getSpriteImageData",value:function _getSpriteImageData(){var sourceDataRequest=this.getSourceDataRequest();if(!sourceDataRequest){return null}var vectorStyleAndSprites=sourceDataRequest.getData();return vectorStyleAndSprites.spriteSheetImageData}},{key:"getMbLayerIds",value:function getMbLayerIds(){var _this=this;var vectorStyle=this._getVectorStyle();if(!vectorStyle){return[]}return vectorStyle.layers.map((function(layer){return _this._generateMbId(layer.id)}))}},{key:"getMbSourceIds",value:function getMbSourceIds(){var _this2=this;var vectorStyle=this._getVectorStyle();if(!vectorStyle){return[]}var sourceIds=Object.keys(vectorStyle.sources);return sourceIds.map((function(sourceId){return _this2._generateMbSourceId(sourceId)}))}},{key:"ownsMbLayerId",value:function ownsMbLayerId(mbLayerId){return mbLayerId.startsWith(this.getId())}},{key:"ownsMbSourceId",value:function ownsMbSourceId(mbSourceId){return mbSourceId.startsWith(this.getId())}},{key:"_makeNamespacedImageId",value:function _makeNamespacedImageId(imageId){var prefix=this._source.getSpriteNamespacePrefix()+"/";return prefix+imageId}},{key:"_requiresPrevSourceCleanup",value:function _requiresPrevSourceCleanup(mbMap){var _this3=this;var sourceIdPrefix=this._generateMbSourceIdPrefix();var mbStyle=mbMap.getStyle();return Object.keys(mbStyle.sources).some((function(mbSourceId){var doesMbSourceBelongToLayer=_this3.ownsMbSourceId(mbSourceId);var doesMbSourceBelongToSource=mbSourceId.startsWith(sourceIdPrefix);return doesMbSourceBelongToLayer&&!doesMbSourceBelongToSource}))}},{key:"syncLayerWithMB",value:function syncLayerWithMB(mbMap){var _this4=this;var vectorStyle=this._getVectorStyle();if(!vectorStyle){return}if(this._requiresPrevSourceCleanup(mbMap)){var mbStyle=mbMap.getStyle();mbStyle.layers.forEach((function(mbLayer){if(_this4.ownsMbLayerId(mbLayer.id)){mbMap.removeLayer(mbLayer.id)}}));Object.keys(mbStyle.sources).some((function(mbSourceId){if(_this4.ownsMbSourceId(mbSourceId)){mbMap.removeSource(mbSourceId)}}))}var initialBootstrapCompleted=false;var sourceIds=Object.keys(vectorStyle.sources);sourceIds.forEach((function(sourceId){if(initialBootstrapCompleted){return}var mbSourceId=_this4._generateMbSourceId(sourceId);var mbSource=mbMap.getSource(mbSourceId);if(mbSource){initialBootstrapCompleted=true;return}mbMap.addSource(mbSourceId,vectorStyle.sources[sourceId])}));if(!initialBootstrapCompleted){var spriteMeta=this._getSpriteMeta();if(!spriteMeta){return}var newJson={};for(var imageId in spriteMeta.json){if(spriteMeta.json.hasOwnProperty(imageId)){var namespacedImageId=this._makeNamespacedImageId(imageId);newJson[namespacedImageId]=spriteMeta.json[imageId]}}var imageData=this._getSpriteImageData();if(!imageData){return}(0,_utils.addSpriteSheetToMapFromImageData)(newJson,imageData,mbMap);vectorStyle.layers.forEach((function(layer){var mbLayerId=_this4._generateMbId(layer.id);var mbLayer=mbMap.getLayer(mbLayerId);if(mbLayer){return}var newLayerObject=_objectSpread({},layer,{source:_this4._generateMbSourceId(layer.source),id:mbLayerId});if(newLayerObject.type==="symbol"&&newLayerObject.layout&&typeof newLayerObject.layout["icon-image"]==="string"){newLayerObject.layout["icon-image"]=_this4._makeNamespacedImageId(newLayerObject.layout["icon-image"])}if(newLayerObject.type==="fill"&&newLayerObject.paint&&typeof newLayerObject.paint["fill-pattern"]==="string"){newLayerObject.paint["fill-pattern"]=_this4._makeNamespacedImageId(newLayerObject.paint["fill-pattern"])}mbMap.addLayer(newLayerObject)}))}this._setTileLayerProperties(mbMap)}},{key:"_setOpacityForType",value:function _setOpacityForType(mbMap,mbLayer,mbLayerId){var _this5=this;var opacityProps=MB_STYLE_TYPE_TO_OPACITY[mbLayer.type];if(!opacityProps){return}opacityProps.forEach((function(opacityProp){if(mbLayer.paint&&typeof mbLayer.paint[opacityProp]==="number"){var newOpacity=mbLayer.paint[opacityProp]*_this5.getAlpha();mbMap.setPaintProperty(mbLayerId,opacityProp,newOpacity)}else{mbMap.setPaintProperty(mbLayerId,opacityProp,_this5.getAlpha())}}))}},{key:"_setLayerZoomRange",value:function _setLayerZoomRange(mbMap,mbLayer,mbLayerId){var minZoom=this._descriptor.minZoom;if(typeof mbLayer.minzoom==="number"){minZoom=Math.max(minZoom,mbLayer.minzoom)}var maxZoom=this._descriptor.maxZoom;if(typeof mbLayer.maxzoom==="number"){maxZoom=Math.min(maxZoom,mbLayer.maxzoom)}mbMap.setLayerZoomRange(mbLayerId,minZoom,maxZoom)}},{key:"_setTileLayerProperties",value:function _setTileLayerProperties(mbMap){var _this6=this;var vectorStyle=this._getVectorStyle();if(!vectorStyle){return}vectorStyle.layers.forEach((function(mbLayer){var mbLayerId=_this6._generateMbId(mbLayer.id);_this6.syncVisibilityWithMb(mbMap,mbLayerId);_this6._setLayerZoomRange(mbMap,mbLayer,mbLayerId);_this6._setOpacityForType(mbMap,mbLayer,mbLayerId)}))}}],[{key:"createDescriptor",value:function createDescriptor(options){var tileLayerDescriptor=_get(_getPrototypeOf(VectorTileLayer),"createDescriptor",this).call(this,options);tileLayerDescriptor.type=VectorTileLayer.type;tileLayerDescriptor.alpha=_lodash.default.get(options,"alpha",1);return tileLayerDescriptor}}]);return VectorTileLayer}(_tile_layer.TileLayer);exports.VectorTileLayer=VectorTileLayer;_defineProperty(VectorTileLayer,"type",_constants.LAYER_TYPE.VECTOR_TILE)},1003:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getDeleteButton=getDeleteButton;exports.ColorStops=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _color_stops_utils=__webpack_require__(513);var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getColorStopRow(_ref){var index=_ref.index,errors=_ref.errors,stopInput=_ref.stopInput,colorInput=_ref.colorInput,deleteButton=_ref.deleteButton,onAdd=_ref.onAdd;return _react.default.createElement(_eui.EuiFormRow,{key:index,className:"mapColorStop",isInvalid:errors.length!==0,error:errors,display:"rowCompressed"},_react.default.createElement("div",null,_react.default.createElement(_eui.EuiFlexGroup,{responsive:false,alignItems:"center",gutterSize:"xs"},_react.default.createElement(_eui.EuiFlexItem,null,stopInput),_react.default.createElement(_eui.EuiFlexItem,null,colorInput)),_react.default.createElement("div",{className:"mapColorStop__icons"},deleteButton,_react.default.createElement(_eui.EuiButtonIcon,{iconType:"plusInCircle",color:"primary","aria-label":"Add",title:"Add",onClick:onAdd}))))}function getDeleteButton(onRemove){return _react.default.createElement(_eui.EuiButtonIcon,{iconType:"trash",color:"danger","aria-label":_i18n.i18n.translate("xpack.maps.styles.colorStops.deleteButtonAriaLabel",{defaultMessage:"Delete"}),title:_i18n.i18n.translate("xpack.maps.styles.colorStops.deleteButtonLabel",{defaultMessage:"Delete"}),onClick:onRemove})}var ColorStops=function ColorStops(_ref2){var onChange=_ref2.onChange,colorStops=_ref2.colorStops,isStopsInvalid=_ref2.isStopsInvalid,sanitizeStopInput=_ref2.sanitizeStopInput,getStopError=_ref2.getStopError,renderStopInput=_ref2.renderStopInput,addNewRow=_ref2.addNewRow,canDeleteStop=_ref2.canDeleteStop;function getStopInput(stop,index){var onStopChange=function onStopChange(e){var newColorStops=_lodash.default.cloneDeep(colorStops);newColorStops[index].stop=sanitizeStopInput(e.target.value);var invalid=isStopsInvalid(newColorStops);onChange({colorStops:newColorStops,isInvalid:invalid})};var error=getStopError(stop,index);return{stopError:error,stopInput:renderStopInput(stop,onStopChange,index)}}function getColorInput(onColorChange,color){return{colorError:(0,_color_stops_utils.isColorInvalid)(color)?_i18n.i18n.translate("xpack.maps.styles.colorStops.hexWarningLabel",{defaultMessage:"Color must provide a valid hex value"}):undefined,colorInput:_react.default.createElement(_eui.EuiColorPicker,{onChange:onColorChange,color:color,compressed:true})}}var rows=colorStops.map((function(colorStop,index){var onColorChange=function onColorChange(color){var newColorStops=_lodash.default.cloneDeep(colorStops);newColorStops[index].color=color;onChange({colorStops:newColorStops,isInvalid:isStopsInvalid(newColorStops)})};var _getStopInput=getStopInput(colorStop.stop,index),stopError=_getStopInput.stopError,stopInput=_getStopInput.stopInput;var _getColorInput=getColorInput(onColorChange,colorStop.color),colorError=_getColorInput.colorError,colorInput=_getColorInput.colorInput;var errors=[];if(stopError){errors.push(stopError)}if(colorError){errors.push(colorError)}var onAdd=function onAdd(){var newColorStops=addNewRow(colorStops,index);onChange({colorStops:newColorStops,isInvalid:isStopsInvalid(newColorStops)})};var deleteButton;if(canDeleteStop(colorStops,index)){var onRemove=function onRemove(){var newColorStops=(0,_color_stops_utils.removeRow)(colorStops,index);onChange({colorStops:newColorStops,isInvalid:isStopsInvalid(newColorStops)})};deleteButton=getDeleteButton(onRemove)}return getColorStopRow({index:index,errors:errors,stopInput:stopInput,colorInput:colorInput,deleteButton:deleteButton,onAdd:onAdd})}));return _react.default.createElement("div",null,rows)};exports.ColorStops=ColorStops},1004:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SymbolIcon=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _symbol_utils=__webpack_require__(405);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SymbolIcon=function(_Component){_inherits(SymbolIcon,_Component);function SymbolIcon(){var _getPrototypeOf2;var _this;_classCallCheck(this,SymbolIcon);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SymbolIcon)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{imgDataUrl:undefined,prevSymbolId:undefined,prevFill:undefined,prevStroke:undefined,prevStrokeWidth:undefined});return _this}_createClass(SymbolIcon,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadSymbol(this.props.symbolId,this.props.fill,this.props.stroke,this.props.strokeWidth)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._loadSymbol(this.props.symbolId,this.props.fill,this.props.stroke,this.props.strokeWidth)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"_loadSymbol",value:function _loadSymbol(nextSymbolId,nextFill,nextStroke,nextStrokeWidth){var imgDataUrl,svg,styledSvg;return regeneratorRuntime.async((function _loadSymbol$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(nextSymbolId===this.state.prevSymbolId&&nextFill===this.state.prevFill&&nextStroke===this.state.prevStroke&&nextStrokeWidth===this.state.prevStrokeWidth)){_context.next=2;break}return _context.abrupt("return");case 2:_context.prev=2;svg=(0,_symbol_utils.getMakiSymbolSvg)(nextSymbolId);_context.next=6;return regeneratorRuntime.awrap((0,_symbol_utils.styleSvg)(svg,nextFill,nextStroke,nextStrokeWidth));case 6:styledSvg=_context.sent;imgDataUrl=(0,_symbol_utils.buildSrcUrl)(styledSvg);_context.next=12;break;case 10:_context.prev=10;_context.t0=_context["catch"](2);case 12:if(this._isMounted){this.setState({imgDataUrl:imgDataUrl,prevSymbolId:nextSymbolId,prevFill:nextFill,prevStroke:nextStroke,prevStrokeWidth:nextStrokeWidth})}case 13:case"end":return _context.stop()}}}),null,this,[[2,10]])}},{key:"render",value:function render(){if(!this.state.imgDataUrl){return null}return _react.default.createElement("img",{width:"16px",src:this.state.imgDataUrl,alt:this.props.symbolId})}}]);return SymbolIcon}(_react.Component);exports.SymbolIcon=SymbolIcon;SymbolIcon.propTypes={symbolId:_propTypes.default.string.isRequired,fill:_propTypes.default.string.isRequired,stroke:_propTypes.default.string.isRequired,strokeWidth:_propTypes.default.string.isRequired}},1006:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseXmlString=parseXmlString;var _xml2js=__webpack_require__(1071);function parseXmlString(xmlString){var parsePromise;return regeneratorRuntime.async((function parseXmlString$(_context){while(1){switch(_context.prev=_context.next){case 0:parsePromise=new Promise((function(resolve,reject){(0,_xml2js.parseString)(xmlString,(function(error,result){if(error){reject(error)}else{resolve(result)}}))}));_context.next=3;return regeneratorRuntime.awrap(parsePromise);case 3:return _context.abrupt("return",_context.sent);case 4:case"end":return _context.stop()}}}))}},1007:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AbstractStyle=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var AbstractStyle=function(){function AbstractStyle(){_classCallCheck(this,AbstractStyle)}_createClass(AbstractStyle,[{key:"getDescriptorWithMissingStylePropsRemoved",value:function getDescriptorWithMissingStylePropsRemoved(){return{hasChanges:false}}},{key:"pluckStyleMetaFromSourceDataRequest",value:function pluckStyleMetaFromSourceDataRequest(){return regeneratorRuntime.async((function pluckStyleMetaFromSourceDataRequest$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",{});case 1:case"end":return _context.stop()}}}))}},{key:"getDescriptor",value:function getDescriptor(){return this._descriptor}},{key:"renderEditor",value:function renderEditor(){return null}},{key:"getSourceFieldNames",value:function getSourceFieldNames(){return[]}}]);return AbstractStyle}();exports.AbstractStyle=AbstractStyle},1008:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VectorIcon=VectorIcon;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _circle_icon=__webpack_require__(1009);var _line_icon=__webpack_require__(1979);var _polygon_icon=__webpack_require__(1980);var _symbol_icon=__webpack_require__(1004);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function VectorIcon(_ref){var fillColor=_ref.fillColor,isPointsOnly=_ref.isPointsOnly,isLinesOnly=_ref.isLinesOnly,strokeColor=_ref.strokeColor,symbolId=_ref.symbolId;if(isLinesOnly){var _style={stroke:strokeColor,strokeWidth:"4px"};return _react.default.createElement(_line_icon.LineIcon,{style:_style})}var style={stroke:strokeColor,strokeWidth:"1px",fill:fillColor};if(!isPointsOnly){return _react.default.createElement(_polygon_icon.PolygonIcon,{style:style})}if(!symbolId){return _react.default.createElement(_circle_icon.CircleIcon,{style:style})}return _react.default.createElement(_symbol_icon.SymbolIcon,{symbolId:symbolId,fill:style.fill,stroke:style.stroke,strokeWidth:style.strokeWidth})}VectorIcon.propTypes={fillColor:_propTypes.default.string,isPointsOnly:_propTypes.default.bool.isRequired,isLinesOnly:_propTypes.default.bool.isRequired,strokeColor:_propTypes.default.string.isRequired,symbolId:_propTypes.default.string}},1009:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CircleIcon=void 0;var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CircleIcon=function CircleIcon(_ref){var style=_ref.style;return _react.default.createElement("svg",{className:"euiIcon euiIcon--medium mapFillableCircle",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",style:style,viewBox:"0 0 16 16"},_react.default.createElement("defs",null,_react.default.createElement("path",{id:"fillableCircle",d:"M8,15 C11.8659932,15 15,11.8659932 15,8 C15,4.13400675 11.8659932,        1 8,1 C4.13400675,1 1,4.13400675 1,8 C1,11.8659932 4.13400675,15 8,        15 Z M8,16 C3.581722,16 0,12.418278 0,8 C0,3.581722 3.581722,0 8,        0 C12.418278,0 16,3.581722 16,8 C16,12.418278 12.418278,16 8,16 Z M8,        12 C10.209139,12 12,10.209139 12,8 C12,5.790861 10.209139,4 8,        4 C5.790861,4 4,5.790861 4,8 C4,10.209139 5.790861,12 8,12 Z M8,        11 C6.34314575,11 5,9.65685425 5,8 C5,6.34314575 6.34314575,5 8,        5 C9.65685425,5 11,6.34314575 11,8 C11,9.65685425 9.65685425,11 8,        11 Z M8,9 C8.55228475,9 9,8.55228475 9,8 C9,7.44771525 8.55228475,7 8,        7 C7.44771525,7 7,7.44771525 7,8 C7,8.55228475 7.44771525,9 8,9 Z"})),_react.default.createElement("g",null,_react.default.createElement("ellipse",{id:"path3353",cx:"8.0350437",cy:"7.9660664",rx:"7.3820276",ry:"7.3809776",transform:"matrix(0.99985753,0.01687955,0,1,0,0)"})))};exports.CircleIcon=CircleIcon},101:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchSearchSourceAndRecordWithInspector=fetchSearchSourceAndRecordWithInspector;Object.defineProperty(exports,"SearchSource",{enumerable:true,get:function get(){return _courier.SearchSource}});exports.getLicenseId=exports.setLicenseId=exports.indexPatternService=exports.SPATIAL_FILTER_TYPE=void 0;var _courier=__webpack_require__(178);var _public=__webpack_require__(11);var _new_platform=__webpack_require__(7);var SPATIAL_FILTER_TYPE=_public.esFilters.FILTERS.SPATIAL_FILTER;exports.SPATIAL_FILTER_TYPE=SPATIAL_FILTER_TYPE;var indexPatternService=_new_platform.npStart.plugins.data.indexPatterns;exports.indexPatternService=indexPatternService;var licenseId;var setLicenseId=function setLicenseId(latestLicenseId){return licenseId=latestLicenseId};exports.setLicenseId=setLicenseId;var getLicenseId=function getLicenseId(){return licenseId};exports.getLicenseId=getLicenseId;function fetchSearchSourceAndRecordWithInspector(_ref){var searchSource,requestId,requestName,requestDesc,inspectorAdapters,abortSignal,inspectorRequest,resp;return regeneratorRuntime.async((function fetchSearchSourceAndRecordWithInspector$(_context){while(1){switch(_context.prev=_context.next){case 0:searchSource=_ref.searchSource,requestId=_ref.requestId,requestName=_ref.requestName,requestDesc=_ref.requestDesc,inspectorAdapters=_ref.inspectorAdapters,abortSignal=_ref.abortSignal;inspectorRequest=inspectorAdapters.requests.start(requestName,{id:requestId,description:requestDesc});_context.prev=2;inspectorRequest.stats((0,_courier.getRequestInspectorStats)(searchSource));searchSource.getSearchRequestBody().then((function(body){inspectorRequest.json(body)}));_context.next=7;return regeneratorRuntime.awrap(searchSource.fetch({abortSignal:abortSignal}));case 7:resp=_context.sent;inspectorRequest.stats((0,_courier.getResponseInspectorStats)(searchSource,resp)).ok({json:resp});_context.next=15;break;case 11:_context.prev=11;_context.t0=_context["catch"](2);inspectorRequest.error({error:_context.t0});throw _context.t0;case 15:return _context.abrupt("return",resp);case 16:case"end":return _context.stop()}}}),null,null,[[2,11]])}},1010:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RangedStyleLegendRow=RangedStyleLegendRow;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function RangedStyleLegendRow(_ref){var header=_ref.header,minLabel=_ref.minLabel,maxLabel=_ref.maxLabel,propertyLabel=_ref.propertyLabel,fieldLabel=_ref.fieldLabel;return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),header,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement("small",null,minLabel))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{position:"top",title:propertyLabel,content:fieldLabel},_react.default.createElement(_eui.EuiText,{className:"eui-textTruncate",size:"xs",style:{maxWidth:"180px"}},_react.default.createElement("small",null,_react.default.createElement("strong",null,fieldLabel))))),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_eui.EuiText,{textAlign:"right",size:"xs"},_react.default.createElement("small",null,maxLabel)))))}RangedStyleLegendRow.propTypes={header:_propTypes.default.node.isRequired,minLabel:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.number]).isRequired,maxLabel:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.number]).isRequired,propertyLabel:_propTypes.default.string.isRequired,fieldLabel:_propTypes.default.string.isRequired}},1011:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ESTooltipProperty=void 0;var _tooltip_property=__webpack_require__(406);var _lodash=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(11);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ESTooltipProperty=function(_TooltipProperty){_inherits(ESTooltipProperty,_TooltipProperty);function ESTooltipProperty(propertyKey,propertyName,rawValue,indexPattern){var _this;_classCallCheck(this,ESTooltipProperty);_this=_possibleConstructorReturn(this,_getPrototypeOf(ESTooltipProperty).call(this,propertyKey,propertyName,rawValue));_this._indexPattern=indexPattern;return _this}_createClass(ESTooltipProperty,[{key:"getHtmlDisplayValue",value:function getHtmlDisplayValue(){if(typeof this._rawValue==="undefined"){return"-"}var field=this._indexPattern.fields.getByName(this._propertyName);if(!field){return _lodash.default.escape(this._rawValue)}var htmlConverter=field.format.getConverterFor("html");return htmlConverter?htmlConverter(this._rawValue):field.format.convert(this._rawValue)}},{key:"isFilterable",value:function isFilterable(){var field=this._indexPattern.fields.getByName(this._propertyName);return field&&(field.type==="string"||field.type==="date"||field.type==="ip"||field.type==="number")}},{key:"getESFilters",value:function getESFilters(){return regeneratorRuntime.async((function getESFilters$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",[_public.esFilters.buildPhraseFilter(this._indexPattern.fields.getByName(this._propertyName),this._rawValue,this._indexPattern)]);case 1:case"end":return _context.stop()}}}),null,this)}}]);return ESTooltipProperty}(_tooltip_property.TooltipProperty);exports.ESTooltipProperty=ESTooltipProperty},1012:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AbstractESSource=void 0;var _vector_source=__webpack_require__(517);var _kibana_services=__webpack_require__(101);var _elasticsearch_geo_utils=__webpack_require__(402);var _timefilter=__webpack_require__(46);var _lodash=_interopRequireDefault(__webpack_require__(3));var _agg_types=__webpack_require__(204);var _i18n=__webpack_require__(2);var _v=_interopRequireDefault(__webpack_require__(186));var _util=__webpack_require__(275);var _constants=__webpack_require__(25);var _data_request=__webpack_require__(680);var _geo_tile_utils=__webpack_require__(1014);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AbstractESSource=function(_AbstractVectorSource){_inherits(AbstractESSource,_AbstractVectorSource);function AbstractESSource(descriptor,inspectorAdapters){_classCallCheck(this,AbstractESSource);return _possibleConstructorReturn(this,_getPrototypeOf(AbstractESSource).call(this,_objectSpread({},descriptor,{applyGlobalQuery:_lodash.default.get(descriptor,"applyGlobalQuery",true)}),inspectorAdapters))}_createClass(AbstractESSource,[{key:"isFieldAware",value:function isFieldAware(){return true}},{key:"isRefreshTimerAware",value:function isRefreshTimerAware(){return true}},{key:"isQueryAware",value:function isQueryAware(){return true}},{key:"getIndexPatternIds",value:function getIndexPatternIds(){return[this._descriptor.indexPatternId]}},{key:"getQueryableIndexPatternIds",value:function getQueryableIndexPatternIds(){if(this.getApplyGlobalQuery()){return[this._descriptor.indexPatternId]}return[]}},{key:"isESSource",value:function isESSource(){return true}},{key:"destroy",value:function destroy(){this._inspectorAdapters.requests.resetRequest(this.getId())}},{key:"cloneDescriptor",value:function cloneDescriptor(){var clonedDescriptor=(0,_util.copyPersistentState)(this._descriptor);clonedDescriptor.id=(0,_v.default)();return clonedDescriptor}},{key:"getMetricFields",value:function getMetricFields(){return[]}},{key:"_runEsQuery",value:function _runEsQuery(_ref){var requestId,requestName,requestDescription,searchSource,registerCancelCallback,abortController;return regeneratorRuntime.async((function _runEsQuery$(_context){while(1){switch(_context.prev=_context.next){case 0:requestId=_ref.requestId,requestName=_ref.requestName,requestDescription=_ref.requestDescription,searchSource=_ref.searchSource,registerCancelCallback=_ref.registerCancelCallback;abortController=new AbortController;registerCancelCallback((function(){return abortController.abort()}));_context.prev=3;_context.next=6;return regeneratorRuntime.awrap((0,_kibana_services.fetchSearchSourceAndRecordWithInspector)({inspectorAdapters:this._inspectorAdapters,searchSource:searchSource,requestName:requestName,requestId:requestId,requestDesc:requestDescription,abortSignal:abortController.signal}));case 6:return _context.abrupt("return",_context.sent);case 9:_context.prev=9;_context.t0=_context["catch"](3);if(!(_context.t0.name==="AbortError")){_context.next=13;break}throw new _data_request.DataRequestAbortError;case 13:throw new Error(_i18n.i18n.translate("xpack.maps.source.esSource.requestFailedErrorMessage",{defaultMessage:"Elasticsearch search request failed, error: {message}",values:{message:_context.t0.message}}));case 14:case"end":return _context.stop()}}}),null,this,[[3,9]])}},{key:"_makeSearchSource",value:function _makeSearchSource(searchFilters,limit,initialSearchContext){var indexPattern,isTimeAware,applyGlobalQuery,globalFilters,allFilters,geoField,buffer,searchSource,layerSearchSource;return regeneratorRuntime.async((function _makeSearchSource$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return regeneratorRuntime.awrap(this.getIndexPattern());case 2:indexPattern=_context2.sent;_context2.next=5;return regeneratorRuntime.awrap(this.isTimeAware());case 5:isTimeAware=_context2.sent;applyGlobalQuery=_lodash.default.get(searchFilters,"applyGlobalQuery",true);globalFilters=applyGlobalQuery?searchFilters.filters:[];allFilters=_toConsumableArray(globalFilters);if(!(this.isFilterByMapBounds()&&searchFilters.buffer)){_context2.next=15;break}_context2.next=12;return regeneratorRuntime.awrap(this._getGeoField());case 12:geoField=_context2.sent;buffer=this.isGeoGridPrecisionAware()?(0,_geo_tile_utils.expandToTileBoundaries)(searchFilters.buffer,searchFilters.geogridPrecision):searchFilters.buffer;allFilters.push((0,_elasticsearch_geo_utils.createExtentFilter)(buffer,geoField.name,geoField.type));case 15:if(isTimeAware){allFilters.push(_timefilter.timefilter.createFilter(indexPattern,searchFilters.timeFilters))}searchSource=new _kibana_services.SearchSource(initialSearchContext);searchSource.setField("index",indexPattern);searchSource.setField("size",limit);searchSource.setField("filter",allFilters);if(applyGlobalQuery){searchSource.setField("query",searchFilters.query)}if(searchFilters.sourceQuery){layerSearchSource=new _kibana_services.SearchSource;layerSearchSource.setField("index",indexPattern);layerSearchSource.setField("query",searchFilters.sourceQuery);searchSource.setParent(layerSearchSource)}return _context2.abrupt("return",searchSource);case 23:case"end":return _context2.stop()}}}),null,this)}},{key:"getBoundsForFilters",value:function getBoundsForFilters(_ref2){var sourceQuery,query,timeFilters,filters,applyGlobalQuery,searchSource,geoField,indexPattern,geoBoundsAgg,aggConfigs,esBounds,esResp;return regeneratorRuntime.async((function getBoundsForFilters$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:sourceQuery=_ref2.sourceQuery,query=_ref2.query,timeFilters=_ref2.timeFilters,filters=_ref2.filters,applyGlobalQuery=_ref2.applyGlobalQuery;_context3.next=3;return regeneratorRuntime.awrap(this._makeSearchSource({sourceQuery:sourceQuery,query:query,timeFilters:timeFilters,filters:filters,applyGlobalQuery:applyGlobalQuery},0));case 3:searchSource=_context3.sent;_context3.next=6;return regeneratorRuntime.awrap(this._getGeoField());case 6:geoField=_context3.sent;_context3.next=9;return regeneratorRuntime.awrap(this.getIndexPattern());case 9:indexPattern=_context3.sent;geoBoundsAgg=[{type:"geo_bounds",enabled:true,params:{field:geoField},schema:"metric"}];aggConfigs=new _agg_types.AggConfigs(indexPattern,geoBoundsAgg);searchSource.setField("aggs",aggConfigs.toDsl());_context3.prev=13;_context3.next=16;return regeneratorRuntime.awrap(searchSource.fetch());case 16:esResp=_context3.sent;esBounds=_lodash.default.get(esResp,"aggregations.1.bounds");_context3.next=23;break;case 20:_context3.prev=20;_context3.t0=_context3["catch"](13);esBounds={top_left:{lat:90,lon:-180},bottom_right:{lat:-90,lon:180}};case 23:return _context3.abrupt("return",{min_lon:esBounds.top_left.lon,max_lon:esBounds.bottom_right.lon,min_lat:esBounds.bottom_right.lat,max_lat:esBounds.top_left.lat});case 24:case"end":return _context3.stop()}}}),null,this,[[13,20]])}},{key:"isTimeAware",value:function isTimeAware(){var _indexPattern,timeField;return regeneratorRuntime.async((function isTimeAware$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return regeneratorRuntime.awrap(this.getIndexPattern());case 3:_indexPattern=_context4.sent;timeField=_indexPattern.timeFieldName;return _context4.abrupt("return",!!timeField);case 8:_context4.prev=8;_context4.t0=_context4["catch"](0);return _context4.abrupt("return",false);case 11:case"end":return _context4.stop()}}}),null,this,[[0,8]])}},{key:"getIndexPattern",value:function getIndexPattern(){return regeneratorRuntime.async((function getIndexPattern$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!this.indexPattern){_context5.next=2;break}return _context5.abrupt("return",this.indexPattern);case 2:_context5.prev=2;_context5.next=5;return regeneratorRuntime.awrap(_kibana_services.indexPatternService.get(this._descriptor.indexPatternId));case 5:this.indexPattern=_context5.sent;return _context5.abrupt("return",this.indexPattern);case 9:_context5.prev=9;_context5.t0=_context5["catch"](2);throw new Error(_i18n.i18n.translate("xpack.maps.source.esSource.noIndexPatternErrorMessage",{defaultMessage:"Unable to find Index pattern for id: {indexPatternId}",values:{indexPatternId:this._descriptor.indexPatternId}}));case 12:case"end":return _context5.stop()}}}),null,this,[[2,9]])}},{key:"supportsFitToBounds",value:function supportsFitToBounds(){var _geoField;return regeneratorRuntime.async((function supportsFitToBounds$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return regeneratorRuntime.awrap(this._getGeoField());case 3:_geoField=_context6.sent;return _context6.abrupt("return",_geoField.type!==_constants.ES_GEO_FIELD_TYPE.GEO_SHAPE);case 7:_context6.prev=7;_context6.t0=_context6["catch"](0);return _context6.abrupt("return",false);case 10:case"end":return _context6.stop()}}}),null,this,[[0,7]])}},{key:"_getGeoField",value:function _getGeoField(){var indexPattern,geoField;return regeneratorRuntime.async((function _getGeoField$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return regeneratorRuntime.awrap(this.getIndexPattern());case 2:indexPattern=_context7.sent;geoField=indexPattern.fields.getByName(this._descriptor.geoField);if(geoField){_context7.next=6;break}throw new Error(_i18n.i18n.translate("xpack.maps.source.esSource.noGeoFieldErrorMessage",{defaultMessage:"Index pattern {indexPatternTitle} no longer contains the geo field {geoField}",values:{indexPatternTitle:indexPattern.title,geoField:this._descriptor.geoField}}));case 6:return _context7.abrupt("return",geoField);case 7:case"end":return _context7.stop()}}}),null,this)}},{key:"getDisplayName",value:function getDisplayName(){var _indexPattern2;return regeneratorRuntime.async((function getDisplayName$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return regeneratorRuntime.awrap(this.getIndexPattern());case 3:_indexPattern2=_context8.sent;return _context8.abrupt("return",_indexPattern2.title);case 7:_context8.prev=7;_context8.t0=_context8["catch"](0);return _context8.abrupt("return",this._descriptor.indexPatternId);case 10:case"end":return _context8.stop()}}}),null,this,[[0,7]])}},{key:"isBoundsAware",value:function isBoundsAware(){return true}},{key:"getId",value:function getId(){return this._descriptor.id}},{key:"getFieldFormatter",value:function getFieldFormatter(fieldName){var metricField,realFieldName,indexPattern,fieldFromIndexPattern;return regeneratorRuntime.async((function getFieldFormatter$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:metricField=this.getMetricFields().find((function(field){return field.getName()===fieldName}));if(!(metricField&&(metricField.type===_constants.METRIC_TYPE.COUNT||metricField.type===_constants.METRIC_TYPE.UNIQUE_COUNT))){_context9.next=3;break}return _context9.abrupt("return",null);case 3:realFieldName=metricField?metricField.getESDocFieldName():fieldName;if(realFieldName){_context9.next=6;break}return _context9.abrupt("return",null);case 6:_context9.prev=6;_context9.next=9;return regeneratorRuntime.awrap(this.getIndexPattern());case 9:indexPattern=_context9.sent;_context9.next=15;break;case 12:_context9.prev=12;_context9.t0=_context9["catch"](6);return _context9.abrupt("return",null);case 15:fieldFromIndexPattern=indexPattern.fields.getByName(realFieldName);if(fieldFromIndexPattern){_context9.next=18;break}return _context9.abrupt("return",null);case 18:return _context9.abrupt("return",fieldFromIndexPattern.format.getConverterFor("text"));case 19:case"end":return _context9.stop()}}}),null,this,[[6,12]])}},{key:"loadStylePropsMeta",value:function loadStylePropsMeta(layerName,style,dynamicStyleProps,registerCancelCallback,searchFilters){var promises,fieldAggRequests,aggs,indexPattern,searchSource,resp;return regeneratorRuntime.async((function loadStylePropsMeta$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:promises=dynamicStyleProps.map((function(dynamicStyleProp){return dynamicStyleProp.getFieldMetaRequest()}));_context10.next=3;return regeneratorRuntime.awrap(Promise.all(promises));case 3:fieldAggRequests=_context10.sent;aggs=fieldAggRequests.reduce((function(aggs,fieldAggRequest){return fieldAggRequest?_objectSpread({},aggs,{},fieldAggRequest):aggs}),{});_context10.next=7;return regeneratorRuntime.awrap(this.getIndexPattern());case 7:indexPattern=_context10.sent;searchSource=new _kibana_services.SearchSource;searchSource.setField("index",indexPattern);searchSource.setField("size",0);searchSource.setField("aggs",aggs);if(searchFilters.sourceQuery){searchSource.setField("query",searchFilters.sourceQuery)}_context10.t0=style.isTimeAware();if(!_context10.t0){_context10.next=18;break}_context10.next=17;return regeneratorRuntime.awrap(this.isTimeAware());case 17:_context10.t0=_context10.sent;case 18:if(!_context10.t0){_context10.next=20;break}searchSource.setField("filter",[_timefilter.timefilter.createFilter(indexPattern,searchFilters.timeFilters)]);case 20:_context10.next=22;return regeneratorRuntime.awrap(this._runEsQuery({requestId:"".concat(this.getId(),"_styleMeta"),requestName:_i18n.i18n.translate("xpack.maps.source.esSource.stylePropsMetaRequestName",{defaultMessage:"{layerName} - metadata",values:{layerName:layerName}}),searchSource:searchSource,registerCancelCallback:registerCancelCallback,requestDescription:_i18n.i18n.translate("xpack.maps.source.esSource.stylePropsMetaRequestDescription",{defaultMessage:"Elasticsearch request retrieving field metadata used for calculating symbolization bands."})}));case 22:resp=_context10.sent;return _context10.abrupt("return",resp.aggregations);case 24:case"end":return _context10.stop()}}}),null,this)}}]);return AbstractESSource}(_vector_source.AbstractVectorSource);exports.AbstractESSource=AbstractESSource;_defineProperty(AbstractESSource,"icon","logoElasticsearch")},1013:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AbstractSource=void 0;var _util=__webpack_require__(275);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AbstractSource=function(){_createClass(AbstractSource,null,[{key:"renderEditor",value:function renderEditor(){throw new Error("Must implement Source.renderEditor")}},{key:"createDescriptor",value:function createDescriptor(){throw new Error("Must implement Source.createDescriptor")}}]);function AbstractSource(descriptor,inspectorAdapters){_classCallCheck(this,AbstractSource);this._descriptor=descriptor;this._inspectorAdapters=inspectorAdapters}_createClass(AbstractSource,[{key:"destroy",value:function destroy(){}},{key:"cloneDescriptor",value:function cloneDescriptor(){return(0,_util.copyPersistentState)(this._descriptor)}},{key:"supportsFitToBounds",value:function supportsFitToBounds(){return regeneratorRuntime.async((function supportsFitToBounds$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",true);case 1:case"end":return _context.stop()}}}))}},{key:"getImmutableProperties",value:function getImmutableProperties(){return regeneratorRuntime.async((function getImmutableProperties$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",[]);case 1:case"end":return _context2.stop()}}}))}},{key:"getInspectorAdapters",value:function getInspectorAdapters(){return this._inspectorAdapters}},{key:"_createDefaultLayerDescriptor",value:function _createDefaultLayerDescriptor(){throw new Error("Source#createDefaultLayerDescriptor not implemented")}},{key:"createDefaultLayer",value:function createDefaultLayer(){throw new Error("Source#createDefaultLayer not implemented")}},{key:"getDisplayName",value:function getDisplayName(){return regeneratorRuntime.async((function getDisplayName$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.warn("Source should implement Source#getDisplayName");return _context3.abrupt("return","");case 2:case"end":return _context3.stop()}}}))}},{key:"getAttributions",value:function getAttributions(){return regeneratorRuntime.async((function getAttributions$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",[]);case 1:case"end":return _context4.stop()}}}))}},{key:"isFieldAware",value:function isFieldAware(){return false}},{key:"isRefreshTimerAware",value:function isRefreshTimerAware(){return false}},{key:"isGeoGridPrecisionAware",value:function isGeoGridPrecisionAware(){return false}},{key:"isQueryAware",value:function isQueryAware(){return false}},{key:"getFieldNames",value:function getFieldNames(){return[]}},{key:"hasCompleteConfig",value:function hasCompleteConfig(){throw new Error("Source#hasCompleteConfig not implemented")}},{key:"renderSourceSettingsEditor",value:function renderSourceSettingsEditor(){return null}},{key:"getApplyGlobalQuery",value:function getApplyGlobalQuery(){return!!this._descriptor.applyGlobalQuery}},{key:"getIndexPatternIds",value:function getIndexPatternIds(){return[]}},{key:"getQueryableIndexPatternIds",value:function getQueryableIndexPatternIds(){return[]}},{key:"getGeoGridPrecision",value:function getGeoGridPrecision(){return 0}},{key:"getSyncMeta",value:function getSyncMeta(){return{}}},{key:"isJoinable",value:function isJoinable(){return false}},{key:"shouldBeIndexed",value:function shouldBeIndexed(){return AbstractSource.isIndexingSource}},{key:"isESSource",value:function isESSource(){return false}},{key:"getPreIndexedShape",value:function getPreIndexedShape(){return regeneratorRuntime.async((function getPreIndexedShape$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",null);case 1:case"end":return _context5.stop()}}}))}},{key:"getFieldFormatter",value:function getFieldFormatter(){return regeneratorRuntime.async((function getFieldFormatter$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",null);case 1:case"end":return _context6.stop()}}}))}},{key:"loadStylePropsMeta",value:function loadStylePropsMeta(){return regeneratorRuntime.async((function loadStylePropsMeta$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:throw new Error("Source#loadStylePropsMeta not implemented");case 1:case"end":return _context7.stop()}}}))}}]);return AbstractSource}();exports.AbstractSource=AbstractSource;_defineProperty(AbstractSource,"isIndexingSource",false)},1014:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseTileKey=parseTileKey;exports.getTileBoundingBox=getTileBoundingBox;exports.expandToTileBoundaries=expandToTileBoundaries;var _lodash=_interopRequireDefault(__webpack_require__(3));var _constants=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ZOOM_TILE_KEY_INDEX=0;var X_TILE_KEY_INDEX=1;var Y_TILE_KEY_INDEX=2;function getTileCount(zoom){return Math.pow(2,zoom)}function parseTileKey(tileKey){var tileKeyParts=tileKey.split("/");if(tileKeyParts.length!==3){throw new Error('Invalid tile key, expecting "zoom/x/y" format but got '.concat(tileKey))}var zoom=parseInt(tileKeyParts[ZOOM_TILE_KEY_INDEX],10);var x=parseInt(tileKeyParts[X_TILE_KEY_INDEX],10);var y=parseInt(tileKeyParts[Y_TILE_KEY_INDEX],10);var tileCount=getTileCount(zoom);if(x>=tileCount){throw new Error("Tile key is malformed, expected x to be less than ".concat(tileCount,", you provided ").concat(x))}if(y>=tileCount){throw new Error("Tile key is malformed, expected y to be less than ".concat(tileCount,", you provided ").concat(y))}return{x:x,y:y,zoom:zoom,tileCount:tileCount}}function sinh(x){return(Math.exp(x)-Math.exp(-x))/2}function precisionRounding(v,minPrecision,binSize){var precision=Math.ceil(Math.abs(Math.log10(binSize)))+1;precision=Math.max(precision,minPrecision);return _lodash.default.round(v,precision)}function tileToLatitude(y,tileCount){var radians=Math.atan(sinh(Math.PI-2*Math.PI*y/tileCount));var lat=180/Math.PI*radians;return precisionRounding(lat,_constants.DECIMAL_DEGREES_PRECISION,180/tileCount)}function tileToLongitude(x,tileCount){var lon=x/tileCount*360-180;return precisionRounding(lon,_constants.DECIMAL_DEGREES_PRECISION,360/tileCount)}function getTileBoundingBox(tileKey){var _parseTileKey=parseTileKey(tileKey),x=_parseTileKey.x,y=_parseTileKey.y,tileCount=_parseTileKey.tileCount;return{top:tileToLatitude(y,tileCount),bottom:tileToLatitude(y+1,tileCount),left:tileToLongitude(x,tileCount),right:tileToLongitude(x+1,tileCount)}}function sec(value){return 1/Math.cos(value)}function latitudeToTile(lat,tileCount){var radians=lat*Math.PI/180;var y=(1-Math.log(Math.tan(radians)+sec(radians))/Math.PI)/2*tileCount;return Math.floor(y)}function longitudeToTile(lon,tileCount){var x=(lon+180)/360*tileCount;return Math.floor(x)}function expandToTileBoundaries(extent,zoom){var tileCount=getTileCount(zoom);var upperLeftX=longitudeToTile(extent.minLon,tileCount);var upperLeftY=latitudeToTile(Math.min(extent.maxLat,90),tileCount);var lowerRightX=longitudeToTile(extent.maxLon,tileCount);var lowerRightY=latitudeToTile(Math.max(extent.minLat,-90),tileCount);return{minLon:tileToLongitude(upperLeftX,tileCount),minLat:tileToLatitude(lowerRightY+1,tileCount),maxLon:tileToLongitude(lowerRightX+1,tileCount),maxLat:tileToLatitude(upperLeftY,tileCount)}}},1015:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isMetricCountable=isMetricCountable;var _constants=__webpack_require__(25);function isMetricCountable(aggType){return[_constants.METRIC_TYPE.COUNT,_constants.METRIC_TYPE.SUM,_constants.METRIC_TYPE.UNIQUE_COUNT].includes(aggType)}},1016:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HeatmapLayer=void 0;var _layer=__webpack_require__(679);var _vector_layer=__webpack_require__(404);var _heatmap_style=__webpack_require__(2004);var _constants=__webpack_require__(25);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SCALED_PROPERTY_NAME="__kbn_heatmap_weight__";var HeatmapLayer=function(_VectorLayer){_inherits(HeatmapLayer,_VectorLayer);_createClass(HeatmapLayer,null,[{key:"createDescriptor",value:function createDescriptor(options){var heatmapLayerDescriptor=_get(_getPrototypeOf(HeatmapLayer),"createDescriptor",this).call(this,options);heatmapLayerDescriptor.type=HeatmapLayer.type;heatmapLayerDescriptor.style=_heatmap_style.HeatmapStyle.createDescriptor();return heatmapLayerDescriptor}}]);function HeatmapLayer(_ref){var _this;var layerDescriptor=_ref.layerDescriptor,source=_ref.source;_classCallCheck(this,HeatmapLayer);_this=_possibleConstructorReturn(this,_getPrototypeOf(HeatmapLayer).call(this,{layerDescriptor:layerDescriptor,source:source}));if(!layerDescriptor.style){var defaultStyle=_heatmap_style.HeatmapStyle.createDescriptor();_this._style=new _heatmap_style.HeatmapStyle(defaultStyle)}else{_this._style=new _heatmap_style.HeatmapStyle(layerDescriptor.style)}return _this}_createClass(HeatmapLayer,[{key:"_getPropKeyOfSelectedMetric",value:function _getPropKeyOfSelectedMetric(){var metricfields=this._source.getMetricFields();return metricfields[0].getName()}},{key:"_getHeatmapLayerId",value:function _getHeatmapLayerId(){return this.makeMbLayerId("heatmap")}},{key:"getMbLayerIds",value:function getMbLayerIds(){return[this._getHeatmapLayerId()]}},{key:"ownsMbLayerId",value:function ownsMbLayerId(mbLayerId){return this._getHeatmapLayerId()===mbLayerId}},{key:"syncLayerWithMB",value:function syncLayerWithMB(mbMap){_get(_getPrototypeOf(HeatmapLayer.prototype),"_syncSourceBindingWithMb",this).call(this,mbMap);var heatmapLayerId=this._getHeatmapLayerId();if(!mbMap.getLayer(heatmapLayerId)){mbMap.addLayer({id:heatmapLayerId,type:"heatmap",source:this.getId(),paint:{}})}var mbSourceAfter=mbMap.getSource(this.getId());var sourceDataRequest=this.getSourceDataRequest();var featureCollection=sourceDataRequest?sourceDataRequest.getData():null;if(!featureCollection){mbSourceAfter.setData(_constants.EMPTY_FEATURE_COLLECTION);return}var propertyKey=this._getPropKeyOfSelectedMetric();var dataBoundToMap=_layer.AbstractLayer.getBoundDataForSource(mbMap,this.getId());if(featureCollection!==dataBoundToMap){var max=0;for(var i=0;i<featureCollection.features.length;i++){max=Math.max(featureCollection.features[i].properties[propertyKey],max)}for(var _i=0;_i<featureCollection.features.length;_i++){featureCollection.features[_i].properties[SCALED_PROPERTY_NAME]=featureCollection.features[_i].properties[propertyKey]/max}mbSourceAfter.setData(featureCollection)}this.syncVisibilityWithMb(mbMap,heatmapLayerId);this._style.setMBPaintProperties({mbMap:mbMap,layerId:heatmapLayerId,propertyName:SCALED_PROPERTY_NAME,resolution:this._source.getGridResolution()});mbMap.setPaintProperty(heatmapLayerId,"heatmap-opacity",this.getAlpha());mbMap.setLayerZoomRange(heatmapLayerId,this._descriptor.minZoom,this._descriptor.maxZoom)}},{key:"getLayerTypeIconName",value:function getLayerTypeIconName(){return"heatmap"}},{key:"hasLegendDetails",value:function hasLegendDetails(){return regeneratorRuntime.async((function hasLegendDetails$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",true);case 1:case"end":return _context.stop()}}}))}},{key:"renderLegendDetails",value:function renderLegendDetails(){var metricFields=this._source.getMetricFields();return this._style.renderLegendDetails(metricFields[0])}}]);return HeatmapLayer}(_vector_layer.VectorLayer);exports.HeatmapLayer=HeatmapLayer;_defineProperty(HeatmapLayer,"type",_constants.LAYER_TYPE.HEATMAP)},1017:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getEmsUnavailableMessage=getEmsUnavailableMessage;var _chrome=_interopRequireDefault(__webpack_require__(8));var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getEmsUnavailableMessage(){var isEmsEnabled=_chrome.default.getInjected("isEmsEnabled",true);if(isEmsEnabled){return _i18n.i18n.translate("xpack.maps.source.ems.noAccessDescription",{defaultMessage:"Kibana is unable to access Elastic Maps Service. Contact your system administrator"})}return _i18n.i18n.translate("xpack.maps.source.ems.disabledDescription",{defaultMessage:'Access to Elastic Maps Service has been disabled. Ask your system administrator to set "map.includeElasticMapsService" in kibana.yml.'})}},1018:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TooltipSelector=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _classnames=_interopRequireDefault(__webpack_require__(63));var _eui=__webpack_require__(1);var _add_tooltip_field_popover=__webpack_require__(2011);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var reorder=function reorder(list,startIndex,endIndex){var result=Array.from(list);var _result$splice=result.splice(startIndex,1),_result$splice2=_slicedToArray(_result$splice,1),removed=_result$splice2[0];result.splice(endIndex,0,removed);return result};var getProps=function getProps(field){return regeneratorRuntime.async((function getProps$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",new Promise((function _callee(resolve,reject){var label,type;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return regeneratorRuntime.awrap(field.getLabel());case 3:label=_context.sent;_context.next=6;return regeneratorRuntime.awrap(field.getDataType());case 6:type=_context.sent;resolve({label:label,type:type,name:field.getName()});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context["catch"](0);reject(_context.t0);case 13:case"end":return _context.stop()}}}),null,null,[[0,10]])})));case 1:case"end":return _context2.stop()}}}))};var TooltipSelector=function(_Component){_inherits(TooltipSelector,_Component);function TooltipSelector(){var _this;_classCallCheck(this,TooltipSelector);_this=_possibleConstructorReturn(this,_getPrototypeOf(TooltipSelector).call(this));_defineProperty(_assertThisInitialized(_this),"state",{fieldProps:[],selectedFieldProps:[]});_defineProperty(_assertThisInitialized(_this),"_getPropertyLabel",(function(propertyName){if(!_this.state.fieldProps.length){return propertyName}var prop=_this.state.fieldProps.find((function(field){return field.name===propertyName}));return prop.label?prop.label:propertyName}));_defineProperty(_assertThisInitialized(_this),"_onAdd",(function(properties){if(!_this.props.tooltipFields){_this.props.onChange(_toConsumableArray(properties))}else{var existingProperties=_this._getTooltipProperties();_this.props.onChange([].concat(_toConsumableArray(existingProperties),_toConsumableArray(properties)))}}));_defineProperty(_assertThisInitialized(_this),"_removeProperty",(function(index){if(!_this.props.tooltipFields){_this.props.onChange([])}else{var tooltipProperties=_this._getTooltipProperties();tooltipProperties.splice(index,1);_this.props.onChange(tooltipProperties)}}));_defineProperty(_assertThisInitialized(_this),"_onDragEnd",(function(_ref){var source=_ref.source,destination=_ref.destination;if(!destination){return}_this.props.onChange(reorder(_this._getTooltipProperties(),source.index,destination.index))}));_this._isMounted=false;_this._previousFields=null;_this._previousSelectedTooltips=null;return _this}_createClass(TooltipSelector,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadFieldProps();this._loadTooltipFieldProps()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._loadTooltipFieldProps();this._loadFieldProps()}},{key:"_loadTooltipFieldProps",value:function _loadTooltipFieldProps(){var selectedProps,selectedFieldProps;return regeneratorRuntime.async((function _loadTooltipFieldProps$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(!this.props.tooltipFields||this.props.tooltipFields===this._previousSelectedTooltips)){_context3.next=2;break}return _context3.abrupt("return");case 2:this._previousSelectedTooltips=this.props.tooltipFields;selectedProps=this.props.tooltipFields.map(getProps);_context3.next=6;return regeneratorRuntime.awrap(Promise.all(selectedProps));case 6:selectedFieldProps=_context3.sent;if(this._isMounted){this.setState({selectedFieldProps:selectedFieldProps})}case 8:case"end":return _context3.stop()}}}),null,this)}},{key:"_loadFieldProps",value:function _loadFieldProps(){var props,fieldProps;return regeneratorRuntime.async((function _loadFieldProps$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(!this.props.fields||this.props.fields===this._previousFields)){_context4.next=2;break}return _context4.abrupt("return");case 2:this._previousFields=this.props.fields;props=this.props.fields.map(getProps);_context4.next=6;return regeneratorRuntime.awrap(Promise.all(props));case 6:fieldProps=_context4.sent;if(this._isMounted){this.setState({fieldProps:fieldProps})}case 8:case"end":return _context4.stop()}}}),null,this)}},{key:"_getTooltipProperties",value:function _getTooltipProperties(){return this.props.tooltipFields.map((function(field){return field.getName()}))}},{key:"_renderProperties",value:function _renderProperties(){var _this2=this;if(!this.state.selectedFieldProps.length){return null}return _react.default.createElement(_eui.EuiDragDropContext,{onDragEnd:this._onDragEnd},_react.default.createElement(_eui.EuiDroppable,{droppableId:"mapLayerTOC",spacing:"none"},(function(provided,snapshot){return _this2.state.selectedFieldProps.map((function(field,idx){return _react.default.createElement(_eui.EuiDraggable,{spacing:"none",key:field.name,index:idx,draggableId:field.name,customDragHandle:true,disableInteractiveElementBlocking:true},(function(provided,state){return _react.default.createElement("div",{className:(0,_classnames.default)("mapTooltipSelector__propertyRow",{"mapTooltipSelector__propertyRow-isDragging":state.isDragging,"mapTooltipSelector__propertyRow-isDraggingOver":snapshot.isDraggingOver})},_react.default.createElement(_eui.EuiText,{className:"mapTooltipSelector__propertyContent",size:"s"},_this2._getPropertyLabel(field.name)),_react.default.createElement("div",{className:"mapTooltipSelector__propertyIcons"},_react.default.createElement(_eui.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:_this2._removeProperty.bind(null,idx),title:_i18n.i18n.translate("xpack.maps.tooltipSelector.trashButtonTitle",{defaultMessage:"Remove property"}),"aria-label":_i18n.i18n.translate("xpack.maps.tooltipSelector.trashButtonAriaLabel",{defaultMessage:"Remove property"})}),_react.default.createElement(_eui.EuiButtonIcon,_extends({className:"mapTooltipSelector__grab",iconType:"grab",color:"subdued",title:_i18n.i18n.translate("xpack.maps.tooltipSelector.grabButtonTitle",{defaultMessage:"Reorder property"}),"aria-label":_i18n.i18n.translate("xpack.maps.tooltipSelector.grabButtonAriaLabel",{defaultMessage:"Reorder property"})},provided.dragHandleProps))))}))}))})))}},{key:"render",value:function render(){return _react.default.createElement("div",null,this._renderProperties(),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiTextAlign,{textAlign:"center"},_react.default.createElement(_add_tooltip_field_popover.AddTooltipFieldPopover,{onAdd:this._onAdd,fields:this.state.fieldProps,selectedFields:this.state.selectedFieldProps})))}}]);return TooltipSelector}(_react.Component);exports.TooltipSelector=TooltipSelector},1019:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"GeojsonFileSource",{enumerable:true,get:function get(){return _geojson_file_source.GeojsonFileSource}});var _geojson_file_source=__webpack_require__(2013)},1020:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexData=indexData;exports.createIndexPattern=createIndexPattern;exports.checkIndexPatternValid=checkIndexPatternValid;exports.getExistingIndexPatternNames=exports.getExistingIndexNames=void 0;var _http_service=__webpack_require__(2019);var _kibana_services=__webpack_require__(518);var _geo_processing=__webpack_require__(1021);var _size_limited_chunking=__webpack_require__(2020);var _i18n=__webpack_require__(2);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var fileType="json";function indexData(parsedFile,transformDetails,indexName,dataType,appName){var transformResult,indexingDetails,createdIndex,id,indexWriteResults;return regeneratorRuntime.async((function indexData$(_context){while(1){switch(_context.prev=_context.next){case 0:if(parsedFile){_context.next=2;break}throw _i18n.i18n.translate("xpack.fileUpload.indexingService.noFileImported",{defaultMessage:"No file imported."});case 2:transformResult=transformDataByFormatForIndexing(transformDetails,parsedFile,dataType);if(transformResult.success){_context.next=5;break}throw _i18n.i18n.translate("xpack.fileUpload.indexingService.transformResultError",{defaultMessage:"Error transforming data: {error}",values:{error:transformResult.error}});case 5:indexingDetails=transformResult.indexingDetails;_context.next=8;return regeneratorRuntime.awrap(writeToIndex(_objectSpread({appName:appName},indexingDetails,{id:undefined,data:[],index:indexName})));case 8:createdIndex=_context.sent;_context.prev=9;if(!(createdIndex&&createdIndex.id)){_context.next=14;break}id=createdIndex.id;_context.next=15;break;case 14:throw _i18n.i18n.translate("xpack.fileUpload.indexingService.errorCreatingIndex",{defaultMessage:"Error creating index"});case 15:_context.next=20;break;case 17:_context.prev=17;_context.t0=_context["catch"](9);return _context.abrupt("return",{error:_context.t0,success:false});case 20:_context.next=22;return regeneratorRuntime.awrap(chunkDataAndWriteToIndex(_objectSpread({id:id,index:indexName},indexingDetails,{settings:{},mappings:{}})));case 22:indexWriteResults=_context.sent;return _context.abrupt("return",indexWriteResults);case 24:case"end":return _context.stop()}}}),null,null,[[9,17]])}function transformDataByFormatForIndexing(transform,parsedFile,dataType){var indexingDetails;if(!transform){return{success:false,error:_i18n.i18n.translate("xpack.fileUpload.indexingService.noTransformDefined",{defaultMessage:"No transform defined"})}}if(_typeof(transform)!=="object"){switch(transform){case"geo":indexingDetails=(0,_geo_processing.getGeoJsonIndexingDetails)(parsedFile,dataType);break;default:return{success:false,error:_i18n.i18n.translate("xpack.fileUpload.indexingService.noHandlingForTransform",{defaultMessage:"No handling defined for transform: {transform}",values:{transform:transform}})}}}else{indexingDetails=transform.getIndexingDetails(parsedFile)}if(indexingDetails&&indexingDetails.data&&indexingDetails.data.length){return{success:true,indexingDetails:indexingDetails}}else if(indexingDetails&&indexingDetails.data){return{success:false,error:_i18n.i18n.translate("xpack.fileUpload.indexingService.noIndexingDetailsForDatatype",{defaultMessage:"No indexing details defined for datatype: {dataType}",values:{dataType:dataType}})}}else{return{success:false,error:_i18n.i18n.translate("xpack.fileUpload.indexingService.unknownTransformError",{defaultMessage:"Unknown error performing transform: {transform}",values:{transform:transform}})}}}function writeToIndex(indexingDetails){var paramString,appName,index,data,settings,mappings,ingestPipeline;return regeneratorRuntime.async((function writeToIndex$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:paramString=indexingDetails.id!==undefined?"?id=".concat(indexingDetails.id):"";appName=indexingDetails.appName,index=indexingDetails.index,data=indexingDetails.data,settings=indexingDetails.settings,mappings=indexingDetails.mappings,ingestPipeline=indexingDetails.ingestPipeline;_context2.next=4;return regeneratorRuntime.awrap((0,_http_service.http)({url:"".concat(_kibana_services.apiBasePath,"/fileupload/import").concat(paramString),method:"POST",data:_objectSpread({index:index,data:data,settings:settings,mappings:mappings,ingestPipeline:ingestPipeline,fileType:fileType},appName?{app:appName}:{})}));case 4:return _context2.abrupt("return",_context2.sent);case 5:case"end":return _context2.stop()}}}))}function chunkDataAndWriteToIndex(_ref){var id,index,data,mappings,settings,chunks,success,failures,error,docCount,i,aggs,resp,_resp;return regeneratorRuntime.async((function chunkDataAndWriteToIndex$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:id=_ref.id,index=_ref.index,data=_ref.data,mappings=_ref.mappings,settings=_ref.settings;if(index){_context3.next=3;break}return _context3.abrupt("return",{success:false,error:_i18n.i18n.translate("xpack.fileUpload.noIndexSuppliedErrorMessage",{defaultMessage:"No index provided."})});case 3:chunks=(0,_size_limited_chunking.sizeLimitedChunking)(data);success=true;failures=[];docCount=0;i=0;case 8:if(!(i<chunks.length)){_context3.next=28;break}aggs={id:id,index:index,data:chunks[i],settings:settings,mappings:mappings,ingestPipeline:{}};resp={success:false,failures:[],docCount:0};_context3.next=13;return regeneratorRuntime.awrap(writeToIndex(aggs));case 13:resp=_context3.sent;failures=[].concat(_toConsumableArray(failures),_toConsumableArray(resp.failures));if(!resp.success){_context3.next=21;break}_resp=resp;success=_resp.success;docCount=docCount+resp.docCount;_context3.next=25;break;case 21:success=false;error=resp.error;docCount=0;return _context3.abrupt("break",28);case 25:i++;_context3.next=8;break;case 28:return _context3.abrupt("return",_objectSpread({success:success,failures:failures,docCount:docCount},error?{error:error}:{}));case 29:case"end":return _context3.stop()}}}))}function createIndexPattern(indexPatternName){var indexPatterns,_id,indexPattern;return regeneratorRuntime.async((function createIndexPattern$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return regeneratorRuntime.awrap(_kibana_services.indexPatternService.get());case 2:indexPatterns=_context4.sent;_context4.prev=3;Object.assign(indexPatterns,{id:"",title:indexPatternName});_context4.next=7;return regeneratorRuntime.awrap(indexPatterns.create(true));case 7:_context4.next=9;return regeneratorRuntime.awrap(getIndexPatternId(indexPatternName));case 9:_id=_context4.sent;_context4.next=12;return regeneratorRuntime.awrap(_kibana_services.indexPatternService.get(_id));case 12:indexPattern=_context4.sent;return _context4.abrupt("return",{success:true,id:_id,fields:indexPattern.fields});case 16:_context4.prev=16;_context4.t0=_context4["catch"](3);return _context4.abrupt("return",{success:false,error:_context4.t0});case 19:case"end":return _context4.stop()}}}),null,null,[[3,16]])}function getIndexPatternId(name){var savedObjectSearch,indexPatternSavedObjects,ip;return regeneratorRuntime.async((function getIndexPatternId$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return regeneratorRuntime.awrap(_kibana_services.savedObjectsClient.find({type:"index-pattern",perPage:1e3}));case 2:savedObjectSearch=_context5.sent;indexPatternSavedObjects=savedObjectSearch.savedObjects;if(!indexPatternSavedObjects){_context5.next=9;break}ip=indexPatternSavedObjects.find((function(i){return i.attributes.title===name}));return _context5.abrupt("return",ip!==undefined?ip.id:undefined);case 9:return _context5.abrupt("return",undefined);case 10:case"end":return _context5.stop()}}}))}var getExistingIndexNames=function getExistingIndexNames(){var indexes;return regeneratorRuntime.async((function getExistingIndexNames$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return regeneratorRuntime.awrap((0,_http_service.http)({url:"".concat(_kibana_services.apiBasePath,"/index_management/indices"),method:"GET"}));case 2:indexes=_context6.sent;return _context6.abrupt("return",indexes?indexes.map((function(_ref2){var name=_ref2.name;return name})):[]);case 4:case"end":return _context6.stop()}}}))};exports.getExistingIndexNames=getExistingIndexNames;var getExistingIndexPatternNames=function getExistingIndexPatternNames(){var indexPatterns;return regeneratorRuntime.async((function getExistingIndexPatternNames$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return regeneratorRuntime.awrap(_kibana_services.savedObjectsClient.find({type:"index-pattern",fields:["id","title","type","fields"],perPage:1e4}).then((function(_ref3){var savedObjects=_ref3.savedObjects;return savedObjects.map((function(savedObject){return savedObject.get("title")}))})));case 2:indexPatterns=_context7.sent;return _context7.abrupt("return",indexPatterns?indexPatterns.map((function(_ref4){var name=_ref4.name;return name})):[]);case 4:case"end":return _context7.stop()}}}))};exports.getExistingIndexPatternNames=getExistingIndexPatternNames;function checkIndexPatternValid(name){var byteLength=encodeURI(name).split(/%(?:u[0-9A-F]{2})?[0-9A-F]{2}|./).length-1;var reg=new RegExp('[\\\\/*?"<>|\\s,#]+');var indexPatternInvalid=byteLength>255||name!==name.toLowerCase()||name==="."||name===".."||name.match(/^[-_+]/)!==null||name.match(reg)!==null;return!indexPatternInvalid}},1021:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getGeoIndexTypesForFeatures=getGeoIndexTypesForFeatures;exports.geoJsonToEs=geoJsonToEs;exports.getGeoJsonIndexingDetails=getGeoJsonIndexingDetails;var _lodash=_interopRequireDefault(__webpack_require__(3));var _file_import=__webpack_require__(519);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DEFAULT_SETTINGS={number_of_shards:1};var DEFAULT_GEO_SHAPE_MAPPINGS={coordinates:{type:_file_import.ES_GEO_FIELD_TYPE.GEO_SHAPE}};var DEFAULT_GEO_POINT_MAPPINGS={coordinates:{type:_file_import.ES_GEO_FIELD_TYPE.GEO_POINT}};var DEFAULT_INGEST_PIPELINE={};function getGeoIndexTypesForFeatures(featureTypes){var hasNoFeatureType=!featureTypes||!featureTypes.length;if(hasNoFeatureType){return[]}var isPoint=featureTypes.includes("Point")||featureTypes.includes("MultiPoint");if(!isPoint){return[_file_import.ES_GEO_FIELD_TYPE.GEO_SHAPE]}else if(isPoint&&featureTypes.length===1){return[_file_import.ES_GEO_FIELD_TYPE.GEO_POINT,_file_import.ES_GEO_FIELD_TYPE.GEO_SHAPE]}return[_file_import.ES_GEO_FIELD_TYPE.GEO_SHAPE]}function geoJsonToEs(parsedGeojson,datatype){if(!parsedGeojson){return[]}var features=parsedGeojson.type==="Feature"?[parsedGeojson]:parsedGeojson.features;if(datatype===_file_import.ES_GEO_FIELD_TYPE.GEO_SHAPE){return features.reduce((function(accu,_ref){var geometry=_ref.geometry,properties=_ref.properties;var coordinates=geometry.coordinates;accu.push(_objectSpread({coordinates:{type:geometry.type.toLowerCase(),coordinates:coordinates}},!_lodash.default.isEmpty(properties)?_objectSpread({},properties):{}));return accu}),[])}else if(datatype===_file_import.ES_GEO_FIELD_TYPE.GEO_POINT){return features.reduce((function(accu,_ref2){var geometry=_ref2.geometry,properties=_ref2.properties;var coordinates=geometry.coordinates;accu.push(_objectSpread({coordinates:coordinates},!_lodash.default.isEmpty(properties)?_objectSpread({},properties):{}));return accu}),[])}else{return[]}}function getGeoJsonIndexingDetails(parsedGeojson,dataType){return{data:geoJsonToEs(parsedGeojson,dataType),ingestPipeline:DEFAULT_INGEST_PIPELINE,mappings:dataType===_file_import.ES_GEO_FIELD_TYPE.GEO_POINT?DEFAULT_GEO_POINT_MAPPINGS:DEFAULT_GEO_SHAPE_MAPPINGS,settings:DEFAULT_SETTINGS}}},1022:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ESSearchSource",{enumerable:true,get:function get(){return _es_search_source.ESSearchSource}});var _es_search_source=__webpack_require__(2030)},1023:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoIndexPatternCallout=NoIndexPatternCallout;var _chrome=_interopRequireDefault(__webpack_require__(8));var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NoIndexPatternCallout(){return _react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.maps.noIndexPattern.messageTitle",{defaultMessage:"Couldn't find any index patterns with geospatial fields"}),color:"warning"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.noIndexPattern.doThisPrefixDescription",defaultMessage:"You'll need to "}),_react.default.createElement(_eui.EuiLink,{href:_chrome.default.addBasePath("/app/kibana#/management/kibana/index_pattern")},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.noIndexPattern.doThisLinkTextDescription",defaultMessage:"create an index pattern"})),_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.noIndexPattern.doThisSuffixDescription",defaultMessage:" with geospatial fields."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.noIndexPattern.hintDescription",defaultMessage:"Don't have any geospatial data sets? "}),_react.default.createElement(_eui.EuiLink,{href:_chrome.default.addBasePath("/app/kibana#/home/tutorial_directory/sampleData")},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.noIndexPattern.getStartedLinkText",defaultMessage:"Get started with some sample data sets."}))))}},1024:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_FILTER_BY_MAP_BOUNDS=void 0;var DEFAULT_FILTER_BY_MAP_BOUNDS=true;exports.DEFAULT_FILTER_BY_MAP_BOUNDS=DEFAULT_FILTER_BY_MAP_BOUNDS},1025:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadIndexSettings=loadIndexSettings;var _constants=__webpack_require__(25);var _kfetch=__webpack_require__(72);var _notify=__webpack_require__(15);var _i18n=__webpack_require__(2);var toastDisplayed=false;var indexSettings=new Map;function loadIndexSettings(indexPatternTitle){var fetchPromise;return regeneratorRuntime.async((function loadIndexSettings$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!indexSettings.has(indexPatternTitle)){_context.next=2;break}return _context.abrupt("return",indexSettings.get(indexPatternTitle));case 2:fetchPromise=fetchIndexSettings(indexPatternTitle);indexSettings.set(indexPatternTitle,fetchPromise);return _context.abrupt("return",fetchPromise);case 5:case"end":return _context.stop()}}}))}function fetchIndexSettings(indexPatternTitle){var _indexSettings,warningMsg;return regeneratorRuntime.async((function fetchIndexSettings$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return regeneratorRuntime.awrap((0,_kfetch.kfetch)({pathname:"../".concat(_constants.INDEX_SETTINGS_API_PATH),query:{indexPatternTitle:indexPatternTitle}}));case 3:_indexSettings=_context2.sent;return _context2.abrupt("return",_indexSettings);case 7:_context2.prev=7;_context2.t0=_context2["catch"](0);warningMsg=_i18n.i18n.translate("xpack.maps.indexSettings.fetchErrorMsg",{defaultMessage:"Unable to fetch index settings for index pattern '{indexPatternTitle}'.\n      Ensure you have '{viewIndexMetaRole}' role.",values:{indexPatternTitle:indexPatternTitle,viewIndexMetaRole:"view_index_metadata"}});if(!toastDisplayed){toastDisplayed=true;_notify.toastNotifications.addWarning(warningMsg)}console.warn(warningMsg);return _context2.abrupt("return",{maxResultWindow:_constants.DEFAULT_MAX_RESULT_WINDOW,maxInnerResultWindow:_constants.DEFAULT_MAX_INNER_RESULT_WINDOW});case 13:case"end":return _context2.stop()}}}),null,null,[[0,7]])}},1026:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"EMSTMSSource",{enumerable:true,get:function get(){return _ems_tms_source.EMSTMSSource}});var _ems_tms_source=__webpack_require__(2038)},1027:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TileServiceSelect=exports.AUTO_SELECT=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _meta=__webpack_require__(165);var _ems_unavailable_message=__webpack_require__(1017);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AUTO_SELECT="auto_select";exports.AUTO_SELECT=AUTO_SELECT;var TileServiceSelect=function(_React$Component){_inherits(TileServiceSelect,_React$Component);function TileServiceSelect(){var _getPrototypeOf2;var _this;_classCallCheck(this,TileServiceSelect);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(TileServiceSelect)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{emsTmsOptions:[],hasLoaded:false});_defineProperty(_assertThisInitialized(_this),"_loadTmsOptions",(function _callee(){var emsClient,emsTMSServices,emsTmsOptions;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:emsClient=(0,_meta.getEMSClient)();_context.next=3;return regeneratorRuntime.awrap(emsClient.getTMSServices());case 3:emsTMSServices=_context.sent;if(_this._isMounted){_context.next=6;break}return _context.abrupt("return");case 6:emsTmsOptions=emsTMSServices.map((function(tmsService){return{value:tmsService.getId(),text:tmsService.getDisplayName()?tmsService.getDisplayName():tmsService.getId()}}));emsTmsOptions.unshift({value:AUTO_SELECT,text:_i18n.i18n.translate("xpack.maps.source.emsTile.autoLabel",{defaultMessage:"Autoselect based on Kibana theme"})});_this.setState({emsTmsOptions:emsTmsOptions,hasLoaded:true});case 9:case"end":return _context.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"_onChange",(function(e){var value=e.target.value;var isAutoSelect=value===AUTO_SELECT;_this.props.onTileSelect({id:isAutoSelect?null:value,isAutoSelect:isAutoSelect})}));return _this}_createClass(TileServiceSelect,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadTmsOptions()}},{key:"render",value:function render(){var helpText=this.state.hasLoaded&&this.state.emsTmsOptions.length===0?(0,_ems_unavailable_message.getEmsUnavailableMessage)():null;var selectedId;if(this.props.config){selectedId=this.props.config.isAutoSelect?AUTO_SELECT:this.props.config.id}return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.emsTile.label",{defaultMessage:"Tile service"}),helpText:helpText,display:"columnCompressed"},_react.default.createElement(_eui.EuiSelect,{hasNoInitialSelection:!selectedId,value:selectedId,options:this.state.emsTmsOptions,onChange:this._onChange,isLoading:!this.state.hasLoaded,disabled:this.state.hasLoaded&&this.state.emsTmsOptions.length===0,compressed:true}))}}]);return TileServiceSelect}(_react.default.Component);exports.TileServiceSelect=TileServiceSelect},1028:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WmsClient=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _parse_xml_string=__webpack_require__(1006);var _nodeFetch=_interopRequireDefault(__webpack_require__(1032));var _url=__webpack_require__(71);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WmsClient=function(){function WmsClient(_ref){var serviceUrl=_ref.serviceUrl;_classCallCheck(this,WmsClient);this._serviceUrl=serviceUrl}_createClass(WmsClient,[{key:"_fetch",value:function _fetch(url){return regeneratorRuntime.async((function _fetch$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",(0,_nodeFetch.default)(url));case 1:case"end":return _context.stop()}}}))}},{key:"_createUrl",value:function _createUrl(defaultQueryParams){var serviceUrl=(0,_url.parse)(this._serviceUrl,true);var queryParams=_objectSpread({},serviceUrl.query,{},defaultQueryParams);return(0,_url.format)({protocol:serviceUrl.protocol,hostname:serviceUrl.hostname,port:serviceUrl.port,pathname:serviceUrl.pathname,query:queryParams})}},{key:"getUrlTemplate",value:function getUrlTemplate(layers,styles){var urlTemplate=this._createUrl({format:"image/png",service:"WMS",version:"1.1.1",request:"GetMap",srs:"EPSG:3857",transparent:"true",width:"256",height:"256",layers:layers,styles:styles});return"".concat(urlTemplate,"&bbox={bbox-epsg-3857}")}},{key:"_fetchCapabilities",value:function _fetchCapabilities(){var getCapabilitiesUrl,queryParams,resp,body;return regeneratorRuntime.async((function _fetchCapabilities$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:getCapabilitiesUrl=(0,_url.parse)(this._serviceUrl,true);queryParams=_objectSpread({},getCapabilitiesUrl.query,{},{version:"1.1.1",request:"GetCapabilities",service:"WMS"});_context2.next=4;return regeneratorRuntime.awrap(this._fetch((0,_url.format)({protocol:getCapabilitiesUrl.protocol,hostname:getCapabilitiesUrl.hostname,port:getCapabilitiesUrl.port,pathname:getCapabilitiesUrl.pathname,query:queryParams})));case 4:resp=_context2.sent;if(!(resp.status>=400)){_context2.next=7;break}throw new Error("Unable to access ".concat(this.state.serviceUrl));case 7:_context2.next=9;return regeneratorRuntime.awrap(resp.text());case 9:body=_context2.sent;_context2.next=12;return regeneratorRuntime.awrap((0,_parse_xml_string.parseXmlString)(body));case 12:return _context2.abrupt("return",_context2.sent);case 13:case"end":return _context2.stop()}}}),null,this)}},{key:"getCapabilities",value:function getCapabilities(){var rawCapabilities,_reduceLayers,layers,styles;return regeneratorRuntime.async((function getCapabilities$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return regeneratorRuntime.awrap(this._fetchCapabilities());case 2:rawCapabilities=_context3.sent;_reduceLayers=reduceLayers([],_lodash.default.get(rawCapabilities,"WMT_MS_Capabilities.Capability[0].Layer",[])),layers=_reduceLayers.layers,styles=_reduceLayers.styles;return _context3.abrupt("return",{layers:groupCapabilities(layers),styles:groupCapabilities(styles)});case 5:case"end":return _context3.stop()}}}),null,this)}}]);return WmsClient}();exports.WmsClient=WmsClient;function reduceLayers(path,layers){var emptyCapabilities={layers:[],styles:[]};function createOption(optionPath,optionTitle,optionName){return{path:[].concat(_toConsumableArray(optionPath),[optionTitle]),value:optionName}}return layers.reduce((function(accumulatedCapabilities,layer){if(layer.Layer){var hierarchicalCapabilities=reduceLayers([].concat(_toConsumableArray(path),[layer.Title[0]]),layer.Layer);return{layers:[].concat(_toConsumableArray(accumulatedCapabilities.layers),_toConsumableArray(hierarchicalCapabilities.layers)),styles:[].concat(_toConsumableArray(accumulatedCapabilities.styles),_toConsumableArray(hierarchicalCapabilities.styles))}}var updatedStyles=_toConsumableArray(accumulatedCapabilities.styles);if(_lodash.default.has(layer,"Style[0]")){updatedStyles.push(createOption(path,_lodash.default.get(layer,"Style[0].Title[0]"),_lodash.default.get(layer,"Style[0].Name[0]")))}return{layers:[].concat(_toConsumableArray(accumulatedCapabilities.layers),[createOption(path,layer.Title[0],layer.Name[0])]),styles:updatedStyles}}),emptyCapabilities)}function groupCapabilities(list){if(list.length===0){return[]}var maxPathDepth=0;list.forEach((function(_ref2){var path=_ref2.path;if(path.length>maxPathDepth){maxPathDepth=path.length}}));var rootCommonPath=list[0].path;for(var listIndex=1;listIndex<list.length;listIndex++){if(rootCommonPath.length===0){break}var path=list[listIndex].path;for(var pathIndex=0;pathIndex<path.length&&pathIndex<rootCommonPath.length;pathIndex++){if(rootCommonPath[pathIndex]!==path[pathIndex]){rootCommonPath=rootCommonPath.slice(0,pathIndex);break}}}var labelMap=new Map;var options=list.map((function(_ref3){var path=_ref3.path,value=_ref3.value;var title=path[path.length-1];var hierachyWithTitle=rootCommonPath.length===path.length?title:path.splice(rootCommonPath.length).join(" - ");var label=title===value?hierachyWithTitle:"".concat(hierachyWithTitle," (").concat(value,")");var uniqueLabel;if(labelMap.has(label)){var counter=labelMap.get(label);var nextCounter=counter+1;labelMap.set(label,nextCounter);uniqueLabel="".concat(label,":").concat(nextCounter)}else{labelMap.set(label,0);uniqueLabel=label}return{label:uniqueLabel,value:value}}));if(rootCommonPath.length===0||rootCommonPath.length===maxPathDepth){return options}return[{label:rootCommonPath.join(" - "),options:options}]}},1029:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"KibanaTilemapSource",{enumerable:true,get:function get(){return _kibana_tilemap_source.KibanaTilemapSource}});var _kibana_tilemap_source=__webpack_require__(2043)},1030:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GeometryFilterForm=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);var _constants=__webpack_require__(25);var _i18n_getters=__webpack_require__(166);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var GEO_FIELD_VALUE_DELIMITER="/";function createIndexGeoFieldName(_ref){var indexPatternTitle=_ref.indexPatternTitle,geoFieldName=_ref.geoFieldName;return"".concat(indexPatternTitle).concat(GEO_FIELD_VALUE_DELIMITER).concat(geoFieldName)}function splitIndexGeoFieldName(value){var split=value.split(GEO_FIELD_VALUE_DELIMITER);return{indexPatternTitle:split[0],geoFieldName:split[1]}}var GeometryFilterForm=function(_Component){_inherits(GeometryFilterForm,_Component);function GeometryFilterForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,GeometryFilterForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(GeometryFilterForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{geoFieldTag:_this.props.geoFields.length?createIndexGeoFieldName(_this.props.geoFields[0]):"",geometryLabel:_this.props.intitialGeometryLabel,relation:_constants.ES_SPATIAL_RELATIONS.INTERSECTS});_defineProperty(_assertThisInitialized(_this),"_getSelectedGeoField",(function(){if(!_this.state.geoFieldTag){return null}var _splitIndexGeoFieldNa=splitIndexGeoFieldName(_this.state.geoFieldTag),indexPatternTitle=_splitIndexGeoFieldNa.indexPatternTitle,geoFieldName=_splitIndexGeoFieldNa.geoFieldName;return _this.props.geoFields.find((function(option){return option.indexPatternTitle===indexPatternTitle&&option.geoFieldName===geoFieldName}))}));_defineProperty(_assertThisInitialized(_this),"_onGeoFieldChange",(function(selectedValue){_this.setState({geoFieldTag:selectedValue})}));_defineProperty(_assertThisInitialized(_this),"_onGeometryLabelChange",(function(e){_this.setState({geometryLabel:e.target.value})}));_defineProperty(_assertThisInitialized(_this),"_onRelationChange",(function(e){_this.setState({relation:e.target.value})}));_defineProperty(_assertThisInitialized(_this),"_onSubmit",(function(){var geoField=_this._getSelectedGeoField();_this.props.onSubmit({geometryLabel:_this.state.geometryLabel,indexPatternId:geoField.indexPatternId,geoFieldName:geoField.geoFieldName,geoFieldType:geoField.geoFieldType,relation:_this.state.relation})}));return _this}_createClass(GeometryFilterForm,[{key:"_renderRelationInput",value:function _renderRelationInput(){if(!this.state.geoFieldTag){return null}var _this$_getSelectedGeo=this._getSelectedGeoField(),geoFieldType=_this$_getSelectedGeo.geoFieldType;if(geoFieldType===_constants.ES_GEO_FIELD_TYPE.GEO_POINT){return null}var spatialRelations=this.props.isFilterGeometryClosed?Object.values(_constants.ES_SPATIAL_RELATIONS):Object.values(_constants.ES_SPATIAL_RELATIONS).filter((function(relation){return relation!==_constants.ES_SPATIAL_RELATIONS.WITHIN}));var options=spatialRelations.map((function(relation){return{value:relation,text:(0,_i18n_getters.getEsSpatialRelationLabel)(relation)}}));return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.geometryFilterForm.relationLabel",{defaultMessage:"Spatial relation"}),display:"rowCompressed"},_react.default.createElement(_eui.EuiSelect,{compressed:true,options:options,value:this.state.relation,onChange:this._onRelationChange}))}},{key:"render",value:function render(){var options=this.props.geoFields.map((function(_ref2){var indexPatternTitle=_ref2.indexPatternTitle,geoFieldName=_ref2.geoFieldName;return{inputDisplay:_react.default.createElement(_eui.EuiText,{size:"s",component:"span"},_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement("small",null,indexPatternTitle)),_react.default.createElement("br",null),geoFieldName),value:createIndexGeoFieldName({indexPatternTitle:indexPatternTitle,geoFieldName:geoFieldName})}}));var error;if(this.props.errorMsg){error=_react.default.createElement(_eui.EuiFormErrorText,null,this.props.errorMsg)}return _react.default.createElement(_eui.EuiForm,{className:this.props.className},_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.geometryFilterForm.geometryLabelLabel",{defaultMessage:"Geometry label"}),display:"rowCompressed"},_react.default.createElement(_eui.EuiFieldText,{compressed:true,value:this.state.geometryLabel,onChange:this._onGeometryLabelChange})),_react.default.createElement(_eui.EuiFormRow,{className:"mapGeometryFilter__geoFieldSuperSelectWrapper",label:_i18n.i18n.translate("xpack.maps.geometryFilterForm.geoFieldLabel",{defaultMessage:"Filtered field"}),display:"rowCompressed"},_react.default.createElement(_eui.EuiSuperSelect,{className:"mapGeometryFilter__geoFieldSuperSelect",options:options,valueOfSelected:this.state.geoFieldTag,onChange:this._onGeoFieldChange,hasDividers:true,fullWidth:true,compressed:true,itemClassName:"mapGeometryFilter__geoFieldItem"})),this._renderRelationInput(),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),error,_react.default.createElement(_eui.EuiTextAlign,{textAlign:"right"},_react.default.createElement(_eui.EuiButton,{size:"s",fill:true,onClick:this._onSubmit,isDisabled:!this.state.geometryLabel||!this.state.geoFieldTag,isLoading:this.props.isLoading},this.props.buttonLabel)))}}]);return GeometryFilterForm}(_react.Component);exports.GeometryFilterForm=GeometryFilterForm;_defineProperty(GeometryFilterForm,"propTypes",{buttonLabel:_propTypes.default.string.isRequired,geoFields:_propTypes.default.array.isRequired,intitialGeometryLabel:_propTypes.default.string.isRequired,onSubmit:_propTypes.default.func.isRequired,isFilterGeometryClosed:_propTypes.default.bool,errorMsg:_propTypes.default.string});_defineProperty(GeometryFilterForm,"defaultProps",{isFilterGeometryClosed:true})},1031:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GlobalFilterCheckbox=GlobalFilterCheckbox;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function GlobalFilterCheckbox(_ref){var applyGlobalQuery=_ref.applyGlobalQuery,label=_ref.label,setApplyGlobalQuery=_ref.setApplyGlobalQuery;var onApplyGlobalQueryChange=function onApplyGlobalQueryChange(event){setApplyGlobalQuery(event.target.checked)};return _react.default.createElement(_eui.EuiFormRow,{display:"columnCompressedSwitch"},_react.default.createElement(_eui.EuiSwitch,{label:label,checked:applyGlobalQuery,onChange:onApplyGlobalQueryChange,"data-test-subj":"mapLayerPanelApplyGlobalQueryCheckbox",compressed:true}))}},1032:function(module,exports,__webpack_require__){module.exports=__webpack_require__(36)(2365)},1033:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"useField",{enumerable:true,get:function get(){return _use_field.useField}});Object.defineProperty(exports,"useForm",{enumerable:true,get:function get(){return _use_form.useForm}});var _use_field=__webpack_require__(2122);var _use_form=__webpack_require__(2123)},1034:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VALIDATION_TYPES=exports.FIELD_TYPES=void 0;var FIELD_TYPES={TEXT:"text",TEXTAREA:"textarea",NUMBER:"number",TOGGLE:"toggle",CHECKBOX:"checkbox",COMBO_BOX:"comboBox",RADIO_GROUP:"radioGroup",RANGE:"range",SELECT:"select",SUPER_SELECT:"superSelect",MULTI_SELECT:"multiSelect"};exports.FIELD_TYPES=FIELD_TYPES;var VALIDATION_TYPES={FIELD:"field",ASYNC:"async",ARRAY_ITEM:"arrayItem"};exports.VALIDATION_TYPES=VALIDATION_TYPES},1035:function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.getUseField=exports.UseField=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _hooks=__webpack_require__(1033);var _form_context=__webpack_require__(407);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var UseField=_react.default.memo((function(_ref){var path=_ref.path,config=_ref.config,defaultValue=_ref.defaultValue,component=_ref.component,componentProps=_ref.componentProps,_ref$readDefaultValue=_ref.readDefaultValueOnForm,readDefaultValueOnForm=_ref$readDefaultValue===void 0?true:_ref$readDefaultValue,onChange=_ref.onChange,children=_ref.children;var form=(0,_form_context.useFormContext)();component=component===undefined?"input":component;componentProps=componentProps===undefined?{}:componentProps;if(typeof defaultValue==="undefined"&&readDefaultValueOnForm){defaultValue=form.getFieldDefaultValue(path)}if(!config){config=form.__readFieldConfigFromSchema(path)}var configCopy=typeof defaultValue!=="undefined"?_objectSpread({},config,{defaultValue:defaultValue}):_objectSpread({},config);if(!configCopy.path){configCopy.path=path}else{if(configCopy.path!==path){throw new Error('Field path mismatch. Got "'.concat(path,'" but field config has "').concat(configCopy.path,'".'))}}var field=(0,_hooks.useField)(form,path,configCopy,onChange);if(children){return children(field)}if(component==="input"){return _react.default.createElement("input",_extends({type:field.type,onChange:field.onChange,value:field.value},componentProps))}return component(_objectSpread({field:field},componentProps))}));exports.UseField=UseField;var getUseField=function getUseField(partialProps){return function(props){var componentProps=_objectSpread({},partialProps,{},props);return _react.default.createElement(UseField,componentProps)}};exports.getUseField=getUseField},1036:function(module,exports,__webpack_require__){"use strict";var _mapTypeToFieldCompon;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.Field=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _hook_form_lib=__webpack_require__(113);var _fields=__webpack_require__(1037);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var mapTypeToFieldComponent=(_mapTypeToFieldCompon={},_defineProperty(_mapTypeToFieldCompon,_hook_form_lib.FIELD_TYPES.TEXT,_fields.TextField),_defineProperty(_mapTypeToFieldCompon,_hook_form_lib.FIELD_TYPES.TEXTAREA,_fields.TextAreaField),_defineProperty(_mapTypeToFieldCompon,_hook_form_lib.FIELD_TYPES.NUMBER,_fields.NumericField),_defineProperty(_mapTypeToFieldCompon,_hook_form_lib.FIELD_TYPES.CHECKBOX,_fields.CheckBoxField),_defineProperty(_mapTypeToFieldCompon,_hook_form_lib.FIELD_TYPES.COMBO_BOX,_fields.ComboBoxField),_defineProperty(_mapTypeToFieldCompon,_hook_form_lib.FIELD_TYPES.MULTI_SELECT,_fields.MultiSelectField),_defineProperty(_mapTypeToFieldCompon,_hook_form_lib.FIELD_TYPES.RADIO_GROUP,_fields.RadioGroupField),_defineProperty(_mapTypeToFieldCompon,_hook_form_lib.FIELD_TYPES.RANGE,_fields.RangeField),_defineProperty(_mapTypeToFieldCompon,_hook_form_lib.FIELD_TYPES.SELECT,_fields.SelectField),_defineProperty(_mapTypeToFieldCompon,_hook_form_lib.FIELD_TYPES.SUPER_SELECT,_fields.SuperSelectField),_defineProperty(_mapTypeToFieldCompon,_hook_form_lib.FIELD_TYPES.TOGGLE,_fields.ToggleField),_mapTypeToFieldCompon);var Field=function Field(props){var FieldComponent=mapTypeToFieldComponent[props.field.type]||_fields.TextField;return _react.default.createElement(FieldComponent,props)};exports.Field=Field},1037:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _text_field=__webpack_require__(2134);Object.keys(_text_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _text_field[key]}})}));var _numeric_field=__webpack_require__(2135);Object.keys(_numeric_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _numeric_field[key]}})}));var _checkbox_field=__webpack_require__(2136);Object.keys(_checkbox_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _checkbox_field[key]}})}));var _combobox_field=__webpack_require__(2137);Object.keys(_combobox_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _combobox_field[key]}})}));var _multi_select_field=__webpack_require__(2138);Object.keys(_multi_select_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _multi_select_field[key]}})}));var _radio_group_field=__webpack_require__(2139);Object.keys(_radio_group_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _radio_group_field[key]}})}));var _range_field=__webpack_require__(2140);Object.keys(_range_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _range_field[key]}})}));var _select_field=__webpack_require__(2141);Object.keys(_select_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _select_field[key]}})}));var _super_select_field=__webpack_require__(2142);Object.keys(_super_select_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _super_select_field[key]}})}));var _toggle_field=__webpack_require__(2143);Object.keys(_toggle_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _toggle_field[key]}})}));var _text_area_field=__webpack_require__(2144);Object.keys(_text_area_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _text_area_field[key]}})}));var _json_editor_field=__webpack_require__(2145);Object.keys(_json_editor_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _json_editor_field[key]}})}))},1038:function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}Object.defineProperty(exports,"__esModule",{value:true});exports.stripEmptyFields=exports.multiSelectComponent=void 0;var multiSelectComponent={optionsToSelectedValue:function optionsToSelectedValue(options){return options.filter((function(option){return option.checked==="on"})).map((function(option){return option.label}))}};exports.multiSelectComponent=multiSelectComponent;var stripEmptyFields=function stripEmptyFields(object,options){var _ref=options||{},_ref$types=_ref.types,types=_ref$types===void 0?["string","object"]:_ref$types,_ref$recursive=_ref.recursive,recursive=_ref$recursive===void 0?false:_ref$recursive;return Object.entries(object).reduce((function(acc,_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1];var type=_typeof(value);var shouldStrip=types.includes(type);if(shouldStrip&&type==="string"&&value.trim()===""){return acc}else if(type==="object"&&!Array.isArray(value)&&value!==null){if(Object.keys(value).length===0&&shouldStrip){return acc}else if(recursive){value=stripEmptyFields(_objectSpread({},value),options)}}acc[key]=value;return acc}),{})};exports.stripEmptyFields=stripEmptyFields},1039:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _greater_than=__webpack_require__(2162);Object.keys(_greater_than).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _greater_than[key]}})}));var _smaller_than=__webpack_require__(2163);Object.keys(_smaller_than).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _smaller_than[key]}})}))},1059:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GisMap=void 0;var _reactRedux=__webpack_require__(12);var _view=__webpack_require__(1944);var _ui=__webpack_require__(202);var _ui_actions=__webpack_require__(177);var _ui_selectors=__webpack_require__(203);var _map_actions=__webpack_require__(92);var _map_selectors=__webpack_require__(64);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var flyoutDisplay=(0,_ui_selectors.getFlyoutDisplay)(state);return{areLayersLoaded:(0,_map_selectors.areLayersLoaded)(state),layerDetailsVisible:flyoutDisplay===_ui.FLYOUT_STATE.LAYER_PANEL,addLayerVisible:flyoutDisplay===_ui.FLYOUT_STATE.ADD_LAYER_WIZARD,noFlyoutVisible:flyoutDisplay===_ui.FLYOUT_STATE.NONE,isFullScreen:(0,_ui_selectors.getIsFullScreen)(state),refreshConfig:(0,_map_selectors.getRefreshConfig)(state),mapInitError:(0,_map_selectors.getMapInitError)(state),indexPatternIds:(0,_map_selectors.getQueryableUniqueIndexPatternIds)(state),hideToolbarOverlay:(0,_map_selectors.isToolbarOverlayHidden)(state)}}function mapDispatchToProps(dispatch){return{triggerRefreshTimer:function triggerRefreshTimer(){return dispatch((0,_map_actions.triggerRefreshTimer)())},exitFullScreen:function exitFullScreen(){return dispatch((0,_ui_actions.exitFullScreen)())},cancelAllInFlightRequests:function cancelAllInFlightRequests(){return dispatch((0,_map_actions.cancelAllInFlightRequests)())}}}var connectedGisMap=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_view.GisMap);exports.GisMap=connectedGisMap},1060:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getInitialLayers=getInitialLayers;var _lodash=_interopRequireDefault(__webpack_require__(3));var _kibana_tilemap_source=__webpack_require__(1029);var _ems_tms_source=__webpack_require__(1026);var _chrome=_interopRequireDefault(__webpack_require__(8));var _meta=__webpack_require__(165);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getInitialLayers(layerListJSON){if(layerListJSON){return JSON.parse(layerListJSON)}var tilemapSourceFromKibana=(0,_meta.getKibanaTileMap)();if(_lodash.default.get(tilemapSourceFromKibana,"url")){var sourceDescriptor=_kibana_tilemap_source.KibanaTilemapSource.createDescriptor();var source=new _kibana_tilemap_source.KibanaTilemapSource(sourceDescriptor);var layer=source.createDefaultLayer();return[layer.toLayerDescriptor()]}var isEmsEnabled=_chrome.default.getInjected("isEmsEnabled",true);if(isEmsEnabled){var descriptor=_ems_tms_source.EMSTMSSource.createDescriptor({isAutoSelect:true});var _source=new _ems_tms_source.EMSTMSSource(descriptor);var _layer=_source.createDefaultLayer();return[_layer.toLayerDescriptor()]}return[]}},1061:function(module,exports,__webpack_require__){"use strict";var _saved_gis_map=__webpack_require__(2114);var _modules=__webpack_require__(14);var _saved_objects=__webpack_require__(207);var _new_platform=__webpack_require__(7);var _module=_modules.uiModules.get("app/maps");_module.service("gisMapSavedObjectLoader",(function(){var savedObjectsClient=_new_platform.npStart.core.savedObjects.client;var services={savedObjectsClient:savedObjectsClient,indexPatterns:_new_platform.npStart.plugins.data.indexPatterns,chrome:_new_platform.npStart.core.chrome,overlays:_new_platform.npStart.core.overlays};var SavedGisMap=(0,_saved_gis_map.createSavedGisMapClass)(services);return new _saved_objects.SavedObjectLoader(SavedGisMap,_new_platform.npStart.core.savedObjects.client,_new_platform.npStart.core.chrome)}))},1062:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MapsPlugin=exports.bindSetupCoreAndPlugins=void 0;var _i18n=__webpack_require__(19);var _map_listing=__webpack_require__(2116);var _kibana_services=__webpack_require__(101);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var bindSetupCoreAndPlugins=function bindSetupCoreAndPlugins(core,plugins){var licensing=plugins.licensing;if(licensing){licensing.license$.subscribe((function(_ref){var uid=_ref.uid;return(0,_kibana_services.setLicenseId)(uid)}))}};exports.bindSetupCoreAndPlugins=bindSetupCoreAndPlugins;var MapsPlugin=function(){function MapsPlugin(){_classCallCheck(this,MapsPlugin)}_createClass(MapsPlugin,[{key:"setup",value:function setup(core,plugins){var uiModules=plugins.__LEGACY.uiModules,np=plugins.np;uiModules.get("app/maps",["ngRoute","react"]).directive("mapListing",(function(reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(_map_listing.MapListing))}));bindSetupCoreAndPlugins(core,np)}},{key:"start",value:function start(core,plugins){}}]);return MapsPlugin}();exports.MapsPlugin=MapsPlugin},1063:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addHelpMenuToAppChrome=addHelpMenuToAppChrome;var _documentation_links=__webpack_require__(83);function addHelpMenuToAppChrome(chrome){chrome.helpExtension.set({appName:"Maps",links:[{linkType:"documentation",href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(_documentation_links.DOC_LINK_VERSION,"/maps.html")},{linkType:"github",title:"[Maps]",labels:["Team:Geo"]}]})}},1064:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(1794)},1065:function(module,exports,__webpack_require__){module.exports=__webpack_require__(26)(2704)},1067:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field=__webpack_require__(1036);Object.keys(_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _field[key]}})}));var _form_row=__webpack_require__(2146);Object.keys(_form_row).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _form_row[key]}})}));var _fields=__webpack_require__(1037);Object.keys(_fields).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _fields[key]}})}))},1071:function(module,exports,__webpack_require__){module.exports=__webpack_require__(36)(2597)},1072:function(module,exports,__webpack_require__){module.exports=__webpack_require__(36)(1091)},1117:function(module,exports,__webpack_require__){module.exports=__webpack_require__(17)(3117)},113:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={useForm:true,getFieldValidityAndErrorMessage:true};Object.defineProperty(exports,"useForm",{enumerable:true,get:function get(){return _hooks.useForm}});Object.defineProperty(exports,"getFieldValidityAndErrorMessage",{enumerable:true,get:function get(){return _helpers.getFieldValidityAndErrorMessage}});var _hooks=__webpack_require__(1033);var _helpers=__webpack_require__(2127);var _form_context=__webpack_require__(407);Object.keys(_form_context).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _form_context[key]}})}));var _components=__webpack_require__(2128);Object.keys(_components).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _components[key]}})}));var _constants=__webpack_require__(1034);Object.keys(_constants).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _constants[key]}})}));var _types=__webpack_require__(2133);Object.keys(_types).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _types[key]}})}))},12:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(1761)},1263:function(module,exports,__webpack_require__){module.exports=__webpack_require__(26)(2847)},147:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getDefaultProperties=getDefaultProperties;exports.getDefaultStaticProperties=getDefaultStaticProperties;exports.getDefaultDynamicProperties=getDefaultDynamicProperties;exports.POLYGON_STYLES=exports.LINE_STYLES=exports.VECTOR_STYLES=exports.LABEL_BORDER_SIZES=exports.DEFAULT_LABEL_SIZE=exports.DEFAULT_SIGMA=exports.DEFAULT_MAX_SIZE=exports.DEFAULT_MIN_SIZE=exports.MAX_SIZE=exports.MIN_SIZE=void 0;var _vector_style=__webpack_require__(249);var _vector_constants=__webpack_require__(510);var _color_utils=__webpack_require__(201);var _chrome=_interopRequireDefault(__webpack_require__(8));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DEFAULT_ICON="airfield";var MIN_SIZE=1;exports.MIN_SIZE=MIN_SIZE;var MAX_SIZE=64;exports.MAX_SIZE=MAX_SIZE;var DEFAULT_MIN_SIZE=4;exports.DEFAULT_MIN_SIZE=DEFAULT_MIN_SIZE;var DEFAULT_MAX_SIZE=32;exports.DEFAULT_MAX_SIZE=DEFAULT_MAX_SIZE;var DEFAULT_SIGMA=3;exports.DEFAULT_SIGMA=DEFAULT_SIGMA;var DEFAULT_LABEL_SIZE=14;exports.DEFAULT_LABEL_SIZE=DEFAULT_LABEL_SIZE;var LABEL_BORDER_SIZES={NONE:"NONE",SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE"};exports.LABEL_BORDER_SIZES=LABEL_BORDER_SIZES;var VECTOR_STYLES={SYMBOL:"symbol",FILL_COLOR:"fillColor",LINE_COLOR:"lineColor",LINE_WIDTH:"lineWidth",ICON_SIZE:"iconSize",ICON_ORIENTATION:"iconOrientation",LABEL_TEXT:"labelText",LABEL_COLOR:"labelColor",LABEL_SIZE:"labelSize",LABEL_BORDER_COLOR:"labelBorderColor",LABEL_BORDER_SIZE:"labelBorderSize"};exports.VECTOR_STYLES=VECTOR_STYLES;var LINE_STYLES=[VECTOR_STYLES.LINE_COLOR,VECTOR_STYLES.LINE_WIDTH];exports.LINE_STYLES=LINE_STYLES;var POLYGON_STYLES=[VECTOR_STYLES.FILL_COLOR,VECTOR_STYLES.LINE_COLOR,VECTOR_STYLES.LINE_WIDTH];exports.POLYGON_STYLES=POLYGON_STYLES;function getDefaultProperties(){var _objectSpread2;var mapColors=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return _objectSpread({},getDefaultStaticProperties(mapColors),(_objectSpread2={},_defineProperty(_objectSpread2,VECTOR_STYLES.SYMBOL,{options:{symbolizeAs:_vector_constants.SYMBOLIZE_AS_CIRCLE,symbolId:DEFAULT_ICON}}),_defineProperty(_objectSpread2,VECTOR_STYLES.LABEL_BORDER_SIZE,{options:{size:LABEL_BORDER_SIZES.SMALL}}),_objectSpread2))}function getDefaultStaticProperties(){var _ref;var mapColors=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var lastColor=mapColors.pop();var nextColorIndex=(_color_utils.DEFAULT_FILL_COLORS.indexOf(lastColor)+1)%_color_utils.DEFAULT_FILL_COLORS.length;var nextFillColor=_color_utils.DEFAULT_FILL_COLORS[nextColorIndex];var nextLineColor=_color_utils.DEFAULT_LINE_COLORS[nextColorIndex];var isDarkMode=_chrome.default.getUiSettingsClient().get("theme:darkMode",false);return _ref={},_defineProperty(_ref,VECTOR_STYLES.FILL_COLOR,{type:_vector_style.VectorStyle.STYLE_TYPE.STATIC,options:{color:nextFillColor}}),_defineProperty(_ref,VECTOR_STYLES.LINE_COLOR,{type:_vector_style.VectorStyle.STYLE_TYPE.STATIC,options:{color:nextLineColor}}),_defineProperty(_ref,VECTOR_STYLES.LINE_WIDTH,{type:_vector_style.VectorStyle.STYLE_TYPE.STATIC,options:{size:1}}),_defineProperty(_ref,VECTOR_STYLES.ICON_SIZE,{type:_vector_style.VectorStyle.STYLE_TYPE.STATIC,options:{size:_vector_constants.DEFAULT_ICON_SIZE}}),_defineProperty(_ref,VECTOR_STYLES.ICON_ORIENTATION,{type:_vector_style.VectorStyle.STYLE_TYPE.STATIC,options:{orientation:0}}),_defineProperty(_ref,VECTOR_STYLES.LABEL_TEXT,{type:_vector_style.VectorStyle.STYLE_TYPE.STATIC,options:{value:""}}),_defineProperty(_ref,VECTOR_STYLES.LABEL_COLOR,{type:_vector_style.VectorStyle.STYLE_TYPE.STATIC,options:{color:isDarkMode?"#FFFFFF":"#000000"}}),_defineProperty(_ref,VECTOR_STYLES.LABEL_SIZE,{type:_vector_style.VectorStyle.STYLE_TYPE.STATIC,options:{size:DEFAULT_LABEL_SIZE}}),_defineProperty(_ref,VECTOR_STYLES.LABEL_BORDER_COLOR,{type:_vector_style.VectorStyle.STYLE_TYPE.STATIC,options:{color:isDarkMode?"#000000":"#FFFFFF"}}),_ref}function getDefaultDynamicProperties(){var _ref2;return _ref2={},_defineProperty(_ref2,VECTOR_STYLES.FILL_COLOR,{type:_vector_style.VectorStyle.STYLE_TYPE.DYNAMIC,options:{color:_color_utils.COLOR_GRADIENTS[0].value,colorCategory:_color_utils.COLOR_PALETTES[0].value,field:undefined,fieldMetaOptions:{isEnabled:true,sigma:DEFAULT_SIGMA}}}),_defineProperty(_ref2,VECTOR_STYLES.LINE_COLOR,{type:_vector_style.VectorStyle.STYLE_TYPE.DYNAMIC,options:{color:undefined,field:undefined,fieldMetaOptions:{isEnabled:true,sigma:DEFAULT_SIGMA}}}),_defineProperty(_ref2,VECTOR_STYLES.LINE_WIDTH,{type:_vector_style.VectorStyle.STYLE_TYPE.DYNAMIC,options:{minSize:1,maxSize:10,field:undefined,fieldMetaOptions:{isEnabled:true,sigma:DEFAULT_SIGMA}}}),_defineProperty(_ref2,VECTOR_STYLES.ICON_SIZE,{type:_vector_style.VectorStyle.STYLE_TYPE.DYNAMIC,options:{minSize:DEFAULT_MIN_SIZE,maxSize:DEFAULT_MAX_SIZE,field:undefined,fieldMetaOptions:{isEnabled:true,sigma:DEFAULT_SIGMA}}}),_defineProperty(_ref2,VECTOR_STYLES.ICON_ORIENTATION,{type:_vector_style.VectorStyle.STYLE_TYPE.DYNAMIC,options:{field:undefined,fieldMetaOptions:{isEnabled:true,sigma:DEFAULT_SIGMA}}}),_defineProperty(_ref2,VECTOR_STYLES.LABEL_TEXT,{type:_vector_style.VectorStyle.STYLE_TYPE.DYNAMIC,options:{field:undefined}}),_defineProperty(_ref2,VECTOR_STYLES.LABEL_COLOR,{type:_vector_style.VectorStyle.STYLE_TYPE.DYNAMIC,options:{color:_color_utils.COLOR_GRADIENTS[0].value,colorCategory:_color_utils.COLOR_PALETTES[0].value,field:undefined,fieldMetaOptions:{isEnabled:true,sigma:DEFAULT_SIGMA}}}),_defineProperty(_ref2,VECTOR_STYLES.LABEL_SIZE,{type:_vector_style.VectorStyle.STYLE_TYPE.DYNAMIC,options:{minSize:DEFAULT_MIN_SIZE,maxSize:DEFAULT_MAX_SIZE,field:undefined,fieldMetaOptions:{isEnabled:true,sigma:DEFAULT_SIGMA}}}),_defineProperty(_ref2,VECTOR_STYLES.LABEL_BORDER_COLOR,{type:_vector_style.VectorStyle.STYLE_TYPE.DYNAMIC,options:{color:_color_utils.COLOR_GRADIENTS[0].value,colorCategory:_color_utils.COLOR_PALETTES[0].value,field:undefined,fieldMetaOptions:{isEnabled:true,sigma:DEFAULT_SIGMA}}}),_ref2}},164:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _contains_chars=__webpack_require__(1900);Object.keys(_contains_chars).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _contains_chars[key]}})}));var _ends_with=__webpack_require__(1901);Object.keys(_ends_with).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _ends_with[key]}})}));var _has_max_length=__webpack_require__(1902);Object.keys(_has_max_length).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _has_max_length[key]}})}));var _has_min_length=__webpack_require__(1903);Object.keys(_has_min_length).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _has_min_length[key]}})}));var _is_empty=__webpack_require__(1904);Object.keys(_is_empty).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _is_empty[key]}})}));var _is_url=__webpack_require__(1905);Object.keys(_is_url).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _is_url[key]}})}));var _starts_with=__webpack_require__(1906);Object.keys(_starts_with).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _starts_with[key]}})}));var _is_json=__webpack_require__(1907);Object.keys(_is_json).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _is_json[key]}})}));var _is_lowercase=__webpack_require__(1908);Object.keys(_is_lowercase).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _is_lowercase[key]}})}))},165:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getKibanaRegionList=getKibanaRegionList;exports.getKibanaTileMap=getKibanaTileMap;exports.getEMSClient=getEMSClient;exports.getGlyphUrl=getGlyphUrl;exports.isRetina=isRetina;var _constants=__webpack_require__(25);var _chrome=_interopRequireDefault(__webpack_require__(8));var _i18n=__webpack_require__(2);var _emsClient=__webpack_require__(1269);var _kibana_services=__webpack_require__(101);var _nodeFetch=_interopRequireDefault(__webpack_require__(1032));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var GIS_API_RELATIVE="../".concat(_constants.GIS_API_PATH);function getKibanaRegionList(){return _chrome.default.getInjected("regionmapLayers")}function getKibanaTileMap(){return _chrome.default.getInjected("tilemap")}function relativeToAbsolute(url){var a=document.createElement("a");a.setAttribute("href",url);return a.href}function fetchFunction(){return _nodeFetch.default.apply(void 0,arguments)}var emsClient=null;var latestLicenseId=null;function getEMSClient(){if(!emsClient){var isEmsEnabled=_chrome.default.getInjected("isEmsEnabled",true);if(isEmsEnabled){var proxyElasticMapsServiceInMaps=_chrome.default.getInjected("proxyElasticMapsServiceInMaps",false);var proxyPath="";var tileApiUrl=proxyElasticMapsServiceInMaps?relativeToAbsolute("".concat(GIS_API_RELATIVE,"/").concat(_constants.EMS_TILES_CATALOGUE_PATH)):_chrome.default.getInjected("emsTileApiUrl");var fileApiUrl=proxyElasticMapsServiceInMaps?relativeToAbsolute("".concat(GIS_API_RELATIVE,"/").concat(_constants.EMS_FILES_CATALOGUE_PATH)):_chrome.default.getInjected("emsFileApiUrl");emsClient=new _emsClient.EMSClient({language:_i18n.i18n.getLocale(),kbnVersion:_chrome.default.getInjected("kbnPkgVersion"),tileApiUrl:tileApiUrl,fileApiUrl:fileApiUrl,landingPageUrl:_chrome.default.getInjected("emsLandingPageUrl"),fetchFunction:fetchFunction,proxyPath:proxyPath})}else{emsClient={getFileLayers:function getFileLayers(){return regeneratorRuntime.async((function getFileLayers$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",[]);case 1:case"end":return _context.stop()}}}))},getTMSServices:function getTMSServices(){return regeneratorRuntime.async((function getTMSServices$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",[]);case 1:case"end":return _context2.stop()}}}))},addQueryParams:function addQueryParams(){}}}}var licenseId=(0,_kibana_services.getLicenseId)();if(latestLicenseId!==licenseId){latestLicenseId=licenseId;emsClient.addQueryParams({license:licenseId})}return emsClient}function getGlyphUrl(){if(!_chrome.default.getInjected("isEmsEnabled",true)){return""}return _chrome.default.getInjected("proxyElasticMapsServiceInMaps",false)?relativeToAbsolute("../".concat(_constants.GIS_API_PATH,"/").concat(_constants.EMS_TILES_CATALOGUE_PATH,"/").concat(_constants.EMS_GLYPHS_PATH))+"/{fontstack}/{range}":_chrome.default.getInjected("emsFontLibraryUrl",true)}function isRetina(){return window.devicePixelRatio===2}},166:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAppTitle=getAppTitle;exports.getDataSourceLabel=getDataSourceLabel;exports.getUrlLabel=getUrlLabel;exports.getEsSpatialRelationLabel=getEsSpatialRelationLabel;var _i18n=__webpack_require__(2);var _constants=__webpack_require__(25);function getAppTitle(){return _i18n.i18n.translate("xpack.maps.appTitle",{defaultMessage:"Maps"})}function getDataSourceLabel(){return _i18n.i18n.translate("xpack.maps.source.dataSourceLabel",{defaultMessage:"Data source"})}function getUrlLabel(){return _i18n.i18n.translate("xpack.maps.source.urlLabel",{defaultMessage:"Url"})}function getEsSpatialRelationLabel(spatialRelation){switch(spatialRelation){case _constants.ES_SPATIAL_RELATIONS.INTERSECTS:return _i18n.i18n.translate("xpack.maps.common.esSpatialRelation.intersectsLabel",{defaultMessage:"intersects"});case _constants.ES_SPATIAL_RELATIONS.DISJOINT:return _i18n.i18n.translate("xpack.maps.common.esSpatialRelation.disjointLabel",{defaultMessage:"disjoint"});case _constants.ES_SPATIAL_RELATIONS.WITHIN:return _i18n.i18n.translate("xpack.maps.common.esSpatialRelation.withinLabel",{defaultMessage:"within"});case _constants.ES_SPATIAL_RELATIONS.CONTAINS:return _i18n.i18n.translate("xpack.maps.common.esSpatialRelation.containsLabel",{defaultMessage:"contains"});default:return spatialRelation}}},177:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateFlyout=updateFlyout;exports.closeSetView=closeSetView;exports.openSetView=openSetView;exports.setIsLayerTOCOpen=setIsLayerTOCOpen;exports.exitFullScreen=exitFullScreen;exports.enableFullScreen=enableFullScreen;exports.setReadOnly=setReadOnly;exports.setOpenTOCDetails=setOpenTOCDetails;exports.showTOCDetails=showTOCDetails;exports.hideTOCDetails=hideTOCDetails;exports.updateIndexingStage=updateIndexingStage;exports.UPDATE_INDEXING_STAGE=exports.HIDE_TOC_DETAILS=exports.SHOW_TOC_DETAILS=exports.SET_OPEN_TOC_DETAILS=exports.SET_READ_ONLY=exports.SET_FULL_SCREEN=exports.SET_IS_LAYER_TOC_OPEN=exports.OPEN_SET_VIEW=exports.CLOSE_SET_VIEW=exports.UPDATE_FLYOUT=void 0;var UPDATE_FLYOUT="UPDATE_FLYOUT";exports.UPDATE_FLYOUT=UPDATE_FLYOUT;var CLOSE_SET_VIEW="CLOSE_SET_VIEW";exports.CLOSE_SET_VIEW=CLOSE_SET_VIEW;var OPEN_SET_VIEW="OPEN_SET_VIEW";exports.OPEN_SET_VIEW=OPEN_SET_VIEW;var SET_IS_LAYER_TOC_OPEN="SET_IS_LAYER_TOC_OPEN";exports.SET_IS_LAYER_TOC_OPEN=SET_IS_LAYER_TOC_OPEN;var SET_FULL_SCREEN="SET_FULL_SCREEN";exports.SET_FULL_SCREEN=SET_FULL_SCREEN;var SET_READ_ONLY="SET_READ_ONLY";exports.SET_READ_ONLY=SET_READ_ONLY;var SET_OPEN_TOC_DETAILS="SET_OPEN_TOC_DETAILS";exports.SET_OPEN_TOC_DETAILS=SET_OPEN_TOC_DETAILS;var SHOW_TOC_DETAILS="SHOW_TOC_DETAILS";exports.SHOW_TOC_DETAILS=SHOW_TOC_DETAILS;var HIDE_TOC_DETAILS="HIDE_TOC_DETAILS";exports.HIDE_TOC_DETAILS=HIDE_TOC_DETAILS;var UPDATE_INDEXING_STAGE="UPDATE_INDEXING_STAGE";exports.UPDATE_INDEXING_STAGE=UPDATE_INDEXING_STAGE;function updateFlyout(display){return{type:UPDATE_FLYOUT,display:display}}function closeSetView(){return{type:CLOSE_SET_VIEW}}function openSetView(){return{type:OPEN_SET_VIEW}}function setIsLayerTOCOpen(isLayerTOCOpen){return{type:SET_IS_LAYER_TOC_OPEN,isLayerTOCOpen:isLayerTOCOpen}}function exitFullScreen(){return{type:SET_FULL_SCREEN,isFullScreen:false}}function enableFullScreen(){return{type:SET_FULL_SCREEN,isFullScreen:true}}function setReadOnly(isReadOnly){return{type:SET_READ_ONLY,isReadOnly:isReadOnly}}function setOpenTOCDetails(layerIds){return{type:SET_OPEN_TOC_DETAILS,layerIds:layerIds}}function showTOCDetails(layerId){return{type:SHOW_TOC_DETAILS,layerId:layerId}}function hideTOCDetails(layerId){return{type:HIDE_TOC_DETAILS,layerId:layerId}}function updateIndexingStage(stage){return{type:UPDATE_INDEXING_STAGE,stage:stage}}},1898:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={OnJsonEditorUpdateHandler:true};Object.defineProperty(exports,"OnJsonEditorUpdateHandler",{enumerable:true,get:function get(){return _use_json.OnJsonEditorUpdateHandler}});var _json_editor=__webpack_require__(1899);Object.keys(_json_editor).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _json_editor[key]}})}));var _use_json=__webpack_require__(985)},1899:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JsonEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _lodash=__webpack_require__(3);var _string=__webpack_require__(164);var _use_json=__webpack_require__(985);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var JsonEditor=_react.default.memo((function(_ref){var label=_ref.label,helpText=_ref.helpText,onUpdate=_ref.onUpdate,value=_ref.value,defaultValue=_ref.defaultValue,euiCodeEditorProps=_ref.euiCodeEditorProps,propsError=_ref.error;var isControlled=value!==undefined;var _useJson=(0,_use_json.useJson)({defaultValue:defaultValue,onUpdate:onUpdate,isControlled:isControlled}),content=_useJson.content,setContent=_useJson.setContent,internalError=_useJson.error;var debouncedSetContent=(0,_react.useCallback)((0,_lodash.debounce)(setContent,300),[setContent]);var error=isControlled?propsError:internalError;var onEuiCodeEditorChange=(0,_react.useCallback)((function(updated){if(isControlled){onUpdate({data:{raw:updated,format:function format(){return JSON.parse(updated)}},validate:function validate(){return(0,_string.isJSON)(updated)},isValid:undefined})}else{debouncedSetContent(updated)}}),[isControlled]);return _react.default.createElement(_eui.EuiFormRow,{label:label,helpText:helpText,isInvalid:typeof error==="string",error:error,fullWidth:true},_react.default.createElement(_eui.EuiCodeEditor,_extends({mode:"json",theme:"textmate",width:"100%",height:"500px",setOptions:{showLineNumbers:false,tabSize:2},editorProps:{$blockScrolling:Infinity},showGutter:false,minLines:6,value:isControlled?value:content,onChange:onEuiCodeEditorChange},euiCodeEditorProps)))}));exports.JsonEditor=JsonEditor},1900:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}Object.defineProperty(exports,"__esModule",{value:true});exports.containsChars=void 0;var containsChars=function containsChars(chars){return function(value){var charToArray=Array.isArray(chars)?chars:[chars];var charsFound=charToArray.reduce((function(acc,char){return value.includes(char)?[].concat(_toConsumableArray(acc),[char]):acc}),[]);return{charsFound:charsFound,doesContain:charsFound.length>0}}};exports.containsChars=containsChars},1901:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.endsWith=void 0;var endsWith=function endsWith(char){return function(value){return value.endsWith(char)}};exports.endsWith=endsWith},1902:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasMaxLengthString=void 0;var hasMaxLengthString=function hasMaxLengthString(length){return function(str){return str.length<=length}};exports.hasMaxLengthString=hasMaxLengthString},1903:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasMinLengthString=void 0;var hasMinLengthString=function hasMinLengthString(length){return function(str){return str.length>=length}};exports.hasMinLengthString=hasMinLengthString},1904:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isEmptyString=void 0;var isEmptyString=function isEmptyString(value){return value.trim()===""};exports.isEmptyString=isEmptyString},1905:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isUrl=void 0;var protocolAndDomainRE=/^(?:\w+:)?\/\/(\S+)$/;var localhostDomainRE=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/;var nonLocalhostDomainRE=/^[^\s\.]+\.\S{2,}$/;var isUrl=function isUrl(string){if(typeof string!=="string"){return false}var match=string.match(protocolAndDomainRE);if(!match){return false}var everythingAfterProtocol=match[1];if(!everythingAfterProtocol){return false}if(localhostDomainRE.test(everythingAfterProtocol)||nonLocalhostDomainRE.test(everythingAfterProtocol)){return true}return false};exports.isUrl=isUrl},1906:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startsWith=void 0;var startsWith=function startsWith(char){return function(value){return value.startsWith(char)}};exports.startsWith=startsWith},1907:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.isJSON=void 0;var isJSON=function isJSON(value){try{var parsedJSON=JSON.parse(value);if(parsedJSON&&_typeof(parsedJSON)!=="object"){return false}return true}catch(e){return false}};exports.isJSON=isJSON},1908:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isLowerCaseString=void 0;var isLowerCaseString=function isLowerCaseString(value){return value.toLowerCase()===value};exports.isLowerCaseString=isLowerCaseString},1909:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useUIAceKeyboardMode=useUIAceKeyboardMode;var _react=_interopRequireWildcard(__webpack_require__(0));var ReactDOM=_interopRequireWildcard(__webpack_require__(9));var _eui=__webpack_require__(1);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var OverlayText=function OverlayText(){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiText,{size:"s"},"Press Enter to start editing."),_react.default.createElement(_eui.EuiText,{size:"s"},"When youre done, press Escape to stop editing."))};function useUIAceKeyboardMode(aceTextAreaElement){var overlayMountNode=(0,_react.useRef)(null);var autoCompleteVisibleRef=(0,_react.useRef)(false);(0,_react.useEffect)((function(){function onDismissOverlay(event){if(event.keyCode===_eui.keyCodes.ENTER){event.preventDefault();aceTextAreaElement.focus()}}function enableOverlay(){if(overlayMountNode.current){overlayMountNode.current.focus()}}var isAutoCompleteVisible=function isAutoCompleteVisible(){var autoCompleter=document.querySelector(".ace_autocomplete");if(!autoCompleter){return false}return autoCompleter.style.display!=="none"};var documentKeyDownListener=function documentKeyDownListener(){autoCompleteVisibleRef.current=isAutoCompleteVisible()};var aceKeydownListener=function aceKeydownListener(event){if(event.keyCode===_eui.keyCodes.ESCAPE&&!autoCompleteVisibleRef.current){event.preventDefault();event.stopPropagation();enableOverlay()}};if(aceTextAreaElement){overlayMountNode.current=document.createElement("div");overlayMountNode.current.className="kbnUiAceKeyboardHint";overlayMountNode.current.setAttribute("role","application");overlayMountNode.current.tabIndex=0;overlayMountNode.current.addEventListener("focus",enableOverlay);overlayMountNode.current.addEventListener("keydown",onDismissOverlay);ReactDOM.render(_react.default.createElement(OverlayText,null),overlayMountNode.current);aceTextAreaElement.parentElement.insertBefore(overlayMountNode.current,aceTextAreaElement);aceTextAreaElement.setAttribute("tabindex","-1");document.addEventListener("keydown",documentKeyDownListener,{capture:true});aceTextAreaElement.addEventListener("keydown",aceKeydownListener)}return function(){if(aceTextAreaElement){document.removeEventListener("keydown",documentKeyDownListener,{capture:true});aceTextAreaElement.removeEventListener("keydown",aceKeydownListener);var textAreaContainer=aceTextAreaElement.parentElement;if(textAreaContainer&&textAreaContainer.contains(overlayMountNode.current)){textAreaContainer.removeChild(overlayMountNode.current)}}}}),[aceTextAreaElement])}},1942:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MapEmbeddableFactory=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _chrome=_interopRequireDefault(__webpack_require__(8));var _capabilities=__webpack_require__(179);var _i18n=__webpack_require__(2);var _public=__webpack_require__(401);var _legacy=__webpack_require__(254);var _map_embeddable=__webpack_require__(1943);var _kibana_services=__webpack_require__(101);var _constants=__webpack_require__(25);var _store=__webpack_require__(693);var _map_actions=__webpack_require__(92);var _map_selectors=__webpack_require__(64);var _get_initial_layers=__webpack_require__(1060);var _merge_input_with_saved_map=__webpack_require__(2113);__webpack_require__(1061);__webpack_require__(277);var _plugin=__webpack_require__(1062);var _new_platform=__webpack_require__(7);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var MapEmbeddableFactory=function(_EmbeddableFactory){_inherits(MapEmbeddableFactory,_EmbeddableFactory);function MapEmbeddableFactory(){var _this;_classCallCheck(this,MapEmbeddableFactory);_this=_possibleConstructorReturn(this,_getPrototypeOf(MapEmbeddableFactory).call(this,{savedObjectMetaData:{name:_i18n.i18n.translate("xpack.maps.mapSavedObjectLabel",{defaultMessage:"Map"}),type:_constants.MAP_SAVED_OBJECT_TYPE,getIconForSavedObject:function getIconForSavedObject(){return _constants.APP_ICON}}}));_defineProperty(_assertThisInitialized(_this),"type",_constants.MAP_SAVED_OBJECT_TYPE);(0,_plugin.bindSetupCoreAndPlugins)(_new_platform.npSetup.core,_new_platform.npSetup.plugins);return _this}_createClass(MapEmbeddableFactory,[{key:"isEditable",value:function isEditable(){return _capabilities.capabilities.get().maps.save}},{key:"canCreateNew",value:function canCreateNew(){return false}},{key:"getDisplayName",value:function getDisplayName(){return _i18n.i18n.translate("xpack.maps.embeddableDisplayName",{defaultMessage:"map"})}},{key:"_getIndexPatterns",value:function _getIndexPatterns(layerList){var store,queryableIndexPatternIds,promises,indexPatterns;return regeneratorRuntime.async((function _getIndexPatterns$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:store=(0,_store.createMapStore)();_context2.prev=1;layerList.forEach((function(layerDescriptor){store.dispatch((0,_map_actions.addLayerWithoutDataSync)(layerDescriptor))}));queryableIndexPatternIds=(0,_map_selectors.getQueryableUniqueIndexPatternIds)(store.getState());_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](1);throw new Error(_i18n.i18n.translate("xpack.maps.mapEmbeddableFactory.invalidLayerList",{defaultMessage:"Unable to load map, malformed layer list"}));case 9:promises=queryableIndexPatternIds.map((function _callee(indexPatternId){return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return regeneratorRuntime.awrap(_kibana_services.indexPatternService.get(indexPatternId));case 3:return _context.abrupt("return",_context.sent);case 6:_context.prev=6;_context.t0=_context["catch"](0);return _context.abrupt("return",null);case 9:case"end":return _context.stop()}}}),null,null,[[0,6]])}));_context2.next=12;return regeneratorRuntime.awrap(Promise.all(promises));case 12:indexPatterns=_context2.sent;return _context2.abrupt("return",_lodash.default.compact(indexPatterns));case 14:case"end":return _context2.stop()}}}),null,null,[[1,6]])}},{key:"_fetchSavedMap",value:function _fetchSavedMap(savedObjectId){var $injector,savedObjectLoader;return regeneratorRuntime.async((function _fetchSavedMap$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return regeneratorRuntime.awrap(_chrome.default.dangerouslyGetActiveInjector());case 2:$injector=_context3.sent;savedObjectLoader=$injector.get("gisMapSavedObjectLoader");_context3.next=6;return regeneratorRuntime.awrap(savedObjectLoader.get(savedObjectId));case 6:return _context3.abrupt("return",_context3.sent);case 7:case"end":return _context3.stop()}}}))}},{key:"createFromSavedObject",value:function createFromSavedObject(savedObjectId,input,parent){var savedMap,layerList,indexPatterns,embeddable;return regeneratorRuntime.async((function createFromSavedObject$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return regeneratorRuntime.awrap(this._fetchSavedMap(savedObjectId));case 2:savedMap=_context4.sent;layerList=(0,_get_initial_layers.getInitialLayers)(savedMap.layerListJSON);_context4.next=6;return regeneratorRuntime.awrap(this._getIndexPatterns(layerList));case 6:indexPatterns=_context4.sent;embeddable=new _map_embeddable.MapEmbeddable({layerList:layerList,title:savedMap.title,editUrl:_chrome.default.addBasePath((0,_constants.createMapPath)(savedObjectId)),indexPatterns:indexPatterns,editable:this.isEditable()},input,parent);_context4.prev=8;embeddable.updateInput((0,_merge_input_with_saved_map.mergeInputWithSavedMap)(input,savedMap));_context4.next=15;break;case 12:_context4.prev=12;_context4.t0=_context4["catch"](8);throw new Error(_i18n.i18n.translate("xpack.maps.mapEmbeddableFactory.invalidSavedObject",{defaultMessage:"Unable to load map, malformed saved object"}));case 15:return _context4.abrupt("return",embeddable);case 16:case"end":return _context4.stop()}}}),null,this,[[8,12]])}},{key:"createFromState",value:function createFromState(state,input,parent,renderTooltipContent,eventHandlers){var layerList,indexPatterns;return regeneratorRuntime.async((function createFromState$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:layerList=state&&state.layerList?state.layerList:(0,_get_initial_layers.getInitialLayers)();_context5.next=3;return regeneratorRuntime.awrap(this._getIndexPatterns(layerList));case 3:indexPatterns=_context5.sent;return _context5.abrupt("return",new _map_embeddable.MapEmbeddable({layerList:layerList,title:state&&state.title?state.title:"",editUrl:null,indexPatterns:indexPatterns,editable:false},input,parent,renderTooltipContent,eventHandlers));case 5:case"end":return _context5.stop()}}}),null,this)}},{key:"create",value:function create(input){return regeneratorRuntime.async((function create$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:window.location.href=_chrome.default.addBasePath((0,_constants.createMapPath)(""));return _context6.abrupt("return",new _public.ErrorEmbeddable("Maps can only be created with createFromSavedObject or createFromState",input));case 2:case"end":return _context6.stop()}}}))}}]);return MapEmbeddableFactory}(_public.EmbeddableFactory);exports.MapEmbeddableFactory=MapEmbeddableFactory;_legacy.setup.registerEmbeddableFactory(_constants.MAP_SAVED_OBJECT_TYPE,new MapEmbeddableFactory)},1943:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MapEmbeddable=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _reactRedux=__webpack_require__(12);var _reactDom=__webpack_require__(9);__webpack_require__(1058);var _public=__webpack_require__(401);var _public2=__webpack_require__(11);var _i18n=__webpack_require__(19);var _gis_map=__webpack_require__(1059);var _store=__webpack_require__(693);var _new_platform=__webpack_require__(7);var _map_actions=__webpack_require__(92);var _ui_actions=__webpack_require__(177);var _ui_selectors=__webpack_require__(203);var _non_serializable_instances=__webpack_require__(227);var _map_selectors=__webpack_require__(64);var _constants=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var MapEmbeddable=function(_Embeddable){_inherits(MapEmbeddable,_Embeddable);function MapEmbeddable(config,initialInput,parent,renderTooltipContent,eventHandlers){var _this;_classCallCheck(this,MapEmbeddable);_this=_possibleConstructorReturn(this,_getPrototypeOf(MapEmbeddable).call(this,initialInput,{editUrl:config.editUrl,indexPatterns:config.indexPatterns,editable:config.editable,defaultTitle:config.title},parent));_defineProperty(_assertThisInitialized(_this),"type",_constants.MAP_SAVED_OBJECT_TYPE);_defineProperty(_assertThisInitialized(_this),"addFilters",(function(filters){_new_platform.npStart.plugins.uiActions.executeTriggerActions(_public.APPLY_FILTER_TRIGGER,{embeddable:_assertThisInitialized(_this),filters:filters})}));_this._renderTooltipContent=renderTooltipContent;_this._eventHandlers=eventHandlers;_this._layerList=config.layerList;_this._store=(0,_store.createMapStore)();_this._subscription=_this.getInput$().subscribe((function(input){return _this.onContainerStateChanged(input)}));return _this}_createClass(MapEmbeddable,[{key:"getInspectorAdapters",value:function getInspectorAdapters(){return(0,_non_serializable_instances.getInspectorAdapters)(this._store.getState())}},{key:"onContainerStateChanged",value:function onContainerStateChanged(containerState){if(!_lodash.default.isEqual(containerState.timeRange,this._prevTimeRange)||!_lodash.default.isEqual(containerState.query,this._prevQuery)||!(0,_public2.onlyDisabledFiltersChanged)(containerState.filters,this._prevFilters)){this._dispatchSetQuery(containerState)}if(!_lodash.default.isEqual(containerState.refreshConfig,this._prevRefreshConfig)){this._dispatchSetRefreshConfig(containerState)}}},{key:"_dispatchSetQuery",value:function _dispatchSetQuery(_ref){var query=_ref.query,timeRange=_ref.timeRange,filters=_ref.filters,refresh=_ref.refresh;this._prevTimeRange=timeRange;this._prevQuery=query;this._prevFilters=filters;this._store.dispatch((0,_map_actions.setQuery)({filters:filters.filter((function(filter){return!filter.meta.disabled})),query:query,timeFilters:timeRange,refresh:refresh}))}},{key:"_dispatchSetRefreshConfig",value:function _dispatchSetRefreshConfig(_ref2){var refreshConfig=_ref2.refreshConfig;this._prevRefreshConfig=refreshConfig;this._store.dispatch((0,_map_actions.setRefreshConfig)({isPaused:refreshConfig.pause,interval:refreshConfig.value}))}},{key:"render",value:function render(domNode){var _this2=this;this._store.dispatch((0,_non_serializable_instances.setEventHandlers)(this._eventHandlers));this._store.dispatch((0,_ui_actions.setReadOnly)(true));this._store.dispatch((0,_map_actions.disableScrollZoom)());if(_lodash.default.has(this.input,"isLayerTOCOpen")){this._store.dispatch((0,_ui_actions.setIsLayerTOCOpen)(this.input.isLayerTOCOpen))}if(_lodash.default.has(this.input,"openTOCDetails")){this._store.dispatch((0,_ui_actions.setOpenTOCDetails)(this.input.openTOCDetails))}if(_lodash.default.has(this.input,"disableInteractive")&&this.input.disableInteractive){this._store.dispatch((0,_map_actions.disableInteractive)(this.input.disableInteractive))}if(_lodash.default.has(this.input,"disableTooltipControl")&&this.input.disableTooltipControl){this._store.dispatch((0,_map_actions.disableTooltipControl)(this.input.disableTooltipControl))}if(_lodash.default.has(this.input,"hideToolbarOverlay")&&this.input.hideToolbarOverlay){this._store.dispatch((0,_map_actions.hideToolbarOverlay)(this.input.hideToolbarOverlay))}if(_lodash.default.has(this.input,"hideLayerControl")&&this.input.hideLayerControl){this._store.dispatch((0,_map_actions.hideLayerControl)(this.input.hideLayerControl))}if(_lodash.default.has(this.input,"hideViewControl")&&this.input.hideViewControl){this._store.dispatch((0,_map_actions.hideViewControl)(this.input.hideViewControl))}if(this.input.mapCenter){this._store.dispatch((0,_map_actions.setGotoWithCenter)({lat:this.input.mapCenter.lat,lon:this.input.mapCenter.lon,zoom:this.input.mapCenter.zoom}))}this._store.dispatch((0,_map_actions.replaceLayerList)(this._layerList));if(this.input.hiddenLayers){this._store.dispatch((0,_map_actions.setHiddenLayers)(this.input.hiddenLayers))}this._dispatchSetQuery(this.input);this._dispatchSetRefreshConfig(this.input);this._domNode=domNode;(0,_reactDom.render)(_react.default.createElement(_reactRedux.Provider,{store:this._store},_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_gis_map.GisMap,{addFilters:this.input.hideFilterActions?null:this.addFilters,renderTooltipContent:this._renderTooltipContent}))),this._domNode);this._unsubscribeFromStore=this._store.subscribe((function(){_this2._handleStoreChanges()}))}},{key:"setLayerList",value:function setLayerList(layerList){return regeneratorRuntime.async((function setLayerList$(_context){while(1){switch(_context.prev=_context.next){case 0:this._layerList=layerList;_context.next=3;return regeneratorRuntime.awrap(this._store.dispatch((0,_map_actions.replaceLayerList)(this._layerList)));case 3:return _context.abrupt("return",_context.sent);case 4:case"end":return _context.stop()}}}),null,this)}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(MapEmbeddable.prototype),"destroy",this).call(this);if(this._unsubscribeFromStore){this._unsubscribeFromStore()}if(this._domNode){(0,_reactDom.unmountComponentAtNode)(this._domNode)}if(this._subscription){this._subscription.unsubscribe()}}},{key:"reload",value:function reload(){this._dispatchSetQuery({query:this._prevQuery,timeRange:this._prevTimeRange,filters:this._prevFilters,refresh:true})}},{key:"_handleStoreChanges",value:function _handleStoreChanges(){var center=(0,_map_selectors.getMapCenter)(this._store.getState());var zoom=(0,_map_selectors.getMapZoom)(this._store.getState());var mapCenter=this.input.mapCenter||{};if(!mapCenter||mapCenter.lat!==center.lat||mapCenter.lon!==center.lon||mapCenter.zoom!==zoom){this.updateInput({mapCenter:{lat:center.lat,lon:center.lon,zoom:zoom}})}var isLayerTOCOpen=(0,_ui_selectors.getIsLayerTOCOpen)(this._store.getState());if(this.input.isLayerTOCOpen!==isLayerTOCOpen){this.updateInput({isLayerTOCOpen:isLayerTOCOpen})}var openTOCDetails=(0,_ui_selectors.getOpenTOCDetails)(this._store.getState());if(!_lodash.default.isEqual(this.input.openTOCDetails,openTOCDetails)){this.updateInput({openTOCDetails:openTOCDetails})}var hiddenLayerIds=(0,_map_selectors.getHiddenLayerIds)(this._store.getState());if(!_lodash.default.isEqual(this.input.hiddenLayers,hiddenLayerIds)){this.updateInput({hiddenLayers:hiddenLayerIds})}}}]);return MapEmbeddable}(_public.Embeddable);exports.MapEmbeddable=MapEmbeddable},1944:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GisMap=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireWildcard(__webpack_require__(0));var _mb=__webpack_require__(1945);var _index=__webpack_require__(2064);var _index2=__webpack_require__(2077);var _index3=__webpack_require__(2083);var _index4=__webpack_require__(2101);var _eui=__webpack_require__(1);var _exit_full_screen=__webpack_require__(2110);var _index_pattern_util=__webpack_require__(520);var _constants=__webpack_require__(25);var _public=__webpack_require__(11);var _i18n=__webpack_require__(2);var _v=_interopRequireDefault(__webpack_require__(186));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var RENDER_COMPLETE_EVENT="renderComplete";var GisMap=function(_Component){_inherits(GisMap,_Component);function GisMap(){var _getPrototypeOf2;var _this;_classCallCheck(this,GisMap);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(GisMap)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isInitialLoadRenderTimeoutComplete:false,domId:(0,_v.default)(),geoFields:[]});_defineProperty(_assertThisInitialized(_this),"_onInitialLoadRenderComplete",(function(){var el=document.querySelector('[data-dom-id="'.concat(_this.state.domId,'"]'));if(el){el.dispatchEvent(new CustomEvent(RENDER_COMPLETE_EVENT,{bubbles:true}))}}));_defineProperty(_assertThisInitialized(_this),"_loadGeoFields",(function _callee(nextIndexPatternIds){var geoFields,indexPatterns;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!_lodash.default.isEqual(nextIndexPatternIds,_this._prevIndexPatternIds)){_context.next=2;break}return _context.abrupt("return");case 2:_this._prevIndexPatternIds=nextIndexPatternIds;geoFields=[];_context.prev=4;_context.next=7;return regeneratorRuntime.awrap((0,_index_pattern_util.getIndexPatternsFromIds)(nextIndexPatternIds));case 7:indexPatterns=_context.sent;indexPatterns.forEach((function(indexPattern){indexPattern.fields.forEach((function(field){if(!(0,_public.isNestedField)(field)&&(field.type===_constants.ES_GEO_FIELD_TYPE.GEO_POINT||field.type===_constants.ES_GEO_FIELD_TYPE.GEO_SHAPE)){geoFields.push({geoFieldName:field.name,geoFieldType:field.type,indexPatternTitle:indexPattern.title,indexPatternId:indexPattern.id})}}))}));_context.next=13;break;case 11:_context.prev=11;_context.t0=_context["catch"](4);case 13:if(_this._isMounted){_context.next=15;break}return _context.abrupt("return");case 15:_this.setState({geoFields:geoFields});case 16:case"end":return _context.stop()}}}),null,null,[[4,11]])}));_defineProperty(_assertThisInitialized(_this),"_setRefreshTimer",(function(){var _this$props$refreshCo=_this.props.refreshConfig,isPaused=_this$props$refreshCo.isPaused,interval=_this$props$refreshCo.interval;if(_this.isPaused===isPaused&&_this.interval===interval){return}_this.isPaused=isPaused;_this.interval=interval;_this._clearRefreshTimer();if(!isPaused&&interval>0){_this.refreshTimerId=setInterval((function(){_this.props.triggerRefreshTimer()}),interval)}}));_defineProperty(_assertThisInitialized(_this),"_clearRefreshTimer",(function(){if(_this.refreshTimerId){clearInterval(_this.refreshTimerId)}}));_defineProperty(_assertThisInitialized(_this),"_startInitialLoadRenderTimer",(function(){setTimeout((function(){if(_this._isMounted){_this.setState({isInitialLoadRenderTimeoutComplete:true});_this._onInitialLoadRenderComplete()}}),5e3)}));return _this}_createClass(GisMap,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._isInitalLoadRenderTimerStarted=false;this._setRefreshTimer()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._setRefreshTimer();if(this.props.areLayersLoaded&&!this._isInitalLoadRenderTimerStarted){this._isInitalLoadRenderTimerStarted=true;this._startInitialLoadRenderTimer()}if(!!this.props.addFilters){this._loadGeoFields(this.props.indexPatternIds)}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;this._clearRefreshTimer();this.props.cancelAllInFlightRequests()}},{key:"render",value:function render(){var _this$props=this.props,addFilters=_this$props.addFilters,layerDetailsVisible=_this$props.layerDetailsVisible,addLayerVisible=_this$props.addLayerVisible,noFlyoutVisible=_this$props.noFlyoutVisible,isFullScreen=_this$props.isFullScreen,exitFullScreen=_this$props.exitFullScreen,mapInitError=_this$props.mapInitError,renderTooltipContent=_this$props.renderTooltipContent;var domId=this.state.domId;if(mapInitError){return _react.default.createElement("div",{"data-render-complete":true,"data-shared-item":true},_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.maps.map.initializeErrorTitle",{defaultMessage:"Unable to initialize map"}),color:"danger",iconType:"cross"},_react.default.createElement("p",null,mapInitError)))}var currentPanel;var currentPanelClassName;if(noFlyoutVisible){currentPanel=null}else if(addLayerVisible){currentPanelClassName="mapMapLayerPanel-isVisible";currentPanel=_react.default.createElement(_index4.AddLayerPanel,null)}else if(layerDetailsVisible){currentPanelClassName="mapMapLayerPanel-isVisible";currentPanel=_react.default.createElement(_index3.LayerPanel,null)}var exitFullScreenButton;if(isFullScreen){exitFullScreenButton=_react.default.createElement(_exit_full_screen.ExitFullScreenButton,{onExitFullScreenMode:exitFullScreen})}return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",responsive:false,"data-dom-id":domId,"data-render-complete":this.state.isInitialLoadRenderTimeoutComplete,"data-shared-item":true},_react.default.createElement(_eui.EuiFlexItem,{className:"mapMapWrapper"},_react.default.createElement(_mb.MBMapContainer,{addFilters:addFilters,geoFields:this.state.geoFields,renderTooltipContent:renderTooltipContent}),!this.props.hideToolbarOverlay&&_react.default.createElement(_index2.ToolbarOverlay,{addFilters:addFilters,geoFields:this.state.geoFields}),_react.default.createElement(_index.WidgetOverlay,null)),_react.default.createElement(_eui.EuiFlexItem,{className:"mapMapLayerPanel ".concat(currentPanelClassName),grow:false},currentPanel),exitFullScreenButton)}}]);return GisMap}(_react.Component);exports.GisMap=GisMap},1945:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MBMapContainer=void 0;var _reactRedux=__webpack_require__(12);var _view=__webpack_require__(1946);var _map_actions=__webpack_require__(92);var _map_selectors=__webpack_require__(64);var _non_serializable_instances=__webpack_require__(227);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function mapStateToProps(){var _ref;var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return _ref={isMapReady:(0,_map_selectors.getMapReady)(state),layerList:(0,_map_selectors.getLayerList)(state),goto:(0,_map_selectors.getGoto)(state),inspectorAdapters:(0,_non_serializable_instances.getInspectorAdapters)(state),tooltipState:(0,_map_selectors.getTooltipState)(state),scrollZoom:(0,_map_selectors.getScrollZoom)(state),disableInteractive:(0,_map_selectors.isInteractiveDisabled)(state),disableTooltipControl:(0,_map_selectors.isTooltipControlDisabled)(state)},_defineProperty(_ref,"disableTooltipControl",(0,_map_selectors.isTooltipControlDisabled)(state)),_defineProperty(_ref,"hideViewControl",(0,_map_selectors.isViewControlHidden)(state)),_ref}function mapDispatchToProps(dispatch){return{extentChanged:function extentChanged(e){dispatch((0,_map_actions.mapExtentChanged)(e))},onMapReady:function onMapReady(e){dispatch((0,_map_actions.clearGoto)());dispatch((0,_map_actions.mapExtentChanged)(e));dispatch((0,_map_actions.mapReady)())},onMapDestroyed:function onMapDestroyed(){dispatch((0,_map_actions.mapDestroyed)())},setMouseCoordinates:function setMouseCoordinates(_ref2){var lat=_ref2.lat,lon=_ref2.lon;dispatch((0,_map_actions.setMouseCoordinates)({lat:lat,lon:lon}))},clearMouseCoordinates:function clearMouseCoordinates(){dispatch((0,_map_actions.clearMouseCoordinates)())},clearGoto:function clearGoto(){dispatch((0,_map_actions.clearGoto)())},setMapInitError:function setMapInitError(errorMessage){dispatch((0,_map_actions.setMapInitError)(errorMessage))}}}var connectedMBMapContainer=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps,null,{withRef:true})(_view.MBMapContainer);exports.MBMapContainer=connectedMBMapContainer},1946:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MBMapContainer=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _public=__webpack_require__(31);var _utils=__webpack_require__(998);var _meta=__webpack_require__(165);var _constants=__webpack_require__(25);var _mapboxGlCsp=_interopRequireDefault(__webpack_require__(2026));var _mapboxGlCspWorker=_interopRequireDefault(__webpack_require__(1950));var _mapboxGlRtlTextMin=_interopRequireDefault(__webpack_require__(1951));var _chrome=_interopRequireDefault(__webpack_require__(8));var _maki=__webpack_require__(1064);var _sprite=_interopRequireDefault(__webpack_require__(1952));var _sprite2=_interopRequireDefault(__webpack_require__(1953));var _draw_control=__webpack_require__(1954);var _tooltip_control=__webpack_require__(2058);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}_mapboxGlCsp.default.workerUrl=_mapboxGlCspWorker.default;_mapboxGlCsp.default.setRTLTextPlugin(_mapboxGlRtlTextMin.default);var MBMapContainer=function(_React$Component){_inherits(MBMapContainer,_React$Component);function MBMapContainer(){var _getPrototypeOf2;var _this;_classCallCheck(this,MBMapContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(MBMapContainer)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{prevLayerList:undefined,hasSyncedLayerList:false,mbMap:undefined});_defineProperty(_assertThisInitialized(_this),"_debouncedSync",_lodash.default.debounce((function(){if(_this._isMounted){if(!_this.state.hasSyncedLayerList){_this.setState({hasSyncedLayerList:true},(function(){_this._syncMbMapWithLayerList();_this._syncMbMapWithInspector()}))}}}),256));_defineProperty(_assertThisInitialized(_this),"_syncMbMapWithMapState",(function(){var _this$props=_this.props,isMapReady=_this$props.isMapReady,goto=_this$props.goto,clearGoto=_this$props.clearGoto;if(!isMapReady||!goto){return}clearGoto();if(goto.bounds){var lnLatBounds=new _mapboxGlCsp.default.LngLatBounds(new _mapboxGlCsp.default.LngLat(clamp(goto.bounds.min_lon,-180,180),clamp(goto.bounds.min_lat,-89,89)),new _mapboxGlCsp.default.LngLat(clamp(goto.bounds.max_lon,-180,180),clamp(goto.bounds.max_lat,-89,89)));_this.state.mbMap.fitBounds(lnLatBounds,{maxZoom:17,padding:16})}else if(goto.center){_this.state.mbMap.setZoom(goto.center.zoom);_this.state.mbMap.setCenter({lng:goto.center.lon,lat:goto.center.lat})}}));_defineProperty(_assertThisInitialized(_this),"_syncMbMapWithLayerList",(function(){if(!_this.props.isMapReady){return}(0,_utils.removeOrphanedSourcesAndLayers)(_this.state.mbMap,_this.props.layerList);_this.props.layerList.forEach((function(layer){return layer.syncLayerWithMB(_this.state.mbMap)}));(0,_utils.syncLayerOrderForSingleLayer)(_this.state.mbMap,_this.props.layerList)}));_defineProperty(_assertThisInitialized(_this),"_syncMbMapWithInspector",(function(){if(!_this.props.isMapReady||!_this.props.inspectorAdapters.map){return}var stats={center:_this.state.mbMap.getCenter().toArray(),zoom:_this.state.mbMap.getZoom()};_this.props.inspectorAdapters.map.setMapState({stats:stats,style:_this.state.mbMap.getStyle()})}));return _this}_createClass(MBMapContainer,[{key:"componentDidMount",value:function componentDidMount(){this._initializeMap();this._isMounted=true}},{key:"componentDidUpdate",value:function componentDidUpdate(){if(this.state.mbMap){this._syncMbMapWithMapState();this._debouncedSync()}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;if(this._checker){this._checker.destroy()}if(this.state.mbMap){this.state.mbMap.remove();this.state.mbMap=null}this.props.onMapDestroyed()}},{key:"_getMapState",value:function _getMapState(){var zoom=this.state.mbMap.getZoom();var mbCenter=this.state.mbMap.getCenter();var mbBounds=this.state.mbMap.getBounds();return{zoom:_lodash.default.round(zoom,_constants.ZOOM_PRECISION),center:{lon:_lodash.default.round(mbCenter.lng,_constants.DECIMAL_DEGREES_PRECISION),lat:_lodash.default.round(mbCenter.lat,_constants.DECIMAL_DEGREES_PRECISION)},extent:{minLon:_lodash.default.round(mbBounds.getWest(),_constants.DECIMAL_DEGREES_PRECISION),minLat:_lodash.default.round(mbBounds.getSouth(),_constants.DECIMAL_DEGREES_PRECISION),maxLon:_lodash.default.round(mbBounds.getEast(),_constants.DECIMAL_DEGREES_PRECISION),maxLat:_lodash.default.round(mbBounds.getNorth(),_constants.DECIMAL_DEGREES_PRECISION)}}}},{key:"_createMbMapInstance",value:function _createMbMapInstance(){var _this2=this;var initialView;return regeneratorRuntime.async((function _createMbMapInstance$(_context){while(1){switch(_context.prev=_context.next){case 0:initialView=this.props.goto?this.props.goto.center:null;return _context.abrupt("return",new Promise((function(resolve){var mbStyle={version:8,sources:{},layers:[]};var glyphUrl=(0,_meta.getGlyphUrl)();if(glyphUrl){mbStyle.glyphs=glyphUrl}var options={attributionControl:false,container:_this2.refs.mapContainer,style:mbStyle,scrollZoom:_this2.props.scrollZoom,preserveDrawingBuffer:_chrome.default.getInjected("preserveDrawingBuffer",false),interactive:!_this2.props.disableInteractive};if(initialView){options.zoom=initialView.zoom;options.center={lng:initialView.lon,lat:initialView.lat}}var mbMap=new _mapboxGlCsp.default.Map(options);mbMap.dragRotate.disable();mbMap.touchZoomRotate.disableRotation();if(!_this2.props.disableInteractive){mbMap.addControl(new _mapboxGlCsp.default.NavigationControl({showCompass:false}),"top-left")}var emptyImage;mbMap.on("styleimagemissing",(function(e){if(emptyImage){mbMap.addImage(e.id,emptyImage)}}));mbMap.on("load",(function(){emptyImage=new Image;emptyImage.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";emptyImage.crossOrigin="anonymous";resolve(mbMap)}))})));case 2:case"end":return _context.stop()}}}),null,this)}},{key:"_initializeMap",value:function _initializeMap(){var _this3=this;var mbMap;return regeneratorRuntime.async((function _initializeMap$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return regeneratorRuntime.awrap(this._createMbMapInstance());case 3:mbMap=_context2.sent;_context2.next=10;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](0);this.props.setMapInitError(_context2.t0.message);return _context2.abrupt("return");case 10:if(this._isMounted){_context2.next=12;break}return _context2.abrupt("return");case 12:this.setState({mbMap:mbMap},(function(){_this3._loadMakiSprites();_this3._initResizerChecker();_this3._registerMapEventListeners();_this3.props.onMapReady(_this3._getMapState())}));case 13:case"end":return _context2.stop()}}}),null,this,[[0,6]])}},{key:"_registerMapEventListeners",value:function _registerMapEventListeners(){var _this4=this;this.state.mbMap.on("moveend",_lodash.default.debounce((function(){_this4.props.extentChanged(_this4._getMapState())}),100));if(!this.props.hideViewControl){var throttledSetMouseCoordinates=_lodash.default.throttle((function(e){_this4.props.setMouseCoordinates({lat:e.lngLat.lat,lon:e.lngLat.lng})}),100);this.state.mbMap.on("mousemove",throttledSetMouseCoordinates);this.state.mbMap.on("mouseout",(function(){throttledSetMouseCoordinates.cancel();_this4.props.clearMouseCoordinates()}))}}},{key:"_initResizerChecker",value:function _initResizerChecker(){var _this5=this;this._checker=new _public.ResizeChecker(this.refs.mapContainer);this._checker.on("resize",(function(){_this5.state.mbMap.resize()}))}},{key:"_loadMakiSprites",value:function _loadMakiSprites(){var sprites=(0,_meta.isRetina)()?_sprite2.default:_sprite.default;var json=(0,_meta.isRetina)()?_maki.spritesheet[2]:_maki.spritesheet[1];(0,_utils.addSpritesheetToMap)(json,sprites,this.state.mbMap)}},{key:"render",value:function render(){var drawControl;var tooltipControl;if(this.state.mbMap){drawControl=_react.default.createElement(_draw_control.DrawControl,{mbMap:this.state.mbMap,addFilters:this.props.addFilters});tooltipControl=!this.props.disableTooltipControl?_react.default.createElement(_tooltip_control.TooltipControl,{mbMap:this.state.mbMap,addFilters:this.props.addFilters,geoFields:this.props.geoFields,renderTooltipContent:this.props.renderTooltipContent}):null}return _react.default.createElement("div",{id:"mapContainer",className:"mapContainer",ref:"mapContainer","data-test-subj":"mapContainer"},drawControl,tooltipControl)}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){var nextLayerList=nextProps.layerList;if(nextLayerList!==prevState.prevLayerList){return{prevLayerList:nextLayerList,hasSyncedLayerList:false}}return null}}]);return MBMapContainer}(_react.default.Component);exports.MBMapContainer=MBMapContainer;function clamp(val,min,max){if(val>max)val=max;else if(val<min)val=min;return val}},1947:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RGBAImage=exports.AlphaImage=void 0;var _assert=_interopRequireDefault(__webpack_require__(2025));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function createImage(image,_ref,channels,data){var width=_ref.width,height=_ref.height;if(!data){data=new Uint8Array(width*height*channels)}else if(data instanceof Uint8ClampedArray){data=new Uint8Array(data.buffer)}else if(data.length!==width*height*channels){throw new RangeError("mismatched image size")}image.width=width;image.height=height;image.data=data;return image}function resizeImage(image,_ref2,channels){var width=_ref2.width,height=_ref2.height;if(width===image.width&&height===image.height){return}var newImage=createImage({},{width:width,height:height},channels);copyImage(image,newImage,{x:0,y:0},{x:0,y:0},{width:Math.min(image.width,width),height:Math.min(image.height,height)},channels);image.width=width;image.height=height;image.data=newImage.data}function copyImage(srcImg,dstImg,srcPt,dstPt,size,channels){if(size.width===0||size.height===0){return dstImg}if(size.width>srcImg.width||size.height>srcImg.height||srcPt.x>srcImg.width-size.width||srcPt.y>srcImg.height-size.height){throw new RangeError("out of range source coordinates for image copy")}if(size.width>dstImg.width||size.height>dstImg.height||dstPt.x>dstImg.width-size.width||dstPt.y>dstImg.height-size.height){throw new RangeError("out of range destination coordinates for image copy")}var srcData=srcImg.data;var dstData=dstImg.data;(0,_assert.default)(srcData!==dstData);for(var y=0;y<size.height;y++){var srcOffset=((srcPt.y+y)*srcImg.width+srcPt.x)*channels;var dstOffset=((dstPt.y+y)*dstImg.width+dstPt.x)*channels;for(var i=0;i<size.width*channels;i++){dstData[dstOffset+i]=srcData[srcOffset+i]}}return dstImg}var AlphaImage=function(){function AlphaImage(size,data){_classCallCheck(this,AlphaImage);createImage(this,size,1,data)}_createClass(AlphaImage,[{key:"resize",value:function resize(size){resizeImage(this,size,1)}},{key:"clone",value:function clone(){return new AlphaImage({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function copy(srcImg,dstImg,srcPt,dstPt,size){copyImage(srcImg,dstImg,srcPt,dstPt,size,1)}}]);return AlphaImage}();exports.AlphaImage=AlphaImage;var RGBAImage=function(){function RGBAImage(size,data){_classCallCheck(this,RGBAImage);createImage(this,size,4,data)}_createClass(RGBAImage,[{key:"resize",value:function resize(size){resizeImage(this,size,4)}},{key:"replace",value:function replace(data,copy){if(copy){this.data.set(data)}else if(data instanceof Uint8ClampedArray){this.data=new Uint8Array(data.buffer)}else{this.data=data}}},{key:"clone",value:function clone(){return new RGBAImage({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function copy(srcImg,dstImg,srcPt,dstPt,size){copyImage(srcImg,dstImg,srcPt,dstPt,size,4)}}]);return RGBAImage}();exports.RGBAImage=RGBAImage},1954:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DrawControl=void 0;var _reactRedux=__webpack_require__(12);var _draw_control=__webpack_require__(1955);var _map_actions=__webpack_require__(92);var _map_selectors=__webpack_require__(64);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{isDrawingFilter:(0,_map_selectors.isDrawingFilter)(state),drawState:(0,_map_selectors.getDrawState)(state)}}function mapDispatchToProps(dispatch){return{disableDrawState:function disableDrawState(){dispatch((0,_map_actions.updateDrawState)(null))}}}var connectedDrawControl=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_draw_control.DrawControl);exports.DrawControl=connectedDrawControl},1955:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DrawControl=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _constants=__webpack_require__(25);var _mapboxGlDrawUnminified=_interopRequireDefault(__webpack_require__(2028));var _mapboxGlDrawRectangleMode=_interopRequireDefault(__webpack_require__(2117));var _elasticsearch_geo_utils=__webpack_require__(402);var _draw_tooltip=__webpack_require__(1959);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var mbDrawModes=_mapboxGlDrawUnminified.default.modes;mbDrawModes.draw_rectangle=_mapboxGlDrawRectangleMode.default;var DrawControl=function(_React$Component){_inherits(DrawControl,_React$Component);function DrawControl(){var _this;_classCallCheck(this,DrawControl);_this=_possibleConstructorReturn(this,_getPrototypeOf(DrawControl).call(this));_defineProperty(_assertThisInitialized(_this),"_syncDrawControl",_lodash.default.debounce((function(){if(!_this.props.mbMap){return}if(_this.props.isDrawingFilter){_this._updateDrawControl()}else{_this._removeDrawControl()}}),256));_defineProperty(_assertThisInitialized(_this),"_onDraw",(function(e){if(!e.features.length){return}var isBoundingBox=_this.props.drawState.drawType===_constants.DRAW_TYPE.BOUNDS;var geometry=e.features[0].geometry;(0,_elasticsearch_geo_utils.roundCoordinates)(geometry.coordinates);try{var options={indexPatternId:_this.props.drawState.indexPatternId,geoFieldName:_this.props.drawState.geoFieldName,geoFieldType:_this.props.drawState.geoFieldType,geometryLabel:_this.props.drawState.geometryLabel,relation:_this.props.drawState.relation};var filter=isBoundingBox?(0,_elasticsearch_geo_utils.createSpatialFilterWithBoundingBox)(_objectSpread({},options,{geometry:(0,_elasticsearch_geo_utils.getBoundingBoxGeometry)(geometry)})):(0,_elasticsearch_geo_utils.createSpatialFilterWithGeometry)(_objectSpread({},options,{geometry:geometry}));_this.props.addFilters([filter])}catch(error){console.error(error)}finally{_this.props.disableDrawState()}}));_this._mbDrawControl=new _mapboxGlDrawUnminified.default({displayControlsDefault:false,modes:mbDrawModes});_this._mbDrawControlAdded=false;return _this}_createClass(DrawControl,[{key:"componentDidUpdate",value:function componentDidUpdate(){this._syncDrawControl()}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;this._removeDrawControl()}},{key:"_removeDrawControl",value:function _removeDrawControl(){if(!this._mbDrawControlAdded){return}this.props.mbMap.getCanvas().style.cursor="";this.props.mbMap.off("draw.create",this._onDraw);this.props.mbMap.removeControl(this._mbDrawControl);this._mbDrawControlAdded=false}},{key:"_updateDrawControl",value:function _updateDrawControl(){if(!this._mbDrawControlAdded){this.props.mbMap.addControl(this._mbDrawControl);this._mbDrawControlAdded=true;this.props.mbMap.getCanvas().style.cursor="crosshair";this.props.mbMap.on("draw.create",this._onDraw)}var mbDrawMode=this.props.drawState.drawType===_constants.DRAW_TYPE.POLYGON?this._mbDrawControl.modes.DRAW_POLYGON:"draw_rectangle";this._mbDrawControl.changeMode(mbDrawMode)}},{key:"render",value:function render(){if(!this.props.mbMap||!this.props.isDrawingFilter){return null}return _react.default.createElement(_draw_tooltip.DrawTooltip,{mbMap:this.props.mbMap,drawState:this.props.drawState})}}]);return DrawControl}(_react.default.Component);exports.DrawControl=DrawControl},1959:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DrawTooltip=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);var _constants=__webpack_require__(25);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var noop=function noop(){};var DrawTooltip=function(_Component){_inherits(DrawTooltip,_Component);function DrawTooltip(props){var _this;_classCallCheck(this,DrawTooltip);_this=_possibleConstructorReturn(this,_getPrototypeOf(DrawTooltip).call(this,props));_defineProperty(_assertThisInitialized(_this),"state",{x:undefined,y:undefined,isOpen:false});_defineProperty(_assertThisInitialized(_this),"_hideTooltip",(function(){_this._updateTooltipLocation.cancel();_this.setState({isOpen:false})}));_defineProperty(_assertThisInitialized(_this),"_updateTooltipLocation",_lodash.default.throttle((function(_ref){var lngLat=_ref.lngLat;var mouseLocation=_this.props.mbMap.project(lngLat);_this.setState({isOpen:true,x:mouseLocation.x,y:mouseLocation.y})}),100));_this._popoverRef=_react.default.createRef();return _this}_createClass(DrawTooltip,[{key:"componentDidMount",value:function componentDidMount(){this.props.mbMap.on("mousemove",this._updateTooltipLocation);this.props.mbMap.on("mouseout",this._hideTooltip)}},{key:"componentDidUpdate",value:function componentDidUpdate(){if(this._popoverRef.current){this._popoverRef.current.positionPopoverFluid()}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.mbMap.off("mousemove",this._updateTooltipLocation);this.props.mbMap.off("mouseout",this._hideTooltip);this._updateTooltipLocation.cancel()}},{key:"render",value:function render(){var instructions=this.props.drawState.drawType===_constants.DRAW_TYPE.BOUNDS?_i18n.i18n.translate("xpack.maps.drawTooltip.boundsInstructions",{defaultMessage:"Click to start rectangle. Click again to finish."}):_i18n.i18n.translate("xpack.maps.drawTooltip.polygonInstructions",{defaultMessage:"Click to add vertex. Double click to finish."});var tooltipAnchor=_react.default.createElement("div",{style:{height:"26px",width:"26px",background:"transparent"}});return _react.default.createElement(_eui.EuiPopover,{id:"drawInstructionsTooltip",button:tooltipAnchor,anchorPosition:"rightCenter",isOpen:this.state.isOpen,closePopover:noop,ref:this._popoverRef,style:{pointerEvents:"none",transform:"translate(".concat(this.state.x-13,"px, ").concat(this.state.y-13,"px)")}},_react.default.createElement(_eui.EuiText,{color:"subdued",size:"xs"},instructions))}}]);return DrawTooltip}(_react.Component);exports.DrawTooltip=DrawTooltip},1960:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VectorStyleEditor=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireWildcard(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(8));var _vector_style_color_editor=__webpack_require__(1961);var _vector_style_size_editor=__webpack_require__(1967);var _vector_style_symbol_editor=__webpack_require__(1971);var _vector_style_label_editor=__webpack_require__(1972);var _vector_style_label_border_size_editor=__webpack_require__(1975);var _vector_style=__webpack_require__(249);var _orientation_editor=__webpack_require__(1976);var _vector_style_defaults=__webpack_require__(147);var _color_utils=__webpack_require__(201);var _vector_feature_types=__webpack_require__(273);var _vector_constants=__webpack_require__(510);var _i18n=__webpack_require__(2);var _symbol_utils=__webpack_require__(405);var _eui=__webpack_require__(1);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var VectorStyleEditor=function(_Component){_inherits(VectorStyleEditor,_Component);function VectorStyleEditor(){var _getPrototypeOf2;var _this;_classCallCheck(this,VectorStyleEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(VectorStyleEditor)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{dateFields:[],numberFields:[],categoricalFields:[],fields:[],defaultDynamicProperties:(0,_vector_style_defaults.getDefaultDynamicProperties)(),defaultStaticProperties:(0,_vector_style_defaults.getDefaultStaticProperties)(),supportedFeatures:undefined,selectedFeatureType:undefined});_defineProperty(_assertThisInitialized(_this),"_handleSelectedFeatureChange",(function(selectedFeature){_this.setState({selectedFeature:selectedFeature})}));_defineProperty(_assertThisInitialized(_this),"_onIsTimeAwareChange",(function(event){_this.props.onIsTimeAwareChange(event.target.checked)}));_defineProperty(_assertThisInitialized(_this),"_onStaticStyleChange",(function(propertyName,options){var styleDescriptor={type:_vector_style.VectorStyle.STYLE_TYPE.STATIC,options:options};_this.props.handlePropertyChange(propertyName,styleDescriptor)}));_defineProperty(_assertThisInitialized(_this),"_onDynamicStyleChange",(function(propertyName,options){var styleDescriptor={type:_vector_style.VectorStyle.STYLE_TYPE.DYNAMIC,options:options};_this.props.handlePropertyChange(propertyName,styleDescriptor)}));return _this}_createClass(VectorStyleEditor,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadFields();this._loadSupportedFeatures()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._loadFields();this._loadSupportedFeatures()}},{key:"_loadFields",value:function _loadFields(){var getFieldMeta,dateFields,dateFieldPromises,dateFieldsArray,numberFields,numberFieldPromises,numberFieldsArray,categoricalFields,categoricalFieldMeta,categoricalFieldsArray,fields,fieldPromises,fieldsArray;return regeneratorRuntime.async((function _loadFields$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:getFieldMeta=function getFieldMeta(field){return regeneratorRuntime.async((function getFieldMeta$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(field.getLabel());case 2:_context.t0=_context.sent;_context.t1=field.getName();_context.t2=field.getOrigin();return _context.abrupt("return",{label:_context.t0,name:_context.t1,origin:_context.t2});case 6:case"end":return _context.stop()}}}))};_context2.next=3;return regeneratorRuntime.awrap(this.props.layer.getDateFields());case 3:dateFields=_context2.sent;dateFieldPromises=dateFields.map(getFieldMeta);_context2.next=7;return regeneratorRuntime.awrap(Promise.all(dateFieldPromises));case 7:dateFieldsArray=_context2.sent;if(this._isMounted&&!_lodash.default.isEqual(dateFieldsArray,this.state.dateFields)){this.setState({dateFields:dateFieldsArray})}_context2.next=11;return regeneratorRuntime.awrap(this.props.layer.getNumberFields());case 11:numberFields=_context2.sent;numberFieldPromises=numberFields.map(getFieldMeta);_context2.next=15;return regeneratorRuntime.awrap(Promise.all(numberFieldPromises));case 15:numberFieldsArray=_context2.sent;if(this._isMounted&&!_lodash.default.isEqual(numberFieldsArray,this.state.numberFields)){this.setState({numberFields:numberFieldsArray})}_context2.next=19;return regeneratorRuntime.awrap(this.props.layer.getCategoricalFields());case 19:categoricalFields=_context2.sent;categoricalFieldMeta=categoricalFields.map(getFieldMeta);_context2.next=23;return regeneratorRuntime.awrap(Promise.all(categoricalFieldMeta));case 23:categoricalFieldsArray=_context2.sent;if(this._isMounted&&!_lodash.default.isEqual(categoricalFieldsArray,this.state.categoricalFields)){this.setState({categoricalFields:categoricalFieldsArray})}_context2.next=27;return regeneratorRuntime.awrap(this.props.layer.getFields());case 27:fields=_context2.sent;fieldPromises=fields.map(getFieldMeta);_context2.next=31;return regeneratorRuntime.awrap(Promise.all(fieldPromises));case 31:fieldsArray=_context2.sent;if(this._isMounted&&!_lodash.default.isEqual(fieldsArray,this.state.fields)){this.setState({fields:fieldsArray})}case 33:case"end":return _context2.stop()}}}),null,this)}},{key:"_loadSupportedFeatures",value:function _loadSupportedFeatures(){var supportedFeatures,selectedFeature;return regeneratorRuntime.async((function _loadSupportedFeatures$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return regeneratorRuntime.awrap(this.props.layer.getSource().getSupportedShapeTypes());case 2:supportedFeatures=_context3.sent;if(this._isMounted){_context3.next=5;break}return _context3.abrupt("return");case 5:selectedFeature=_vector_feature_types.VECTOR_SHAPE_TYPES.POLYGON;if(this.props.isPointsOnly){selectedFeature=_vector_feature_types.VECTOR_SHAPE_TYPES.POINT}else if(this.props.isLinesOnly){selectedFeature=_vector_feature_types.VECTOR_SHAPE_TYPES.LINE}if(!_lodash.default.isEqual(supportedFeatures,this.state.supportedFeatures)||selectedFeature!==this.state.selectedFeature){this.setState({supportedFeatures:supportedFeatures,selectedFeature:selectedFeature})}case 8:case"end":return _context3.stop()}}}),null,this)}},{key:"_getOrdinalFields",value:function _getOrdinalFields(){return[].concat(_toConsumableArray(this.state.dateFields),_toConsumableArray(this.state.numberFields))}},{key:"_getOrdinalAndCategoricalFields",value:function _getOrdinalAndCategoricalFields(){return[].concat(_toConsumableArray(this.state.dateFields),_toConsumableArray(this.state.numberFields),_toConsumableArray(this.state.categoricalFields))}},{key:"_renderFillColor",value:function _renderFillColor(){return _react.default.createElement(_vector_style_color_editor.VectorStyleColorEditor,{swatches:_color_utils.DEFAULT_FILL_COLORS,onStaticStyleChange:this._onStaticStyleChange,onDynamicStyleChange:this._onDynamicStyleChange,styleProperty:this.props.styleProperties[_vector_style_defaults.VECTOR_STYLES.FILL_COLOR],fields:this._getOrdinalAndCategoricalFields(),defaultStaticStyleOptions:this.state.defaultStaticProperties[_vector_style_defaults.VECTOR_STYLES.FILL_COLOR].options,defaultDynamicStyleOptions:this.state.defaultDynamicProperties[_vector_style_defaults.VECTOR_STYLES.FILL_COLOR].options})}},{key:"_renderLineColor",value:function _renderLineColor(){return _react.default.createElement(_vector_style_color_editor.VectorStyleColorEditor,{swatches:_color_utils.DEFAULT_LINE_COLORS,onStaticStyleChange:this._onStaticStyleChange,onDynamicStyleChange:this._onDynamicStyleChange,styleProperty:this.props.styleProperties[_vector_style_defaults.VECTOR_STYLES.LINE_COLOR],fields:this._getOrdinalAndCategoricalFields(),defaultStaticStyleOptions:this.state.defaultStaticProperties[_vector_style_defaults.VECTOR_STYLES.LINE_COLOR].options,defaultDynamicStyleOptions:this.state.defaultDynamicProperties[_vector_style_defaults.VECTOR_STYLES.LINE_COLOR].options})}},{key:"_renderLineWidth",value:function _renderLineWidth(){return _react.default.createElement(_vector_style_size_editor.VectorStyleSizeEditor,{onStaticStyleChange:this._onStaticStyleChange,onDynamicStyleChange:this._onDynamicStyleChange,styleProperty:this.props.styleProperties[_vector_style_defaults.VECTOR_STYLES.LINE_WIDTH],fields:this._getOrdinalFields(),defaultStaticStyleOptions:this.state.defaultStaticProperties[_vector_style_defaults.VECTOR_STYLES.LINE_WIDTH].options,defaultDynamicStyleOptions:this.state.defaultDynamicProperties[_vector_style_defaults.VECTOR_STYLES.LINE_WIDTH].options})}},{key:"_renderSymbolSize",value:function _renderSymbolSize(){return _react.default.createElement(_vector_style_size_editor.VectorStyleSizeEditor,{onStaticStyleChange:this._onStaticStyleChange,onDynamicStyleChange:this._onDynamicStyleChange,styleProperty:this.props.styleProperties[_vector_style_defaults.VECTOR_STYLES.ICON_SIZE],fields:this._getOrdinalFields(),defaultStaticStyleOptions:this.state.defaultStaticProperties[_vector_style_defaults.VECTOR_STYLES.ICON_SIZE].options,defaultDynamicStyleOptions:this.state.defaultDynamicProperties[_vector_style_defaults.VECTOR_STYLES.ICON_SIZE].options})}},{key:"_renderLabelProperties",value:function _renderLabelProperties(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_vector_style_label_editor.VectorStyleLabelEditor,{onStaticStyleChange:this._onStaticStyleChange,onDynamicStyleChange:this._onDynamicStyleChange,styleProperty:this.props.styleProperties[_vector_style_defaults.VECTOR_STYLES.LABEL_TEXT],fields:this.state.fields,defaultStaticStyleOptions:this.state.defaultStaticProperties[_vector_style_defaults.VECTOR_STYLES.LABEL_TEXT].options,defaultDynamicStyleOptions:this.state.defaultDynamicProperties[_vector_style_defaults.VECTOR_STYLES.LABEL_TEXT].options}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_vector_style_color_editor.VectorStyleColorEditor,{swatches:_color_utils.DEFAULT_LINE_COLORS,onStaticStyleChange:this._onStaticStyleChange,onDynamicStyleChange:this._onDynamicStyleChange,styleProperty:this.props.styleProperties[_vector_style_defaults.VECTOR_STYLES.LABEL_COLOR],fields:this._getOrdinalAndCategoricalFields(),defaultStaticStyleOptions:this.state.defaultStaticProperties[_vector_style_defaults.VECTOR_STYLES.LABEL_COLOR].options,defaultDynamicStyleOptions:this.state.defaultDynamicProperties[_vector_style_defaults.VECTOR_STYLES.LABEL_COLOR].options}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_vector_style_size_editor.VectorStyleSizeEditor,{onStaticStyleChange:this._onStaticStyleChange,onDynamicStyleChange:this._onDynamicStyleChange,styleProperty:this.props.styleProperties[_vector_style_defaults.VECTOR_STYLES.LABEL_SIZE],fields:this._getOrdinalFields(),defaultStaticStyleOptions:this.state.defaultStaticProperties[_vector_style_defaults.VECTOR_STYLES.LABEL_SIZE].options,defaultDynamicStyleOptions:this.state.defaultDynamicProperties[_vector_style_defaults.VECTOR_STYLES.LABEL_SIZE].options}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_vector_style_color_editor.VectorStyleColorEditor,{swatches:_color_utils.DEFAULT_LINE_COLORS,onStaticStyleChange:this._onStaticStyleChange,onDynamicStyleChange:this._onDynamicStyleChange,styleProperty:this.props.styleProperties[_vector_style_defaults.VECTOR_STYLES.LABEL_BORDER_COLOR],fields:this._getOrdinalAndCategoricalFields(),defaultStaticStyleOptions:this.state.defaultStaticProperties[_vector_style_defaults.VECTOR_STYLES.LABEL_BORDER_COLOR].options,defaultDynamicStyleOptions:this.state.defaultDynamicProperties[_vector_style_defaults.VECTOR_STYLES.LABEL_BORDER_COLOR].options}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_vector_style_label_border_size_editor.VectorStyleLabelBorderSizeEditor,{handlePropertyChange:this.props.handlePropertyChange,styleProperty:this.props.styleProperties[_vector_style_defaults.VECTOR_STYLES.LABEL_BORDER_SIZE]}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}},{key:"_renderPointProperties",value:function _renderPointProperties(){var iconOrientation;if(this.props.symbolDescriptor.options.symbolizeAs===_vector_constants.SYMBOLIZE_AS_ICON){iconOrientation=_react.default.createElement(_orientation_editor.OrientationEditor,{onStaticStyleChange:this._onStaticStyleChange,onDynamicStyleChange:this._onDynamicStyleChange,styleProperty:this.props.styleProperties[_vector_style_defaults.VECTOR_STYLES.ICON_ORIENTATION],fields:this.state.numberFields,defaultStaticStyleOptions:this.state.defaultStaticProperties[_vector_style_defaults.VECTOR_STYLES.ICON_ORIENTATION].options,defaultDynamicStyleOptions:this.state.defaultDynamicProperties[_vector_style_defaults.VECTOR_STYLES.ICON_ORIENTATION].options})}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_vector_style_symbol_editor.VectorStyleSymbolEditor,{styleOptions:this.props.symbolDescriptor.options,handlePropertyChange:this.props.handlePropertyChange,symbolOptions:_symbol_utils.SYMBOL_OPTIONS,isDarkMode:_chrome.default.getUiSettingsClient().get("theme:darkMode",false)}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this._renderFillColor(),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this._renderLineColor(),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this._renderLineWidth(),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),iconOrientation,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this._renderSymbolSize(),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this._renderLabelProperties())}},{key:"_renderLineProperties",value:function _renderLineProperties(){return _react.default.createElement(_react.Fragment,null,this._renderLineColor(),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this._renderLineWidth())}},{key:"_renderPolygonProperties",value:function _renderPolygonProperties(){return _react.default.createElement(_react.Fragment,null,this._renderFillColor(),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this._renderLineColor(),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this._renderLineWidth())}},{key:"_renderProperties",value:function _renderProperties(){var _this$state=this.state,supportedFeatures=_this$state.supportedFeatures,selectedFeature=_this$state.selectedFeature;if(!supportedFeatures){return null}if(supportedFeatures.length===1){switch(supportedFeatures[0]){case _vector_feature_types.VECTOR_SHAPE_TYPES.POINT:return this._renderPointProperties();case _vector_feature_types.VECTOR_SHAPE_TYPES.LINE:return this._renderLineProperties();case _vector_feature_types.VECTOR_SHAPE_TYPES.POLYGON:return this._renderPolygonProperties()}}var featureButtons=[{id:_vector_feature_types.VECTOR_SHAPE_TYPES.POINT,label:_i18n.i18n.translate("xpack.maps.vectorStyleEditor.pointLabel",{defaultMessage:"Points"})},{id:_vector_feature_types.VECTOR_SHAPE_TYPES.LINE,label:_i18n.i18n.translate("xpack.maps.vectorStyleEditor.lineLabel",{defaultMessage:"Lines"})},{id:_vector_feature_types.VECTOR_SHAPE_TYPES.POLYGON,label:_i18n.i18n.translate("xpack.maps.vectorStyleEditor.polygonLabel",{defaultMessage:"Polygons"})}];var styleProperties=this._renderPolygonProperties();if(selectedFeature===_vector_feature_types.VECTOR_SHAPE_TYPES.LINE){styleProperties=this._renderLineProperties()}else if(selectedFeature===_vector_feature_types.VECTOR_SHAPE_TYPES.POINT){styleProperties=this._renderPointProperties()}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiButtonGroup,{legend:_i18n.i18n.translate("xpack.maps.vectorStyleEditor.featureTypeButtonGroupLegend",{defaultMessage:"vector feature button group"}),options:featureButtons,idSelected:selectedFeature,onChange:this._handleSelectedFeatureChange}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),styleProperties)}},{key:"_renderIsTimeAwareSwitch",value:function _renderIsTimeAwareSwitch(){if(!this.props.showIsTimeAware){return null}return _react.default.createElement(_eui.EuiFormRow,{display:"columnCompressedSwitch"},_react.default.createElement(_eui.EuiSwitch,{label:_i18n.i18n.translate("xpack.maps.vectorStyleEditor.isTimeAwareLabel",{defaultMessage:"Apply global time to style metadata requests"}),checked:this.props.isTimeAware,onChange:this._onIsTimeAwareChange,compressed:true}))}},{key:"render",value:function render(){return _react.default.createElement(_react.Fragment,null,this._renderProperties(),this._renderIsTimeAwareSwitch())}}]);return VectorStyleEditor}(_react.Component);exports.VectorStyleEditor=VectorStyleEditor},1961:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VectorStyleColorEditor=VectorStyleColorEditor;var _react=_interopRequireDefault(__webpack_require__(0));var _style_prop_editor=__webpack_require__(509);var _dynamic_color_form=__webpack_require__(1962);var _static_color_form=__webpack_require__(1966);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function VectorStyleColorEditor(props){var colorForm=props.styleProperty.isDynamic()?_react.default.createElement(_dynamic_color_form.DynamicColorForm,props):_react.default.createElement(_static_color_form.StaticColorForm,props);return _react.default.createElement(_style_prop_editor.StylePropEditor,_extends({},props,{customStaticOptionLabel:_i18n.i18n.translate("xpack.maps.styles.color.staticDynamicSelect.staticLabel",{defaultMessage:"Solid"})}),colorForm)}},1962:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DynamicColorForm=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireWildcard(__webpack_require__(0));var _field_select=__webpack_require__(512);var _color_map_select=__webpack_require__(1963);var _eui=__webpack_require__(1);var _constants=__webpack_require__(25);var _color_utils=__webpack_require__(201);var _i18n=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DynamicColorForm=function(_React$Component){_inherits(DynamicColorForm,_React$Component);function DynamicColorForm(){var _this;_classCallCheck(this,DynamicColorForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(DynamicColorForm).call(this));_defineProperty(_assertThisInitialized(_this),"state",{colorMapType:_constants.COLOR_MAP_TYPE.ORDINAL});_this._isMounted=false;return _this}_createClass(DynamicColorForm,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadColorMapType()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._loadColorMapType()}},{key:"_loadColorMapType",value:function _loadColorMapType(){var _this2=this;var field,dataType,colorMapType;return regeneratorRuntime.async((function _loadColorMapType$(_context){while(1){switch(_context.prev=_context.next){case 0:field=this.props.styleProperty.getField();if(field){_context.next=3;break}return _context.abrupt("return");case 3:_context.next=5;return regeneratorRuntime.awrap(field.getDataType());case 5:dataType=_context.sent;colorMapType=_constants.CATEGORICAL_DATA_TYPES.includes(dataType)?_constants.COLOR_MAP_TYPE.CATEGORICAL:_constants.COLOR_MAP_TYPE.ORDINAL;if(this._isMounted&&this.state.colorMapType!==colorMapType){this.setState({colorMapType:colorMapType},(function(){var options=_this2.props.styleProperty.getOptions();_this2.props.onDynamicStyleChange(_this2.props.styleProperty.getStyleName(),_objectSpread({},options,{type:colorMapType}))}))}case 8:case"end":return _context.stop()}}}),null,this)}},{key:"_getColorSelector",value:function _getColorSelector(){var _this$props=this.props,onDynamicStyleChange=_this$props.onDynamicStyleChange,styleProperty=_this$props.styleProperty;var styleOptions=styleProperty.getOptions();if(!styleOptions.field||!styleOptions.field.name){return}var colorSelect;var onColorChange=function onColorChange(colorOptions){var newColorOptions={type:colorOptions.type};if(colorOptions.type===_constants.COLOR_MAP_TYPE.ORDINAL){newColorOptions.useCustomColorRamp=colorOptions.useCustomColorMap;newColorOptions.customColorRamp=colorOptions.customColorMap;newColorOptions.color=colorOptions.color}else{newColorOptions.useCustomColorPalette=colorOptions.useCustomColorMap;newColorOptions.customColorPalette=colorOptions.customColorMap;newColorOptions.colorCategory=colorOptions.color}onDynamicStyleChange(styleProperty.getStyleName(),_objectSpread({},styleOptions,{},newColorOptions))};if(this.state.colorMapType===_constants.COLOR_MAP_TYPE.ORDINAL){var customOptionLabel=_i18n.i18n.translate("xpack.maps.style.customColorRampLabel",{defaultMessage:"Custom color ramp"});colorSelect=_react.default.createElement(_color_map_select.ColorMapSelect,{colorMapOptions:_color_utils.COLOR_GRADIENTS,customOptionLabel:customOptionLabel,onChange:function onChange(options){return onColorChange(options)},colorMapType:_constants.COLOR_MAP_TYPE.ORDINAL,color:styleOptions.color,customColorMap:styleOptions.customColorRamp,useCustomColorMap:_lodash.default.get(styleOptions,"useCustomColorRamp",false),compressed:true})}else if(this.state.colorMapType===_constants.COLOR_MAP_TYPE.CATEGORICAL){var _customOptionLabel=_i18n.i18n.translate("xpack.maps.style.customColorPaletteLabel",{defaultMessage:"Custom color palette"});colorSelect=_react.default.createElement(_color_map_select.ColorMapSelect,{colorMapOptions:_color_utils.COLOR_PALETTES,customOptionLabel:_customOptionLabel,onChange:function onChange(options){return onColorChange(options)},colorMapType:_constants.COLOR_MAP_TYPE.CATEGORICAL,color:styleOptions.colorCategory,customColorMap:styleOptions.customColorPalette,useCustomColorMap:_lodash.default.get(styleOptions,"useCustomColorPalette",false),compressed:true})}return colorSelect}},{key:"render",value:function render(){var _this$props2=this.props,fields=_this$props2.fields,onDynamicStyleChange=_this$props2.onDynamicStyleChange,staticDynamicSelect=_this$props2.staticDynamicSelect,styleProperty=_this$props2.styleProperty;var styleOptions=styleProperty.getOptions();var onFieldChange=function onFieldChange(options){var field=options.field;onDynamicStyleChange(styleProperty.getStyleName(),_objectSpread({},styleOptions,{field:field}))};var colorSelect=this._getColorSelector();return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},staticDynamicSelect),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_field_select.FieldSelect,{fields:fields,selectedFieldName:_lodash.default.get(styleOptions,"field.name"),onChange:onFieldChange,compressed:true}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),colorSelect)}}]);return DynamicColorForm}(_react.default.Component);exports.DynamicColorForm=DynamicColorForm},1963:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColorMapSelect=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _color_stops_ordinal=__webpack_require__(1964);var _constants=__webpack_require__(25);var _color_stops_categorical=__webpack_require__(1965);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var CUSTOM_COLOR_MAP="CUSTOM_COLOR_MAP";var ColorMapSelect=function(_Component){_inherits(ColorMapSelect,_Component);function ColorMapSelect(){var _getPrototypeOf2;var _this;_classCallCheck(this,ColorMapSelect);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ColorMapSelect)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{selected:""});_defineProperty(_assertThisInitialized(_this),"_onColorMapSelect",(function(selectedValue){var useCustomColorMap=selectedValue===CUSTOM_COLOR_MAP;_this.props.onChange({color:useCustomColorMap?null:selectedValue,useCustomColorMap:useCustomColorMap,type:_this.props.colorMapType})}));_defineProperty(_assertThisInitialized(_this),"_onCustomColorMapChange",(function(_ref){var colorStops=_ref.colorStops,isInvalid=_ref.isInvalid;if(isInvalid){var newState={customColorMap:colorStops};_this.setState(newState);return}_this.props.onChange({useCustomColorMap:true,customColorMap:colorStops,type:_this.props.colorMapType})}));return _this}_createClass(ColorMapSelect,[{key:"_renderColorStopsInput",value:function _renderColorStopsInput(){var colorStopsInput;if(this.props.useCustomColorMap){if(this.props.colorMapType===_constants.COLOR_MAP_TYPE.ORDINAL){colorStopsInput=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_color_stops_ordinal.ColorStopsOrdinal,{colorStops:this.state.customColorMap,onChange:this._onCustomColorMapChange}))}else if(this.props.colorMapType===_constants.COLOR_MAP_TYPE.CATEGORICAL){colorStopsInput=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_color_stops_categorical.ColorStopsCategorical,{colorStops:this.state.customColorMap,onChange:this._onCustomColorMapChange}))}}return colorStopsInput}},{key:"render",value:function render(){var _this2=this;var colorStopsInput=this._renderColorStopsInput();var colorMapOptionsWithCustom=[{value:CUSTOM_COLOR_MAP,inputDisplay:this.props.customOptionLabel}].concat(_toConsumableArray(this.props.colorMapOptions));var valueOfSelected;if(this.props.useCustomColorMap){valueOfSelected=CUSTOM_COLOR_MAP}else{valueOfSelected=this.props.colorMapOptions.find((function(option){return option.value===_this2.props.color}))?this.props.color:""}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSuperSelect,{options:colorMapOptionsWithCustom,onChange:this._onColorMapSelect,valueOfSelected:valueOfSelected,hasDividers:true}),colorStopsInput)}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){if(nextProps.customColorMap===prevState.prevPropsCustomColorMap){return null}return{prevPropsCustomColorMap:nextProps.customColorMap,customColorMap:nextProps.customColorMap}}}]);return ColorMapSelect}(_react.Component);exports.ColorMapSelect=ColorMapSelect},1964:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColorStopsOrdinal=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _color_stops=__webpack_require__(1003);var _eui=__webpack_require__(1);var _color_stops_utils=__webpack_require__(513);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ColorStopsOrdinal=function ColorStopsOrdinal(_ref){var _ref$colorStops=_ref.colorStops,colorStops=_ref$colorStops===void 0?[{stop:0,color:_color_stops_utils.DEFAULT_CUSTOM_COLOR}]:_ref$colorStops,onChange=_ref.onChange;var sanitizeStopInput=function sanitizeStopInput(value){var sanitizedValue=parseFloat(value);return isNaN(sanitizedValue)?"":sanitizedValue};var getStopError=function getStopError(stop,index){var error;if((0,_color_stops_utils.isOrdinalStopInvalid)(stop)){error=_i18n.i18n.translate("xpack.maps.styles.colorStops.ordinalStop.numberWarningLabel",{defaultMessage:"Stop must be a number"})}else if(index!==0&&colorStops[index-1].stop>=stop){error=_i18n.i18n.translate("xpack.maps.styles.colorStops.ordinalStop.numberOrderingWarningLabel",{defaultMessage:"Stop must be greater than previous stop value"})}return error};var renderStopInput=function renderStopInput(stop,onStopChange){return _react.default.createElement(_eui.EuiFieldNumber,{"aria-label":_i18n.i18n.translate("xpack.maps.styles.colorStops.ordinalStop.stopLabel",{defaultMessage:"Stop"}),value:stop,onChange:onStopChange,compressed:true})};var canDeleteStop=function canDeleteStop(colorStops){return colorStops.length>1};return _react.default.createElement(_color_stops.ColorStops,{onChange:onChange,colorStops:colorStops,isStopsInvalid:_color_stops_utils.isOrdinalStopsInvalid,sanitizeStopInput:sanitizeStopInput,getStopError:getStopError,renderStopInput:renderStopInput,canDeleteStop:canDeleteStop,addNewRow:_color_stops_utils.addOrdinalRow})};exports.ColorStopsOrdinal=ColorStopsOrdinal;ColorStopsOrdinal.propTypes={colorStops:_propTypes.default.arrayOf(_propTypes.default.shape({stopKey:_propTypes.default.number,color:_propTypes.default.string})),onChange:_propTypes.default.func.isRequired}},1965:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColorStopsCategorical=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(1);var _color_stops_utils=__webpack_require__(513);var _i18n=__webpack_require__(2);var _color_stops=__webpack_require__(1003);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ColorStopsCategorical=function ColorStopsCategorical(_ref){var _ref$colorStops=_ref.colorStops,colorStops=_ref$colorStops===void 0?[{stop:null,color:_color_stops_utils.DEFAULT_CUSTOM_COLOR},{stop:"",color:_color_stops_utils.DEFAULT_NEXT_COLOR}]:_ref$colorStops,onChange=_ref.onChange;var sanitizeStopInput=function sanitizeStopInput(value){return value};var getStopError=function getStopError(stop,index){var count=0;for(var i=1;i<colorStops.length;i++){if(colorStops[i].stop===stop&&i!==index){count++}}return count?_i18n.i18n.translate("xpack.maps.styles.colorStops.categoricalStop.noDupesWarningLabel",{defaultMessage:"Stop values must be unique"}):null};var renderStopInput=function renderStopInput(stop,onStopChange,index){var stopValue=typeof stop==="string"?stop:"";if(index===0){return _react.default.createElement(_eui.EuiFieldText,{"aria-label":_i18n.i18n.translate("xpack.maps.styles.colorStops.categoricalStop.defaultCategoryAriaLabel",{defaultMessage:"Default stop"}),value:stopValue,placeholder:(0,_color_stops_utils.getOtherCategoryLabel)(),disabled:true,onChange:onStopChange,compressed:true})}else{return _react.default.createElement(_eui.EuiFieldText,{"aria-label":_i18n.i18n.translate("xpack.maps.styles.colorStops.categoricalStop.categoryAriaLabel",{defaultMessage:"Category"}),value:stopValue,onChange:onStopChange,compressed:true})}};var canDeleteStop=function canDeleteStop(colorStops,index){return colorStops.length>2&&index!==0};return _react.default.createElement(_color_stops.ColorStops,{onChange:onChange,colorStops:colorStops,isStopsInvalid:_color_stops_utils.isCategoricalStopsInvalid,sanitizeStopInput:sanitizeStopInput,getStopError:getStopError,renderStopInput:renderStopInput,canDeleteStop:canDeleteStop,addNewRow:_color_stops_utils.addCategoricalRow})};exports.ColorStopsCategorical=ColorStopsCategorical;ColorStopsCategorical.propTypes={colorStops:_propTypes.default.arrayOf(_propTypes.default.shape({stopKey:_propTypes.default.number,color:_propTypes.default.string})),onChange:_propTypes.default.func.isRequired}},1966:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StaticColorForm=StaticColorForm;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StaticColorForm(_ref){var onStaticStyleChange=_ref.onStaticStyleChange,staticDynamicSelect=_ref.staticDynamicSelect,styleProperty=_ref.styleProperty,swatches=_ref.swatches;var onColorChange=function onColorChange(color){onStaticStyleChange(styleProperty.getStyleName(),{color:color})};return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},staticDynamicSelect),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiColorPicker,{onChange:onColorChange,color:styleProperty.getOptions().color,swatches:swatches,compressed:true})))}},1967:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VectorStyleSizeEditor=VectorStyleSizeEditor;var _react=_interopRequireDefault(__webpack_require__(0));var _style_prop_editor=__webpack_require__(509);var _dynamic_size_form=__webpack_require__(1968);var _static_size_form=__webpack_require__(1970);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function VectorStyleSizeEditor(props){var sizeForm=props.styleProperty.isDynamic()?_react.default.createElement(_dynamic_size_form.DynamicSizeForm,props):_react.default.createElement(_static_size_form.StaticSizeForm,props);return _react.default.createElement(_style_prop_editor.StylePropEditor,props,sizeForm)}},1968:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DynamicSizeForm=DynamicSizeForm;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireWildcard(__webpack_require__(0));var _field_select=__webpack_require__(512);var _size_range_selector=__webpack_require__(1969);var _eui=__webpack_require__(1);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function DynamicSizeForm(_ref){var fields=_ref.fields,onDynamicStyleChange=_ref.onDynamicStyleChange,staticDynamicSelect=_ref.staticDynamicSelect,styleProperty=_ref.styleProperty;var styleOptions=styleProperty.getOptions();var onFieldChange=function onFieldChange(_ref2){var field=_ref2.field;onDynamicStyleChange(styleProperty.getStyleName(),_objectSpread({},styleOptions,{field:field}))};var onSizeRangeChange=function onSizeRangeChange(_ref3){var minSize=_ref3.minSize,maxSize=_ref3.maxSize;onDynamicStyleChange(styleProperty.getStyleName(),_objectSpread({},styleOptions,{minSize:minSize,maxSize:maxSize}))};var sizeRange;if(styleOptions.field&&styleOptions.field.name){sizeRange=_react.default.createElement(_size_range_selector.SizeRangeSelector,{onChange:onSizeRangeChange,minSize:styleOptions.minSize,maxSize:styleOptions.maxSize,showLabels:true,compressed:true})}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},staticDynamicSelect),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_field_select.FieldSelect,{fields:fields,selectedFieldName:_lodash.default.get(styleOptions,"field.name"),onChange:onFieldChange,compressed:true}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),sizeRange)}},1969:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SizeRangeSelector=SizeRangeSelector;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _validated_range=__webpack_require__(524);var _vector_style_defaults=__webpack_require__(147);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function SizeRangeSelector(_ref){var minSize=_ref.minSize,maxSize=_ref.maxSize,onChange=_ref.onChange,rest=_objectWithoutProperties(_ref,["minSize","maxSize","onChange"]);var onSizeChange=function onSizeChange(_ref2){var _ref3=_slicedToArray(_ref2,2),min=_ref3[0],max=_ref3[1];onChange({minSize:Math.max(_vector_style_defaults.MIN_SIZE,parseInt(min,10)),maxSize:Math.min(_vector_style_defaults.MAX_SIZE,parseInt(max,10))})};return _react.default.createElement(_validated_range.ValidatedDualRange,_extends({min:_vector_style_defaults.MIN_SIZE,max:_vector_style_defaults.MAX_SIZE,step:1,value:[minSize,maxSize],showInput:"inputWithPopover",showRange:true,onChange:onSizeChange,allowEmptyRange:false,append:_i18n.i18n.translate("xpack.maps.vector.dualSize.unitLabel",{defaultMessage:"px",description:"Shorthand for pixel"})},rest))}SizeRangeSelector.propTypes={minSize:_propTypes.default.number.isRequired,maxSize:_propTypes.default.number.isRequired,onChange:_propTypes.default.func.isRequired}},1970:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StaticSizeForm=StaticSizeForm;var _react=_interopRequireDefault(__webpack_require__(0));var _validated_range=__webpack_require__(514);var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StaticSizeForm(_ref){var onStaticStyleChange=_ref.onStaticStyleChange,staticDynamicSelect=_ref.staticDynamicSelect,styleProperty=_ref.styleProperty;var onSizeChange=function onSizeChange(size){onStaticStyleChange(styleProperty.getStyleName(),{size:size})};return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},staticDynamicSelect),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_validated_range.ValidatedRange,{min:0,max:100,value:styleProperty.getOptions().size,onChange:onSizeChange,showInput:"inputWithPopover",showLabels:true,compressed:true,append:_i18n.i18n.translate("xpack.maps.vector.size.unitLabel",{defaultMessage:"px",description:"Shorthand for pixel"})})))}},1971:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VectorStyleSymbolEditor=VectorStyleSymbolEditor;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);var _vector_constants=__webpack_require__(510);var _symbol_icon=__webpack_require__(1004);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SYMBOLIZE_AS_OPTIONS=[{id:_vector_constants.SYMBOLIZE_AS_CIRCLE,label:_i18n.i18n.translate("xpack.maps.vector.symbolAs.circleLabel",{defaultMessage:"circle marker"})},{id:_vector_constants.SYMBOLIZE_AS_ICON,label:_i18n.i18n.translate("xpack.maps.vector.symbolAs.IconLabel",{defaultMessage:"icon"})}];function VectorStyleSymbolEditor(_ref){var styleOptions=_ref.styleOptions,handlePropertyChange=_ref.handlePropertyChange,symbolOptions=_ref.symbolOptions,isDarkMode=_ref.isDarkMode;var renderSymbolizeAsSelect=function renderSymbolizeAsSelect(){var selectedOption=SYMBOLIZE_AS_OPTIONS.find((function(_ref2){var id=_ref2.id;return id===styleOptions.symbolizeAs}));var onSymbolizeAsChange=function onSymbolizeAsChange(optionId){var styleDescriptor={options:_objectSpread({},styleOptions,{symbolizeAs:optionId})};handlePropertyChange("symbol",styleDescriptor)};return _react.default.createElement(_eui.EuiButtonGroup,{buttonSize:"compressed",options:SYMBOLIZE_AS_OPTIONS,idSelected:selectedOption?selectedOption.id:undefined,onChange:onSymbolizeAsChange,isFullWidth:true})};var renderSymbolSelect=function renderSymbolSelect(){var selectedOption=symbolOptions.find((function(_ref3){var value=_ref3.value;return value===styleOptions.symbolId}));var onSymbolChange=function onSymbolChange(selectedOptions){if(!selectedOptions||selectedOptions.length===0){return}var styleDescriptor={options:_objectSpread({},styleOptions,{symbolId:selectedOptions[0].value})};handlePropertyChange("symbol",styleDescriptor)};var renderOption=function renderOption(_ref4){var value=_ref4.value,label=_ref4.label;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false,style:{width:"15px"}},_react.default.createElement(_symbol_icon.SymbolIcon,{symbolId:value,fill:isDarkMode?"rgb(223, 229, 239)":"rgb(52, 55, 65)",stroke:isDarkMode?"rgb(255, 255, 255)":"rgb(0, 0, 0)",strokeWidth:"1px"})),_react.default.createElement(_eui.EuiFlexItem,null,label))};return _react.default.createElement(_eui.EuiComboBox,{options:symbolOptions,onChange:onSymbolChange,selectedOptions:selectedOption?[selectedOption]:undefined,singleSelection:true,isClearable:false,renderOption:renderOption,compressed:true})};return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.vector.symbolLabel",{defaultMessage:"Symbol type"}),display:"columnCompressed"},renderSymbolizeAsSelect()),styleOptions.symbolizeAs!==_vector_constants.SYMBOLIZE_AS_CIRCLE&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),renderSymbolSelect()))}},1972:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VectorStyleLabelEditor=VectorStyleLabelEditor;var _react=_interopRequireDefault(__webpack_require__(0));var _style_prop_editor=__webpack_require__(509);var _dynamic_label_form=__webpack_require__(1973);var _static_label_form=__webpack_require__(1974);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function VectorStyleLabelEditor(props){var labelForm=props.styleProperty.isDynamic()?_react.default.createElement(_dynamic_label_form.DynamicLabelForm,props):_react.default.createElement(_static_label_form.StaticLabelForm,props);return _react.default.createElement(_style_prop_editor.StylePropEditor,props,labelForm)}},1973:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DynamicLabelForm=DynamicLabelForm;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _field_select=__webpack_require__(512);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function DynamicLabelForm(_ref){var fields=_ref.fields,onDynamicStyleChange=_ref.onDynamicStyleChange,staticDynamicSelect=_ref.staticDynamicSelect,styleProperty=_ref.styleProperty;var styleOptions=styleProperty.getOptions();var onFieldChange=function onFieldChange(_ref2){var field=_ref2.field;onDynamicStyleChange(styleProperty.getStyleName(),_objectSpread({},styleOptions,{field:field}))};return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},staticDynamicSelect),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_field_select.FieldSelect,{fields:fields,selectedFieldName:_lodash.default.get(styleOptions,"field.name"),onChange:onFieldChange,compressed:true})))}},1974:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StaticLabelForm=StaticLabelForm;var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StaticLabelForm(_ref){var onStaticStyleChange=_ref.onStaticStyleChange,staticDynamicSelect=_ref.staticDynamicSelect,styleProperty=_ref.styleProperty;var onValueChange=function onValueChange(event){onStaticStyleChange(styleProperty.getStyleName(),{value:event.target.value})};return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},staticDynamicSelect),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFieldText,{placeholder:_i18n.i18n.translate("xpack.maps.styles.staticLabel.valuePlaceholder",{defaultMessage:"symbol label"}),value:styleProperty.getOptions().value,onChange:onValueChange,"aria-label":_i18n.i18n.translate("xpack.maps.styles.staticLabel.valueAriaLabel",{defaultMessage:"symbol label"}),compressed:true})))}},1975:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VectorStyleLabelBorderSizeEditor=VectorStyleLabelBorderSizeEditor;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _vector_style_defaults=__webpack_require__(147);var _get_vector_style_label=__webpack_require__(681);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var options=[{value:_vector_style_defaults.LABEL_BORDER_SIZES.NONE,text:_i18n.i18n.translate("xpack.maps.styles.labelBorderSize.noneLabel",{defaultMessage:"None"})},{value:_vector_style_defaults.LABEL_BORDER_SIZES.SMALL,text:_i18n.i18n.translate("xpack.maps.styles.labelBorderSize.smallLabel",{defaultMessage:"Small"})},{value:_vector_style_defaults.LABEL_BORDER_SIZES.MEDIUM,text:_i18n.i18n.translate("xpack.maps.styles.labelBorderSize.mediumLabel",{defaultMessage:"Medium"})},{value:_vector_style_defaults.LABEL_BORDER_SIZES.LARGE,text:_i18n.i18n.translate("xpack.maps.styles.labelBorderSize.largeLabel",{defaultMessage:"Large"})}];function VectorStyleLabelBorderSizeEditor(_ref){var handlePropertyChange=_ref.handlePropertyChange,styleProperty=_ref.styleProperty;function onChange(e){var styleDescriptor={options:{size:e.target.value}};handlePropertyChange(styleProperty.getStyleName(),styleDescriptor)}return _react.default.createElement(_eui.EuiFormRow,{label:(0,_get_vector_style_label.getVectorStyleLabel)(_vector_style_defaults.VECTOR_STYLES.LABEL_BORDER_SIZE),display:"columnCompressed"},_react.default.createElement(_eui.EuiSelect,{options:options,value:styleProperty.getOptions().size,onChange:onChange,"aria-label":_i18n.i18n.translate("xpack.maps.styles.labelBorderSizeSelect.ariaLabel",{defaultMessage:"Select label border size"}),compressed:true}))}},1976:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OrientationEditor=OrientationEditor;var _react=_interopRequireDefault(__webpack_require__(0));var _style_prop_editor=__webpack_require__(509);var _dynamic_orientation_form=__webpack_require__(1977);var _static_orientation_form=__webpack_require__(1978);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function OrientationEditor(props){var orientationForm=props.styleProperty.isDynamic()?_react.default.createElement(_dynamic_orientation_form.DynamicOrientationForm,props):_react.default.createElement(_static_orientation_form.StaticOrientationForm,props);return _react.default.createElement(_style_prop_editor.StylePropEditor,props,orientationForm)}},1977:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DynamicOrientationForm=DynamicOrientationForm;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _field_select=__webpack_require__(512);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function DynamicOrientationForm(_ref){var fields=_ref.fields,onDynamicStyleChange=_ref.onDynamicStyleChange,staticDynamicSelect=_ref.staticDynamicSelect,styleProperty=_ref.styleProperty;var styleOptions=styleProperty.getOptions();var onFieldChange=function onFieldChange(_ref2){var field=_ref2.field;onDynamicStyleChange(styleProperty.getStyleName(),_objectSpread({},styleOptions,{field:field}))};return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},staticDynamicSelect),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_field_select.FieldSelect,{fields:fields,selectedFieldName:_lodash.default.get(styleOptions,"field.name"),onChange:onFieldChange,compressed:true})))}},1978:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StaticOrientationForm=StaticOrientationForm;var _react=_interopRequireDefault(__webpack_require__(0));var _validated_range=__webpack_require__(514);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StaticOrientationForm(_ref){var onStaticStyleChange=_ref.onStaticStyleChange,staticDynamicSelect=_ref.staticDynamicSelect,styleProperty=_ref.styleProperty;var onOrientationChange=function onOrientationChange(orientation){onStaticStyleChange(styleProperty.getStyleName(),{orientation:orientation})};return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},staticDynamicSelect),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_validated_range.ValidatedRange,{min:0,max:360,value:styleProperty.getOptions().orientation,onChange:onOrientationChange,showInput:"inputWithPopover",showLabels:true,compressed:true,append:""})))}},1979:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LineIcon=void 0;var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LineIcon=function LineIcon(_ref){var style=_ref.style;return _react.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},_react.default.createElement("line",{x1:"0",y1:"6",x2:"16",y2:"6",style:style}))};exports.LineIcon=LineIcon},1980:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolygonIcon=void 0;var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PolygonIcon=function PolygonIcon(_ref){var style=_ref.style;return _react.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},_react.default.createElement("rect",{width:"15",height:"15",x:".5",y:".5",style:style,rx:"4"}))};exports.PolygonIcon=PolygonIcon},1981:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VectorStyleLegend=VectorStyleLegend;var _react=_interopRequireWildcard(__webpack_require__(0));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function VectorStyleLegend(_ref){var isLinesOnly=_ref.isLinesOnly,isPointsOnly=_ref.isPointsOnly,styles=_ref.styles,symbolId=_ref.symbolId;return styles.map((function(style){return _react.default.createElement(_react.Fragment,{key:style.getStyleName()},style.renderLegendDetailRow({isLinesOnly:isLinesOnly,isPointsOnly:isPointsOnly,symbolId:symbolId}))}))}},1982:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OrdinalLegend=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=_interopRequireDefault(__webpack_require__(3));var _ranged_style_legend_row=__webpack_require__(1010);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var EMPTY_VALUE="";var OrdinalLegend=function(_React$Component){_inherits(OrdinalLegend,_React$Component);function OrdinalLegend(){var _this;_classCallCheck(this,OrdinalLegend);_this=_possibleConstructorReturn(this,_getPrototypeOf(OrdinalLegend).call(this));_this._isMounted=false;_this.state={label:EMPTY_VALUE};return _this}_createClass(OrdinalLegend,[{key:"_loadParams",value:function _loadParams(){var label,newState;return regeneratorRuntime.async((function _loadParams$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(this.props.style.getField().getLabel());case 2:label=_context.sent;newState={label:label};if(this._isMounted&&!_lodash.default.isEqual(this.state,newState)){this.setState(newState)}case 5:case"end":return _context.stop()}}}),null,this)}},{key:"_formatValue",value:function _formatValue(value){if(value===EMPTY_VALUE){return value}return this.props.style.formatField(value)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._loadParams()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadParams()}},{key:"render",value:function render(){var fieldMeta=this.props.style.getFieldMeta();var minLabel=EMPTY_VALUE;var maxLabel=EMPTY_VALUE;if(fieldMeta){var range={min:fieldMeta.min,max:fieldMeta.max};var min=this._formatValue(_lodash.default.get(range,"min",EMPTY_VALUE));minLabel=this.props.style.isFieldMetaEnabled()&&range&&range.isMinOutsideStdRange?"< ".concat(min):min;var max=this._formatValue(_lodash.default.get(range,"max",EMPTY_VALUE));maxLabel=this.props.style.isFieldMetaEnabled()&&range&&range.isMaxOutsideStdRange?"> ".concat(max):max}return _react.default.createElement(_ranged_style_legend_row.RangedStyleLegendRow,{header:this.props.style.renderRangeLegendHeader(),minLabel:minLabel,maxLabel:maxLabel,propertyLabel:this.props.style.getDisplayStyleName(),fieldLabel:this.state.label})}}]);return OrdinalLegend}(_react.default.Component);exports.OrdinalLegend=OrdinalLegend},1983:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CategoricalLegend=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EMPTY_VALUE="";var CategoricalLegend=function(_React$Component){_inherits(CategoricalLegend,_React$Component);function CategoricalLegend(){var _getPrototypeOf2;var _this;_classCallCheck(this,CategoricalLegend);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CategoricalLegend)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{label:EMPTY_VALUE});return _this}_createClass(CategoricalLegend,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadParams()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._loadParams()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"_loadParams",value:function _loadParams(){var label,newState;return regeneratorRuntime.async((function _loadParams$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(this.props.style.getField().getLabel());case 2:label=_context.sent;newState={label:label};if(this._isMounted&&!_lodash.default.isEqual(this.state,newState)){this.setState(newState)}case 5:case"end":return _context.stop()}}}),null,this)}},{key:"render",value:function render(){if(this.state.label===EMPTY_VALUE){return null}return this.props.style.renderBreakedLegend({fieldLabel:this.state.label,isLinesOnly:this.props.isLinesOnly,isPointsOnly:this.props.isPointsOnly,symbolId:this.props.symbolId})}}]);return CategoricalLegend}(_react.default.Component);exports.CategoricalLegend=CategoricalLegend},1984:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OrdinalFieldMetaOptionsPopover=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _vector_style_defaults=__webpack_require__(147);var _i18n=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getIsEnableToggleLabel(styleName){switch(styleName){case _vector_style_defaults.VECTOR_STYLES.FILL_COLOR:case _vector_style_defaults.VECTOR_STYLES.LINE_COLOR:return _i18n.i18n.translate("xpack.maps.styles.fieldMetaOptions.isEnabled.colorLabel",{defaultMessage:"Calculate color ramp range from indices"});case _vector_style_defaults.VECTOR_STYLES.LINE_WIDTH:return _i18n.i18n.translate("xpack.maps.styles.fieldMetaOptions.isEnabled.widthLabel",{defaultMessage:"Calculate border width range from indices"});case _vector_style_defaults.VECTOR_STYLES.ICON_SIZE:return _i18n.i18n.translate("xpack.maps.styles.fieldMetaOptions.isEnabled.sizeLabel",{defaultMessage:"Calculate symbol size range from indices"});default:return _i18n.i18n.translate("xpack.maps.styles.fieldMetaOptions.isEnabled.defaultLabel",{defaultMessage:"Calculate symbolization range from indices"})}}var OrdinalFieldMetaOptionsPopover=function(_Component){_inherits(OrdinalFieldMetaOptionsPopover,_Component);function OrdinalFieldMetaOptionsPopover(){var _getPrototypeOf2;var _this;_classCallCheck(this,OrdinalFieldMetaOptionsPopover);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(OrdinalFieldMetaOptionsPopover)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isPopoverOpen:false});_defineProperty(_assertThisInitialized(_this),"_togglePopover",(function(){_this.setState({isPopoverOpen:!_this.state.isPopoverOpen})}));_defineProperty(_assertThisInitialized(_this),"_closePopover",(function(){_this.setState({isPopoverOpen:false})}));_defineProperty(_assertThisInitialized(_this),"_onIsEnabledChange",(function(event){_this.props.onChange(_objectSpread({},_this.props.styleProperty.getFieldMetaOptions(),{isEnabled:event.target.checked}))}));_defineProperty(_assertThisInitialized(_this),"_onSigmaChange",(function(event){_this.props.onChange(_objectSpread({},_this.props.styleProperty.getFieldMetaOptions(),{sigma:event.target.value}))}));return _this}_createClass(OrdinalFieldMetaOptionsPopover,[{key:"_renderButton",value:function _renderButton(){return _react.default.createElement(_eui.EuiButtonIcon,{onClick:this._togglePopover,size:"xs",iconType:"gear","aria-label":_i18n.i18n.translate("xpack.maps.styles.fieldMetaOptions.popoverToggle",{defaultMessage:"Field meta options popover toggle"})})}},{key:"_renderContent",value:function _renderContent(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{display:"columnCompressedSwitch"},_react.default.createElement(_eui.EuiSwitch,{label:getIsEnableToggleLabel(this.props.styleProperty.getStyleName()),checked:this.props.styleProperty.getFieldMetaOptions().isEnabled,onChange:this._onIsEnabledChange,compressed:true})),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.styles.fieldMetaOptions.sigmaLabel",{defaultMessage:"Sigma"}),display:"columnCompressed"},_react.default.createElement(_eui.EuiRange,{min:1,max:5,step:.25,value:this.props.styleProperty.getFieldMetaOptions().sigma,onChange:this._onSigmaChange,disabled:!this.props.styleProperty.getFieldMetaOptions().isEnabled,showTicks:true,tickInterval:1,compressed:true})))}},{key:"render",value:function render(){if(!this.props.styleProperty.supportsFieldMeta()){return null}return _react.default.createElement(_eui.EuiPopover,{id:"fieldMetaOptionsPopover",anchorPosition:"leftCenter",button:this._renderButton(),isOpen:this.state.isPopoverOpen,closePopover:this._closePopover,ownFocus:true},this._renderContent())}}]);return OrdinalFieldMetaOptionsPopover}(_react.Component);exports.OrdinalFieldMetaOptionsPopover=OrdinalFieldMetaOptionsPopover},1985:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DynamicSizeProperty=void 0;var _dynamic_style_property=__webpack_require__(274);var _symbol_utils=__webpack_require__(405);var _vector_style_defaults=__webpack_require__(147);var _lodash=_interopRequireDefault(__webpack_require__(3));var _circle_icon=__webpack_require__(1009);var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getLineWidthIcons(){var defaultStyle={stroke:"grey",fill:"none",width:"12px"};return[_react.default.createElement(_circle_icon.CircleIcon,{style:_objectSpread({},defaultStyle,{strokeWidth:"1px"})}),_react.default.createElement(_circle_icon.CircleIcon,{style:_objectSpread({},defaultStyle,{strokeWidth:"2px"})}),_react.default.createElement(_circle_icon.CircleIcon,{style:_objectSpread({},defaultStyle,{strokeWidth:"3px"})})]}function getSymbolSizeIcons(){var defaultStyle={stroke:"grey",fill:"grey"};return[_react.default.createElement(_circle_icon.CircleIcon,{style:_objectSpread({},defaultStyle,{width:"4px"})}),_react.default.createElement(_circle_icon.CircleIcon,{style:_objectSpread({},defaultStyle,{width:"8px"})}),_react.default.createElement(_circle_icon.CircleIcon,{style:_objectSpread({},defaultStyle,{width:"12px"})})]}var DynamicSizeProperty=function(_DynamicStyleProperty){_inherits(DynamicSizeProperty,_DynamicStyleProperty);function DynamicSizeProperty(options,styleName,field,getFieldMeta,getFieldFormatter,isSymbolizedAsIcon){var _this;_classCallCheck(this,DynamicSizeProperty);_this=_possibleConstructorReturn(this,_getPrototypeOf(DynamicSizeProperty).call(this,options,styleName,field,getFieldMeta,getFieldFormatter));_this._isSymbolizedAsIcon=isSymbolizedAsIcon;return _this}_createClass(DynamicSizeProperty,[{key:"supportsFeatureState",value:function supportsFeatureState(){if(this.getStyleName()===_vector_style_defaults.VECTOR_STYLES.ICON_SIZE&&this._isSymbolizedAsIcon){return false}if(this.getStyleName()===_vector_style_defaults.VECTOR_STYLES.LABEL_SIZE){return false}return true}},{key:"syncHaloWidthWithMb",value:function syncHaloWidthWithMb(mbLayerId,mbMap){var haloWidth=this.getMbSizeExpression();mbMap.setPaintProperty(mbLayerId,"icon-halo-width",haloWidth)}},{key:"syncIconImageAndSizeWithMb",value:function syncIconImageAndSizeWithMb(symbolLayerId,mbMap,symbolId){if(this._isSizeDynamicConfigComplete(this._options)){var iconPixels=this._options.maxSize>=_symbol_utils.HALF_LARGE_MAKI_ICON_SIZE?_symbol_utils.LARGE_MAKI_ICON_SIZE:_symbol_utils.SMALL_MAKI_ICON_SIZE;mbMap.setLayoutProperty(symbolLayerId,"icon-image","".concat(symbolId,"-").concat(iconPixels));var halfIconPixels=iconPixels/2;var targetName=this.getComputedFieldName();mbMap.setLayoutProperty(symbolLayerId,"icon-size",["interpolate",["linear"],["coalesce",["get",targetName],0],0,this._options.minSize/halfIconPixels,1,this._options.maxSize/halfIconPixels])}else{mbMap.setLayoutProperty(symbolLayerId,"icon-image",null);mbMap.setLayoutProperty(symbolLayerId,"icon-size",null)}}},{key:"syncCircleStrokeWidthWithMb",value:function syncCircleStrokeWidthWithMb(mbLayerId,mbMap){var lineWidth=this.getMbSizeExpression();mbMap.setPaintProperty(mbLayerId,"circle-stroke-width",lineWidth)}},{key:"syncCircleRadiusWithMb",value:function syncCircleRadiusWithMb(mbLayerId,mbMap){var circleRadius=this.getMbSizeExpression();mbMap.setPaintProperty(mbLayerId,"circle-radius",circleRadius)}},{key:"syncLineWidthWithMb",value:function syncLineWidthWithMb(mbLayerId,mbMap){var lineWidth=this.getMbSizeExpression();mbMap.setPaintProperty(mbLayerId,"line-width",lineWidth)}},{key:"syncLabelSizeWithMb",value:function syncLabelSizeWithMb(mbLayerId,mbMap){var lineWidth=this.getMbSizeExpression();mbMap.setLayoutProperty(mbLayerId,"text-size",lineWidth)}},{key:"getMbSizeExpression",value:function getMbSizeExpression(){if(this._isSizeDynamicConfigComplete(this._options)){return this._getMbDataDrivenSize({targetName:this.getComputedFieldName(),minSize:this._options.minSize,maxSize:this._options.maxSize})}return null}},{key:"_getMbDataDrivenSize",value:function _getMbDataDrivenSize(_ref){var targetName=_ref.targetName,minSize=_ref.minSize,maxSize=_ref.maxSize;var lookup=this.supportsFeatureState()?"feature-state":"get";return["interpolate",["linear"],["coalesce",[lookup,targetName],0],0,minSize,1,maxSize]}},{key:"_isSizeDynamicConfigComplete",value:function _isSizeDynamicConfigComplete(){return this._field&&this._field.isValid()&&_lodash.default.has(this._options,"minSize")&&_lodash.default.has(this._options,"maxSize")}},{key:"renderRangeLegendHeader",value:function renderRangeLegendHeader(){var icons;if(this.getStyleName()===_vector_style_defaults.VECTOR_STYLES.LINE_WIDTH){icons=getLineWidthIcons()}else if(this.getStyleName()===_vector_style_defaults.VECTOR_STYLES.ICON_SIZE){icons=getSymbolSizeIcons()}else{return null}return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs",justifyContent:"spaceBetween",alignItems:"center"},icons.map((function(icon,index){var isLast=index===icons.length-1;var spacer;if(!isLast){spacer=_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiHorizontalRule,{margin:"xs"}))}return _react.default.createElement(_react.Fragment,{key:index},_react.default.createElement(_eui.EuiFlexItem,{grow:false},icon),spacer)})))}}]);return DynamicSizeProperty}(_dynamic_style_property.DynamicStyleProperty);exports.DynamicSizeProperty=DynamicSizeProperty},1986:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StaticSizeProperty=void 0;var _static_style_property=__webpack_require__(329);var _symbol_utils=__webpack_require__(405);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var StaticSizeProperty=function(_StaticStyleProperty){_inherits(StaticSizeProperty,_StaticStyleProperty);function StaticSizeProperty(options,styleName){var _this;_classCallCheck(this,StaticSizeProperty);if(typeof options.size!=="number"){_this=_possibleConstructorReturn(this,_getPrototypeOf(StaticSizeProperty).call(this,{size:1},styleName))}else{_this=_possibleConstructorReturn(this,_getPrototypeOf(StaticSizeProperty).call(this,options,styleName))}return _possibleConstructorReturn(_this)}_createClass(StaticSizeProperty,[{key:"syncHaloWidthWithMb",value:function syncHaloWidthWithMb(mbLayerId,mbMap){mbMap.setPaintProperty(mbLayerId,"icon-halo-width",this._options.size)}},{key:"syncIconImageAndSizeWithMb",value:function syncIconImageAndSizeWithMb(symbolLayerId,mbMap,symbolId){var iconPixels=this._options.size>=_symbol_utils.HALF_LARGE_MAKI_ICON_SIZE?_symbol_utils.LARGE_MAKI_ICON_SIZE:_symbol_utils.SMALL_MAKI_ICON_SIZE;mbMap.setLayoutProperty(symbolLayerId,"icon-image","".concat(symbolId,"-").concat(iconPixels));var halfIconPixels=iconPixels/2;mbMap.setLayoutProperty(symbolLayerId,"icon-size",this._options.size/halfIconPixels)}},{key:"syncCircleStrokeWidthWithMb",value:function syncCircleStrokeWidthWithMb(mbLayerId,mbMap){mbMap.setPaintProperty(mbLayerId,"circle-stroke-width",this._options.size)}},{key:"syncCircleRadiusWithMb",value:function syncCircleRadiusWithMb(mbLayerId,mbMap){mbMap.setPaintProperty(mbLayerId,"circle-radius",this._options.size)}},{key:"syncLineWidthWithMb",value:function syncLineWidthWithMb(mbLayerId,mbMap){mbMap.setPaintProperty(mbLayerId,"line-width",this._options.size)}},{key:"syncLabelSizeWithMb",value:function syncLabelSizeWithMb(mbLayerId,mbMap){mbMap.setLayoutProperty(mbLayerId,"text-size",this._options.size)}}]);return StaticSizeProperty}(_static_style_property.StaticStyleProperty);exports.StaticSizeProperty=StaticSizeProperty},1987:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StaticColorProperty=void 0;var _static_style_property=__webpack_require__(329);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var StaticColorProperty=function(_StaticStyleProperty){_inherits(StaticColorProperty,_StaticStyleProperty);function StaticColorProperty(){_classCallCheck(this,StaticColorProperty);return _possibleConstructorReturn(this,_getPrototypeOf(StaticColorProperty).apply(this,arguments))}_createClass(StaticColorProperty,[{key:"syncCircleColorWithMb",value:function syncCircleColorWithMb(mbLayerId,mbMap,alpha){mbMap.setPaintProperty(mbLayerId,"circle-color",this._options.color);mbMap.setPaintProperty(mbLayerId,"circle-opacity",alpha)}},{key:"syncFillColorWithMb",value:function syncFillColorWithMb(mbLayerId,mbMap,alpha){mbMap.setPaintProperty(mbLayerId,"fill-color",this._options.color);mbMap.setPaintProperty(mbLayerId,"fill-opacity",alpha)}},{key:"syncIconColorWithMb",value:function syncIconColorWithMb(mbLayerId,mbMap){mbMap.setPaintProperty(mbLayerId,"icon-color",this._options.color)}},{key:"syncHaloBorderColorWithMb",value:function syncHaloBorderColorWithMb(mbLayerId,mbMap){mbMap.setPaintProperty(mbLayerId,"icon-halo-color",this._options.color)}},{key:"syncLineColorWithMb",value:function syncLineColorWithMb(mbLayerId,mbMap,alpha){mbMap.setPaintProperty(mbLayerId,"line-color",this._options.color);mbMap.setPaintProperty(mbLayerId,"line-opacity",alpha)}},{key:"syncCircleStrokeWithMb",value:function syncCircleStrokeWithMb(mbLayerId,mbMap,alpha){mbMap.setPaintProperty(mbLayerId,"circle-stroke-color",this._options.color);mbMap.setPaintProperty(mbLayerId,"circle-stroke-opacity",alpha)}},{key:"syncLabelColorWithMb",value:function syncLabelColorWithMb(mbLayerId,mbMap,alpha){mbMap.setPaintProperty(mbLayerId,"text-color",this._options.color);mbMap.setPaintProperty(mbLayerId,"text-opacity",alpha)}},{key:"syncLabelBorderColorWithMb",value:function syncLabelBorderColorWithMb(mbLayerId,mbMap){mbMap.setPaintProperty(mbLayerId,"text-halo-color",this._options.color)}}]);return StaticColorProperty}(_static_style_property.StaticStyleProperty);exports.StaticColorProperty=StaticColorProperty},1988:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DynamicColorProperty=void 0;var _dynamic_style_property=__webpack_require__(274);var _lodash=_interopRequireDefault(__webpack_require__(3));var _style_util=__webpack_require__(328);var _color_utils=__webpack_require__(201);var _color_gradient=__webpack_require__(511);var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _vector_icon=__webpack_require__(1008);var _vector_style_defaults=__webpack_require__(147);var _constants=__webpack_require__(25);var _color_stops_utils=__webpack_require__(513);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var EMPTY_STOPS={stops:[],defaultColor:null};var DynamicColorProperty=function(_DynamicStyleProperty){_inherits(DynamicColorProperty,_DynamicStyleProperty);function DynamicColorProperty(){_classCallCheck(this,DynamicColorProperty);return _possibleConstructorReturn(this,_getPrototypeOf(DynamicColorProperty).apply(this,arguments))}_createClass(DynamicColorProperty,[{key:"syncCircleColorWithMb",value:function syncCircleColorWithMb(mbLayerId,mbMap,alpha){var color=this._getMbColor();mbMap.setPaintProperty(mbLayerId,"circle-color",color);mbMap.setPaintProperty(mbLayerId,"circle-opacity",alpha)}},{key:"syncIconColorWithMb",value:function syncIconColorWithMb(mbLayerId,mbMap){var color=this._getMbColor();mbMap.setPaintProperty(mbLayerId,"icon-color",color)}},{key:"syncHaloBorderColorWithMb",value:function syncHaloBorderColorWithMb(mbLayerId,mbMap){var color=this._getMbColor();mbMap.setPaintProperty(mbLayerId,"icon-halo-color",color)}},{key:"syncCircleStrokeWithMb",value:function syncCircleStrokeWithMb(pointLayerId,mbMap,alpha){var color=this._getMbColor();mbMap.setPaintProperty(pointLayerId,"circle-stroke-color",color);mbMap.setPaintProperty(pointLayerId,"circle-stroke-opacity",alpha)}},{key:"syncFillColorWithMb",value:function syncFillColorWithMb(mbLayerId,mbMap,alpha){var color=this._getMbColor();mbMap.setPaintProperty(mbLayerId,"fill-color",color);mbMap.setPaintProperty(mbLayerId,"fill-opacity",alpha)}},{key:"syncLineColorWithMb",value:function syncLineColorWithMb(mbLayerId,mbMap,alpha){var color=this._getMbColor();mbMap.setPaintProperty(mbLayerId,"line-color",color);mbMap.setPaintProperty(mbLayerId,"line-opacity",alpha)}},{key:"syncLabelColorWithMb",value:function syncLabelColorWithMb(mbLayerId,mbMap,alpha){var color=this._getMbColor();mbMap.setPaintProperty(mbLayerId,"text-color",color);mbMap.setPaintProperty(mbLayerId,"text-opacity",alpha)}},{key:"syncLabelBorderColorWithMb",value:function syncLabelBorderColorWithMb(mbLayerId,mbMap){var color=this._getMbColor();mbMap.setPaintProperty(mbLayerId,"text-halo-color",color)}},{key:"isOrdinal",value:function isOrdinal(){return typeof this._options.type==="undefined"||this._options.type===_constants.COLOR_MAP_TYPE.ORDINAL}},{key:"isCategorical",value:function isCategorical(){return this._options.type===_constants.COLOR_MAP_TYPE.CATEGORICAL}},{key:"isCustomOrdinalColorRamp",value:function isCustomOrdinalColorRamp(){return this._options.useCustomColorRamp}},{key:"supportsFeatureState",value:function supportsFeatureState(){return true}},{key:"isOrdinalScaled",value:function isOrdinalScaled(){return this.isOrdinal()&&!this.isCustomOrdinalColorRamp()}},{key:"isOrdinalRanged",value:function isOrdinalRanged(){return this.isOrdinal()&&!this.isCustomOrdinalColorRamp()}},{key:"hasOrdinalBreaks",value:function hasOrdinalBreaks(){return this.isOrdinal()&&this.isCustomOrdinalColorRamp()||this.isCategorical()}},{key:"_getMbColor",value:function _getMbColor(){if(!_lodash.default.get(this._options,"field.name")){return null}return this.isCategorical()?this._getCategoricalColorMbExpression():this._getOrdinalColorMbExpression()}},{key:"_getOrdinalColorMbExpression",value:function _getOrdinalColorMbExpression(){var targetName=(0,_style_util.getComputedFieldName)(this._styleName,this._options.field.name);if(this._options.useCustomColorRamp){if(!this._options.customColorRamp||!this._options.customColorRamp.length){return null}var _colorStops=this._options.customColorRamp.reduce((function(accumulatedStops,nextStop){return[].concat(_toConsumableArray(accumulatedStops),[nextStop.stop,nextStop.color])}),[]);var firstStopValue=_colorStops[0];var lessThenFirstStopValue=firstStopValue-1;return["step",["coalesce",["feature-state",targetName],lessThenFirstStopValue],"rgba(0,0,0,0)"].concat(_toConsumableArray(_colorStops))}var colorStops=(0,_color_utils.getOrdinalColorRampStops)(this._options.color);if(!colorStops){return null}return["interpolate",["linear"],["coalesce",["feature-state",targetName],-1],-1,"rgba(0,0,0,0)"].concat(_toConsumableArray(colorStops))}},{key:"_getColorPaletteStops",value:function _getColorPaletteStops(){if(this._options.useCustomColorPalette&&this._options.customColorPalette){if((0,_color_stops_utils.isCategoricalStopsInvalid)(this._options.customColorPalette)){return EMPTY_STOPS}var _stops=[];for(var i=1;i<this._options.customColorPalette.length;i++){var config=this._options.customColorPalette[i];_stops.push({stop:config.stop,color:config.color})}return{defaultColor:this._options.customColorPalette[0].color,stops:_stops}}var fieldMeta=this.getFieldMeta();if(!fieldMeta||!fieldMeta.categories){return EMPTY_STOPS}var colors=(0,_color_utils.getColorPalette)(this._options.colorCategory);if(!colors){return EMPTY_STOPS}var maxLength=Math.min(colors.length,fieldMeta.categories.length+1);var stops=[];for(var _i=0;_i<maxLength-1;_i++){stops.push({stop:fieldMeta.categories[_i].key,color:colors[_i]})}return{stops:stops,defaultColor:colors[maxLength-1]}}},{key:"_getCategoricalColorMbExpression",value:function _getCategoricalColorMbExpression(){if(this._options.useCustomColorPalette&&(!this._options.customColorPalette||!this._options.customColorPalette.length)){return null}var _this$_getColorPalett=this._getColorPaletteStops(),stops=_this$_getColorPalett.stops,defaultColor=_this$_getColorPalett.defaultColor;if(stops.length<1){return null}if(!defaultColor){return null}var mbStops=[];for(var i=0;i<stops.length;i++){var stop=stops[i];var branch="".concat(stop.stop);if(typeof branch==="string"){mbStops.push(branch);mbStops.push(stop.color)}}mbStops.push(defaultColor);return["match",["to-string",["get",this._options.field.name]]].concat(mbStops)}},{key:"renderRangeLegendHeader",value:function renderRangeLegendHeader(){if(this._options.color){return _react.default.createElement(_color_gradient.ColorGradient,{colorRampName:this._options.color})}else{return null}}},{key:"_renderStopIcon",value:function _renderStopIcon(color,isLinesOnly,isPointsOnly,symbolId){if(this.getStyleName()===_vector_style_defaults.VECTOR_STYLES.LABEL_COLOR){var style={color:color};return _react.default.createElement(_eui.EuiText,{size:"xs",style:style},"Tx")}var fillColor=this.getStyleName()===_vector_style_defaults.VECTOR_STYLES.FILL_COLOR?color:"none";return _react.default.createElement(_vector_icon.VectorIcon,{fillColor:fillColor,isPointsOnly:isPointsOnly,isLinesOnly:isLinesOnly,strokeColor:color,symbolId:symbolId})}},{key:"_getColorRampStops",value:function _getColorRampStops(){return this._options.useCustomColorRamp&&this._options.customColorRamp?this._options.customColorRamp:[]}},{key:"_getColorStops",value:function _getColorStops(){if(this.isOrdinal()){return{stops:this._getColorRampStops(),defaultColor:null}}else if(this.isCategorical()){return this._getColorPaletteStops()}else{return EMPTY_STOPS}}},{key:"_renderColorbreaks",value:function _renderColorbreaks(_ref){var _this=this;var isLinesOnly=_ref.isLinesOnly,isPointsOnly=_ref.isPointsOnly,symbolId=_ref.symbolId;var _this$_getColorStops=this._getColorStops(),stops=_this$_getColorStops.stops,defaultColor=_this$_getColorStops.defaultColor;var colorAndLabels=stops.map((function(config){return{label:_this.formatField(config.stop),color:config.color}}));if(defaultColor){colorAndLabels.push({label:_react.default.createElement(_eui.EuiTextColor,{color:"secondary"},(0,_color_stops_utils.getOtherCategoryLabel)()),color:defaultColor})}return colorAndLabels.map((function(config,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_eui.EuiFlexGroup,{direction:"row",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiText,{size:"xs"},config.label)),_react.default.createElement(_eui.EuiFlexItem,null,_this._renderStopIcon(config.color,isLinesOnly,isPointsOnly,symbolId))))}))}},{key:"renderBreakedLegend",value:function renderBreakedLegend(_ref2){var fieldLabel=_ref2.fieldLabel,isPointsOnly=_ref2.isPointsOnly,isLinesOnly=_ref2.isLinesOnly,symbolId=_ref2.symbolId;return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"none"},this._renderColorbreaks({isPointsOnly:isPointsOnly,isLinesOnly:isLinesOnly,symbolId:symbolId})),_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs",justifyContent:"spaceAround"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{position:"top",title:this.getDisplayStyleName(),content:fieldLabel},_react.default.createElement(_eui.EuiText,{className:"eui-textTruncate",size:"xs",style:{maxWidth:"180px"}},_react.default.createElement("small",null,_react.default.createElement("strong",null,fieldLabel)))))))}}]);return DynamicColorProperty}(_dynamic_style_property.DynamicStyleProperty);exports.DynamicColorProperty=DynamicColorProperty},1989:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StaticOrientationProperty=void 0;var _static_style_property=__webpack_require__(329);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var StaticOrientationProperty=function(_StaticStyleProperty){_inherits(StaticOrientationProperty,_StaticStyleProperty);function StaticOrientationProperty(options,styleName){var _this;_classCallCheck(this,StaticOrientationProperty);if(typeof options.orientation!=="number"){_this=_possibleConstructorReturn(this,_getPrototypeOf(StaticOrientationProperty).call(this,{orientation:0},styleName))}else{_this=_possibleConstructorReturn(this,_getPrototypeOf(StaticOrientationProperty).call(this,options,styleName))}return _possibleConstructorReturn(_this)}_createClass(StaticOrientationProperty,[{key:"syncIconRotationWithMb",value:function syncIconRotationWithMb(symbolLayerId,mbMap){mbMap.setLayoutProperty(symbolLayerId,"icon-rotate",this._options.orientation)}}]);return StaticOrientationProperty}(_static_style_property.StaticStyleProperty);exports.StaticOrientationProperty=StaticOrientationProperty},1990:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DynamicOrientationProperty=void 0;var _dynamic_style_property=__webpack_require__(274);var _style_util=__webpack_require__(328);var _vector_style_defaults=__webpack_require__(147);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var DynamicOrientationProperty=function(_DynamicStyleProperty){_inherits(DynamicOrientationProperty,_DynamicStyleProperty);function DynamicOrientationProperty(){_classCallCheck(this,DynamicOrientationProperty);return _possibleConstructorReturn(this,_getPrototypeOf(DynamicOrientationProperty).apply(this,arguments))}_createClass(DynamicOrientationProperty,[{key:"syncIconRotationWithMb",value:function syncIconRotationWithMb(symbolLayerId,mbMap){if(this._options.field&&this._options.field.name){var targetName=(0,_style_util.getComputedFieldName)(_vector_style_defaults.VECTOR_STYLES.ICON_ORIENTATION,this._options.field.name);mbMap.setLayoutProperty(symbolLayerId,"icon-rotate",["coalesce",["get",targetName],0])}else{mbMap.setLayoutProperty(symbolLayerId,"icon-rotate",0)}}},{key:"supportsFeatureState",value:function supportsFeatureState(){return false}},{key:"isOrdinalScaled",value:function isOrdinalScaled(){return false}}]);return DynamicOrientationProperty}(_dynamic_style_property.DynamicStyleProperty);exports.DynamicOrientationProperty=DynamicOrientationProperty},1991:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StaticTextProperty=void 0;var _static_style_property=__webpack_require__(329);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var StaticTextProperty=function(_StaticStyleProperty){_inherits(StaticTextProperty,_StaticStyleProperty);function StaticTextProperty(){_classCallCheck(this,StaticTextProperty);return _possibleConstructorReturn(this,_getPrototypeOf(StaticTextProperty).apply(this,arguments))}_createClass(StaticTextProperty,[{key:"isComplete",value:function isComplete(){return this.getOptions().value.length>0}},{key:"syncTextFieldWithMb",value:function syncTextFieldWithMb(mbLayerId,mbMap){if(this.getOptions().value.length){mbMap.setLayoutProperty(mbLayerId,"text-field",this.getOptions().value)}else{mbMap.setLayoutProperty(mbLayerId,"text-field",null)}}}]);return StaticTextProperty}(_static_style_property.StaticStyleProperty);exports.StaticTextProperty=StaticTextProperty},1992:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DynamicTextProperty=void 0;var _dynamic_style_property=__webpack_require__(274);var _style_util=__webpack_require__(328);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var DynamicTextProperty=function(_DynamicStyleProperty){_inherits(DynamicTextProperty,_DynamicStyleProperty);function DynamicTextProperty(){_classCallCheck(this,DynamicTextProperty);return _possibleConstructorReturn(this,_getPrototypeOf(DynamicTextProperty).apply(this,arguments))}_createClass(DynamicTextProperty,[{key:"syncTextFieldWithMb",value:function syncTextFieldWithMb(mbLayerId,mbMap){if(this._field&&this._field.isValid()){var targetName=(0,_style_util.getComputedFieldName)(this._styleName,this._options.field.name);mbMap.setLayoutProperty(mbLayerId,"text-field",["coalesce",["get",targetName],""])}else{mbMap.setLayoutProperty(mbLayerId,"text-field",null)}}},{key:"isOrdinal",value:function isOrdinal(){return false}},{key:"supportsFieldMeta",value:function supportsFieldMeta(){return false}},{key:"supportsFeatureState",value:function supportsFeatureState(){return false}},{key:"isOrdinalScaled",value:function isOrdinalScaled(){return false}}]);return DynamicTextProperty}(_dynamic_style_property.DynamicStyleProperty);exports.DynamicTextProperty=DynamicTextProperty},1993:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LabelBorderSizeProperty=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _style_property=__webpack_require__(682);var _vector_style_defaults=__webpack_require__(147);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var SMALL_SIZE=1/16;var MEDIUM_SIZE=1/8;var LARGE_SIZE=1/5;function getWidthRatio(size){switch(size){case _vector_style_defaults.LABEL_BORDER_SIZES.LARGE:return LARGE_SIZE;case _vector_style_defaults.LABEL_BORDER_SIZES.MEDIUM:return MEDIUM_SIZE;default:return SMALL_SIZE}}var LabelBorderSizeProperty=function(_AbstractStylePropert){_inherits(LabelBorderSizeProperty,_AbstractStylePropert);function LabelBorderSizeProperty(options,styleName,labelSizeProperty){var _this;_classCallCheck(this,LabelBorderSizeProperty);_this=_possibleConstructorReturn(this,_getPrototypeOf(LabelBorderSizeProperty).call(this,options,styleName));_this._labelSizeProperty=labelSizeProperty;return _this}_createClass(LabelBorderSizeProperty,[{key:"syncLabelBorderSizeWithMb",value:function syncLabelBorderSizeWithMb(mbLayerId,mbMap){var widthRatio=getWidthRatio(this.getOptions().size);if(this.getOptions().size===_vector_style_defaults.LABEL_BORDER_SIZES.NONE){mbMap.setPaintProperty(mbLayerId,"text-halo-width",0)}else if(this._labelSizeProperty.isDynamic()&&this._labelSizeProperty.isComplete()){var labelSizeExpression=this._labelSizeProperty.getMbSizeExpression();mbMap.setPaintProperty(mbLayerId,"text-halo-width",["max",["*",labelSizeExpression,widthRatio],1])}else{var labelSize=_lodash.default.get(this._labelSizeProperty.getOptions(),"size",_vector_style_defaults.DEFAULT_LABEL_SIZE);var labelBorderSize=Math.max(labelSize*widthRatio,1);mbMap.setPaintProperty(mbLayerId,"text-halo-width",labelBorderSize)}}}]);return LabelBorderSizeProperty}(_style_property.AbstractStyleProperty);exports.LabelBorderSizeProperty=LabelBorderSizeProperty},1994:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractColorFromStyleProperty=extractColorFromStyleProperty;var _vector_style=__webpack_require__(249);var _color_utils=__webpack_require__(201);var _constants=__webpack_require__(25);function extractColorFromStyleProperty(colorStyleProperty,defaultColor){if(!colorStyleProperty){return defaultColor}if(colorStyleProperty.type===_vector_style.VectorStyle.STYLE_TYPE.STATIC){return colorStyleProperty.options.color}if(!colorStyleProperty.options.field||!colorStyleProperty.options.field.name){return defaultColor}if(colorStyleProperty.options.type===_constants.COLOR_MAP_TYPE.CATEGORICAL){if(colorStyleProperty.options.useCustomColorPalette){return colorStyleProperty.options.customColorPalette&&colorStyleProperty.options.customColorPalette.length?colorStyleProperty.options.customColorPalette[0].colorCategory:defaultColor}if(!colorStyleProperty.options.colorCategory){return null}var palette=(0,_color_utils.getColorPalette)(colorStyleProperty.options.colorCategory);return palette[0]}else{if(colorStyleProperty.options.useCustomColorRamp){if(!colorStyleProperty.options.customColorRamp||!colorStyleProperty.options.customColorRamp.length){return defaultColor}var middleIndex=Math.floor((colorStyleProperty.options.customColorRamp.length-1)/2);return colorStyleProperty.options.customColorRamp[middleIndex].color}if(!colorStyleProperty.options.color){return null}return(0,_color_utils.getColorRampCenterColor)(colorStyleProperty.options.color)}}},1995:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InnerJoin=void 0;var _es_term_source=__webpack_require__(1996);var _style_util=__webpack_require__(328);var _constants=__webpack_require__(25);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var InnerJoin=function(){function InnerJoin(joinDescriptor,leftSource){_classCallCheck(this,InnerJoin);this._descriptor=joinDescriptor;var inspectorAdapters=leftSource.getInspectorAdapters();this._rightSource=new _es_term_source.ESTermSource(joinDescriptor.right,inspectorAdapters);this._leftField=this._descriptor.leftField?leftSource.createField({fieldName:joinDescriptor.leftField}):null}_createClass(InnerJoin,[{key:"destroy",value:function destroy(){this._rightSource.destroy()}},{key:"hasCompleteConfig",value:function hasCompleteConfig(){if(this._leftField&&this._rightSource){return this._rightSource.hasCompleteConfig()}return false}},{key:"getJoinFields",value:function getJoinFields(){return this._rightSource.getMetricFields()}},{key:"getSourceDataRequestId",value:function getSourceDataRequestId(){return"join_source_".concat(this._rightSource.getId())}},{key:"getSourceMetaDataRequestId",value:function getSourceMetaDataRequestId(){return"".concat(this.getSourceDataRequestId(),"_").concat(_constants.META_ID_ORIGIN_SUFFIX)}},{key:"getSourceFormattersDataRequestId",value:function getSourceFormattersDataRequestId(){return"".concat(this.getSourceDataRequestId(),"_").concat(_constants.FORMATTERS_ID_ORIGIN_SUFFIX)}},{key:"getLeftField",value:function getLeftField(){return this._leftField}},{key:"joinPropertiesToFeature",value:function joinPropertiesToFeature(feature,propertiesMap){var rightMetricFields=this._rightSource.getMetricFields();var _loop=function _loop(j){var metricPropertyKey=rightMetricFields[j].getName();delete feature.properties[metricPropertyKey];var stylePropertyPrefix=(0,_style_util.getComputedFieldNamePrefix)(metricPropertyKey);Object.keys(feature.properties).forEach((function(featurePropertyKey){if(featurePropertyKey.length>=stylePropertyPrefix.length&&featurePropertyKey.substring(0,stylePropertyPrefix.length)===stylePropertyPrefix){delete feature.properties[featurePropertyKey]}}))};for(var j=0;j<rightMetricFields.length;j++){_loop(j)}var joinKey=feature.properties[this._leftField.getName()];var coercedKey=typeof joinKey==="undefined"||joinKey===null?null:joinKey.toString();if(propertiesMap&&coercedKey!==null&&propertiesMap.has(coercedKey)){Object.assign(feature.properties,propertiesMap.get(coercedKey));return true}else{return false}}},{key:"getRightJoinSource",value:function getRightJoinSource(){return this._rightSource}},{key:"toDescriptor",value:function toDescriptor(){return this._descriptor}},{key:"filterAndFormatPropertiesForTooltip",value:function filterAndFormatPropertiesForTooltip(properties){return regeneratorRuntime.async((function filterAndFormatPropertiesForTooltip$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(this._rightSource.filterAndFormatPropertiesToHtml(properties));case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}}),null,this)}},{key:"getIndexPatternIds",value:function getIndexPatternIds(){return this._rightSource.getIndexPatternIds()}},{key:"getQueryableIndexPatternIds",value:function getQueryableIndexPatternIds(){return this._rightSource.getQueryableIndexPatternIds()}},{key:"getWhereQuery",value:function getWhereQuery(){return this._rightSource.getWhereQuery()}}]);return InnerJoin}();exports.InnerJoin=InnerJoin},1996:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractPropertiesMap=extractPropertiesMap;exports.ESTermSource=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _schemas=__webpack_require__(96);var _agg_types=__webpack_require__(204);var _i18n=__webpack_require__(2);var _constants=__webpack_require__(25);var _es_doc_field=__webpack_require__(515);var _es_agg_source=__webpack_require__(683);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectDestructuringEmpty(obj){if(obj==null)throw new TypeError("Cannot destructure undefined")}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TERMS_AGG_NAME="join";var FIELD_NAME_PREFIX="__kbnjoin__";var GROUP_BY_DELIMITER="_groupby_";var aggSchemas=new _schemas.Schemas([_es_agg_source.AbstractESAggSource.METRIC_SCHEMA_CONFIG,{group:"buckets",name:"segment",title:"Terms",aggFilter:"terms",min:1,max:1}]);function extractPropertiesMap(rawEsData,propertyNames,countPropertyName){var propertiesMap=new Map;_lodash.default.get(rawEsData,["aggregations",TERMS_AGG_NAME,"buckets"],[]).forEach((function(termBucket){var properties={};if(countPropertyName){properties[countPropertyName]=termBucket.doc_count}propertyNames.forEach((function(propertyName){if(_lodash.default.has(termBucket,[propertyName,"value"])){properties[propertyName]=_lodash.default.get(termBucket,[propertyName,"value"])}}));propertiesMap.set(termBucket.key.toString(),properties)}));return propertiesMap}var ESTermSource=function(_AbstractESAggSource){_inherits(ESTermSource,_AbstractESAggSource);function ESTermSource(descriptor,inspectorAdapters){var _this;_classCallCheck(this,ESTermSource);_this=_possibleConstructorReturn(this,_getPrototypeOf(ESTermSource).call(this,descriptor,inspectorAdapters));_this._termField=new _es_doc_field.ESDocField({fieldName:descriptor.term,source:_assertThisInitialized(_this),origin:_this.getOriginForField()});return _this}_createClass(ESTermSource,[{key:"hasCompleteConfig",value:function hasCompleteConfig(){return _lodash.default.has(this._descriptor,"indexPatternId")&&_lodash.default.has(this._descriptor,"term")}},{key:"getIndexPatternIds",value:function getIndexPatternIds(){return[this._descriptor.indexPatternId]}},{key:"getTermField",value:function getTermField(){return this._termField}},{key:"getOriginForField",value:function getOriginForField(){return _constants.FIELD_ORIGIN.JOIN}},{key:"getWhereQuery",value:function getWhereQuery(){return this._descriptor.whereQuery}},{key:"formatMetricKey",value:function formatMetricKey(aggType,fieldName){var metricKey=aggType!==_constants.METRIC_TYPE.COUNT?"".concat(aggType).concat(_es_agg_source.AGG_DELIMITER).concat(fieldName):aggType;return"".concat(FIELD_NAME_PREFIX).concat(metricKey).concat(GROUP_BY_DELIMITER).concat(this._descriptor.indexPatternTitle,".").concat(this._termField.getName())}},{key:"formatMetricLabel",value:function formatMetricLabel(type,fieldName){var metricLabel=type!==_constants.METRIC_TYPE.COUNT?"".concat(type," ").concat(fieldName):_constants.COUNT_PROP_LABEL;return"".concat(metricLabel," of ").concat(this._descriptor.indexPatternTitle,":").concat(this._termField.getName())}},{key:"getPropertiesMap",value:function getPropertiesMap(searchFilters,leftSourceName,leftFieldName,registerCancelCallback){var indexPattern,searchSource,configStates,aggConfigs,rawEsData,metricPropertyNames,countConfigState,countPropertyName;return regeneratorRuntime.async((function getPropertiesMap$(_context){while(1){switch(_context.prev=_context.next){case 0:if(this.hasCompleteConfig()){_context.next=2;break}return _context.abrupt("return",[]);case 2:_context.next=4;return regeneratorRuntime.awrap(this.getIndexPattern());case 4:indexPattern=_context.sent;_context.next=7;return regeneratorRuntime.awrap(this._makeSearchSource(searchFilters,0));case 7:searchSource=_context.sent;configStates=this._makeAggConfigs();aggConfigs=new _agg_types.AggConfigs(indexPattern,configStates,aggSchemas.all);searchSource.setField("aggs",aggConfigs.toDsl());_context.next=13;return regeneratorRuntime.awrap(this._runEsQuery({requestId:this.getId(),requestName:"".concat(this._descriptor.indexPatternTitle,".").concat(this._termField.getName()),searchSource:searchSource,registerCancelCallback:registerCancelCallback,requestDescription:this._getRequestDescription(leftSourceName,leftFieldName)}));case 13:rawEsData=_context.sent;metricPropertyNames=configStates.filter((function(configState){return configState.schema==="metric"&&configState.type!==_constants.METRIC_TYPE.COUNT})).map((function(configState){return configState.id}));countConfigState=configStates.find((function(configState){return configState.type===_constants.METRIC_TYPE.COUNT}));countPropertyName=_lodash.default.get(countConfigState,"id");return _context.abrupt("return",{propertiesMap:extractPropertiesMap(rawEsData,metricPropertyNames,countPropertyName)});case 18:case"end":return _context.stop()}}}),null,this)}},{key:"isFilterByMapBounds",value:function isFilterByMapBounds(){return false}},{key:"_getRequestDescription",value:function _getRequestDescription(leftSourceName,leftFieldName){var metrics=this.getMetricFields().map((function(esAggMetric){return esAggMetric.getRequestDescription()}));var joinStatement=[];joinStatement.push(_i18n.i18n.translate("xpack.maps.source.esJoin.joinLeftDescription",{defaultMessage:"Join {leftSourceName}:{leftFieldName} with",values:{leftSourceName:leftSourceName,leftFieldName:leftFieldName}}));joinStatement.push("".concat(this._descriptor.indexPatternTitle,":").concat(this._termField.getName()));joinStatement.push(_i18n.i18n.translate("xpack.maps.source.esJoin.joinMetricsDescription",{defaultMessage:"for metrics {metrics}",values:{metrics:metrics.join(",")}}));return _i18n.i18n.translate("xpack.maps.source.esJoin.joinDescription",{defaultMessage:"Elasticsearch terms aggregation request for {description}",values:{description:joinStatement.join(" ")}})}},{key:"_makeAggConfigs",value:function _makeAggConfigs(){var metricAggConfigs=this.createMetricAggConfigs();return[].concat(_toConsumableArray(metricAggConfigs),[{id:TERMS_AGG_NAME,enabled:true,type:"terms",schema:"segment",params:{field:this._termField.getName(),size:_constants.DEFAULT_MAX_BUCKETS_LIMIT}}])}},{key:"getDisplayName",value:function getDisplayName(){return regeneratorRuntime.async((function getDisplayName$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return","es_table ".concat(this._descriptor.indexPatternId));case 1:case"end":return _context2.stop()}}}),null,this)}},{key:"filterAndFormatPropertiesToHtml",value:function filterAndFormatPropertiesToHtml(properties){return regeneratorRuntime.async((function filterAndFormatPropertiesToHtml$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return regeneratorRuntime.awrap(this.filterAndFormatPropertiesToHtmlForMetricFields(properties));case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}}}),null,this)}},{key:"getFieldNames",value:function getFieldNames(){return this.getMetricFields().map((function(esAggMetricField){return esAggMetricField.getName()}))}}],[{key:"renderEditor",value:function renderEditor(_ref){_objectDestructuringEmpty(_ref);return"<div>editor details</div>"}}]);return ESTermSource}(_es_agg_source.AbstractESAggSource);exports.ESTermSource=ESTermSource;_defineProperty(ESTermSource,"type","ES_TERM_SOURCE")},1997:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ESAggMetricField=void 0;var _field=__webpack_require__(516);var _constants=__webpack_require__(25);var _is_metric_countable=__webpack_require__(1015);var _es_aggmetric_tooltip_property=__webpack_require__(1998);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ESAggMetricField=function(_AbstractField){_inherits(ESAggMetricField,_AbstractField);function ESAggMetricField(_ref){var _this;var label=_ref.label,source=_ref.source,aggType=_ref.aggType,esDocField=_ref.esDocField,origin=_ref.origin;_classCallCheck(this,ESAggMetricField);_this=_possibleConstructorReturn(this,_getPrototypeOf(ESAggMetricField).call(this,{source:source,origin:origin}));_this._label=label;_this._aggType=aggType;_this._esDocField=esDocField;return _this}_createClass(ESAggMetricField,[{key:"getName",value:function getName(){return this._source.formatMetricKey(this.getAggType(),this.getESDocFieldName())}},{key:"getLabel",value:function getLabel(){return regeneratorRuntime.async((function getLabel$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!this._label){_context.next=6;break}_context.next=3;return regeneratorRuntime.awrap(this._label);case 3:_context.t0=_context.sent;_context.next=7;break;case 6:_context.t0=this._source.formatMetricLabel(this.getAggType(),this.getESDocFieldName());case 7:return _context.abrupt("return",_context.t0);case 8:case"end":return _context.stop()}}}),null,this)}},{key:"getAggType",value:function getAggType(){return this._aggType}},{key:"isValid",value:function isValid(){return this.getAggType()===_constants.COUNT_AGG_TYPE?true:!!this._esDocField}},{key:"getDataType",value:function getDataType(){return regeneratorRuntime.async((function getDataType$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return","number");case 1:case"end":return _context2.stop()}}}))}},{key:"getESDocFieldName",value:function getESDocFieldName(){return this._esDocField?this._esDocField.getName():""}},{key:"getRequestDescription",value:function getRequestDescription(){return this.getAggType()!==_constants.COUNT_AGG_TYPE?"".concat(this.getAggType()," ").concat(this.getESDocFieldName()):_constants.COUNT_AGG_TYPE}},{key:"createTooltipProperty",value:function createTooltipProperty(value){var indexPattern;return regeneratorRuntime.async((function createTooltipProperty$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return regeneratorRuntime.awrap(this._source.getIndexPattern());case 2:indexPattern=_context3.sent;_context3.t0=_es_aggmetric_tooltip_property.ESAggMetricTooltipProperty;_context3.t1=this.getName();_context3.next=7;return regeneratorRuntime.awrap(this.getLabel());case 7:_context3.t2=_context3.sent;_context3.t3=value;_context3.t4=indexPattern;_context3.t5=this;return _context3.abrupt("return",new _context3.t0(_context3.t1,_context3.t2,_context3.t3,_context3.t4,_context3.t5));case 12:case"end":return _context3.stop()}}}),null,this)}},{key:"makeMetricAggConfig",value:function makeMetricAggConfig(){var metricAggConfig={id:this.getName(),enabled:true,type:this.getAggType(),schema:"metric",params:{}};if(this.getAggType()!==_constants.COUNT_AGG_TYPE){metricAggConfig.params={field:this.getESDocFieldName()}}return metricAggConfig}},{key:"supportsFieldMeta",value:function supportsFieldMeta(){return!(0,_is_metric_countable.isMetricCountable)(this.getAggType())}},{key:"getOrdinalFieldMetaRequest",value:function getOrdinalFieldMetaRequest(config){return regeneratorRuntime.async((function getOrdinalFieldMetaRequest$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",this._esDocField.getOrdinalFieldMetaRequest(config));case 1:case"end":return _context4.stop()}}}),null,this)}}]);return ESAggMetricField}(_field.AbstractField);exports.ESAggMetricField=ESAggMetricField;_defineProperty(ESAggMetricField,"type","ES_AGG")},1998:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ESAggMetricTooltipProperty=void 0;var _es_tooltip_property=__webpack_require__(1011);var _constants=__webpack_require__(25);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ESAggMetricTooltipProperty=function(_ESTooltipProperty){_inherits(ESAggMetricTooltipProperty,_ESTooltipProperty);function ESAggMetricTooltipProperty(propertyKey,propertyName,rawValue,indexPattern,metricField){var _this;_classCallCheck(this,ESAggMetricTooltipProperty);_this=_possibleConstructorReturn(this,_getPrototypeOf(ESAggMetricTooltipProperty).call(this,propertyKey,propertyName,rawValue,indexPattern));_this._metricField=metricField;return _this}_createClass(ESAggMetricTooltipProperty,[{key:"isFilterable",value:function isFilterable(){return false}},{key:"getHtmlDisplayValue",value:function getHtmlDisplayValue(){if(typeof this._rawValue==="undefined"){return"-"}if(this._metricField.getAggType()===_constants.METRIC_TYPE.COUNT||this._metricField.getAggType()===_constants.METRIC_TYPE.UNIQUE_COUNT){return this._rawValue}var indexPatternField=this._indexPattern.fields.getByName(this._metricField.getESDocFieldName());if(!indexPatternField){return this._rawValue}var htmlConverter=indexPatternField.format.getConverterFor("html");return htmlConverter?htmlConverter(this._rawValue):indexPatternField.format.convert(this._rawValue)}}]);return ESAggMetricTooltipProperty}(_es_tooltip_property.ESTooltipProperty);exports.ESAggMetricTooltipProperty=ESAggMetricTooltipProperty},1999:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JoinTooltipProperty=void 0;var _tooltip_property=__webpack_require__(406);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var JoinTooltipProperty=function(_TooltipProperty){_inherits(JoinTooltipProperty,_TooltipProperty);function JoinTooltipProperty(tooltipProperty,leftInnerJoins){var _this;_classCallCheck(this,JoinTooltipProperty);_this=_possibleConstructorReturn(this,_getPrototypeOf(JoinTooltipProperty).call(this));_this._tooltipProperty=tooltipProperty;_this._leftInnerJoins=leftInnerJoins;return _this}_createClass(JoinTooltipProperty,[{key:"isFilterable",value:function isFilterable(){return true}},{key:"getPropertyKey",value:function getPropertyKey(){return this._tooltipProperty.getPropertyKey()}},{key:"getPropertyName",value:function getPropertyName(){return this._tooltipProperty.getPropertyName()}},{key:"getHtmlDisplayValue",value:function getHtmlDisplayValue(){return this._tooltipProperty.getHtmlDisplayValue()}},{key:"getESFilters",value:function getESFilters(){var esFilters,i,rightSource,termField,esTooltipProperty;return regeneratorRuntime.async((function getESFilters$(_context){while(1){switch(_context.prev=_context.next){case 0:esFilters=[];if(!this._tooltipProperty.isFilterable()){_context.next=10;break}_context.t0=esFilters.push;_context.t1=esFilters;_context.t2=_toConsumableArray;_context.next=7;return regeneratorRuntime.awrap(this._tooltipProperty.getESFilters());case 7:_context.t3=_context.sent;_context.t4=(0,_context.t2)(_context.t3);_context.t0.apply.call(_context.t0,_context.t1,_context.t4);case 10:i=0;case 11:if(!(i<this._leftInnerJoins.length)){_context.next=35;break}rightSource=this._leftInnerJoins[i].getRightJoinSource();termField=rightSource.getTermField();_context.prev=14;_context.next=17;return regeneratorRuntime.awrap(termField.createTooltipProperty(this._tooltipProperty.getRawValue()));case 17:esTooltipProperty=_context.sent;if(!esTooltipProperty){_context.next=27;break}_context.t5=esFilters.push;_context.t6=esFilters;_context.t7=_toConsumableArray;_context.next=24;return regeneratorRuntime.awrap(esTooltipProperty.getESFilters());case 24:_context.t8=_context.sent;_context.t9=(0,_context.t7)(_context.t8);_context.t5.apply.call(_context.t5,_context.t6,_context.t9);case 27:_context.next=32;break;case 29:_context.prev=29;_context.t10=_context["catch"](14);console.error("Cannot create joined filter",_context.t10);case 32:i++;_context.next=11;break;case 35:return _context.abrupt("return",esFilters);case 36:case"end":return _context.stop()}}}),null,this,[[14,29]])}}]);return JoinTooltipProperty}(_tooltip_property.TooltipProperty);exports.JoinTooltipProperty=JoinTooltipProperty},2e3:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateDueToExtent=updateDueToExtent;exports.canSkipSourceUpdate=canSkipSourceUpdate;exports.canSkipStyleMetaUpdate=canSkipStyleMetaUpdate;exports.canSkipFormattersUpdate=canSkipFormattersUpdate;var _lodash=_interopRequireDefault(__webpack_require__(3));var _turf=_interopRequireDefault(__webpack_require__(697));var _booleanContains=_interopRequireDefault(__webpack_require__(1065));var _is_refresh_only_query=__webpack_require__(2001);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SOURCE_UPDATE_REQUIRED=true;var NO_SOURCE_UPDATE_REQUIRED=false;function updateDueToExtent(source){var prevMeta=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var nextMeta=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var extentAware=source.isFilterByMapBounds();if(!extentAware){return NO_SOURCE_UPDATE_REQUIRED}var previousBuffer=prevMeta.buffer;var newBuffer=nextMeta.buffer;if(!previousBuffer){return SOURCE_UPDATE_REQUIRED}if(_lodash.default.isEqual(previousBuffer,newBuffer)){return NO_SOURCE_UPDATE_REQUIRED}var previousBufferGeometry=_turf.default.bboxPolygon([previousBuffer.minLon,previousBuffer.minLat,previousBuffer.maxLon,previousBuffer.maxLat]);var newBufferGeometry=_turf.default.bboxPolygon([newBuffer.minLon,newBuffer.minLat,newBuffer.maxLon,newBuffer.maxLat]);var doesPreviousBufferContainNewBuffer=(0,_booleanContains.default)(previousBufferGeometry,newBufferGeometry);var isTrimmed=_lodash.default.get(prevMeta,"areResultsTrimmed",false);return doesPreviousBufferContainNewBuffer&&!isTrimmed?NO_SOURCE_UPDATE_REQUIRED:SOURCE_UPDATE_REQUIRED}function canSkipSourceUpdate(_ref){var source,prevDataRequest,nextMeta,timeAware,refreshTimerAware,extentAware,isFieldAware,isQueryAware,isGeoGridPrecisionAware,prevMeta,updateDueToTime,updateDueToRefreshTimer,updateDueToFields,updateDueToQuery,updateDueToFilters,updateDueToSourceQuery,updateDueToApplyGlobalQuery,updateDueToPrecisionChange,updateDueToExtentChange,updateDueToSourceMetaChange;return regeneratorRuntime.async((function canSkipSourceUpdate$(_context){while(1){switch(_context.prev=_context.next){case 0:source=_ref.source,prevDataRequest=_ref.prevDataRequest,nextMeta=_ref.nextMeta;_context.next=3;return regeneratorRuntime.awrap(source.isTimeAware());case 3:timeAware=_context.sent;_context.next=6;return regeneratorRuntime.awrap(source.isRefreshTimerAware());case 6:refreshTimerAware=_context.sent;extentAware=source.isFilterByMapBounds();isFieldAware=source.isFieldAware();isQueryAware=source.isQueryAware();isGeoGridPrecisionAware=source.isGeoGridPrecisionAware();if(!(!timeAware&&!refreshTimerAware&&!extentAware&&!isFieldAware&&!isQueryAware&&!isGeoGridPrecisionAware)){_context.next=13;break}return _context.abrupt("return",prevDataRequest&&prevDataRequest.hasDataOrRequestInProgress());case 13:if(prevDataRequest){_context.next=15;break}return _context.abrupt("return",false);case 15:prevMeta=prevDataRequest.getMeta();if(prevMeta){_context.next=18;break}return _context.abrupt("return",false);case 18:updateDueToTime=false;if(timeAware){updateDueToTime=!_lodash.default.isEqual(prevMeta.timeFilters,nextMeta.timeFilters)}updateDueToRefreshTimer=false;if(refreshTimerAware&&nextMeta.refreshTimerLastTriggeredAt){updateDueToRefreshTimer=!_lodash.default.isEqual(prevMeta.refreshTimerLastTriggeredAt,nextMeta.refreshTimerLastTriggeredAt)}updateDueToFields=false;if(isFieldAware){updateDueToFields=!_lodash.default.isEqual(prevMeta.fieldNames,nextMeta.fieldNames)}updateDueToQuery=false;updateDueToFilters=false;updateDueToSourceQuery=false;updateDueToApplyGlobalQuery=false;if(isQueryAware){updateDueToApplyGlobalQuery=prevMeta.applyGlobalQuery!==nextMeta.applyGlobalQuery;updateDueToSourceQuery=!_lodash.default.isEqual(prevMeta.sourceQuery,nextMeta.sourceQuery);if(nextMeta.applyGlobalQuery){updateDueToQuery=!_lodash.default.isEqual(prevMeta.query,nextMeta.query);updateDueToFilters=!_lodash.default.isEqual(prevMeta.filters,nextMeta.filters)}else{updateDueToQuery=(0,_is_refresh_only_query.isRefreshOnlyQuery)(prevMeta.query,nextMeta.query)}}updateDueToPrecisionChange=false;if(isGeoGridPrecisionAware){updateDueToPrecisionChange=!_lodash.default.isEqual(prevMeta.geogridPrecision,nextMeta.geogridPrecision)}updateDueToExtentChange=updateDueToExtent(source,prevMeta,nextMeta);updateDueToSourceMetaChange=!_lodash.default.isEqual(prevMeta.sourceMeta,nextMeta.sourceMeta);return _context.abrupt("return",!updateDueToTime&&!updateDueToRefreshTimer&&!updateDueToExtentChange&&!updateDueToFields&&!updateDueToQuery&&!updateDueToFilters&&!updateDueToSourceQuery&&!updateDueToApplyGlobalQuery&&!updateDueToPrecisionChange&&!updateDueToSourceMetaChange);case 34:case"end":return _context.stop()}}}))}function canSkipStyleMetaUpdate(_ref2){var prevDataRequest=_ref2.prevDataRequest,nextMeta=_ref2.nextMeta;if(!prevDataRequest){return false}var prevMeta=prevDataRequest.getMeta();if(!prevMeta){return false}var updateDueToFields=!_lodash.default.isEqual(prevMeta.dynamicStyleFields,nextMeta.dynamicStyleFields);var updateDueToSourceQuery=!_lodash.default.isEqual(prevMeta.sourceQuery,nextMeta.sourceQuery);var updateDueToIsTimeAware=nextMeta.isTimeAware!==prevMeta.isTimeAware;var updateDueToTime=nextMeta.isTimeAware?!_lodash.default.isEqual(prevMeta.timeFilters,nextMeta.timeFilters):false;return!updateDueToFields&&!updateDueToSourceQuery&&!updateDueToIsTimeAware&&!updateDueToTime}function canSkipFormattersUpdate(_ref3){var prevDataRequest=_ref3.prevDataRequest,nextMeta=_ref3.nextMeta;if(!prevDataRequest){return false}var prevMeta=prevDataRequest.getMeta();if(!prevMeta){return false}return _lodash.default.isEqual(prevMeta.fieldNames,nextMeta.fieldNames)}},2001:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isRefreshOnlyQuery=isRefreshOnlyQuery;function isRefreshOnlyQuery(prevQuery,newQuery){if(!prevQuery||!newQuery){return false}return prevQuery.queryLastTriggeredAt!==newQuery.queryLastTriggeredAt&&prevQuery.language===newQuery.language&&prevQuery.query===newQuery.query}},2002:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.assignFeatureIds=assignFeatureIds;var _lodash=_interopRequireDefault(__webpack_require__(3));var _constants=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var idCounter=0;function generateNumericalId(){var newId=idCounter<Number.MAX_SAFE_INTEGER?idCounter:0;idCounter=newId+1;return newId}function assignFeatureIds(featureCollection){var ids=[];for(var i=0;i<featureCollection.features.length;i++){var id=generateNumericalId();ids.push(id)}var randomizedIds=_lodash.default.shuffle(ids);var features=[];for(var _i=0;_i<featureCollection.features.length;_i++){var numericId=randomizedIds[_i];var feature=featureCollection.features[_i];features.push({type:"Feature",geometry:feature.geometry,properties:_objectSpread(_defineProperty({},_constants.FEATURE_ID_PROPERTY_NAME,feature.id==null?numericId:feature.id),feature.properties),id:numericId})}return{type:"FeatureCollection",features:features}}},2003:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getFillFilterExpression=getFillFilterExpression;exports.getLineFilterExpression=getLineFilterExpression;exports.getPointFilterExpression=getPointFilterExpression;var _constants=__webpack_require__(25);var VISIBILITY_FILTER_CLAUSE=["all",["==",["get",_constants.FEATURE_VISIBLE_PROPERTY_NAME],true]];var CLOSED_SHAPE_MB_FILTER=["any",["==",["geometry-type"],_constants.GEO_JSON_TYPE.POLYGON],["==",["geometry-type"],_constants.GEO_JSON_TYPE.MULTI_POLYGON]];var VISIBLE_CLOSED_SHAPE_MB_FILTER=[].concat(VISIBILITY_FILTER_CLAUSE,[CLOSED_SHAPE_MB_FILTER]);var ALL_SHAPE_MB_FILTER=["any",["==",["geometry-type"],_constants.GEO_JSON_TYPE.POLYGON],["==",["geometry-type"],_constants.GEO_JSON_TYPE.MULTI_POLYGON],["==",["geometry-type"],_constants.GEO_JSON_TYPE.LINE_STRING],["==",["geometry-type"],_constants.GEO_JSON_TYPE.MULTI_LINE_STRING]];var VISIBLE_ALL_SHAPE_MB_FILTER=[].concat(VISIBILITY_FILTER_CLAUSE,[ALL_SHAPE_MB_FILTER]);var POINT_MB_FILTER=["any",["==",["geometry-type"],_constants.GEO_JSON_TYPE.POINT],["==",["geometry-type"],_constants.GEO_JSON_TYPE.MULTI_POINT]];var VISIBLE_POINT_MB_FILTER=[].concat(VISIBILITY_FILTER_CLAUSE,[POINT_MB_FILTER]);function getFillFilterExpression(hasJoins){return hasJoins?VISIBLE_CLOSED_SHAPE_MB_FILTER:CLOSED_SHAPE_MB_FILTER}function getLineFilterExpression(hasJoins){return hasJoins?VISIBLE_ALL_SHAPE_MB_FILTER:ALL_SHAPE_MB_FILTER}function getPointFilterExpression(hasJoins){return hasJoins?VISIBLE_POINT_MB_FILTER:POINT_MB_FILTER}},2004:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HeatmapStyle=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _grid_resolution=__webpack_require__(684);var _abstract_style=__webpack_require__(1007);var _heatmap_style_editor=__webpack_require__(2005);var _heatmap_legend=__webpack_require__(2006);var _heatmap_constants=__webpack_require__(685);var _constants=__webpack_require__(25);var _color_utils=__webpack_require__(201);var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var HeatmapStyle=function(_AbstractStyle){_inherits(HeatmapStyle,_AbstractStyle);function HeatmapStyle(){var _this;var descriptor=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,HeatmapStyle);_this=_possibleConstructorReturn(this,_getPrototypeOf(HeatmapStyle).call(this));_this._descriptor=HeatmapStyle.createDescriptor(descriptor.colorRampName);return _this}_createClass(HeatmapStyle,[{key:"renderEditor",value:function renderEditor(_ref){var onStyleDescriptorChange=_ref.onStyleDescriptorChange;var onHeatmapColorChange=function onHeatmapColorChange(_ref2){var colorRampName=_ref2.colorRampName;var styleDescriptor=HeatmapStyle.createDescriptor(colorRampName);onStyleDescriptorChange(styleDescriptor)};return _react.default.createElement(_heatmap_style_editor.HeatmapStyleEditor,{colorRampName:this._descriptor.colorRampName,onHeatmapColorChange:onHeatmapColorChange})}},{key:"renderLegendDetails",value:function renderLegendDetails(field){return _react.default.createElement(_heatmap_legend.HeatmapLegend,{colorRampName:this._descriptor.colorRampName,field:field})}},{key:"getIcon",value:function getIcon(){return _react.default.createElement(_eui.EuiIcon,{size:"m",type:"heatmap"})}},{key:"setMBPaintProperties",value:function setMBPaintProperties(_ref3){var mbMap=_ref3.mbMap,layerId=_ref3.layerId,propertyName=_ref3.propertyName,resolution=_ref3.resolution;var radius;if(resolution===_grid_resolution.GRID_RESOLUTION.COARSE){radius=128}else if(resolution===_grid_resolution.GRID_RESOLUTION.FINE){radius=64}else if(resolution===_grid_resolution.GRID_RESOLUTION.MOST_FINE){radius=32}else{var errorMessage=_i18n.i18n.translate("xpack.maps.style.heatmap.resolutionStyleErrorMessage",{defaultMessage:"Resolution param not recognized: {resolution}",values:{resolution:resolution}});throw new Error(errorMessage)}mbMap.setPaintProperty(layerId,"heatmap-radius",radius);mbMap.setPaintProperty(layerId,"heatmap-weight",{type:"identity",property:propertyName});var colorRampName=this._descriptor.colorRampName;if(colorRampName&&colorRampName!==_heatmap_constants.DEFAULT_HEATMAP_COLOR_RAMP_NAME){var colorStops=(0,_color_utils.getOrdinalColorRampStops)(colorRampName);mbMap.setPaintProperty(layerId,"heatmap-color",["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)"].concat(_toConsumableArray(colorStops.slice(2))))}else{mbMap.setPaintProperty(layerId,"heatmap-color",["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"])}}}],[{key:"createDescriptor",value:function createDescriptor(colorRampName){return{type:HeatmapStyle.type,colorRampName:colorRampName?colorRampName:_heatmap_constants.DEFAULT_HEATMAP_COLOR_RAMP_NAME}}},{key:"getDisplayName",value:function getDisplayName(){return _i18n.i18n.translate("xpack.maps.style.heatmap.displayNameLabel",{defaultMessage:"Heatmap style"})}}]);return HeatmapStyle}(_abstract_style.AbstractStyle);exports.HeatmapStyle=HeatmapStyle;_defineProperty(HeatmapStyle,"type",_constants.LAYER_STYLE_TYPE.HEATMAP)},2005:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HeatmapStyleEditor=HeatmapStyleEditor;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _color_utils=__webpack_require__(201);var _color_gradient=__webpack_require__(511);var _heatmap_constants=__webpack_require__(685);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function HeatmapStyleEditor(_ref){var colorRampName=_ref.colorRampName,onHeatmapColorChange=_ref.onHeatmapColorChange;var onColorRampChange=function onColorRampChange(selectedColorRampName){onHeatmapColorChange({colorRampName:selectedColorRampName})};var colorRampOptions=[{value:_heatmap_constants.DEFAULT_HEATMAP_COLOR_RAMP_NAME,text:_heatmap_constants.DEFAULT_HEATMAP_COLOR_RAMP_NAME,inputDisplay:_react.default.createElement(_color_gradient.ColorGradient,{colorRamp:_heatmap_constants.DEFAULT_RGB_HEATMAP_COLOR_RAMP})}].concat(_toConsumableArray(_color_utils.COLOR_GRADIENTS));return _react.default.createElement(_eui.EuiFormRow,{label:_heatmap_constants.HEATMAP_COLOR_RAMP_LABEL,display:"rowCompressed"},_react.default.createElement(_eui.EuiSuperSelect,{options:colorRampOptions,onChange:onColorRampChange,valueOfSelected:colorRampName,hasDividers:true,compressed:true}))}},2006:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HeatmapLegend=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(2);var _color_gradient=__webpack_require__(511);var _ranged_style_legend_row=__webpack_require__(1010);var _heatmap_constants=__webpack_require__(685);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HeatmapLegend=function(_React$Component){_inherits(HeatmapLegend,_React$Component);function HeatmapLegend(){var _this;_classCallCheck(this,HeatmapLegend);_this=_possibleConstructorReturn(this,_getPrototypeOf(HeatmapLegend).call(this));_this.state={label:""};return _this}_createClass(HeatmapLegend,[{key:"componentDidUpdate",value:function componentDidUpdate(){this._loadLabel()}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadLabel()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"_loadLabel",value:function _loadLabel(){var label;return regeneratorRuntime.async((function _loadLabel$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(this.props.field.getLabel());case 2:label=_context.sent;if(this._isMounted&&this.state.label!==label){this.setState({label:label})}case 4:case"end":return _context.stop()}}}),null,this)}},{key:"render",value:function render(){var colorRampName=this.props.colorRampName;var header=colorRampName===_heatmap_constants.DEFAULT_HEATMAP_COLOR_RAMP_NAME?_react.default.createElement(_color_gradient.ColorGradient,{colorRamp:_heatmap_constants.DEFAULT_RGB_HEATMAP_COLOR_RAMP}):_react.default.createElement(_color_gradient.ColorGradient,{colorRampName:colorRampName});return _react.default.createElement(_ranged_style_legend_row.RangedStyleLegendRow,{header:header,minLabel:_i18n.i18n.translate("xpack.maps.heatmapLegend.coldLabel",{defaultMessage:"cold"}),maxLabel:_i18n.i18n.translate("xpack.maps.heatmapLegend.hotLabel",{defaultMessage:"hot"}),propertyLabel:_heatmap_constants.HEATMAP_COLOR_RAMP_LABEL,fieldLabel:this.state.label})}}]);return HeatmapLegend}(_react.default.Component);exports.HeatmapLegend=HeatmapLegend},2007:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"EMSFileSource",{enumerable:true,get:function get(){return _ems_file_source.EMSFileSource}});var _ems_file_source=__webpack_require__(2008)},2008:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EMSFileSource=void 0;var _vector_source=__webpack_require__(517);var _vector_feature_types=__webpack_require__(273);var _react=_interopRequireDefault(__webpack_require__(0));var _constants=__webpack_require__(25);var _meta=__webpack_require__(165);var _create_source_editor=__webpack_require__(2009);var _i18n=__webpack_require__(2);var _i18n_getters=__webpack_require__(166);var _update_source_editor=__webpack_require__(2010);var _ems_file_field=__webpack_require__(2012);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EMSFileSource=function(_AbstractVectorSource){_inherits(EMSFileSource,_AbstractVectorSource);_createClass(EMSFileSource,null,[{key:"createDescriptor",value:function createDescriptor(_ref){var id=_ref.id,_ref$tooltipPropertie=_ref.tooltipProperties,tooltipProperties=_ref$tooltipPropertie===void 0?[]:_ref$tooltipPropertie;return{type:EMSFileSource.type,id:id,tooltipProperties:tooltipProperties}}},{key:"renderEditor",value:function renderEditor(_ref2){var onPreviewSource=_ref2.onPreviewSource,inspectorAdapters=_ref2.inspectorAdapters;var onSourceConfigChange=function onSourceConfigChange(sourceConfig){var sourceDescriptor=EMSFileSource.createDescriptor(sourceConfig);var source=new EMSFileSource(sourceDescriptor,inspectorAdapters);onPreviewSource(source)};return _react.default.createElement(_create_source_editor.EMSFileCreateSourceEditor,{onSourceConfigChange:onSourceConfigChange})}}]);function EMSFileSource(descriptor,inspectorAdapters){var _this;_classCallCheck(this,EMSFileSource);_this=_possibleConstructorReturn(this,_getPrototypeOf(EMSFileSource).call(this,EMSFileSource.createDescriptor(descriptor),inspectorAdapters));_this._tooltipFields=_this._descriptor.tooltipProperties.map((function(propertyKey){return _this.createField({fieldName:propertyKey})}));return _this}_createClass(EMSFileSource,[{key:"createField",value:function createField(_ref3){var fieldName=_ref3.fieldName;return new _ems_file_field.EMSFileField({fieldName:fieldName,source:this,origin:_constants.FIELD_ORIGIN.SOURCE})}},{key:"renderSourceSettingsEditor",value:function renderSourceSettingsEditor(_ref4){var onChange=_ref4.onChange;return _react.default.createElement(_update_source_editor.UpdateSourceEditor,{onChange:onChange,tooltipFields:this._tooltipFields,layerId:this._descriptor.id,source:this})}},{key:"getEMSFileLayer",value:function getEMSFileLayer(){var _this2=this;var emsClient,emsFileLayers,emsFileLayer;return regeneratorRuntime.async((function getEMSFileLayer$(_context){while(1){switch(_context.prev=_context.next){case 0:emsClient=(0,_meta.getEMSClient)();_context.next=3;return regeneratorRuntime.awrap(emsClient.getFileLayers());case 3:emsFileLayers=_context.sent;emsFileLayer=emsFileLayers.find((function(fileLayer){return fileLayer.getId()===_this2._descriptor.id}));if(emsFileLayer){_context.next=7;break}throw new Error(_i18n.i18n.translate("xpack.maps.source.emsFile.unableToFindIdErrorMessage",{defaultMessage:"Unable to find EMS vector shapes for id: {id}",values:{id:this._descriptor.id}}));case 7:return _context.abrupt("return",emsFileLayer);case 8:case"end":return _context.stop()}}}),null,this)}},{key:"getGeoJsonWithMeta",value:function getGeoJsonWithMeta(){var emsFileLayer,featureCollection,emsIdField;return regeneratorRuntime.async((function getGeoJsonWithMeta$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return regeneratorRuntime.awrap(this.getEMSFileLayer());case 2:emsFileLayer=_context2.sent;_context2.next=5;return regeneratorRuntime.awrap(_vector_source.AbstractVectorSource.getGeoJson({format:emsFileLayer.getDefaultFormatType(),featureCollectionPath:"data",fetchUrl:emsFileLayer.getDefaultFormatUrl()}));case 5:featureCollection=_context2.sent;emsIdField=emsFileLayer._config.fields.find((function(field){return field.type==="id"}));featureCollection.features.forEach((function(feature,index){feature.id=emsIdField?feature.properties[emsIdField.id]:index}));return _context2.abrupt("return",{data:featureCollection,meta:{}});case 9:case"end":return _context2.stop()}}}),null,this)}},{key:"getImmutableProperties",value:function getImmutableProperties(){var emsLink,_emsFileLayer;return regeneratorRuntime.async((function getImmutableProperties$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return regeneratorRuntime.awrap(this.getEMSFileLayer());case 3:_emsFileLayer=_context3.sent;emsLink=_emsFileLayer.getEMSHotLink();_context3.next=9;break;case 7:_context3.prev=7;_context3.t0=_context3["catch"](0);case 9:return _context3.abrupt("return",[{label:(0,_i18n_getters.getDataSourceLabel)(),value:EMSFileSource.title},{label:_i18n.i18n.translate("xpack.maps.source.emsFile.layerLabel",{defaultMessage:"Layer"}),value:this._descriptor.id,link:emsLink}]);case 10:case"end":return _context3.stop()}}}),null,this,[[0,7]])}},{key:"getDisplayName",value:function getDisplayName(){var _emsFileLayer2;return regeneratorRuntime.async((function getDisplayName$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return regeneratorRuntime.awrap(this.getEMSFileLayer());case 3:_emsFileLayer2=_context4.sent;return _context4.abrupt("return",_emsFileLayer2.getDisplayName());case 7:_context4.prev=7;_context4.t0=_context4["catch"](0);return _context4.abrupt("return",this._descriptor.id);case 10:case"end":return _context4.stop()}}}),null,this,[[0,7]])}},{key:"getAttributions",value:function getAttributions(){var emsFileLayer;return regeneratorRuntime.async((function getAttributions$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return regeneratorRuntime.awrap(this.getEMSFileLayer());case 2:emsFileLayer=_context5.sent;return _context5.abrupt("return",emsFileLayer.getAttributions());case 4:case"end":return _context5.stop()}}}),null,this)}},{key:"getLeftJoinFields",value:function getLeftJoinFields(){var _this3=this;var emsFileLayer,fields;return regeneratorRuntime.async((function getLeftJoinFields$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return regeneratorRuntime.awrap(this.getEMSFileLayer());case 2:emsFileLayer=_context6.sent;fields=emsFileLayer.getFieldsInLanguage();return _context6.abrupt("return",fields.map((function(f){return _this3.createField({fieldName:f.name})})));case 5:case"end":return _context6.stop()}}}),null,this)}},{key:"canFormatFeatureProperties",value:function canFormatFeatureProperties(){return this._tooltipFields.length>0}},{key:"filterAndFormatPropertiesToHtml",value:function filterAndFormatPropertiesToHtml(properties){var tooltipProperties;return regeneratorRuntime.async((function filterAndFormatPropertiesToHtml$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:tooltipProperties=this._tooltipFields.map((function(field){var value=properties[field.getName()];return field.createTooltipProperty(value)}));return _context7.abrupt("return",Promise.all(tooltipProperties));case 2:case"end":return _context7.stop()}}}),null,this)}},{key:"getSupportedShapeTypes",value:function getSupportedShapeTypes(){return regeneratorRuntime.async((function getSupportedShapeTypes$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:return _context8.abrupt("return",[_vector_feature_types.VECTOR_SHAPE_TYPES.POLYGON]);case 1:case"end":return _context8.stop()}}}))}}]);return EMSFileSource}(_vector_source.AbstractVectorSource);exports.EMSFileSource=EMSFileSource;_defineProperty(EMSFileSource,"type",_constants.EMS_FILE);_defineProperty(EMSFileSource,"title",_i18n.i18n.translate("xpack.maps.source.emsFileTitle",{defaultMessage:"EMS Boundaries"}));_defineProperty(EMSFileSource,"description",_i18n.i18n.translate("xpack.maps.source.emsFileDescription",{defaultMessage:"Administrative boundaries from Elastic Maps Service"}));_defineProperty(EMSFileSource,"icon","emsApp")},2009:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EMSFileCreateSourceEditor=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _meta=__webpack_require__(165);var _ems_unavailable_message=__webpack_require__(1017);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EMSFileCreateSourceEditor=function(_React$Component){_inherits(EMSFileCreateSourceEditor,_React$Component);function EMSFileCreateSourceEditor(){var _getPrototypeOf2;var _this;_classCallCheck(this,EMSFileCreateSourceEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(EMSFileCreateSourceEditor)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{emsFileOptionsRaw:null,selectedOption:null});_defineProperty(_assertThisInitialized(_this),"_loadFileOptions",(function _callee(){var emsClient,fileLayers,options;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:emsClient=(0,_meta.getEMSClient)();_context.next=3;return regeneratorRuntime.awrap(emsClient.getFileLayers());case 3:fileLayers=_context.sent;options=fileLayers.map((function(fileLayer){return{id:fileLayer.getId(),name:fileLayer.getDisplayName()}}));if(_this._isMounted){_this.setState({emsFileOptionsRaw:options})}case 6:case"end":return _context.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"_onChange",(function(selectedOptions){if(selectedOptions.length===0){return}_this.setState({selectedOption:selectedOptions[0]});var emsFileId=selectedOptions[0].value;_this.props.onSourceConfigChange({id:emsFileId})}));return _this}_createClass(EMSFileCreateSourceEditor,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadFileOptions()}},{key:"render",value:function render(){if(!this.state.emsFileOptionsRaw){return null}var options=this.state.emsFileOptionsRaw.map((function(_ref){var id=_ref.id,name=_ref.name;return{label:name,value:id}}));return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.emsFile.layerLabel",{defaultMessage:"Layer"}),helpText:this.state.emsFileOptionsRaw.length===0?(0,_ems_unavailable_message.getEmsUnavailableMessage)():null},_react.default.createElement(_eui.EuiComboBox,{placeholder:_i18n.i18n.translate("xpack.maps.source.emsFile.selectPlaceholder",{defaultMessage:"Select EMS vector shapes"}),options:options,selectedOptions:this.state.selectedOption?[this.state.selectedOption]:[],onChange:this._onChange,isClearable:false,singleSelection:true,isDisabled:this.state.emsFileOptionsRaw.length===0,"data-test-subj":"emsVectorComboBox"}))}}]);return EMSFileCreateSourceEditor}(_react.default.Component);exports.EMSFileCreateSourceEditor=EMSFileCreateSourceEditor},201:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getRGBColorRangeStrings=getRGBColorRangeStrings;exports.getHexColorRangeStrings=getHexColorRangeStrings;exports.getColorRampCenterColor=getColorRampCenterColor;exports.getOrdinalColorRampStops=getOrdinalColorRampStops;exports.getLinearGradient=getLinearGradient;exports.getColorPalette=getColorPalette;exports.COLOR_PALETTES=exports.COLOR_RAMP_NAMES=exports.COLOR_GRADIENTS=exports.DEFAULT_LINE_COLORS=exports.DEFAULT_FILL_COLORS=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _colormaps=__webpack_require__(206);var _color_util=__webpack_require__(700);var _color_gradient=__webpack_require__(511);var _services=__webpack_require__(51);var _tinycolor=_interopRequireDefault(__webpack_require__(362));var _chromaJs=_interopRequireDefault(__webpack_require__(735));var _constants=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var GRADIENT_INTERVALS=8;var DEFAULT_FILL_COLORS=(0,_services.euiPaletteColorBlind)();exports.DEFAULT_FILL_COLORS=DEFAULT_FILL_COLORS;var DEFAULT_LINE_COLORS=[].concat(_toConsumableArray(DEFAULT_FILL_COLORS.map((function(color){return(0,_tinycolor.default)(color).darken().toHexString()}))),["#000","#FFF"]);exports.DEFAULT_LINE_COLORS=DEFAULT_LINE_COLORS;function getColorRamp(colorRampName){var colorRamp=_colormaps.vislibColorMaps[colorRampName];if(!colorRamp){throw new Error("".concat(colorRampName," not found. Expected one of following values: ").concat(Object.keys(_colormaps.vislibColorMaps)))}return colorRamp}function getRGBColorRangeStrings(colorRampName){var numberColors=arguments.length>1&&arguments[1]!==undefined?arguments[1]:GRADIENT_INTERVALS;var colorRamp=getColorRamp(colorRampName);return(0,_color_util.getLegendColors)(colorRamp.value,numberColors)}function getHexColorRangeStrings(colorRampName){var numberColors=arguments.length>1&&arguments[1]!==undefined?arguments[1]:GRADIENT_INTERVALS;return getRGBColorRangeStrings(colorRampName,numberColors).map((function(rgbColor){return(0,_chromaJs.default)(rgbColor).hex()}))}function getColorRampCenterColor(colorRampName){if(!colorRampName){return null}var colorRamp=getColorRamp(colorRampName);var centerIndex=Math.floor(colorRamp.value.length/2);return(0,_color_util.getColor)(colorRamp.value,centerIndex)}function getOrdinalColorRampStops(colorRampName){var numberColors=arguments.length>1&&arguments[1]!==undefined?arguments[1]:GRADIENT_INTERVALS;if(!colorRampName){return null}return getHexColorRangeStrings(colorRampName,numberColors).reduce((function(accu,stopColor,idx,srcArr){var stopNumber=idx/srcArr.length;return[].concat(_toConsumableArray(accu),[stopNumber,stopColor])}),[])}var COLOR_GRADIENTS=Object.keys(_colormaps.vislibColorMaps).map((function(colorRampName){return{value:colorRampName,inputDisplay:_react.default.createElement(_color_gradient.ColorGradient,{colorRampName:colorRampName})}}));exports.COLOR_GRADIENTS=COLOR_GRADIENTS;var COLOR_RAMP_NAMES=Object.keys(_colormaps.vislibColorMaps);exports.COLOR_RAMP_NAMES=COLOR_RAMP_NAMES;function getLinearGradient(colorStrings){var intervals=colorStrings.length;var linearGradient="linear-gradient(to right, ".concat(colorStrings[0]," 0%,");for(var i=1;i<intervals-1;i++){linearGradient="".concat(linearGradient," ").concat(colorStrings[i],"       ").concat(Math.floor(100*i/(intervals-1)),"%,")}return"".concat(linearGradient," ").concat(colorStrings[colorStrings.length-1]," 100%)")}var COLOR_PALETTES_CONFIGS=[{id:"palette_0",colors:DEFAULT_FILL_COLORS.slice(0,_constants.COLOR_PALETTE_MAX_SIZE)}];function getColorPalette(paletteId){var palette=COLOR_PALETTES_CONFIGS.find((function(palette){return palette.id===paletteId}));return palette?palette.colors:null}var COLOR_PALETTES=COLOR_PALETTES_CONFIGS.map((function(palette){var paletteDisplay=palette.colors.map((function(color){var style={backgroundColor:color,width:"10%",position:"relative",height:"100%",display:"inline-block"};return _react.default.createElement("div",{style:style,key:color},"")}));return{value:palette.id,inputDisplay:_react.default.createElement("div",{className:"mapColorGradient"},paletteDisplay)}}));exports.COLOR_PALETTES=COLOR_PALETTES},2010:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpdateSourceEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _tooltip_selector=__webpack_require__(1018);var _meta=__webpack_require__(165);var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var UpdateSourceEditor=function(_Component){_inherits(UpdateSourceEditor,_Component);function UpdateSourceEditor(){var _getPrototypeOf2;var _this;_classCallCheck(this,UpdateSourceEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UpdateSourceEditor)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{fields:null});_defineProperty(_assertThisInitialized(_this),"_onTooltipPropertiesSelect",(function(propertyNames){_this.props.onChange({propName:"tooltipProperties",value:propertyNames})}));return _this}_createClass(UpdateSourceEditor,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this.loadFields()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"loadFields",value:function loadFields(){var _this2=this;var fields,emsClient,emsFiles,emsFile,emsFields;return regeneratorRuntime.async((function loadFields$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;emsClient=(0,_meta.getEMSClient)();_context.next=4;return regeneratorRuntime.awrap(emsClient.getFileLayers());case 4:emsFiles=_context.sent;emsFile=emsFiles.find((function(emsFile){return emsFile.getId()===_this2.props.layerId}));emsFields=emsFile.getFieldsInLanguage();fields=emsFields.map((function(field){return _this2.props.source.createField({fieldName:field.name})}));_context.next=13;break;case 10:_context.prev=10;_context.t0=_context["catch"](0);fields=[];case 13:if(this._isMounted){this.setState({fields:fields})}case 14:case"end":return _context.stop()}}}),null,this,[[0,10]])}},{key:"render",value:function render(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h5",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.emsSource.tooltipsTitle",defaultMessage:"Tooltip fields"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_tooltip_selector.TooltipSelector,{tooltipFields:this.props.tooltipFields,onChange:this._onTooltipPropertiesSelect,fields:this.state.fields})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}}]);return UpdateSourceEditor}(_react.Component);exports.UpdateSourceEditor=UpdateSourceEditor;_defineProperty(UpdateSourceEditor,"propTypes",{onChange:_propTypes.default.func.isRequired,tooltipFields:_propTypes.default.arrayOf(_propTypes.default.object).isRequired,source:_propTypes.default.object})},2011:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddTooltipFieldPopover=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(2);var _public=__webpack_require__(16);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var sortByLabel=function sortByLabel(a,b){return a.label.localeCompare(b.label)};function getOptions(fields,selectedFields){if(!fields){return[]}return fields.filter((function(field){var isFieldSelected=!!selectedFields.find((function(selectedField){return field.name===selectedField.name}));return!isFieldSelected})).map((function(field){return{value:field.name,prepend:"type"in field?_react.default.createElement(_public.FieldIcon,{type:field.type,size:"m",useColor:true}):null,label:"label"in field?field.label:field.name}})).sort(sortByLabel)}var AddTooltipFieldPopover=function(_Component){_inherits(AddTooltipFieldPopover,_Component);function AddTooltipFieldPopover(){var _getPrototypeOf2;var _this;_classCallCheck(this,AddTooltipFieldPopover);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AddTooltipFieldPopover)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isPopoverOpen:false,checkedFields:[]});_defineProperty(_assertThisInitialized(_this),"_togglePopover",(function(){_this.setState({isPopoverOpen:!_this.state.isPopoverOpen})}));_defineProperty(_assertThisInitialized(_this),"_closePopover",(function(){_this.setState({isPopoverOpen:false})}));_defineProperty(_assertThisInitialized(_this),"_onSelect",(function(options){var checkedFields=options.filter((function(option){return option.checked==="on"})).map((function(option){return option.value}));_this.setState({checkedFields:checkedFields,options:options})}));_defineProperty(_assertThisInitialized(_this),"_onAdd",(function(){_this.props.onAdd(_this.state.checkedFields);_this.setState({checkedFields:[]});_this._closePopover()}));return _this}_createClass(AddTooltipFieldPopover,[{key:"_renderAddButton",value:function _renderAddButton(){return _react.default.createElement(_eui.EuiButtonEmpty,{onClick:this._togglePopover,size:"xs",iconType:"plusInCircleFilled",isDisabled:!this.props.fields},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.tooltipSelector.togglePopoverLabel",defaultMessage:"Add"}))}},{key:"_renderContent",value:function _renderContent(){var addLabel=this.state.checkedFields.length===0?_i18n.i18n.translate("xpack.maps.tooltipSelector.addLabelWithoutCount",{defaultMessage:"Add"}):_i18n.i18n.translate("xpack.maps.tooltipSelector.addLabelWithCount",{defaultMessage:"Add {count}",values:{count:this.state.checkedFields.length}});return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSelectable,{searchable:true,options:this.state.options,onChange:this._onSelect},(function(list,search){return _react.default.createElement("div",{style:{width:"300px"}},_react.default.createElement(_eui.EuiPopoverTitle,null,search),list)})),_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react.default.createElement(_eui.EuiPopoverFooter,null,_react.default.createElement(_eui.EuiTextAlign,{textAlign:"right"},_react.default.createElement(_eui.EuiButton,{fill:true,isDisabled:this.state.checkedFields.length===0,onClick:this._onAdd,size:"s"},addLabel))))}},{key:"render",value:function render(){return _react.default.createElement(_eui.EuiPopover,{id:"addTooltipFieldPopover",anchorPosition:"leftCenter",button:this._renderAddButton(),isOpen:this.state.isPopoverOpen,closePopover:this._closePopover,ownFocus:true},this._renderContent())}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){if(nextProps.fields!==prevState.prevFields||nextProps.selectedFields!==prevState.prevSelectedFields){return{options:getOptions(nextProps.fields,nextProps.selectedFields),checkedFields:[],prevFields:nextProps.fields,prevSelectedFields:nextProps.selectedFields}}return null}}]);return AddTooltipFieldPopover}(_react.Component);exports.AddTooltipFieldPopover=AddTooltipFieldPopover},2012:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EMSFileField=void 0;var _field=__webpack_require__(516);var _tooltip_property=__webpack_require__(406);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EMSFileField=function(_AbstractField){_inherits(EMSFileField,_AbstractField);function EMSFileField(){_classCallCheck(this,EMSFileField);return _possibleConstructorReturn(this,_getPrototypeOf(EMSFileField).apply(this,arguments))}_createClass(EMSFileField,[{key:"getLabel",value:function getLabel(){var _this=this;var emsFileLayer,emsFields,emsField;return regeneratorRuntime.async((function getLabel$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(this._source.getEMSFileLayer());case 2:emsFileLayer=_context.sent;emsFields=emsFileLayer.getFieldsInLanguage();emsField=emsFields.find((function(field){return field.name===_this.getName()}));return _context.abrupt("return",emsField?emsField.description:this.getName());case 6:case"end":return _context.stop()}}}),null,this)}},{key:"createTooltipProperty",value:function createTooltipProperty(value){var label;return regeneratorRuntime.async((function createTooltipProperty$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return regeneratorRuntime.awrap(this.getLabel());case 2:label=_context2.sent;return _context2.abrupt("return",new _tooltip_property.TooltipProperty(this.getName(),label,value));case 4:case"end":return _context2.stop()}}}),null,this)}}]);return EMSFileField}(_field.AbstractField);exports.EMSFileField=EMSFileField;_defineProperty(EMSFileField,"type","EMS_FILE")},2013:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GeojsonFileSource=void 0;var _vector_source=__webpack_require__(517);var _react=_interopRequireDefault(__webpack_require__(0));var _constants=__webpack_require__(25);var _create_client_file_source_editor=__webpack_require__(2014);var _es_search_source=__webpack_require__(1022);var _v=_interopRequireDefault(__webpack_require__(186));var _lodash=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var GeojsonFileSource=function(_AbstractVectorSource){_inherits(GeojsonFileSource,_AbstractVectorSource);function GeojsonFileSource(){_classCallCheck(this,GeojsonFileSource);return _possibleConstructorReturn(this,_getPrototypeOf(GeojsonFileSource).apply(this,arguments))}_createClass(GeojsonFileSource,[{key:"getGeoJsonWithMeta",value:function getGeoJsonWithMeta(){return regeneratorRuntime.async((function getGeoJsonWithMeta$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",{data:this._descriptor.__featureCollection,meta:{}});case 1:case"end":return _context.stop()}}}),null,this)}},{key:"getDisplayName",value:function getDisplayName(){return regeneratorRuntime.async((function getDisplayName$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",this._descriptor.name);case 1:case"end":return _context2.stop()}}}),null,this)}},{key:"canFormatFeatureProperties",value:function canFormatFeatureProperties(){return true}},{key:"shouldBeIndexed",value:function shouldBeIndexed(){return GeojsonFileSource.isIndexingSource}}],[{key:"createDescriptor",value:function createDescriptor(geoJson,name){var featureCollection;if(!geoJson){featureCollection={type:"FeatureCollection",features:[]}}else if(geoJson.type==="FeatureCollection"){featureCollection=geoJson}else if(geoJson.type==="Feature"){featureCollection={type:"FeatureCollection",features:[geoJson]}}else{featureCollection={type:"FeatureCollection",features:[]}}return{type:GeojsonFileSource.type,__featureCollection:featureCollection,name:name}}},{key:"renderEditor",value:function renderEditor(_ref){var onPreviewSource=_ref.onPreviewSource,inspectorAdapters=_ref.inspectorAdapters,addAndViewSource=_ref.addAndViewSource,isIndexingTriggered=_ref.isIndexingTriggered,onRemove=_ref.onRemove,onIndexReady=_ref.onIndexReady,importSuccessHandler=_ref.importSuccessHandler,importErrorHandler=_ref.importErrorHandler;return _react.default.createElement(_create_client_file_source_editor.ClientFileCreateSourceEditor,{previewGeojsonFile:GeojsonFileSource.previewGeojsonFile(onPreviewSource,inspectorAdapters),isIndexingTriggered:isIndexingTriggered,onIndexingComplete:GeojsonFileSource.viewIndexedData(addAndViewSource,inspectorAdapters,importSuccessHandler,importErrorHandler),onRemove:onRemove,onIndexReady:onIndexReady})}}]);return GeojsonFileSource}(_vector_source.AbstractVectorSource);exports.GeojsonFileSource=GeojsonFileSource;_defineProperty(GeojsonFileSource,"type",_constants.GEOJSON_FILE);_defineProperty(GeojsonFileSource,"title",_i18n.i18n.translate("xpack.maps.source.geojsonFileTitle",{defaultMessage:"Uploaded GeoJSON"}));_defineProperty(GeojsonFileSource,"description",_i18n.i18n.translate("xpack.maps.source.geojsonFileDescription",{defaultMessage:"Upload and index GeoJSON data in Elasticsearch"}));_defineProperty(GeojsonFileSource,"icon","importAction");_defineProperty(GeojsonFileSource,"isIndexingSource",true);_defineProperty(GeojsonFileSource,"viewIndexedData",(function(addAndViewSource,inspectorAdapters,importSuccessHandler,importErrorHandler){return function(){var indexResponses=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var indexDataResp=indexResponses.indexDataResp,indexPatternResp=indexResponses.indexPatternResp;var indexCreationFailed=!(indexDataResp&&indexDataResp.success);var allDocsFailed=indexDataResp.failures.length===indexDataResp.docCount;var indexPatternCreationFailed=!(indexPatternResp&&indexPatternResp.success);if(indexCreationFailed||allDocsFailed||indexPatternCreationFailed){importErrorHandler(indexResponses);return}var fields=indexPatternResp.fields,id=indexPatternResp.id;var geoFieldArr=fields.filter((function(field){return Object.values(_constants.ES_GEO_FIELD_TYPE).includes(field.type)}));var geoField=_lodash.default.get(geoFieldArr,"[0].name");var indexPatternId=id;if(!indexPatternId||!geoField){addAndViewSource(null)}else{var filterByMapBounds=indexDataResp.docCount>_constants.DEFAULT_MAX_RESULT_WINDOW;var source=new _es_search_source.ESSearchSource({id:(0,_v.default)(),indexPatternId:indexPatternId,geoField:geoField,filterByMapBounds:filterByMapBounds},inspectorAdapters);addAndViewSource(source);importSuccessHandler(indexResponses)}}}));_defineProperty(GeojsonFileSource,"previewGeojsonFile",(function(onPreviewSource,inspectorAdapters){return function(geojsonFile,name){if(!geojsonFile){onPreviewSource(null);return}var sourceDescriptor=GeojsonFileSource.createDescriptor(geojsonFile,name);var source=new GeojsonFileSource(sourceDescriptor,inspectorAdapters);onPreviewSource(source)}}))},2014:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClientFileCreateSourceEditor=ClientFileCreateSourceEditor;var _react=_interopRequireDefault(__webpack_require__(0));var _legacy=__webpack_require__(2015);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ClientFileCreateSourceEditor(_ref){var previewGeojsonFile=_ref.previewGeojsonFile,_ref$isIndexingTrigge=_ref.isIndexingTriggered,isIndexingTriggered=_ref$isIndexingTrigge===void 0?false:_ref$isIndexingTrigge,onIndexingComplete=_ref.onIndexingComplete,onRemove=_ref.onRemove,onIndexReady=_ref.onIndexReady;return _react.default.createElement(_legacy.start.JsonUploadAndParse,{appName:"Maps",isIndexingTriggered:isIndexingTriggered,onFileUpload:previewGeojsonFile,onFileRemove:onRemove,onIndexReady:onIndexReady,transformDetails:"geo",onIndexingComplete:onIndexingComplete})}},2015:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.start=void 0;var _new_platform=__webpack_require__(7);var _=__webpack_require__(2016);var pluginInstance=(0,_.plugin)();var start=pluginInstance.start(_new_platform.npStart.core);exports.start=start},2016:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.plugin=plugin;var _plugin=__webpack_require__(2017);function plugin(){return new _plugin.FileUploadPlugin}},2017:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FileUploadPlugin=void 0;var _json_upload_and_parse=__webpack_require__(2018);var _kibana_services=__webpack_require__(518);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var FileUploadPlugin=function(){function FileUploadPlugin(){_classCallCheck(this,FileUploadPlugin)}_createClass(FileUploadPlugin,[{key:"setup",value:function setup(){}},{key:"start",value:function start(core){(0,_kibana_services.initServicesAndConstants)(core);return{JsonUploadAndParse:_json_upload_and_parse.JsonUploadAndParse}}}]);return FileUploadPlugin}();exports.FileUploadPlugin=FileUploadPlugin},2018:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JsonUploadAndParse=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);var _propTypes=_interopRequireDefault(__webpack_require__(5));var _indexing_service=__webpack_require__(1020);var _geo_processing=__webpack_require__(1021);var _index_settings=__webpack_require__(2021);var _json_index_file_picker=__webpack_require__(2022);var _json_import_progress=__webpack_require__(2029);var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var INDEXING_STAGE={INDEXING_STARTED:_i18n.i18n.translate("xpack.fileUpload.jsonUploadAndParse.dataIndexingStarted",{defaultMessage:"Data indexing started"}),WRITING_TO_INDEX:_i18n.i18n.translate("xpack.fileUpload.jsonUploadAndParse.writingToIndex",{defaultMessage:"Writing to index"}),INDEXING_COMPLETE:_i18n.i18n.translate("xpack.fileUpload.jsonUploadAndParse.indexingComplete",{defaultMessage:"Indexing complete"}),CREATING_INDEX_PATTERN:_i18n.i18n.translate("xpack.fileUpload.jsonUploadAndParse.creatingIndexPattern",{defaultMessage:"Creating index pattern"}),INDEX_PATTERN_COMPLETE:_i18n.i18n.translate("xpack.fileUpload.jsonUploadAndParse.indexPatternComplete",{defaultMessage:"Index pattern complete"}),INDEXING_ERROR:_i18n.i18n.translate("xpack.fileUpload.jsonUploadAndParse.dataIndexingError",{defaultMessage:"Data indexing error"}),INDEX_PATTERN_ERROR:_i18n.i18n.translate("xpack.fileUpload.jsonUploadAndParse.indexPatternError",{defaultMessage:"Index pattern error"})};var JsonUploadAndParse=function(_Component){_inherits(JsonUploadAndParse,_Component);function JsonUploadAndParse(){var _getPrototypeOf2;var _this;_classCallCheck(this,JsonUploadAndParse);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(JsonUploadAndParse)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{fileRef:null,parsedFile:null,indexedFile:null,indexTypes:[],selectedIndexType:"",indexName:"",indexRequestInFlight:false,indexPatternRequestInFlight:false,hasIndexErrors:false,isIndexReady:false,showImportProgress:false,currentIndexingStage:INDEXING_STAGE.INDEXING_STARTED,indexDataResp:"",indexPatternResp:""});_defineProperty(_assertThisInitialized(_this),"_resetFileAndIndexSettings",(function(){if(_this.props.onFileRemove&&_this.state.fileRef){_this.props.onFileRemove(_this.state.fileRef)}_this.setState({indexTypes:[],selectedIndexType:"",indexName:"",indexedFile:null,parsedFile:null,fileRef:null})}));_defineProperty(_assertThisInitialized(_this),"_setSelectedType",(function(_ref){var selectedIndexType=_ref.selectedIndexType,indexTypes=_ref.indexTypes;if(!selectedIndexType&&indexTypes.length){_this.setState({selectedIndexType:indexTypes[0]})}}));_defineProperty(_assertThisInitialized(_this),"_setIndexReady",(function(_ref2){var parsedFile=_ref2.parsedFile,selectedIndexType=_ref2.selectedIndexType,indexName=_ref2.indexName,hasIndexErrors=_ref2.hasIndexErrors,indexRequestInFlight=_ref2.indexRequestInFlight,onIndexReady=_ref2.onIndexReady;var isIndexReady=!!parsedFile&&!!selectedIndexType&&!!indexName&&!hasIndexErrors&&!indexRequestInFlight;if(isIndexReady!==_this.state.isIndexReady){_this.setState({isIndexReady:isIndexReady});if(onIndexReady){onIndexReady(isIndexReady)}}}));_defineProperty(_assertThisInitialized(_this),"_indexData",(function _callee(_ref3){var indexedFile,parsedFile,indexRequestInFlight,transformDetails,indexName,appName,selectedIndexType,isIndexingTriggered,isIndexReady,onIndexingComplete,boolCreateIndexPattern,filesAreEqual,indexDataResp,indexPatternResp;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:indexedFile=_ref3.indexedFile,parsedFile=_ref3.parsedFile,indexRequestInFlight=_ref3.indexRequestInFlight,transformDetails=_ref3.transformDetails,indexName=_ref3.indexName,appName=_ref3.appName,selectedIndexType=_ref3.selectedIndexType,isIndexingTriggered=_ref3.isIndexingTriggered,isIndexReady=_ref3.isIndexReady,onIndexingComplete=_ref3.onIndexingComplete,boolCreateIndexPattern=_ref3.boolCreateIndexPattern;filesAreEqual=_lodash.default.isEqual(indexedFile,parsedFile);if(!(!isIndexingTriggered||filesAreEqual||!isIndexReady||indexRequestInFlight)){_context.next=4;break}return _context.abrupt("return");case 4:_this.setState({indexRequestInFlight:true,currentIndexingStage:INDEXING_STAGE.WRITING_TO_INDEX});_context.next=7;return regeneratorRuntime.awrap((0,_indexing_service.indexData)(parsedFile,transformDetails,indexName,selectedIndexType,appName));case 7:indexDataResp=_context.sent;if(_this._isMounted){_context.next=10;break}return _context.abrupt("return");case 10:if(indexDataResp.success){_context.next=15;break}_this.setState({indexedFile:null,indexDataResp:indexDataResp,indexRequestInFlight:false,currentIndexingStage:INDEXING_STAGE.INDEXING_ERROR});_this._resetFileAndIndexSettings();if(onIndexingComplete){onIndexingComplete({indexDataResp:indexDataResp})}return _context.abrupt("return");case 15:_this.setState({indexDataResp:indexDataResp,indexedFile:parsedFile,currentIndexingStage:INDEXING_STAGE.INDEXING_COMPLETE});if(!boolCreateIndexPattern){_context.next=20;break}_context.next=19;return regeneratorRuntime.awrap(_this._createIndexPattern(_this.state));case 19:indexPatternResp=_context.sent;case 20:if(!(!_this._isMounted||!indexPatternResp)){_context.next=22;break}return _context.abrupt("return");case 22:_this.setState({currentIndexingStage:INDEXING_STAGE.INDEX_PATTERN_COMPLETE});if(onIndexingComplete){onIndexingComplete(_objectSpread({indexDataResp:indexDataResp},boolCreateIndexPattern?{indexPatternResp:indexPatternResp}:{}))}case 24:case"end":return _context.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"_createIndexPattern",(function _callee2(_ref4){var indexName,indexPatternResp;return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:indexName=_ref4.indexName;if(_this._isMounted){_context2.next=3;break}return _context2.abrupt("return");case 3:_this.setState({indexPatternRequestInFlight:true,currentIndexingStage:INDEXING_STAGE.CREATING_INDEX_PATTERN});_context2.next=6;return regeneratorRuntime.awrap((0,_indexing_service.createIndexPattern)(indexName));case 6:indexPatternResp=_context2.sent;if(_this._isMounted){_context2.next=9;break}return _context2.abrupt("return");case 9:_this.setState({indexPatternResp:indexPatternResp,indexPatternRequestInFlight:false});_this._resetFileAndIndexSettings();return _context2.abrupt("return",indexPatternResp);case 12:case"end":return _context2.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"_setIndexTypes",(function(_ref5){var transformDetails=_ref5.transformDetails,parsedFile=_ref5.parsedFile;if(parsedFile){if(_typeof(transformDetails)==="object"){_this.setState({indexTypes:transformDetails.indexTypes})}else{switch(transformDetails){case"geo":var featureTypes=_lodash.default.uniq(parsedFile.features?parsedFile.features.map((function(_ref6){var geometry=_ref6.geometry;return geometry.type})):[parsedFile.geometry.type]);_this.setState({indexTypes:(0,_geo_processing.getGeoIndexTypesForFeatures)(featureTypes)});break;default:_this.setState({indexTypes:[]});return}}}}));return _this}_createClass(JsonUploadAndParse,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(!_lodash.default.isEqual(prevState.parsedFile,this.state.parsedFile)){this._setIndexTypes(_objectSpread({},this.state,{},this.props))}this._setSelectedType(this.state);this._setIndexReady(_objectSpread({},this.state,{},this.props));this._indexData(_objectSpread({},this.state,{},this.props));if(this.props.isIndexingTriggered&&!this.state.showImportProgress&&this._isMounted){this.setState({showImportProgress:true})}}},{key:"render",value:function render(){var _this2=this;var _this$state=this.state,currentIndexingStage=_this$state.currentIndexingStage,indexDataResp=_this$state.indexDataResp,indexPatternResp=_this$state.indexPatternResp,fileRef=_this$state.fileRef,indexName=_this$state.indexName,indexTypes=_this$state.indexTypes,showImportProgress=_this$state.showImportProgress;var _this$props=this.props,onFileUpload=_this$props.onFileUpload,transformDetails=_this$props.transformDetails;return _react.default.createElement(_eui.EuiForm,null,showImportProgress?_react.default.createElement(_json_import_progress.JsonImportProgress,{importStage:currentIndexingStage,indexDataResp:indexDataResp,indexPatternResp:indexPatternResp,complete:currentIndexingStage===INDEXING_STAGE.INDEX_PATTERN_COMPLETE||currentIndexingStage===INDEXING_STAGE.INDEXING_ERROR,indexName:indexName}):_react.default.createElement(_react.Fragment,null,_react.default.createElement(_json_index_file_picker.JsonIndexFilePicker,{onFileUpload:onFileUpload,fileRef:fileRef,setIndexName:function setIndexName(indexName){return _this2.setState({indexName:indexName})},setFileRef:function setFileRef(fileRef){return _this2.setState({fileRef:fileRef})},setParsedFile:function setParsedFile(parsedFile){return _this2.setState({parsedFile:parsedFile})},transformDetails:transformDetails,resetFileAndIndexSettings:this._resetFileAndIndexSettings}),_react.default.createElement(_index_settings.IndexSettings,{disabled:!fileRef,indexName:indexName,setIndexName:function setIndexName(indexName){return _this2.setState({indexName:indexName})},indexTypes:indexTypes,setSelectedIndexType:function setSelectedIndexType(selectedIndexType){return _this2.setState({selectedIndexType:selectedIndexType})},setHasIndexErrors:function setHasIndexErrors(hasIndexErrors){return _this2.setState({hasIndexErrors:hasIndexErrors})}})))}}]);return JsonUploadAndParse}(_react.Component);exports.JsonUploadAndParse=JsonUploadAndParse;JsonUploadAndParse.defaultProps={isIndexingTriggered:false,boolCreateIndexPattern:true};JsonUploadAndParse.propTypes={appName:_propTypes.default.string,isIndexingTriggered:_propTypes.default.bool,boolCreateIndexPattern:_propTypes.default.bool,transformDetails:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.object]),onIndexReadyStatusChange:_propTypes.default.func,onIndexingComplete:_propTypes.default.func,onFileUpload:_propTypes.default.func,onFileRemove:_propTypes.default.func}},2019:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.http=http;var _system_api=__webpack_require__(334);var _i18n=__webpack_require__(2);var _kibana_services=__webpack_require__(518);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function http(options){var url,headers,allHeaders,body,payload;return regeneratorRuntime.async((function http$(_context){while(1){switch(_context.prev=_context.next){case 0:if(options&&options.url){_context.next=2;break}throw _i18n.i18n.translate("xpack.fileUpload.httpService.noUrl",{defaultMessage:"No URL provided"});case 2:url=options.url||"";headers=(0,_system_api.addSystemApiHeader)(_objectSpread({"Content-Type":"application/json","kbn-version":_kibana_services.kbnVersion},options.headers));allHeaders=options.headers===undefined?headers:_objectSpread({},options.headers,{},headers);body=options.data===undefined?null:JSON.stringify(options.data);payload={method:options.method||"GET",headers:allHeaders,credentials:"same-origin"};if(body!==null){payload.body=body}_context.next=10;return regeneratorRuntime.awrap(doFetch(url,payload));case 10:return _context.abrupt("return",_context.sent);case 11:case"end":return _context.stop()}}}))}function doFetch(url,payload){var resp;return regeneratorRuntime.async((function doFetch$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return regeneratorRuntime.awrap(fetch(url,payload));case 3:resp=_context2.sent;return _context2.abrupt("return",resp.json());case 7:_context2.prev=7;_context2.t0=_context2["catch"](0);return _context2.abrupt("return",{failures:[_i18n.i18n.translate("xpack.fileUpload.httpService.fetchError",{defaultMessage:"Error performing fetch: {error}",values:{error:_context2.t0.message}})]});case 10:case"end":return _context2.stop()}}}),null,null,[[0,7]])}},202:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ui=ui;exports.DEFAULT_IS_LAYER_TOC_OPEN=exports.INDEXING_STAGE=exports.FLYOUT_STATE=void 0;var _ui_actions=__webpack_require__(177);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FLYOUT_STATE={NONE:"NONE",LAYER_PANEL:"LAYER_PANEL",ADD_LAYER_WIZARD:"ADD_LAYER_WIZARD"};exports.FLYOUT_STATE=FLYOUT_STATE;var INDEXING_STAGE={READY:"READY",TRIGGERED:"TRIGGERED",SUCCESS:"SUCCESS",ERROR:"ERROR"};exports.INDEXING_STAGE=INDEXING_STAGE;var DEFAULT_IS_LAYER_TOC_OPEN=true;exports.DEFAULT_IS_LAYER_TOC_OPEN=DEFAULT_IS_LAYER_TOC_OPEN;var INITIAL_STATE={flyoutDisplay:FLYOUT_STATE.NONE,isFullScreen:false,isReadOnly:false,isLayerTOCOpen:DEFAULT_IS_LAYER_TOC_OPEN,isSetViewOpen:false,openTOCDetails:[],importIndexingStage:null};function ui(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case _ui_actions.UPDATE_FLYOUT:return _objectSpread({},state,{flyoutDisplay:action.display});case _ui_actions.CLOSE_SET_VIEW:return _objectSpread({},state,{isSetViewOpen:false});case _ui_actions.OPEN_SET_VIEW:return _objectSpread({},state,{isSetViewOpen:true});case _ui_actions.SET_IS_LAYER_TOC_OPEN:return _objectSpread({},state,{isLayerTOCOpen:action.isLayerTOCOpen});case _ui_actions.SET_FULL_SCREEN:return _objectSpread({},state,{isFullScreen:action.isFullScreen});case _ui_actions.SET_READ_ONLY:return _objectSpread({},state,{isReadOnly:action.isReadOnly});case _ui_actions.SET_OPEN_TOC_DETAILS:return _objectSpread({},state,{openTOCDetails:action.layerIds});case _ui_actions.SHOW_TOC_DETAILS:return _objectSpread({},state,{openTOCDetails:[].concat(_toConsumableArray(state.openTOCDetails),[action.layerId])});case _ui_actions.HIDE_TOC_DETAILS:return _objectSpread({},state,{openTOCDetails:state.openTOCDetails.filter((function(layerId){return layerId!==action.layerId}))});case _ui_actions.UPDATE_INDEXING_STAGE:return _objectSpread({},state,{importIndexingStage:action.stage});default:return state}}},2020:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sizeLimitedChunking=sizeLimitedChunking;var _file_import=__webpack_require__(519);var CHUNK_BUFFER=2097152;function sizeLimitedChunking(dataArr){var maxByteSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_file_import.MAX_BYTES-CHUNK_BUFFER;var chunkSize=0;return dataArr.reduce((function(accu,el){var featureByteSize=new Blob([JSON.stringify(el)],{type:"application/json"}).size;if(featureByteSize>maxByteSize){throw"Some features exceed maximum chunk size of ".concat(maxByteSize)}else if(chunkSize+featureByteSize<maxByteSize){var lastChunkRef=accu.length-1;chunkSize+=featureByteSize;accu[lastChunkRef].push(el)}else{chunkSize=featureByteSize;accu.push([el])}return accu}),[[]])}},2021:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexSettings=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);var _indexing_service=__webpack_require__(1020);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IndexSettings=function(_Component){_inherits(IndexSettings,_Component);function IndexSettings(){var _getPrototypeOf2;var _this;_classCallCheck(this,IndexSettings);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(IndexSettings)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{indexNameError:"",indexDisabled:true,indexName:"",indexNameList:[],indexPatternList:[]});_defineProperty(_assertThisInitialized(_this),"loadExistingIndexData",(function _callee(){var indexNameList,indexPatternList;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap((0,_indexing_service.getExistingIndexNames)());case 2:indexNameList=_context.sent;_context.next=5;return regeneratorRuntime.awrap((0,_indexing_service.getExistingIndexPatternNames)());case 5:indexPatternList=_context.sent;if(_this._isMounted){_this.setState({indexNameList:indexNameList,indexPatternList:indexPatternList})}case 7:case"end":return _context.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"_setIndexName",(function _callee2(name){var errorMessage;return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return regeneratorRuntime.awrap(_this._isIndexNameAndPatternValid(name));case 2:errorMessage=_context2.sent;return _context2.abrupt("return",_this.setState({indexName:name,indexNameError:errorMessage}));case 4:case"end":return _context2.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"_onIndexChange",(function _callee3(_ref){var target,name;return regeneratorRuntime.async((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:target=_ref.target;name=target.value;_context3.next=4;return regeneratorRuntime.awrap(_this._setIndexName(name));case 4:_this.props.setIndexName(name);case 5:case"end":return _context3.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"_isIndexNameAndPatternValid",(function _callee4(name){var _this$state,indexNameList,indexPatternList,nameAlreadyInUse,indexPatternValid;return regeneratorRuntime.async((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_this$state=_this.state,indexNameList=_this$state.indexNameList,indexPatternList=_this$state.indexPatternList;nameAlreadyInUse=[].concat(_toConsumableArray(indexNameList),_toConsumableArray(indexPatternList)).includes(name);if(!nameAlreadyInUse){_context4.next=4;break}return _context4.abrupt("return",_react.default.createElement(_react2.FormattedMessage,{id:"xpack.fileUpload.indexSettings.indexNameAlreadyExistsErrorMessage",defaultMessage:"Index name or pattern already exists."}));case 4:indexPatternValid=(0,_indexing_service.checkIndexPatternValid)(name);if(indexPatternValid){_context4.next=7;break}return _context4.abrupt("return",_react.default.createElement(_react2.FormattedMessage,{id:"xpack.fileUpload.indexSettings.indexNameContainsIllegalCharactersErrorMessage",defaultMessage:"Index name contains illegal characters."}));case 7:return _context4.abrupt("return","");case 8:case"end":return _context4.stop()}}}))}));return _this}_createClass(IndexSettings,[{key:"componentDidMount",value:function componentDidMount(){return regeneratorRuntime.async((function componentDidMount$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:this._isMounted=true;this.loadExistingIndexData();case 2:case"end":return _context5.stop()}}}),null,this)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){var _this$state2=this.state,indexNameError=_this$state2.indexNameError,indexName=_this$state2.indexName;if(prevState.indexNameError!==indexNameError){this.props.setHasIndexErrors(!!indexNameError)}var _this$props=this.props,disabled=_this$props.disabled,indexTypes=_this$props.indexTypes;var indexDisabled=disabled||!indexTypes||!indexTypes.length;if(indexDisabled!==this.state.indexDisabled){this.setState({indexDisabled:indexDisabled})}if(this.props.indexName!==indexName){this._setIndexName(this.props.indexName)}}},{key:"render",value:function render(){var _this$props2=this.props,setSelectedIndexType=_this$props2.setSelectedIndexType,indexTypes=_this$props2.indexTypes;var _this$state3=this.state,indexNameError=_this$state3.indexNameError,indexDisabled=_this$state3.indexDisabled,indexName=_this$state3.indexName;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.fileUpload.indexSettings.enterIndexTypeLabel",defaultMessage:"Index type"})},_react.default.createElement(_eui.EuiSelect,{"data-test-subj":"fileImportIndexSelect",disabled:indexDisabled,options:indexTypes.map((function(indexType){return{text:indexType,value:indexType}})),onChange:function onChange(_ref2){var target=_ref2.target;return setSelectedIndexType(target.value)}})),_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.fileUpload.indexSettings.enterIndexNameLabel",defaultMessage:"Index name"}),isInvalid:indexNameError!=="",error:[indexNameError]},_react.default.createElement(_eui.EuiFieldText,{"data-test-subj":"fileUploadIndexNameInput",disabled:indexDisabled,placeholder:_i18n.i18n.translate("xpack.fileUpload.enterIndexName",{defaultMessage:"Enter Index Name"}),value:indexName,onChange:this._onIndexChange,isInvalid:indexNameError!=="","aria-label":_i18n.i18n.translate("xpack.fileUpload.indexNameReqField",{defaultMessage:"Index name, required field"})})),indexDisabled?null:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.fileUpload.indexSettings.indexNameGuidelines",{defaultMessage:"Index name guidelines"}),size:"s"},_react.default.createElement("ul",{style:{marginBottom:0}},_react.default.createElement("li",null,_i18n.i18n.translate("xpack.fileUpload.indexSettings.guidelines.mustBeNewIndex",{defaultMessage:"Must be a new index"})),_react.default.createElement("li",null,_i18n.i18n.translate("xpack.fileUpload.indexSettings.guidelines.lowercaseOnly",{defaultMessage:"Lowercase only"})),_react.default.createElement("li",null,_i18n.i18n.translate("xpack.fileUpload.indexSettings.guidelines.cannotInclude",{defaultMessage:'Cannot include \\\\, /, *, ?, ", <, >, |,                     " " (space character), , (comma), #'})),_react.default.createElement("li",null,_i18n.i18n.translate("xpack.fileUpload.indexSettings.guidelines.cannotStartWith",{defaultMessage:"Cannot start with -, _, +"})),_react.default.createElement("li",null,_i18n.i18n.translate("xpack.fileUpload.indexSettings.guidelines.cannotBe",{defaultMessage:"Cannot be . or .."})),_react.default.createElement("li",null,_i18n.i18n.translate("xpack.fileUpload.indexSettings.guidelines.length",{defaultMessage:"Cannot be longer than 255 bytes (note it is bytes,                     so multi-byte characters will count towards the 255                     limit faster)"}))))))}}]);return IndexSettings}(_react.Component);exports.IndexSettings=IndexSettings},2022:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JsonIndexFilePicker=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(2);var _file_parser=__webpack_require__(2023);var _file_import=__webpack_require__(519);var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ACCEPTABLE_FILETYPES=["json","geojson"];var acceptedFileTypeString=ACCEPTABLE_FILETYPES.map((function(type){return".".concat(type)})).join(",");var acceptedFileTypeStringMessage=ACCEPTABLE_FILETYPES.map((function(type){return".".concat(type)})).join(", ");var JsonIndexFilePicker=function(_Component){_inherits(JsonIndexFilePicker,_Component);function JsonIndexFilePicker(){var _getPrototypeOf2;var _this;_classCallCheck(this,JsonIndexFilePicker);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(JsonIndexFilePicker)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{fileUploadError:"",percentageProcessed:0,featuresProcessed:0,fileParseActive:false,currentFileTracker:null});_defineProperty(_assertThisInitialized(_this),"getFileParseActive",(function(){return _this._isMounted&&_this.state.fileParseActive}));_defineProperty(_assertThisInitialized(_this),"_fileHandler",(function(fileList){var fileArr=Array.from(fileList);_this.props.resetFileAndIndexSettings();_this.setState({fileUploadError:"",percentageProcessed:0,featuresProcessed:0});if(fileArr.length===0){_this.setState({fileParseActive:false});return}var file=fileArr[0];_this.setState({fileParseActive:true,currentFileTracker:Symbol()},(function(){return _this._parseFile(file)}))}));_defineProperty(_assertThisInitialized(_this),"_checkFileSize",(function(_ref){var size=_ref.size;var fileSizeValid=true;try{if(size>_file_import.MAX_FILE_SIZE){var humanReadableSize=bytesToSize(size);var humanReadableMaxSize=bytesToSize(_file_import.MAX_FILE_SIZE);throw new Error(_i18n.i18n.translate("xpack.fileUpload.jsonIndexFilePicker.acceptableFileSize",{defaultMessage:"File size {fileSize} exceeds max file size of {maxFileSize}",values:{fileSize:humanReadableSize,maxFileSize:humanReadableMaxSize}}))}}catch(error){_this.setState({fileUploadError:_i18n.i18n.translate("xpack.fileUpload.jsonIndexFilePicker.fileSizeError",{defaultMessage:"File size error: {errorMessage}",values:{errorMessage:error.message}})});return}return fileSizeValid}));_defineProperty(_assertThisInitialized(_this),"setFileProgress",_lodash.default.debounce((function(_ref2){var featuresProcessed=_ref2.featuresProcessed,bytesProcessed=_ref2.bytesProcessed,totalBytes=_ref2.totalBytes;var percentageProcessed=parseInt(100*bytesProcessed/totalBytes);if(_this.getFileParseActive()){_this.setState({featuresProcessed:featuresProcessed,percentageProcessed:percentageProcessed})}}),150));return _this}_createClass(JsonIndexFilePicker,[{key:"componentDidMount",value:function componentDidMount(){return regeneratorRuntime.async((function componentDidMount$(_context){while(1){switch(_context.prev=_context.next){case 0:this._isMounted=true;case 1:case"end":return _context.stop()}}}),null,this)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"_getFileNameAndCheckType",value:function _getFileNameAndCheckType(_ref3){var name=_ref3.name;var fileNameOnly;try{if(!name){throw new Error(_i18n.i18n.translate("xpack.fileUpload.jsonIndexFilePicker.noFileNameError",{defaultMessage:"No file name provided"}))}var splitNameArr=name.split(".");var fileType=splitNameArr.pop();if(!ACCEPTABLE_FILETYPES.includes(fileType)){throw new Error(_i18n.i18n.translate("xpack.fileUpload.jsonIndexFilePicker.acceptableTypesError",{defaultMessage:"File is not one of acceptable types: {types}",values:{types:ACCEPTABLE_FILETYPES.join(", ")}}))}fileNameOnly=splitNameArr[0]}catch(error){this.setState({fileUploadError:_i18n.i18n.translate("xpack.fileUpload.jsonIndexFilePicker.fileProcessingError",{defaultMessage:"File processing error: {errorMessage}",values:{errorMessage:error.message}})});return}return fileNameOnly.toLowerCase()}},{key:"_parseFile",value:function _parseFile(file){var _this2=this;var currentFileTracker,_this$props,setFileRef,setParsedFile,resetFileAndIndexSettings,onFileUpload,transformDetails,setIndexName,fileSizeValid,defaultIndexName,fileResult,errors,parsedGeojson,error;return regeneratorRuntime.async((function _parseFile$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:currentFileTracker=this.state.currentFileTracker;_this$props=this.props,setFileRef=_this$props.setFileRef,setParsedFile=_this$props.setParsedFile,resetFileAndIndexSettings=_this$props.resetFileAndIndexSettings,onFileUpload=_this$props.onFileUpload,transformDetails=_this$props.transformDetails,setIndexName=_this$props.setIndexName;fileSizeValid=this._checkFileSize(file);defaultIndexName=this._getFileNameAndCheckType(file);if(!(!fileSizeValid||!defaultIndexName)){_context2.next=7;break}resetFileAndIndexSettings();return _context2.abrupt("return");case 7:_context2.next=9;return regeneratorRuntime.awrap((0,_file_parser.parseFile)({file:file,transformDetails:transformDetails,onFileUpload:onFileUpload,setFileProgress:this.setFileProgress,getFileParseActive:this.getFileParseActive}).catch((function(err){if(_this2._isMounted){_this2.setState({fileParseActive:false,percentageProcessed:0,featuresProcessed:0,fileUploadError:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.fileUpload.jsonIndexFilePicker.unableParseFile",defaultMessage:"Unable to parse file: {error}",values:{error:err.message}})})}})));case 9:fileResult=_context2.sent;if(this._isMounted){_context2.next=12;break}return _context2.abrupt("return");case 12:this.setState({percentageProcessed:0,featuresProcessed:0,fileParseActive:currentFileTracker!==this.state.currentFileTracker});if(fileResult){_context2.next=16;break}resetFileAndIndexSettings();return _context2.abrupt("return");case 16:errors=fileResult.errors,parsedGeojson=fileResult.parsedGeojson;if(errors.length){error=errors[0];this.setState({fileUploadError:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.fileUpload.jsonIndexFilePicker.fileParseError",defaultMessage:"File parse error(s) detected: {error}",values:{error:error}})})}setIndexName(defaultIndexName);setFileRef(file);setParsedFile(parsedGeojson);case 21:case"end":return _context2.stop()}}}),null,this)}},{key:"render",value:function render(){var _this$state=this.state,fileUploadError=_this$state.fileUploadError,percentageProcessed=_this$state.percentageProcessed,featuresProcessed=_this$state.featuresProcessed;return _react.default.createElement(_react.Fragment,null,percentageProcessed?_react.default.createElement(_eui.EuiProgress,{value:percentageProcessed,max:100,size:"xs",color:"accent",position:"absolute"}):null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.fileUpload.jsonIndexFilePicker.filePickerLabel",defaultMessage:"Select a file to upload"}),isInvalid:fileUploadError!=="",error:[fileUploadError],helpText:percentageProcessed?_i18n.i18n.translate("xpack.fileUpload.jsonIndexFilePicker.parsingFile",{defaultMessage:"{featuresProcessed} features parsed...",values:{featuresProcessed:featuresProcessed}}):_react.default.createElement("span",null,_i18n.i18n.translate("xpack.fileUpload.jsonIndexFilePicker.formatsAccepted",{defaultMessage:"Formats accepted: {acceptedFileTypeStringMessage}",values:{acceptedFileTypeStringMessage:acceptedFileTypeStringMessage}})," ",_react.default.createElement("br",null),_react.default.createElement(_react2.FormattedMessage,{id:"xpack.fileUpload.jsonIndexFilePicker.maxSize",defaultMessage:"Max size: {maxFileSize}",values:{maxFileSize:bytesToSize(_file_import.MAX_FILE_SIZE)}}))},_react.default.createElement(_eui.EuiFilePicker,{initialPromptText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.fileUpload.jsonIndexFilePicker.filePicker",defaultMessage:"Upload file"}),onChange:this._fileHandler,accept:acceptedFileTypeString})))}}]);return JsonIndexFilePicker}(_react.Component);exports.JsonIndexFilePicker=JsonIndexFilePicker;function bytesToSize(bytes){var sizes=["Bytes","KB","MB","GB","TB"];if(bytes===0)return"n/a";var i=parseInt(Math.floor(Math.log(bytes)/Math.log(1024)),10);if(i===0)return"".concat(bytes," ").concat(sizes[i],")");return"".concat((bytes/Math.pow(1024,i)).toFixed(1)," ").concat(sizes[i])}},2023:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.jsonPreview=jsonPreview;exports.parseFile=parseFile;exports.fileHandler=exports.FILE_BUFFER=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _geo_json_clean_and_validate=__webpack_require__(2024);var _i18n=__webpack_require__(2);var _pattern_reader=__webpack_require__(2027);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}var FILE_BUFFER=1024e3;exports.FILE_BUFFER=FILE_BUFFER;var readSlice=function readSlice(fileReader,file,start,stop){var blob=file.slice(start,stop);fileReader.readAsBinaryString(blob)};var prevFileReader;var prevPatternReader;var fileHandler=function fileHandler(_ref){var file,setFileProgress,cleanAndValidate,getFileParseActive,_ref$fileReader,fileReader,featuresProcessed,onFeatureRead,start,stop,filePromise;return regeneratorRuntime.async((function fileHandler$(_context){while(1){switch(_context.prev=_context.next){case 0:file=_ref.file,setFileProgress=_ref.setFileProgress,cleanAndValidate=_ref.cleanAndValidate,getFileParseActive=_ref.getFileParseActive,_ref$fileReader=_ref.fileReader,fileReader=_ref$fileReader===void 0?new FileReader:_ref$fileReader;if(file){_context.next=3;break}return _context.abrupt("return",Promise.reject(new Error(_i18n.i18n.translate("xpack.fileUpload.fileParser.noFileProvided",{defaultMessage:"Error, no file provided"}))));case 3:if(prevFileReader){prevFileReader.abort()}if(prevPatternReader){prevPatternReader.abortStream()}featuresProcessed=0;onFeatureRead=function onFeatureRead(feature){featuresProcessed++;return cleanAndValidate(feature)};stop=FILE_BUFFER;prevFileReader=fileReader;filePromise=new Promise((function(resolve,reject){var onStreamComplete=function onStreamComplete(fileResults){if(!featuresProcessed){reject(new Error(_i18n.i18n.translate("xpack.fileUpload.fileParser.noFeaturesDetected",{defaultMessage:"Error, no features detected"})))}else{resolve(fileResults)}};var patternReader=new _pattern_reader.PatternReader({onFeatureDetect:onFeatureRead,onStreamComplete:onStreamComplete});prevPatternReader=patternReader;fileReader.onloadend=function(_ref2){var _ref2$target=_ref2.target,readyState=_ref2$target.readyState,result=_ref2$target.result;if(readyState===FileReader.DONE){if(!getFileParseActive()||!result){fileReader.abort();patternReader.abortStream();resolve(null);return}setFileProgress({featuresProcessed:featuresProcessed,bytesProcessed:stop||file.size,totalBytes:file.size});patternReader.writeDataToPatternStream(result);if(!stop){return}start=stop;var newStop=stop+FILE_BUFFER;stop=newStop>file.size?undefined:newStop;readSlice(fileReader,file,start,stop)}};fileReader.onerror=function(){fileReader.abort();patternReader.abortStream();reject(new Error(_i18n.i18n.translate("xpack.fileUpload.fileParser.errorReadingFile",{defaultMessage:"Error reading file"})))}}));readSlice(fileReader,file,start,stop);return _context.abrupt("return",filePromise);case 12:case"end":return _context.stop()}}}))};exports.fileHandler=fileHandler;function jsonPreview(fileResults,previewFunction){if(fileResults&&fileResults.parsedGeojson&&previewFunction){var defaultName=_lodash.default.get(fileResults.parsedGeojson,"name","Import File");previewFunction(fileResults.parsedGeojson,defaultName)}}function parseFile(_ref3){var file,transformDetails,_ref3$onFileUpload,previewCallback,setFileProgress,getFileParseActive,cleanAndValidate,fileResults;return regeneratorRuntime.async((function parseFile$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:file=_ref3.file,transformDetails=_ref3.transformDetails,_ref3$onFileUpload=_ref3.onFileUpload,previewCallback=_ref3$onFileUpload===void 0?null:_ref3$onFileUpload,setFileProgress=_ref3.setFileProgress,getFileParseActive=_ref3.getFileParseActive;if(!(_typeof(transformDetails)==="object")){_context2.next=5;break}cleanAndValidate=transformDetails.cleanAndValidate;_context2.next=11;break;case 5:_context2.t0=transformDetails;_context2.next=_context2.t0==="geo"?8:10;break;case 8:cleanAndValidate=_geo_json_clean_and_validate.geoJsonCleanAndValidate;return _context2.abrupt("break",11);case 10:throw _i18n.i18n.translate("xpack.fileUpload.fileParser.transformDetailsNotDefined",{defaultMessage:"Index options for {transformDetails} not defined",values:{transformDetails:transformDetails}});case 11:_context2.next=13;return regeneratorRuntime.awrap(fileHandler({file:file,setFileProgress:setFileProgress,cleanAndValidate:cleanAndValidate,getFileParseActive:getFileParseActive}));case 13:fileResults=_context2.sent;jsonPreview(fileResults,previewCallback);return _context2.abrupt("return",fileResults);case 16:case"end":return _context2.stop()}}}))}},2024:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.geoJsonCleanAndValidate=geoJsonCleanAndValidate;exports.cleanGeometry=cleanGeometry;var jsts=_interopRequireWildcard(__webpack_require__(2119));var _geojsonRewind=_interopRequireDefault(__webpack_require__(2120));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var geoJSONReader=new jsts.io.GeoJSONReader;var geoJSONWriter=new jsts.io.GeoJSONWriter;function geoJsonCleanAndValidate(feature){var geometryReadResult=geoJSONReader.read(feature);var cleanedGeometry=cleanGeometry(geometryReadResult);if(!cleanedGeometry){return feature}var correctlyWindedGeometry=(0,_geojsonRewind.default)(cleanedGeometry,false);return _objectSpread({},feature,{geometry:correctlyWindedGeometry})}function cleanGeometry(_ref){var geometry=_ref.geometry;if(!geometry){return null}var geometryToWrite=geometry.isSimple()||geometry.isValid()?geometry:geometry.buffer(0);return geoJSONWriter.write(geometryToWrite)}},2025:function(module,exports,__webpack_require__){module.exports=__webpack_require__(17)(326)},2026:function(module,exports,__webpack_require__){module.exports=__webpack_require__(17)(3013)},2027:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PatternReader=void 0;var _i18n=__webpack_require__(2);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var oboe=__webpack_require__(2121);var PatternReader=function(){function PatternReader(_ref){var onFeatureDetect=_ref.onFeatureDetect,onStreamComplete=_ref.onStreamComplete;_classCallCheck(this,PatternReader);this._oboeStream=oboe();this._registerFeaturePatternHandler(onFeatureDetect);this._registerStreamCompleteHandler(onStreamComplete);this._errors=[]}_createClass(PatternReader,[{key:"getErrors",value:function getErrors(){return this._errors}},{key:"_registerFeaturePatternHandler",value:function _registerFeaturePatternHandler(featurePatternCallback){var _this=this;this._oboeStream.node({"features.*":function features(feature){if(!feature.geometry||!feature.geometry.type){if(!_this._errors.length){_this._errors.push(new Error(_i18n.i18n.translate("xpack.fileUpload.patternReader.featuresOmitted",{defaultMessage:"Some features without geometry omitted"})))}return oboe.drop}return featurePatternCallback(feature)},"!.geometry":function geometry(geom,path,ancestors){var feature=ancestors[0];var _featurePatternCallba=featurePatternCallback(feature),geometry=_featurePatternCallba.geometry;return geometry}})}},{key:"_registerStreamCompleteHandler",value:function _registerStreamCompleteHandler(streamCompleteCallback){var _this2=this;this._oboeStream.done((function(parsedGeojson){streamCompleteCallback({parsedGeojson:parsedGeojson,errors:_this2.getErrors()})}))}},{key:"writeDataToPatternStream",value:function writeDataToPatternStream(data){this._oboeStream.emit("data",data)}},{key:"abortStream",value:function abortStream(){this._oboeStream.abort()}}]);return PatternReader}();exports.PatternReader=PatternReader},2028:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(1652)},2029:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JsonImportProgress=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);var _kibana_services=__webpack_require__(518);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var JsonImportProgress=function(_Component){_inherits(JsonImportProgress,_Component);function JsonImportProgress(){var _getPrototypeOf2;var _this;_classCallCheck(this,JsonImportProgress);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(JsonImportProgress)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{indexDataJson:null,indexPatternJson:null,indexName:"",importStage:""});_defineProperty(_assertThisInitialized(_this),"_setIndex",(function(_ref){var indexName=_ref.indexName;if(indexName&&!_this.state.indexName){_this.setState({indexName:indexName})}}));_defineProperty(_assertThisInitialized(_this),"_formatIndexDataResponse",(function(_ref2){var indexDataResp=_ref2.indexDataResp,indexDataJson=_ref2.indexDataJson;if(indexDataResp&&!indexDataJson){_this.setState({indexDataJson:JSON.stringify(indexDataResp,null,2)})}}));_defineProperty(_assertThisInitialized(_this),"_formatIndexPatternResponse",(function(_ref3){var indexPatternResp=_ref3.indexPatternResp,indexPatternJson=_ref3.indexPatternJson;if(indexPatternResp&&!indexPatternJson){_this.setState({indexPatternJson:JSON.stringify(indexPatternResp,null,2)})}}));return _this}_createClass(JsonImportProgress,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){this._setIndex(this.props);this._formatIndexDataResponse(_objectSpread({},this.state,{},this.props));this._formatIndexPatternResponse(_objectSpread({},this.state,{},this.props));if(prevState.importStage!==this.props.importStage){this.setState({importStage:this.props.importStage})}}},{key:"render",value:function render(){var complete=this.props.complete;var _this$state=this.state,indexPatternJson=_this$state.indexPatternJson,indexDataJson=_this$state.indexDataJson,indexName=_this$state.indexName,importStage=_this$state.importStage;var importMessage=complete?importStage:"".concat(importStage,": ").concat(indexName);return _react.default.createElement(_react.Fragment,null,!complete?_react.default.createElement(_eui.EuiProgress,{size:"xs",color:"accent",position:"absolute"}):null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.fileUpload.jsonImport.indexingStatus",defaultMessage:"Indexing status"}))),_react.default.createElement(_eui.EuiText,null,importMessage&&_react.default.createElement("p",null,importMessage)),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),complete?_react.default.createElement(_react.Fragment,null,indexDataJson?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"xxs"},_react.default.createElement("h4",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.fileUpload.jsonImport.indexingResponse",defaultMessage:"Indexing response"}))),_react.default.createElement(_eui.EuiCodeBlock,{"data-test-subj":"indexRespCodeBlock",paddingSize:"s",overflowHeight:200},indexDataJson),_react.default.createElement(_eui.EuiSpacer,{size:"m"})):null,indexPatternJson?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"xxs"},_react.default.createElement("h4",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.fileUpload.jsonImport.indexPatternResponse",defaultMessage:"Index pattern response"}))),_react.default.createElement(_eui.EuiCodeBlock,{"data-test-subj":"indexPatternRespCodeBlock",paddingSize:"s",overflowHeight:200},indexPatternJson),_react.default.createElement(_eui.EuiSpacer,{size:"m"})):null,_react.default.createElement(_eui.EuiCallOut,null,_react.default.createElement("div",null,_i18n.i18n.translate("xpack.fileUpload.jsonImport.indexModsMsg",{defaultMessage:"Further index modifications can be made using\n"}),_react.default.createElement("a",{"data-test-subj":"indexManagementNewIndexLink",target:"_blank",href:"".concat(_kibana_services.basePath,"/app/kibana#/\n                      management/elasticsearch/index_management/indices/\n                      filter/").concat(indexName).replace(/\s/g,"")},_i18n.i18n.translate("xpack.fileUpload.jsonImport.indexMgmtLink",{defaultMessage:"Index Management"})),"."))):null)}}]);return JsonImportProgress}(_react.Component);exports.JsonImportProgress=JsonImportProgress},203:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIndexingStage=exports.getIsReadOnly=exports.getIsFullScreen=exports.getOpenTOCDetails=exports.getIsLayerTOCOpen=exports.getIsSetViewOpen=exports.getFlyoutDisplay=void 0;var getFlyoutDisplay=function getFlyoutDisplay(_ref){var ui=_ref.ui;return ui.flyoutDisplay};exports.getFlyoutDisplay=getFlyoutDisplay;var getIsSetViewOpen=function getIsSetViewOpen(_ref2){var ui=_ref2.ui;return ui.isSetViewOpen};exports.getIsSetViewOpen=getIsSetViewOpen;var getIsLayerTOCOpen=function getIsLayerTOCOpen(_ref3){var ui=_ref3.ui;return ui.isLayerTOCOpen};exports.getIsLayerTOCOpen=getIsLayerTOCOpen;var getOpenTOCDetails=function getOpenTOCDetails(_ref4){var ui=_ref4.ui;return ui.openTOCDetails};exports.getOpenTOCDetails=getOpenTOCDetails;var getIsFullScreen=function getIsFullScreen(_ref5){var ui=_ref5.ui;return ui.isFullScreen};exports.getIsFullScreen=getIsFullScreen;var getIsReadOnly=function getIsReadOnly(_ref6){var ui=_ref6.ui;return ui.isReadOnly};exports.getIsReadOnly=getIsReadOnly;var getIndexingStage=function getIndexingStage(_ref7){var ui=_ref7.ui;return ui.importIndexingStage};exports.getIndexingStage=getIndexingStage},2030:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ESSearchSource=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _v=_interopRequireDefault(__webpack_require__(186));var _vector_feature_types=__webpack_require__(273);var _es_source=__webpack_require__(1012);var _kibana_services=__webpack_require__(101);var _elasticsearch_geo_utils=__webpack_require__(402);var _create_source_editor=__webpack_require__(2031);var _update_source_editor=__webpack_require__(2032);var _constants=__webpack_require__(25);var _i18n=__webpack_require__(2);var _i18n_getters=__webpack_require__(166);var _index_pattern_util=__webpack_require__(520);var _load_index_settings=__webpack_require__(1025);var _constants2=__webpack_require__(1024);var _es_doc_field=__webpack_require__(515);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getField(indexPattern,fieldName){var field=indexPattern.fields.getByName(fieldName);if(!field){throw new Error(_i18n.i18n.translate("xpack.maps.source.esSearch.fieldNotFoundMsg",{defaultMessage:"Unable to find '{fieldName}' in index-pattern '{indexPatternTitle}'.",values:{fieldName:fieldName,indexPatternTitle:indexPattern.title}}))}return field}function addFieldToDSL(dsl,field){return!field.scripted?_objectSpread({},dsl,{field:field.name}):_objectSpread({},dsl,{script:{source:field.script,lang:field.lang}})}function getDocValueAndSourceFields(indexPattern,fieldNames){var docValueFields=[];var sourceOnlyFields=[];var scriptFields={};fieldNames.forEach((function(fieldName){var field=getField(indexPattern,fieldName);if(field.scripted){scriptFields[field.name]={script:{source:field.script,lang:field.lang}}}else if(field.readFromDocValues){var docValueField=field.type==="date"?{field:fieldName,format:"epoch_millis"}:fieldName;docValueFields.push(docValueField)}else{sourceOnlyFields.push(fieldName)}}));return{docValueFields:docValueFields,sourceOnlyFields:sourceOnlyFields,scriptFields:scriptFields}}var ESSearchSource=function(_AbstractESSource){_inherits(ESSearchSource,_AbstractESSource);_createClass(ESSearchSource,null,[{key:"renderEditor",value:function renderEditor(_ref){var onPreviewSource=_ref.onPreviewSource,inspectorAdapters=_ref.inspectorAdapters;var onSourceConfigChange=function onSourceConfigChange(sourceConfig){if(!sourceConfig){onPreviewSource(null);return}var source=new ESSearchSource(_objectSpread({id:(0,_v.default)()},sourceConfig),inspectorAdapters);onPreviewSource(source)};return _react.default.createElement(_create_source_editor.CreateSourceEditor,{onSourceConfigChange:onSourceConfigChange})}}]);function ESSearchSource(descriptor,inspectorAdapters){var _this;_classCallCheck(this,ESSearchSource);_this=_possibleConstructorReturn(this,_getPrototypeOf(ESSearchSource).call(this,_objectSpread({},descriptor,{id:descriptor.id,type:ESSearchSource.type,indexPatternId:descriptor.indexPatternId,geoField:descriptor.geoField,filterByMapBounds:_lodash.default.get(descriptor,"filterByMapBounds",_constants2.DEFAULT_FILTER_BY_MAP_BOUNDS),tooltipProperties:_lodash.default.get(descriptor,"tooltipProperties",[]),sortField:_lodash.default.get(descriptor,"sortField",""),sortOrder:_lodash.default.get(descriptor,"sortOrder",_constants.SORT_ORDER.DESC),useTopHits:_lodash.default.get(descriptor,"useTopHits",false),topHitsSplitField:descriptor.topHitsSplitField,topHitsSize:_lodash.default.get(descriptor,"topHitsSize",1)}),inspectorAdapters));_this._tooltipFields=_this._descriptor.tooltipProperties.map((function(property){return _this.createField({fieldName:property})}));return _this}_createClass(ESSearchSource,[{key:"createField",value:function createField(_ref2){var fieldName=_ref2.fieldName;return new _es_doc_field.ESDocField({fieldName:fieldName,source:this})}},{key:"renderSourceSettingsEditor",value:function renderSourceSettingsEditor(_ref3){var onChange=_ref3.onChange;return _react.default.createElement(_update_source_editor.UpdateSourceEditor,{source:this,indexPatternId:this._descriptor.indexPatternId,onChange:onChange,tooltipFields:this._tooltipFields,sortField:this._descriptor.sortField,sortOrder:this._descriptor.sortOrder,useTopHits:this._descriptor.useTopHits,topHitsSplitField:this._descriptor.topHitsSplitField,topHitsSize:this._descriptor.topHitsSize})}},{key:"getNumberFields",value:function getNumberFields(){var _this2=this;var indexPattern;return regeneratorRuntime.async((function getNumberFields$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return regeneratorRuntime.awrap(this.getIndexPattern());case 3:indexPattern=_context.sent;return _context.abrupt("return",indexPattern.fields.getByType("number").map((function(field){return _this2.createField({fieldName:field.name})})));case 7:_context.prev=7;_context.t0=_context["catch"](0);return _context.abrupt("return",[]);case 10:case"end":return _context.stop()}}}),null,this,[[0,7]])}},{key:"getDateFields",value:function getDateFields(){var _this3=this;var _indexPattern;return regeneratorRuntime.async((function getDateFields$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return regeneratorRuntime.awrap(this.getIndexPattern());case 3:_indexPattern=_context2.sent;return _context2.abrupt("return",_indexPattern.fields.getByType("date").map((function(field){return _this3.createField({fieldName:field.name})})));case 7:_context2.prev=7;_context2.t0=_context2["catch"](0);return _context2.abrupt("return",[]);case 10:case"end":return _context2.stop()}}}),null,this,[[0,7]])}},{key:"getCategoricalFields",value:function getCategoricalFields(){var _this4=this;var _indexPattern2,aggFields;return regeneratorRuntime.async((function getCategoricalFields$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return regeneratorRuntime.awrap(this.getIndexPattern());case 3:_indexPattern2=_context3.sent;aggFields=[];_constants.CATEGORICAL_DATA_TYPES.forEach((function(dataType){_indexPattern2.fields.getByType(dataType).forEach((function(field){if(field.aggregatable){aggFields.push(field)}}))}));return _context3.abrupt("return",aggFields.map((function(field){return _this4.createField({fieldName:field.name})})));case 9:_context3.prev=9;_context3.t0=_context3["catch"](0);return _context3.abrupt("return",[]);case 12:case"end":return _context3.stop()}}}),null,this,[[0,9]])}},{key:"getFields",value:function getFields(){var _this5=this;var _indexPattern3;return regeneratorRuntime.async((function getFields$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return regeneratorRuntime.awrap(this.getIndexPattern());case 3:_indexPattern3=_context4.sent;return _context4.abrupt("return",_indexPattern3.fields.filter((function(field){return field.aggregatable})).map((function(field){return _this5.createField({fieldName:field.name})})));case 7:_context4.prev=7;_context4.t0=_context4["catch"](0);return _context4.abrupt("return",[]);case 10:case"end":return _context4.stop()}}}),null,this,[[0,7]])}},{key:"getFieldNames",value:function getFieldNames(){return[this._descriptor.geoField]}},{key:"getImmutableProperties",value:function getImmutableProperties(){var indexPatternTitle,geoFieldType,_indexPattern4,geoField;return regeneratorRuntime.async((function getImmutableProperties$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:indexPatternTitle=this._descriptor.indexPatternId;geoFieldType="";_context5.prev=2;_context5.next=5;return regeneratorRuntime.awrap(this.getIndexPattern());case 5:_indexPattern4=_context5.sent;indexPatternTitle=_indexPattern4.title;_context5.next=9;return regeneratorRuntime.awrap(this._getGeoField());case 9:geoField=_context5.sent;geoFieldType=geoField.type;_context5.next=15;break;case 13:_context5.prev=13;_context5.t0=_context5["catch"](2);case 15:return _context5.abrupt("return",[{label:(0,_i18n_getters.getDataSourceLabel)(),value:ESSearchSource.title},{label:_i18n.i18n.translate("xpack.maps.source.esSearch.indexPatternLabel",{defaultMessage:"Index pattern"}),value:indexPatternTitle},{label:_i18n.i18n.translate("xpack.maps.source.esSearch.geoFieldLabel",{defaultMessage:"Geospatial field"}),value:this._descriptor.geoField},{label:_i18n.i18n.translate("xpack.maps.source.esSearch.geoFieldTypeLabel",{defaultMessage:"Geospatial field type"}),value:geoFieldType}]);case 16:case"end":return _context5.stop()}}}),null,this,[[2,13]])}},{key:"_buildEsSort",value:function _buildEsSort(){var _this$_descriptor=this._descriptor,sortField=_this$_descriptor.sortField,sortOrder=_this$_descriptor.sortOrder;return[_defineProperty({},sortField,{order:sortOrder})]}},{key:"_getTopHits",value:function _getTopHits(layerName,searchFilters,registerCancelCallback){var _this$_descriptor2,topHitsSplitFieldName,topHitsSize,indexPattern,_getDocValueAndSource,docValueFields,sourceOnlyFields,scriptFields,topHits,topHitsSplitField,cardinalityAgg,termsAgg,searchSource,resp,allHits,entityBuckets,totalEntities,areEntitiesTrimmed,areTopHitsTrimmed;return regeneratorRuntime.async((function _getTopHits$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_this$_descriptor2=this._descriptor,topHitsSplitFieldName=_this$_descriptor2.topHitsSplitField,topHitsSize=_this$_descriptor2.topHitsSize;_context6.next=3;return regeneratorRuntime.awrap(this.getIndexPattern());case 3:indexPattern=_context6.sent;_getDocValueAndSource=getDocValueAndSourceFields(indexPattern,searchFilters.fieldNames),docValueFields=_getDocValueAndSource.docValueFields,sourceOnlyFields=_getDocValueAndSource.sourceOnlyFields,scriptFields=_getDocValueAndSource.scriptFields;topHits={size:topHitsSize,script_fields:scriptFields,docvalue_fields:docValueFields};if(this._hasSort()){topHits.sort=this._buildEsSort()}if(sourceOnlyFields.length===0){topHits._source=false}else{topHits._source={includes:sourceOnlyFields}}topHitsSplitField=getField(indexPattern,topHitsSplitFieldName);cardinalityAgg={precision_threshold:1};termsAgg={size:_constants.DEFAULT_MAX_BUCKETS_LIMIT,shard_size:_constants.DEFAULT_MAX_BUCKETS_LIMIT};_context6.next=13;return regeneratorRuntime.awrap(this._makeSearchSource(searchFilters,0));case 13:searchSource=_context6.sent;searchSource.setField("aggs",{totalEntities:{cardinality:addFieldToDSL(cardinalityAgg,topHitsSplitField)},entitySplit:{terms:addFieldToDSL(termsAgg,topHitsSplitField),aggs:{entityHits:{top_hits:topHits}}}});_context6.next=17;return regeneratorRuntime.awrap(this._runEsQuery({requestId:this.getId(),requestName:layerName,searchSource:searchSource,registerCancelCallback:registerCancelCallback,requestDescription:"Elasticsearch document top hits request"}));case 17:resp=_context6.sent;allHits=[];entityBuckets=_lodash.default.get(resp,"aggregations.entitySplit.buckets",[]);totalEntities=_lodash.default.get(resp,"aggregations.totalEntities.value",0);areEntitiesTrimmed=entityBuckets.length>=_constants.DEFAULT_MAX_BUCKETS_LIMIT;areTopHitsTrimmed=false;entityBuckets.forEach((function(entityBucket){var total=_lodash.default.get(entityBucket,"entityHits.hits.total",0);var hits=_lodash.default.get(entityBucket,"entityHits.hits.hits",[]);allHits.push.apply(allHits,_toConsumableArray(hits.reverse()));if(total>hits.length){areTopHitsTrimmed=true}}));return _context6.abrupt("return",{hits:allHits,meta:{areResultsTrimmed:areEntitiesTrimmed||areTopHitsTrimmed,areEntitiesTrimmed:areEntitiesTrimmed,entityCount:entityBuckets.length,totalEntities:totalEntities}});case 25:case"end":return _context6.stop()}}}),null,this)}},{key:"_getSearchHits",value:function _getSearchHits(layerName,searchFilters,maxResultWindow,registerCancelCallback){var indexPattern,_getDocValueAndSource2,docValueFields,sourceOnlyFields,initialSearchContext,searchSource,resp;return regeneratorRuntime.async((function _getSearchHits$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return regeneratorRuntime.awrap(this.getIndexPattern());case 2:indexPattern=_context7.sent;_getDocValueAndSource2=getDocValueAndSourceFields(indexPattern,searchFilters.fieldNames),docValueFields=_getDocValueAndSource2.docValueFields,sourceOnlyFields=_getDocValueAndSource2.sourceOnlyFields;initialSearchContext={docvalue_fields:docValueFields};_context7.next=7;return regeneratorRuntime.awrap(this._makeSearchSource(searchFilters,maxResultWindow,initialSearchContext));case 7:searchSource=_context7.sent;searchSource.setField("fields",searchFilters.fieldNames);if(sourceOnlyFields.length===0){searchSource.setField("source",false)}else{searchSource.setField("source",sourceOnlyFields)}if(this._hasSort()){searchSource.setField("sort",this._buildEsSort())}_context7.next=13;return regeneratorRuntime.awrap(this._runEsQuery({requestId:this.getId(),requestName:layerName,searchSource:searchSource,registerCancelCallback:registerCancelCallback,requestDescription:"Elasticsearch document request"}));case 13:resp=_context7.sent;return _context7.abrupt("return",{hits:resp.hits.hits.reverse(),meta:{areResultsTrimmed:resp.hits.total>resp.hits.hits.length}});case 15:case"end":return _context7.stop()}}}),null,this)}},{key:"_isTopHits",value:function _isTopHits(){var _this$_descriptor3=this._descriptor,useTopHits=_this$_descriptor3.useTopHits,topHitsSplitField=_this$_descriptor3.topHitsSplitField;return!!(useTopHits&&topHitsSplitField)}},{key:"_hasSort",value:function _hasSort(){var _this$_descriptor4=this._descriptor,sortField=_this$_descriptor4.sortField,sortOrder=_this$_descriptor4.sortOrder;return!!sortField&&!!sortOrder}},{key:"getGeoJsonWithMeta",value:function getGeoJsonWithMeta(layerName,searchFilters,registerCancelCallback){var indexPattern,indexSettings,_ref5,hits,meta,unusedMetaFields,flattenHit,featureCollection,_geoField;return regeneratorRuntime.async((function getGeoJsonWithMeta$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return regeneratorRuntime.awrap(this.getIndexPattern());case 2:indexPattern=_context8.sent;_context8.next=5;return regeneratorRuntime.awrap((0,_load_index_settings.loadIndexSettings)(indexPattern.title));case 5:indexSettings=_context8.sent;if(!this._isTopHits()){_context8.next=12;break}_context8.next=9;return regeneratorRuntime.awrap(this._getTopHits(layerName,searchFilters,registerCancelCallback));case 9:_context8.t0=_context8.sent;_context8.next=15;break;case 12:_context8.next=14;return regeneratorRuntime.awrap(this._getSearchHits(layerName,searchFilters,indexSettings.maxResultWindow,registerCancelCallback));case 14:_context8.t0=_context8.sent;case 15:_ref5=_context8.t0;hits=_ref5.hits;meta=_ref5.meta;unusedMetaFields=indexPattern.metaFields.filter((function(metaField){return!["_id","_index"].includes(metaField)}));flattenHit=function flattenHit(hit){var properties=indexPattern.flattenHit(hit);unusedMetaFields.forEach((function(metaField){delete properties[metaField]}));return properties};_context8.prev=20;_context8.next=23;return regeneratorRuntime.awrap(this._getGeoField());case 23:_geoField=_context8.sent;featureCollection=(0,_elasticsearch_geo_utils.hitsToGeoJson)(hits,flattenHit,_geoField.name,_geoField.type);_context8.next=30;break;case 27:_context8.prev=27;_context8.t1=_context8["catch"](20);throw new Error(_i18n.i18n.translate("xpack.maps.source.esSearch.convertToGeoJsonErrorMsg",{defaultMessage:"Unable to convert search response to geoJson feature collection, error: {errorMsg}",values:{errorMsg:_context8.t1.message}}));case 30:return _context8.abrupt("return",{data:featureCollection,meta:meta});case 31:case"end":return _context8.stop()}}}),null,this,[[20,27]])}},{key:"canFormatFeatureProperties",value:function canFormatFeatureProperties(){return this._tooltipFields.length>0}},{key:"_loadTooltipProperties",value:function _loadTooltipProperties(docId,index,indexPattern){var _this6=this;var searchSource,query,resp,hit,properties;return regeneratorRuntime.async((function _loadTooltipProperties$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:if(!(this._tooltipFields.length===0)){_context9.next=2;break}return _context9.abrupt("return",{});case 2:searchSource=new _kibana_services.SearchSource;searchSource.setField("index",indexPattern);searchSource.setField("size",1);query={language:"kuery",query:'_id:"'.concat(docId,'" and _index:"').concat(index,'"')};searchSource.setField("query",query);searchSource.setField("fields",this._getTooltipPropertyNames());_context9.next=10;return regeneratorRuntime.awrap(searchSource.fetch());case 10:resp=_context9.sent;hit=_lodash.default.get(resp,"hits.hits[0]");if(hit){_context9.next=14;break}throw new Error(_i18n.i18n.translate("xpack.maps.source.esSearch.loadTooltipPropertiesErrorMsg",{defaultMessage:"Unable to find document, _id: {docId}",values:{docId:docId}}));case 14:properties=indexPattern.flattenHit(hit);indexPattern.metaFields.forEach((function(metaField){if(!_this6._getTooltipPropertyNames().includes(metaField)){delete properties[metaField]}}));return _context9.abrupt("return",properties);case 17:case"end":return _context9.stop()}}}),null,this)}},{key:"filterAndFormatPropertiesToHtml",value:function filterAndFormatPropertiesToHtml(properties){var indexPattern,propertyValues,tooltipProperties;return regeneratorRuntime.async((function filterAndFormatPropertiesToHtml$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return regeneratorRuntime.awrap(this.getIndexPattern());case 2:indexPattern=_context10.sent;_context10.next=5;return regeneratorRuntime.awrap(this._loadTooltipProperties(properties._id,properties._index,indexPattern));case 5:propertyValues=_context10.sent;tooltipProperties=this._tooltipFields.map((function(field){var value=propertyValues[field.getName()];return field.createTooltipProperty(value)}));return _context10.abrupt("return",Promise.all(tooltipProperties));case 8:case"end":return _context10.stop()}}}),null,this)}},{key:"isFilterByMapBounds",value:function isFilterByMapBounds(){return _lodash.default.get(this._descriptor,"filterByMapBounds",false)}},{key:"isFilterByMapBoundsConfigurable",value:function isFilterByMapBoundsConfigurable(){return true}},{key:"getLeftJoinFields",value:function getLeftJoinFields(){var _this7=this;var indexPattern;return regeneratorRuntime.async((function getLeftJoinFields$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return regeneratorRuntime.awrap(this.getIndexPattern());case 2:indexPattern=_context11.sent;return _context11.abrupt("return",(0,_index_pattern_util.getSourceFields)(indexPattern.fields).map((function(field){return _this7.createField({fieldName:field.name})})));case 4:case"end":return _context11.stop()}}}),null,this)}},{key:"getSupportedShapeTypes",value:function getSupportedShapeTypes(){var geoFieldType,_geoField2;return regeneratorRuntime.async((function getSupportedShapeTypes$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.prev=0;_context12.next=3;return regeneratorRuntime.awrap(this._getGeoField());case 3:_geoField2=_context12.sent;geoFieldType=_geoField2.type;_context12.next=9;break;case 7:_context12.prev=7;_context12.t0=_context12["catch"](0);case 9:if(!(geoFieldType===_constants.ES_GEO_FIELD_TYPE.GEO_POINT)){_context12.next=11;break}return _context12.abrupt("return",[_vector_feature_types.VECTOR_SHAPE_TYPES.POINT]);case 11:return _context12.abrupt("return",[_vector_feature_types.VECTOR_SHAPE_TYPES.POINT,_vector_feature_types.VECTOR_SHAPE_TYPES.LINE,_vector_feature_types.VECTOR_SHAPE_TYPES.POLYGON]);case 12:case"end":return _context12.stop()}}}),null,this,[[0,7]])}},{key:"getSourceTooltipContent",value:function getSourceTooltipContent(sourceDataRequest){var featureCollection=sourceDataRequest?sourceDataRequest.getData():null;var meta=sourceDataRequest?sourceDataRequest.getMeta():null;if(!featureCollection||!meta){return{tooltipContent:null,areResultsTrimmed:false}}if(this._isTopHits()){var entitiesFoundMsg=meta.areEntitiesTrimmed?_i18n.i18n.translate("xpack.maps.esSearch.topHitsResultsTrimmedMsg",{defaultMessage:"Results limited to first {entityCount} entities of ~{totalEntities}.",values:{entityCount:meta.entityCount,totalEntities:meta.totalEntities}}):_i18n.i18n.translate("xpack.maps.esSearch.topHitsEntitiesCountMsg",{defaultMessage:"Found {entityCount} entities.",values:{entityCount:meta.entityCount}});var docsPerEntityMsg=_i18n.i18n.translate("xpack.maps.esSearch.topHitsSizeMsg",{defaultMessage:"Showing top {topHitsSize} documents per entity.",values:{topHitsSize:this._descriptor.topHitsSize}});return{tooltipContent:"".concat(entitiesFoundMsg," ").concat(docsPerEntityMsg),areResultsTrimmed:meta.areEntitiesTrimmed}}if(meta.areResultsTrimmed){return{tooltipContent:_i18n.i18n.translate("xpack.maps.esSearch.resultsTrimmedMsg",{defaultMessage:"Results limited to first {count} documents.",values:{count:featureCollection.features.length}}),areResultsTrimmed:true}}return{tooltipContent:_i18n.i18n.translate("xpack.maps.esSearch.featureCountMsg",{defaultMessage:"Found {count} documents.",values:{count:featureCollection.features.length}}),areResultsTrimmed:false}}},{key:"getSyncMeta",value:function getSyncMeta(){return{sortField:this._descriptor.sortField,sortOrder:this._descriptor.sortOrder,useTopHits:this._descriptor.useTopHits,topHitsSplitField:this._descriptor.topHitsSplitField,topHitsSize:this._descriptor.topHitsSize}}},{key:"getPreIndexedShape",value:function getPreIndexedShape(properties){var geoField;return regeneratorRuntime.async((function getPreIndexedShape$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return regeneratorRuntime.awrap(this._getGeoField());case 2:geoField=_context13.sent;return _context13.abrupt("return",{index:properties._index,id:properties._id,path:geoField.name});case 4:case"end":return _context13.stop()}}}),null,this)}}]);return ESSearchSource}(_es_source.AbstractESSource);exports.ESSearchSource=ESSearchSource;_defineProperty(ESSearchSource,"type",_constants.ES_SEARCH);_defineProperty(ESSearchSource,"title",_i18n.i18n.translate("xpack.maps.source.esSearchTitle",{defaultMessage:"Documents"}));_defineProperty(ESSearchSource,"description",_i18n.i18n.translate("xpack.maps.source.esSearchDescription",{defaultMessage:"Vector data from a Kibana index pattern"}))},2031:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CreateSourceEditor=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(1);var _single_field_select=__webpack_require__(330);var _kibana_services=__webpack_require__(101);var _no_index_pattern_callout=__webpack_require__(1023);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(2);var _kfetch=__webpack_require__(72);var _constants=__webpack_require__(25);var _constants2=__webpack_require__(1024);var _public=__webpack_require__(11);var _new_platform=__webpack_require__(7);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IndexPatternSelect=_new_platform.npStart.plugins.data.ui.IndexPatternSelect;function filterGeoField(field){return[_constants.ES_GEO_FIELD_TYPE.GEO_POINT,_constants.ES_GEO_FIELD_TYPE.GEO_SHAPE].includes(field.type)}var RESET_INDEX_PATTERN_STATE={indexPattern:undefined,geoField:undefined,filterByMapBounds:_constants2.DEFAULT_FILTER_BY_MAP_BOUNDS,showFilterByBoundsSwitch:false};var CreateSourceEditor=function(_Component){_inherits(CreateSourceEditor,_Component);function CreateSourceEditor(){var _getPrototypeOf2;var _this;_classCallCheck(this,CreateSourceEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CreateSourceEditor)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",_objectSpread({isLoadingIndexPattern:false,noGeoIndexPatternsExist:false},RESET_INDEX_PATTERN_STATE));_defineProperty(_assertThisInitialized(_this),"onIndexPatternSelect",(function(indexPatternId){_this.setState({indexPatternId:indexPatternId},_this.loadIndexPattern(indexPatternId))}));_defineProperty(_assertThisInitialized(_this),"loadIndexPattern",(function(indexPatternId){_this.setState(_objectSpread({isLoadingIndexPattern:true},RESET_INDEX_PATTERN_STATE),_this.debouncedLoad.bind(null,indexPatternId))}));_defineProperty(_assertThisInitialized(_this),"loadIndexDocCount",(function _callee(indexPatternTitle){var _ref,count;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap((0,_kfetch.kfetch)({pathname:"../".concat(_constants.GIS_API_PATH,"/indexCount"),query:{index:indexPatternTitle}}));case 2:_ref=_context.sent;count=_ref.count;return _context.abrupt("return",count);case 5:case"end":return _context.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"debouncedLoad",_lodash.default.debounce((function _callee2(indexPatternId){var indexPattern,indexHasSmallDocCount,indexDocCount,geoFields;return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(!indexPatternId||indexPatternId.length===0)){_context2.next=2;break}return _context2.abrupt("return");case 2:_context2.prev=2;_context2.next=5;return regeneratorRuntime.awrap(_kibana_services.indexPatternService.get(indexPatternId));case 5:indexPattern=_context2.sent;_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2["catch"](2);return _context2.abrupt("return");case 11:indexHasSmallDocCount=false;_context2.prev=12;_context2.next=15;return regeneratorRuntime.awrap(_this.loadIndexDocCount(indexPattern.title));case 15:indexDocCount=_context2.sent;indexHasSmallDocCount=indexDocCount<=_constants.DEFAULT_MAX_RESULT_WINDOW;_context2.next=21;break;case 19:_context2.prev=19;_context2.t1=_context2["catch"](12);case 21:if(_this._isMounted){_context2.next=23;break}return _context2.abrupt("return");case 23:if(!(indexPattern.id!==indexPatternId)){_context2.next=25;break}return _context2.abrupt("return");case 25:_this.setState({isLoadingIndexPattern:false,indexPattern:indexPattern,filterByMapBounds:!indexHasSmallDocCount,showFilterByBoundsSwitch:indexHasSmallDocCount});geoFields=indexPattern.fields.filter((function(field){return!(0,_public.isNestedField)(field)})).filter(filterGeoField);if(geoFields[0]){_this.onGeoFieldSelect(geoFields[0].name)}case 28:case"end":return _context2.stop()}}}),null,null,[[2,8],[12,19]])}),300));_defineProperty(_assertThisInitialized(_this),"onGeoFieldSelect",(function(geoField){_this.setState({geoField:geoField},_this.previewLayer)}));_defineProperty(_assertThisInitialized(_this),"onFilterByMapBoundsChange",(function(event){_this.setState({filterByMapBounds:event.target.checked},_this.previewLayer)}));_defineProperty(_assertThisInitialized(_this),"previewLayer",(function(){var _this$state=_this.state,indexPatternId=_this$state.indexPatternId,geoField=_this$state.geoField,filterByMapBounds=_this$state.filterByMapBounds;var sourceConfig=indexPatternId&&geoField?{indexPatternId:indexPatternId,geoField:geoField,filterByMapBounds:filterByMapBounds}:null;_this.props.onSourceConfigChange(sourceConfig)}));_defineProperty(_assertThisInitialized(_this),"_onNoIndexPatterns",(function(){_this.setState({noGeoIndexPatternsExist:true})}));return _this}_createClass(CreateSourceEditor,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this.loadIndexPattern(this.state.indexPatternId)}},{key:"_renderGeoSelect",value:function _renderGeoSelect(){if(!this.state.indexPattern){return}return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.esSearch.geofieldLabel",{defaultMessage:"Geospatial field"})},_react.default.createElement(_single_field_select.SingleFieldSelect,{placeholder:_i18n.i18n.translate("xpack.maps.source.esSearch.selectLabel",{defaultMessage:"Select geo field"}),value:this.state.geoField,onChange:this.onGeoFieldSelect,filterField:filterGeoField,fields:this.state.indexPattern?this.state.indexPattern.fields.filter((function(field){return!(0,_public.isNestedField)(field)})):undefined}))}},{key:"_renderFilterByMapBounds",value:function _renderFilterByMapBounds(){if(!this.state.showFilterByBoundsSwitch){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.maps.source.esSearch.disableFilterByMapBoundsTitle",{defaultMessage:"Dynamic data filter disabled"})},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.source.esSearch.disableFilterByMapBoundsExplainMsg",defaultMessage:"Index '{indexPatternTitle}' has a small number of documents and does not require dynamic filtering.",values:{indexPatternTitle:this.state.indexPattern?this.state.indexPattern.title:this.state.indexPatternId}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.source.esSearch.disableFilterByMapBoundsTurnOnMsg",defaultMessage:"Turn on dynamic filtering if you expect the number of documents to increase."}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFormRow,null,_react.default.createElement(_eui.EuiSwitch,{label:_i18n.i18n.translate("xpack.maps.source.esSearch.extentFilterLabel",{defaultMessage:"Dynamically filter for data in the visible map area"}),checked:this.state.filterByMapBounds,onChange:this.onFilterByMapBoundsChange})))}},{key:"_renderNoIndexPatternWarning",value:function _renderNoIndexPatternWarning(){if(!this.state.noGeoIndexPatternsExist){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_no_index_pattern_callout.NoIndexPatternCallout,null),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}},{key:"render",value:function render(){return _react.default.createElement(_react.Fragment,null,this._renderNoIndexPatternWarning(),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.esSearch.indexPatternLabel",{defaultMessage:"Index pattern"})},_react.default.createElement(IndexPatternSelect,{isDisabled:this.state.noGeoIndexPatternsExist,indexPatternId:this.state.indexPatternId,onChange:this.onIndexPatternSelect,placeholder:_i18n.i18n.translate("xpack.maps.source.esSearch.selectIndexPatternPlaceholder",{defaultMessage:"Select index pattern"}),fieldTypes:[_constants.ES_GEO_FIELD_TYPE.GEO_POINT,_constants.ES_GEO_FIELD_TYPE.GEO_SHAPE],onNoIndexPatterns:this._onNoIndexPatterns})),this._renderGeoSelect(),this._renderFilterByMapBounds())}}]);return CreateSourceEditor}(_react.Component);exports.CreateSourceEditor=CreateSourceEditor;_defineProperty(CreateSourceEditor,"propTypes",{onSourceConfigChange:_propTypes.default.func.isRequired})},2032:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpdateSourceEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(1);var _single_field_select=__webpack_require__(330);var _tooltip_selector=__webpack_require__(1018);var _kibana_services=__webpack_require__(101);var _i18n=__webpack_require__(2);var _index_pattern_util=__webpack_require__(520);var _validated_range=__webpack_require__(514);var _constants=__webpack_require__(25);var _es_doc_field=__webpack_require__(515);var _react2=__webpack_require__(4);var _load_index_settings=__webpack_require__(1025);var _public=__webpack_require__(11);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var UpdateSourceEditor=function(_Component){_inherits(UpdateSourceEditor,_Component);function UpdateSourceEditor(){var _getPrototypeOf2;var _this;_classCallCheck(this,UpdateSourceEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UpdateSourceEditor)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{sourceFields:null,termFields:null,sortFields:null,maxInnerResultWindow:_constants.DEFAULT_MAX_INNER_RESULT_WINDOW});_defineProperty(_assertThisInitialized(_this),"_onTooltipPropertiesChange",(function(propertyNames){_this.props.onChange({propName:"tooltipProperties",value:propertyNames})}));_defineProperty(_assertThisInitialized(_this),"onUseTopHitsChange",(function(event){_this.props.onChange({propName:"useTopHits",value:event.target.checked})}));_defineProperty(_assertThisInitialized(_this),"onTopHitsSplitFieldChange",(function(topHitsSplitField){_this.props.onChange({propName:"topHitsSplitField",value:topHitsSplitField})}));_defineProperty(_assertThisInitialized(_this),"onSortFieldChange",(function(sortField){_this.props.onChange({propName:"sortField",value:sortField})}));_defineProperty(_assertThisInitialized(_this),"onSortOrderChange",(function(e){_this.props.onChange({propName:"sortOrder",value:e.target.value})}));_defineProperty(_assertThisInitialized(_this),"onTopHitsSizeChange",(function(size){_this.props.onChange({propName:"topHitsSize",value:size})}));return _this}_createClass(UpdateSourceEditor,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this.loadFields();this.loadIndexSettings()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"loadIndexSettings",value:function loadIndexSettings(){var indexPattern,_ref,maxInnerResultWindow;return regeneratorRuntime.async((function loadIndexSettings$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return regeneratorRuntime.awrap(_kibana_services.indexPatternService.get(this.props.indexPatternId));case 3:indexPattern=_context.sent;_context.next=6;return regeneratorRuntime.awrap((0,_load_index_settings.loadIndexSettings)(indexPattern.title));case 6:_ref=_context.sent;maxInnerResultWindow=_ref.maxInnerResultWindow;if(this._isMounted){this.setState({maxInnerResultWindow:maxInnerResultWindow})}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context["catch"](0);return _context.abrupt("return");case 14:case"end":return _context.stop()}}}),null,this,[[0,11]])}},{key:"loadFields",value:function loadFields(){var _this2=this;var indexPattern,rawTooltipFields,sourceFields;return regeneratorRuntime.async((function loadFields$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return regeneratorRuntime.awrap(_kibana_services.indexPatternService.get(this.props.indexPatternId));case 3:indexPattern=_context2.sent;_context2.next=10;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](0);if(this._isMounted){this.setState({loadError:_i18n.i18n.translate("xpack.maps.source.esSearch.loadErrorMessage",{defaultMessage:"Unable to find Index pattern {id}",values:{id:this.props.indexPatternId}})})}return _context2.abrupt("return");case 10:if(this._isMounted){_context2.next=12;break}return _context2.abrupt("return");case 12:rawTooltipFields=(0,_index_pattern_util.getSourceFields)(indexPattern.fields);sourceFields=rawTooltipFields.map((function(field){return new _es_doc_field.ESDocField({fieldName:field.name,source:_this2.props.source})}));this.setState({sourceFields:sourceFields,termFields:(0,_index_pattern_util.getTermsFields)(indexPattern.fields),sortFields:indexPattern.fields.filter((function(field){return field.sortable&&!(0,_public.isNestedField)(field)}))});case 15:case"end":return _context2.stop()}}}),null,this,[[0,6]])}},{key:"renderTopHitsForm",value:function renderTopHitsForm(){var topHitsSwitch=_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.esSearch.topHitsLabel",{defaultMessage:"Top hits"}),display:"columnCompressed"},_react.default.createElement(_eui.EuiSwitch,{label:_i18n.i18n.translate("xpack.maps.source.esSearch.useTopHitsLabel",{defaultMessage:"Show top hits per entity"}),checked:this.props.useTopHits,onChange:this.onUseTopHitsChange,compressed:true}));if(!this.props.useTopHits){return topHitsSwitch}var sizeSlider;if(this.props.topHitsSplitField){sizeSlider=_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.esSearch.topHitsSizeLabel",{defaultMessage:"Documents per entity"}),display:"columnCompressed"},_react.default.createElement(_validated_range.ValidatedRange,{min:1,max:this.state.maxInnerResultWindow,step:1,value:this.props.topHitsSize,onChange:this.onTopHitsSizeChange,showLabels:true,showInput:true,showRange:true,"data-test-subj":"layerPanelTopHitsSize",compressed:true}))}return _react.default.createElement(_react.Fragment,null,topHitsSwitch,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.esSearch.topHitsSplitFieldLabel",{defaultMessage:"Entity"}),display:"columnCompressed"},_react.default.createElement(_single_field_select.SingleFieldSelect,{placeholder:_i18n.i18n.translate("xpack.maps.source.esSearch.topHitsSplitFieldSelectPlaceholder",{defaultMessage:"Select entity field"}),value:this.props.topHitsSplitField,onChange:this.onTopHitsSplitFieldChange,fields:this.state.termFields,compressed:true})),sizeSlider)}},{key:"_renderTooltipsPanel",value:function _renderTooltipsPanel(){return _react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h5",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.esSearch.tooltipsTitle",defaultMessage:"Tooltip fields"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_tooltip_selector.TooltipSelector,{tooltipFields:this.props.tooltipFields,onChange:this._onTooltipPropertiesChange,fields:this.state.sourceFields}))}},{key:"_renderSortPanel",value:function _renderSortPanel(){return _react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h5",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.esSearch.sortTitle",defaultMessage:"Sorting"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.esSearch.sortFieldLabel",{defaultMessage:"Field"}),display:"columnCompressed"},_react.default.createElement(_single_field_select.SingleFieldSelect,{placeholder:_i18n.i18n.translate("xpack.maps.source.esSearch.sortFieldSelectPlaceholder",{defaultMessage:"Select sort field"}),value:this.props.sortField,onChange:this.onSortFieldChange,fields:this.state.sortFields,compressed:true})),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.esSearch.sortOrderLabel",{defaultMessage:"Order"}),display:"columnCompressed"},_react.default.createElement(_eui.EuiSelect,{disabled:!this.props.sortField,options:[{text:_i18n.i18n.translate("xpack.maps.source.esSearch.ascendingLabel",{defaultMessage:"ascending"}),value:_constants.SORT_ORDER.ASC},{text:_i18n.i18n.translate("xpack.maps.source.esSearch.descendingLabel",{defaultMessage:"descending"}),value:_constants.SORT_ORDER.DESC}],value:this.props.sortOrder,onChange:this.onSortOrderChange,compressed:true})),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"xs"}),this.renderTopHitsForm())}},{key:"render",value:function render(){return _react.default.createElement(_react.Fragment,null,this._renderTooltipsPanel(),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),this._renderSortPanel(),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}}]);return UpdateSourceEditor}(_react.Component);exports.UpdateSourceEditor=UpdateSourceEditor;_defineProperty(UpdateSourceEditor,"propTypes",{indexPatternId:_propTypes.default.string.isRequired,onChange:_propTypes.default.func.isRequired,tooltipFields:_propTypes.default.arrayOf(_propTypes.default.object).isRequired,sortField:_propTypes.default.string,sortOrder:_propTypes.default.string.isRequired,useTopHits:_propTypes.default.bool.isRequired,topHitsSplitField:_propTypes.default.string,topHitsSize:_propTypes.default.number.isRequired,source:_propTypes.default.object})},2033:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"KibanaRegionmapSource",{enumerable:true,get:function get(){return _kibana_regionmap_source.KibanaRegionmapSource}});var _kibana_regionmap_source=__webpack_require__(2034)},2034:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KibanaRegionmapSource=void 0;var _vector_source=__webpack_require__(517);var _react=_interopRequireDefault(__webpack_require__(0));var _create_source_editor=__webpack_require__(2035);var _meta=__webpack_require__(165);var _i18n=__webpack_require__(2);var _i18n_getters=__webpack_require__(166);var _constants=__webpack_require__(25);var _kibana_region_field=__webpack_require__(2036);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var KibanaRegionmapSource=function(_AbstractVectorSource){_inherits(KibanaRegionmapSource,_AbstractVectorSource);function KibanaRegionmapSource(){_classCallCheck(this,KibanaRegionmapSource);return _possibleConstructorReturn(this,_getPrototypeOf(KibanaRegionmapSource).apply(this,arguments))}_createClass(KibanaRegionmapSource,[{key:"createField",value:function createField(_ref){var fieldName=_ref.fieldName;return new _kibana_region_field.KibanaRegionField({fieldName:fieldName,source:this,origin:_constants.FIELD_ORIGIN.SOURCE})}},{key:"getImmutableProperties",value:function getImmutableProperties(){return regeneratorRuntime.async((function getImmutableProperties$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",[{label:(0,_i18n_getters.getDataSourceLabel)(),value:KibanaRegionmapSource.title},{label:_i18n.i18n.translate("xpack.maps.source.kbnRegionMap.vectorLayerLabel",{defaultMessage:"Vector layer"}),value:this._descriptor.name}]);case 1:case"end":return _context.stop()}}}),null,this)}},{key:"getVectorFileMeta",value:function getVectorFileMeta(){var _this=this;var regionList,meta;return regeneratorRuntime.async((function getVectorFileMeta$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:regionList=(0,_meta.getKibanaRegionList)();meta=regionList.find((function(source){return source.name===_this._descriptor.name}));if(meta){_context2.next=4;break}throw new Error(_i18n.i18n.translate("xpack.maps.source.kbnRegionMap.noConfigErrorMessage",{defaultMessage:"Unable to find map.regionmap configuration for {name}",values:{name:this._descriptor.name}}));case 4:return _context2.abrupt("return",meta);case 5:case"end":return _context2.stop()}}}),null,this)}},{key:"getGeoJsonWithMeta",value:function getGeoJsonWithMeta(){var vectorFileMeta,featureCollection;return regeneratorRuntime.async((function getGeoJsonWithMeta$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return regeneratorRuntime.awrap(this.getVectorFileMeta());case 2:vectorFileMeta=_context3.sent;_context3.next=5;return regeneratorRuntime.awrap(_vector_source.AbstractVectorSource.getGeoJson({format:vectorFileMeta.format.type,featureCollectionPath:vectorFileMeta.meta.feature_collection_path,fetchUrl:vectorFileMeta.url}));case 5:featureCollection=_context3.sent;return _context3.abrupt("return",{data:featureCollection});case 7:case"end":return _context3.stop()}}}),null,this)}},{key:"getLeftJoinFields",value:function getLeftJoinFields(){var _this2=this;var vectorFileMeta;return regeneratorRuntime.async((function getLeftJoinFields$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return regeneratorRuntime.awrap(this.getVectorFileMeta());case 2:vectorFileMeta=_context4.sent;return _context4.abrupt("return",vectorFileMeta.fields.map((function(f){return _this2.createField({fieldName:f.name})})));case 4:case"end":return _context4.stop()}}}),null,this)}},{key:"getDisplayName",value:function getDisplayName(){return regeneratorRuntime.async((function getDisplayName$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",this._descriptor.name);case 1:case"end":return _context5.stop()}}}),null,this)}},{key:"isTimeAware",value:function isTimeAware(){return regeneratorRuntime.async((function isTimeAware$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",false);case 1:case"end":return _context6.stop()}}}))}},{key:"canFormatFeatureProperties",value:function canFormatFeatureProperties(){return true}}],[{key:"createDescriptor",value:function createDescriptor(_ref2){var name=_ref2.name;return{type:KibanaRegionmapSource.type,name:name}}}]);return KibanaRegionmapSource}(_vector_source.AbstractVectorSource);exports.KibanaRegionmapSource=KibanaRegionmapSource;_defineProperty(KibanaRegionmapSource,"type","REGIONMAP_FILE");_defineProperty(KibanaRegionmapSource,"title",_i18n.i18n.translate("xpack.maps.source.kbnRegionMapTitle",{defaultMessage:"Configured GeoJSON"}));_defineProperty(KibanaRegionmapSource,"description",_i18n.i18n.translate("xpack.maps.source.kbnRegionMapDescription",{defaultMessage:"Vector data from hosted GeoJSON configured in kibana.yml"}));_defineProperty(KibanaRegionmapSource,"icon","logoKibana");_defineProperty(KibanaRegionmapSource,"renderEditor",(function(_ref3){var onPreviewSource=_ref3.onPreviewSource,inspectorAdapters=_ref3.inspectorAdapters;var onSourceConfigChange=function onSourceConfigChange(sourceConfig){var sourceDescriptor=KibanaRegionmapSource.createDescriptor(sourceConfig);var source=new KibanaRegionmapSource(sourceDescriptor,inspectorAdapters);onPreviewSource(source)};return _react.default.createElement(_create_source_editor.CreateSourceEditor,{onSourceConfigChange:onSourceConfigChange})}))},2035:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CreateSourceEditor=CreateSourceEditor;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(1);var _meta=__webpack_require__(165);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function CreateSourceEditor(_ref){var onSourceConfigChange=_ref.onSourceConfigChange;var onChange=function onChange(_ref2){var target=_ref2.target;var selectedName=target.options[target.selectedIndex].text;onSourceConfigChange({name:selectedName})};var regionmapOptions=(0,_meta.getKibanaRegionList)().map((function(_ref3){var name=_ref3.name,url=_ref3.url;return{value:url,text:name}}));var helpText=regionmapOptions.length===0?_i18n.i18n.translate("xpack.maps.source.kbnRegionMap.noLayerAvailableHelptext",{defaultMessage:'No vector layers are available. Ask your system administrator to set "map.regionmap" in kibana.yml.'}):null;return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.kbnRegionMap.vectorLayerLabel",{defaultMessage:"Vector layer"}),helpText:helpText},_react.default.createElement(_eui.EuiSelect,{hasNoInitialSelection:true,options:regionmapOptions,onChange:onChange,disabled:regionmapOptions.length===0}))}CreateSourceEditor.propTypes={onSourceConfigChange:_propTypes.default.func.isRequired}},2036:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KibanaRegionField=void 0;var _field=__webpack_require__(516);var _tooltip_property=__webpack_require__(406);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var KibanaRegionField=function(_AbstractField){_inherits(KibanaRegionField,_AbstractField);function KibanaRegionField(){_classCallCheck(this,KibanaRegionField);return _possibleConstructorReturn(this,_getPrototypeOf(KibanaRegionField).apply(this,arguments))}_createClass(KibanaRegionField,[{key:"getLabel",value:function getLabel(){var _this=this;var meta,field;return regeneratorRuntime.async((function getLabel$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(this._source.getVectorFileMeta());case 2:meta=_context.sent;field=meta.fields.find((function(f){return f.name===_this._fieldName}));return _context.abrupt("return",field?field.description:this._fieldName);case 5:case"end":return _context.stop()}}}),null,this)}},{key:"createTooltipProperty",value:function createTooltipProperty(value){var label;return regeneratorRuntime.async((function createTooltipProperty$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return regeneratorRuntime.awrap(this.getLabel());case 2:label=_context2.sent;return _context2.abrupt("return",new _tooltip_property.TooltipProperty(this.getName(),label,value));case 4:case"end":return _context2.stop()}}}),null,this)}}]);return KibanaRegionField}(_field.AbstractField);exports.KibanaRegionField=KibanaRegionField;_defineProperty(KibanaRegionField,"type","KIBANA_REGION")},2037:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.XYZTMSSource=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _tms_source=__webpack_require__(521);var _tile_layer=__webpack_require__(403);var _i18n=__webpack_require__(2);var _i18n_getters=__webpack_require__(166);var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var XYZTMSSource=function(_AbstractTMSSource){_inherits(XYZTMSSource,_AbstractTMSSource);function XYZTMSSource(){_classCallCheck(this,XYZTMSSource);return _possibleConstructorReturn(this,_getPrototypeOf(XYZTMSSource).apply(this,arguments))}_createClass(XYZTMSSource,[{key:"getImmutableProperties",value:function getImmutableProperties(){return regeneratorRuntime.async((function getImmutableProperties$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",[{label:(0,_i18n_getters.getDataSourceLabel)(),value:XYZTMSSource.title},{label:(0,_i18n_getters.getUrlLabel)(),value:this._descriptor.urlTemplate}]);case 1:case"end":return _context.stop()}}}),null,this)}},{key:"_createDefaultLayerDescriptor",value:function _createDefaultLayerDescriptor(options){return _tile_layer.TileLayer.createDescriptor(_objectSpread({sourceDescriptor:this._descriptor},options))}},{key:"createDefaultLayer",value:function createDefaultLayer(options){return new _tile_layer.TileLayer({layerDescriptor:this._createDefaultLayerDescriptor(options),source:this})}},{key:"getDisplayName",value:function getDisplayName(){return regeneratorRuntime.async((function getDisplayName$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",this._descriptor.urlTemplate);case 1:case"end":return _context2.stop()}}}),null,this)}},{key:"getAttributions",value:function getAttributions(){var _this$_descriptor=this._descriptor,attributionText=_this$_descriptor.attributionText,attributionUrl=_this$_descriptor.attributionUrl;var attributionComplete=!!attributionText&&!!attributionUrl;return attributionComplete?[{url:attributionUrl,label:attributionText}]:[]}},{key:"getUrlTemplate",value:function getUrlTemplate(){return this._descriptor.urlTemplate}}],[{key:"createDescriptor",value:function createDescriptor(_ref){var urlTemplate=_ref.urlTemplate,attributionText=_ref.attributionText,attributionUrl=_ref.attributionUrl;return{type:XYZTMSSource.type,urlTemplate:urlTemplate,attributionText:attributionText,attributionUrl:attributionUrl}}},{key:"renderEditor",value:function renderEditor(_ref2){var onPreviewSource=_ref2.onPreviewSource,inspectorAdapters=_ref2.inspectorAdapters;var onSourceConfigChange=function onSourceConfigChange(sourceConfig){var sourceDescriptor=XYZTMSSource.createDescriptor(sourceConfig);var source=new XYZTMSSource(sourceDescriptor,inspectorAdapters);onPreviewSource(source)};return _react.default.createElement(XYZTMSEditor,{onSourceConfigChange:onSourceConfigChange})}}]);return XYZTMSSource}(_tms_source.AbstractTMSSource);exports.XYZTMSSource=XYZTMSSource;_defineProperty(XYZTMSSource,"type","EMS_XYZ");_defineProperty(XYZTMSSource,"title",_i18n.i18n.translate("xpack.maps.source.ems_xyzTitle",{defaultMessage:"Tile Map Service"}));_defineProperty(XYZTMSSource,"description",_i18n.i18n.translate("xpack.maps.source.ems_xyzDescription",{defaultMessage:"Tile map service configured in interface"}));_defineProperty(XYZTMSSource,"icon","grid");var XYZTMSEditor=function(_React$Component){_inherits(XYZTMSEditor,_React$Component);function XYZTMSEditor(){var _getPrototypeOf2;var _this;_classCallCheck(this,XYZTMSEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(XYZTMSEditor)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{tmsInput:"",tmsCanPreview:false,attributionText:"",attributionUrl:""});_defineProperty(_assertThisInitialized(_this),"_sourceConfigChange",_lodash.default.debounce((function(updatedSourceConfig){if(_this.state.tmsCanPreview){_this.props.onSourceConfigChange(updatedSourceConfig)}}),2e3));return _this}_createClass(XYZTMSEditor,[{key:"_handleTMSInputChange",value:function _handleTMSInputChange(e){var _this2=this;var url=e.target.value;var canPreview=url.indexOf("{x}")>=0&&url.indexOf("{y}")>=0&&url.indexOf("{z}")>=0;this.setState({tmsInput:url,tmsCanPreview:canPreview},(function(){return _this2._sourceConfigChange({urlTemplate:url})}))}},{key:"_handleTMSAttributionChange",value:function _handleTMSAttributionChange(attributionUpdate){var _this3=this;this.setState(attributionUpdate,(function(){var _this3$state=_this3.state,attributionText=_this3$state.attributionText,attributionUrl=_this3$state.attributionUrl,tmsInput=_this3$state.tmsInput;if(tmsInput&&attributionText&&attributionUrl){_this3._sourceConfigChange({urlTemplate:tmsInput,attributionText:attributionText,attributionUrl:attributionUrl})}}))}},{key:"render",value:function render(){var _this4=this;var _this$state=this.state,attributionText=_this$state.attributionText,attributionUrl=_this$state.attributionUrl;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:"Url"},_react.default.createElement(_eui.EuiFieldText,{placeholder:"https://a.tile.openstreetmap.org/{z}/{x}/{y}.png",onChange:function onChange(e){return _this4._handleTMSInputChange(e)}})),_react.default.createElement(_eui.EuiFormRow,{label:"Attribution text",isInvalid:attributionUrl!==""&&attributionText==="",error:[_i18n.i18n.translate("xpack.maps.xyztmssource.attributionText",{defaultMessage:"Attribution url must have accompanying text"})]},_react.default.createElement(_eui.EuiFieldText,{placeholder:" OpenStreetMap contributors",onChange:function onChange(_ref3){var target=_ref3.target;return _this4._handleTMSAttributionChange({attributionText:target.value})}})),_react.default.createElement(_eui.EuiFormRow,{label:"Attribution link",isInvalid:attributionText!==""&&attributionUrl==="",error:[_i18n.i18n.translate("xpack.maps.xyztmssource.attributionLink",{defaultMessage:"Attribution text must have an accompanying link"})]},_react.default.createElement(_eui.EuiFieldText,{placeholder:"https://www.openstreetmap.org/copyright",onChange:function onChange(_ref4){var target=_ref4.target;return _this4._handleTMSAttributionChange({attributionUrl:target.value})}})))}}]);return XYZTMSEditor}(_react.default.Component)},2038:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EMSTMSSource=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _chrome=_interopRequireDefault(__webpack_require__(8));var _react=_interopRequireDefault(__webpack_require__(0));var _tms_source=__webpack_require__(521);var _vector_tile_layer=__webpack_require__(1002);var _meta=__webpack_require__(165);var _tile_service_select=__webpack_require__(1027);var _update_source_editor=__webpack_require__(2039);var _i18n=__webpack_require__(2);var _i18n_getters=__webpack_require__(166);var _constants=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EMSTMSSource=function(_AbstractTMSSource){_inherits(EMSTMSSource,_AbstractTMSSource);_createClass(EMSTMSSource,null,[{key:"createDescriptor",value:function createDescriptor(sourceConfig){return{type:EMSTMSSource.type,id:sourceConfig.id,isAutoSelect:sourceConfig.isAutoSelect}}},{key:"renderEditor",value:function renderEditor(_ref){var onPreviewSource=_ref.onPreviewSource,inspectorAdapters=_ref.inspectorAdapters;var onSourceConfigChange=function onSourceConfigChange(sourceConfig){var descriptor=EMSTMSSource.createDescriptor(sourceConfig);var source=new EMSTMSSource(descriptor,inspectorAdapters);onPreviewSource(source)};return _react.default.createElement(_tile_service_select.TileServiceSelect,{onTileSelect:onSourceConfigChange})}}]);function EMSTMSSource(descriptor,inspectorAdapters){_classCallCheck(this,EMSTMSSource);return _possibleConstructorReturn(this,_getPrototypeOf(EMSTMSSource).call(this,{id:descriptor.id,type:EMSTMSSource.type,isAutoSelect:_lodash.default.get(descriptor,"isAutoSelect",false)},inspectorAdapters))}_createClass(EMSTMSSource,[{key:"renderSourceSettingsEditor",value:function renderSourceSettingsEditor(_ref2){var onChange=_ref2.onChange;return _react.default.createElement(_update_source_editor.UpdateSourceEditor,{onChange:onChange,config:this._descriptor})}},{key:"getImmutableProperties",value:function getImmutableProperties(){var displayName,autoSelectMsg;return regeneratorRuntime.async((function getImmutableProperties$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(this.getDisplayName());case 2:displayName=_context.sent;autoSelectMsg=_i18n.i18n.translate("xpack.maps.source.emsTile.isAutoSelectLabel",{defaultMessage:"autoselect based on Kibana theme"});return _context.abrupt("return",[{label:(0,_i18n_getters.getDataSourceLabel)(),value:EMSTMSSource.title},{label:_i18n.i18n.translate("xpack.maps.source.emsTile.serviceId",{defaultMessage:"Tile service"}),value:this._descriptor.isAutoSelect?"".concat(displayName," - ").concat(autoSelectMsg):displayName}]);case 5:case"end":return _context.stop()}}}),null,this)}},{key:"_getEMSTMSService",value:function _getEMSTMSService(){var emsClient,emsTMSServices,emsTileLayerId,tmsService;return regeneratorRuntime.async((function _getEMSTMSService$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:emsClient=(0,_meta.getEMSClient)();_context2.next=3;return regeneratorRuntime.awrap(emsClient.getTMSServices());case 3:emsTMSServices=_context2.sent;emsTileLayerId=this.getTileLayerId();tmsService=emsTMSServices.find((function(tmsService){return tmsService.getId()===emsTileLayerId}));if(tmsService){_context2.next=8;break}throw new Error(_i18n.i18n.translate("xpack.maps.source.emsTile.errorMessage",{defaultMessage:"Unable to find EMS tile configuration for id: {id}",values:{id:emsTileLayerId}}));case 8:return _context2.abrupt("return",tmsService);case 9:case"end":return _context2.stop()}}}),null,this)}},{key:"_createDefaultLayerDescriptor",value:function _createDefaultLayerDescriptor(options){return _vector_tile_layer.VectorTileLayer.createDescriptor(_objectSpread({sourceDescriptor:this._descriptor},options))}},{key:"createDefaultLayer",value:function createDefaultLayer(options){return new _vector_tile_layer.VectorTileLayer({layerDescriptor:this._createDefaultLayerDescriptor(options),source:this})}},{key:"getDisplayName",value:function getDisplayName(){var emsTMSService;return regeneratorRuntime.async((function getDisplayName$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return regeneratorRuntime.awrap(this._getEMSTMSService());case 3:emsTMSService=_context3.sent;return _context3.abrupt("return",emsTMSService.getDisplayName());case 7:_context3.prev=7;_context3.t0=_context3["catch"](0);return _context3.abrupt("return",this.getTileLayerId());case 10:case"end":return _context3.stop()}}}),null,this,[[0,7]])}},{key:"getAttributions",value:function getAttributions(){var emsTMSService,markdown;return regeneratorRuntime.async((function getAttributions$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return regeneratorRuntime.awrap(this._getEMSTMSService());case 2:emsTMSService=_context4.sent;markdown=emsTMSService.getMarkdownAttribution();if(markdown){_context4.next=6;break}return _context4.abrupt("return",[]);case 6:return _context4.abrupt("return",this.convertMarkdownLinkToObjectArr(markdown));case 7:case"end":return _context4.stop()}}}),null,this)}},{key:"getUrlTemplate",value:function getUrlTemplate(){var emsTMSService;return regeneratorRuntime.async((function getUrlTemplate$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return regeneratorRuntime.awrap(this._getEMSTMSService());case 2:emsTMSService=_context5.sent;_context5.next=5;return regeneratorRuntime.awrap(emsTMSService.getUrlTemplate());case 5:return _context5.abrupt("return",_context5.sent);case 6:case"end":return _context5.stop()}}}),null,this)}},{key:"getSpriteNamespacePrefix",value:function getSpriteNamespacePrefix(){return"ems/"+this.getTileLayerId()}},{key:"getVectorStyleSheetAndSpriteMeta",value:function getVectorStyleSheetAndSpriteMeta(isRetina){var emsTMSService,styleSheet,spriteMeta;return regeneratorRuntime.async((function getVectorStyleSheetAndSpriteMeta$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return regeneratorRuntime.awrap(this._getEMSTMSService());case 2:emsTMSService=_context6.sent;_context6.next=5;return regeneratorRuntime.awrap(emsTMSService.getVectorStyleSheet());case 5:styleSheet=_context6.sent;_context6.next=8;return regeneratorRuntime.awrap(emsTMSService.getSpriteSheetMeta(isRetina));case 8:spriteMeta=_context6.sent;return _context6.abrupt("return",{vectorStyleSheet:styleSheet,spriteMeta:spriteMeta});case 10:case"end":return _context6.stop()}}}),null,this)}},{key:"getTileLayerId",value:function getTileLayerId(){if(!this._descriptor.isAutoSelect){return this._descriptor.id}var isDarkMode=_chrome.default.getUiSettingsClient().get("theme:darkMode",false);var emsTileLayerId=_chrome.default.getInjected("emsTileLayerId");return isDarkMode?emsTileLayerId.dark:emsTileLayerId.bright}}]);return EMSTMSSource}(_tms_source.AbstractTMSSource);exports.EMSTMSSource=EMSTMSSource;_defineProperty(EMSTMSSource,"type",_constants.EMS_TMS);_defineProperty(EMSTMSSource,"title",_i18n.i18n.translate("xpack.maps.source.emsTileTitle",{defaultMessage:"EMS Basemaps"}));_defineProperty(EMSTMSSource,"description",_i18n.i18n.translate("xpack.maps.source.emsTileDescription",{defaultMessage:"Tile map service from Elastic Maps Service"}));_defineProperty(EMSTMSSource,"icon","emsApp")},2039:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpdateSourceEditor=UpdateSourceEditor;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);var _tile_service_select=__webpack_require__(1027);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function UpdateSourceEditor(_ref){var onChange=_ref.onChange,config=_ref.config;var _onTileSelect=function _onTileSelect(_ref2){var id=_ref2.id,isAutoSelect=_ref2.isAutoSelect;onChange({propName:"id",value:id});onChange({propName:"isAutoSelect",value:isAutoSelect})};return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h5",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.source.emsTile.settingsTitle",defaultMessage:"Basemap"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_tile_service_select.TileServiceSelect,{onTileSelect:_onTileSelect,config:config})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}},2040:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"WMSSource",{enumerable:true,get:function get(){return _wms_source.WMSSource}});var _wms_source=__webpack_require__(2041)},2041:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WMSSource=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _tms_source=__webpack_require__(521);var _tile_layer=__webpack_require__(403);var _wms_create_source_editor=__webpack_require__(2042);var _i18n=__webpack_require__(2);var _i18n_getters=__webpack_require__(166);var _wms_client=__webpack_require__(1028);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var WMSSource=function(_AbstractTMSSource){_inherits(WMSSource,_AbstractTMSSource);function WMSSource(){_classCallCheck(this,WMSSource);return _possibleConstructorReturn(this,_getPrototypeOf(WMSSource).apply(this,arguments))}_createClass(WMSSource,[{key:"getImmutableProperties",value:function getImmutableProperties(){return regeneratorRuntime.async((function getImmutableProperties$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",[{label:(0,_i18n_getters.getDataSourceLabel)(),value:WMSSource.title},{label:(0,_i18n_getters.getUrlLabel)(),value:this._descriptor.serviceUrl},{label:_i18n.i18n.translate("xpack.maps.source.wms.layersLabel",{defaultMessage:"Layers"}),value:this._descriptor.layers},{label:_i18n.i18n.translate("xpack.maps.source.wms.stylesLabel",{defaultMessage:"Styles"}),value:this._descriptor.styles}]);case 1:case"end":return _context.stop()}}}),null,this)}},{key:"_createDefaultLayerDescriptor",value:function _createDefaultLayerDescriptor(options){return _tile_layer.TileLayer.createDescriptor(_objectSpread({sourceDescriptor:this._descriptor},options))}},{key:"createDefaultLayer",value:function createDefaultLayer(options){return new _tile_layer.TileLayer({layerDescriptor:this._createDefaultLayerDescriptor(options),source:this})}},{key:"getDisplayName",value:function getDisplayName(){return regeneratorRuntime.async((function getDisplayName$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",this._descriptor.serviceUrl);case 1:case"end":return _context2.stop()}}}),null,this)}},{key:"getAttributions",value:function getAttributions(){var _this$_descriptor=this._descriptor,attributionText=_this$_descriptor.attributionText,attributionUrl=_this$_descriptor.attributionUrl;var attributionComplete=!!attributionText&&!!attributionUrl;return attributionComplete?[{url:attributionUrl,label:attributionText}]:[]}},{key:"getUrlTemplate",value:function getUrlTemplate(){var client=new _wms_client.WmsClient({serviceUrl:this._descriptor.serviceUrl});return client.getUrlTemplate(this._descriptor.layers,this._descriptor.styles||"")}}],[{key:"createDescriptor",value:function createDescriptor(_ref){var serviceUrl=_ref.serviceUrl,layers=_ref.layers,styles=_ref.styles,attributionText=_ref.attributionText,attributionUrl=_ref.attributionUrl;return{type:WMSSource.type,serviceUrl:serviceUrl,layers:layers,styles:styles,attributionText:attributionText,attributionUrl:attributionUrl}}},{key:"renderEditor",value:function renderEditor(_ref2){var onPreviewSource=_ref2.onPreviewSource,inspectorAdapters=_ref2.inspectorAdapters;var onSourceConfigChange=function onSourceConfigChange(sourceConfig){if(!sourceConfig){onPreviewSource(null);return}var sourceDescriptor=WMSSource.createDescriptor(sourceConfig);var source=new WMSSource(sourceDescriptor,inspectorAdapters);onPreviewSource(source)};return _react.default.createElement(_wms_create_source_editor.WMSCreateSourceEditor,{onSourceConfigChange:onSourceConfigChange})}}]);return WMSSource}(_tms_source.AbstractTMSSource);exports.WMSSource=WMSSource;_defineProperty(WMSSource,"type","WMS");_defineProperty(WMSSource,"title",_i18n.i18n.translate("xpack.maps.source.wmsTitle",{defaultMessage:"Web Map Service"}));_defineProperty(WMSSource,"description",_i18n.i18n.translate("xpack.maps.source.wmsDescription",{defaultMessage:"Maps from OGC Standard WMS"}));_defineProperty(WMSSource,"icon","grid")},2042:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WMSCreateSourceEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(2);var _react2=__webpack_require__(4);var _eui=__webpack_require__(1);var _wms_client=__webpack_require__(1028);var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var LAYERS_LABEL=_i18n.i18n.translate("xpack.maps.source.wms.layersLabel",{defaultMessage:"Layers"});var STYLES_LABEL=_i18n.i18n.translate("xpack.maps.source.wms.stylesLabel",{defaultMessage:"Styles"});var WMSCreateSourceEditor=function(_Component){_inherits(WMSCreateSourceEditor,_Component);function WMSCreateSourceEditor(){var _getPrototypeOf2;var _this;_classCallCheck(this,WMSCreateSourceEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(WMSCreateSourceEditor)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{serviceUrl:"",layers:"",styles:"",isLoadingCapabilities:false,getCapabilitiesError:null,hasAttemptedToLoadCapabilities:false,layerOptions:[],styleOptions:[],selectedLayerOptions:[],selectedStyleOptions:[],attributionText:"",attributionUrl:""});_defineProperty(_assertThisInitialized(_this),"_previewIfPossible",_lodash.default.debounce((function(){var _this$state=_this.state,serviceUrl=_this$state.serviceUrl,layers=_this$state.layers,styles=_this$state.styles,attributionText=_this$state.attributionText,attributionUrl=_this$state.attributionUrl;var sourceConfig=serviceUrl&&layers?{serviceUrl:serviceUrl,layers:layers,styles:styles,attributionText:attributionText,attributionUrl:attributionUrl}:null;_this.props.onSourceConfigChange(sourceConfig)}),2e3));_defineProperty(_assertThisInitialized(_this),"_loadCapabilities",(function _callee(){var wmsClient,capabilities;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.state.serviceUrl){_context.next=2;break}return _context.abrupt("return");case 2:_this.setState({hasAttemptedToLoadCapabilities:true,isLoadingCapabilities:true,getCapabilitiesError:null});wmsClient=new _wms_client.WmsClient({serviceUrl:_this.state.serviceUrl});_context.prev=4;_context.next=7;return regeneratorRuntime.awrap(wmsClient.getCapabilities());case 7:capabilities=_context.sent;_context.next=14;break;case 10:_context.prev=10;_context.t0=_context["catch"](4);if(_this._isMounted){_this.setState({isLoadingCapabilities:false,getCapabilitiesError:_context.t0.message})}return _context.abrupt("return");case 14:if(_this._isMounted){_context.next=16;break}return _context.abrupt("return");case 16:_this.setState({isLoadingCapabilities:false,layerOptions:capabilities.layers,styleOptions:capabilities.styles});case 17:case"end":return _context.stop()}}}),null,null,[[4,10]])}));_defineProperty(_assertThisInitialized(_this),"_handleServiceUrlChange",(function(e){_this.setState({serviceUrl:e.target.value,hasAttemptedToLoadCapabilities:false,layerOptions:[],styleOptions:[],selectedLayerOptions:[],selectedStyleOptions:[],layers:"",styles:""},_this._previewIfPossible)}));_defineProperty(_assertThisInitialized(_this),"_handleLayersChange",(function(e){_this.setState({layers:e.target.value},_this._previewIfPossible)}));_defineProperty(_assertThisInitialized(_this),"_handleLayerOptionsChange",(function(selectedOptions){_this.setState({selectedLayerOptions:selectedOptions,layers:selectedOptions.map((function(selectedOption){return selectedOption.value})).join(",")},_this._previewIfPossible)}));_defineProperty(_assertThisInitialized(_this),"_handleStylesChange",(function(e){_this.setState({styles:e.target.value},_this._previewIfPossible)}));_defineProperty(_assertThisInitialized(_this),"_handleStyleOptionsChange",(function(selectedOptions){_this.setState({selectedStyleOptions:selectedOptions,styles:selectedOptions.map((function(selectedOption){return selectedOption.value})).join(",")},_this._previewIfPossible)}));return _this}_createClass(WMSCreateSourceEditor,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"_handleWMSAttributionChange",value:function _handleWMSAttributionChange(attributionUpdate){var _this2=this;var _this$state2=this.state,attributionText=_this$state2.attributionText,attributionUrl=_this$state2.attributionUrl;this.setState(attributionUpdate,(function(){if(attributionText&&attributionUrl){_this2._previewIfPossible()}}))}},{key:"_renderLayerAndStyleInputs",value:function _renderLayerAndStyleInputs(){if(!this.state.hasAttemptedToLoadCapabilities||this.state.isLoadingCapabilities){return null}if(this.state.getCapabilitiesError||this.state.layerOptions.length===0){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.maps.source.wms.getCapabilitiesErrorCalloutTitle",{defaultMessage:"Unable to load service metadata"}),color:"warning"},_react.default.createElement("p",null,this.state.getCapabilitiesError)),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFormRow,{label:LAYERS_LABEL,helpText:_i18n.i18n.translate("xpack.maps.source.wms.layersHelpText",{defaultMessage:"Use comma separated list of layer names"})},_react.default.createElement(_eui.EuiFieldText,{onChange:this._handleLayersChange})),_react.default.createElement(_eui.EuiFormRow,{label:STYLES_LABEL,helpText:_i18n.i18n.translate("xpack.maps.source.wms.stylesHelpText",{defaultMessage:"Use comma separated list of style names"})},_react.default.createElement(_eui.EuiFieldText,{onChange:this._handleStylesChange})))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:LAYERS_LABEL},_react.default.createElement(_eui.EuiComboBox,{options:this.state.layerOptions,selectedOptions:this.state.selectedLayerOptions,onChange:this._handleLayerOptionsChange})),_react.default.createElement(_eui.EuiFormRow,{label:STYLES_LABEL},_react.default.createElement(_eui.EuiComboBox,{options:this.state.styleOptions,selectedOptions:this.state.selectedStyleOptions,onChange:this._handleStyleOptionsChange})))}},{key:"_renderGetCapabilitiesButton",value:function _renderGetCapabilitiesButton(){if(!this.state.isLoadingCapabilities&&this.state.hasAttemptedToLoadCapabilities){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiButton,{onClick:this._loadCapabilities,isDisabled:!this.state.serviceUrl,isLoading:this.state.isLoadingCapabilities},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.source.wms.getCapabilitiesButtonText",defaultMessage:"Load capabilities"})))}},{key:"_renderAttributionInputs",value:function _renderAttributionInputs(){var _this3=this;if(!this.state.layers){return}var _this$state3=this.state,attributionText=_this$state3.attributionText,attributionUrl=_this$state3.attributionUrl;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:"Attribution text",isInvalid:attributionUrl!==""&&attributionText==="",error:[_i18n.i18n.translate("xpack.maps.source.wms.attributionText",{defaultMessage:"Attribution url must have accompanying text"})]},_react.default.createElement(_eui.EuiFieldText,{onChange:function onChange(_ref){var target=_ref.target;return _this3._handleWMSAttributionChange({attributionText:target.value})}})),_react.default.createElement(_eui.EuiFormRow,{label:"Attribution link",isInvalid:attributionText!==""&&attributionUrl==="",error:[_i18n.i18n.translate("xpack.maps.source.wms.attributionLink",{defaultMessage:"Attribution text must have an accompanying link"})]},_react.default.createElement(_eui.EuiFieldText,{onChange:function onChange(_ref2){var target=_ref2.target;return _this3._handleWMSAttributionChange({attributionUrl:target.value})}})))}},{key:"render",value:function render(){return _react.default.createElement(_eui.EuiForm,null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.wms.urlLabel",{defaultMessage:"Url"})},_react.default.createElement(_eui.EuiFieldText,{value:this.state.serviceUrl,onChange:this._handleServiceUrlChange})),this._renderGetCapabilitiesButton(),this._renderLayerAndStyleInputs(),this._renderAttributionInputs())}}]);return WMSCreateSourceEditor}(_react.Component);exports.WMSCreateSourceEditor=WMSCreateSourceEditor},2043:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KibanaTilemapSource=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _tms_source=__webpack_require__(521);var _tile_layer=__webpack_require__(403);var _create_source_editor=__webpack_require__(2044);var _meta=__webpack_require__(165);var _i18n=__webpack_require__(2);var _i18n_getters=__webpack_require__(166);var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var KibanaTilemapSource=function(_AbstractTMSSource){_inherits(KibanaTilemapSource,_AbstractTMSSource);function KibanaTilemapSource(){_classCallCheck(this,KibanaTilemapSource);return _possibleConstructorReturn(this,_getPrototypeOf(KibanaTilemapSource).apply(this,arguments))}_createClass(KibanaTilemapSource,[{key:"getImmutableProperties",value:function getImmutableProperties(){return regeneratorRuntime.async((function getImmutableProperties$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0={label:(0,_i18n_getters.getDataSourceLabel)(),value:KibanaTilemapSource.title};_context.t1=_i18n.i18n.translate("xpack.maps.source.kbnTMS.urlLabel",{defaultMessage:"Tilemap url"});_context.next=4;return regeneratorRuntime.awrap(this.getUrlTemplate());case 4:_context.t2=_context.sent;_context.t3={label:_context.t1,value:_context.t2};return _context.abrupt("return",[_context.t0,_context.t3]);case 7:case"end":return _context.stop()}}}),null,this)}},{key:"_createDefaultLayerDescriptor",value:function _createDefaultLayerDescriptor(options){return _tile_layer.TileLayer.createDescriptor(_objectSpread({sourceDescriptor:this._descriptor},options))}},{key:"createDefaultLayer",value:function createDefaultLayer(options){return new _tile_layer.TileLayer({layerDescriptor:this._createDefaultLayerDescriptor(options),source:this})}},{key:"getUrlTemplate",value:function getUrlTemplate(){var tilemap;return regeneratorRuntime.async((function getUrlTemplate$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:tilemap=(0,_meta.getKibanaTileMap)();if(tilemap.url){_context2.next=3;break}throw new Error(_i18n.i18n.translate("xpack.maps.source.kbnTMS.noConfigErrorMessage",{defaultMessage:"Unable to find map.tilemap.url configuration in the kibana.yml"}));case 3:return _context2.abrupt("return",tilemap.url);case 4:case"end":return _context2.stop()}}}))}},{key:"getAttributions",value:function getAttributions(){var tilemap,markdown,objArr;return regeneratorRuntime.async((function getAttributions$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:tilemap=(0,_meta.getKibanaTileMap)();markdown=_lodash.default.get(tilemap,"options.attribution","");objArr=this.convertMarkdownLinkToObjectArr(markdown);return _context3.abrupt("return",objArr);case 4:case"end":return _context3.stop()}}}),null,this)}},{key:"getDisplayName",value:function getDisplayName(){return regeneratorRuntime.async((function getDisplayName$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return regeneratorRuntime.awrap(this.getUrlTemplate());case 3:return _context4.abrupt("return",_context4.sent);case 6:_context4.prev=6;_context4.t0=_context4["catch"](0);return _context4.abrupt("return","");case 9:case"end":return _context4.stop()}}}),null,this,[[0,6]])}}],[{key:"createDescriptor",value:function createDescriptor(){return{type:KibanaTilemapSource.type}}}]);return KibanaTilemapSource}(_tms_source.AbstractTMSSource);exports.KibanaTilemapSource=KibanaTilemapSource;_defineProperty(KibanaTilemapSource,"type","KIBANA_TILEMAP");_defineProperty(KibanaTilemapSource,"title",_i18n.i18n.translate("xpack.maps.source.kbnTMSTitle",{defaultMessage:"Configured Tile Map Service"}));_defineProperty(KibanaTilemapSource,"description",_i18n.i18n.translate("xpack.maps.source.kbnTMSDescription",{defaultMessage:"Tile map service configured in kibana.yml"}));_defineProperty(KibanaTilemapSource,"icon","logoKibana");_defineProperty(KibanaTilemapSource,"renderEditor",(function(_ref){var onPreviewSource=_ref.onPreviewSource,inspectorAdapters=_ref.inspectorAdapters;var onSourceConfigChange=function onSourceConfigChange(){var sourceDescriptor=KibanaTilemapSource.createDescriptor();var source=new KibanaTilemapSource(sourceDescriptor,inspectorAdapters);onPreviewSource(source)};return _react.default.createElement(_create_source_editor.CreateSourceEditor,{onSourceConfigChange:onSourceConfigChange})}))},2044:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CreateSourceEditor=CreateSourceEditor;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(1);var _meta=__webpack_require__(165);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function CreateSourceEditor(_ref){var onSourceConfigChange=_ref.onSourceConfigChange;var tilemap=(0,_meta.getKibanaTileMap)();if(tilemap.url){onSourceConfigChange()}return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.kbnTMS.kbnTMS.urlLabel",{defaultMessage:"Tilemap url"}),helpText:tilemap.url?null:_i18n.i18n.translate("xpack.maps.source.kbnTMS.noLayerAvailableHelptext",{defaultMessage:'No tilemap layer is available. Ask your system administrator to set "map.tilemap.url" in kibana.yml.'})},_react.default.createElement(_eui.EuiFieldText,{readOnly:true,value:tilemap.url}))}CreateSourceEditor.propTypes={onSourceConfigChange:_propTypes.default.func.isRequired}},2045:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ESGeoGridSource",{enumerable:true,get:function get(){return _es_geo_grid_source.ESGeoGridSource}});var _es_geo_grid_source=__webpack_require__(2046)},2046:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ESGeoGridSource=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _v=_interopRequireDefault(__webpack_require__(186));var _vector_feature_types=__webpack_require__(273);var _heatmap_layer=__webpack_require__(1016);var _vector_layer=__webpack_require__(404);var _schemas=__webpack_require__(96);var _agg_types=__webpack_require__(204);var _tabify=__webpack_require__(701);var _convert_to_geojson=__webpack_require__(2047);var _vector_style=__webpack_require__(249);var _vector_style_defaults=__webpack_require__(147);var _color_utils=__webpack_require__(201);var _render_as=__webpack_require__(522);var _create_source_editor=__webpack_require__(2048);var _update_source_editor=__webpack_require__(2049);var _grid_resolution=__webpack_require__(684);var _constants=__webpack_require__(25);var _i18n=__webpack_require__(2);var _i18n_getters=__webpack_require__(166);var _es_agg_source=__webpack_require__(683);var _dynamic_style_property=__webpack_require__(274);var _static_style_property=__webpack_require__(329);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var MAX_GEOTILE_LEVEL=29;var aggSchemas=new _schemas.Schemas([_es_agg_source.AbstractESAggSource.METRIC_SCHEMA_CONFIG,{group:"buckets",name:"segment",title:"Geo Grid",aggFilter:"geotile_grid",min:1,max:1}]);var ESGeoGridSource=function(_AbstractESAggSource){_inherits(ESGeoGridSource,_AbstractESAggSource);function ESGeoGridSource(){_classCallCheck(this,ESGeoGridSource);return _possibleConstructorReturn(this,_getPrototypeOf(ESGeoGridSource).apply(this,arguments))}_createClass(ESGeoGridSource,[{key:"renderSourceSettingsEditor",value:function renderSourceSettingsEditor(_ref){var onChange=_ref.onChange;return _react.default.createElement(_update_source_editor.UpdateSourceEditor,{indexPatternId:this._descriptor.indexPatternId,onChange:onChange,metrics:this._descriptor.metrics,renderAs:this._descriptor.requestType,resolution:this._descriptor.resolution})}},{key:"getImmutableProperties",value:function getImmutableProperties(){var indexPatternTitle,indexPattern;return regeneratorRuntime.async((function getImmutableProperties$(_context){while(1){switch(_context.prev=_context.next){case 0:indexPatternTitle=this._descriptor.indexPatternId;_context.prev=1;_context.next=4;return regeneratorRuntime.awrap(this.getIndexPattern());case 4:indexPattern=_context.sent;indexPatternTitle=indexPattern.title;_context.next=10;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);case 10:return _context.abrupt("return",[{label:(0,_i18n_getters.getDataSourceLabel)(),value:ESGeoGridSource.title},{label:_i18n.i18n.translate("xpack.maps.source.esGrid.indexPatternLabel",{defaultMessage:"Index pattern"}),value:indexPatternTitle},{label:_i18n.i18n.translate("xpack.maps.source.esGrid.geospatialFieldLabel",{defaultMessage:"Geospatial field"}),value:this._descriptor.geoField},{label:_i18n.i18n.translate("xpack.maps.source.esGrid.showasFieldLabel",{defaultMessage:"Show as"}),value:this._descriptor.requestType}]);case 11:case"end":return _context.stop()}}}),null,this,[[1,8]])}},{key:"getFieldNames",value:function getFieldNames(){return this.getMetricFields().map((function(esAggMetricField){return esAggMetricField.getName()}))}},{key:"isGeoGridPrecisionAware",value:function isGeoGridPrecisionAware(){return true}},{key:"isJoinable",value:function isJoinable(){return false}},{key:"getGridResolution",value:function getGridResolution(){return this._descriptor.resolution}},{key:"getGeoGridPrecision",value:function getGeoGridPrecision(zoom){var targetGeotileLevel=Math.ceil(zoom)+this._getGeoGridPrecisionResolutionDelta();return Math.min(targetGeotileLevel,MAX_GEOTILE_LEVEL)}},{key:"_getGeoGridPrecisionResolutionDelta",value:function _getGeoGridPrecisionResolutionDelta(){if(this._descriptor.resolution===_grid_resolution.GRID_RESOLUTION.COARSE){return 2}if(this._descriptor.resolution===_grid_resolution.GRID_RESOLUTION.FINE){return 3}if(this._descriptor.resolution===_grid_resolution.GRID_RESOLUTION.MOST_FINE){return 4}throw new Error(_i18n.i18n.translate("xpack.maps.source.esGrid.resolutionParamErrorMessage",{defaultMessage:"Grid resolution param not recognized: {resolution}",values:{resolution:this._descriptor.resolution}}))}},{key:"getGeoJsonWithMeta",value:function getGeoJsonWithMeta(layerName,searchFilters,registerCancelCallback){var indexPattern,searchSource,aggConfigs,esResponse,tabifiedResp,_convertToGeoJson,featureCollection;return regeneratorRuntime.async((function getGeoJsonWithMeta$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return regeneratorRuntime.awrap(this.getIndexPattern());case 2:indexPattern=_context2.sent;_context2.next=5;return regeneratorRuntime.awrap(this._makeSearchSource(searchFilters,0));case 5:searchSource=_context2.sent;aggConfigs=new _agg_types.AggConfigs(indexPattern,this._makeAggConfigs(searchFilters.geogridPrecision),aggSchemas.all);searchSource.setField("aggs",aggConfigs.toDsl());_context2.next=10;return regeneratorRuntime.awrap(this._runEsQuery({requestId:this.getId(),requestName:layerName,searchSource:searchSource,registerCancelCallback:registerCancelCallback,requestDescription:_i18n.i18n.translate("xpack.maps.source.esGrid.inspectorDescription",{defaultMessage:"Elasticsearch geo grid aggregation request"})}));case 10:esResponse=_context2.sent;tabifiedResp=(0,_tabify.tabifyAggResponse)(aggConfigs,esResponse);_convertToGeoJson=(0,_convert_to_geojson.convertToGeoJson)({table:tabifiedResp,renderAs:this._descriptor.requestType}),featureCollection=_convertToGeoJson.featureCollection;return _context2.abrupt("return",{data:featureCollection,meta:{areResultsTrimmed:false}});case 14:case"end":return _context2.stop()}}}),null,this)}},{key:"isFilterByMapBounds",value:function isFilterByMapBounds(){return true}},{key:"_makeAggConfigs",value:function _makeAggConfigs(precision){var metricAggConfigs=this.createMetricAggConfigs();return[].concat(_toConsumableArray(metricAggConfigs),[{id:"grid",enabled:true,type:"geotile_grid",schema:"segment",params:{field:this._descriptor.geoField,useGeocentroid:true,precision:precision}}])}},{key:"_createHeatmapLayerDescriptor",value:function _createHeatmapLayerDescriptor(options){return _heatmap_layer.HeatmapLayer.createDescriptor(_objectSpread({sourceDescriptor:this._descriptor},options))}},{key:"_createVectorLayerDescriptor",value:function _createVectorLayerDescriptor(options){var _VectorStyle$createDe;var descriptor=_vector_layer.VectorLayer.createDescriptor(_objectSpread({sourceDescriptor:this._descriptor},options));var defaultDynamicProperties=(0,_vector_style_defaults.getDefaultDynamicProperties)();descriptor.style=_vector_style.VectorStyle.createDescriptor((_VectorStyle$createDe={},_defineProperty(_VectorStyle$createDe,_vector_style_defaults.VECTOR_STYLES.FILL_COLOR,{type:_dynamic_style_property.DynamicStyleProperty.type,options:_objectSpread({},defaultDynamicProperties[_vector_style_defaults.VECTOR_STYLES.FILL_COLOR].options,{field:{name:_constants.COUNT_PROP_NAME,origin:_constants.SOURCE_DATA_ID_ORIGIN},color:_color_utils.COLOR_GRADIENTS[0].value})}),_defineProperty(_VectorStyle$createDe,_vector_style_defaults.VECTOR_STYLES.LINE_COLOR,{type:_static_style_property.StaticStyleProperty.type,options:{color:"#FFF"}}),_defineProperty(_VectorStyle$createDe,_vector_style_defaults.VECTOR_STYLES.LINE_WIDTH,{type:_static_style_property.StaticStyleProperty.type,options:{size:0}}),_defineProperty(_VectorStyle$createDe,_vector_style_defaults.VECTOR_STYLES.ICON_SIZE,{type:_dynamic_style_property.DynamicStyleProperty.type,options:_objectSpread({},defaultDynamicProperties[_vector_style_defaults.VECTOR_STYLES.ICON_SIZE].options,{field:{name:_constants.COUNT_PROP_NAME,origin:_constants.SOURCE_DATA_ID_ORIGIN}})}),_defineProperty(_VectorStyle$createDe,_vector_style_defaults.VECTOR_STYLES.LABEL_TEXT,{type:_dynamic_style_property.DynamicStyleProperty.type,options:_objectSpread({},defaultDynamicProperties[_vector_style_defaults.VECTOR_STYLES.LABEL_TEXT].options,{field:{name:_constants.COUNT_PROP_NAME,origin:_constants.SOURCE_DATA_ID_ORIGIN}})}),_VectorStyle$createDe));return descriptor}},{key:"createDefaultLayer",value:function createDefaultLayer(options){if(this._descriptor.requestType===_render_as.RENDER_AS.HEATMAP){return new _heatmap_layer.HeatmapLayer({layerDescriptor:this._createHeatmapLayerDescriptor(options),source:this})}var layerDescriptor=this._createVectorLayerDescriptor(options);var style=new _vector_style.VectorStyle(layerDescriptor.style,this);return new _vector_layer.VectorLayer({layerDescriptor:layerDescriptor,source:this,style:style})}},{key:"canFormatFeatureProperties",value:function canFormatFeatureProperties(){return true}},{key:"filterAndFormatPropertiesToHtml",value:function filterAndFormatPropertiesToHtml(properties){return regeneratorRuntime.async((function filterAndFormatPropertiesToHtml$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return regeneratorRuntime.awrap(this.filterAndFormatPropertiesToHtmlForMetricFields(properties));case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}}}),null,this)}},{key:"getSupportedShapeTypes",value:function getSupportedShapeTypes(){return regeneratorRuntime.async((function getSupportedShapeTypes$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(this._descriptor.requestType===_render_as.RENDER_AS.GRID)){_context4.next=2;break}return _context4.abrupt("return",[_vector_feature_types.VECTOR_SHAPE_TYPES.POLYGON]);case 2:return _context4.abrupt("return",[_vector_feature_types.VECTOR_SHAPE_TYPES.POINT]);case 3:case"end":return _context4.stop()}}}),null,this)}}],[{key:"createDescriptor",value:function createDescriptor(_ref2){var indexPatternId=_ref2.indexPatternId,geoField=_ref2.geoField,requestType=_ref2.requestType,resolution=_ref2.resolution;return{type:ESGeoGridSource.type,id:(0,_v.default)(),indexPatternId:indexPatternId,geoField:geoField,requestType:requestType,resolution:resolution?resolution:_grid_resolution.GRID_RESOLUTION.COARSE}}},{key:"renderEditor",value:function renderEditor(_ref3){var onPreviewSource=_ref3.onPreviewSource,inspectorAdapters=_ref3.inspectorAdapters;var onSourceConfigChange=function onSourceConfigChange(sourceConfig){if(!sourceConfig){onPreviewSource(null);return}var sourceDescriptor=ESGeoGridSource.createDescriptor(sourceConfig);var source=new ESGeoGridSource(sourceDescriptor,inspectorAdapters);onPreviewSource(source)};return _react.default.createElement(_create_source_editor.CreateSourceEditor,{onSourceConfigChange:onSourceConfigChange})}}]);return ESGeoGridSource}(_es_agg_source.AbstractESAggSource);exports.ESGeoGridSource=ESGeoGridSource;_defineProperty(ESGeoGridSource,"type",_constants.ES_GEO_GRID);_defineProperty(ESGeoGridSource,"title",_i18n.i18n.translate("xpack.maps.source.esGridTitle",{defaultMessage:"Grid aggregation"}));_defineProperty(ESGeoGridSource,"description",_i18n.i18n.translate("xpack.maps.source.esGridDescription",{defaultMessage:"Geospatial data grouped in grids with metrics for each gridded cell"}))},2047:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.convertToGeoJson=convertToGeoJson;var _render_as=__webpack_require__(522);var _geo_tile_utils=__webpack_require__(1014);var _constants=__webpack_require__(25);function convertToGeoJson(_ref){var table=_ref.table,renderAs=_ref.renderAs;if(!table||!table.rows){return _constants.EMPTY_FEATURE_COLLECTION}var geoGridColumn=table.columns.find((function(column){return column.aggConfig.type.dslName==="geotile_grid"}));if(!geoGridColumn){return _constants.EMPTY_FEATURE_COLLECTION}var metricColumns=table.columns.filter((function(column){return column.aggConfig.type.type==="metrics"&&column.aggConfig.type.dslName!=="geo_centroid"}));var geocentroidColumn=table.columns.find((function(column){return column.aggConfig.type.dslName==="geo_centroid"}));if(!geocentroidColumn){return _constants.EMPTY_FEATURE_COLLECTION}var features=[];table.rows.forEach((function(row){var gridKey=row[geoGridColumn.id];if(!gridKey){return}var properties={};metricColumns.forEach((function(metricColumn){properties[metricColumn.aggConfig.id]=row[metricColumn.id]}));features.push({type:"Feature",geometry:rowToGeometry({row:row,gridKey:gridKey,geocentroidColumn:geocentroidColumn,renderAs:renderAs}),id:gridKey,properties:properties})}));return{featureCollection:{type:"FeatureCollection",features:features}}}function rowToGeometry(_ref2){var row=_ref2.row,gridKey=_ref2.gridKey,geocentroidColumn=_ref2.geocentroidColumn,renderAs=_ref2.renderAs;var _getTileBoundingBox=(0,_geo_tile_utils.getTileBoundingBox)(gridKey),top=_getTileBoundingBox.top,bottom=_getTileBoundingBox.bottom,right=_getTileBoundingBox.right,left=_getTileBoundingBox.left;if(renderAs===_render_as.RENDER_AS.GRID){return{type:"Polygon",coordinates:[[[right,top],[left,top],[left,bottom],[right,bottom],[right,top]]]}}var pointCoordinates=[clampGrid(row[geocentroidColumn.id].lon,left,right),clampGrid(row[geocentroidColumn.id].lat,bottom,top)];return{type:"Point",coordinates:pointCoordinates}}function clampGrid(val,min,max){if(val>max)val=max;else if(val<min)val=min;return val}},2048:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CreateSourceEditor=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _single_field_select=__webpack_require__(330);var _render_as=__webpack_require__(522);var _kibana_services=__webpack_require__(101);var _no_index_pattern_callout=__webpack_require__(1023);var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);var _constants=__webpack_require__(25);var _public=__webpack_require__(11);var _new_platform=__webpack_require__(7);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IndexPatternSelect=_new_platform.npStart.plugins.data.ui.IndexPatternSelect;function filterGeoField(_ref){var type=_ref.type;return[_constants.ES_GEO_FIELD_TYPE.GEO_POINT].includes(type)}var requestTypeOptions=[{label:_i18n.i18n.translate("xpack.maps.source.esGeoGrid.gridRectangleDropdownOption",{defaultMessage:"grid rectangles"}),value:_render_as.RENDER_AS.GRID},{label:_i18n.i18n.translate("xpack.maps.source.esGeoGrid.heatmapDropdownOption",{defaultMessage:"heat map"}),value:_render_as.RENDER_AS.HEATMAP},{label:_i18n.i18n.translate("xpack.maps.source.esGeoGrid.pointsDropdownOption",{defaultMessage:"points"}),value:_render_as.RENDER_AS.POINT}];var CreateSourceEditor=function(_Component){_inherits(CreateSourceEditor,_Component);function CreateSourceEditor(){var _getPrototypeOf2;var _this;_classCallCheck(this,CreateSourceEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CreateSourceEditor)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isLoadingIndexPattern:false,indexPatternId:"",geoField:"",requestType:requestTypeOptions[0],noGeoIndexPatternsExist:false});_defineProperty(_assertThisInitialized(_this),"onIndexPatternSelect",(function(indexPatternId){_this.setState({indexPatternId:indexPatternId},_this.loadIndexPattern.bind(null,indexPatternId))}));_defineProperty(_assertThisInitialized(_this),"loadIndexPattern",(function(indexPatternId){_this.setState({isLoadingIndexPattern:true,indexPattern:undefined,geoField:undefined},_this.debouncedLoad.bind(null,indexPatternId))}));_defineProperty(_assertThisInitialized(_this),"debouncedLoad",_lodash.default.debounce((function _callee(indexPatternId){var indexPattern,geoFields;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!indexPatternId||indexPatternId.length===0)){_context.next=2;break}return _context.abrupt("return");case 2:_context.prev=2;_context.next=5;return regeneratorRuntime.awrap(_kibana_services.indexPatternService.get(indexPatternId));case 5:indexPattern=_context.sent;_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);return _context.abrupt("return");case 11:if(_this._isMounted){_context.next=13;break}return _context.abrupt("return");case 13:if(!(indexPattern.id!==indexPatternId)){_context.next=15;break}return _context.abrupt("return");case 15:_this.setState({isLoadingIndexPattern:false,indexPattern:indexPattern});geoFields=indexPattern.fields.filter((function(field){return!(0,_public.isNestedField)(field)})).filter(filterGeoField);if(geoFields[0]){_this._onGeoFieldSelect(geoFields[0].name)}case 18:case"end":return _context.stop()}}}),null,null,[[2,8]])}),300));_defineProperty(_assertThisInitialized(_this),"_onGeoFieldSelect",(function(geoField){_this.setState({geoField:geoField},_this.previewLayer)}));_defineProperty(_assertThisInitialized(_this),"_onRequestTypeSelect",(function(selectedOptions){_this.setState({requestType:selectedOptions[0]},_this.previewLayer)}));_defineProperty(_assertThisInitialized(_this),"previewLayer",(function(){var _this$state=_this.state,indexPatternId=_this$state.indexPatternId,geoField=_this$state.geoField,requestType=_this$state.requestType;var sourceConfig=indexPatternId&&geoField?{indexPatternId:indexPatternId,geoField:geoField,requestType:requestType.value}:null;_this.props.onSourceConfigChange(sourceConfig)}));_defineProperty(_assertThisInitialized(_this),"_onNoIndexPatterns",(function(){_this.setState({noGeoIndexPatternsExist:true})}));return _this}_createClass(CreateSourceEditor,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true}},{key:"_renderGeoSelect",value:function _renderGeoSelect(){if(!this.state.indexPattern){return null}return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.esGeoGrid.geofieldLabel",{defaultMessage:"Geospatial field"})},_react.default.createElement(_single_field_select.SingleFieldSelect,{placeholder:_i18n.i18n.translate("xpack.maps.source.esGeoGrid.geofieldPlaceholder",{defaultMessage:"Select geo field"}),value:this.state.geoField,onChange:this._onGeoFieldSelect,filterField:filterGeoField,fields:this.state.indexPattern?this.state.indexPattern.fields.filter((function(field){return!(0,_public.isNestedField)(field)})):undefined}))}},{key:"_renderLayerSelect",value:function _renderLayerSelect(){if(!this.state.indexPattern){return null}return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.esGeoGrid.showAsLabel",{defaultMessage:"Show as"})},_react.default.createElement(_eui.EuiComboBox,{placeholder:_i18n.i18n.translate("xpack.maps.source.esGeoGrid.showAsPlaceholder",{defaultMessage:"Select a single option"}),singleSelection:{asPlainText:true},options:requestTypeOptions,selectedOptions:[this.state.requestType],onChange:this._onRequestTypeSelect,isClearable:false}))}},{key:"_renderIndexPatternSelect",value:function _renderIndexPatternSelect(){return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.esGeoGrid.indexPatternLabel",{defaultMessage:"Index pattern"})},_react.default.createElement(IndexPatternSelect,{isDisabled:this.state.noGeoIndexPatternsExist,indexPatternId:this.state.indexPatternId,onChange:this.onIndexPatternSelect,placeholder:_i18n.i18n.translate("xpack.maps.source.esGeoGrid.indexPatternPlaceholder",{defaultMessage:"Select index pattern"}),fieldTypes:[_constants.ES_GEO_FIELD_TYPE.GEO_POINT],onNoIndexPatterns:this._onNoIndexPatterns}))}},{key:"_renderNoIndexPatternWarning",value:function _renderNoIndexPatternWarning(){if(!this.state.noGeoIndexPatternsExist){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_no_index_pattern_callout.NoIndexPatternCallout,null),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}},{key:"render",value:function render(){return _react.default.createElement(_react.Fragment,null,this._renderNoIndexPatternWarning(),this._renderIndexPatternSelect(),this._renderGeoSelect(),this._renderLayerSelect())}}]);return CreateSourceEditor}(_react.Component);exports.CreateSourceEditor=CreateSourceEditor;_defineProperty(CreateSourceEditor,"propTypes",{onSourceConfigChange:_propTypes.default.func.isRequired})},2049:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpdateSourceEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _render_as=__webpack_require__(522);var _metrics_editor=__webpack_require__(687);var _kibana_services=__webpack_require__(101);var _resolution_editor=__webpack_require__(2052);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(4);var _eui=__webpack_require__(1);var _is_metric_countable=__webpack_require__(1015);var _public=__webpack_require__(11);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var UpdateSourceEditor=function(_Component){_inherits(UpdateSourceEditor,_Component);function UpdateSourceEditor(){var _getPrototypeOf2;var _this;_classCallCheck(this,UpdateSourceEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UpdateSourceEditor)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{fields:null});_defineProperty(_assertThisInitialized(_this),"_onMetricsChange",(function(metrics){_this.props.onChange({propName:"metrics",value:metrics})}));_defineProperty(_assertThisInitialized(_this),"_onResolutionChange",(function(e){_this.props.onChange({propName:"resolution",value:e})}));return _this}_createClass(UpdateSourceEditor,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadFields()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"_loadFields",value:function _loadFields(){var indexPattern;return regeneratorRuntime.async((function _loadFields$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return regeneratorRuntime.awrap(_kibana_services.indexPatternService.get(this.props.indexPatternId));case 3:indexPattern=_context.sent;_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](0);if(this._isMounted){this.setState({loadError:_i18n.i18n.translate("xpack.maps.source.esGrid.noIndexPatternErrorMessage",{defaultMessage:"Unable to find Index pattern {id}",values:{id:this.props.indexPatternId}})})}return _context.abrupt("return");case 10:if(this._isMounted){_context.next=12;break}return _context.abrupt("return");case 12:this.setState({fields:indexPattern.fields.filter((function(field){return!(0,_public.isNestedField)(field)}))});case 13:case"end":return _context.stop()}}}),null,this,[[0,6]])}},{key:"_renderMetricsPanel",value:function _renderMetricsPanel(){var metricsFilter=this.props.renderAs===_render_as.RENDER_AS.HEATMAP?function(metric){return(0,_is_metric_countable.isMetricCountable)(metric.value)}:null;var allowMultipleMetrics=this.props.renderAs!==_render_as.RENDER_AS.HEATMAP;return _react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h6",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.source.esGrid.metricsLabel",defaultMessage:"Metrics"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_metrics_editor.MetricsEditor,{allowMultipleMetrics:allowMultipleMetrics,metricsFilter:metricsFilter,fields:this.state.fields,metrics:this.props.metrics,onChange:this._onMetricsChange}))}},{key:"render",value:function render(){return _react.default.createElement(_react.Fragment,null,this._renderMetricsPanel(),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h6",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.source.esGrid.geoTileGridLabel",defaultMessage:"Grid parameters"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_resolution_editor.ResolutionEditor,{resolution:this.props.resolution,onChange:this._onResolutionChange})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}}]);return UpdateSourceEditor}(_react.Component);exports.UpdateSourceEditor=UpdateSourceEditor},2050:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricEditor=MetricEditor;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);var _metric_select=__webpack_require__(2051);var _single_field_select=__webpack_require__(330);var _constants=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function filterFieldsForAgg(fields,aggType){if(!fields){return[]}if(aggType===_constants.METRIC_TYPE.UNIQUE_COUNT){return fields.filter((function(field){return field.aggregatable}))}return fields.filter((function(field){return field.aggregatable&&field.type==="number"}))}function MetricEditor(_ref){var fields=_ref.fields,metricsFilter=_ref.metricsFilter,metric=_ref.metric,onChange=_ref.onChange,removeButton=_ref.removeButton;var onAggChange=function onAggChange(metricAggregationType){var newMetricProps=_objectSpread({},metric,{type:metricAggregationType});if(metric.field&&metricAggregationType!==_constants.METRIC_TYPE.COUNT){var fieldsForNewAggType=filterFieldsForAgg(fields,metricAggregationType);var found=fieldsForNewAggType.find((function(field){return field.name===metric.field}));if(!found){newMetricProps.field=undefined}}onChange(newMetricProps)};var onFieldChange=function onFieldChange(fieldName){onChange(_objectSpread({},metric,{field:fieldName}))};var onLabelChange=function onLabelChange(e){onChange(_objectSpread({},metric,{label:e.target.value}))};var fieldSelect;if(metric.type&&metric.type!==_constants.METRIC_TYPE.COUNT){fieldSelect=_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.metricsEditor.selectFieldLabel",{defaultMessage:"Field"}),display:"columnCompressed"},_react.default.createElement(_single_field_select.SingleFieldSelect,{placeholder:_i18n.i18n.translate("xpack.maps.metricsEditor.selectFieldPlaceholder",{defaultMessage:"Select field"}),value:metric.field,onChange:onFieldChange,fields:filterFieldsForAgg(fields,metric.type),isClearable:false,compressed:true}))}var labelInput;if(metric.type){labelInput=_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.metricsEditor.customLabel",{defaultMessage:"Custom label"}),display:"columnCompressed"},_react.default.createElement(_eui.EuiFieldText,{onChange:onLabelChange,value:metric.label?metric.label:"",compressed:true}))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.metricsEditor.aggregationLabel",{defaultMessage:"Aggregation"}),display:"columnCompressed"},_react.default.createElement(_metric_select.MetricSelect,{onChange:onAggChange,value:metric.type,metricsFilter:metricsFilter,compressed:true})),fieldSelect,labelInput,removeButton)}MetricEditor.propTypes={metric:_propTypes.default.shape({type:_propTypes.default.oneOf(_metric_select.METRIC_AGGREGATION_VALUES),field:_propTypes.default.string,label:_propTypes.default.string}),fields:_propTypes.default.array,onChange:_propTypes.default.func.isRequired,metricsFilter:_propTypes.default.func}},2051:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricSelect=MetricSelect;exports.METRIC_AGGREGATION_VALUES=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);var _constants=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var AGG_OPTIONS=[{label:_i18n.i18n.translate("xpack.maps.metricSelect.averageDropDownOptionLabel",{defaultMessage:"Average"}),value:_constants.METRIC_TYPE.AVG},{label:_i18n.i18n.translate("xpack.maps.metricSelect.countDropDownOptionLabel",{defaultMessage:"Count"}),value:_constants.METRIC_TYPE.COUNT},{label:_i18n.i18n.translate("xpack.maps.metricSelect.maxDropDownOptionLabel",{defaultMessage:"Max"}),value:_constants.METRIC_TYPE.MAX},{label:_i18n.i18n.translate("xpack.maps.metricSelect.minDropDownOptionLabel",{defaultMessage:"Min"}),value:_constants.METRIC_TYPE.MIN},{label:_i18n.i18n.translate("xpack.maps.metricSelect.sumDropDownOptionLabel",{defaultMessage:"Sum"}),value:_constants.METRIC_TYPE.SUM},{label:_i18n.i18n.translate("xpack.maps.metricSelect.cardinalityDropDownOptionLabel",{defaultMessage:"Unique count"}),value:_constants.METRIC_TYPE.UNIQUE_COUNT}];var METRIC_AGGREGATION_VALUES=AGG_OPTIONS.map((function(_ref){var value=_ref.value;return value}));exports.METRIC_AGGREGATION_VALUES=METRIC_AGGREGATION_VALUES;function MetricSelect(_ref2){var value=_ref2.value,onChange=_ref2.onChange,metricsFilter=_ref2.metricsFilter,rest=_objectWithoutProperties(_ref2,["value","onChange","metricsFilter"]);function onAggChange(selectedOptions){if(selectedOptions.length===0){return}var aggType=selectedOptions[0].value;onChange(aggType)}var options=metricsFilter?AGG_OPTIONS.filter(metricsFilter):AGG_OPTIONS;return _react.default.createElement(_eui.EuiComboBox,_extends({placeholder:_i18n.i18n.translate("xpack.maps.metricSelect.selectAggregationPlaceholder",{defaultMessage:"Select aggregation"}),singleSelection:true,isClearable:false,options:options,selectedOptions:AGG_OPTIONS.filter((function(option){return value===option.value})),onChange:onAggChange},rest))}MetricSelect.propTypes={metricsFilter:_propTypes.default.func,value:_propTypes.default.oneOf(METRIC_AGGREGATION_VALUES),onChange:_propTypes.default.func.isRequired}},2052:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ResolutionEditor=ResolutionEditor;var _react=_interopRequireDefault(__webpack_require__(0));var _grid_resolution=__webpack_require__(684);var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var OPTIONS=[{value:_grid_resolution.GRID_RESOLUTION.COARSE,text:_i18n.i18n.translate("xpack.maps.source.esGrid.coarseDropdownOption",{defaultMessage:"coarse"})},{value:_grid_resolution.GRID_RESOLUTION.FINE,text:_i18n.i18n.translate("xpack.maps.source.esGrid.fineDropdownOption",{defaultMessage:"fine"})},{value:_grid_resolution.GRID_RESOLUTION.MOST_FINE,text:_i18n.i18n.translate("xpack.maps.source.esGrid.finestDropdownOption",{defaultMessage:"finest"})}];function ResolutionEditor(_ref){var resolution=_ref.resolution,_onChange=_ref.onChange;return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.geoGrid.resolutionLabel",{defaultMessage:"Grid resolution"}),display:"columnCompressed"},_react.default.createElement(_eui.EuiSelect,{options:OPTIONS,value:resolution,onChange:function onChange(e){return _onChange(e.target.value)},compressed:true}))}},2053:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ESPewPewSource=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _v=_interopRequireDefault(__webpack_require__(186));var _vector_feature_types=__webpack_require__(273);var _vector_layer=__webpack_require__(404);var _create_source_editor=__webpack_require__(2054);var _update_source_editor=__webpack_require__(2055);var _vector_style=__webpack_require__(249);var _vector_style_defaults=__webpack_require__(147);var _i18n=__webpack_require__(2);var _constants=__webpack_require__(25);var _i18n_getters=__webpack_require__(166);var _convert_to_lines=__webpack_require__(2056);var _schemas=__webpack_require__(96);var _agg_types=__webpack_require__(204);var _es_agg_source=__webpack_require__(683);var _dynamic_style_property=__webpack_require__(274);var _color_utils=__webpack_require__(201);var _public=__webpack_require__(11);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var MAX_GEOTILE_LEVEL=29;var aggSchemas=new _schemas.Schemas([_es_agg_source.AbstractESAggSource.METRIC_SCHEMA_CONFIG]);var ESPewPewSource=function(_AbstractESAggSource){_inherits(ESPewPewSource,_AbstractESAggSource);function ESPewPewSource(){_classCallCheck(this,ESPewPewSource);return _possibleConstructorReturn(this,_getPrototypeOf(ESPewPewSource).apply(this,arguments))}_createClass(ESPewPewSource,[{key:"renderSourceSettingsEditor",value:function renderSourceSettingsEditor(_ref){var onChange=_ref.onChange;return _react.default.createElement(_update_source_editor.UpdateSourceEditor,{indexPatternId:this._descriptor.indexPatternId,onChange:onChange,metrics:this._descriptor.metrics,applyGlobalQuery:this._descriptor.applyGlobalQuery})}},{key:"isFilterByMapBounds",value:function isFilterByMapBounds(){return true}},{key:"isJoinable",value:function isJoinable(){return false}},{key:"isGeoGridPrecisionAware",value:function isGeoGridPrecisionAware(){return true}},{key:"getSupportedShapeTypes",value:function getSupportedShapeTypes(){return regeneratorRuntime.async((function getSupportedShapeTypes$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",[_vector_feature_types.VECTOR_SHAPE_TYPES.LINE]);case 1:case"end":return _context.stop()}}}))}},{key:"getImmutableProperties",value:function getImmutableProperties(){var indexPatternTitle,indexPattern;return regeneratorRuntime.async((function getImmutableProperties$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:indexPatternTitle=this._descriptor.indexPatternId;_context2.prev=1;_context2.next=4;return regeneratorRuntime.awrap(this.getIndexPattern());case 4:indexPattern=_context2.sent;indexPatternTitle=indexPattern.title;_context2.next=10;break;case 8:_context2.prev=8;_context2.t0=_context2["catch"](1);case 10:return _context2.abrupt("return",[{label:(0,_i18n_getters.getDataSourceLabel)(),value:ESPewPewSource.title},{label:_i18n.i18n.translate("xpack.maps.source.pewPew.indexPatternLabel",{defaultMessage:"Index pattern"}),value:indexPatternTitle},{label:_i18n.i18n.translate("xpack.maps.source.pewPew.sourceGeoFieldLabel",{defaultMessage:"Source"}),value:this._descriptor.sourceGeoField},{label:_i18n.i18n.translate("xpack.maps.source.pewPew.destGeoFieldLabel",{defaultMessage:"Destination"}),value:this._descriptor.destGeoField}]);case 11:case"end":return _context2.stop()}}}),null,this,[[1,8]])}},{key:"createDefaultLayer",value:function createDefaultLayer(options){var _VectorStyle$createDe;var defaultDynamicProperties=(0,_vector_style_defaults.getDefaultDynamicProperties)();var styleDescriptor=_vector_style.VectorStyle.createDescriptor((_VectorStyle$createDe={},_defineProperty(_VectorStyle$createDe,_vector_style_defaults.VECTOR_STYLES.LINE_COLOR,{type:_dynamic_style_property.DynamicStyleProperty.type,options:_objectSpread({},defaultDynamicProperties[_vector_style_defaults.VECTOR_STYLES.LINE_COLOR].options,{field:{name:_constants.COUNT_PROP_NAME,origin:_constants.SOURCE_DATA_ID_ORIGIN},color:_color_utils.COLOR_GRADIENTS[0].value})}),_defineProperty(_VectorStyle$createDe,_vector_style_defaults.VECTOR_STYLES.LINE_WIDTH,{type:_dynamic_style_property.DynamicStyleProperty.type,options:_objectSpread({},defaultDynamicProperties[_vector_style_defaults.VECTOR_STYLES.LINE_WIDTH].options,{field:{name:_constants.COUNT_PROP_NAME,origin:_constants.SOURCE_DATA_ID_ORIGIN}})}),_VectorStyle$createDe));return new _vector_layer.VectorLayer({layerDescriptor:_vector_layer.VectorLayer.createDescriptor(_objectSpread({},options,{sourceDescriptor:this._descriptor,style:styleDescriptor})),source:this,style:new _vector_style.VectorStyle(styleDescriptor,this)})}},{key:"getGeoGridPrecision",value:function getGeoGridPrecision(zoom){var targetGeotileLevel=Math.ceil(zoom)+2;return Math.min(targetGeotileLevel,MAX_GEOTILE_LEVEL)}},{key:"getGeoJsonWithMeta",value:function getGeoJsonWithMeta(layerName,searchFilters,registerCancelCallback){var indexPattern,metricAggConfigs,aggConfigs,searchSource,esResponse,_convertToLines,featureCollection;return regeneratorRuntime.async((function getGeoJsonWithMeta$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return regeneratorRuntime.awrap(this.getIndexPattern());case 2:indexPattern=_context3.sent;metricAggConfigs=this.createMetricAggConfigs();aggConfigs=new _agg_types.AggConfigs(indexPattern,metricAggConfigs,aggSchemas.all);_context3.next=7;return regeneratorRuntime.awrap(this._makeSearchSource(searchFilters,0));case 7:searchSource=_context3.sent;searchSource.setField("aggs",{destSplit:{terms:{script:{source:"doc['".concat(this._descriptor.destGeoField,"'].value.toString()"),lang:"painless"},order:{_count:"desc"},size:100},aggs:{sourceGrid:{geotile_grid:{field:this._descriptor.sourceGeoField,precision:searchFilters.geogridPrecision,size:500},aggs:_objectSpread({sourceCentroid:{geo_centroid:{field:this._descriptor.sourceGeoField}}},aggConfigs.toDsl())}}}});_context3.next=11;return regeneratorRuntime.awrap(this._runEsQuery({requestId:this.getId(),requestName:layerName,searchSource:searchSource,registerCancelCallback:registerCancelCallback,requestDescription:_i18n.i18n.translate("xpack.maps.source.pewPew.inspectorDescription",{defaultMessage:"Source-destination connections request"})}));case 11:esResponse=_context3.sent;_convertToLines=(0,_convert_to_lines.convertToLines)(esResponse),featureCollection=_convertToLines.featureCollection;return _context3.abrupt("return",{data:featureCollection,meta:{areResultsTrimmed:false}});case 14:case"end":return _context3.stop()}}}),null,this)}},{key:"_getGeoField",value:function _getGeoField(){var indexPattern,field,geoField;return regeneratorRuntime.async((function _getGeoField$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return regeneratorRuntime.awrap(this.getIndexPattern());case 2:indexPattern=_context4.sent;field=indexPattern.fields.getByName(this._descriptor.destGeoField);geoField=(0,_public.isNestedField)(field)?undefined:field;if(geoField){_context4.next=7;break}throw new Error(_i18n.i18n.translate("xpack.maps.source.esSource.noGeoFieldErrorMessage",{defaultMessage:"Index pattern {indexPatternTitle} no longer contains the geo field {geoField}",values:{indexPatternTitle:indexPattern.title,geoField:this._descriptor.geoField}}));case 7:return _context4.abrupt("return",geoField);case 8:case"end":return _context4.stop()}}}),null,this)}},{key:"canFormatFeatureProperties",value:function canFormatFeatureProperties(){return true}},{key:"filterAndFormatPropertiesToHtml",value:function filterAndFormatPropertiesToHtml(properties){return regeneratorRuntime.async((function filterAndFormatPropertiesToHtml$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return regeneratorRuntime.awrap(this.filterAndFormatPropertiesToHtmlForMetricFields(properties));case 2:return _context5.abrupt("return",_context5.sent);case 3:case"end":return _context5.stop()}}}),null,this)}}],[{key:"createDescriptor",value:function createDescriptor(_ref2){var indexPatternId=_ref2.indexPatternId,sourceGeoField=_ref2.sourceGeoField,destGeoField=_ref2.destGeoField;return{type:ESPewPewSource.type,id:(0,_v.default)(),indexPatternId:indexPatternId,sourceGeoField:sourceGeoField,destGeoField:destGeoField}}},{key:"renderEditor",value:function renderEditor(_ref3){var onPreviewSource=_ref3.onPreviewSource,inspectorAdapters=_ref3.inspectorAdapters;var onSourceConfigChange=function onSourceConfigChange(sourceConfig){if(!sourceConfig){onPreviewSource(null);return}var sourceDescriptor=ESPewPewSource.createDescriptor(sourceConfig);var source=new ESPewPewSource(sourceDescriptor,inspectorAdapters);onPreviewSource(source)};return _react.default.createElement(_create_source_editor.CreateSourceEditor,{onSourceConfigChange:onSourceConfigChange})}}]);return ESPewPewSource}(_es_agg_source.AbstractESAggSource);exports.ESPewPewSource=ESPewPewSource;_defineProperty(ESPewPewSource,"type",_constants.ES_PEW_PEW);_defineProperty(ESPewPewSource,"title",_i18n.i18n.translate("xpack.maps.source.pewPewTitle",{defaultMessage:"Point to point"}));_defineProperty(ESPewPewSource,"description",_i18n.i18n.translate("xpack.maps.source.pewPewDescription",{defaultMessage:"Aggregated data paths between the source and destination"}))},2054:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CreateSourceEditor=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _single_field_select=__webpack_require__(330);var _kibana_services=__webpack_require__(101);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(4);var _eui=__webpack_require__(1);var _constants=__webpack_require__(25);var _public=__webpack_require__(11);var _new_platform=__webpack_require__(7);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IndexPatternSelect=_new_platform.npStart.plugins.data.ui.IndexPatternSelect;var GEO_FIELD_TYPES=[_constants.ES_GEO_FIELD_TYPE.GEO_POINT];function filterGeoField(_ref){var type=_ref.type;return GEO_FIELD_TYPES.includes(type)}var CreateSourceEditor=function(_Component){_inherits(CreateSourceEditor,_Component);function CreateSourceEditor(){var _getPrototypeOf2;var _this;_classCallCheck(this,CreateSourceEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CreateSourceEditor)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isLoadingIndexPattern:false,indexPattern:undefined,indexPatternId:undefined,sourceGeoField:undefined,destGeoField:undefined,indexPatternHasMultipleGeoFields:false});_defineProperty(_assertThisInitialized(_this),"onIndexPatternSelect",(function(indexPatternId){_this.setState({indexPatternId:indexPatternId},_this.loadIndexPattern.bind(null,indexPatternId))}));_defineProperty(_assertThisInitialized(_this),"loadIndexPattern",(function(indexPatternId){_this.setState({isLoadingIndexPattern:true,indexPattern:undefined,sourceGeoField:undefined,destGeoField:undefined,indexPatternHasMultipleGeoFields:false},_this.debouncedLoad.bind(null,indexPatternId))}));_defineProperty(_assertThisInitialized(_this),"debouncedLoad",_lodash.default.debounce((function _callee(indexPatternId){var indexPattern,geoFields;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!indexPatternId||indexPatternId.length===0)){_context.next=2;break}return _context.abrupt("return");case 2:_context.prev=2;_context.next=5;return regeneratorRuntime.awrap(_kibana_services.indexPatternService.get(indexPatternId));case 5:indexPattern=_context.sent;_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);return _context.abrupt("return");case 11:if(_this._isMounted){_context.next=13;break}return _context.abrupt("return");case 13:if(!(_this.state.indexPatternId!==indexPatternId)){_context.next=15;break}return _context.abrupt("return");case 15:geoFields=indexPattern.fields.filter((function(field){return!(0,_public.isNestedField)(field)})).filter(filterGeoField);_this.setState({isLoadingIndexPattern:false,indexPattern:indexPattern,indexPatternHasMultipleGeoFields:geoFields.length>=2});case 17:case"end":return _context.stop()}}}),null,null,[[2,8]])}),300));_defineProperty(_assertThisInitialized(_this),"_onSourceGeoSelect",(function(sourceGeoField){_this.setState({sourceGeoField:sourceGeoField},_this.previewLayer)}));_defineProperty(_assertThisInitialized(_this),"_onDestGeoSelect",(function(destGeoField){_this.setState({destGeoField:destGeoField},_this.previewLayer)}));_defineProperty(_assertThisInitialized(_this),"previewLayer",(function(){var _this$state=_this.state,indexPatternId=_this$state.indexPatternId,sourceGeoField=_this$state.sourceGeoField,destGeoField=_this$state.destGeoField;var sourceConfig=indexPatternId&&sourceGeoField&&destGeoField?{indexPatternId:indexPatternId,sourceGeoField:sourceGeoField,destGeoField:destGeoField}:null;_this.props.onSourceConfigChange(sourceConfig)}));return _this}_createClass(CreateSourceEditor,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true}},{key:"_renderGeoSelects",value:function _renderGeoSelects(){if(!this.state.indexPattern||!this.state.indexPatternHasMultipleGeoFields){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.pewPew.sourceGeoFieldLabel",{defaultMessage:"Source"})},_react.default.createElement(_single_field_select.SingleFieldSelect,{placeholder:_i18n.i18n.translate("xpack.maps.source.pewPew.sourceGeoFieldPlaceholder",{defaultMessage:"Select source geo field"}),value:this.state.sourceGeoField,onChange:this._onSourceGeoSelect,filterField:filterGeoField,fields:this.state.indexPattern?this.state.indexPattern.fields:undefined})),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.pewPew.destGeoFieldLabel",{defaultMessage:"Destination"})},_react.default.createElement(_single_field_select.SingleFieldSelect,{placeholder:_i18n.i18n.translate("xpack.maps.source.pewPew.destGeoFieldPlaceholder",{defaultMessage:"Select destination geo field"}),value:this.state.destGeoField,onChange:this._onDestGeoSelect,filterField:filterGeoField,fields:this.state.indexPattern?this.state.indexPattern.fields.filter((function(field){return!(0,_public.isNestedField)(field)})):undefined})))}},{key:"_renderIndexPatternSelect",value:function _renderIndexPatternSelect(){return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.source.pewPew.indexPatternLabel",{defaultMessage:"Index pattern"})},_react.default.createElement(IndexPatternSelect,{indexPatternId:this.state.indexPatternId,onChange:this.onIndexPatternSelect,placeholder:_i18n.i18n.translate("xpack.maps.source.pewPew.indexPatternPlaceholder",{defaultMessage:"Select index pattern"}),fieldTypes:GEO_FIELD_TYPES}))}},{key:"render",value:function render(){var callout;if(this.state.indexPattern&&!this.state.indexPatternHasMultipleGeoFields){callout=_react.default.createElement(_eui.EuiCallOut,{color:"warning"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.source.pewPew.noSourceAndDestDetails",defaultMessage:"Selected index pattern does not contain source and destination fields."})))}return _react.default.createElement(_react.Fragment,null,callout,this._renderIndexPatternSelect(),this._renderGeoSelects())}}]);return CreateSourceEditor}(_react.Component);exports.CreateSourceEditor=CreateSourceEditor;_defineProperty(CreateSourceEditor,"propTypes",{onSourceConfigChange:_propTypes.default.func.isRequired})},2055:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpdateSourceEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _metrics_editor=__webpack_require__(687);var _kibana_services=__webpack_require__(101);var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);var _public=__webpack_require__(11);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var UpdateSourceEditor=function(_Component){_inherits(UpdateSourceEditor,_Component);function UpdateSourceEditor(){var _getPrototypeOf2;var _this;_classCallCheck(this,UpdateSourceEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UpdateSourceEditor)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{fields:null});_defineProperty(_assertThisInitialized(_this),"_onMetricsChange",(function(metrics){_this.props.onChange({propName:"metrics",value:metrics})}));return _this}_createClass(UpdateSourceEditor,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadFields()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"_loadFields",value:function _loadFields(){var indexPattern;return regeneratorRuntime.async((function _loadFields$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return regeneratorRuntime.awrap(_kibana_services.indexPatternService.get(this.props.indexPatternId));case 3:indexPattern=_context.sent;_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](0);if(this._isMounted){this.setState({loadError:_i18n.i18n.translate("xpack.maps.source.pewPew.noIndexPatternErrorMessage",{defaultMessage:"Unable to find Index pattern {id}",values:{id:this.props.indexPatternId}})})}return _context.abrupt("return");case 10:if(this._isMounted){_context.next=12;break}return _context.abrupt("return");case 12:this.setState({fields:indexPattern.fields.filter((function(field){return!(0,_public.isNestedField)(field)}))});case 13:case"end":return _context.stop()}}}),null,this,[[0,6]])}},{key:"render",value:function render(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h6",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.source.pewPew.metricsLabel",defaultMessage:"Metrics"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_metrics_editor.MetricsEditor,{allowMultipleMetrics:true,fields:this.state.fields,metrics:this.props.metrics,onChange:this._onMetricsChange})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}}]);return UpdateSourceEditor}(_react.Component);exports.UpdateSourceEditor=UpdateSourceEditor},2056:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.convertToLines=convertToLines;var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var LAT_INDEX=0;var LON_INDEX=1;function parsePointFromKey(key){var split=key.split(",");var lat=parseFloat(split[LAT_INDEX]);var lon=parseFloat(split[LON_INDEX]);return[lon,lat]}function convertToLines(esResponse){var lineFeatures=[];var destBuckets=_lodash.default.get(esResponse,"aggregations.destSplit.buckets",[]);for(var i=0;i<destBuckets.length;i++){var destBucket=destBuckets[i];var dest=parsePointFromKey(destBucket.key);var sourceBuckets=_lodash.default.get(destBucket,"sourceGrid.buckets",[]);var _loop=function _loop(j){var _sourceBuckets$j=sourceBuckets[j],key=_sourceBuckets$j.key,sourceCentroid=_sourceBuckets$j.sourceCentroid,rest=_objectWithoutProperties(_sourceBuckets$j,["key","sourceCentroid"]);Object.keys(rest).forEach((function(key){if(_lodash.default.has(rest[key],"value")){rest[key]=rest[key].value}}));lineFeatures.push({type:"Feature",geometry:{type:"LineString",coordinates:[[sourceCentroid.location.lon,sourceCentroid.location.lat],dest]},id:"".concat(dest.join(),",").concat(key),properties:_objectSpread({},rest)})};for(var j=0;j<sourceBuckets.length;j++){_loop(j)}}return{featureCollection:{type:"FeatureCollection",features:lineFeatures}}}},2057:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MapAdapter=void 0;var _events=__webpack_require__(172);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var MapAdapter=function(_EventEmitter){_inherits(MapAdapter,_EventEmitter);function MapAdapter(){_classCallCheck(this,MapAdapter);return _possibleConstructorReturn(this,_getPrototypeOf(MapAdapter).apply(this,arguments))}_createClass(MapAdapter,[{key:"setMapState",value:function setMapState(_ref){var stats=_ref.stats,style=_ref.style;this.stats=stats;this.style=style;this._onChange()}},{key:"getMapState",value:function getMapState(){return{stats:this.stats,style:this.style}}},{key:"_onChange",value:function _onChange(){this.emit("change")}}]);return MapAdapter}(_events.EventEmitter);exports.MapAdapter=MapAdapter},2058:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TooltipControl=void 0;var _reactRedux=__webpack_require__(12);var _tooltip_control=__webpack_require__(2059);var _map_actions=__webpack_require__(92);var _map_selectors=__webpack_require__(64);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{layerList:(0,_map_selectors.getLayerList)(state),tooltipState:(0,_map_selectors.getTooltipState)(state),isDrawingFilter:(0,_map_selectors.isDrawingFilter)(state)}}function mapDispatchToProps(dispatch){return{setTooltipState:function setTooltipState(tooltipState){dispatch((0,_map_actions.setTooltipState)(tooltipState))},clearTooltipState:function clearTooltipState(){dispatch((0,_map_actions.setTooltipState)(null))}}}var connectedTooltipControl=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_tooltip_control.TooltipControl);exports.TooltipControl=connectedTooltipControl},2059:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TooltipControl=exports.TOOLTIP_TYPE=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _constants=__webpack_require__(25);var _features_tooltip=__webpack_require__(2060);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TOOLTIP_TYPE={HOVER:"HOVER",LOCKED:"LOCKED"};exports.TOOLTIP_TYPE=TOOLTIP_TYPE;var noop=function noop(){};function justifyAnchorLocation(mbLngLat,targetFeature){var popupAnchorLocation=[mbLngLat.lng,mbLngLat.lat];if(targetFeature.geometry.type==="Point"){var coordinates=targetFeature.geometry.coordinates.slice();while(Math.abs(mbLngLat.lng-coordinates[_constants.LON_INDEX])>180){coordinates[0]+=mbLngLat.lng>coordinates[_constants.LON_INDEX]?360:-360}popupAnchorLocation=coordinates}return popupAnchorLocation}var TooltipControl=function(_React$Component){_inherits(TooltipControl,_React$Component);function TooltipControl(props){var _this;_classCallCheck(this,TooltipControl);_this=_possibleConstructorReturn(this,_getPrototypeOf(TooltipControl).call(this,props));_defineProperty(_assertThisInitialized(_this),"state",{x:undefined,y:undefined});_defineProperty(_assertThisInitialized(_this),"_onMouseout",(function(){_this._updateHoverTooltipState.cancel();if(_this.props.tooltipState&&_this.props.tooltipState.type!==TOOLTIP_TYPE.LOCKED){_this.props.clearTooltipState()}}));_defineProperty(_assertThisInitialized(_this),"_updatePopoverPosition",(function(){if(!_this.props.tooltipState){return}var lat=_this.props.tooltipState.location[_constants.LAT_INDEX];var lon=_this.props.tooltipState.location[_constants.LON_INDEX];var bounds=_this.props.mbMap.getBounds();if(lat>bounds.getNorth()||lat<bounds.getSouth()||lon<bounds.getWest()||lon>bounds.getEast()){_this.props.clearTooltipState();return}var nextPoint=_this.props.mbMap.project(_this.props.tooltipState.location);_this.setState({x:nextPoint.x,y:nextPoint.y})}));_defineProperty(_assertThisInitialized(_this),"_lockTooltip",(function(e){if(_this.props.isDrawingFilter){return}_this._updateHoverTooltipState.cancel();var mbFeatures=_this._getFeaturesUnderPointer(e.point);if(!mbFeatures.length){_this.props.clearTooltipState();return}var targetMbFeataure=mbFeatures[0];var popupAnchorLocation=justifyAnchorLocation(e.lngLat,targetMbFeataure);var features=_this._getIdsForFeatures(mbFeatures);_this.props.setTooltipState({type:TOOLTIP_TYPE.LOCKED,features:features,location:popupAnchorLocation})}));_defineProperty(_assertThisInitialized(_this),"_updateHoverTooltipState",_lodash.default.debounce((function(e){if(_this.props.isDrawingFilter){return}if(_this.props.tooltipState&&_this.props.tooltipState.type===TOOLTIP_TYPE.LOCKED){return}var mbFeatures=_this._getFeaturesUnderPointer(e.point);if(!mbFeatures.length){_this.props.clearTooltipState();return}var targetMbFeature=mbFeatures[0];if(_this.props.tooltipState){var firstFeature=_this.props.tooltipState.features[0];if(targetMbFeature.properties[_constants.FEATURE_ID_PROPERTY_NAME]===firstFeature.id){return}}var popupAnchorLocation=justifyAnchorLocation(e.lngLat,targetMbFeature);var features=_this._getIdsForFeatures(mbFeatures);_this.props.setTooltipState({type:TOOLTIP_TYPE.HOVER,features:features,location:popupAnchorLocation})}),100));_defineProperty(_assertThisInitialized(_this),"_loadFeatureGeometry",(function(_ref){var layerId=_ref.layerId,featureId=_ref.featureId;var tooltipLayer=_this._findLayerById(layerId);if(!tooltipLayer){return null}var targetFeature=tooltipLayer.getFeatureById(featureId);if(!targetFeature){return null}return targetFeature.geometry}));_defineProperty(_assertThisInitialized(_this),"_loadFeatureProperties",(function _callee(_ref2){var layerId,featureId,tooltipLayer,targetFeature;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:layerId=_ref2.layerId,featureId=_ref2.featureId;tooltipLayer=_this._findLayerById(layerId);if(tooltipLayer){_context.next=4;break}return _context.abrupt("return",[]);case 4:targetFeature=tooltipLayer.getFeatureById(featureId);if(targetFeature){_context.next=7;break}return _context.abrupt("return",[]);case 7:_context.next=9;return regeneratorRuntime.awrap(tooltipLayer.getPropertiesForTooltip(targetFeature.properties));case 9:return _context.abrupt("return",_context.sent);case 10:case"end":return _context.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"_loadPreIndexedShape",(function _callee2(_ref3){var layerId,featureId,tooltipLayer,targetFeature;return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:layerId=_ref3.layerId,featureId=_ref3.featureId;tooltipLayer=_this._findLayerById(layerId);if(tooltipLayer){_context2.next=4;break}return _context2.abrupt("return",null);case 4:targetFeature=tooltipLayer.getFeatureById(featureId);if(targetFeature){_context2.next=7;break}return _context2.abrupt("return",null);case 7:_context2.next=9;return regeneratorRuntime.awrap(tooltipLayer.getSource().getPreIndexedShape(targetFeature.properties));case 9:return _context2.abrupt("return",_context2.sent);case 10:case"end":return _context2.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"_findLayerById",(function(layerId){return _this.props.layerList.find((function(layer){return layer.getId()===layerId}))}));_defineProperty(_assertThisInitialized(_this),"_getLayerName",(function _callee3(layerId){var layer;return regeneratorRuntime.async((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:layer=_this._findLayerById(layerId);if(layer){_context3.next=3;break}return _context3.abrupt("return",null);case 3:return _context3.abrupt("return",layer.getDisplayName());case 4:case"end":return _context3.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"_renderTooltipContent",(function(){var publicProps={addFilters:_this.props.addFilters,closeTooltip:_this.props.clearTooltipState,features:_this.props.tooltipState.features,isLocked:_this.props.tooltipState.type===TOOLTIP_TYPE.LOCKED,loadFeatureProperties:_this._loadFeatureProperties,loadFeatureGeometry:_this._loadFeatureGeometry,getLayerName:_this._getLayerName};if(_this.props.renderTooltipContent){return _this.props.renderTooltipContent(publicProps)}return _react.default.createElement(_eui.EuiText,{size:"xs",style:{maxWidth:"425px"}},_react.default.createElement(_features_tooltip.FeaturesTooltip,_extends({},publicProps,{findLayerById:_this._findLayerById,geoFields:_this.props.geoFields,loadPreIndexedShape:_this._loadPreIndexedShape})))}));_this._popoverRef=_react.default.createRef();return _this}_createClass(TooltipControl,[{key:"componentDidMount",value:function componentDidMount(){this.props.mbMap.on("mouseout",this._onMouseout);this.props.mbMap.on("mousemove",this._updateHoverTooltipState);this.props.mbMap.on("move",this._updatePopoverPosition);this.props.mbMap.on("click",this._lockTooltip)}},{key:"componentDidUpdate",value:function componentDidUpdate(){if(this.props.tooltipState&&this._popoverRef.current){this._popoverRef.current.positionPopoverFluid()}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.mbMap.off("mouseout",this._onMouseout);this.props.mbMap.off("mousemove",this._updateHoverTooltipState);this.props.mbMap.off("move",this._updatePopoverPosition);this.props.mbMap.off("click",this._lockTooltip)}},{key:"_getLayerByMbLayerId",value:function _getLayerByMbLayerId(mbLayerId){return this.props.layerList.find((function(layer){var mbLayerIds=layer.getMbLayerIds();return mbLayerIds.indexOf(mbLayerId)>-1}))}},{key:"_getIdsForFeatures",value:function _getIdsForFeatures(mbFeatures){var uniqueFeatures=[];for(var i=0;i<mbFeatures.length;i++){var mbFeature=mbFeatures[i];var _layer=this._getLayerByMbLayerId(mbFeature.layer.id);var _featureId=mbFeature.properties[_constants.FEATURE_ID_PROPERTY_NAME];var _layerId=_layer.getId();var match=false;for(var j=0;j<uniqueFeatures.length;j++){var uniqueFeature=uniqueFeatures[j];if(_featureId===uniqueFeature.id&&_layerId===uniqueFeature.layerId){match=true;break}}if(!match){uniqueFeatures.push({id:_featureId,layerId:_layerId})}}return uniqueFeatures}},{key:"_getMbLayerIdsForTooltips",value:function _getMbLayerIdsForTooltips(){var _this2=this;var mbLayerIds=this.props.layerList.reduce((function(mbLayerIds,layer){return layer.canShowTooltip()?mbLayerIds.concat(layer.getMbLayerIds()):mbLayerIds}),[]);return mbLayerIds.filter((function(mbLayerId){return!!_this2.props.mbMap.getLayer(mbLayerId)}))}},{key:"_getFeaturesUnderPointer",value:function _getFeaturesUnderPointer(mbLngLatPoint){if(!this.props.mbMap){return[]}var mbLayerIds=this._getMbLayerIdsForTooltips();var PADDING=2;var mbBbox=[{x:mbLngLatPoint.x-PADDING,y:mbLngLatPoint.y-PADDING},{x:mbLngLatPoint.x+PADDING,y:mbLngLatPoint.y+PADDING}];return this.props.mbMap.queryRenderedFeatures(mbBbox,{layers:mbLayerIds})}},{key:"render",value:function render(){if(!this.props.tooltipState){return null}var tooltipAnchor=_react.default.createElement("div",{style:{height:"26px",width:"26px",background:"transparent"}});return _react.default.createElement(_eui.EuiPopover,{id:"mapTooltip",button:tooltipAnchor,anchorPosition:"upCenter",isOpen:true,closePopover:noop,ref:this._popoverRef,style:{pointerEvents:"none",transform:"translate(".concat(this.state.x-13,"px, ").concat(this.state.y-13,"px)")}},this._renderTooltipContent())}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){if(nextProps.tooltipState){var nextPoint=nextProps.mbMap.project(nextProps.tooltipState.location);if(nextPoint.x!==prevState.x||nextPoint.y!==prevState.y){return{x:nextPoint.x,y:nextPoint.y}}}return null}}]);return TooltipControl}(_react.default.Component);exports.TooltipControl=TooltipControl},2060:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FeaturesTooltip=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _feature_properties=__webpack_require__(2061);var _react2=__webpack_require__(4);var _constants=__webpack_require__(25);var _feature_geometry_filter_form=__webpack_require__(2062);var _tooltip_header=__webpack_require__(2063);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var VIEWS={PROPERTIES_VIEW:"PROPERTIES_VIEW",GEOMETRY_FILTER_VIEW:"GEOMETRY_FILTER_VIEW"};var FeaturesTooltip=function(_React$Component){_inherits(FeaturesTooltip,_React$Component);function FeaturesTooltip(){var _getPrototypeOf2;var _this;_classCallCheck(this,FeaturesTooltip);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(FeaturesTooltip)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{});_defineProperty(_assertThisInitialized(_this),"_setCurrentFeature",(function(feature){_this.setState({currentFeature:feature})}));_defineProperty(_assertThisInitialized(_this),"_showGeometryFilterView",(function(){_this.setState({view:VIEWS.GEOMETRY_FILTER_VIEW})}));_defineProperty(_assertThisInitialized(_this),"_showPropertiesView",(function(){_this.setState({view:VIEWS.PROPERTIES_VIEW})}));_defineProperty(_assertThisInitialized(_this),"_loadCurrentFeaturePreIndexedShape",(function(){if(!_this.state.currentFeature){return}return _this.props.loadPreIndexedShape({layerId:_this.state.currentFeature.layerId,featureId:_this.state.currentFeature.id})}));return _this}_createClass(FeaturesTooltip,[{key:"_renderActions",value:function _renderActions(geoFields){if(!this.props.isLocked||geoFields.length===0){return null}return _react.default.createElement(_eui.EuiLink,{className:"mapFeatureTooltip_actionLinks",onClick:this._showGeometryFilterView},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.tooltip.showGeometryFilterViewLinkLabel",defaultMessage:"Filter by geometry"}))}},{key:"_filterGeoFields",value:function _filterGeoFields(featureGeometry){if(!featureGeometry){return[]}if(featureGeometry.type===_constants.GEO_JSON_TYPE.LINE_STRING||featureGeometry.type===_constants.GEO_JSON_TYPE.MULTI_LINE_STRING){return this.props.geoFields.filter((function(_ref){var geoFieldType=_ref.geoFieldType;return geoFieldType===_constants.ES_GEO_FIELD_TYPE.GEO_SHAPE}))}if(featureGeometry.type===_constants.GEO_JSON_TYPE.POINT||featureGeometry.type===_constants.GEO_JSON_TYPE.MULTI_POINT){return[]}return this.props.geoFields}},{key:"render",value:function render(){if(!this.state.currentFeature){return null}var currentFeatureGeometry=this.props.loadFeatureGeometry({layerId:this.state.currentFeature.layerId,featureId:this.state.currentFeature.id});var geoFields=this._filterGeoFields(currentFeatureGeometry);if(this.state.view===VIEWS.GEOMETRY_FILTER_VIEW&&currentFeatureGeometry){return _react.default.createElement(_feature_geometry_filter_form.FeatureGeometryFilterForm,{onClose:this.props.closeTooltip,showPropertiesView:this._showPropertiesView,geometry:currentFeatureGeometry,geoFields:geoFields,addFilters:this.props.addFilters,loadPreIndexedShape:this._loadCurrentFeaturePreIndexedShape})}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_tooltip_header.TooltipHeader,{onClose:this.props.closeTooltip,features:this.props.features,isLocked:this.props.isLocked,findLayerById:this.props.findLayerById,setCurrentFeature:this._setCurrentFeature}),_react.default.createElement(_feature_properties.FeatureProperties,{featureId:this.state.currentFeature.id,layerId:this.state.currentFeature.layerId,loadFeatureProperties:this.props.loadFeatureProperties,showFilterButtons:!!this.props.addFilters&&this.props.isLocked,onCloseTooltip:this.props.closeTooltip,addFilters:this.props.addFilters}),this._renderActions(geoFields))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){if(nextProps.features!==prevState.prevFeatures){return{currentFeature:nextProps.features?nextProps.features[0]:null,view:VIEWS.PROPERTIES_VIEW,prevFeatures:nextProps.features}}return null}}]);return FeaturesTooltip}(_react.default.Component);exports.FeaturesTooltip=FeaturesTooltip},2061:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FeatureProperties=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FeatureProperties=function(_React$Component){_inherits(FeatureProperties,_React$Component);function FeatureProperties(){var _getPrototypeOf2;var _this;_classCallCheck(this,FeatureProperties);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(FeatureProperties)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{properties:null,loadPropertiesErrorMsg:null,prevWidth:null,prevHeight:null});_defineProperty(_assertThisInitialized(_this),"_loadProperties",(function(){_this._fetchProperties({nextFeatureId:_this.props.featureId,nextLayerId:_this.props.layerId})}));_defineProperty(_assertThisInitialized(_this),"_fetchProperties",(function _callee(_ref){var nextLayerId,nextFeatureId,properties;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:nextLayerId=_ref.nextLayerId,nextFeatureId=_ref.nextFeatureId;if(!(_this.prevLayerId===nextLayerId&&_this.prevFeatureId===nextFeatureId)){_context.next=3;break}return _context.abrupt("return");case 3:_this.prevLayerId=nextLayerId;_this.prevFeatureId=nextFeatureId;_this.setState({properties:undefined,loadPropertiesErrorMsg:undefined});if(_this.state.properties&&_this._node){_this.setState({prevWidth:_this._node.clientWidth,prevHeight:_this._node.clientHeight})}_context.prev=7;_context.next=10;return regeneratorRuntime.awrap(_this.props.loadFeatureProperties({layerId:nextLayerId,featureId:nextFeatureId}));case 10:properties=_context.sent;_context.next=17;break;case 13:_context.prev=13;_context.t0=_context["catch"](7);if(_this._isMounted){_this.setState({properties:[],loadPropertiesErrorMsg:_context.t0.message})}return _context.abrupt("return");case 17:if(!(_this.prevLayerId!==nextLayerId&&_this.prevFeatureId!==nextFeatureId)){_context.next=19;break}return _context.abrupt("return");case 19:if(_this._isMounted){_this.setState({properties:properties})}case 20:case"end":return _context.stop()}}}),null,null,[[7,13]])}));return _this}_createClass(FeatureProperties,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this.prevLayerId=undefined;this.prevFeatureId=undefined;this._loadProperties()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._loadProperties()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"_renderFilterCell",value:function _renderFilterCell(tooltipProperty){var _this2=this;if(!this.props.showFilterButtons||!tooltipProperty.isFilterable()){return null}return _react.default.createElement("td",null,_react.default.createElement(_eui.EuiButtonIcon,{className:"mapFeatureTooltip__filterButton",iconType:"plusInCircle",title:_i18n.i18n.translate("xpack.maps.tooltip.filterOnPropertyTitle",{defaultMessage:"Filter on property"}),onClick:function _callee2(){var filters;return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this2.props.onCloseTooltip();_context2.next=3;return regeneratorRuntime.awrap(tooltipProperty.getESFilters());case 3:filters=_context2.sent;_this2.props.addFilters(filters);case 5:case"end":return _context2.stop()}}}))},"aria-label":_i18n.i18n.translate("xpack.maps.tooltip.filterOnPropertyAriaLabel",{defaultMessage:"Filter on property"}),"data-test-subj":"mapTooltipCreateFilterButton"}))}},{key:"render",value:function render(){var _this3=this;if(this.state.loadPropertiesErrorMsg){return _react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.maps.tooltip.unableToLoadContentTitle",{defaultMessage:"Unable to load tooltip content"}),color:"danger",iconType:"alert",size:"s"},_react.default.createElement("p",null,this.state.loadPropertiesErrorMsg))}if(!this.state.properties){var loadingMsg=_i18n.i18n.translate("xpack.maps.tooltip.loadingMsg",{defaultMessage:"Loading"});var style={};if(this.state.prevWidth&&this.state.prevHeight){style.width=this.state.prevWidth;style.height=this.state.prevHeight}return _react.default.createElement(_eui.EuiTextAlign,{textAlign:"center",style:style},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}),loadingMsg)}var rows=this.state.properties.map((function(tooltipProperty){var label=tooltipProperty.getPropertyName();return _react.default.createElement("tr",{key:label},_react.default.createElement("td",{className:"eui-textOverflowWrap mapFeatureTooltip__propertyLabel"},label),_react.default.createElement("td",{className:"eui-textOverflowWrap",dangerouslySetInnerHTML:{__html:tooltipProperty.getHtmlDisplayValue()}}),_this3._renderFilterCell(tooltipProperty))}));return _react.default.createElement("table",{className:"mapFeatureTooltip_table",ref:function ref(node){return _this3._node=node}},_react.default.createElement("tbody",null,rows))}}]);return FeatureProperties}(_react.default.Component);exports.FeatureProperties=FeatureProperties},2062:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FeatureGeometryFilterForm=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(2);var _elasticsearch_geo_utils=__webpack_require__(402);var _constants=__webpack_require__(25);var _geometry_filter_form=__webpack_require__(1030);var _error_url_overflow=__webpack_require__(1069);var _risonNode=_interopRequireDefault(__webpack_require__(163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var META_OVERHEAD=100;var urlOverflow=new _error_url_overflow.UrlOverflowService;var FeatureGeometryFilterForm=function(_Component){_inherits(FeatureGeometryFilterForm,_Component);function FeatureGeometryFilterForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,FeatureGeometryFilterForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(FeatureGeometryFilterForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isLoading:false,errorMsg:undefined});_defineProperty(_assertThisInitialized(_this),"_loadPreIndexedShape",(function _callee(){var preIndexedShape;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({isLoading:true});_context.prev=1;_context.next=4;return regeneratorRuntime.awrap(_this.props.loadPreIndexedShape());case 4:preIndexedShape=_context.sent;_context.next=9;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);case 9:if(_this._isMounted){_this.setState({isLoading:false})}return _context.abrupt("return",preIndexedShape);case 11:case"end":return _context.stop()}}}),null,null,[[1,7]])}));_defineProperty(_assertThisInitialized(_this),"_createFilter",(function _callee2(_ref){var geometryLabel,indexPatternId,geoFieldName,geoFieldType,relation,preIndexedShape,filter;return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:geometryLabel=_ref.geometryLabel,indexPatternId=_ref.indexPatternId,geoFieldName=_ref.geoFieldName,geoFieldType=_ref.geoFieldType,relation=_ref.relation;_this.setState({errorMsg:undefined});_context2.next=4;return regeneratorRuntime.awrap(_this._loadPreIndexedShape());case 4:preIndexedShape=_context2.sent;if(_this._isMounted){_context2.next=7;break}return _context2.abrupt("return");case 7:filter=(0,_elasticsearch_geo_utils.createSpatialFilterWithGeometry)({preIndexedShape:preIndexedShape,geometry:_this.props.geometry,geometryLabel:geometryLabel,indexPatternId:indexPatternId,geoFieldName:geoFieldName,geoFieldType:geoFieldType,relation:relation});if(!(window.location.href.length+_risonNode.default.encode(filter).length+META_OVERHEAD>urlOverflow.failLength())){_context2.next=11;break}_this.setState({errorMsg:_i18n.i18n.translate("xpack.maps.tooltip.geometryFilterForm.filterTooLargeMessage",{defaultMessage:"Cannot create filter. Filters are added to the URL, and this shape has too many vertices to fit in the URL."})});return _context2.abrupt("return");case 11:_this.props.addFilters([filter]);_this.props.onClose();case 13:case"end":return _context2.stop()}}}))}));return _this}_createClass(FeatureGeometryFilterForm,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"_renderHeader",value:function _renderHeader(){return _react.default.createElement("button",{className:"euiContextMenuPanelTitle mapFeatureTooltip_backButton",type:"button",onClick:this.props.showPropertiesView},_react.default.createElement("span",{className:"euiContextMenu__itemLayout"},_react.default.createElement(_eui.EuiIcon,{type:"arrowLeft",size:"m",className:"euiContextMenu__icon"}),_react.default.createElement("span",{className:"euiContextMenu__text"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.tooltip.showGeometryFilterViewLinkLabel",defaultMessage:"Filter by geometry"}))))}},{key:"_renderForm",value:function _renderForm(){return _react.default.createElement(_geometry_filter_form.GeometryFilterForm,{buttonLabel:_i18n.i18n.translate("xpack.maps.tooltip.geometryFilterForm.createFilterButtonLabel",{defaultMessage:"Create filter"}),geoFields:this.props.geoFields,intitialGeometryLabel:this.props.geometry.type.toLowerCase(),onSubmit:this._createFilter,isFilterGeometryClosed:this.props.geometry.type!==_constants.GEO_JSON_TYPE.LINE_STRING&&this.props.geometry.type!==_constants.GEO_JSON_TYPE.MULTI_LINE_STRING,isLoading:this.state.isLoading,errorMsg:this.state.errorMsg})}},{key:"render",value:function render(){return _react.default.createElement(_react.Fragment,null,this._renderHeader(),this._renderForm())}}]);return FeatureGeometryFilterForm}(_react.Component);exports.FeatureGeometryFilterForm=FeatureGeometryFilterForm},2063:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TooltipHeader=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ALL_LAYERS="_ALL_LAYERS_";var DEFAULT_PAGE_NUMBER=0;var TooltipHeader=function(_Component){_inherits(TooltipHeader,_Component);function TooltipHeader(){var _getPrototypeOf2;var _this;_classCallCheck(this,TooltipHeader);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(TooltipHeader)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{filteredFeatures:_this.props.features,pageNumber:DEFAULT_PAGE_NUMBER,selectedLayerId:ALL_LAYERS,layerOptions:[]});_defineProperty(_assertThisInitialized(_this),"_loadUniqueLayers",(function _callee(){var countByLayerId,i,count,layers,layerNamePromises,layerNames;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(_this._prevFeatures===_this.props.features)){_context.next=2;break}return _context.abrupt("return");case 2:_this._prevFeatures=_this.props.features;countByLayerId=new Map;for(i=0;i<_this.props.features.length;i++){count=countByLayerId.get(_this.props.features[i].layerId);if(!count){count=0}count++;countByLayerId.set(_this.props.features[i].layerId,count)}layers=[];countByLayerId.forEach((function(count,layerId){layers.push(_this.props.findLayerById(layerId))}));layerNamePromises=layers.map((function(layer){return layer.getDisplayName()}));_context.next=10;return regeneratorRuntime.awrap(Promise.all(layerNamePromises));case 10:layerNames=_context.sent;if(_this._isMounted){_this.setState({filteredFeatures:_this.props.features,selectedLayerId:ALL_LAYERS,layerOptions:layers.map((function(layer,index){var displayName=layerNames[index];var count=countByLayerId.get(layer.getId());return{value:layer.getId(),text:"(".concat(count,") ").concat(displayName)}}))},(function(){return _this._onPageChange(DEFAULT_PAGE_NUMBER)}))}case 12:case"end":return _context.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"_onPageChange",(function(pageNumber){_this.setState({pageNumber:pageNumber});_this.props.setCurrentFeature(_this.state.filteredFeatures[pageNumber])}));_defineProperty(_assertThisInitialized(_this),"_onLayerChange",(function(e){var newLayerId=e.target.value;if(_this.state.selectedLayerId===newLayerId){return}var filteredFeatures=newLayerId===ALL_LAYERS?_this.props.features:_this.props.features.filter((function(feature){return feature.layerId===newLayerId}));_this.setState({filteredFeatures:filteredFeatures,selectedLayerId:newLayerId},(function(){return _this._onPageChange(DEFAULT_PAGE_NUMBER)}))}));return _this}_createClass(TooltipHeader,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._prevFeatures=null;this._loadUniqueLayers()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._loadUniqueLayers()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"render",value:function render(){var isLocked=this.props.isLocked;var _this$state=this.state,filteredFeatures=_this$state.filteredFeatures,pageNumber=_this$state.pageNumber,selectedLayerId=_this$state.selectedLayerId,layerOptions=_this$state.layerOptions;var isLayerSelectVisible=isLocked&&layerOptions.length>1;var headerItems=[];if(isLocked&&filteredFeatures.length>1){headerItems.push(_react.default.createElement(_eui.EuiFlexItem,{grow:false,key:"pagination"},_react.default.createElement(_eui.EuiPagination,{pageCount:filteredFeatures.length,activePage:pageNumber,onPageClick:this._onPageChange,compressed:true})))}if(filteredFeatures.length>1){headerItems.push(_react.default.createElement(_eui.EuiFlexItem,{grow:!isLayerSelectVisible,key:"pageNumber"},_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.tooltip.pageNumerText",defaultMessage:"{pageNumber} of {total}",values:{pageNumber:pageNumber+1,total:filteredFeatures.length}}))))}if(isLayerSelectVisible){headerItems.push(_react.default.createElement(_eui.EuiFlexItem,{key:"layerSelect"},_react.default.createElement(_eui.EuiFormRow,{display:"rowCompressed"},_react.default.createElement(_eui.EuiSelect,{options:[{value:ALL_LAYERS,text:_i18n.i18n.translate("xpack.maps.tooltip.allLayersLabel",{defaultMessage:"All layers"})}].concat(_toConsumableArray(layerOptions)),onChange:this._onLayerChange,value:selectedLayerId,compressed:true,fullWidth:true,"aria-label":_i18n.i18n.translate("xpack.maps.tooltip.layerFilterLabel",{defaultMessage:"Filter results by layer"})}))))}if(isLocked){if(headerItems.length===0){headerItems.push(_react.default.createElement(_eui.EuiFlexItem,{key:"spacer"}))}headerItems.push(_react.default.createElement(_eui.EuiFlexItem,{grow:false,key:"closeButton"},_react.default.createElement(_eui.EuiButtonIcon,{onClick:this.props.onClose,iconType:"cross","aria-label":_i18n.i18n.translate("xpack.maps.tooltip.closeAriaLabel",{defaultMessage:"Close tooltip"}),"data-test-subj":"mapTooltipCloseButton"})))}if(headerItems.length===0){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},headerItems),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"xs"}))}}]);return TooltipHeader}(_react.Component);exports.TooltipHeader=TooltipHeader},2064:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WidgetOverlay=void 0;var _reactRedux=__webpack_require__(12);var _widget_overlay=__webpack_require__(2065);var _map_selectors=__webpack_require__(64);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{hideLayerControl:(0,_map_selectors.isLayerControlHidden)(state),hideViewControl:(0,_map_selectors.isViewControlHidden)(state)}}var connectedWidgetOverlay=(0,_reactRedux.connect)(mapStateToProps,null)(_widget_overlay.WidgetOverlay);exports.WidgetOverlay=connectedWidgetOverlay},2065:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WidgetOverlay=WidgetOverlay;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _layer_control=__webpack_require__(2066);var _view_control=__webpack_require__(2073);var _attribution_control=__webpack_require__(2075);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function WidgetOverlay(_ref){var hideLayerControl=_ref.hideLayerControl,hideViewControl=_ref.hideViewControl;return _react.default.createElement(_eui.EuiFlexGroup,{className:"mapWidgetOverlay",responsive:false,direction:"column",alignItems:"flexEnd",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{className:"mapWidgetOverlay__layerWrapper"},!hideLayerControl&&_react.default.createElement(_layer_control.LayerControl,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:false},!hideViewControl&&_react.default.createElement(_view_control.ViewControl,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_attribution_control.AttributionControl,null)))}},2066:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LayerControl=void 0;var _reactRedux=__webpack_require__(12);var _view=__webpack_require__(2067);var _ui=__webpack_require__(202);var _ui_actions=__webpack_require__(177);var _ui_selectors=__webpack_require__(203);var _map_selectors=__webpack_require__(64);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{isReadOnly:(0,_ui_selectors.getIsReadOnly)(state),isLayerTOCOpen:(0,_ui_selectors.getIsLayerTOCOpen)(state),layerList:(0,_map_selectors.getLayerList)(state)}}function mapDispatchToProps(dispatch){return{showAddLayerWizard:function showAddLayerWizard(){dispatch((0,_ui_actions.updateFlyout)(_ui.FLYOUT_STATE.ADD_LAYER_WIZARD))},closeLayerTOC:function closeLayerTOC(){dispatch((0,_ui_actions.setIsLayerTOCOpen)(false))},openLayerTOC:function openLayerTOC(){dispatch((0,_ui_actions.setIsLayerTOCOpen)(true))}}}var connectedLayerControl=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_view.LayerControl);exports.LayerControl=connectedLayerControl},2067:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LayerControl=LayerControl;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _layer_toc=__webpack_require__(2068);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function renderExpandButton(_ref){var hasErrors=_ref.hasErrors,isLoading=_ref.isLoading,onClick=_ref.onClick;var expandLabel=_i18n.i18n.translate("xpack.maps.layerControl.openLayerTOCButtonAriaLabel",{defaultMessage:"Expand layers panel"});if(isLoading){return _react.default.createElement("button",{className:"euiButtonIcon euiButtonIcon--text mapLayerControl__openLayerTOCButton",type:"button",onClick:onClick,"aria-label":expandLabel},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}))}return _react.default.createElement(_eui.EuiButtonIcon,{className:"mapLayerControl__openLayerTOCButton",color:"text",onClick:onClick,iconType:hasErrors?"alert":"menuLeft","aria-label":expandLabel})}function LayerControl(_ref2){var isReadOnly=_ref2.isReadOnly,isLayerTOCOpen=_ref2.isLayerTOCOpen,showAddLayerWizard=_ref2.showAddLayerWizard,closeLayerTOC=_ref2.closeLayerTOC,openLayerTOC=_ref2.openLayerTOC,layerList=_ref2.layerList;if(!isLayerTOCOpen){var hasErrors=layerList.some((function(layer){return layer.hasErrors()}));var isLoading=layerList.some((function(layer){return layer.isLayerLoading()}));return _react.default.createElement(_eui.EuiToolTip,{delay:"long",content:_i18n.i18n.translate("xpack.maps.layerControl.openLayerTOCButtonAriaLabel",{defaultMessage:"Expand layers panel"}),position:"left"},renderExpandButton({hasErrors:hasErrors,isLoading:isLoading,onClick:openLayerTOC}))}var addLayer;if(!isReadOnly){addLayer=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiButton,{className:"mapLayerControl__addLayerButton",fill:true,fullWidth:true,onClick:showAddLayerWizard,"data-test-subj":"addLayerButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerControl.addLayerButtonLabel",defaultMessage:"Add layer"})))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiPanel,{className:"mapWidgetControl mapWidgetControl-hasShadow",paddingSize:"none",grow:false},_react.default.createElement(_eui.EuiFlexItem,{className:"mapWidgetControl__headerFlexItem",grow:false},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center",responsive:false,gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"xxxs",className:"mapWidgetControl__header"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerControl.layersTitle",defaultMessage:"Layers"})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{delay:"long",content:_i18n.i18n.translate("xpack.maps.layerControl.closeLayerTOCButtonAriaLabel",{defaultMessage:"Collapse layers panel"})},_react.default.createElement(_eui.EuiButtonIcon,{className:"mapLayerControl__closeLayerTOCButton",onClick:closeLayerTOC,iconType:"menuRight",color:"text","aria-label":_i18n.i18n.translate("xpack.maps.layerControl.closeLayerTOCButtonAriaLabel",{defaultMessage:"Collapse layers panel"}),"data-test-subj":"mapToggleLegendButton"}))))),_react.default.createElement(_eui.EuiFlexItem,{className:"mapLayerControl"},_react.default.createElement(_layer_toc.LayerTOC,null))),addLayer)}},2068:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LayerTOC=void 0;var _reactRedux=__webpack_require__(12);var _view=__webpack_require__(2069);var _map_actions=__webpack_require__(92);var _map_selectors=__webpack_require__(64);var _ui_selectors=__webpack_require__(203);var mapDispatchToProps={updateLayerOrder:function updateLayerOrder(newOrder){return(0,_map_actions.updateLayerOrder)(newOrder)}};function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{isReadOnly:(0,_ui_selectors.getIsReadOnly)(state),layerList:(0,_map_selectors.getLayerList)(state)}}var connectedLayerTOC=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps,null,{withRef:true})(_view.LayerTOC);exports.LayerTOC=connectedLayerTOC},2069:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LayerTOC=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _toc_entry=__webpack_require__(2070);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var LayerTOC=function(_React$Component){_inherits(LayerTOC,_React$Component);function LayerTOC(){var _getPrototypeOf2;var _this;_classCallCheck(this,LayerTOC);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(LayerTOC)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"_updateDebounced",_lodash.default.debounce(_this.forceUpdate,100));_defineProperty(_assertThisInitialized(_this),"_onDragEnd",(function(_ref){var source=_ref.source,destination=_ref.destination;if(!destination){return}var reverseIndex=function reverseIndex(index){return _this.props.layerList.length-index-1};var prevIndex=reverseIndex(source.index);var newIndex=reverseIndex(destination.index);var newOrder=[];for(var i=0;i<_this.props.layerList.length;i++){newOrder.push(i)}newOrder.splice(prevIndex,1);newOrder.splice(newIndex,0,prevIndex);_this.props.updateLayerOrder(newOrder)}));return _this}_createClass(LayerTOC,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._updateDebounced.cancel()}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(){this._updateDebounced();return false}},{key:"_renderLayers",value:function _renderLayers(){var reverseLayerList=_toConsumableArray(this.props.layerList).reverse();if(this.props.isReadOnly){return reverseLayerList.map((function(layer){return _react.default.createElement(_toc_entry.TOCEntry,{key:layer.getId(),layer:layer})}))}return _react.default.createElement(_eui.EuiDragDropContext,{onDragEnd:this._onDragEnd},_react.default.createElement(_eui.EuiDroppable,{droppableId:"mapLayerTOC",spacing:"none"},(function(provided,snapshot){return reverseLayerList.map((function(layer,idx){return _react.default.createElement(_eui.EuiDraggable,{spacing:"none",key:layer.getId(),index:idx,draggableId:layer.getId(),customDragHandle:true,disableInteractiveElementBlocking:true},(function(provided,state){return _react.default.createElement(_toc_entry.TOCEntry,{layer:layer,dragHandleProps:provided.dragHandleProps,isDragging:state.isDragging,isDraggingOver:snapshot.isDraggingOver})}))}))})))}},{key:"render",value:function render(){return _react.default.createElement("div",{"data-test-subj":"mapLayerTOC"},this._renderLayers())}}]);return LayerTOC}(_react.default.Component);exports.LayerTOC=LayerTOC},2070:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TOCEntry=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _reactRedux=__webpack_require__(12);var _view=__webpack_require__(2071);var _ui=__webpack_require__(202);var _ui_actions=__webpack_require__(177);var _ui_selectors=__webpack_require__(203);var _map_actions=__webpack_require__(92);var _map_selectors=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var ownProps=arguments.length>1?arguments[1]:undefined;return{isReadOnly:(0,_ui_selectors.getIsReadOnly)(state),zoom:_lodash.default.get(state,"map.mapState.zoom",0),selectedLayer:(0,_map_selectors.getSelectedLayer)(state),hasDirtyStateSelector:(0,_map_selectors.hasDirtyState)(state),isLegendDetailsOpen:(0,_ui_selectors.getOpenTOCDetails)(state).includes(ownProps.layer.getId()),isUsingSearch:(0,_map_selectors.isUsingSearch)(state)}}function mapDispatchToProps(dispatch){return{openLayerPanel:function openLayerPanel(layerId){return regeneratorRuntime.async((function openLayerPanel$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(dispatch((0,_map_actions.removeTransientLayer)()));case 2:_context.next=4;return regeneratorRuntime.awrap(dispatch((0,_map_actions.setSelectedLayer)(layerId)));case 4:dispatch((0,_ui_actions.updateFlyout)(_ui.FLYOUT_STATE.LAYER_PANEL));case 5:case"end":return _context.stop()}}}))},toggleVisible:function toggleVisible(layerId){dispatch((0,_map_actions.toggleLayerVisible)(layerId))},fitToBounds:function fitToBounds(layerId){dispatch((0,_map_actions.fitToLayerExtent)(layerId))},cloneLayer:function cloneLayer(layerId){dispatch((0,_map_actions.cloneLayer)(layerId))},removeLayer:function removeLayer(layerId){dispatch((0,_map_actions.removeLayer)(layerId))},hideTOCDetails:function hideTOCDetails(layerId){dispatch((0,_ui_actions.hideTOCDetails)(layerId))},showTOCDetails:function showTOCDetails(layerId){dispatch((0,_ui_actions.showTOCDetails)(layerId))}}}var connectedTOCEntry=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_view.TOCEntry);exports.TOCEntry=connectedTOCEntry},2071:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TOCEntry=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _classnames=_interopRequireDefault(__webpack_require__(63));var _eui=__webpack_require__(1);var _layer_toc_actions=__webpack_require__(2072);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function escapeLayerName(name){return name?name.split(" ").join("_"):""}var TOCEntry=function(_React$Component){_inherits(TOCEntry,_React$Component);function TOCEntry(){var _getPrototypeOf2;var _this;_classCallCheck(this,TOCEntry);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(TOCEntry)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{displayName:null,hasLegendDetails:false,shouldShowModal:false});_defineProperty(_assertThisInitialized(_this),"_toggleLayerDetailsVisibility",(function(){if(_this.props.isLegendDetailsOpen){_this.props.hideTOCDetails(_this.props.layer.getId())}else{_this.props.showTOCDetails(_this.props.layer.getId())}}));_defineProperty(_assertThisInitialized(_this),"_openLayerPanelWithCheck",(function(){var _this$props=_this.props,selectedLayer=_this$props.selectedLayer,hasDirtyStateSelector=_this$props.hasDirtyStateSelector;if(selectedLayer&&selectedLayer.getId()===_this.props.layer.getId()){return}if(hasDirtyStateSelector){_this.setState({shouldShowModal:true});return}_this.props.openLayerPanel(_this.props.layer.getId())}));_defineProperty(_assertThisInitialized(_this),"_renderLegendDetails",(function(){if(!_this.props.isLegendDetailsOpen||!_this.state.hasLegendDetails){return null}var tocDetails=_this.props.layer.renderLegendDetails();if(!tocDetails){return null}return _react.default.createElement("div",{className:"mapTocEntry__layerDetails","data-test-subj":"mapLayerTOCDetails".concat(escapeLayerName(_this.state.displayName))},tocDetails)}));return _this}_createClass(TOCEntry,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._updateDisplayName();this._loadHasLegendDetails()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._updateDisplayName();this._loadHasLegendDetails()}},{key:"_loadHasLegendDetails",value:function _loadHasLegendDetails(){var hasLegendDetails;return regeneratorRuntime.async((function _loadHasLegendDetails$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(this.props.layer.hasLegendDetails());case 2:_context.t1=_context.sent;if(!_context.t1){_context.next=5;break}_context.t1=this.props.layer.isVisible();case 5:_context.t0=_context.t1;if(!_context.t0){_context.next=8;break}_context.t0=this.props.layer.showAtZoomLevel(this.props.zoom);case 8:hasLegendDetails=_context.t0;if(this._isMounted&&hasLegendDetails!==this.state.hasLegendDetails){this.setState({hasLegendDetails:hasLegendDetails})}case 10:case"end":return _context.stop()}}}),null,this)}},{key:"_updateDisplayName",value:function _updateDisplayName(){var label;return regeneratorRuntime.async((function _updateDisplayName$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return regeneratorRuntime.awrap(this.props.layer.getDisplayName());case 2:label=_context2.sent;if(this._isMounted){if(label!==this.state.displayName){this.setState({displayName:label})}}case 4:case"end":return _context2.stop()}}}),null,this)}},{key:"_renderCancelModal",value:function _renderCancelModal(){var _this2=this;if(!this.state.shouldShowModal){return null}var closeModal=function closeModal(){_this2.setState({shouldShowModal:false})};var openPanel=function openPanel(){closeModal();_this2.props.openLayerPanel(_this2.props.layer.getId())};return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:"Discard changes",onCancel:closeModal,onConfirm:openPanel,cancelButtonText:"Do not proceed",confirmButtonText:"Proceed and discard changes",buttonColor:"danger",defaultFocusedButton:"cancel"},_react.default.createElement("p",null,"There are unsaved changes to your layer."),_react.default.createElement("p",null,"Are you sure you want to proceed?")))}},{key:"_renderLayerIcons",value:function _renderLayerIcons(){if(this.props.isReadOnly){return null}return _react.default.createElement("div",{className:"mapTocEntry__layerIcons"},_react.default.createElement(_eui.EuiButtonIcon,{iconType:"pencil","aria-label":_i18n.i18n.translate("xpack.maps.layerControl.tocEntry.editButtonAriaLabel",{defaultMessage:"Edit layer"}),title:_i18n.i18n.translate("xpack.maps.layerControl.tocEntry.editButtonTitle",{defaultMessage:"Edit layer"}),onClick:this._openLayerPanelWithCheck}),_react.default.createElement(_eui.EuiButtonIcon,_extends({iconType:"grab",color:"subdued",title:_i18n.i18n.translate("xpack.maps.layerControl.tocEntry.grabButtonTitle",{defaultMessage:"Reorder layer"}),"aria-label":_i18n.i18n.translate("xpack.maps.layerControl.tocEntry.grabButtonAriaLabel",{defaultMessage:"Reorder layer"}),className:"mapTocEntry__grab"},this.props.dragHandleProps)))}},{key:"_renderDetailsToggle",value:function _renderDetailsToggle(){if(!this.state.hasLegendDetails){return null}var isLegendDetailsOpen=this.props.isLegendDetailsOpen;return _react.default.createElement("span",{className:"mapTocEntry__detailsToggle"},_react.default.createElement("button",{className:"mapTocEntry__detailsToggleButton","aria-label":isLegendDetailsOpen?_i18n.i18n.translate("xpack.maps.layerControl.tocEntry.hideDetailsButtonAriaLabel",{defaultMessage:"Hide layer details"}):_i18n.i18n.translate("xpack.maps.layerControl.tocEntry.showDetailsButtonAriaLabel",{defaultMessage:"Show layer details"}),title:isLegendDetailsOpen?_i18n.i18n.translate("xpack.maps.layerControl.tocEntry.hideDetailsButtonTitle",{defaultMessage:"Hide layer details"}):_i18n.i18n.translate("xpack.maps.layerControl.tocEntry.showDetailsButtonTitle",{defaultMessage:"Show layer details"}),onClick:this._toggleLayerDetailsVisibility},_react.default.createElement(_eui.EuiIcon,{className:"eui-alignBaseline",type:isLegendDetailsOpen?"arrowUp":"arrowDown",size:"s"})))}},{key:"_renderLayerHeader",value:function _renderLayerHeader(){var _this$props2=this.props,_removeLayer=_this$props2.removeLayer,_cloneLayer=_this$props2.cloneLayer,isReadOnly=_this$props2.isReadOnly,layer=_this$props2.layer,zoom=_this$props2.zoom,_toggleVisible=_this$props2.toggleVisible,_fitToBounds=_this$props2.fitToBounds,isUsingSearch=_this$props2.isUsingSearch;return _react.default.createElement("div",{className:layer.isVisible()&&layer.showAtZoomLevel(zoom)&&!layer.hasErrors()?"mapTocEntry-visible":"mapTocEntry-notVisible"},_react.default.createElement(_layer_toc_actions.LayerTocActions,{layer:layer,isUsingSearch:isUsingSearch,fitToBounds:function fitToBounds(){_fitToBounds(layer.getId())},zoom:zoom,toggleVisible:function toggleVisible(){_toggleVisible(layer.getId())},displayName:this.state.displayName,escapedDisplayName:escapeLayerName(this.state.displayName),cloneLayer:function cloneLayer(){_cloneLayer(layer.getId())},editLayer:this._openLayerPanelWithCheck,isReadOnly:isReadOnly,removeLayer:function removeLayer(){_removeLayer(layer.getId())}}),this._renderLayerIcons())}},{key:"render",value:function render(){var classes=(0,_classnames.default)("mapTocEntry",{"mapTocEntry-isDragging":this.props.isDragging,"mapTocEntry-isDraggingOver":this.props.isDraggingOver});return _react.default.createElement("div",{className:classes,id:this.props.layer.getId(),"data-layerid":this.props.layer.getId()},this._renderLayerHeader(),this._renderLegendDetails(),this._renderDetailsToggle(),this._renderCancelModal())}}]);return TOCEntry}(_react.default.Component);exports.TOCEntry=TOCEntry},2072:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LayerTocActions=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var LayerTocActions=function(_Component){_inherits(LayerTocActions,_Component);function LayerTocActions(){var _getPrototypeOf2;var _this;_classCallCheck(this,LayerTocActions);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(LayerTocActions)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isPopoverOpen:false,supportsFitToBounds:false});_defineProperty(_assertThisInitialized(_this),"_togglePopover",(function(){_this.setState((function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}}))}));_defineProperty(_assertThisInitialized(_this),"_closePopover",(function(){_this.setState((function(){return{isPopoverOpen:false}}))}));return _this}_createClass(LayerTocActions,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadSupportsFitToBounds()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"_loadSupportsFitToBounds",value:function _loadSupportsFitToBounds(){var supportsFitToBounds;return regeneratorRuntime.async((function _loadSupportsFitToBounds$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(this.props.layer.supportsFitToBounds());case 2:supportsFitToBounds=_context.sent;if(this._isMounted){this.setState({supportsFitToBounds:supportsFitToBounds})}case 4:case"end":return _context.stop()}}}),null,this)}},{key:"_renderPopoverToggleButton",value:function _renderPopoverToggleButton(){var _this$props$layer$get=this.props.layer.getIconAndTooltipContent(this.props.zoom,this.props.isUsingSearch),icon=_this$props$layer$get.icon,tooltipContent=_this$props$layer$get.tooltipContent,footnotes=_this$props$layer$get.footnotes;var footnoteIcons=footnotes.map((function(footnote,index){return _react.default.createElement(_react.Fragment,{key:index},"",footnote.icon)}));var footnoteTooltipContent=footnotes.map((function(footnote,index){return _react.default.createElement("div",{key:index},footnote.icon," ",footnote.message)}));return _react.default.createElement(_eui.EuiToolTip,{anchorClassName:"mapLayTocActions__tooltipAnchor",position:"top",title:this.props.displayName,content:_react.default.createElement(_react.Fragment,null,tooltipContent,footnoteTooltipContent)},_react.default.createElement(_eui.EuiButtonEmpty,{className:"mapTocEntry__layerName eui-textLeft",size:"xs",flush:"left",color:"text",onClick:this._togglePopover,"data-test-subj":"layerTocActionsPanelToggleButton".concat(this.props.escapedDisplayName)},_react.default.createElement("span",{className:"mapTocEntry__layerNameIcon"},icon),this.props.displayName," ",footnoteIcons))}},{key:"_getActionsPanel",value:function _getActionsPanel(){var _this2=this;var actionItems=[{name:_i18n.i18n.translate("xpack.maps.layerTocActions.fitToDataTitle",{defaultMessage:"Fit to data"}),icon:_react.default.createElement(_eui.EuiIcon,{type:"search",size:"m"}),"data-test-subj":"fitToBoundsButton",toolTipContent:this.state.supportsFitToBounds?null:_i18n.i18n.translate("xpack.maps.layerTocActions.noFitSupportTooltip",{defaultMessage:"Layer does not support fit to data"}),disabled:!this.state.supportsFitToBounds,onClick:function onClick(){_this2._closePopover();_this2.props.fitToBounds()}},{name:this.props.layer.isVisible()?_i18n.i18n.translate("xpack.maps.layerTocActions.hideLayerTitle",{defaultMessage:"Hide layer"}):_i18n.i18n.translate("xpack.maps.layerTocActions.showLayerTitle",{defaultMessage:"Show layer"}),icon:_react.default.createElement(_eui.EuiIcon,{type:this.props.layer.isVisible()?"eye":"eyeClosed",size:"m"}),"data-test-subj":"layerVisibilityToggleButton",onClick:function onClick(){_this2._closePopover();_this2.props.toggleVisible()}}];if(!this.props.isReadOnly){actionItems.push({name:_i18n.i18n.translate("xpack.maps.layerTocActions.editLayerTitle",{defaultMessage:"Edit layer"}),icon:_react.default.createElement(_eui.EuiIcon,{type:"pencil",size:"m"}),"data-test-subj":"editLayerButton",onClick:function onClick(){_this2._closePopover();_this2.props.editLayer()}});actionItems.push({name:_i18n.i18n.translate("xpack.maps.layerTocActions.cloneLayerTitle",{defaultMessage:"Clone layer"}),icon:_react.default.createElement(_eui.EuiIcon,{type:"copy",size:"m"}),"data-test-subj":"cloneLayerButton",onClick:function onClick(){_this2._closePopover();_this2.props.cloneLayer()}});actionItems.push({name:_i18n.i18n.translate("xpack.maps.layerTocActions.removeLayerTitle",{defaultMessage:"Remove layer"}),icon:_react.default.createElement(_eui.EuiIcon,{type:"trash",size:"m"}),"data-test-subj":"removeLayerButton",onClick:function onClick(){_this2._closePopover();_this2.props.removeLayer()}})}return{id:0,title:_i18n.i18n.translate("xpack.maps.layerTocActions.layerActionsTitle",{defaultMessage:"Layer actions"}),items:actionItems}}},{key:"render",value:function render(){return _react.default.createElement(_eui.EuiPopover,{id:"contextMenu",className:"mapLayTocActions",button:this._renderPopoverToggleButton(),isOpen:this.state.isPopoverOpen,closePopover:this._closePopover,panelPaddingSize:"none",withTitle:true,anchorPosition:"leftUp",anchorClassName:"mapLayTocActions__popoverAnchor"},_react.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:[this._getActionsPanel()],"data-test-subj":"layerTocActionsPanel".concat(this.props.escapedDisplayName)}))}}]);return LayerTocActions}(_react.Component);exports.LayerTocActions=LayerTocActions},2073:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ViewControl=void 0;var _reactRedux=__webpack_require__(12);var _view_control=__webpack_require__(2074);var _map_selectors=__webpack_require__(64);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{mouseCoordinates:(0,_map_selectors.getMouseCoordinates)(state),zoom:(0,_map_selectors.getMapZoom)(state)}}var connectedViewControl=(0,_reactRedux.connect)(mapStateToProps,null)(_view_control.ViewControl);exports.ViewControl=connectedViewControl},2074:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ViewControl=ViewControl;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _constants=__webpack_require__(25);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ViewControl(_ref){var mouseCoordinates=_ref.mouseCoordinates,zoom=_ref.zoom;if(!mouseCoordinates){return null}return _react.default.createElement("div",{className:"mapViewControl__coordinates"},_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement("small",null,_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.viewControl.latLabel",defaultMessage:"lat:"}))," ",_lodash.default.round(mouseCoordinates.lat,_constants.DECIMAL_DEGREES_PRECISION),","," ",_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.viewControl.lonLabel",defaultMessage:"lon:"}))," ",_lodash.default.round(mouseCoordinates.lon,_constants.DECIMAL_DEGREES_PRECISION),","," ",_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.viewControl.zoomLabel",defaultMessage:"zoom:"}))," ",zoom)))}},2075:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AttributionControl=void 0;var _reactRedux=__webpack_require__(12);var _view=__webpack_require__(2076);var _map_selectors=__webpack_require__(64);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{layerList:(0,_map_selectors.getLayerList)(state)}}function mapDispatchToProps(){return{}}var connectedViewControl=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_view.AttributionControl);exports.AttributionControl=connectedViewControl},2076:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AttributionControl=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AttributionControl=function(_React$Component){_inherits(AttributionControl,_React$Component);function AttributionControl(){var _getPrototypeOf2;var _this;_classCallCheck(this,AttributionControl);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AttributionControl)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{uniqueAttributions:[]});_defineProperty(_assertThisInitialized(_this),"_loadAttributions",(function _callee2(){var attributionPromises,attributions,uniqueAttributions,i,_loop,j;return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:attributionPromises=_this.props.layerList.map((function _callee(layer){return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return regeneratorRuntime.awrap(layer.getAttributions());case 3:return _context.abrupt("return",_context.sent);case 6:_context.prev=6;_context.t0=_context["catch"](0);return _context.abrupt("return",[]);case 9:case"end":return _context.stop()}}}),null,null,[[0,6]])}));_context2.next=3;return regeneratorRuntime.awrap(Promise.all(attributionPromises));case 3:attributions=_context2.sent;if(_this._isMounted){_context2.next=6;break}return _context2.abrupt("return");case 6:uniqueAttributions=[];for(i=0;i<attributions.length;i++){_loop=function _loop(j){var testAttr=attributions[i][j];var attr=uniqueAttributions.find((function(added){return added.url===testAttr.url&&added.label===testAttr.label}));if(!attr){uniqueAttributions.push(testAttr)}};for(j=0;j<attributions[i].length;j++){_loop(j)}}uniqueAttributions.reverse();if(!_lodash.default.isEqual(_this.state.uniqueAttributions,uniqueAttributions)){_this.setState({uniqueAttributions:uniqueAttributions})}case 10:case"end":return _context2.stop()}}}))}));return _this}_createClass(AttributionControl,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadAttributions()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._loadAttributions()}},{key:"_renderAttribution",value:function _renderAttribution(_ref){var url=_ref.url,label=_ref.label;if(!url){return label}return _react.default.createElement(_eui.EuiLink,{color:"text",href:url,target:"_blank"},label)}},{key:"_renderAttributions",value:function _renderAttributions(){var _this2=this;return this.state.uniqueAttributions.map((function(attribution,index){return _react.default.createElement(_react.Fragment,{key:index},_this2._renderAttribution(attribution),index<_this2.state.uniqueAttributions.length-1&&", ")}))}},{key:"render",value:function render(){if(this.state.uniqueAttributions.length===0){return null}return _react.default.createElement("div",{className:"mapAttributionControl"},_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement("small",null,_react.default.createElement("strong",null,this._renderAttributions()))))}}]);return AttributionControl}(_react.default.Component);exports.AttributionControl=AttributionControl},2077:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ToolbarOverlay=void 0;var _reactRedux=__webpack_require__(12);var _toolbar_overlay=__webpack_require__(2078);function mapStateToProps(){return{}}var connectedToolbarOverlay=(0,_reactRedux.connect)(mapStateToProps,null)(_toolbar_overlay.ToolbarOverlay);exports.ToolbarOverlay=connectedToolbarOverlay},2078:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ToolbarOverlay=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _set_view_control=__webpack_require__(2079);var _tools_control=__webpack_require__(2081);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ToolbarOverlay=function(_React$Component){_inherits(ToolbarOverlay,_React$Component);function ToolbarOverlay(){_classCallCheck(this,ToolbarOverlay);return _possibleConstructorReturn(this,_getPrototypeOf(ToolbarOverlay).apply(this,arguments))}_createClass(ToolbarOverlay,[{key:"_renderToolsControl",value:function _renderToolsControl(){var _this$props=this.props,addFilters=_this$props.addFilters,geoFields=_this$props.geoFields;if(!addFilters||!geoFields.length){return null}return _react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_tools_control.ToolsControl,{geoFields:geoFields}))}},{key:"render",value:function render(){return _react.default.createElement(_eui.EuiFlexGroup,{className:"mapToolbarOverlay",responsive:false,direction:"column",alignItems:"flexStart",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_set_view_control.SetViewControl,null)),this._renderToolsControl())}}]);return ToolbarOverlay}(_react.default.Component);exports.ToolbarOverlay=ToolbarOverlay},2079:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SetViewControl=void 0;var _reactRedux=__webpack_require__(12);var _set_view_control=__webpack_require__(2080);var _map_actions=__webpack_require__(92);var _map_selectors=__webpack_require__(64);var _ui_actions=__webpack_require__(177);var _ui_selectors=__webpack_require__(203);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{isSetViewOpen:(0,_ui_selectors.getIsSetViewOpen)(state),zoom:(0,_map_selectors.getMapZoom)(state),center:(0,_map_selectors.getMapCenter)(state)}}function mapDispatchToProps(dispatch){return{onSubmit:function onSubmit(_ref){var lat=_ref.lat,lon=_ref.lon,zoom=_ref.zoom;dispatch((0,_ui_actions.closeSetView)());dispatch((0,_map_actions.setGotoWithCenter)({lat:lat,lon:lon,zoom:zoom}))},closeSetView:function closeSetView(){dispatch((0,_ui_actions.closeSetView)())},openSetView:function openSetView(){dispatch((0,_ui_actions.openSetView)())}}}var connectedSetViewControl=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_set_view_control.SetViewControl);exports.SetViewControl=connectedSetViewControl},208:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(1861)},2080:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SetViewControl=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(4);var _constants=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getViewString(lat,lon,zoom){return"".concat(lat,",").concat(lon,",").concat(zoom)}var SetViewControl=function(_Component){_inherits(SetViewControl,_Component);function SetViewControl(){var _getPrototypeOf2;var _this;_classCallCheck(this,SetViewControl);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SetViewControl)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{});_defineProperty(_assertThisInitialized(_this),"_togglePopover",(function(){if(_this.props.isSetViewOpen){_this.props.closeSetView();return}_this.props.openSetView()}));_defineProperty(_assertThisInitialized(_this),"_onLatChange",(function(evt){_this._onChange("lat",evt)}));_defineProperty(_assertThisInitialized(_this),"_onLonChange",(function(evt){_this._onChange("lon",evt)}));_defineProperty(_assertThisInitialized(_this),"_onZoomChange",(function(evt){_this._onChange("zoom",evt)}));_defineProperty(_assertThisInitialized(_this),"_onChange",(function(name,evt){var sanitizedValue=parseFloat(evt.target.value);_this.setState(_defineProperty({},name,isNaN(sanitizedValue)?"":sanitizedValue))}));_defineProperty(_assertThisInitialized(_this),"_renderNumberFormRow",(function(_ref){var value=_ref.value,min=_ref.min,max=_ref.max,onChange=_ref.onChange,label=_ref.label,dataTestSubj=_ref.dataTestSubj;var isInvalid=value===""||value>max||value<min;var error=isInvalid?"Must be between ".concat(min," and ").concat(max):null;return{isInvalid:isInvalid,component:_react.default.createElement(_eui.EuiFormRow,{label:label,isInvalid:isInvalid,error:error,display:"columnCompressed"},_react.default.createElement(_eui.EuiFieldNumber,{compressed:true,value:value,onChange:onChange,isInvalid:isInvalid,"data-test-subj":dataTestSubj}))}}));_defineProperty(_assertThisInitialized(_this),"_onSubmit",(function(){var _this$state=_this.state,lat=_this$state.lat,lon=_this$state.lon,zoom=_this$state.zoom;_this.props.onSubmit({lat:lat,lon:lon,zoom:zoom})}));return _this}_createClass(SetViewControl,[{key:"_renderSetViewForm",value:function _renderSetViewForm(){var _this$_renderNumberFo=this._renderNumberFormRow({value:this.state.lat,min:-90,max:90,onChange:this._onLatChange,label:_i18n.i18n.translate("xpack.maps.setViewControl.latitudeLabel",{defaultMessage:"Latitude"}),dataTestSubj:"latitudeInput"}),isLatInvalid=_this$_renderNumberFo.isInvalid,latFormRow=_this$_renderNumberFo.component;var _this$_renderNumberFo2=this._renderNumberFormRow({value:this.state.lon,min:-180,max:180,onChange:this._onLonChange,label:_i18n.i18n.translate("xpack.maps.setViewControl.longitudeLabel",{defaultMessage:"Longitude"}),dataTestSubj:"longitudeInput"}),isLonInvalid=_this$_renderNumberFo2.isInvalid,lonFormRow=_this$_renderNumberFo2.component;var _this$_renderNumberFo3=this._renderNumberFormRow({value:this.state.zoom,min:_constants.MIN_ZOOM,max:_constants.MAX_ZOOM,onChange:this._onZoomChange,label:_i18n.i18n.translate("xpack.maps.setViewControl.zoomLabel",{defaultMessage:"Zoom"}),dataTestSubj:"zoomInput"}),isZoomInvalid=_this$_renderNumberFo3.isInvalid,zoomFormRow=_this$_renderNumberFo3.component;return _react.default.createElement(_eui.EuiForm,{"data-test-subj":"mapSetViewForm",style:{width:240}},latFormRow,lonFormRow,zoomFormRow,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiTextAlign,{textAlign:"right"},_react.default.createElement(_eui.EuiButton,{size:"s",fill:true,disabled:isLatInvalid||isLonInvalid||isZoomInvalid,onClick:this._onSubmit,"data-test-subj":"submitViewButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.setViewControl.submitButtonLabel",defaultMessage:"Go"}))))}},{key:"render",value:function render(){return _react.default.createElement(_eui.EuiPopover,{anchorPosition:"leftUp",panelPaddingSize:"s",button:_react.default.createElement(_eui.EuiButtonIcon,{className:"mapToolbarOverlay__button",onClick:this._togglePopover,"data-test-subj":"toggleSetViewVisibilityButton",iconType:"crosshairs",color:"text","aria-label":_i18n.i18n.translate("xpack.maps.setViewControl.goToButtonLabel",{defaultMessage:"Go to"}),title:_i18n.i18n.translate("xpack.maps.setViewControl.goToButtonLabel",{defaultMessage:"Go to"})}),isOpen:this.props.isSetViewOpen,closePopover:this.props.closeSetView},this._renderSetViewForm())}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){var nextView=getViewString(nextProps.center.lat,nextProps.center.lon,nextProps.zoom);if(nextView!==prevState.prevView){return{lat:nextProps.center.lat,lon:nextProps.center.lon,zoom:nextProps.zoom,prevView:nextView}}return null}}]);return SetViewControl}(_react.Component);exports.SetViewControl=SetViewControl;SetViewControl.propTypes={isSetViewOpen:_propTypes.default.bool.isRequired,zoom:_propTypes.default.number.isRequired,center:_propTypes.default.shape({lat:_propTypes.default.number.isRequired,lon:_propTypes.default.number.isRequired}),onSubmit:_propTypes.default.func.isRequired,closeSetView:_propTypes.default.func.isRequired,openSetView:_propTypes.default.func.isRequired}},2081:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ToolsControl=void 0;var _reactRedux=__webpack_require__(12);var _tools_control=__webpack_require__(2082);var _map_selectors=__webpack_require__(64);var _map_actions=__webpack_require__(92);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{isDrawingFilter:(0,_map_selectors.isDrawingFilter)(state)}}function mapDispatchToProps(dispatch){return{initiateDraw:function initiateDraw(options){dispatch((0,_map_actions.updateDrawState)(options))},cancelDraw:function cancelDraw(){dispatch((0,_map_actions.updateDrawState)(null))}}}var connectedToolsControl=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_tools_control.ToolsControl);exports.ToolsControl=connectedToolsControl},2082:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ToolsControl=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);var _constants=__webpack_require__(25);var _react2=__webpack_require__(4);var _geometry_filter_form=__webpack_require__(1030);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DRAW_SHAPE_LABEL=_i18n.i18n.translate("xpack.maps.toolbarOverlay.drawShapeLabel",{defaultMessage:"Draw shape to filter data"});var DRAW_BOUNDS_LABEL=_i18n.i18n.translate("xpack.maps.toolbarOverlay.drawBoundsLabel",{defaultMessage:"Draw bounds to filter data"});var DRAW_SHAPE_LABEL_SHORT=_i18n.i18n.translate("xpack.maps.toolbarOverlay.drawShapeLabelShort",{defaultMessage:"Draw shape"});var DRAW_BOUNDS_LABEL_SHORT=_i18n.i18n.translate("xpack.maps.toolbarOverlay.drawBoundsLabelShort",{defaultMessage:"Draw bounds"});var ToolsControl=function(_Component){_inherits(ToolsControl,_Component);function ToolsControl(){var _getPrototypeOf2;var _this;_classCallCheck(this,ToolsControl);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ToolsControl)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isPopoverOpen:false});_defineProperty(_assertThisInitialized(_this),"_togglePopover",(function(){_this.setState((function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}}))}));_defineProperty(_assertThisInitialized(_this),"_closePopover",(function(){_this.setState({isPopoverOpen:false})}));_defineProperty(_assertThisInitialized(_this),"_initiateShapeDraw",(function(options){_this.props.initiateDraw(_objectSpread({drawType:_constants.DRAW_TYPE.POLYGON},options));_this._closePopover()}));_defineProperty(_assertThisInitialized(_this),"_initiateBoundsDraw",(function(options){_this.props.initiateDraw(_objectSpread({drawType:_constants.DRAW_TYPE.BOUNDS},options));_this._closePopover()}));return _this}_createClass(ToolsControl,[{key:"_getDrawPanels",value:function _getDrawPanels(){return[{id:0,title:_i18n.i18n.translate("xpack.maps.toolbarOverlay.tools.toolbarTitle",{defaultMessage:"Tools"}),items:[{name:DRAW_SHAPE_LABEL,panel:1},{name:DRAW_BOUNDS_LABEL,panel:2}]},{id:1,title:DRAW_SHAPE_LABEL_SHORT,content:_react.default.createElement(_geometry_filter_form.GeometryFilterForm,{className:"mapDrawControl__geometryFilterForm",buttonLabel:DRAW_SHAPE_LABEL_SHORT,geoFields:this.props.geoFields,intitialGeometryLabel:_i18n.i18n.translate("xpack.maps.toolbarOverlay.drawShape.initialGeometryLabel",{defaultMessage:"shape"}),onSubmit:this._initiateShapeDraw})},{id:2,title:DRAW_BOUNDS_LABEL_SHORT,content:_react.default.createElement(_geometry_filter_form.GeometryFilterForm,{className:"mapDrawControl__geometryFilterForm",buttonLabel:DRAW_BOUNDS_LABEL_SHORT,geoFields:this.props.geoFields,intitialGeometryLabel:_i18n.i18n.translate("xpack.maps.toolbarOverlay.drawBounds.initialGeometryLabel",{defaultMessage:"bounds"}),onSubmit:this._initiateBoundsDraw})}]}},{key:"_renderToolsButton",value:function _renderToolsButton(){return _react.default.createElement(_eui.EuiButtonIcon,{className:"mapToolbarOverlay__button",color:"text",iconType:"wrench",onClick:this._togglePopover,"aria-label":_i18n.i18n.translate("xpack.maps.toolbarOverlay.toolsControlTitle",{defaultMessage:"Tools"}),title:_i18n.i18n.translate("xpack.maps.toolbarOverlay.toolsControlTitle",{defaultMessage:"Tools"})})}},{key:"render",value:function render(){var toolsPopoverButton=_react.default.createElement(_eui.EuiPopover,{id:"contextMenu",button:this._renderToolsButton(),isOpen:this.state.isPopoverOpen,closePopover:this._closePopover,panelPaddingSize:"none",withTitle:true,anchorPosition:"leftUp"},_react.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:this._getDrawPanels()}));if(!this.props.isDrawingFilter){return toolsPopoverButton}return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,null,toolsPopoverButton),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiButton,{size:"s",fill:true,onClick:this.props.cancelDraw},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.tooltip.toolsControl.cancelDrawButtonLabel",defaultMessage:"Cancel"}))))}}]);return ToolsControl}(_react.Component);exports.ToolsControl=ToolsControl},2083:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LayerPanel=void 0;var _reactRedux=__webpack_require__(12);var _view=__webpack_require__(2084);var _map_selectors=__webpack_require__(64);var _map_actions=__webpack_require__(92);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{selectedLayer:(0,_map_selectors.getSelectedLayer)(state)}}function mapDispatchToProps(dispatch){return{fitToBounds:function fitToBounds(layerId){dispatch((0,_map_actions.fitToLayerExtent)(layerId))},updateSourceProp:function updateSourceProp(id,propName,value){return dispatch((0,_map_actions.updateSourceProp)(id,propName,value))}}}var connectedLayerPanel=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_view.LayerPanel);exports.LayerPanel=connectedLayerPanel},2084:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LayerPanel=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _filter_editor=__webpack_require__(2085);var _join_editor=__webpack_require__(2087);var _flyout_footer=__webpack_require__(2093);var _layer_errors=__webpack_require__(2095);var _layer_settings=__webpack_require__(2097);var _style_settings=__webpack_require__(2099);var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(4);var _public=__webpack_require__(16);var _public2=__webpack_require__(31);var _new_platform=__webpack_require__(7);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var localStorage=new _public2.Storage(window.localStorage);var LayerPanel=function(_React$Component){_inherits(LayerPanel,_React$Component);function LayerPanel(){var _getPrototypeOf2;var _this;_classCallCheck(this,LayerPanel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(LayerPanel)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{});_defineProperty(_assertThisInitialized(_this),"loadDisplayName",(function _callee(){var displayName;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.props.selectedLayer){_context.next=2;break}return _context.abrupt("return");case 2:_context.next=4;return regeneratorRuntime.awrap(_this.props.selectedLayer.getDisplayName());case 4:displayName=_context.sent;if(!(!_this._isMounted||displayName===_this.state.displayName)){_context.next=7;break}return _context.abrupt("return");case 7:_this.setState({displayName:displayName});case 8:case"end":return _context.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"loadImmutableSourceProperties",(function _callee2(){var immutableSourceProps;return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(_this.state.hasLoadedSourcePropsForLayer||!_this.props.selectedLayer)){_context2.next=2;break}return _context2.abrupt("return");case 2:_context2.next=4;return regeneratorRuntime.awrap(_this.props.selectedLayer.getImmutableSourceProperties());case 4:immutableSourceProps=_context2.sent;if(_this._isMounted){_this.setState({immutableSourceProps:immutableSourceProps,hasLoadedSourcePropsForLayer:true})}case 6:case"end":return _context2.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"_onSourceChange",(function(_ref){var propName=_ref.propName,value=_ref.value;_this.props.updateSourceProp(_this.props.selectedLayer.getId(),propName,value)}));return _this}_createClass(LayerPanel,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this.loadDisplayName();this.loadImmutableSourceProperties()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.loadDisplayName();this.loadImmutableSourceProperties()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"_renderFilterSection",value:function _renderFilterSection(){if(!this.props.selectedLayer.supportsElasticsearchFilters()){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_filter_editor.FilterEditor,null)),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}},{key:"_renderJoinSection",value:function _renderJoinSection(){if(!this.props.selectedLayer.isJoinable()){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_join_editor.JoinEditor,null)),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}},{key:"_renderSourceProperties",value:function _renderSourceProperties(){return this.state.immutableSourceProps.map((function(_ref2){var label=_ref2.label,value=_ref2.value,link=_ref2.link;function renderValue(){if(link){return _react.default.createElement(_eui.EuiLink,{href:link,target:"_blank"},value)}return _react.default.createElement("span",null,value)}return _react.default.createElement("p",{key:label,className:"mapLayerPanel__sourceDetail"},_react.default.createElement("strong",null,label)," ",renderValue())}))}},{key:"render",value:function render(){var selectedLayer=this.props.selectedLayer;if(!selectedLayer){return null}return _react.default.createElement(_public.KibanaContextProvider,{services:_objectSpread({appName:"maps",storage:localStorage,data:_new_platform.npStart.plugins.data},_new_platform.npStart.core)},_react.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"none"},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true,className:"mapLayerPanel__header"},_react.default.createElement(_eui.EuiFlexGroup,{responsive:false,alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":_i18n.i18n.translate("xpack.maps.layerPanel.fitToBoundsAriaLabel",{defaultMessage:"Fit to bounds"}),iconType:selectedLayer.getLayerTypeIconName(),onClick:this.props.fitToBounds},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.fitToBoundsButtonLabel",defaultMessage:"Fit"}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,this.state.displayName)))),_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react.default.createElement("div",{className:"mapLayerPanel__sourceDetails"},_react.default.createElement(_eui.EuiAccordion,{id:"accordion1",buttonContent:_i18n.i18n.translate("xpack.maps.layerPanel.sourceDetailsLabel",{defaultMessage:"Source details"})},_react.default.createElement(_eui.EuiText,{color:"subdued",size:"s"},_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),this._renderSourceProperties())))),_react.default.createElement("div",{className:"mapLayerPanel__body"},_react.default.createElement("div",{className:"mapLayerPanel__bodyOverflow"},_react.default.createElement(_layer_errors.LayerErrors,null),_react.default.createElement(_layer_settings.LayerSettings,null),this.props.selectedLayer.renderSourceSettingsEditor({onChange:this._onSourceChange}),this._renderFilterSection(),this._renderJoinSection(),_react.default.createElement(_style_settings.StyleSettings,null))),_react.default.createElement(_eui.EuiFlyoutFooter,{className:"mapLayerPanel__footer"},_react.default.createElement(_flyout_footer.FlyoutFooter,null))))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){var nextId=nextProps.selectedLayer?nextProps.selectedLayer.getId():null;if(nextId!==prevState.prevId){return{displayName:"",immutableSourceProps:[],hasLoadedSourcePropsForLayer:false,prevId:nextId}}return null}}]);return LayerPanel}(_react.default.Component);exports.LayerPanel=LayerPanel},2085:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FilterEditor=void 0;var _reactRedux=__webpack_require__(12);var _filter_editor=__webpack_require__(2086);var _map_selectors=__webpack_require__(64);var _map_actions=__webpack_require__(92);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{layer:(0,_map_selectors.getSelectedLayer)(state)}}function mapDispatchToProps(dispatch){return{setLayerQuery:function setLayerQuery(layerId,query){dispatch((0,_map_actions.setLayerQuery)(layerId,query))},updateSourceProp:function updateSourceProp(id,propName,value){return dispatch((0,_map_actions.updateSourceProp)(id,propName,value))}}}var connectedFilterEditor=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_filter_editor.FilterEditor);exports.FilterEditor=connectedFilterEditor},2086:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FilterEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(2);var _kibana_services=__webpack_require__(101);var _global_filter_checkbox=__webpack_require__(1031);var _new_platform=__webpack_require__(7);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SearchBar=_new_platform.npStart.plugins.data.ui.SearchBar;var FilterEditor=function(_Component){_inherits(FilterEditor,_Component);function FilterEditor(){var _getPrototypeOf2;var _this;_classCallCheck(this,FilterEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(FilterEditor)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isPopoverOpen:false,indexPatterns:[]});_defineProperty(_assertThisInitialized(_this),"_loadIndexPatterns",(function _callee2(){var indexPatternIds,indexPatterns,getIndexPatternPromises;return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:indexPatternIds=_this.props.layer.getSource().getIndexPatternIds();indexPatterns=[];getIndexPatternPromises=indexPatternIds.map((function _callee(indexPatternId){var indexPattern;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return regeneratorRuntime.awrap(_kibana_services.indexPatternService.get(indexPatternId));case 3:indexPattern=_context.sent;indexPatterns.push(indexPattern);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);case 9:case"end":return _context.stop()}}}),null,null,[[0,7]])}));_context2.next=5;return regeneratorRuntime.awrap(Promise.all(getIndexPatternPromises));case 5:if(_this._isMounted){_context2.next=7;break}return _context2.abrupt("return");case 7:_this.setState({indexPatterns:indexPatterns});case 8:case"end":return _context2.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"_toggle",(function(){_this.setState((function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}}))}));_defineProperty(_assertThisInitialized(_this),"_close",(function(){_this.setState({isPopoverOpen:false})}));_defineProperty(_assertThisInitialized(_this),"_onQueryChange",(function(_ref){var query=_ref.query;_this.props.setLayerQuery(_this.props.layer.getId(),query);_this._close()}));_defineProperty(_assertThisInitialized(_this),"_onFilterByMapBoundsChange",(function(event){_this.props.updateSourceProp(_this.props.layer.getId(),"filterByMapBounds",event.target.checked)}));_defineProperty(_assertThisInitialized(_this),"_onApplyGlobalQueryChange",(function(applyGlobalQuery){_this.props.updateSourceProp(_this.props.layer.getId(),"applyGlobalQuery",applyGlobalQuery)}));return _this}_createClass(FilterEditor,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadIndexPatterns()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"_renderQueryPopover",value:function _renderQueryPopover(){var layerQuery=this.props.layer.getQuery();var uiSettings=_new_platform.npStart.core.uiSettings;return _react.default.createElement(_eui.EuiPopover,{id:"layerQueryPopover",button:this._renderOpenButton(),isOpen:this.state.isPopoverOpen,closePopover:this._close,anchorPosition:"leftCenter",ownFocus:true},_react.default.createElement("div",{className:"mapFilterEditor","data-test-subj":"mapFilterEditor"},_react.default.createElement(SearchBar,{showFilterBar:false,showDatePicker:false,showQueryInput:true,query:layerQuery?layerQuery:{language:uiSettings.get("search:queryLanguage"),query:""},onQuerySubmit:this._onQueryChange,indexPatterns:this.state.indexPatterns,customSubmitButton:_react.default.createElement(_eui.EuiButton,{fill:true,"data-test-subj":"mapFilterEditorSubmitButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.filterEditor.queryBarSubmitButtonLabel",defaultMessage:"Set filter"}))})))}},{key:"_renderQuery",value:function _renderQuery(){var query=this.props.layer.getQuery();if(!query||!query.query){return _react.default.createElement(_eui.EuiText,{size:"s",textAlign:"center"},_react.default.createElement("p",null,_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.filterEditor.emptyState.description",defaultMessage:"Add a filter to narrow the layer data."}))))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCodeBlock,{paddingSize:"s"},query.query),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}},{key:"_renderOpenButton",value:function _renderOpenButton(){var query=this.props.layer.getQuery();var openButtonLabel=query&&query.query?_i18n.i18n.translate("xpack.maps.layerPanel.filterEditor.editFilterButtonLabel",{defaultMessage:"Edit filter"}):_i18n.i18n.translate("xpack.maps.layerPanel.filterEditor.addFilterButtonLabel",{defaultMessage:"Add filter"});var openButtonIcon=query&&query.query?"pencil":"plusInCircleFilled";return _react.default.createElement(_eui.EuiButtonEmpty,{size:"xs",onClick:this._toggle,"data-test-subj":"mapLayerPanelOpenFilterEditorButton",iconType:openButtonIcon},openButtonLabel)}},{key:"render",value:function render(){var filterByBoundsSwitch;if(this.props.layer.getSource().isFilterByMapBoundsConfigurable()){filterByBoundsSwitch=_react.default.createElement(_eui.EuiFormRow,{display:"rowCompressed"},_react.default.createElement(_eui.EuiSwitch,{label:_i18n.i18n.translate("xpack.maps.filterEditor.extentFilterLabel",{defaultMessage:"Dynamically filter for data in the visible map area"}),checked:this.props.layer.getSource().isFilterByMapBounds(),onChange:this._onFilterByMapBoundsChange,compressed:true}))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h5",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.filterEditor.title",defaultMessage:"Filtering"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this._renderQuery(),_react.default.createElement(_eui.EuiTextAlign,{textAlign:"center"},this._renderQueryPopover()),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),filterByBoundsSwitch,_react.default.createElement(_global_filter_checkbox.GlobalFilterCheckbox,{label:_i18n.i18n.translate("xpack.maps.filterEditor.applyGlobalQueryCheckboxLabel",{defaultMessage:"Apply global filter to layer data"}),applyGlobalQuery:this.props.layer.getSource().getApplyGlobalQuery(),setApplyGlobalQuery:this._onApplyGlobalQueryChange}))}}]);return FilterEditor}(_react.Component);exports.FilterEditor=FilterEditor},2087:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JoinEditor=void 0;var _reactRedux=__webpack_require__(12);var _view=__webpack_require__(2088);var _map_selectors=__webpack_require__(64);var _map_actions=__webpack_require__(92);function mapDispatchToProps(dispatch){return{onChange:function onChange(layer,joins){dispatch((0,_map_actions.setJoinsForLayer)(layer,joins))}}}function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{joins:(0,_map_selectors.getSelectedLayerJoinDescriptors)(state),layer:(0,_map_selectors.getSelectedLayer)(state)}}var connectedJoinEditor=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_view.JoinEditor);exports.JoinEditor=connectedJoinEditor},2088:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JoinEditor=JoinEditor;var _react=_interopRequireWildcard(__webpack_require__(0));var _v=_interopRequireDefault(__webpack_require__(186));var _eui=__webpack_require__(1);var _join=__webpack_require__(2089);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function JoinEditor(_ref){var joins=_ref.joins,layer=_ref.layer,onChange=_ref.onChange;var renderJoins=function renderJoins(){return joins.map((function(joinDescriptor,index){var handleOnChange=function handleOnChange(updatedDescriptor){onChange(layer,[].concat(_toConsumableArray(joins.slice(0,index)),[updatedDescriptor],_toConsumableArray(joins.slice(index+1))))};var handleOnRemove=function handleOnRemove(){onChange(layer,[].concat(_toConsumableArray(joins.slice(0,index)),_toConsumableArray(joins.slice(index+1))))};return _react.default.createElement(_react.Fragment,{key:index},_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_join.Join,{join:joinDescriptor,layer:layer,onChange:handleOnChange,onRemove:handleOnRemove}))}))};var addJoin=function addJoin(){onChange(layer,[].concat(_toConsumableArray(joins),[{right:{id:(0,_v.default)(),applyGlobalQuery:true}}]))};if(!layer.isJoinable()){return null}return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFlexGroup,{responsive:false},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h5",null,_react.default.createElement(_eui.EuiToolTip,{content:_i18n.i18n.translate("xpack.maps.layerPanel.joinEditor.termJoinTooltip",{defaultMessage:"Use term joins to augment this layer with properties for data driven styling."})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.joinEditor.termJoinsTitle",defaultMessage:"Term joins"}))))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonIcon,{iconType:"plusInCircle",onClick:addJoin,"aria-label":_i18n.i18n.translate("xpack.maps.layerPanel.joinEditor.addJoinAriaLabel",{defaultMessage:"Add join"}),title:_i18n.i18n.translate("xpack.maps.layerPanel.joinEditor.addJoinButtonLabel",{defaultMessage:"Add join"})}))),renderJoins())}},2089:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Join=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);var _join_expression=__webpack_require__(2090);var _metrics_expression=__webpack_require__(2091);var _where_expression=__webpack_require__(2092);var _global_filter_checkbox=__webpack_require__(1031);var _public=__webpack_require__(11);var _kibana_services=__webpack_require__(101);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getIndexPatternId=function getIndexPatternId(props){return _lodash.default.get(props,"join.right.indexPatternId")};var Join=function(_Component){_inherits(Join,_Component);function Join(){var _getPrototypeOf2;var _this;_classCallCheck(this,Join);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Join)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{leftFields:null,leftSourceName:"",rightFields:undefined,indexPattern:undefined,loadError:undefined,prevIndexPatternId:getIndexPatternId(_this.props)});_defineProperty(_assertThisInitialized(_this),"_onLeftFieldChange",(function(leftField){_this.props.onChange({leftField:leftField,right:_this.props.join.right})}));_defineProperty(_assertThisInitialized(_this),"_onRightSourceChange",(function(_ref){var indexPatternId=_ref.indexPatternId,indexPatternTitle=_ref.indexPatternTitle;_this.props.onChange({leftField:_this.props.join.leftField,right:{id:_this.props.join.right.id,indexPatternId:indexPatternId,indexPatternTitle:indexPatternTitle}})}));_defineProperty(_assertThisInitialized(_this),"_onRightFieldChange",(function(term){_this.props.onChange({leftField:_this.props.join.leftField,right:_objectSpread({},_this.props.join.right,{term:term})})}));_defineProperty(_assertThisInitialized(_this),"_onMetricsChange",(function(metrics){_this.props.onChange({leftField:_this.props.join.leftField,right:_objectSpread({},_this.props.join.right,{metrics:metrics})})}));_defineProperty(_assertThisInitialized(_this),"_onWhereQueryChange",(function(whereQuery){_this.props.onChange({leftField:_this.props.join.leftField,right:_objectSpread({},_this.props.join.right,{whereQuery:whereQuery})})}));_defineProperty(_assertThisInitialized(_this),"_onApplyGlobalQueryChange",(function(applyGlobalQuery){_this.props.onChange({leftField:_this.props.join.leftField,right:_objectSpread({},_this.props.join.right,{applyGlobalQuery:applyGlobalQuery})})}));return _this}_createClass(Join,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._loadLeftFields();this._loadLeftSourceName()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidUpdate",value:function componentDidUpdate(){if(!this.state.rightFields&&getIndexPatternId(this.props)&&!this.state.loadError){this._loadRightFields(getIndexPatternId(this.props))}}},{key:"_loadRightFields",value:function _loadRightFields(indexPatternId){var indexPattern;return regeneratorRuntime.async((function _loadRightFields$(_context){while(1){switch(_context.prev=_context.next){case 0:if(indexPatternId){_context.next=2;break}return _context.abrupt("return");case 2:_context.prev=2;_context.next=5;return regeneratorRuntime.awrap(_kibana_services.indexPatternService.get(indexPatternId));case 5:indexPattern=_context.sent;_context.next=12;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);if(this._isMounted){this.setState({loadError:_i18n.i18n.translate("xpack.maps.layerPanel.join.noIndexPatternErrorMessage",{defaultMessage:"Unable to find Index pattern {indexPatternId}",values:{indexPatternId:indexPatternId}})})}return _context.abrupt("return");case 12:if(!(indexPatternId!==this.state.prevIndexPatternId)){_context.next=14;break}return _context.abrupt("return");case 14:if(this._isMounted){_context.next=16;break}return _context.abrupt("return");case 16:this.setState({rightFields:indexPattern.fields.filter((function(field){return!(0,_public.isNestedField)(field)})),indexPattern:indexPattern});case 17:case"end":return _context.stop()}}}),null,this,[[2,8]])}},{key:"_loadLeftSourceName",value:function _loadLeftSourceName(){var leftSourceName;return regeneratorRuntime.async((function _loadLeftSourceName$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return regeneratorRuntime.awrap(this.props.layer.getSourceName());case 2:leftSourceName=_context2.sent;if(this._isMounted){_context2.next=5;break}return _context2.abrupt("return");case 5:this.setState({leftSourceName:leftSourceName});case 6:case"end":return _context2.stop()}}}),null,this)}},{key:"_loadLeftFields",value:function _loadLeftFields(){var leftFields,leftFieldsInstances,leftFieldPromises;return regeneratorRuntime.async((function _loadLeftFields$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return regeneratorRuntime.awrap(this.props.layer.getLeftJoinFields());case 3:leftFieldsInstances=_context4.sent;leftFieldPromises=leftFieldsInstances.map((function _callee(field){return regeneratorRuntime.async((function _callee$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.t0=field.getName();_context3.next=3;return regeneratorRuntime.awrap(field.getLabel());case 3:_context3.t1=_context3.sent;return _context3.abrupt("return",{name:_context3.t0,label:_context3.t1});case 5:case"end":return _context3.stop()}}}))}));_context4.next=7;return regeneratorRuntime.awrap(Promise.all(leftFieldPromises));case 7:leftFields=_context4.sent;_context4.next=13;break;case 10:_context4.prev=10;_context4.t0=_context4["catch"](0);leftFields=[];case 13:if(this._isMounted){_context4.next=15;break}return _context4.abrupt("return");case 15:this.setState({leftFields:leftFields});case 16:case"end":return _context4.stop()}}}),null,this,[[0,10]])}},{key:"render",value:function render(){var _this$props=this.props,join=_this$props.join,onRemove=_this$props.onRemove;var _this$state=this.state,leftSourceName=_this$state.leftSourceName,leftFields=_this$state.leftFields,rightFields=_this$state.rightFields,indexPattern=_this$state.indexPattern;var right=_lodash.default.get(join,"right",{});var rightSourceName=right.indexPatternTitle?right.indexPatternTitle:right.indexPatternId;var isJoinConfigComplete=join.leftField&&right.indexPatternId&&right.term;var metricsExpression;var globalFilterCheckbox;if(isJoinConfigComplete){metricsExpression=_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_metrics_expression.MetricsExpression,{metrics:right.metrics,rightFields:rightFields,onChange:this._onMetricsChange}));globalFilterCheckbox=_react.default.createElement(_global_filter_checkbox.GlobalFilterCheckbox,{applyGlobalQuery:right.applyGlobalQuery,setApplyGlobalQuery:this._onApplyGlobalQueryChange,label:_i18n.i18n.translate("xpack.maps.layerPanel.join.applyGlobalQueryCheckboxLabel",{defaultMessage:"Apply global filter to join"})})}var whereExpression;if(indexPattern&&isJoinConfigComplete){whereExpression=_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_where_expression.WhereExpression,{indexPattern:indexPattern,whereQuery:join.right.whereQuery,onChange:this._onWhereQueryChange}))}return _react.default.createElement("div",{className:"mapJoinItem"},_react.default.createElement(_eui.EuiFlexGroup,{className:"mapJoinItem__inner",responsive:false,wrap:true,gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_join_expression.JoinExpression,{leftSourceName:leftSourceName,leftValue:join.leftField,leftFields:leftFields,onLeftFieldChange:this._onLeftFieldChange,rightSourceIndexPatternId:right.indexPatternId,rightSourceName:rightSourceName,onRightSourceChange:this._onRightSourceChange,rightValue:right.term,rightFields:rightFields,onRightFieldChange:this._onRightFieldChange})),metricsExpression,whereExpression,globalFilterCheckbox,_react.default.createElement(_eui.EuiButtonIcon,{className:"mapJoinItem__delete",iconType:"trash",color:"danger","aria-label":_i18n.i18n.translate("xpack.maps.layerPanel.join.deleteJoinAriaLabel",{defaultMessage:"Delete join"}),title:_i18n.i18n.translate("xpack.maps.layerPanel.join.deleteJoinTitle",{defaultMessage:"Delete join"}),onClick:onRemove})))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){var nextIndexPatternId=getIndexPatternId(nextProps);if(nextIndexPatternId!==prevState.prevIndexPatternId){return{rightFields:undefined,loadError:undefined,prevIndexPatternId:nextIndexPatternId}}return null}}]);return Join}(_react.Component);exports.Join=Join},2090:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JoinExpression=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);var _single_field_select=__webpack_require__(330);var _react2=__webpack_require__(4);var _index_pattern_util=__webpack_require__(520);var _kibana_services=__webpack_require__(101);var _new_platform=__webpack_require__(7);var _public=__webpack_require__(11);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IndexPatternSelect=_new_platform.npStart.plugins.data.ui.IndexPatternSelect;var JoinExpression=function(_Component){_inherits(JoinExpression,_Component);function JoinExpression(){var _getPrototypeOf2;var _this;_classCallCheck(this,JoinExpression);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(JoinExpression)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isPopoverOpen:false});_defineProperty(_assertThisInitialized(_this),"_togglePopover",(function(){_this.setState((function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}}))}));_defineProperty(_assertThisInitialized(_this),"_closePopover",(function(){_this.setState({isPopoverOpen:false})}));_defineProperty(_assertThisInitialized(_this),"_onRightSourceChange",(function _callee(indexPatternId){var indexPattern;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return regeneratorRuntime.awrap(_kibana_services.indexPatternService.get(indexPatternId));case 3:indexPattern=_context.sent;_this.props.onRightSourceChange({indexPatternId:indexPatternId,indexPatternTitle:indexPattern.title});_context.next=9;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);case 9:case"end":return _context.stop()}}}),null,null,[[0,7]])}));_defineProperty(_assertThisInitialized(_this),"_onLeftFieldChange",(function(selectedFields){_this.props.onLeftFieldChange(_lodash.default.get(selectedFields,"[0].value.name",null))}));return _this}_createClass(JoinExpression,[{key:"_renderLeftFieldSelect",value:function _renderLeftFieldSelect(){var _this$props=this.props,leftValue=_this$props.leftValue,leftFields=_this$props.leftFields;if(!leftFields){return null}var options=leftFields.map((function(field){return{value:field,label:field.label}}));var leftFieldOption;if(leftValue){leftFieldOption=options.find((function(option){var field=option.value;return field.name===leftValue}))}var selectedOptions=leftFieldOption?[leftFieldOption]:[];return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.layerPanel.joinExpression.leftFieldLabel",{defaultMessage:"Left field"}),helpText:_i18n.i18n.translate("xpack.maps.layerPanel.joinExpression.leftSourceLabelHelpText",{defaultMessage:"Left source field that contains the shared key."})},_react.default.createElement(_eui.EuiComboBox,{placeholder:getSelectFieldPlaceholder(),singleSelection:true,isClearable:false,options:options,selectedOptions:selectedOptions,onChange:this._onLeftFieldChange}))}},{key:"_renderRightSourceSelect",value:function _renderRightSourceSelect(){if(!this.props.leftValue){return null}return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.layerPanel.joinExpression.rightSourceLabel",{defaultMessage:"Right source"})},_react.default.createElement(IndexPatternSelect,{placeholder:_i18n.i18n.translate("xpack.maps.layerPanel.joinExpression.selectIndexPatternPlaceholder",{defaultMessage:"Select index pattern"}),indexPatternId:this.props.rightSourceIndexPatternId,onChange:this._onRightSourceChange,isClearable:false}))}},{key:"_renderRightFieldSelect",value:function _renderRightFieldSelect(){if(!this.props.rightFields||!this.props.leftValue){return null}var filterStringOrNumberFields=function filterStringOrNumberFields(field){return field.type==="string"&&!(0,_public.isNestedField)(field)||field.type==="number"};return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.layerPanel.joinExpression.rightFieldLabel",{defaultMessage:"Right field"}),helpText:_i18n.i18n.translate("xpack.maps.layerPanel.joinExpression.rightSourceLabelHelpText",{defaultMessage:"Right source field that contains the shared key."})},_react.default.createElement(_single_field_select.SingleFieldSelect,{placeholder:getSelectFieldPlaceholder(),value:this.props.rightValue,onChange:this.props.onRightFieldChange,filterField:filterStringOrNumberFields,fields:(0,_index_pattern_util.getTermsFields)(this.props.rightFields),isClearable:false}))}},{key:"_getExpressionValue",value:function _getExpressionValue(){var _this$props2=this.props,leftSourceName=_this$props2.leftSourceName,leftValue=_this$props2.leftValue,rightSourceName=_this$props2.rightSourceName,rightValue=_this$props2.rightValue;if(leftSourceName&&leftValue&&rightSourceName&&rightValue){return"".concat(leftSourceName,":").concat(leftValue," with ").concat(rightSourceName,":").concat(rightValue)}return _i18n.i18n.translate("xpack.maps.layerPanel.joinExpression.selectPlaceholder",{defaultMessage:"-- select --"})}},{key:"render",value:function render(){var leftSourceName=this.props.leftSourceName;return _react.default.createElement(_eui.EuiPopover,{id:"joinPopover",isOpen:this.state.isPopoverOpen,closePopover:this._closePopover,ownFocus:true,initialFocus:"body",withTitle:true,anchorPosition:"leftCenter",button:_react.default.createElement(_eui.EuiExpression,{onClick:this._togglePopover,description:"Join",uppercase:false,value:this._getExpressionValue()})},_react.default.createElement("div",{style:{width:300}},_react.default.createElement(_eui.EuiPopoverTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.joinExpression.joinPopoverTitle",defaultMessage:"Join"})),_react.default.createElement(_eui.EuiFormHelpText,{className:"mapJoinExpressionHelpText"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.joinExpression.helpText",defaultMessage:"Configure the shared key."})),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.layerPanel.joinExpression.leftSourceLabel",{defaultMessage:"Left source"})},_react.default.createElement(_eui.EuiComboBox,{selectedOptions:[{value:leftSourceName,label:leftSourceName}],isDisabled:true})),this._renderLeftFieldSelect(),this._renderRightSourceSelect(),this._renderRightFieldSelect()))}}]);return JoinExpression}(_react.Component);exports.JoinExpression=JoinExpression;JoinExpression.propTypes={leftSourceName:_propTypes.default.string,leftValue:_propTypes.default.string,leftFields:_propTypes.default.arrayOf(_propTypes.default.shape({label:_propTypes.default.string.isRequired,name:_propTypes.default.string.isRequired})),onLeftFieldChange:_propTypes.default.func.isRequired,rightSourceIndexPatternId:_propTypes.default.string,rightSourceName:_propTypes.default.string,onRightSourceChange:_propTypes.default.func.isRequired,rightValue:_propTypes.default.string,rightFields:_propTypes.default.array,onRightFieldChange:_propTypes.default.func.isRequired};function getSelectFieldPlaceholder(){return _i18n.i18n.translate("xpack.maps.layerPanel.joinExpression.selectFieldPlaceholder",{defaultMessage:"Select field"})}},2091:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsExpression=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);var _metrics_editor=__webpack_require__(687);var _react2=__webpack_require__(4);var _constants=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var MetricsExpression=function(_Component){_inherits(MetricsExpression,_Component);function MetricsExpression(){var _getPrototypeOf2;var _this;_classCallCheck(this,MetricsExpression);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(MetricsExpression)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isPopoverOpen:false});_defineProperty(_assertThisInitialized(_this),"_togglePopover",(function(){_this.setState((function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}}))}));_defineProperty(_assertThisInitialized(_this),"_closePopover",(function(){_this.setState({isPopoverOpen:false})}));_defineProperty(_assertThisInitialized(_this),"_renderMetricsEditor",(function(){if(!_this.props.rightFields){return _react.default.createElement(_eui.EuiFormErrorText,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.metricsExpression.joinMustBeSetErrorMessage",defaultMessage:"JOIN must be set"}))}return _react.default.createElement(_metrics_editor.MetricsEditor,{fields:_this.props.rightFields,metrics:_this.props.metrics,onChange:_this.props.onChange})}));return _this}_createClass(MetricsExpression,[{key:"render",value:function render(){var metricExpressions=this.props.metrics.filter((function(_ref){var type=_ref.type,field=_ref.field;if(type===_constants.METRIC_TYPE.COUNT){return true}if(field){return true}return false})).map((function(_ref2){var type=_ref2.type,field=_ref2.field;if(type===_constants.METRIC_TYPE.COUNT){return"count"}return"".concat(type," ").concat(field)}));var useMetricDescription=_i18n.i18n.translate("xpack.maps.layerPanel.metricsExpression.useMetricsDescription",{defaultMessage:"{metricsLength, plural, one {and use metric} other {and use metrics}}",values:{metricsLength:metricExpressions.length}});return _react.default.createElement(_eui.EuiPopover,{id:"metricsPopover",isOpen:this.state.isPopoverOpen,closePopover:this._closePopover,ownFocus:true,initialFocus:"body",withTitle:true,anchorPosition:"leftCenter",button:_react.default.createElement(_eui.EuiExpression,{onClick:this._togglePopover,description:useMetricDescription,uppercase:false,value:metricExpressions.length>0?metricExpressions.join(", "):"count"})},_react.default.createElement("div",{style:{width:400}},_react.default.createElement(_eui.EuiPopoverTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.metricsExpression.metricsPopoverTitle",defaultMessage:"Metrics"})),_react.default.createElement(_eui.EuiFormHelpText,{className:"mapJoinExpressionHelpText"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.metricsExpression.helpText",defaultMessage:"Configure the metrics for the right source. These values are added to the layer features."})),this._renderMetricsEditor()))}}]);return MetricsExpression}(_react.Component);exports.MetricsExpression=MetricsExpression;MetricsExpression.propTypes={metrics:_propTypes.default.array,rightFields:_propTypes.default.array,onChange:_propTypes.default.func.isRequired};MetricsExpression.defaultProps={metrics:[{type:_constants.METRIC_TYPE.COUNT}]}},2092:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WhereExpression=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);var _new_platform=__webpack_require__(7);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SearchBar=_new_platform.npStart.plugins.data.ui.SearchBar;var WhereExpression=function(_Component){_inherits(WhereExpression,_Component);function WhereExpression(){var _getPrototypeOf2;var _this;_classCallCheck(this,WhereExpression);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(WhereExpression)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isPopoverOpen:false});_defineProperty(_assertThisInitialized(_this),"_togglePopover",(function(){_this.setState((function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}}))}));_defineProperty(_assertThisInitialized(_this),"_closePopover",(function(){_this.setState({isPopoverOpen:false})}));_defineProperty(_assertThisInitialized(_this),"_onQueryChange",(function(_ref){var query=_ref.query;_this.props.onChange(query);_this._closePopover()}));return _this}_createClass(WhereExpression,[{key:"render",value:function render(){var _this$props=this.props,whereQuery=_this$props.whereQuery,indexPattern=_this$props.indexPattern;var expressionValue=whereQuery&&whereQuery.query?whereQuery.query:_i18n.i18n.translate("xpack.maps.layerPanel.whereExpression.expressionValuePlaceholder",{defaultMessage:"-- add filter --"});var uiSettings=_new_platform.npStart.core.uiSettings;return _react.default.createElement(_eui.EuiPopover,{id:"whereClausePopover",isOpen:this.state.isPopoverOpen,closePopover:this._closePopover,ownFocus:true,withTitle:true,anchorPosition:"leftCenter",button:_react.default.createElement(_eui.EuiExpression,{onClick:this._togglePopover,description:_i18n.i18n.translate("xpack.maps.layerPanel.whereExpression.expressionDescription",{defaultMessage:"where"}),uppercase:false,value:expressionValue,"data-test-subj":"mapJoinWhereExpressionButton"})},_react.default.createElement("div",{className:"mapFilterEditor","data-test-subj":"mapJoinWhereFilterEditor"},_react.default.createElement(_eui.EuiFormHelpText,{className:"mapJoinExpressionHelpText"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.whereExpression.helpText",defaultMessage:"Use a query to narrow right source."})),_react.default.createElement(SearchBar,{showFilterBar:false,showDatePicker:false,showQueryInput:true,query:whereQuery?whereQuery:{language:uiSettings.get("search:queryLanguage"),query:""},onQuerySubmit:this._onQueryChange,indexPatterns:[indexPattern],customSubmitButton:_react.default.createElement(_eui.EuiButton,{fill:true,"data-test-subj":"mapWhereFilterEditorSubmitButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.whereExpression.queryBarSubmitButtonLabel",defaultMessage:"Set filter"}))})))}}]);return WhereExpression}(_react.Component);exports.WhereExpression=WhereExpression},2093:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FlyoutFooter=void 0;var _reactRedux=__webpack_require__(12);var _view=__webpack_require__(2094);var _ui=__webpack_require__(202);var _ui_actions=__webpack_require__(177);var _map_selectors=__webpack_require__(64);var _map_actions=__webpack_require__(92);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{hasStateChanged:(0,_map_selectors.hasDirtyState)(state)}}var mapDispatchToProps=function mapDispatchToProps(dispatch){return{cancelLayerPanel:function cancelLayerPanel(){dispatch((0,_ui_actions.updateFlyout)(_ui.FLYOUT_STATE.NONE));dispatch((0,_map_actions.setSelectedLayer)(null))},saveLayerEdits:function saveLayerEdits(){dispatch((0,_ui_actions.updateFlyout)(_ui.FLYOUT_STATE.NONE));dispatch((0,_map_actions.removeTrackedLayerStateForSelectedLayer)());dispatch((0,_map_actions.setSelectedLayer)(null))},removeLayer:function removeLayer(){dispatch((0,_map_actions.removeSelectedLayer)())}}};var connectedFlyoutFooter=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_view.FlyoutFooter);exports.FlyoutFooter=connectedFlyoutFooter},2094:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FlyoutFooter=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FlyoutFooter=function FlyoutFooter(_ref){var cancelLayerPanel=_ref.cancelLayerPanel,saveLayerEdits=_ref.saveLayerEdits,removeLayer=_ref.removeLayer,hasStateChanged=_ref.hasStateChanged;var removeBtn=_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{color:"danger",onClick:removeLayer,flush:"right","data-test-subj":"mapRemoveLayerButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.footer.removeLayerButtonLabel",defaultMessage:"Remove layer"})));var cancelButtonLabel=hasStateChanged?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.footer.cancelButtonLabel",defaultMessage:"Cancel"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.footer.closeButtonLabel",defaultMessage:"Close"});return _react.default.createElement(_eui.EuiFlexGroup,{responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:cancelLayerPanel,flush:"left","data-test-subj":"layerPanelCancelButton"},cancelButtonLabel)),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiSpacer,null)),removeBtn,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{disabled:!hasStateChanged,iconType:"check",onClick:saveLayerEdits,fill:true},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.footer.saveAndCloseButtonLabel",defaultMessage:"Save & close"}))))};exports.FlyoutFooter=FlyoutFooter},2095:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LayerErrors=void 0;var _reactRedux=__webpack_require__(12);var _layer_errors=__webpack_require__(2096);var _map_selectors=__webpack_require__(64);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{layer:(0,_map_selectors.getSelectedLayer)(state)}}var connectedLayerErrors=(0,_reactRedux.connect)(mapStateToProps,null)(_layer_errors.LayerErrors);exports.LayerErrors=connectedLayerErrors},2096:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LayerErrors=LayerErrors;var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function LayerErrors(_ref){var layer=_ref.layer;if(!layer.hasErrors()){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{color:"warning",title:_i18n.i18n.translate("xpack.maps.layerPanel.settingsPanel.unableToLoadTitle",{defaultMessage:"Unable to load layer"})},_react.default.createElement("p",{"data-test-subj":"layerErrorMessage"},layer.getErrors())),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}},2097:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LayerSettings=void 0;var _reactRedux=__webpack_require__(12);var _layer_settings=__webpack_require__(2098);var _map_selectors=__webpack_require__(64);var _map_actions=__webpack_require__(92);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var selectedLayer=(0,_map_selectors.getSelectedLayer)(state);return{alpha:selectedLayer.getAlpha(),label:selectedLayer.getLabel(),layerId:selectedLayer.getId(),maxZoom:selectedLayer.getMaxZoom(),minZoom:selectedLayer.getMinZoom()}}function mapDispatchToProps(dispatch){return{updateLabel:function updateLabel(id,label){return dispatch((0,_map_actions.updateLayerLabel)(id,label))},updateMinZoom:function updateMinZoom(id,minZoom){return dispatch((0,_map_actions.updateLayerMinZoom)(id,minZoom))},updateMaxZoom:function updateMaxZoom(id,maxZoom){return dispatch((0,_map_actions.updateLayerMaxZoom)(id,maxZoom))},updateAlpha:function updateAlpha(id,alpha){return dispatch((0,_map_actions.updateLayerAlpha)(id,alpha))}}}var connectedLayerSettings=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_layer_settings.LayerSettings);exports.LayerSettings=connectedLayerSettings},2098:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LayerSettings=LayerSettings;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _validated_range=__webpack_require__(514);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(4);var _validated_range2=__webpack_require__(524);var _constants=__webpack_require__(25);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function LayerSettings(props){var onLabelChange=function onLabelChange(event){var label=event.target.value;props.updateLabel(props.layerId,label)};var onZoomChange=function onZoomChange(_ref){var _ref2=_slicedToArray(_ref,2),min=_ref2[0],max=_ref2[1];props.updateMinZoom(props.layerId,Math.max(_constants.MIN_ZOOM,parseInt(min,10)));props.updateMaxZoom(props.layerId,Math.min(_constants.MAX_ZOOM,parseInt(max,10)))};var onAlphaChange=function onAlphaChange(alpha){var alphaDecimal=alpha/100;props.updateAlpha(props.layerId,alphaDecimal)};var renderZoomSliders=function renderZoomSliders(){return _react.default.createElement(_validated_range2.ValidatedDualRange,{label:_i18n.i18n.translate("xpack.maps.layerPanel.settingsPanel.visibleZoomLabel",{defaultMessage:"Visibility"}),formRowDisplay:"columnCompressed",min:_constants.MIN_ZOOM,max:_constants.MAX_ZOOM,value:[props.minZoom,props.maxZoom],showInput:"inputWithPopover",showRange:true,showLabels:true,onChange:onZoomChange,allowEmptyRange:false,compressed:true,prepend:_i18n.i18n.translate("xpack.maps.layerPanel.settingsPanel.visibleZoom",{defaultMessage:"Zoom levels"})})};var renderLabel=function renderLabel(){return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.layerPanel.settingsPanel.layerNameLabel",{defaultMessage:"Name"}),display:"columnCompressed"},_react.default.createElement(_eui.EuiFieldText,{value:props.label,onChange:onLabelChange,compressed:true}))};var renderAlphaSlider=function renderAlphaSlider(){var alphaPercent=Math.round(props.alpha*100);return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.maps.layerPanel.settingsPanel.layerTransparencyLabel",{defaultMessage:"Opacity"}),display:"columnCompressed"},_react.default.createElement(_validated_range.ValidatedRange,{min:0,max:100,step:1,value:alphaPercent,onChange:onAlphaChange,showInput:true,showRange:true,compressed:true,append:_i18n.i18n.translate("xpack.maps.layerPanel.settingsPanel.percentageLabel",{defaultMessage:"%",description:"Percentage"})}))};return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h5",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.layerSettingsTitle",defaultMessage:"Layer settings"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),renderLabel(),renderZoomSliders(),renderAlphaSlider()),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}},2099:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StyleSettings=void 0;var _reactRedux=__webpack_require__(12);var _style_settings=__webpack_require__(2100);var _map_selectors=__webpack_require__(64);var _map_actions=__webpack_require__(92);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{layer:(0,_map_selectors.getSelectedLayer)(state)}}function mapDispatchToProps(dispatch){return{updateStyleDescriptor:function updateStyleDescriptor(styleDescriptor){dispatch((0,_map_actions.updateLayerStyleForSelectedLayer)(styleDescriptor))}}}var connectedStyleSettings=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_style_settings.StyleSettings);exports.StyleSettings=connectedStyleSettings},2100:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StyleSettings=StyleSettings;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function StyleSettings(_ref){var layer=_ref.layer,updateStyleDescriptor=_ref.updateStyleDescriptor;var settingsEditor=layer.renderStyleEditor({onStyleDescriptorChange:updateStyleDescriptor});if(!settingsEditor){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h5",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.layerPanel.styleSettingsTitle",defaultMessage:"Layer Style"}))))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),settingsEditor),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}},2101:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddLayerPanel=void 0;var _reactRedux=__webpack_require__(12);var _view=__webpack_require__(2102);var _ui=__webpack_require__(202);var _ui_actions=__webpack_require__(177);var _ui_selectors=__webpack_require__(203);var _map_selectors=__webpack_require__(64);var _non_serializable_instances=__webpack_require__(227);var _map_actions=__webpack_require__(92);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var indexingStage=(0,_ui_selectors.getIndexingStage)(state);return{inspectorAdapters:(0,_non_serializable_instances.getInspectorAdapters)(state),flyoutVisible:(0,_ui_selectors.getFlyoutDisplay)(state)!==_ui.FLYOUT_STATE.NONE,mapColors:(0,_map_selectors.getMapColors)(state),isIndexingTriggered:indexingStage===_ui.INDEXING_STAGE.TRIGGERED,isIndexingSuccess:indexingStage===_ui.INDEXING_STAGE.SUCCESS,isIndexingReady:indexingStage===_ui.INDEXING_STAGE.READY}}function mapDispatchToProps(dispatch){return{viewLayer:function viewLayer(layer){return regeneratorRuntime.async((function viewLayer$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(dispatch((0,_map_actions.setSelectedLayer)(null)));case 2:_context.next=4;return regeneratorRuntime.awrap(dispatch((0,_map_actions.removeTransientLayer)()));case 4:dispatch((0,_map_actions.addLayer)(layer.toLayerDescriptor()));dispatch((0,_map_actions.setSelectedLayer)(layer.getId()));dispatch((0,_map_actions.setTransientLayer)(layer.getId()));case 7:case"end":return _context.stop()}}}))},removeTransientLayer:function removeTransientLayer(){dispatch((0,_map_actions.setSelectedLayer)(null));dispatch((0,_map_actions.removeTransientLayer)())},selectLayerAndAdd:function selectLayerAndAdd(){dispatch((0,_map_actions.setTransientLayer)(null));dispatch((0,_ui_actions.updateFlyout)(_ui.FLYOUT_STATE.LAYER_PANEL))},setIndexingTriggered:function setIndexingTriggered(){return dispatch((0,_ui_actions.updateIndexingStage)(_ui.INDEXING_STAGE.TRIGGERED))},resetIndexing:function resetIndexing(){return dispatch((0,_ui_actions.updateIndexingStage)(null))}}}var connectedFlyOut=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps,null,{withRef:true})(_view.AddLayerPanel);exports.AddLayerPanel=connectedFlyOut},2102:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddLayerPanel=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _source_select=__webpack_require__(2103);var _flyout_footer=__webpack_require__(2104);var _source_editor=__webpack_require__(2106);var _import_editor=__webpack_require__(2108);var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AddLayerPanel=function(_Component){_inherits(AddLayerPanel,_Component);function AddLayerPanel(){var _getPrototypeOf2;var _this;_classCallCheck(this,AddLayerPanel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AddLayerPanel)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{sourceType:null,layer:null,importView:false,layerImportAddReady:false});_defineProperty(_assertThisInitialized(_this),"_viewLayer",(function _callee(source){var options,style,layerInitProps,newLayer,_args=arguments;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:options=_args.length>1&&_args[1]!==undefined?_args[1]:{};if(_this._isMounted){_context.next=3;break}return _context.abrupt("return");case 3:if(source){_context.next=7;break}_this.setState({layer:null});_this.props.removeTransientLayer();return _context.abrupt("return");case 7:style=_this.state.layer&&_this.state.layer.getCurrentStyle()?_this.state.layer.getCurrentStyle().getDescriptor():null;layerInitProps=_objectSpread({},options,{style:style});newLayer=source.createDefaultLayer(layerInitProps,_this.props.mapColors);if(_this._isMounted){_context.next=12;break}return _context.abrupt("return");case 12:_this.setState({layer:newLayer},(function(){return _this.props.viewLayer(_this.state.layer)}));case 13:case"end":return _context.stop()}}}))}));_defineProperty(_assertThisInitialized(_this),"_clearLayerData",(function(_ref){var _ref$keepSourceType=_ref.keepSourceType,keepSourceType=_ref$keepSourceType===void 0?false:_ref$keepSourceType;if(!_this._isMounted){return}_this.setState(_objectSpread({layer:null},!keepSourceType?{sourceType:null,importView:false}:{}));_this.props.removeTransientLayer()}));_defineProperty(_assertThisInitialized(_this),"_onSourceSelectionChange",(function(_ref2){var type=_ref2.type,isIndexingSource=_ref2.isIndexingSource;_this.setState({sourceType:type,importView:isIndexingSource})}));_defineProperty(_assertThisInitialized(_this),"_layerAddHandler",(function(){var _this$props=_this.props,isIndexingTriggered=_this$props.isIndexingTriggered,setIndexingTriggered=_this$props.setIndexingTriggered,selectLayerAndAdd=_this$props.selectLayerAndAdd,resetIndexing=_this$props.resetIndexing;var layerSource=_this.state.layer.getSource();var boolIndexLayer=layerSource.shouldBeIndexed();_this.setState({layer:null});if(boolIndexLayer&&!isIndexingTriggered){setIndexingTriggered()}else{selectLayerAndAdd();if(_this.state.importView){_this.setState({layerImportAddReady:false});resetIndexing()}}}));return _this}_createClass(AddLayerPanel,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidUpdate",value:function componentDidUpdate(){if(!this.state.layerImportAddReady&&this.props.isIndexingSuccess){this.setState({layerImportAddReady:true})}}},{key:"_getPanelDescription",value:function _getPanelDescription(){var _this$state=this.state,sourceType=_this$state.sourceType,importView=_this$state.importView,layerImportAddReady=_this$state.layerImportAddReady;var panelDescription;if(!sourceType){panelDescription=_i18n.i18n.translate("xpack.maps.addLayerPanel.selectSource",{defaultMessage:"Select source"})}else if(layerImportAddReady||!importView){panelDescription=_i18n.i18n.translate("xpack.maps.addLayerPanel.addLayer",{defaultMessage:"Add layer"})}else{panelDescription=_i18n.i18n.translate("xpack.maps.addLayerPanel.importFile",{defaultMessage:"Import file"})}return panelDescription}},{key:"_renderAddLayerPanel",value:function _renderAddLayerPanel(){var _this2=this;var _this$state2=this.state,sourceType=_this$state2.sourceType,importView=_this$state2.importView;if(!sourceType){return _react.default.createElement(_source_select.SourceSelect,{updateSourceSelection:this._onSourceSelectionChange})}if(importView){return _react.default.createElement(_import_editor.ImportEditor,{clearSource:this._clearLayerData,viewLayer:this._viewLayer,onRemove:function onRemove(){return _this2._clearLayerData({keepSourceType:true})}})}return _react.default.createElement(_source_editor.SourceEditor,{clearSource:this._clearLayerData,sourceType:sourceType,previewLayer:this._viewLayer})}},{key:"_renderFooter",value:function _renderFooter(buttonDescription){var _this$state3=this.state,importView=_this$state3.importView,layer=_this$state3.layer;var _this$props2=this.props,isIndexingReady=_this$props2.isIndexingReady,isIndexingSuccess=_this$props2.isIndexingSuccess;var buttonEnabled=importView?isIndexingReady||isIndexingSuccess:!!layer;return _react.default.createElement(_flyout_footer.FlyoutFooter,{showNextButton:!!this.state.sourceType,disableNextButton:!buttonEnabled,onClick:this._layerAddHandler,nextButtonText:buttonDescription})}},{key:"_renderFlyout",value:function _renderFlyout(){var panelDescription=this._getPanelDescription();return _react.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"none"},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true,className:"mapLayerPanel__header"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,panelDescription))),_react.default.createElement("div",{className:"mapLayerPanel__body","data-test-subj":"layerAddForm"},_react.default.createElement("div",{className:"mapLayerPanel__bodyOverflow"},this._renderAddLayerPanel())),this._renderFooter(panelDescription))}},{key:"render",value:function render(){return this.props.flyoutVisible?this._renderFlyout():null}}]);return AddLayerPanel}(_react.Component);exports.AddLayerPanel=AddLayerPanel},2103:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceSelect=SourceSelect;var _react=_interopRequireWildcard(__webpack_require__(0));var _all_sources=__webpack_require__(686);var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function SourceSelect(_ref){var updateSourceSelection=_ref.updateSourceSelection;var sourceCards=_all_sources.ALL_SOURCES.map((function(Source){var icon=Source.icon?_react.default.createElement(_eui.EuiIcon,{type:Source.icon,size:"l"}):null;var sourceTitle=Source.title;return _react.default.createElement(_react.Fragment,{key:Source.type},_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCard,{className:"mapLayerAddpanel__card",title:sourceTitle,icon:icon,onClick:function onClick(){return updateSourceSelection({type:Source.type,isIndexingSource:Source.isIndexingSource})},description:Source.description,layout:"horizontal","data-test-subj":_lodash.default.camelCase(Source.title)}))}));return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.addLayerPanel.chooseDataSourceTitle",defaultMessage:"Choose data source"}))),sourceCards)}},2104:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FlyoutFooter=void 0;var _reactRedux=__webpack_require__(12);var _view=__webpack_require__(2105);var _map_selectors=__webpack_require__(64);var _map_actions=__webpack_require__(92);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var selectedLayer=(0,_map_selectors.getSelectedLayer)(state);return{hasLayerSelected:!!selectedLayer,isLoading:selectedLayer&&selectedLayer.isLayerLoading()}}function mapDispatchToProps(dispatch){return{closeFlyout:function closeFlyout(){return dispatch((0,_map_actions.clearTransientLayerStateAndCloseFlyout)())}}}var connectedFlyOut=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_view.FlyoutFooter);exports.FlyoutFooter=connectedFlyOut},2105:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FlyoutFooter=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FlyoutFooter=function FlyoutFooter(_ref){var onClick=_ref.onClick,showNextButton=_ref.showNextButton,disableNextButton=_ref.disableNextButton,nextButtonText=_ref.nextButtonText,closeFlyout=_ref.closeFlyout,hasLayerSelected=_ref.hasLayerSelected,isLoading=_ref.isLoading;var nextButton=showNextButton?_react.default.createElement(_eui.EuiButton,{"data-test-subj":"importFileButton",disabled:!hasLayerSelected||disableNextButton||isLoading,isLoading:hasLayerSelected&&isLoading,iconSide:"right",iconType:"sortRight",onClick:onClick,fill:true},nextButtonText):null;return _react.default.createElement(_eui.EuiFlyoutFooter,{className:"mapLayerPanel__footer"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:closeFlyout,flush:"left","data-test-subj":"layerAddCancelButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.addLayerPanel.footer.cancelButtonLabel",defaultMessage:"Cancel"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},nextButton)))};exports.FlyoutFooter=FlyoutFooter},2106:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceEditor=void 0;var _reactRedux=__webpack_require__(12);var _view=__webpack_require__(2107);var _non_serializable_instances=__webpack_require__(227);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{inspectorAdapters:(0,_non_serializable_instances.getInspectorAdapters)(state)}}var connectedFlyOut=(0,_reactRedux.connect)(mapStateToProps)(_view.SourceEditor);exports.SourceEditor=connectedFlyOut},2107:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _all_sources=__webpack_require__(686);var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var SourceEditor=function SourceEditor(_ref){var clearSource=_ref.clearSource,sourceType=_ref.sourceType,isIndexingTriggered=_ref.isIndexingTriggered,inspectorAdapters=_ref.inspectorAdapters,previewLayer=_ref.previewLayer;var editorProperties={onPreviewSource:previewLayer,inspectorAdapters:inspectorAdapters};var Source=_all_sources.ALL_SOURCES.find((function(Source){return Source.type===sourceType}));if(!Source){throw new Error("Unexpected source type: ".concat(sourceType))}var editor=Source.renderEditor(editorProperties);return _react.default.createElement(_react.Fragment,null,isIndexingTriggered?null:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiButtonEmpty,{size:"xs",flush:"left",onClick:clearSource,iconType:"arrowLeft"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.addLayerPanel.changeDataSourceButtonLabel",defaultMessage:"Change data source"})),_react.default.createElement(_eui.EuiSpacer,{size:"s"})),_react.default.createElement(_eui.EuiPanel,null,editor))};exports.SourceEditor=SourceEditor},2108:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ImportEditor=void 0;var _reactRedux=__webpack_require__(12);var _view=__webpack_require__(2109);var _non_serializable_instances=__webpack_require__(227);var _ui=__webpack_require__(202);var _ui_actions=__webpack_require__(177);var _ui_selectors=__webpack_require__(203);function mapStateToProps(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{inspectorAdapters:(0,_non_serializable_instances.getInspectorAdapters)(state),isIndexingTriggered:(0,_ui_selectors.getIndexingStage)(state)===_ui.INDEXING_STAGE.TRIGGERED}}var mapDispatchToProps={onIndexReady:function onIndexReady(indexReady){return indexReady?(0,_ui_actions.updateIndexingStage)(_ui.INDEXING_STAGE.READY):(0,_ui_actions.updateIndexingStage)(null)},importSuccessHandler:function importSuccessHandler(){return(0,_ui_actions.updateIndexingStage)(_ui.INDEXING_STAGE.SUCCESS)},importErrorHandler:function importErrorHandler(){return(0,_ui_actions.updateIndexingStage)(_ui.INDEXING_STAGE.ERROR)}};var connectedFlyOut=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_view.ImportEditor);exports.ImportEditor=connectedFlyOut},2109:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ImportEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _client_file_source=__webpack_require__(1019);var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var ImportEditor=function ImportEditor(_ref){var clearSource=_ref.clearSource,isIndexingTriggered=_ref.isIndexingTriggered,props=_objectWithoutProperties(_ref,["clearSource","isIndexingTriggered"]);var editorProperties=getEditorProperties(_objectSpread({isIndexingTriggered:isIndexingTriggered},props));var editor=_client_file_source.GeojsonFileSource.renderEditor(editorProperties);return _react.default.createElement(_react.Fragment,null,isIndexingTriggered?null:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiButtonEmpty,{size:"xs",flush:"left",onClick:clearSource,iconType:"arrowLeft"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.addLayerPanel.changeDataSourceButtonLabel",defaultMessage:"Change data source"})),_react.default.createElement(_eui.EuiSpacer,{size:"s"})),_react.default.createElement(_eui.EuiPanel,{style:{position:"relative"}},editor))};exports.ImportEditor=ImportEditor;function getEditorProperties(_ref2){var inspectorAdapters=_ref2.inspectorAdapters,onRemove=_ref2.onRemove,viewLayer=_ref2.viewLayer,isIndexingTriggered=_ref2.isIndexingTriggered,onIndexReady=_ref2.onIndexReady,importSuccessHandler=_ref2.importSuccessHandler,importErrorHandler=_ref2.importErrorHandler;return{onPreviewSource:viewLayer,inspectorAdapters:inspectorAdapters,onRemove:onRemove,importSuccessHandler:importSuccessHandler,importErrorHandler:importErrorHandler,isIndexingTriggered:isIndexingTriggered,addAndViewSource:viewLayer,onIndexReady:onIndexReady}}},2110:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ExitFullScreenButton",{enumerable:true,get:function get(){return _exit_full_screen_button.ExitFullScreenButton}});var _exit_full_screen_button=__webpack_require__(2111)},2111:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.ExitFullScreenButton=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(8));var _public=__webpack_require__(16);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ExitFullScreenButton=function(_PureComponent){_inherits(ExitFullScreenButton,_PureComponent);function ExitFullScreenButton(){_classCallCheck(this,ExitFullScreenButton);return _possibleConstructorReturn(this,_getPrototypeOf(ExitFullScreenButton).apply(this,arguments))}_createClass(ExitFullScreenButton,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){_chrome.default.setVisible(false)}},{key:"componentWillUnmount",value:function componentWillUnmount(){_chrome.default.setVisible(true)}},{key:"render",value:function render(){return _react.default.createElement(_public.ExitFullScreenButton,{onExitFullScreenMode:this.props.onExitFullScreenMode})}}]);return ExitFullScreenButton}(_react.PureComponent);exports.ExitFullScreenButton=ExitFullScreenButton},2112:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.map=map;var _map_actions=__webpack_require__(92);var _util=__webpack_require__(275);var _constants=__webpack_require__(25);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getLayerIndex=function getLayerIndex(list,layerId){return list.findIndex((function(_ref){var id=_ref.id;return layerId===id}))};var updateLayerInList=function updateLayerInList(state,layerId,attribute,newValue){if(!layerId){return state}var layerList=state.layerList;var layerIdx=getLayerIndex(layerList,layerId);var updatedLayer=_objectSpread({},layerList[layerIdx],_defineProperty({},attribute,newValue||newValue===""||newValue===0?newValue:!layerList[layerIdx][attribute]));var updatedList=[].concat(_toConsumableArray(layerList.slice(0,layerIdx)),[updatedLayer],_toConsumableArray(layerList.slice(layerIdx+1)));return _objectSpread({},state,{layerList:updatedList})};var updateLayerSourceDescriptorProp=function updateLayerSourceDescriptorProp(state,layerId,propName,value){var layerList=state.layerList;var layerIdx=getLayerIndex(layerList,layerId);var updatedLayer=_objectSpread({},layerList[layerIdx],{sourceDescriptor:_objectSpread({},layerList[layerIdx].sourceDescriptor,_defineProperty({},propName,value))});var updatedList=[].concat(_toConsumableArray(layerList.slice(0,layerIdx)),[updatedLayer],_toConsumableArray(layerList.slice(layerIdx+1)));return _objectSpread({},state,{layerList:updatedList})};var INITIAL_STATE={ready:false,mapInitError:null,goto:null,tooltipState:null,mapState:{zoom:4,center:{lon:-100.41,lat:32.82},scrollZoom:true,extent:null,mouseCoordinates:null,timeFilters:null,query:null,filters:[],refreshConfig:null,refreshTimerLastTriggeredAt:null,drawState:null,disableInteractive:false,disableTooltipControl:false,hideToolbarOverlay:false,hideLayerControl:false,hideViewControl:false},selectedLayerId:null,__transientLayerId:null,layerList:[],waitingForMapReadyLayerList:[]};function map(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case _map_actions.UPDATE_DRAW_STATE:return _objectSpread({},state,{mapState:_objectSpread({},state.mapState,{drawState:action.drawState})});case _map_actions.REMOVE_TRACKED_LAYER_STATE:return removeTrackedLayerState(state,action.layerId);case _map_actions.TRACK_CURRENT_LAYER_STATE:return trackCurrentLayerState(state,action.layerId);case _map_actions.ROLLBACK_TO_TRACKED_LAYER_STATE:return rollbackTrackedLayerState(state,action.layerId);case _map_actions.SET_TOOLTIP_STATE:return _objectSpread({},state,{tooltipState:action.tooltipState});case _map_actions.SET_MOUSE_COORDINATES:return _objectSpread({},state,{mapState:_objectSpread({},state.mapState,{mouseCoordinates:{lat:action.lat,lon:action.lon}})});case _map_actions.CLEAR_MOUSE_COORDINATES:return _objectSpread({},state,{mapState:_objectSpread({},state.mapState,{mouseCoordinates:null})});case _map_actions.SET_GOTO:return _objectSpread({},state,{goto:{center:action.center,bounds:action.bounds}});case _map_actions.CLEAR_GOTO:return _objectSpread({},state,{goto:null});case _map_actions.SET_LAYER_ERROR_STATUS:var layerList=state.layerList;var layerIdx=getLayerIndex(layerList,action.layerId);if(layerIdx===-1){return state}return _objectSpread({},state,{layerList:[].concat(_toConsumableArray(layerList.slice(0,layerIdx)),[_objectSpread({},layerList[layerIdx],{__isInErrorState:action.isInErrorState,__errorMessage:action.errorMessage})],_toConsumableArray(layerList.slice(layerIdx+1)))});case _map_actions.UPDATE_SOURCE_DATA_REQUEST:return updateSourceDataRequest(state,action);case _map_actions.LAYER_DATA_LOAD_STARTED:return updateWithDataRequest(state,action);case _map_actions.LAYER_DATA_LOAD_ERROR:return updateWithDataResponse(state,action);case _map_actions.LAYER_DATA_LOAD_ENDED:return updateWithDataResponse(state,action);case _map_actions.TOUCH_LAYER:var layer=state.layerList.find((function(layer){return layer.id===action.layerId}));if(!layer){return state}var indexOfLayer=state.layerList.indexOf(layer);var newLayer=_objectSpread({},layer);var newLayerList=_toConsumableArray(state.layerList);newLayerList[indexOfLayer]=newLayer;return _objectSpread({},state,{layerList:newLayerList});case _map_actions.MAP_READY:return _objectSpread({},state,{ready:true});case _map_actions.MAP_DESTROYED:return _objectSpread({},state,{ready:false});case _map_actions.MAP_EXTENT_CHANGED:var newMapState={center:action.mapState.center,zoom:action.mapState.zoom,extent:action.mapState.extent,buffer:action.mapState.buffer};return _objectSpread({},state,{mapState:_objectSpread({},state.mapState,{},newMapState)});case _map_actions.SET_QUERY:var query=action.query,timeFilters=action.timeFilters,filters=action.filters;return _objectSpread({},state,{mapState:_objectSpread({},state.mapState,{query:query,timeFilters:timeFilters,filters:filters})});case _map_actions.SET_REFRESH_CONFIG:var isPaused=action.isPaused,interval=action.interval;return _objectSpread({},state,{mapState:_objectSpread({},state.mapState,{refreshConfig:{isPaused:isPaused,interval:interval}})});case _map_actions.TRIGGER_REFRESH_TIMER:return _objectSpread({},state,{mapState:_objectSpread({},state.mapState,{refreshTimerLastTriggeredAt:(new Date).toISOString()})});case _map_actions.SET_SELECTED_LAYER:var selectedMatch=state.layerList.find((function(layer){return layer.id===action.selectedLayerId}));return _objectSpread({},state,{selectedLayerId:selectedMatch?action.selectedLayerId:null});case _map_actions.SET_TRANSIENT_LAYER:var transientMatch=state.layerList.find((function(layer){return layer.id===action.transientLayerId}));return _objectSpread({},state,{__transientLayerId:transientMatch?action.transientLayerId:null});case _map_actions.UPDATE_LAYER_ORDER:return _objectSpread({},state,{layerList:action.newLayerOrder.map((function(layerNumber){return state.layerList[layerNumber]}))});case _map_actions.UPDATE_LAYER_PROP:return updateLayerInList(state,action.id,action.propName,action.newValue);case _map_actions.UPDATE_SOURCE_PROP:return updateLayerSourceDescriptorProp(state,action.layerId,action.propName,action.value);case _map_actions.SET_JOINS:var layerDescriptor=state.layerList.find((function(descriptor){return descriptor.id===action.layer.getId()}));if(layerDescriptor){var newLayerDescriptor=_objectSpread({},layerDescriptor,{joins:action.joins.slice()});var _index=state.layerList.findIndex((function(descriptor){return descriptor.id===action.layer.getId()}));var _newLayerList=state.layerList.slice();_newLayerList[_index]=newLayerDescriptor;return _objectSpread({},state,{layerList:_newLayerList})}return state;case _map_actions.ADD_LAYER:return _objectSpread({},state,{layerList:[].concat(_toConsumableArray(state.layerList),[action.layer])});case _map_actions.REMOVE_LAYER:return _objectSpread({},state,{layerList:_toConsumableArray(state.layerList.filter((function(_ref2){var id=_ref2.id;return id!==action.id})))});case _map_actions.ADD_WAITING_FOR_MAP_READY_LAYER:return _objectSpread({},state,{waitingForMapReadyLayerList:[].concat(_toConsumableArray(state.waitingForMapReadyLayerList),[action.layer])});case _map_actions.CLEAR_WAITING_FOR_MAP_READY_LAYER_LIST:return _objectSpread({},state,{waitingForMapReadyLayerList:[]});case _map_actions.SET_LAYER_VISIBILITY:return updateLayerInList(state,action.layerId,"visible",action.visibility);case _map_actions.UPDATE_LAYER_STYLE:var styleLayerId=action.layerId;return updateLayerInList(state,styleLayerId,"style",_objectSpread({},action.style));case _map_actions.SET_LAYER_STYLE_META:var layerId=action.layerId,styleMeta=action.styleMeta;var index=getLayerIndex(state.layerList,layerId);if(index===-1){return state}return updateLayerInList(state,layerId,"style",_objectSpread({},state.layerList[index].style,{__styleMeta:styleMeta}));case _map_actions.SET_SCROLL_ZOOM:return _objectSpread({},state,{mapState:_objectSpread({},state.mapState,{scrollZoom:action.scrollZoom})});case _map_actions.SET_MAP_INIT_ERROR:return _objectSpread({},state,{mapInitError:action.errorMessage});case _map_actions.SET_INTERACTIVE:return _objectSpread({},state,{mapState:_objectSpread({},state.mapState,{disableInteractive:action.disableInteractive})});case _map_actions.DISABLE_TOOLTIP_CONTROL:return _objectSpread({},state,{mapState:_objectSpread({},state.mapState,{disableTooltipControl:action.disableTooltipControl})});case _map_actions.HIDE_TOOLBAR_OVERLAY:return _objectSpread({},state,{mapState:_objectSpread({},state.mapState,{hideToolbarOverlay:action.hideToolbarOverlay})});case _map_actions.HIDE_LAYER_CONTROL:return _objectSpread({},state,{mapState:_objectSpread({},state.mapState,{hideLayerControl:action.hideLayerControl})});case _map_actions.HIDE_VIEW_CONTROL:return _objectSpread({},state,{mapState:_objectSpread({},state.mapState,{hideViewControl:action.hideViewControl})});case _map_actions.SET_WAITING_FOR_READY_HIDDEN_LAYERS:return _objectSpread({},state,{waitingForMapReadyLayerList:state.waitingForMapReadyLayerList.map((function(layer){return _objectSpread({},layer,{visible:!action.hiddenLayerIds.includes(layer.id)})}))});default:return state}}function findDataRequest(layerDescriptor,dataRequestAction){if(!layerDescriptor.__dataRequests){return}return layerDescriptor.__dataRequests.find((function(dataRequest){return dataRequest.dataId===dataRequestAction.dataId}))}function updateWithDataRequest(state,action){var dataRequest=getValidDataRequest(state,action,false);var layerRequestingData=findLayerById(state,action.layerId);if(!dataRequest){dataRequest={dataId:action.dataId};layerRequestingData.__dataRequests=[].concat(_toConsumableArray(layerRequestingData.__dataRequests?layerRequestingData.__dataRequests:[]),[dataRequest])}dataRequest.dataMetaAtStart=action.meta;dataRequest.dataRequestToken=action.requestToken;var layerList=_toConsumableArray(state.layerList);return _objectSpread({},state,{layerList:layerList})}function updateSourceDataRequest(state,action){var layerDescriptor=findLayerById(state,action.layerId);if(!layerDescriptor){return state}var dataRequest=layerDescriptor.__dataRequests.find((function(dataRequest){return dataRequest.dataId===_constants.SOURCE_DATA_ID_ORIGIN}));if(!dataRequest){return state}dataRequest.data=action.newData;return resetDataRequest(state,action,dataRequest)}function updateWithDataResponse(state,action){var dataRequest=getValidDataRequest(state,action);if(!dataRequest){return state}dataRequest.data=action.data;dataRequest.dataMeta=_objectSpread({},dataRequest.dataMetaAtStart,{},action.meta);dataRequest.dataMetaAtStart=null;return resetDataRequest(state,action,dataRequest)}function resetDataRequest(state,action,request){var dataRequest=request||getValidDataRequest(state,action);if(!dataRequest){return state}dataRequest.dataRequestToken=null;dataRequest.dataId=action.dataId;var layerList=_toConsumableArray(state.layerList);return _objectSpread({},state,{layerList:layerList})}function getValidDataRequest(state,action){var checkRequestToken=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var layer=findLayerById(state,action.layerId);if(!layer){return}var dataRequest=findDataRequest(layer,action);if(!dataRequest){return}if(checkRequestToken&&dataRequest.dataRequestToken&&dataRequest.dataRequestToken!==action.requestToken){return}return dataRequest}function findLayerById(state,id){return state.layerList.find((function(layer){return layer.id===id}))}function trackCurrentLayerState(state,layerId){var layer=findLayerById(state,layerId);var layerCopy=(0,_util.copyPersistentState)(layer);return updateLayerInList(state,layerId,_util.TRACKED_LAYER_DESCRIPTOR,layerCopy)}function removeTrackedLayerState(state,layerId){var layer=findLayerById(state,layerId);if(!layer){return state}var copyLayer=_objectSpread({},layer);delete copyLayer[_util.TRACKED_LAYER_DESCRIPTOR];return _objectSpread({},state,{layerList:replaceInLayerList(state.layerList,layerId,copyLayer)})}function rollbackTrackedLayerState(state,layerId){var layer=findLayerById(state,layerId);if(!layer){return state}var trackedLayerDescriptor=layer[_util.TRACKED_LAYER_DESCRIPTOR];var rolledbackLayer=_objectSpread({},layer,{},trackedLayerDescriptor);delete rolledbackLayer[_util.TRACKED_LAYER_DESCRIPTOR];return _objectSpread({},state,{layerList:replaceInLayerList(state.layerList,layerId,rolledbackLayer)})}function replaceInLayerList(layerList,layerId,newLayerDescriptor){var layerIndex=getLayerIndex(layerList,layerId);var newLayerList=_toConsumableArray(layerList);newLayerList[layerIndex]=newLayerDescriptor;return newLayerList}},2113:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.mergeInputWithSavedMap=mergeInputWithSavedMap;var _lodash=_interopRequireDefault(__webpack_require__(3));var _ui=__webpack_require__(202);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MAP_EMBEDDABLE_INPUT_KEYS=["hideFilterActions","isLayerTOCOpen","openTOCDetails","mapCenter"];function mergeInputWithSavedMap(input,savedMap){var mergedInput=_lodash.default.pick(input,MAP_EMBEDDABLE_INPUT_KEYS);if(!_lodash.default.has(input,"isLayerTOCOpen")&&savedMap.uiStateJSON){var uiState=JSON.parse(savedMap.uiStateJSON);mergedInput.isLayerTOCOpen=_lodash.default.get(uiState,"isLayerTOCOpen",_ui.DEFAULT_IS_LAYER_TOC_OPEN)}if(!_lodash.default.has(input,"openTOCDetails")&&savedMap.uiStateJSON){var _uiState=JSON.parse(savedMap.uiStateJSON);if(_lodash.default.has(_uiState,"openTOCDetails")){mergedInput.openTOCDetails=_lodash.default.get(_uiState,"openTOCDetails",[])}}if(!input.mapCenter&&savedMap.mapStateJSON){var mapState=JSON.parse(savedMap.mapStateJSON);mergedInput.mapCenter={lat:mapState.center.lat,lon:mapState.center.lon,zoom:mapState.zoom}}return mergedInput}},2114:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createSavedGisMapClass=createSavedGisMapClass;var _lodash=_interopRequireDefault(__webpack_require__(3));var _saved_object=__webpack_require__(412);var _map_selectors=__webpack_require__(64);var _ui_selectors=__webpack_require__(203);var _elasticsearch_geo_utils=__webpack_require__(402);var _util=__webpack_require__(275);var _references=__webpack_require__(2115);var _constants=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function createSavedGisMapClass(services){var SavedObjectClass=(0,_saved_object.createSavedObjectClass)(services);var SavedGisMap=function(_SavedObjectClass){_inherits(SavedGisMap,_SavedObjectClass);function SavedGisMap(id){var _this;_classCallCheck(this,SavedGisMap);_this=_possibleConstructorReturn(this,_getPrototypeOf(SavedGisMap).call(this,{type:SavedGisMap.type,mapping:SavedGisMap.mapping,searchSource:SavedGisMap.searchSource,extractReferences:_references.extractReferences,injectReferences:function injectReferences(savedObject,references){var _injectReferences2=(0,_references.injectReferences)({attributes:{layerListJSON:savedObject.layerListJSON},references:references}),attributes=_injectReferences2.attributes;savedObject.layerListJSON=attributes.layerListJSON;var indexPatternIds=references.filter((function(reference){return reference.type==="index-pattern"})).map((function(reference){return reference.id}));savedObject.indexPatternIds=_lodash.default.uniq(indexPatternIds)},id:id,defaults:{title:"New Map",description:""}}));_this.showInRecentlyAccessed=true;return _this}_createClass(SavedGisMap,[{key:"getFullPath",value:function getFullPath(){return"/app/maps#map/".concat(this.id)}},{key:"getLayerList",value:function getLayerList(){return this.layerListJSON?JSON.parse(this.layerListJSON):null}},{key:"syncWithStore",value:function syncWithStore(state){var layerList=(0,_map_selectors.getLayerListRaw)(state);var layerListConfigOnly=(0,_util.copyPersistentState)(layerList);this.layerListJSON=JSON.stringify(layerListConfigOnly);this.mapStateJSON=JSON.stringify({zoom:(0,_map_selectors.getMapZoom)(state),center:(0,_map_selectors.getMapCenter)(state),timeFilters:(0,_map_selectors.getTimeFilters)(state),refreshConfig:(0,_map_selectors.getRefreshConfig)(state),query:_lodash.default.omit((0,_map_selectors.getQuery)(state),"queryLastTriggeredAt"),filters:(0,_map_selectors.getFilters)(state)});this.uiStateJSON=JSON.stringify({isLayerTOCOpen:(0,_ui_selectors.getIsLayerTOCOpen)(state),openTOCDetails:(0,_ui_selectors.getOpenTOCDetails)(state)});this.bounds=(0,_elasticsearch_geo_utils.convertMapExtentToPolygon)((0,_map_selectors.getMapExtent)(state))}}]);return SavedGisMap}(SavedObjectClass);_defineProperty(SavedGisMap,"type",_constants.MAP_SAVED_OBJECT_TYPE);_defineProperty(SavedGisMap,"mapping",{title:"text",description:"text",mapStateJSON:"text",layerListJSON:"text",uiStateJSON:"text",bounds:{type:"object"}});_defineProperty(SavedGisMap,"fieldOrder",["title","description"]);_defineProperty(SavedGisMap,"searchSource",false);return SavedGisMap}},2115:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractReferences=extractReferences;exports.injectReferences=injectReferences;var _lodash=_interopRequireDefault(__webpack_require__(3));var _constants=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function doesSourceUseIndexPattern(layerDescriptor){var sourceType=_lodash.default.get(layerDescriptor,"sourceDescriptor.type");return sourceType===_constants.ES_GEO_GRID||sourceType===_constants.ES_SEARCH||sourceType===_constants.ES_PEW_PEW}function extractReferences(_ref){var attributes=_ref.attributes,_ref$references=_ref.references,references=_ref$references===void 0?[]:_ref$references;if(!attributes.layerListJSON){return{attributes:attributes,references:references}}var extractedReferences=[];var layerList=JSON.parse(attributes.layerListJSON);layerList.forEach((function(layer,layerIndex){if(doesSourceUseIndexPattern(layer)&&_lodash.default.has(layer,"sourceDescriptor.indexPatternId")){var refName="layer_".concat(layerIndex,"_source_index_pattern");extractedReferences.push({name:refName,type:"index-pattern",id:layer.sourceDescriptor.indexPatternId});delete layer.sourceDescriptor.indexPatternId;layer.sourceDescriptor.indexPatternRefName=refName}var joins=_lodash.default.get(layer,"joins",[]);joins.forEach((function(join,joinIndex){if(_lodash.default.has(join,"right.indexPatternId")){var _refName="layer_".concat(layerIndex,"_join_").concat(joinIndex,"_index_pattern");extractedReferences.push({name:_refName,type:"index-pattern",id:join.right.indexPatternId});delete join.right.indexPatternId;join.right.indexPatternRefName=_refName}}))}));return{attributes:_objectSpread({},attributes,{layerListJSON:JSON.stringify(layerList)}),references:references.concat(extractedReferences)}}function findReference(targetName,references){var reference=references.find((function(reference){return reference.name===targetName}));if(!reference){throw new Error('Could not find reference "'.concat(targetName,'"'))}return reference}function injectReferences(_ref2){var attributes=_ref2.attributes,references=_ref2.references;if(!attributes.layerListJSON){return{attributes:attributes}}var layerList=JSON.parse(attributes.layerListJSON);layerList.forEach((function(layer){if(doesSourceUseIndexPattern(layer)&&_lodash.default.has(layer,"sourceDescriptor.indexPatternRefName")){var reference=findReference(layer.sourceDescriptor.indexPatternRefName,references);layer.sourceDescriptor.indexPatternId=reference.id;delete layer.sourceDescriptor.indexPatternRefName}var joins=_lodash.default.get(layer,"joins",[]);joins.forEach((function(join){if(_lodash.default.has(join,"right.indexPatternRefName")){var _reference=findReference(join.right.indexPatternRefName,references);join.right.indexPatternId=_reference.id;delete join.right.indexPatternRefName}}))}));return{attributes:_objectSpread({},attributes,{layerListJSON:JSON.stringify(layerList)})}}},2116:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MapListing=exports.EMPTY_FILTER=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _lodash=_interopRequireDefault(__webpack_require__(3));var _notify=__webpack_require__(15);var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(4);var _help_menu_util=__webpack_require__(1063);var _chrome=_interopRequireDefault(__webpack_require__(8));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EMPTY_FILTER="";exports.EMPTY_FILTER=EMPTY_FILTER;var MapListing=function(_React$Component){_inherits(MapListing,_React$Component);function MapListing(){var _getPrototypeOf2;var _this;_classCallCheck(this,MapListing);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(MapListing)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{hasInitialFetchReturned:false,isFetchingItems:false,showDeleteModal:false,showLimitError:false,filter:EMPTY_FILTER,items:[],selectedIds:[],page:0,perPage:20});_defineProperty(_assertThisInitialized(_this),"debouncedFetch",_lodash.default.debounce((function _callee(filter){var response;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(_this.props.find(filter));case 2:response=_context.sent;if(_this._isMounted){_context.next=5;break}return _context.abrupt("return");case 5:if(filter===_this.state.filter){_this.setState({hasInitialFetchReturned:true,isFetchingItems:false,items:response.hits,totalItems:response.total,showLimitError:response.total>_this.props.listingLimit})}case 6:case"end":return _context.stop()}}}))}),300));_defineProperty(_assertThisInitialized(_this),"fetchItems",(function(){_this.setState({isFetchingItems:true},_this.debouncedFetch.bind(null,_this.state.filter))}));_defineProperty(_assertThisInitialized(_this),"deleteSelectedItems",(function _callee2(){return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return regeneratorRuntime.awrap(_this.props.delete(_this.state.selectedIds));case 3:_context2.next=8;break;case 5:_context2.prev=5;_context2.t0=_context2["catch"](0);_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.maps.mapListing.unableToDeleteToastTitle",{defaultMessage:"Unable to delete map(s)"}),text:"".concat(_context2.t0)});case 8:_this.fetchItems();_this.setState({selectedIds:[]});_this.closeDeleteModal();case 11:case"end":return _context2.stop()}}}),null,null,[[0,5]])}));_defineProperty(_assertThisInitialized(_this),"closeDeleteModal",(function(){_this.setState({showDeleteModal:false})}));_defineProperty(_assertThisInitialized(_this),"openDeleteModal",(function(){_this.setState({showDeleteModal:true})}));_defineProperty(_assertThisInitialized(_this),"onTableChange",(function(_ref){var page=_ref.page,_ref$sort=_ref.sort,sort=_ref$sort===void 0?{}:_ref$sort;var pageIndex=page.index,pageSize=page.size;var sortField=sort.field,sortDirection=sort.direction;if(_this.state.sortField===sortField&&_this.state.sortDirection==="desc"&&sortDirection==="asc"){sortField=null;sortDirection=null}_this.setState({page:pageIndex,perPage:pageSize,sortField:sortField,sortDirection:sortDirection})}));_defineProperty(_assertThisInitialized(_this),"getPageOfItems",(function(){var itemsCopy=_this.state.items.slice();if(_this.state.sortField){itemsCopy.sort((function(a,b){var fieldA=_lodash.default.get(a,_this.state.sortField,"");var fieldB=_lodash.default.get(b,_this.state.sortField,"");var order=1;if(_this.state.sortDirection==="desc"){order=-1}return order*fieldA.toLowerCase().localeCompare(fieldB.toLowerCase())}))}var startIndex=_this.state.page*_this.state.perPage;var lastIndex=startIndex+_this.state.perPage;return itemsCopy.slice(startIndex,lastIndex)}));return _this}_createClass(MapListing,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;this.debouncedFetch.cancel()}},{key:"componentDidMount",value:function componentDidMount(){this.fetchItems();(0,_help_menu_util.addHelpMenuToAppChrome)(_chrome.default)}},{key:"hasNoItems",value:function hasNoItems(){if(!this.state.isFetchingItems&&this.state.items.length===0&&!this.state.filter){return true}return false}},{key:"renderConfirmDeleteModal",value:function renderConfirmDeleteModal(){return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:_i18n.i18n.translate("xpack.maps.mapListing.deleteSelectedItemsTitle",{defaultMessage:"Delete selected items?"}),onCancel:this.closeDeleteModal,onConfirm:this.deleteSelectedItems,cancelButtonText:_i18n.i18n.translate("xpack.maps.mapListing.cancelTitle",{defaultMessage:"Cancel"}),confirmButtonText:_i18n.i18n.translate("xpack.maps.mapListing.deleteTitle",{defaultMessage:"Delete"}),defaultFocusedButton:"cancel"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.mapListing.deleteWarning",defaultMessage:"You can't recover deleted items."}))))}},{key:"renderListingLimitWarning",value:function renderListingLimitWarning(){if(this.state.showLimitError){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.maps.mapListing.limitExceededTitle",{defaultMessage:"Listing limit exceeded"}),color:"warning",iconType:"help"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.mapListing.limitHelpDescription",defaultMessage:"You have {totalItems} items, but your <strong>listingLimit</strong> setting prevents the table below from displaying more than {listingLimit}. You can change this setting under ",values:{totalItems:this.state.totalItems,listingLimit:this.props.listingLimit}}),_react.default.createElement(_eui.EuiLink,{href:"#/management/kibana/settings"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.mapListing.advancedSettingsLinkText",defaultMessage:"Advanced Settings"})),".")),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}}},{key:"renderNoResultsMessage",value:function renderNoResultsMessage(){if(this.state.isFetchingItems){return""}if(this.hasNoItems()){return _i18n.i18n.translate("xpack.maps.mapListing.noItemsDescription",{defaultMessage:"Looks like you don't have any maps. Click the create button to create one."})}return _i18n.i18n.translate("xpack.maps.mapListing.noMatchDescription",{defaultMessage:"No items matched your search."})}},{key:"renderSearchBar",value:function renderSearchBar(){var _this2=this;var deleteBtn;if(this.state.selectedIds.length>0){deleteBtn=_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{color:"danger",onClick:this.openDeleteModal,"data-test-subj":"deleteSelectedItems",key:"delete"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.mapListing.deleteSelectedButtonLabel",defaultMessage:"Delete selected"})))}return _react.default.createElement(_eui.EuiFlexGroup,null,deleteBtn,_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_eui.EuiFieldSearch,{"aria-label":_i18n.i18n.translate("xpack.maps.mapListing.searchAriaLabel",{defaultMessage:"Filter items"}),placeholder:_i18n.i18n.translate("xpack.maps.mapListing.searchPlaceholder",{defaultMessage:"Search..."}),fullWidth:true,value:this.state.filter,onChange:function onChange(e){_this2.setState({filter:e.target.value},_this2.fetchItems)},"data-test-subj":"searchFilter"})))}},{key:"renderTable",value:function renderTable(){var _this3=this;var tableColumns=[{field:"title",name:_i18n.i18n.translate("xpack.maps.mapListing.titleFieldTitle",{defaultMessage:"Title"}),sortable:true,render:function render(field,record){return _react.default.createElement(_eui.EuiLink,{href:"#/map/".concat(record.id),"data-test-subj":"mapListingTitleLink-".concat(record.title.split(" ").join("-"))},field)}},{field:"description",name:_i18n.i18n.translate("xpack.maps.mapListing.descriptionFieldTitle",{defaultMessage:"Description"}),dataType:"string",sortable:true}];var pagination={pageIndex:this.state.page,pageSize:this.state.perPage,totalItemCount:this.state.items.length,pageSizeOptions:[10,20,50]};var selection=false;if(!this.props.readOnly){selection={onSelectionChange:function onSelectionChange(selection){_this3.setState({selectedIds:selection.map((function(item){return item.id}))})}}}var sorting={};if(this.state.sortField){sorting.sort={field:this.state.sortField,direction:this.state.sortDirection}}var items=this.state.items.length===0?[]:this.getPageOfItems();return _react.default.createElement(_eui.EuiBasicTable,{itemId:"id",items:items,loading:this.state.isFetchingItems,columns:tableColumns,selection:selection,noItemsMessage:this.renderNoResultsMessage(),pagination:pagination,sorting:sorting,onChange:this.onTableChange})}},{key:"renderListing",value:function renderListing(){var createButton;if(!this.props.readOnly){createButton=_react.default.createElement(_eui.EuiButton,{href:"#/map","data-test-subj":"newMapLink",fill:true},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.mapListing.createMapButtonLabel",defaultMessage:"Create map"}))}return _react.default.createElement(_react.default.Fragment,null,this.state.showDeleteModal&&this.renderConfirmDeleteModal(),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center","data-test-subj":"top-nav"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.mapListing.listingTableTitle",defaultMessage:"Maps"})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},createButton)),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderListingLimitWarning(),this.renderSearchBar(),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderTable())}},{key:"renderPageContent",value:function renderPageContent(){if(!this.state.hasInitialFetchReturned){return}return _react.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center"},this.renderListing())}},{key:"render",value:function render(){return _react.default.createElement(_eui.EuiPage,{"data-test-subj":"mapsListingPage",restrictWidth:true},_react.default.createElement(_eui.EuiPageBody,null,this.renderPageContent()))}}]);return MapListing}(_react.default.Component);exports.MapListing=MapListing;MapListing.propTypes={readOnly:_propTypes.default.bool.isRequired,find:_propTypes.default.func.isRequired,delete:_propTypes.default.func.isRequired,listingLimit:_propTypes.default.number.isRequired}},2117:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(1915)},2118:function(module,exports,__webpack_require__){module.exports=__webpack_require__(17)(3077)},2119:function(module,exports,__webpack_require__){module.exports=__webpack_require__(26)(2715)},2120:function(module,exports,__webpack_require__){module.exports=__webpack_require__(36)(2325)},2121:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(1860)},2122:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}Object.defineProperty(exports,"__esModule",{value:true});exports.useField=void 0;var _react=__webpack_require__(0);var _constants=__webpack_require__(1034);var useField=function useField(form,path){var config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var valueChangeListener=arguments.length>3?arguments[3]:undefined;var _config$type=config.type,type=_config$type===void 0?_constants.FIELD_TYPES.TEXT:_config$type,_config$defaultValue=config.defaultValue,defaultValue=_config$defaultValue===void 0?"":_config$defaultValue,_config$label=config.label,label=_config$label===void 0?"":_config$label,_config$labelAppend=config.labelAppend,labelAppend=_config$labelAppend===void 0?"":_config$labelAppend,_config$helpText=config.helpText,helpText=_config$helpText===void 0?"":_config$helpText,_config$validations=config.validations,validations=_config$validations===void 0?[]:_config$validations,_config$formatters=config.formatters,formatters=_config$formatters===void 0?[]:_config$formatters,_config$fieldsToValid=config.fieldsToValidateOnChange,fieldsToValidateOnChange=_config$fieldsToValid===void 0?[path]:_config$fieldsToValid,_config$errorDisplayD=config.errorDisplayDelay,errorDisplayDelay=_config$errorDisplayD===void 0?form.__options.errorDisplayDelay:_config$errorDisplayD,_config$serializer=config.serializer,serializer=_config$serializer===void 0?function(value){return value}:_config$serializer,_config$deserializer=config.deserializer,deserializer=_config$deserializer===void 0?function(value){return value}:_config$deserializer;var initialValue=(0,_react.useMemo)((function(){return typeof defaultValue==="function"?deserializer(defaultValue()):deserializer(defaultValue)}),[defaultValue]);var _ref=(0,_react.useState)(initialValue),_ref2=_slicedToArray(_ref,2),value=_ref2[0],setStateValue=_ref2[1];var _ref3=(0,_react.useState)([]),_ref4=_slicedToArray(_ref3,2),errors=_ref4[0],setErrors=_ref4[1];var _ref5=(0,_react.useState)(true),_ref6=_slicedToArray(_ref5,2),isPristine=_ref6[0],setPristine=_ref6[1];var _ref7=(0,_react.useState)(false),_ref8=_slicedToArray(_ref7,2),isValidating=_ref8[0],setValidating=_ref8[1];var _ref9=(0,_react.useState)(false),_ref10=_slicedToArray(_ref9,2),isChangingValue=_ref10[0],setIsChangingValue=_ref10[1];var _ref11=(0,_react.useState)(false),_ref12=_slicedToArray(_ref11,2),isValidated=_ref12[0],setIsValidated=_ref12[1];var validateCounter=(0,_react.useRef)(0);var changeCounter=(0,_react.useRef)(0);var inflightValidation=(0,_react.useRef)(null);var debounceTimeout=(0,_react.useRef)(null);var isUnmounted=(0,_react.useRef)(false);var filterErrors=function filterErrors(_errors){var validationTypeToFilterOut=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_constants.VALIDATION_TYPES.FIELD;var validationTypeToArray=Array.isArray(validationTypeToFilterOut)?validationTypeToFilterOut:[validationTypeToFilterOut];return _errors.filter((function(error){return validationTypeToArray.every((function(_type){return error.validationType!==_type}))}))};var formatInputValue=function formatInputValue(inputValue){var isEmptyString=typeof inputValue==="string"&&inputValue.trim()==="";if(isEmptyString){return inputValue}var formData=form.getFormData({unflatten:false});return formatters.reduce((function(output,formatter){return formatter(output,formData)}),inputValue)};var onValueChange=function onValueChange(){var changeIteration,startTime,newValue,delta;return regeneratorRuntime.async((function onValueChange$(_context){while(1){switch(_context.prev=_context.next){case 0:changeIteration=++changeCounter.current;startTime=Date.now();if(debounceTimeout.current){clearTimeout(debounceTimeout.current)}if(errorDisplayDelay>0){setIsChangingValue(true)}newValue=serializeOutput(value);if(valueChangeListener){valueChangeListener(newValue)}form.__updateFormDataAt(path,newValue);_context.next=9;return regeneratorRuntime.awrap(form.__validateFields(fieldsToValidateOnChange));case 9:if(!isUnmounted.current){_context.next=11;break}return _context.abrupt("return");case 11:if(errorDisplayDelay>0&&changeIteration===changeCounter.current){delta=Date.now()-startTime;if(delta<errorDisplayDelay){debounceTimeout.current=setTimeout((function(){debounceTimeout.current=null;setIsChangingValue(false)}),errorDisplayDelay-delta)}else{setIsChangingValue(false)}}case 12:case"end":return _context.stop()}}}))};var cancelInflightValidation=function cancelInflightValidation(){if(inflightValidation.current&&typeof inflightValidation.current.cancel==="function"){inflightValidation.current.cancel();inflightValidation.current=null}};var runValidations=function runValidations(_ref13){var formData=_ref13.formData,valueToValidate=_ref13.value,validationTypeToValidate=_ref13.validationTypeToValidate;clearErrors([_constants.VALIDATION_TYPES.FIELD,_constants.VALIDATION_TYPES.ASYNC]);cancelInflightValidation();var runAsync=function runAsync(){var validationErrors,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,validation,validator,_validation$exitOnFai,exitOnFail,_validation$type,validationType,validationResult;return regeneratorRuntime.async((function runAsync$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:validationErrors=[];_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context2.prev=4;_iterator=validations[Symbol.iterator]();case 6:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context2.next=24;break}validation=_step.value;inflightValidation.current=null;validator=validation.validator,_validation$exitOnFai=validation.exitOnFail,exitOnFail=_validation$exitOnFai===void 0?true:_validation$exitOnFai,_validation$type=validation.type,validationType=_validation$type===void 0?_constants.VALIDATION_TYPES.FIELD:_validation$type;if(!(typeof validationTypeToValidate!=="undefined"&&validationType!==validationTypeToValidate)){_context2.next=12;break}return _context2.abrupt("continue",21);case 12:inflightValidation.current=validator({value:valueToValidate,errors:validationErrors,form:form,formData:formData,path:path});_context2.next=15;return regeneratorRuntime.awrap(inflightValidation.current);case 15:validationResult=_context2.sent;if(validationResult){_context2.next=18;break}return _context2.abrupt("continue",21);case 18:validationErrors.push(_objectSpread({},validationResult,{validationType:validationType||_constants.VALIDATION_TYPES.FIELD}));if(!exitOnFail){_context2.next=21;break}return _context2.abrupt("break",24);case 21:_iteratorNormalCompletion=true;_context2.next=6;break;case 24:_context2.next=30;break;case 26:_context2.prev=26;_context2.t0=_context2["catch"](4);_didIteratorError=true;_iteratorError=_context2.t0;case 30:_context2.prev=30;_context2.prev=31;if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}case 33:_context2.prev=33;if(!_didIteratorError){_context2.next=36;break}throw _iteratorError;case 36:return _context2.finish(33);case 37:return _context2.finish(30);case 38:return _context2.abrupt("return",validationErrors);case 39:case"end":return _context2.stop()}}}),null,null,[[4,26,30,38],[31,,33,37]])};var runSync=function runSync(){var validationErrors=[];var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=validations[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var _validation=_step2.value;var _validator=_validation.validator,_validation$exitOnFai2=_validation.exitOnFail,_exitOnFail=_validation$exitOnFai2===void 0?true:_validation$exitOnFai2,_validation$type2=_validation.type,_validationType=_validation$type2===void 0?_constants.VALIDATION_TYPES.FIELD:_validation$type2;if(typeof validationTypeToValidate!=="undefined"&&_validationType!==validationTypeToValidate){continue}var _validationResult=_validator({value:valueToValidate,errors:validationErrors,form:form,formData:formData,path:path});if(!_validationResult){continue}if(!!_validationResult.then){inflightValidation.current=_validationResult;cancelInflightValidation();return runAsync()}validationErrors.push(_objectSpread({},_validationResult,{validationType:_validationType||_constants.VALIDATION_TYPES.FIELD}));if(_exitOnFail){break}}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}return validationErrors};return runSync()};var clearErrors=function clearErrors(){var validationType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_constants.VALIDATION_TYPES.FIELD;setErrors((function(previousErrors){return filterErrors(previousErrors,validationType)}))};var validate=function validate(){var validationData=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _validationData$formD=validationData.formData,formData=_validationData$formD===void 0?form.getFormData({unflatten:false}):_validationData$formD,_validationData$value=validationData.value,valueToValidate=_validationData$value===void 0?value:_validationData$value,validationType=validationData.validationType;setIsValidated(true);setValidating(true);var validateIteration=++validateCounter.current;var onValidationErrors=function onValidationErrors(_validationErrors){if(validateIteration===validateCounter.current){setValidating(false);var filteredErrors=filterErrors(errors,validationType);setErrors([].concat(_toConsumableArray(filteredErrors),_toConsumableArray(_validationErrors)))}return{isValid:_validationErrors.length===0,errors:_validationErrors}};var validationErrors=runValidations({formData:formData,value:valueToValidate,validationTypeToValidate:validationType});if(validationErrors.then){return validationErrors.then(onValidationErrors)}return onValidationErrors(validationErrors)};var setValue=function setValue(newValue){if(isPristine){setPristine(false)}var formattedValue=formatInputValue(newValue);setStateValue(formattedValue)};var _setErrors=function _setErrors(_errors){setErrors(_errors.map((function(error){return _objectSpread({validationType:_constants.VALIDATION_TYPES.FIELD},error)})))};var onChange=function onChange(event){var newValue={}.hasOwnProperty.call(event.target,"checked")?event.target.checked:event.target.value;setValue(newValue)};var getErrorsMessages=function getErrorsMessages(){var args=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var errorCode=args.errorCode,_args$validationType=args.validationType,validationType=_args$validationType===void 0?_constants.VALIDATION_TYPES.FIELD:_args$validationType;var errorMessages=errors.reduce((function(messages,error){var isSameErrorCode=errorCode&&error.code===errorCode;var isSamevalidationType=error.validationType===validationType||validationType===_constants.VALIDATION_TYPES.FIELD&&!{}.hasOwnProperty.call(error,"validationType");if(isSameErrorCode||typeof errorCode==="undefined"&&isSamevalidationType){return messages?"".concat(messages,", ").concat(error.message):error.message}return messages}),"");return errorMessages?errorMessages:null};var reset=function reset(){var resetOptions=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{resetValue:true};var _resetOptions$resetVa=resetOptions.resetValue,resetValue=_resetOptions$resetVa===void 0?true:_resetOptions$resetVa;setPristine(true);setValidating(false);setIsChangingValue(false);setIsValidated(false);setErrors([]);if(resetValue){setValue(initialValue);return initialValue}return value};var serializeOutput=function serializeOutput(){var rawValue=arguments.length>0&&arguments[0]!==undefined?arguments[0]:value;return serializer(rawValue)};(0,_react.useEffect)((function(){if(isPristine){return}onValueChange();return function(){if(debounceTimeout.current){clearTimeout(debounceTimeout.current)}}}),[value]);var field={path:path,type:type,label:label,labelAppend:labelAppend,helpText:helpText,value:value,errors:errors,form:form,isPristine:isPristine,isValidating:isValidating,isValidated:isValidated,isChangingValue:isChangingValue,onChange:onChange,getErrorsMessages:getErrorsMessages,setValue:setValue,setErrors:_setErrors,clearErrors:clearErrors,validate:validate,reset:reset,__serializeOutput:serializeOutput};form.__addField(field);(0,_react.useEffect)((function(){form.__addField(field);return function(){isUnmounted.current=true;form.__removeField(path)}}),[path]);return field};exports.useField=useField},2123:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}Object.defineProperty(exports,"__esModule",{value:true});exports.useForm=useForm;var _react=__webpack_require__(0);var _lodash=__webpack_require__(3);var _lib=__webpack_require__(2124);var DEFAULT_ERROR_DISPLAY_TIMEOUT=500;var DEFAULT_OPTIONS={errorDisplayDelay:DEFAULT_ERROR_DISPLAY_TIMEOUT,stripEmptyFields:true};function useForm(){var formConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var onSubmit=formConfig.onSubmit,schema=formConfig.schema,_formConfig$serialize=formConfig.serializer,serializer=_formConfig$serialize===void 0?function(data){return data}:_formConfig$serialize,_formConfig$deseriali=formConfig.deserializer,deserializer=_formConfig$deseriali===void 0?function(data){return data}:_formConfig$deseriali,_formConfig$options=formConfig.options,options=_formConfig$options===void 0?{}:_formConfig$options;var formDefaultValue=formConfig.defaultValue===undefined||Object.keys(formConfig.defaultValue).length===0?{}:Object.entries(formConfig.defaultValue).filter((function(_ref){var value=_ref[1];return value!==undefined})).reduce((function(acc,_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1];return _objectSpread({},acc,_defineProperty({},key,value))}),{});var formOptions=_objectSpread({},DEFAULT_OPTIONS,{},options);var defaultValueDeserialized=(0,_react.useMemo)((function(){return deserializer(formDefaultValue)}),[formConfig.defaultValue]);var _ref4=(0,_react.useState)(false),_ref5=_slicedToArray(_ref4,2),isSubmitted=_ref5[0],setIsSubmitted=_ref5[1];var _ref6=(0,_react.useState)(false),_ref7=_slicedToArray(_ref6,2),isSubmitting=_ref7[0],setSubmitting=_ref7[1];var _ref8=(0,_react.useState)(undefined),_ref9=_slicedToArray(_ref8,2),isValid=_ref9[0],setIsValid=_ref9[1];var fieldsRefs=(0,_react.useRef)({});var formUpdateSubscribers=(0,_react.useRef)([]);var isUnmounted=(0,_react.useRef)(false);var formData$=(0,_react.useRef)(new _lib.Subject((0,_lib.flattenObject)(formDefaultValue)));(0,_react.useEffect)((function(){return function(){formUpdateSubscribers.current.forEach((function(subscription){return subscription.unsubscribe()}));formUpdateSubscribers.current=[];isUnmounted.current=true}}),[]);var fieldsToArray=function fieldsToArray(){return Object.values(fieldsRefs.current)};var stripEmptyFields=function stripEmptyFields(fields){if(formOptions.stripEmptyFields){return Object.entries(fields).reduce((function(acc,_ref10){var _ref11=_slicedToArray(_ref10,2),key=_ref11[0],field=_ref11[1];if(typeof field.value!=="string"||field.value.trim()!==""){acc[key]=field}return acc}),{})}return fields};var updateFormDataAt=function updateFormDataAt(path,value){var currentFormData=formData$.current.value;formData$.current.next(_objectSpread({},currentFormData,_defineProperty({},path,value)));return formData$.current.value};var getFormData=function getFormData(){var getDataOptions=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{unflatten:true};return getDataOptions.unflatten?(0,_lib.unflattenObject)((0,_lib.mapFormFields)(stripEmptyFields(fieldsRefs.current),(function(field){return field.__serializeOutput()}))):Object.entries(fieldsRefs.current).reduce((function(acc,_ref12){var _ref13=_slicedToArray(_ref12,2),key=_ref13[0],field=_ref13[1];return _objectSpread({},acc,_defineProperty({},key,field.__serializeOutput()))}),{})};var getErrors=function getErrors(){if(isValid===true){return[]}return fieldsToArray().reduce((function(acc,field){var fieldError=field.getErrorsMessages();if(fieldError===null){return acc}return[].concat(_toConsumableArray(acc),[fieldError])}),[])};var isFieldValid=function isFieldValid(field){return field.getErrorsMessages()===null&&!field.isValidating};var updateFormValidity=function updateFormValidity(){var fieldsArray=fieldsToArray();var areAllFieldsValidated=fieldsArray.every((function(field){return field.isValidated}));if(!areAllFieldsValidated){return undefined}var isFormValid=fieldsArray.every(isFieldValid);setIsValid(isFormValid);return isFormValid};var validateFields=function validateFields(fieldNames){var fieldsToValidate,formData,isFormValid,areFieldsValid;return regeneratorRuntime.async((function validateFields$(_context){while(1){switch(_context.prev=_context.next){case 0:fieldsToValidate=fieldNames.map((function(name){return fieldsRefs.current[name]})).filter((function(field){return field!==undefined}));if(!(fieldsToValidate.length===0)){_context.next=3;break}return _context.abrupt("return",{areFieldsValid:true,isFormValid:true});case 3:formData=getFormData({unflatten:false});_context.next=6;return regeneratorRuntime.awrap(Promise.all(fieldsToValidate.map((function(field){return field.validate({formData:formData})}))));case 6:isFormValid=updateFormValidity();areFieldsValid=fieldsToValidate.every(isFieldValid);return _context.abrupt("return",{areFieldsValid:areFieldsValid,isFormValid:isFormValid});case 9:case"end":return _context.stop()}}}))};var validateAllFields=function validateAllFields(){var fieldsToValidate,_ref14,isFormValid;return regeneratorRuntime.async((function validateAllFields$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fieldsToValidate=fieldsToArray().filter((function(field){return!field.isValidated}));if(!(fieldsToValidate.length===0)){_context2.next=3;break}return _context2.abrupt("return",isValid);case 3:_context2.next=5;return regeneratorRuntime.awrap(validateFields(fieldsToValidate.map((function(field){return field.path}))));case 5:_ref14=_context2.sent;isFormValid=_ref14.isFormValid;return _context2.abrupt("return",isFormValid);case 8:case"end":return _context2.stop()}}}))};var addField=function addField(field){fieldsRefs.current[field.path]=field;if(!{}.hasOwnProperty.call(formData$.current.value,field.path)){var fieldValue=field.__serializeOutput();updateFormDataAt(field.path,fieldValue)}};var removeField=function removeField(_fieldNames){var fieldNames=Array.isArray(_fieldNames)?_fieldNames:[_fieldNames];var currentFormData=_objectSpread({},formData$.current.value);fieldNames.forEach((function(name){delete fieldsRefs.current[name];delete currentFormData[name]}));formData$.current.next(currentFormData);updateFormValidity()};var setFieldValue=function setFieldValue(fieldName,value){if(fieldsRefs.current[fieldName]===undefined){return}fieldsRefs.current[fieldName].setValue(value)};var setFieldErrors=function setFieldErrors(fieldName,errors){if(fieldsRefs.current[fieldName]===undefined){return}fieldsRefs.current[fieldName].setErrors(errors)};var getFields=function getFields(){return fieldsRefs.current};var getFieldDefaultValue=function getFieldDefaultValue(fieldName){return(0,_lodash.get)(defaultValueDeserialized,fieldName)};var readFieldConfigFromSchema=function readFieldConfigFromSchema(fieldName){var config=(0,_lodash.get)(schema?schema:{},fieldName)||{};return config};var submitForm=function submitForm(e){var isFormValid,formData;return regeneratorRuntime.async((function submitForm$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(e){e.preventDefault()}if(!isSubmitted){setIsSubmitted(true)}setSubmitting(true);_context3.next=5;return regeneratorRuntime.awrap(validateAllFields());case 5:isFormValid=_context3.sent;formData=serializer(getFormData());if(!onSubmit){_context3.next=10;break}_context3.next=10;return regeneratorRuntime.awrap(onSubmit(formData,isFormValid));case 10:setSubmitting(false);return _context3.abrupt("return",{data:formData,isValid:isFormValid});case 12:case"end":return _context3.stop()}}}))};var subscribe=function subscribe(handler){var format=function format(){return serializer(getFormData())};var subscription=formData$.current.subscribe((function(raw){if(!isUnmounted.current){handler({isValid:isValid,data:{raw:raw,format:format},validate:validateAllFields})}}));formUpdateSubscribers.current.push(subscription);return subscription};var reset=function reset(){var resetOptions=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{resetValues:true};var _resetOptions$resetVa=resetOptions.resetValues,resetValues=_resetOptions$resetVa===void 0?true:_resetOptions$resetVa;var currentFormData=_objectSpread({},formData$.current.value);Object.entries(fieldsRefs.current).forEach((function(_ref15){var _ref16=_slicedToArray(_ref15,2),path=_ref16[0],field=_ref16[1];var isFieldMounted=fieldsRefs.current[path]!==undefined;if(isFieldMounted){var fieldValue=field.reset({resetValue:resetValues});currentFormData[path]=fieldValue}}));if(resetValues){formData$.current.next(currentFormData)}setIsSubmitted(false);setSubmitting(false);setIsValid(undefined)};var form={isSubmitted:isSubmitted,isSubmitting:isSubmitting,isValid:isValid,submit:submitForm,subscribe:subscribe,setFieldValue:setFieldValue,setFieldErrors:setFieldErrors,getFields:getFields,getFormData:getFormData,getErrors:getErrors,getFieldDefaultValue:getFieldDefaultValue,reset:reset,__options:formOptions,__formData$:formData$,__updateFormDataAt:updateFormDataAt,__readFieldConfigFromSchema:readFieldConfigFromSchema,__addField:addField,__removeField:removeField,__validateFields:validateFields};return{form:form}}},2124:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={Subject:true,Subscription:true};Object.defineProperty(exports,"Subject",{enumerable:true,get:function get(){return _subject.Subject}});Object.defineProperty(exports,"Subscription",{enumerable:true,get:function get(){return _subject.Subscription}});var _subject=__webpack_require__(2125);var _utils=__webpack_require__(2126);Object.keys(_utils).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _utils[key]}})}))},2125:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:true});exports.Subject=void 0;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var Subject=function(){function Subject(value){_classCallCheck(this,Subject);_defineProperty(this,"callbacks",new Set);_defineProperty(this,"value",void 0);this.value=value}_createClass(Subject,[{key:"subscribe",value:function subscribe(fn){var _this=this;this.callbacks.add(fn);setTimeout((function(){fn(_this.value)}));var unsubscribe=function unsubscribe(){return _this.callbacks.delete(fn)};return{unsubscribe:unsubscribe}}},{key:"next",value:function next(value){if(value!==this.value){this.value=value;this.callbacks.forEach((function(fn){return fn(value)}))}}}]);return Subject}();exports.Subject=Subject},2126:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}Object.defineProperty(exports,"__esModule",{value:true});exports.mapFormFields=exports.flattenObject=exports.unflattenObject=void 0;var _lodash=__webpack_require__(3);var unflattenObject=function unflattenObject(object){return Object.entries(object).reduce((function(acc,_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];(0,_lodash.set)(acc,key,value);return acc}),{})};exports.unflattenObject=unflattenObject;var flattenObject=function flattenObject(object){var to=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var paths=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];return Object.entries(object).reduce((function(acc,_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];var updatedPaths=[].concat(_toConsumableArray(paths),[key]);if(value!==null&&!Array.isArray(value)&&_typeof(value)==="object"){return flattenObject(value,to,updatedPaths)}acc[updatedPaths.join(".")]=value;return acc}),to)};exports.flattenObject=flattenObject;var mapFormFields=function mapFormFields(formFields,fn){return Object.entries(formFields).reduce((function(acc,_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],field=_ref6[1];acc[key]=fn(field);return acc}),{})};exports.mapFormFields=mapFormFields},2127:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getFieldValidityAndErrorMessage=void 0;var getFieldValidityAndErrorMessage=function getFieldValidityAndErrorMessage(field){var isInvalid=!field.isChangingValue&&field.errors.length>0;var errorMessage=!field.isChangingValue&&field.errors.length?field.errors[0].message:null;return{isInvalid:isInvalid,errorMessage:errorMessage}};exports.getFieldValidityAndErrorMessage=getFieldValidityAndErrorMessage},2128:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _form=__webpack_require__(2129);Object.keys(_form).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _form[key]}})}));var _use_field=__webpack_require__(1035);Object.keys(_use_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _use_field[key]}})}));var _use_multi_fields=__webpack_require__(2130);Object.keys(_use_multi_fields).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _use_multi_fields[key]}})}));var _use_array=__webpack_require__(2131);Object.keys(_use_array).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _use_array[key]}})}));var _form_data_provider=__webpack_require__(2132);Object.keys(_form_data_provider).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _form_data_provider[key]}})}))},2129:function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.Form=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _form_context=__webpack_require__(407);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Form=function Form(_ref){var form=_ref.form,_ref$FormWrapper=_ref.FormWrapper,FormWrapper=_ref$FormWrapper===void 0?_eui.EuiForm:_ref$FormWrapper,rest=_objectWithoutProperties(_ref,["form","FormWrapper"]);return _react.default.createElement(_form_context.FormProvider,{form:form},_react.default.createElement(FormWrapper,rest))};exports.Form=Form},2130:function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}Object.defineProperty(exports,"__esModule",{value:true});exports.UseMultiFields=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _use_field=__webpack_require__(1035);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UseMultiFields=function UseMultiFields(_ref){var fields=_ref.fields,children=_ref.children;var fieldsArray=Object.entries(fields).reduce((function(acc,_ref2){var _ref3=_slicedToArray(_ref2,2),fieldId=_ref3[0],field=_ref3[1];return[].concat(_toConsumableArray(acc),[_objectSpread({id:fieldId},field)])}),[]);var hookFields={};var renderField=function renderField(index){var id=fieldsArray[index].id;return _react.default.createElement(_use_field.UseField,fields[id],(function(field){hookFields[id]=field;return index===fieldsArray.length-1?children(hookFields):renderField(index+1)}))};if(!Boolean(fieldsArray.length)){return null}return renderField(0)};exports.UseMultiFields=UseMultiFields},2131:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}Object.defineProperty(exports,"__esModule",{value:true});exports.UseArray=void 0;var _react=__webpack_require__(0);var _form_context=__webpack_require__(407);var UseArray=function UseArray(_ref){var path=_ref.path,initialNumberOfItems=_ref.initialNumberOfItems,_ref$readDefaultValue=_ref.readDefaultValueOnForm,readDefaultValueOnForm=_ref$readDefaultValue===void 0?true:_ref$readDefaultValue,children=_ref.children;var didMountRef=(0,_react.useRef)(false);var form=(0,_form_context.useFormContext)();var defaultValues=readDefaultValueOnForm&&form.getFieldDefaultValue(path);var uniqueId=(0,_react.useRef)(0);var getInitialItemsFromValues=function getInitialItemsFromValues(values){return values.map((function(_,index){return{id:uniqueId.current++,path:"".concat(path,"[").concat(index,"]"),isNew:false}}))};var getNewItemAtIndex=function getNewItemAtIndex(index){return{id:uniqueId.current++,path:"".concat(path,"[").concat(index,"]"),isNew:true}};var initialState=defaultValues?getInitialItemsFromValues(defaultValues):new Array(initialNumberOfItems).fill("").map((function(_,i){return getNewItemAtIndex(i)}));var _ref2=(0,_react.useState)(initialState),_ref3=_slicedToArray(_ref2,2),items=_ref3[0],setItems=_ref3[1];var updatePaths=function updatePaths(_rows){return _rows.map((function(row,index){return _objectSpread({},row,{path:"".concat(path,"[").concat(index,"]")})}))};var addItem=function addItem(){setItems((function(previousItems){var itemIndex=previousItems.length;return[].concat(_toConsumableArray(previousItems),[getNewItemAtIndex(itemIndex)])}))};var removeItem=function removeItem(id){setItems((function(previousItems){var updatedItems=previousItems.filter((function(item){return item.id!==id}));return updatePaths(updatedItems)}))};(0,_react.useEffect)((function(){if(didMountRef.current){setItems(updatePaths(items))}else{didMountRef.current=true}}),[path]);return children({items:items,addItem:addItem,removeItem:removeItem})};exports.UseArray=UseArray},2132:function(module,exports,__webpack_require__){"use strict";function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}Object.defineProperty(exports,"__esModule",{value:true});exports.FormDataProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _form_context=__webpack_require__(407);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var FormDataProvider=_react.default.memo((function(_ref){var children=_ref.children,pathsToWatch=_ref.pathsToWatch;var _ref2=(0,_react.useState)({}),_ref3=_slicedToArray(_ref2,2),formData=_ref3[0],setFormData=_ref3[1];var previousRawData=(0,_react.useRef)({});var form=(0,_form_context.useFormContext)();(0,_react.useEffect)((function(){var subscription=form.subscribe((function(_ref4){var raw=_ref4.data.raw;if(pathsToWatch){var valuesToWatchArray=Array.isArray(pathsToWatch)?pathsToWatch:[pathsToWatch];if(valuesToWatchArray.some((function(value){return previousRawData.current[value]!==raw[value]}))){previousRawData.current=raw;setFormData(raw)}}else{setFormData(raw)}}));return subscription.unsubscribe}),[form,pathsToWatch]);return children(formData)}));exports.FormDataProvider=FormDataProvider},2133:function(module,exports,__webpack_require__){"use strict"},2134:function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.TextField=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _hook_form_lib=__webpack_require__(113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var TextField=function TextField(_ref){var field=_ref.field,_ref$euiFieldProps=_ref.euiFieldProps,euiFieldProps=_ref$euiFieldProps===void 0?{}:_ref$euiFieldProps,rest=_objectWithoutProperties(_ref,["field","euiFieldProps"]);var _ref2=(0,_hook_form_lib.getFieldValidityAndErrorMessage)(field),isInvalid=_ref2.isInvalid,errorMessage=_ref2.errorMessage;return _react.default.createElement(_eui.EuiFormRow,{label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,"data-test-subj":rest["data-test-subj"],describedByIds:rest.idAria?[rest.idAria]:undefined},_react.default.createElement(_eui.EuiFieldText,_extends({isInvalid:isInvalid,value:field.value,onChange:field.onChange,isLoading:field.isValidating,fullWidth:true,"data-test-subj":"input"},euiFieldProps)))};exports.TextField=TextField},2135:function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.NumericField=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _hook_form_lib=__webpack_require__(113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var NumericField=function NumericField(_ref){var field=_ref.field,_ref$euiFieldProps=_ref.euiFieldProps,euiFieldProps=_ref$euiFieldProps===void 0?{}:_ref$euiFieldProps,rest=_objectWithoutProperties(_ref,["field","euiFieldProps"]);var _ref2=(0,_hook_form_lib.getFieldValidityAndErrorMessage)(field),isInvalid=_ref2.isInvalid,errorMessage=_ref2.errorMessage;return _react.default.createElement(_eui.EuiFormRow,{label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,"data-test-subj":rest["data-test-subj"],describedByIds:rest.idAria?[rest.idAria]:undefined},_react.default.createElement(_eui.EuiFieldNumber,_extends({isInvalid:isInvalid,value:field.value,onChange:field.onChange,isLoading:field.isValidating,fullWidth:true,"data-test-subj":"input"},euiFieldProps)))};exports.NumericField=NumericField},2136:function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.CheckBoxField=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _uuid=_interopRequireDefault(__webpack_require__(86));var _hook_form_lib=__webpack_require__(113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var CheckBoxField=function CheckBoxField(_ref){var field=_ref.field,_ref$euiFieldProps=_ref.euiFieldProps,euiFieldProps=_ref$euiFieldProps===void 0?{}:_ref$euiFieldProps,rest=_objectWithoutProperties(_ref,["field","euiFieldProps"]);var _ref2=(0,_hook_form_lib.getFieldValidityAndErrorMessage)(field),isInvalid=_ref2.isInvalid,errorMessage=_ref2.errorMessage;return _react.default.createElement(_eui.EuiFormRow,{helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,"data-test-subj":rest["data-test-subj"],describedByIds:rest.idAria?[rest.idAria]:undefined},_react.default.createElement(_eui.EuiCheckbox,_extends({label:field.label,checked:field.value,onChange:field.onChange,id:euiFieldProps.id||(0,_uuid.default)(),"data-test-subj":"input"},euiFieldProps)))};exports.CheckBoxField=CheckBoxField},2137:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.ComboBoxField=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);var _hook_form_lib=__webpack_require__(113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var ComboBoxField=function ComboBoxField(_ref){var field=_ref.field,_ref$euiFieldProps=_ref.euiFieldProps,euiFieldProps=_ref$euiFieldProps===void 0?{}:_ref$euiFieldProps,rest=_objectWithoutProperties(_ref,["field","euiFieldProps"]);var errorMessageField=field.getErrorsMessages();var errorMessageArrayItem=field.getErrorsMessages({validationType:_hook_form_lib.VALIDATION_TYPES.ARRAY_ITEM});var isInvalid=field.errors.length?errorMessageField!==null||errorMessageArrayItem!==null:false;var errorMessage=errorMessageField&&errorMessageArrayItem?"".concat(errorMessageField,", ").concat(errorMessageArrayItem):errorMessageField?errorMessageField:errorMessageArrayItem;var onCreateComboOption=function onCreateComboOption(value){var _field$validate=field.validate({value:value,validationType:_hook_form_lib.VALIDATION_TYPES.ARRAY_ITEM}),isValid=_field$validate.isValid;if(!isValid){return false}var newValue=[].concat(_toConsumableArray(field.value),[value]);field.setValue(newValue)};var onComboChange=function onComboChange(options){field.setValue(options.map((function(option){return option.label})))};var onSearchComboChange=function onSearchComboChange(value){if(value){field.clearErrors(_hook_form_lib.VALIDATION_TYPES.ARRAY_ITEM)}};return _react.default.createElement(_eui.EuiFormRow,{label:field.label,labelAppend:field.labelAppend,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,"data-test-subj":rest["data-test-subj"],describedByIds:rest.idAria?[rest.idAria]:undefined},_react.default.createElement(_eui.EuiComboBox,_extends({noSuggestions:true,placeholder:_i18n.i18n.translate("esUi.forms.comboBoxField.placeHolderText",{defaultMessage:'Type and then hit "ENTER"'}),selectedOptions:field.value.map((function(v){return{label:v}})),onCreateOption:onCreateComboOption,onChange:onComboChange,onSearchChange:onSearchComboChange,fullWidth:true,"data-test-subj":"input"},euiFieldProps)))};exports.ComboBoxField=ComboBoxField},2138:function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.MultiSelectField=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _hook_form_lib=__webpack_require__(113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var MultiSelectField=function MultiSelectField(_ref){var field=_ref.field,_ref$euiFieldProps=_ref.euiFieldProps,euiFieldProps=_ref$euiFieldProps===void 0?{}:_ref$euiFieldProps,rest=_objectWithoutProperties(_ref,["field","euiFieldProps"]);var _ref2=(0,_hook_form_lib.getFieldValidityAndErrorMessage)(field),isInvalid=_ref2.isInvalid,errorMessage=_ref2.errorMessage;return _react.default.createElement(_eui.EuiFormRow,{label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,"data-test-subj":rest["data-test-subj"],describedByIds:rest.idAria?[rest.idAria]:undefined},_react.default.createElement(_eui.EuiSelectable,_extends({allowExclusions:false,height:300,onChange:function onChange(options){field.setValue(options)},options:field.value,"data-test-subj":"select"},euiFieldProps),(function(list,search){return _react.default.createElement(_eui.EuiPanel,{paddingSize:"s",hasShadow:false},search,list)})))};exports.MultiSelectField=MultiSelectField},2139:function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.RadioGroupField=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _hook_form_lib=__webpack_require__(113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var RadioGroupField=function RadioGroupField(_ref){var field=_ref.field,_ref$euiFieldProps=_ref.euiFieldProps,euiFieldProps=_ref$euiFieldProps===void 0?{}:_ref$euiFieldProps,rest=_objectWithoutProperties(_ref,["field","euiFieldProps"]);var _ref2=(0,_hook_form_lib.getFieldValidityAndErrorMessage)(field),isInvalid=_ref2.isInvalid,errorMessage=_ref2.errorMessage;return _react.default.createElement(_eui.EuiFormRow,{label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,"data-test-subj":rest["data-test-subj"],describedByIds:rest.idAria?[rest.idAria]:undefined},_react.default.createElement(_eui.EuiRadioGroup,_extends({idSelected:field.value,options:[],onChange:field.setValue,"data-test-subj":"input"},euiFieldProps)))};exports.RadioGroupField=RadioGroupField},2140:function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.RangeField=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _hook_form_lib=__webpack_require__(113);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var RangeField=function RangeField(_ref){var field=_ref.field,_ref$euiFieldProps=_ref.euiFieldProps,euiFieldProps=_ref$euiFieldProps===void 0?{}:_ref$euiFieldProps,rest=_objectWithoutProperties(_ref,["field","euiFieldProps"]);var _ref2=(0,_hook_form_lib.getFieldValidityAndErrorMessage)(field),isInvalid=_ref2.isInvalid,errorMessage=_ref2.errorMessage;var onChange=(0,_react.useCallback)((function(e){var event=_objectSpread({},e,{value:"".concat(e.currentTarget.value)});field.onChange(event)}),[field.onChange]);return _react.default.createElement(_eui.EuiFormRow,{label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,"data-test-subj":rest["data-test-subj"],describedByIds:rest.idAria?[rest.idAria]:undefined},_react.default.createElement(_eui.EuiRange,_extends({value:field.value,onChange:onChange,max:10,min:0,showRange:true,showInput:true,fullWidth:true,"data-test-subj":"range"},euiFieldProps)))};exports.RangeField=RangeField},2141:function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.SelectField=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _hook_form_lib=__webpack_require__(113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var SelectField=function SelectField(_ref){var field=_ref.field,euiFieldProps=_ref.euiFieldProps,rest=_objectWithoutProperties(_ref,["field","euiFieldProps"]);var _ref2=(0,_hook_form_lib.getFieldValidityAndErrorMessage)(field),isInvalid=_ref2.isInvalid,errorMessage=_ref2.errorMessage;return _react.default.createElement(_eui.EuiFormRow,{label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,"data-test-subj":rest["data-test-subj"],describedByIds:rest.idAria?[rest.idAria]:undefined},_react.default.createElement(_eui.EuiSelect,_extends({fullWidth:true,value:field.value,onChange:function onChange(e){field.setValue(e.target.value)},options:[],hasNoInitialSelection:true,isInvalid:isInvalid,"data-test-subj":"select"},euiFieldProps)))};exports.SelectField=SelectField},2142:function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.SuperSelectField=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _hook_form_lib=__webpack_require__(113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var SuperSelectField=function SuperSelectField(_ref){var field=_ref.field,_ref$euiFieldProps=_ref.euiFieldProps,euiFieldProps=_ref$euiFieldProps===void 0?{options:[]}:_ref$euiFieldProps,rest=_objectWithoutProperties(_ref,["field","euiFieldProps"]);var _ref2=(0,_hook_form_lib.getFieldValidityAndErrorMessage)(field),isInvalid=_ref2.isInvalid,errorMessage=_ref2.errorMessage;return _react.default.createElement(_eui.EuiFormRow,{label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,"data-test-subj":rest["data-test-subj"],describedByIds:rest.idAria?[rest.idAria]:undefined},_react.default.createElement(_eui.EuiSuperSelect,_extends({fullWidth:true,valueOfSelected:field.value,onChange:function onChange(value){field.setValue(value)},isInvalid:isInvalid,"data-test-subj":"select"},euiFieldProps)))};exports.SuperSelectField=SuperSelectField},2143:function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.ToggleField=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _hook_form_lib=__webpack_require__(113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var ToggleField=function ToggleField(_ref){var field=_ref.field,_ref$euiFieldProps=_ref.euiFieldProps,euiFieldProps=_ref$euiFieldProps===void 0?{}:_ref$euiFieldProps,rest=_objectWithoutProperties(_ref,["field","euiFieldProps"]);var _ref2=(0,_hook_form_lib.getFieldValidityAndErrorMessage)(field),isInvalid=_ref2.isInvalid,errorMessage=_ref2.errorMessage;var onChange=function onChange(e){var event=_objectSpread({},e,{value:"".concat(e.target.checked)});field.onChange(event)};return _react.default.createElement(_eui.EuiFormRow,{helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,"data-test-subj":rest["data-test-subj"],describedByIds:rest.idAria?[rest.idAria]:undefined},_react.default.createElement(_eui.EuiSwitch,_extends({label:field.label,checked:field.value,onChange:onChange,"data-test-subj":"input"},euiFieldProps)))};exports.ToggleField=ToggleField},2144:function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.TextAreaField=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _hook_form_lib=__webpack_require__(113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var TextAreaField=function TextAreaField(_ref){var field=_ref.field,_ref$euiFieldProps=_ref.euiFieldProps,euiFieldProps=_ref$euiFieldProps===void 0?{}:_ref$euiFieldProps,rest=_objectWithoutProperties(_ref,["field","euiFieldProps"]);var _ref2=(0,_hook_form_lib.getFieldValidityAndErrorMessage)(field),isInvalid=_ref2.isInvalid,errorMessage=_ref2.errorMessage;return _react.default.createElement(_eui.EuiFormRow,{label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,"data-test-subj":rest["data-test-subj"],describedByIds:rest.idAria?[rest.idAria]:undefined},_react.default.createElement(_eui.EuiTextArea,_extends({isInvalid:isInvalid,value:field.value,onChange:field.onChange,fullWidth:true,"data-test-subj":"input"},euiFieldProps)))};exports.TextAreaField=TextAreaField},2145:function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.JsonEditorField=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _public=__webpack_require__(988);var _hook_form_lib=__webpack_require__(113);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var JsonEditorField=function JsonEditorField(_ref){var field=_ref.field,rest=_objectWithoutProperties(_ref,["field"]);var _ref2=(0,_hook_form_lib.getFieldValidityAndErrorMessage)(field),errorMessage=_ref2.errorMessage;var label=field.label,helpText=field.helpText,value=field.value,setValue=field.setValue;var onJsonUpdate=(0,_react.useCallback)((function(updatedJson){setValue(updatedJson.data.raw)}),[setValue]);return _react.default.createElement(_public.JsonEditor,_extends({label:label,helpText:helpText,value:value,onUpdate:onJsonUpdate,error:errorMessage},rest))};exports.JsonEditorField=JsonEditorField},2146:function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.getFormRow=exports.FormRow=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _field=__webpack_require__(1036);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var FormRow=function FormRow(_ref){var title=_ref.title,idAria=_ref.idAria,description=_ref.description,field=_ref.field,children=_ref.children,_ref$titleTag=_ref.titleTag,titleTag=_ref$titleTag===void 0?"h4":_ref$titleTag,rest=_objectWithoutProperties(_ref,["title","idAria","description","field","children","titleTag"]);var titleWrapped=title;var isTitleString=typeof title==="string"||title.type.name==="FormattedMessage";if(isTitleString){var titleWithHTag=_react.default.createElement(titleTag,undefined,title);titleWrapped=_react.default.createElement(_eui.EuiTitle,{size:"s"},titleWithHTag)}if(!children&&!field){throw new Error("You need to provide either children or a field to the FormRow")}return _react.default.createElement(_eui.EuiDescribedFormGroup,{title:titleWrapped,description:description,idAria:idAria,fullWidth:true},children?children:_react.default.createElement(_field.Field,_extends({field:field,idAria:idAria},rest)))};exports.FormRow=FormRow;var getFormRow=function getFormRow(partialProps){return function(props){var componentProps=_objectSpread({},partialProps,{},props);return _react.default.createElement(FormRow,componentProps)}};exports.getFormRow=getFormRow},2147:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _empty_field=__webpack_require__(2148);Object.keys(_empty_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _empty_field[key]}})}));var _min_length=__webpack_require__(2152);Object.keys(_min_length).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _min_length[key]}})}));var _min_selectable_selection=__webpack_require__(2153);Object.keys(_min_selectable_selection).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _min_selectable_selection[key]}})}));var _url=__webpack_require__(2154);Object.keys(_url).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _url[key]}})}));var _index_name=__webpack_require__(2155);Object.keys(_index_name).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _index_name[key]}})}));var _contains_char=__webpack_require__(2156);Object.keys(_contains_char).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _contains_char[key]}})}));var _starts_with=__webpack_require__(2157);Object.keys(_starts_with).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _starts_with[key]}})}));var _index_pattern_field=__webpack_require__(2158);Object.keys(_index_pattern_field).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _index_pattern_field[key]}})}));var _lowercase_string=__webpack_require__(2159);Object.keys(_lowercase_string).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _lowercase_string[key]}})}));var _is_json=__webpack_require__(2160);Object.keys(_is_json).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _is_json[key]}})}));var _number_greater_than=__webpack_require__(2161);Object.keys(_number_greater_than).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _number_greater_than[key]}})}));var _number_smaller_than=__webpack_require__(2164);Object.keys(_number_smaller_than).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _number_smaller_than[key]}})}))},2148:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.emptyField=void 0;var _string=__webpack_require__(164);var _array=__webpack_require__(688);var emptyField=function emptyField(message){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var _args$=args[0],value=_args$.value,path=_args$.path;if(typeof value==="string"){return(0,_string.isEmptyString)(value)?{code:"ERR_FIELD_MISSING",path:path,message:message}:undefined}if(Array.isArray(value)){return(0,_array.isEmptyArray)(value)?{code:"ERR_FIELD_MISSING",path:path,message:message}:undefined}}};exports.emptyField=emptyField},2149:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasMaxLengthArray=void 0;var hasMaxLengthArray=function hasMaxLengthArray(){var length=arguments.length>0&&arguments[0]!==undefined?arguments[0]:5;return function(value){return value.length<=length}};exports.hasMaxLengthArray=hasMaxLengthArray},2150:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasMinLengthArray=void 0;var hasMinLengthArray=function hasMinLengthArray(){var length=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return function(value){return value.length>=length}};exports.hasMinLengthArray=hasMinLengthArray},2151:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isEmptyArray=void 0;var isEmptyArray=function isEmptyArray(value){return value.length===0};exports.isEmptyArray=isEmptyArray},2152:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.minLengthField=void 0;var _string=__webpack_require__(164);var _array=__webpack_require__(688);var minLengthField=function minLengthField(_ref){var _ref$length=_ref.length,length=_ref$length===void 0?0:_ref$length,message=_ref.message;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var value=args[0].value;if(Array.isArray(value)){return(0,_array.hasMinLengthArray)(length)(value)?undefined:{code:"ERR_MIN_LENGTH",length:length,message:typeof message==="function"?message({length:length}):message}}return(0,_string.hasMinLengthString)(length)(value.trim())?undefined:{code:"ERR_MIN_LENGTH",length:length,message:typeof message==="function"?message({length:length}):message}}};exports.minLengthField=minLengthField},2153:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.minSelectableSelectionField=void 0;var _array=__webpack_require__(688);var _serializers=__webpack_require__(1038);var optionsToSelectedValue=_serializers.multiSelectComponent.optionsToSelectedValue;var minSelectableSelectionField=function minSelectableSelectionField(_ref){var _ref$total=_ref.total,total=_ref$total===void 0?0:_ref$total,message=_ref.message;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var value=args[0].value;return(0,_array.hasMinLengthArray)(total)(optionsToSelectedValue(value))?undefined:{code:"ERR_MIN_SELECTION",total:total,message:typeof message==="function"?message({length:length}):message}}};exports.minSelectableSelectionField=minSelectableSelectionField},2154:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.urlField=void 0;var _string=__webpack_require__(164);var urlField=function urlField(message){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var value=args[0].value;var error={code:"ERR_FIELD_FORMAT",formatType:"URL",message:message};if(typeof value!=="string"){return error}return(0,_string.isUrl)(value)?undefined:error}};exports.urlField=urlField},2155:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexNameField=void 0;var _string=__webpack_require__(164);var INDEX_ILLEGAL_CHARACTERS=["\\","/","?",'"',"<",">","|","*"];var indexNameField=function indexNameField(i18n){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var value=args[0].value;if((0,_string.startsWith)(".")(value)){return{code:"ERR_FIELD_FORMAT",formatType:"INDEX_NAME",message:i18n.translate("esUi.forms.fieldValidation.indexNameStartsWithDotError",{defaultMessage:"The index name cannot start with a dot (.)."})}}var _ref=(0,_string.containsChars)(" ")(value),doesContainSpaces=_ref.doesContain;if(doesContainSpaces){return{code:"ERR_FIELD_FORMAT",formatType:"INDEX_NAME",message:i18n.translate("esUi.forms.fieldValidation.indexNameSpacesError",{defaultMessage:"The index name cannot contain spaces."})}}var _ref2=(0,_string.containsChars)(INDEX_ILLEGAL_CHARACTERS)(value),charsFound=_ref2.charsFound,doesContain=_ref2.doesContain;if(doesContain){return{message:i18n.translate("esUi.forms.fieldValidation.indexNameInvalidCharactersError",{defaultMessage:"The index name contains the invalid {characterListLength, plural, one {character} other {characters}} { characterList }.",values:{characterList:charsFound.join(" "),characterListLength:charsFound.length}})}}}};exports.indexNameField=indexNameField},2156:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.containsCharsField=void 0;var _string=__webpack_require__(164);var containsCharsField=function containsCharsField(_ref){var message=_ref.message,chars=_ref.chars;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var value=args[0].value;if(typeof value!=="string"){return}var _ref2=(0,_string.containsChars)(chars)(value),doesContain=_ref2.doesContain,charsFound=_ref2.charsFound;if(doesContain){return{code:"ERR_INVALID_CHARS",charsFound:charsFound,message:typeof message==="function"?message({charsFound:charsFound}):message}}}};exports.containsCharsField=containsCharsField},2157:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startsWithField=void 0;var _string=__webpack_require__(164);var startsWithField=function startsWithField(_ref){var message=_ref.message,char=_ref.char;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var value=args[0].value;if(typeof value!=="string"){return}if((0,_string.startsWith)(char)(value)){return{code:"ERR_FIRST_CHAR",char:char,message:message}}}};exports.startsWithField=startsWithField},2158:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexPatternField=void 0;var _string=__webpack_require__(164);var _public=__webpack_require__(11);var indexPatternField=function indexPatternField(i18n){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var value=args[0].value;if(typeof value!=="string"){return}var _ref=(0,_string.containsChars)(" ")(value),doesContain=_ref.doesContain;if(doesContain){return{code:"ERR_FIELD_FORMAT",formatType:"INDEX_PATTERN",message:i18n.translate("esUi.forms.fieldValidation.indexPatternSpacesError",{defaultMessage:"The index pattern cannot contain spaces."})}}var errors=_public.indexPatterns.validate(value);if(errors[_public.indexPatterns.ILLEGAL_CHARACTERS_KEY]){return{code:"ERR_FIELD_FORMAT",formatType:"INDEX_PATTERN",message:i18n.translate("esUi.forms.fieldValidation.indexPatternInvalidCharactersError",{defaultMessage:"The index pattern contains the invalid {characterListLength, plural, one {character} other {characters}} { characterList }.",values:{characterList:errors[_public.indexPatterns.ILLEGAL_CHARACTERS_KEY].join(" "),characterListLength:errors[_public.indexPatterns.ILLEGAL_CHARACTERS_KEY].length}})}}}};exports.indexPatternField=indexPatternField},2159:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.lowerCaseStringField=void 0;var _string=__webpack_require__(164);var lowerCaseStringField=function lowerCaseStringField(message){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var value=args[0].value;if(typeof value!=="string"){return}if(!(0,_string.isLowerCaseString)(value)){return{code:"ERR_LOWERCASE_STRING",message:message}}}};exports.lowerCaseStringField=lowerCaseStringField},2160:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isJsonField=void 0;var _string=__webpack_require__(164);var isJsonField=function isJsonField(message){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var value=args[0].value;if(typeof value!=="string"){return}if(!(0,_string.isJSON)(value)){return{code:"ERR_JSON_FORMAT",message:message}}}};exports.isJsonField=isJsonField},2161:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.numberGreaterThanField=void 0;var _number=__webpack_require__(1039);var numberGreaterThanField=function numberGreaterThanField(_ref){var than=_ref.than,message=_ref.message,_ref$allowEquality=_ref.allowEquality,allowEquality=_ref$allowEquality===void 0?false:_ref$allowEquality;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var value=args[0].value;return(0,_number.isNumberGreaterThan)(than,allowEquality)(value)?undefined:{code:"ERR_GREATER_THAN_NUMBER",than:than,message:typeof message==="function"?message({than:than}):message}}};exports.numberGreaterThanField=numberGreaterThanField},2162:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isNumberGreaterThan=void 0;var isNumberGreaterThan=function isNumberGreaterThan(than){var allowEquality=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return function(value){return allowEquality?value>=than:value>than}};exports.isNumberGreaterThan=isNumberGreaterThan},2163:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isNumberSmallerThan=void 0;var isNumberSmallerThan=function isNumberSmallerThan(than){var allowEquality=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return function(value){return allowEquality?value<=than:value<than}};exports.isNumberSmallerThan=isNumberSmallerThan},2164:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.numberSmallerThanField=void 0;var _number=__webpack_require__(1039);var numberSmallerThanField=function numberSmallerThanField(_ref){var than=_ref.than,message=_ref.message,_ref$allowEquality=_ref.allowEquality,allowEquality=_ref$allowEquality===void 0?false:_ref$allowEquality;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var value=args[0].value;return(0,_number.isNumberSmallerThan)(than,allowEquality)(value)?undefined:{code:"ERR_SMALLER_THAN_NUMBER",than:than,message:typeof message==="function"?message({than:than}):message}}};exports.numberSmallerThanField=numberSmallerThanField},2165:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toInt=void 0;var toInt=function toInt(value){return parseFloat(value)};exports.toInt=toInt},2166:function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.multiSelectComponent=void 0;var multiSelectComponent={selectedValueToOptions:function selectedValueToOptions(selectOptions){return function(defaultFormValue){if(!defaultFormValue){return selectOptions}return selectOptions.map((function(option){return _objectSpread({},option,{checked:defaultFormValue.includes(option.label)?"on":undefined})}))}}};exports.multiSelectComponent=multiSelectComponent},2170:function(module,exports,__webpack_require__){module.exports=__webpack_require__(36)(2323)},227:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nonSerializableInstances=nonSerializableInstances;exports.setEventHandlers=exports.cancelRequest=exports.unregisterCancelCallback=exports.registerCancelCallback=exports.getEventHandlers=exports.getCancelRequestCallbacks=exports.getInspectorAdapters=void 0;var _chrome=_interopRequireDefault(__webpack_require__(8));var _adapters=__webpack_require__(704);var _map_adapter=__webpack_require__(2057);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var REGISTER_CANCEL_CALLBACK="REGISTER_CANCEL_CALLBACK";var UNREGISTER_CANCEL_CALLBACK="UNREGISTER_CANCEL_CALLBACK";var SET_EVENT_HANDLERS="SET_EVENT_HANDLERS";function createInspectorAdapters(){var inspectorAdapters={requests:new _adapters.RequestAdapter};if(_chrome.default.getInjected("showMapsInspectorAdapter",false)){inspectorAdapters.map=new _map_adapter.MapAdapter}return inspectorAdapters}function nonSerializableInstances(state){var action=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!state){return{inspectorAdapters:createInspectorAdapters(),cancelRequestCallbacks:new Map,eventHandlers:{}}}switch(action.type){case REGISTER_CANCEL_CALLBACK:state.cancelRequestCallbacks.set(action.requestToken,action.callback);return _objectSpread({},state);case UNREGISTER_CANCEL_CALLBACK:state.cancelRequestCallbacks.delete(action.requestToken);return _objectSpread({},state);case SET_EVENT_HANDLERS:{return _objectSpread({},state,{eventHandlers:action.eventHandlers})}default:return state}}var getInspectorAdapters=function getInspectorAdapters(_ref){var nonSerializableInstances=_ref.nonSerializableInstances;return nonSerializableInstances.inspectorAdapters};exports.getInspectorAdapters=getInspectorAdapters;var getCancelRequestCallbacks=function getCancelRequestCallbacks(_ref2){var nonSerializableInstances=_ref2.nonSerializableInstances;return nonSerializableInstances.cancelRequestCallbacks};exports.getCancelRequestCallbacks=getCancelRequestCallbacks;var getEventHandlers=function getEventHandlers(_ref3){var nonSerializableInstances=_ref3.nonSerializableInstances;return nonSerializableInstances.eventHandlers};exports.getEventHandlers=getEventHandlers;var registerCancelCallback=function registerCancelCallback(requestToken,callback){return{type:REGISTER_CANCEL_CALLBACK,requestToken:requestToken,callback:callback}};exports.registerCancelCallback=registerCancelCallback;var unregisterCancelCallback=function unregisterCancelCallback(requestToken){return{type:UNREGISTER_CANCEL_CALLBACK,requestToken:requestToken}};exports.unregisterCancelCallback=unregisterCancelCallback;var cancelRequest=function cancelRequest(requestToken){return function(dispatch,getState){if(!requestToken){return}var cancelCallback=getCancelRequestCallbacks(getState()).get(requestToken);if(cancelCallback){cancelCallback();dispatch(unregisterCancelCallback(requestToken))}}};exports.cancelRequest=cancelRequest;var setEventHandlers=function setEventHandlers(){var eventHandlers=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{type:SET_EVENT_HANDLERS,eventHandlers:eventHandlers}};exports.setEventHandlers=setEventHandlers},2295:function(module,exports,__webpack_require__){module.exports=__webpack_require__(36)(467)},2296:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(1785)},249:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VectorStyle=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _vector_style_editor=__webpack_require__(1960);var _vector_style_defaults=__webpack_require__(147);var _abstract_style=__webpack_require__(1007);var _constants=__webpack_require__(25);var _vector_icon=__webpack_require__(1008);var _vector_style_legend=__webpack_require__(1981);var _vector_feature_types=__webpack_require__(273);var _vector_constants=__webpack_require__(510);var _symbol_utils=__webpack_require__(405);var _style_util=__webpack_require__(328);var _static_style_property=__webpack_require__(329);var _dynamic_style_property=__webpack_require__(274);var _dynamic_size_property=__webpack_require__(1985);var _static_size_property=__webpack_require__(1986);var _static_color_property=__webpack_require__(1987);var _dynamic_color_property=__webpack_require__(1988);var _static_orientation_property=__webpack_require__(1989);var _dynamic_orientation_property=__webpack_require__(1990);var _static_text_property=__webpack_require__(1991);var _dynamic_text_property=__webpack_require__(1992);var _label_border_size_property=__webpack_require__(1993);var _extract_color_from_style_property=__webpack_require__(1994);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var POINTS=[_constants.GEO_JSON_TYPE.POINT,_constants.GEO_JSON_TYPE.MULTI_POINT];var LINES=[_constants.GEO_JSON_TYPE.LINE_STRING,_constants.GEO_JSON_TYPE.MULTI_LINE_STRING];var POLYGONS=[_constants.GEO_JSON_TYPE.POLYGON,_constants.GEO_JSON_TYPE.MULTI_POLYGON];var VectorStyle=function(_AbstractStyle){_inherits(VectorStyle,_AbstractStyle);_createClass(VectorStyle,null,[{key:"createDescriptor",value:function createDescriptor(){var properties=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var isTimeAware=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return{type:VectorStyle.type,properties:_objectSpread({},(0,_vector_style_defaults.getDefaultProperties)(),{},properties),isTimeAware:isTimeAware}}},{key:"createDefaultStyleProperties",value:function createDefaultStyleProperties(mapColors){return(0,_vector_style_defaults.getDefaultProperties)(mapColors)}}]);function VectorStyle(){var _this;var descriptor=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var source=arguments.length>1?arguments[1]:undefined;var layer=arguments.length>2?arguments[2]:undefined;_classCallCheck(this,VectorStyle);_this=_possibleConstructorReturn(this,_getPrototypeOf(VectorStyle).call(this));_defineProperty(_assertThisInitialized(_this),"_getIsPointsOnly",(function(){return _lodash.default.get(_this._getStyleMeta(),"geometryTypes.isPointsOnly",false)}));_defineProperty(_assertThisInitialized(_this),"_getIsLinesOnly",(function(){return _lodash.default.get(_this._getStyleMeta(),"geometryTypes.isLinesOnly",false)}));_defineProperty(_assertThisInitialized(_this),"_getIsPolygonsOnly",(function(){return _lodash.default.get(_this._getStyleMeta(),"geometryTypes.isPolygonsOnly",false)}));_defineProperty(_assertThisInitialized(_this),"_getFieldMeta",(function(fieldName){var fieldMetaFromLocalFeatures=_lodash.default.get(_this._descriptor,["__styleMeta",fieldName]);var dynamicProp=_this._getDynamicPropertyByFieldName(fieldName);if(!dynamicProp||!dynamicProp.isFieldMetaEnabled()){return fieldMetaFromLocalFeatures}var dataRequestId;if(dynamicProp.getFieldOrigin()===_constants.FIELD_ORIGIN.SOURCE){dataRequestId=_constants.SOURCE_META_ID_ORIGIN}else{var join=_this._layer.getValidJoins().find((function(join){return join.getRightJoinSource().hasMatchingMetricField(fieldName)}));if(join){dataRequestId=join.getSourceMetaDataRequestId()}}if(!dataRequestId){return fieldMetaFromLocalFeatures}var styleMetaDataRequest=_this._layer._findDataRequestById(dataRequestId);if(!styleMetaDataRequest||!styleMetaDataRequest.hasData()){return fieldMetaFromLocalFeatures}var data=styleMetaDataRequest.getData();var fieldMeta=dynamicProp.pluckStyleMetaFromFieldMetaData(data);return fieldMeta?fieldMeta:fieldMetaFromLocalFeatures}));_defineProperty(_assertThisInitialized(_this),"_getFieldFormatter",(function(fieldName){var dynamicProp=_this._getDynamicPropertyByFieldName(fieldName);if(!dynamicProp){return null}var dataRequestId;if(dynamicProp.getFieldOrigin()===_constants.FIELD_ORIGIN.SOURCE){dataRequestId=_constants.SOURCE_FORMATTERS_ID_ORIGIN}else{var join=_this._layer.getValidJoins().find((function(join){return join.getRightJoinSource().hasMatchingMetricField(fieldName)}));if(join){dataRequestId=join.getSourceFormattersDataRequestId()}}if(!dataRequestId){return null}var formattersDataRequest=_this._layer._findDataRequestById(dataRequestId);if(!formattersDataRequest||!formattersDataRequest.hasData()){return null}var formatters=formattersDataRequest.getData();return formatters[fieldName]}));_defineProperty(_assertThisInitialized(_this),"_getStyleMeta",(function(){return _lodash.default.get(_this._descriptor,"__styleMeta",{})}));_defineProperty(_assertThisInitialized(_this),"getIcon",(function(){var isLinesOnly=_this._getIsLinesOnly();var strokeColor=isLinesOnly?(0,_extract_color_from_style_property.extractColorFromStyleProperty)(_this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.LINE_COLOR],"grey"):(0,_extract_color_from_style_property.extractColorFromStyleProperty)(_this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.LINE_COLOR],"none");var fillColor=isLinesOnly?null:(0,_extract_color_from_style_property.extractColorFromStyleProperty)(_this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.FILL_COLOR],"grey");return _react.default.createElement(_vector_icon.VectorIcon,{isPointsOnly:_this._getIsPointsOnly(),isLinesOnly:isLinesOnly,symbolId:_this._getSymbolId(),strokeColor:strokeColor,fillColor:fillColor})}));_defineProperty(_assertThisInitialized(_this),"_getLegendDetailStyleProperties",(function(){return _this.getDynamicPropertiesArray().filter((function(styleProperty){var styleName=styleProperty.getStyleName();if([_vector_style_defaults.VECTOR_STYLES.ICON_ORIENTATION,_vector_style_defaults.VECTOR_STYLES.LABEL_TEXT].includes(styleName)){return false}if(_this._getIsLinesOnly()){return _vector_style_defaults.LINE_STYLES.includes(styleName)}if(_this._getIsPolygonsOnly()){return _vector_style_defaults.POLYGON_STYLES.includes(styleName)}return true}))}));_this._source=source;_this._layer=layer;_this._descriptor=_objectSpread({},descriptor,{},VectorStyle.createDescriptor(descriptor.properties,descriptor.isTimeAware));_this._lineColorStyleProperty=_this._makeColorProperty(_this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.LINE_COLOR],_vector_style_defaults.VECTOR_STYLES.LINE_COLOR);_this._fillColorStyleProperty=_this._makeColorProperty(_this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.FILL_COLOR],_vector_style_defaults.VECTOR_STYLES.FILL_COLOR);_this._lineWidthStyleProperty=_this._makeSizeProperty(_this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.LINE_WIDTH],_vector_style_defaults.VECTOR_STYLES.LINE_WIDTH);_this._iconSizeStyleProperty=_this._makeSizeProperty(_this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.ICON_SIZE],_vector_style_defaults.VECTOR_STYLES.ICON_SIZE,_this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.SYMBOL].options.symbolizeAs===_vector_constants.SYMBOLIZE_AS_ICON);_this._iconOrientationProperty=_this._makeOrientationProperty(_this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.ICON_ORIENTATION],_vector_style_defaults.VECTOR_STYLES.ICON_ORIENTATION);_this._labelStyleProperty=_this._makeLabelProperty(_this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.LABEL_TEXT]);_this._labelSizeStyleProperty=_this._makeSizeProperty(_this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.LABEL_SIZE],_vector_style_defaults.VECTOR_STYLES.LABEL_SIZE);_this._labelColorStyleProperty=_this._makeColorProperty(_this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.LABEL_COLOR],_vector_style_defaults.VECTOR_STYLES.LABEL_COLOR);_this._labelBorderColorStyleProperty=_this._makeColorProperty(_this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.LABEL_BORDER_COLOR],_vector_style_defaults.VECTOR_STYLES.LABEL_BORDER_COLOR);_this._labelBorderSizeStyleProperty=new _label_border_size_property.LabelBorderSizeProperty(_this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.LABEL_BORDER_SIZE].options,_vector_style_defaults.VECTOR_STYLES.LABEL_BORDER_SIZE,_this._labelSizeStyleProperty);return _this}_createClass(VectorStyle,[{key:"_getAllStyleProperties",value:function _getAllStyleProperties(){return[this._lineColorStyleProperty,this._fillColorStyleProperty,this._lineWidthStyleProperty,this._iconSizeStyleProperty,this._iconOrientationProperty,this._labelStyleProperty,this._labelSizeStyleProperty,this._labelColorStyleProperty,this._labelBorderColorStyleProperty,this._labelBorderSizeStyleProperty]}},{key:"renderEditor",value:function renderEditor(_ref){var _this2=this;var layer=_ref.layer,onStyleDescriptorChange=_ref.onStyleDescriptorChange;var rawProperties=this.getRawProperties();var handlePropertyChange=function handlePropertyChange(propertyName,settings){rawProperties[propertyName]=settings;var vectorStyleDescriptor=VectorStyle.createDescriptor(rawProperties,_this2.isTimeAware());onStyleDescriptorChange(vectorStyleDescriptor)};var onIsTimeAwareChange=function onIsTimeAwareChange(isTimeAware){var vectorStyleDescriptor=VectorStyle.createDescriptor(rawProperties,isTimeAware);onStyleDescriptorChange(vectorStyleDescriptor)};var propertiesWithFieldMeta=this.getDynamicPropertiesArray().filter((function(dynamicStyleProp){return dynamicStyleProp.isFieldMetaEnabled()}));var styleProperties={};this._getAllStyleProperties().forEach((function(styleProperty){styleProperties[styleProperty.getStyleName()]=styleProperty}));return _react.default.createElement(_vector_style_editor.VectorStyleEditor,{handlePropertyChange:handlePropertyChange,styleProperties:styleProperties,symbolDescriptor:this._descriptor.properties[_vector_style_defaults.VECTOR_STYLES.SYMBOL],layer:layer,isPointsOnly:this._getIsPointsOnly(),isLinesOnly:this._getIsLinesOnly(),onIsTimeAwareChange:onIsTimeAwareChange,isTimeAware:this.isTimeAware(),showIsTimeAware:propertiesWithFieldMeta.length>0})}},{key:"getDescriptorWithMissingStylePropsRemoved",value:function getDescriptorWithMissingStylePropsRemoved(nextFields){var originalProperties=this.getRawProperties();var updatedProperties={};var dynamicProperties=Object.keys(originalProperties).filter((function(key){var _ref2=originalProperties[key]||{},type=_ref2.type,options=_ref2.options;return type===_constants.STYLE_TYPE.DYNAMIC&&options.field&&options.field.name}));dynamicProperties.forEach((function(key){var dynamicProperty=originalProperties[key];var fieldName=dynamicProperty&&dynamicProperty.options.field&&dynamicProperty.options.field.name;if(!fieldName){return}var matchingOrdinalField=nextFields.find((function(ordinalField){return fieldName===ordinalField.getName()}));if(matchingOrdinalField){return}updatedProperties[key]={type:_dynamic_style_property.DynamicStyleProperty.type,options:_objectSpread({},originalProperties[key].options)};delete updatedProperties[key].options.field}));if(Object.keys(updatedProperties).length===0){return{hasChanges:false,nextStyleDescriptor:_objectSpread({},this._descriptor)}}return{hasChanges:true,nextStyleDescriptor:VectorStyle.createDescriptor(_objectSpread({},originalProperties,{},updatedProperties),this.isTimeAware())}}},{key:"pluckStyleMetaFromSourceDataRequest",value:function pluckStyleMetaFromSourceDataRequest(sourceDataRequest){var _hasFeatureType;var features,supportedFeatures,hasFeatureType,i,feature,featuresMeta,dynamicProperties;return regeneratorRuntime.async((function pluckStyleMetaFromSourceDataRequest$(_context){while(1){switch(_context.prev=_context.next){case 0:features=_lodash.default.get(sourceDataRequest.getData(),"features",[]);_context.next=3;return regeneratorRuntime.awrap(this._source.getSupportedShapeTypes());case 3:supportedFeatures=_context.sent;hasFeatureType=(_hasFeatureType={},_defineProperty(_hasFeatureType,_vector_feature_types.VECTOR_SHAPE_TYPES.POINT,false),_defineProperty(_hasFeatureType,_vector_feature_types.VECTOR_SHAPE_TYPES.LINE,false),_defineProperty(_hasFeatureType,_vector_feature_types.VECTOR_SHAPE_TYPES.POLYGON,false),_hasFeatureType);if(supportedFeatures.length>1){for(i=0;i<features.length;i++){feature=features[i];if(!hasFeatureType[_vector_feature_types.VECTOR_SHAPE_TYPES.POINT]&&POINTS.includes(feature.geometry.type)){hasFeatureType[_vector_feature_types.VECTOR_SHAPE_TYPES.POINT]=true}if(!hasFeatureType[_vector_feature_types.VECTOR_SHAPE_TYPES.LINE]&&LINES.includes(feature.geometry.type)){hasFeatureType[_vector_feature_types.VECTOR_SHAPE_TYPES.LINE]=true}if(!hasFeatureType[_vector_feature_types.VECTOR_SHAPE_TYPES.POLYGON]&&POLYGONS.includes(feature.geometry.type)){hasFeatureType[_vector_feature_types.VECTOR_SHAPE_TYPES.POLYGON]=true}}}featuresMeta={geometryTypes:{isPointsOnly:(0,_style_util.isOnlySingleFeatureType)(_vector_feature_types.VECTOR_SHAPE_TYPES.POINT,supportedFeatures,hasFeatureType),isLinesOnly:(0,_style_util.isOnlySingleFeatureType)(_vector_feature_types.VECTOR_SHAPE_TYPES.LINE,supportedFeatures,hasFeatureType),isPolygonsOnly:(0,_style_util.isOnlySingleFeatureType)(_vector_feature_types.VECTOR_SHAPE_TYPES.POLYGON,supportedFeatures,hasFeatureType)}};dynamicProperties=this.getDynamicPropertiesArray();if(!(dynamicProperties.length===0||features.length===0)){_context.next=10;break}return _context.abrupt("return",featuresMeta);case 10:dynamicProperties.forEach((function(dynamicProperty){var styleMeta=dynamicProperty.pluckStyleMetaFromFeatures(features);if(styleMeta){var name=dynamicProperty.getField().getName();featuresMeta[name]=styleMeta}}));return _context.abrupt("return",featuresMeta);case 12:case"end":return _context.stop()}}}),null,this)}},{key:"getSourceFieldNames",value:function getSourceFieldNames(){var fieldNames=[];this.getDynamicPropertiesArray().forEach((function(styleProperty){if(styleProperty.getFieldOrigin()===_constants.FIELD_ORIGIN.SOURCE){fieldNames.push(styleProperty.getField().getName())}}));return fieldNames}},{key:"isTimeAware",value:function isTimeAware(){return this._descriptor.isTimeAware}},{key:"getRawProperties",value:function getRawProperties(){return this._descriptor.properties||{}}},{key:"getDynamicPropertiesArray",value:function getDynamicPropertiesArray(){var styleProperties=this._getAllStyleProperties();return styleProperties.filter((function(styleProperty){return styleProperty.isDynamic()&&styleProperty.isComplete()}))}},{key:"_getDynamicPropertyByFieldName",value:function _getDynamicPropertyByFieldName(fieldName){var dynamicProps=this.getDynamicPropertiesArray();return dynamicProps.find((function(dynamicProp){return fieldName===dynamicProp.getField().getName()}))}},{key:"_getSymbolId",value:function _getSymbolId(){return this.arePointsSymbolizedAsCircles()?undefined:this._descriptor.properties.symbol.options.symbolId}},{key:"hasLegendDetails",value:function hasLegendDetails(){return regeneratorRuntime.async((function hasLegendDetails$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",this._getLegendDetailStyleProperties().length>0);case 1:case"end":return _context2.stop()}}}),null,this)}},{key:"renderLegendDetails",value:function renderLegendDetails(){return _react.default.createElement(_vector_style_legend.VectorStyleLegend,{styles:this._getLegendDetailStyleProperties(),isPointsOnly:this._getIsPointsOnly(),isLinesOnly:this._getIsLinesOnly(),symbolId:this._getSymbolId()})}},{key:"clearFeatureState",value:function clearFeatureState(featureCollection,mbMap,sourceId){var tmpFeatureIdentifier={source:null,id:null};for(var _i=0;_i<featureCollection.features.length;_i++){var _feature=featureCollection.features[_i];tmpFeatureIdentifier.source=sourceId;tmpFeatureIdentifier.id=_feature.id;mbMap.removeFeatureState(tmpFeatureIdentifier)}}},{key:"setFeatureStateAndStyleProps",value:function setFeatureStateAndStyleProps(featureCollection,mbMap,mbSourceId){if(!featureCollection){return}var dynamicStyleProps=this.getDynamicPropertiesArray();if(dynamicStyleProps.length===0){return}var tmpFeatureIdentifier={source:null,id:null};var tmpFeatureState={};for(var _i2=0;_i2<featureCollection.features.length;_i2++){var _feature2=featureCollection.features[_i2];for(var j=0;j<dynamicStyleProps.length;j++){var dynamicStyleProp=dynamicStyleProps[j];var name=dynamicStyleProp.getField().getName();var computedName=(0,_style_util.getComputedFieldName)(dynamicStyleProp.getStyleName(),name);var styleValue=dynamicStyleProp.getMbValue(_feature2.properties[name]);if(dynamicStyleProp.supportsFeatureState()){tmpFeatureState[computedName]=styleValue}else{_feature2.properties[computedName]=styleValue}}tmpFeatureIdentifier.source=mbSourceId;tmpFeatureIdentifier.id=_feature2.id;mbMap.setFeatureState(tmpFeatureIdentifier,tmpFeatureState)}return dynamicStyleProps.some((function(dynamicStyleProp){return!dynamicStyleProp.supportsFeatureState()}))}},{key:"arePointsSymbolizedAsCircles",value:function arePointsSymbolizedAsCircles(){return this._descriptor.properties.symbol.options.symbolizeAs===_vector_constants.SYMBOLIZE_AS_CIRCLE}},{key:"setMBPaintProperties",value:function setMBPaintProperties(_ref3){var alpha=_ref3.alpha,mbMap=_ref3.mbMap,fillLayerId=_ref3.fillLayerId,lineLayerId=_ref3.lineLayerId;this._fillColorStyleProperty.syncFillColorWithMb(fillLayerId,mbMap,alpha);this._lineColorStyleProperty.syncLineColorWithMb(lineLayerId,mbMap,alpha);this._lineWidthStyleProperty.syncLineWidthWithMb(lineLayerId,mbMap)}},{key:"setMBPaintPropertiesForPoints",value:function setMBPaintPropertiesForPoints(_ref4){var alpha=_ref4.alpha,mbMap=_ref4.mbMap,pointLayerId=_ref4.pointLayerId;this._fillColorStyleProperty.syncCircleColorWithMb(pointLayerId,mbMap,alpha);this._lineColorStyleProperty.syncCircleStrokeWithMb(pointLayerId,mbMap,alpha);this._lineWidthStyleProperty.syncCircleStrokeWidthWithMb(pointLayerId,mbMap);this._iconSizeStyleProperty.syncCircleRadiusWithMb(pointLayerId,mbMap)}},{key:"setMBPropertiesForLabelText",value:function setMBPropertiesForLabelText(_ref5){var alpha=_ref5.alpha,mbMap=_ref5.mbMap,textLayerId=_ref5.textLayerId;mbMap.setLayoutProperty(textLayerId,"icon-allow-overlap",true);mbMap.setLayoutProperty(textLayerId,"text-allow-overlap",true);this._labelStyleProperty.syncTextFieldWithMb(textLayerId,mbMap);this._labelColorStyleProperty.syncLabelColorWithMb(textLayerId,mbMap,alpha);this._labelSizeStyleProperty.syncLabelSizeWithMb(textLayerId,mbMap);this._labelBorderSizeStyleProperty.syncLabelBorderSizeWithMb(textLayerId,mbMap);this._labelBorderColorStyleProperty.syncLabelBorderColorWithMb(textLayerId,mbMap)}},{key:"setMBSymbolPropertiesForPoints",value:function setMBSymbolPropertiesForPoints(_ref6){var mbMap=_ref6.mbMap,symbolLayerId=_ref6.symbolLayerId,alpha=_ref6.alpha;var symbolId=this._descriptor.properties.symbol.options.symbolId;mbMap.setLayoutProperty(symbolLayerId,"icon-ignore-placement",true);mbMap.setLayoutProperty(symbolLayerId,"icon-anchor",(0,_symbol_utils.getMakiSymbolAnchor)(symbolId));mbMap.setPaintProperty(symbolLayerId,"icon-opacity",alpha);this._fillColorStyleProperty.syncIconColorWithMb(symbolLayerId,mbMap);this._lineColorStyleProperty.syncHaloBorderColorWithMb(symbolLayerId,mbMap);this._lineWidthStyleProperty.syncHaloWidthWithMb(symbolLayerId,mbMap);this._iconSizeStyleProperty.syncIconImageAndSizeWithMb(symbolLayerId,mbMap,symbolId);this._iconOrientationProperty.syncIconRotationWithMb(symbolLayerId,mbMap)}},{key:"arePointsSymbolizedAsCircles",value:function arePointsSymbolizedAsCircles(){return this._descriptor.properties.symbol.options.symbolizeAs===_vector_constants.SYMBOLIZE_AS_CIRCLE}},{key:"_makeField",value:function _makeField(fieldDescriptor){if(!fieldDescriptor||!fieldDescriptor.name){return null}if(fieldDescriptor.origin===_constants.FIELD_ORIGIN.SOURCE){return this._source.getFieldByName(fieldDescriptor.name)}else if(fieldDescriptor.origin===_constants.FIELD_ORIGIN.JOIN){var join=this._layer.getValidJoins().find((function(join){return join.getRightJoinSource().hasMatchingMetricField(fieldDescriptor.name)}));return join?join.getRightJoinSource().getMetricFieldForName(fieldDescriptor.name):null}else{throw new Error("Unknown origin-type ".concat(fieldDescriptor.origin))}}},{key:"_makeSizeProperty",value:function _makeSizeProperty(descriptor,styleName,isSymbolizedAsIcon){if(!descriptor||!descriptor.options){return new _static_size_property.StaticSizeProperty({size:0},styleName)}else if(descriptor.type===_static_style_property.StaticStyleProperty.type){return new _static_size_property.StaticSizeProperty(descriptor.options,styleName)}else if(descriptor.type===_dynamic_style_property.DynamicStyleProperty.type){var field=this._makeField(descriptor.options.field);return new _dynamic_size_property.DynamicSizeProperty(descriptor.options,styleName,field,this._getFieldMeta,this._getFieldFormatter,isSymbolizedAsIcon)}else{throw new Error("".concat(descriptor," not implemented"))}}},{key:"_makeColorProperty",value:function _makeColorProperty(descriptor,styleName){if(!descriptor||!descriptor.options){return new _static_color_property.StaticColorProperty({color:null},styleName)}else if(descriptor.type===_static_style_property.StaticStyleProperty.type){return new _static_color_property.StaticColorProperty(descriptor.options,styleName)}else if(descriptor.type===_dynamic_style_property.DynamicStyleProperty.type){var field=this._makeField(descriptor.options.field);return new _dynamic_color_property.DynamicColorProperty(descriptor.options,styleName,field,this._getFieldMeta,this._getFieldFormatter)}else{throw new Error("".concat(descriptor," not implemented"))}}},{key:"_makeOrientationProperty",value:function _makeOrientationProperty(descriptor,styleName){if(!descriptor||!descriptor.options){return new _static_orientation_property.StaticOrientationProperty({orientation:0},styleName)}else if(descriptor.type===_static_style_property.StaticStyleProperty.type){return new _static_orientation_property.StaticOrientationProperty(descriptor.options,styleName)}else if(descriptor.type===_dynamic_style_property.DynamicStyleProperty.type){var field=this._makeField(descriptor.options.field);return new _dynamic_orientation_property.DynamicOrientationProperty(descriptor.options,styleName,field)}else{throw new Error("".concat(descriptor," not implemented"))}}},{key:"_makeLabelProperty",value:function _makeLabelProperty(descriptor){if(!descriptor||!descriptor.options){return new _static_text_property.StaticTextProperty({value:""},_vector_style_defaults.VECTOR_STYLES.LABEL_TEXT)}else if(descriptor.type===_static_style_property.StaticStyleProperty.type){return new _static_text_property.StaticTextProperty(descriptor.options,_vector_style_defaults.VECTOR_STYLES.LABEL_TEXT)}else if(descriptor.type===_dynamic_style_property.DynamicStyleProperty.type){var field=this._makeField(descriptor.options.field);return new _dynamic_text_property.DynamicTextProperty(descriptor.options,_vector_style_defaults.VECTOR_STYLES.LABEL_TEXT,field,this._getFieldMeta,this._getFieldFormatter)}else{throw new Error("".concat(descriptor," not implemented"))}}}]);return VectorStyle}(_abstract_style.AbstractStyle);exports.VectorStyle=VectorStyle;_defineProperty(VectorStyle,"type",_constants.LAYER_STYLE_TYPE.VECTOR);_defineProperty(VectorStyle,"STYLE_TYPE",_constants.STYLE_TYPE)},253:function(module,exports,__webpack_require__){module.exports=__webpack_require__(26)(386)},273:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VECTOR_SHAPE_TYPES=void 0;var VECTOR_SHAPE_TYPES={POINT:"POINT",LINE:"LINE",POLYGON:"POLYGON"};exports.VECTOR_SHAPE_TYPES=VECTOR_SHAPE_TYPES},274:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DynamicStyleProperty=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _style_property=__webpack_require__(682);var _vector_style_defaults=__webpack_require__(147);var _constants=__webpack_require__(25);var _style_util=__webpack_require__(328);var _react=_interopRequireDefault(__webpack_require__(0));var _ordinal_legend=__webpack_require__(1982);var _categorical_legend=__webpack_require__(1983);var _ordinal_field_meta_options_popover=__webpack_require__(1984);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DynamicStyleProperty=function(_AbstractStylePropert){_inherits(DynamicStyleProperty,_AbstractStylePropert);function DynamicStyleProperty(options,styleName,field,getFieldMeta,getFieldFormatter){var _this;_classCallCheck(this,DynamicStyleProperty);_this=_possibleConstructorReturn(this,_getPrototypeOf(DynamicStyleProperty).call(this,options,styleName));_this._field=field;_this._getFieldMeta=getFieldMeta;_this._getFieldFormatter=getFieldFormatter;return _this}_createClass(DynamicStyleProperty,[{key:"getFieldMeta",value:function getFieldMeta(){return this._getFieldMeta&&this._field?this._getFieldMeta(this._field.getName()):null}},{key:"getField",value:function getField(){return this._field}},{key:"getComputedFieldName",value:function getComputedFieldName(){if(!this.isComplete()){return null}return(0,_style_util.getComputedFieldName)(this._styleName,this.getField().getName())}},{key:"isDynamic",value:function isDynamic(){return true}},{key:"isOrdinal",value:function isOrdinal(){return true}},{key:"isCategorical",value:function isCategorical(){return false}},{key:"hasOrdinalBreaks",value:function hasOrdinalBreaks(){return false}},{key:"isOrdinalRanged",value:function isOrdinalRanged(){return true}},{key:"isComplete",value:function isComplete(){return!!this._field}},{key:"getFieldOrigin",value:function getFieldOrigin(){return this._field.getOrigin()}},{key:"isFieldMetaEnabled",value:function isFieldMetaEnabled(){var fieldMetaOptions=this.getFieldMetaOptions();return this.supportsFieldMeta()&&_lodash.default.get(fieldMetaOptions,"isEnabled",true)}},{key:"supportsFieldMeta",value:function supportsFieldMeta(){if(this.isOrdinal()){return this.isComplete()&&this.isOrdinalScaled()&&this._field.supportsFieldMeta()}else if(this.isCategorical()){return this.isComplete()&&this._field.supportsFieldMeta()}else{return false}}},{key:"getFieldMetaRequest",value:function getFieldMetaRequest(){var fieldMetaOptions;return regeneratorRuntime.async((function getFieldMetaRequest$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!this.isOrdinal()){_context.next=5;break}fieldMetaOptions=this.getFieldMetaOptions();return _context.abrupt("return",this._field.getOrdinalFieldMetaRequest({sigma:_lodash.default.get(fieldMetaOptions,"sigma",_vector_style_defaults.DEFAULT_SIGMA)}));case 5:if(!this.isCategorical()){_context.next=9;break}return _context.abrupt("return",this._field.getCategoricalFieldMetaRequest());case 9:return _context.abrupt("return",null);case 10:case"end":return _context.stop()}}}),null,this)}},{key:"supportsFeatureState",value:function supportsFeatureState(){return true}},{key:"isOrdinalScaled",value:function isOrdinalScaled(){return true}},{key:"getFieldMetaOptions",value:function getFieldMetaOptions(){return _lodash.default.get(this.getOptions(),"fieldMetaOptions",{})}},{key:"_pluckOrdinalStyleMetaFromFeatures",value:function _pluckOrdinalStyleMetaFromFeatures(features){var name=this.getField().getName();var min=Infinity;var max=-Infinity;for(var i=0;i<features.length;i++){var feature=features[i];var newValue=parseFloat(feature.properties[name]);if(!isNaN(newValue)){min=Math.min(min,newValue);max=Math.max(max,newValue)}}return min===Infinity||max===-Infinity?null:{min:min,max:max,delta:max-min}}},{key:"_pluckCategoricalStyleMetaFromFeatures",value:function _pluckCategoricalStyleMetaFromFeatures(features){var fieldName=this.getField().getName();var counts=new Map;for(var i=0;i<features.length;i++){var feature=features[i];var term=feature.properties[fieldName];if(_typeof(term)!==undefined){if(counts.has(term)){counts.set(term,counts.get(term)+1)}else{counts.set(term,1)}}}var ordered=[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=counts[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _step$value=_slicedToArray(_step.value,2),key=_step$value[0],value=_step$value[1];ordered.push({key:key,count:value})}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}ordered.sort((function(a,b){return b.count-a.count}));var truncated=ordered.slice(0,_constants.COLOR_PALETTE_MAX_SIZE);return{categories:truncated}}},{key:"pluckStyleMetaFromFeatures",value:function pluckStyleMetaFromFeatures(features){if(this.isOrdinal()){return this._pluckOrdinalStyleMetaFromFeatures(features)}else if(this.isCategorical()){return this._pluckCategoricalStyleMetaFromFeatures(features)}else{return null}}},{key:"_pluckOrdinalStyleMetaFromFieldMetaData",value:function _pluckOrdinalStyleMetaFromFieldMetaData(fieldMetaData){var realFieldName=this._field.getESDocFieldName?this._field.getESDocFieldName():this._field.getName();var stats=fieldMetaData[realFieldName];if(!stats){return null}var sigma=_lodash.default.get(this.getFieldMetaOptions(),"sigma",_vector_style_defaults.DEFAULT_SIGMA);var stdLowerBounds=stats.avg-stats.std_deviation*sigma;var stdUpperBounds=stats.avg+stats.std_deviation*sigma;var min=Math.max(stats.min,stdLowerBounds);var max=Math.min(stats.max,stdUpperBounds);return{min:min,max:max,delta:max-min,isMinOutsideStdRange:stats.min<stdLowerBounds,isMaxOutsideStdRange:stats.max>stdUpperBounds}}},{key:"_pluckCategoricalStyleMetaFromFieldMetaData",value:function _pluckCategoricalStyleMetaFromFieldMetaData(fieldMetaData){var name=this.getField().getName();if(!fieldMetaData[name]||!fieldMetaData[name].buckets){return null}var ordered=fieldMetaData[name].buckets.map((function(bucket){return{key:bucket.key,count:bucket.doc_count}}));return{categories:ordered}}},{key:"pluckStyleMetaFromFieldMetaData",value:function pluckStyleMetaFromFieldMetaData(fieldMetaData){if(this.isOrdinal()){return this._pluckOrdinalStyleMetaFromFieldMetaData(fieldMetaData)}else if(this.isCategorical()){return this._pluckCategoricalStyleMetaFromFieldMetaData(fieldMetaData)}else{return null}}},{key:"formatField",value:function formatField(value){if(this.getField()){var fieldName=this.getField().getName();var fieldFormatter=this._getFieldFormatter(fieldName);return fieldFormatter?fieldFormatter(value):value}else{return value}}},{key:"getMbValue",value:function getMbValue(value){if(!this.isOrdinal()){return this.formatField(value)}var valueAsFloat=parseFloat(value);if(this.isOrdinalScaled()){return(0,_style_util.scaleValue)(valueAsFloat,this.getFieldMeta())}if(isNaN(valueAsFloat)){return 0}return valueAsFloat}},{key:"renderBreakedLegend",value:function renderBreakedLegend(){return null}},{key:"_renderCategoricalLegend",value:function _renderCategoricalLegend(_ref){var isPointsOnly=_ref.isPointsOnly,isLinesOnly=_ref.isLinesOnly,symbolId=_ref.symbolId;return _react.default.createElement(_categorical_legend.CategoricalLegend,{style:this,isPointsOnly:isPointsOnly,isLinesOnly:isLinesOnly,symbolId:symbolId})}},{key:"_renderRangeLegend",value:function _renderRangeLegend(){return _react.default.createElement(_ordinal_legend.OrdinalLegend,{style:this})}},{key:"renderLegendDetailRow",value:function renderLegendDetailRow(_ref2){var isPointsOnly=_ref2.isPointsOnly,isLinesOnly=_ref2.isLinesOnly,symbolId=_ref2.symbolId;if(this.isOrdinal()){if(this.isOrdinalRanged()){return this._renderRangeLegend()}else if(this.hasOrdinalBreaks()){return this._renderCategoricalLegend({isPointsOnly:isPointsOnly,isLinesOnly:isLinesOnly,symbolId:symbolId})}else{return null}}else if(this.isCategorical()){return this._renderCategoricalLegend({isPointsOnly:isPointsOnly,isLinesOnly:isLinesOnly,symbolId:symbolId})}else{return null}}},{key:"renderFieldMetaPopover",value:function renderFieldMetaPopover(onFieldMetaOptionsChange){if(!this.isOrdinal()||!this.supportsFieldMeta()){return null}return _react.default.createElement(_ordinal_field_meta_options_popover.OrdinalFieldMetaOptionsPopover,{styleProperty:this,onChange:onFieldMetaOptionsChange})}}]);return DynamicStyleProperty}(_style_property.AbstractStyleProperty);exports.DynamicStyleProperty=DynamicStyleProperty;_defineProperty(DynamicStyleProperty,"type",_constants.STYLE_TYPE.DYNAMIC)},275:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.copyPersistentState=copyPersistentState;exports.TRACKED_LAYER_DESCRIPTOR=void 0;function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}var TRACKED_LAYER_DESCRIPTOR="__trackedLayerDescriptor";exports.TRACKED_LAYER_DESCRIPTOR=TRACKED_LAYER_DESCRIPTOR;function copyPersistentState(input){if(_typeof(input)!=="object"||input===null){return input}var copyInput=Array.isArray(input)?[]:{};for(var key in input){if(!key.startsWith("__")){copyInput[key]=copyPersistentState(input[key])}}return copyInput}},30:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(1787)},328:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getComputedFieldName=getComputedFieldName;exports.getComputedFieldNamePrefix=getComputedFieldNamePrefix;exports.isOnlySingleFeatureType=isOnlySingleFeatureType;exports.scaleValue=scaleValue;function getComputedFieldName(styleName,fieldName){return"".concat(getComputedFieldNamePrefix(fieldName),"__").concat(styleName)}function getComputedFieldNamePrefix(fieldName){return"__kbn__dynamic__".concat(fieldName)}function isOnlySingleFeatureType(featureType,supportedFeatures,hasFeatureType){if(supportedFeatures.length===1){return supportedFeatures[0]===featureType}var featureTypes=Object.keys(hasFeatureType);return featureTypes.reduce((function(isOnlyTargetFeatureType,featureTypeKey){var hasFeature=hasFeatureType[featureTypeKey];return featureTypeKey===featureType?isOnlyTargetFeatureType&&hasFeature:isOnlyTargetFeatureType&&!hasFeature}),true)}function scaleValue(value,range){if(isNaN(value)||!range){return-1}if(range.delta===0||value>=range.max){return 1}if(value<=range.min){return 0}return(value-range.min)/range.delta}},329:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StaticStyleProperty=void 0;var _style_property=__webpack_require__(682);var _constants=__webpack_require__(25);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var StaticStyleProperty=function(_AbstractStylePropert){_inherits(StaticStyleProperty,_AbstractStylePropert);function StaticStyleProperty(){_classCallCheck(this,StaticStyleProperty);return _possibleConstructorReturn(this,_getPrototypeOf(StaticStyleProperty).apply(this,arguments))}return StaticStyleProperty}(_style_property.AbstractStyleProperty);exports.StaticStyleProperty=StaticStyleProperty;_defineProperty(StaticStyleProperty,"type",_constants.STYLE_TYPE.STATIC)},330:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SingleFieldSelect=SingleFieldSelect;exports.getGroupedFieldOptions=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var sortByLabel=function sortByLabel(a,b){if(a.label<b.label)return-1;if(a.label>b.label)return 1;return 0};var getGroupedFieldOptions=function getGroupedFieldOptions(fields,filterField){if(!fields){return}var fieldsByTypeMap=new Map;fields.filter(filterField).forEach((function(field){var fieldLabel="label"in field?field.label:field.name;if(fieldsByTypeMap.has(field.type)){var fieldsList=fieldsByTypeMap.get(field.type);fieldsList.push({value:field.name,label:fieldLabel});fieldsByTypeMap.set(field.type,fieldsList)}else{fieldsByTypeMap.set(field.type,[{value:field.name,label:fieldLabel}])}}));var groupedFieldOptions=[];fieldsByTypeMap.forEach((function(fieldsList,fieldType){var sortedOptions=fieldsList.sort(sortByLabel).map((function(_ref){var value=_ref.value,label=_ref.label;return{value:value,label:label}}));groupedFieldOptions.push({label:fieldType,options:sortedOptions})}));groupedFieldOptions.sort(sortByLabel);return groupedFieldOptions};exports.getGroupedFieldOptions=getGroupedFieldOptions;function SingleFieldSelect(_ref2){var fields=_ref2.fields,filterField=_ref2.filterField,onChange=_ref2.onChange,value=_ref2.value,placeholder=_ref2.placeholder,rest=_objectWithoutProperties(_ref2,["fields","filterField","onChange","value","placeholder"]);var onSelection=function onSelection(selectedOptions){onChange(_lodash.default.get(selectedOptions,"0.value"))};return _react.default.createElement(_eui.EuiComboBox,_extends({placeholder:placeholder,singleSelection:true,options:getGroupedFieldOptions(fields,filterField),selectedOptions:value?[{value:value,label:value}]:[],onChange:onSelection,isDisabled:!fields},rest))}SingleFieldSelect.propTypes={placeholder:_propTypes.default.string,fields:_propTypes.default.array,onChange:_propTypes.default.func.isRequired,value:_propTypes.default.string,filterField:_propTypes.default.func};SingleFieldSelect.defaultProps={filterField:function filterField(){return true}}},350:function(module,exports,__webpack_require__){module.exports=__webpack_require__(26)(2853)},362:function(module,exports,__webpack_require__){module.exports=__webpack_require__(17)(881)},402:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hitsToGeoJson=hitsToGeoJson;exports.geoPointToGeometry=geoPointToGeometry;exports.convertESShapeToGeojsonGeometry=convertESShapeToGeojsonGeometry;exports.geoShapeToGeometry=geoShapeToGeometry;exports.createExtentFilter=createExtentFilter;exports.createSpatialFilterWithBoundingBox=createSpatialFilterWithBoundingBox;exports.createSpatialFilterWithGeometry=createSpatialFilterWithGeometry;exports.roundCoordinates=roundCoordinates;exports.getBoundingBoxGeometry=getBoundingBoxGeometry;exports.convertMapExtentToPolygon=convertMapExtentToPolygon;var _lodash=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(2);var _wellknown=__webpack_require__(2118);var _constants=__webpack_require__(25);var _i18n_getters=__webpack_require__(166);var _kibana_services=__webpack_require__(101);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function ensureGeoField(type){var expectedTypes=[_constants.ES_GEO_FIELD_TYPE.GEO_POINT,_constants.ES_GEO_FIELD_TYPE.GEO_SHAPE];if(!expectedTypes.includes(type)){var errorMessage=_i18n.i18n.translate("xpack.maps.es_geo_utils.unsupportedFieldTypeErrorMessage",{defaultMessage:"Unsupported field type, expected: {expectedTypes}, you provided: {fieldType}",values:{fieldType:type,expectedTypes:expectedTypes.join(",")}});throw new Error(errorMessage)}}function ensureGeometryType(type,expectedTypes){if(!expectedTypes.includes(type)){var errorMessage=_i18n.i18n.translate("xpack.maps.es_geo_utils.unsupportedGeometryTypeErrorMessage",{defaultMessage:"Unsupported geometry type, expected: {expectedTypes}, you provided: {geometryType}",values:{geometryType:type,expectedTypes:expectedTypes.join(",")}});throw new Error(errorMessage)}}function hitsToGeoJson(hits,flattenHit,geoFieldName,geoFieldType){var features=[];var tmpGeometriesAccumulator=[];for(var i=0;i<hits.length;i++){var properties=flattenHit(hits[i]);tmpGeometriesAccumulator.length=0;ensureGeoField(geoFieldType);if(geoFieldType===_constants.ES_GEO_FIELD_TYPE.GEO_POINT){geoPointToGeometry(properties[geoFieldName],tmpGeometriesAccumulator)}else{geoShapeToGeometry(properties[geoFieldName],tmpGeometriesAccumulator)}delete properties[geoFieldName];for(var j=0;j<tmpGeometriesAccumulator.length;j++){features.push({type:"Feature",geometry:tmpGeometriesAccumulator[j],id:"".concat(properties._index,":").concat(properties._id,":").concat(j),properties:properties})}}return{type:"FeatureCollection",features:features}}function geoPointToGeometry(value,accumulator){if(!value){return}if(Array.isArray(value)){for(var i=0;i<value.length;i++){geoPointToGeometry(value[i],accumulator)}return}var commaSplit=value.split(",");var lat=parseFloat(commaSplit[0]);var lon=parseFloat(commaSplit[1]);accumulator.push({type:_constants.GEO_JSON_TYPE.POINT,coordinates:[lon,lat]})}function convertESShapeToGeojsonGeometry(value){var geoJson={type:value.type,coordinates:value.coordinates};switch(value.type){case"point":geoJson.type=_constants.GEO_JSON_TYPE.POINT;break;case"linestring":geoJson.type=_constants.GEO_JSON_TYPE.LINE_STRING;break;case"polygon":geoJson.type=_constants.GEO_JSON_TYPE.POLYGON;break;case"multipoint":geoJson.type=_constants.GEO_JSON_TYPE.MULTI_POINT;break;case"multilinestring":geoJson.type=_constants.GEO_JSON_TYPE.MULTI_LINE_STRING;break;case"multipolygon":geoJson.type=_constants.GEO_JSON_TYPE.MULTI_POLYGON;break;case"geometrycollection":geoJson.type=_constants.GEO_JSON_TYPE.GEOMETRY_COLLECTION;break;case"envelope":case"circle":var errorMessage=_i18n.i18n.translate("xpack.maps.es_geo_utils.convert.unsupportedGeometryTypeErrorMessage",{defaultMessage:"Unable to convert {geometryType} geometry to geojson, not supported",values:{geometryType:geoJson.type}});throw new Error(errorMessage)}return geoJson}function convertWKTStringToGeojson(value){try{return(0,_wellknown.parse)(value)}catch(e){var errorMessage=_i18n.i18n.translate("xpack.maps.es_geo_utils.wkt.invalidWKTErrorMessage",{defaultMessage:"Unable to convert {wkt} to geojson. Valid WKT expected.",values:{wkt:value}});throw new Error(errorMessage)}}function geoShapeToGeometry(value,accumulator){if(!value){return}if(Array.isArray(value)){for(var i=0;i<value.length;i++){geoShapeToGeometry(value[i],accumulator)}return}var geoJson;if(typeof value==="string"){geoJson=convertWKTStringToGeojson(value)}else{geoJson=convertESShapeToGeojsonGeometry(value)}accumulator.push(geoJson)}function createGeoBoundBoxFilter(geometry,geoFieldName){var filterProps=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};ensureGeometryType(geometry.type,[_constants.GEO_JSON_TYPE.POLYGON]);var TOP_LEFT_INDEX=0;var BOTTOM_RIGHT_INDEX=2;var verticies=geometry.coordinates[_constants.POLYGON_COORDINATES_EXTERIOR_INDEX];return _objectSpread({geo_bounding_box:_defineProperty({},geoFieldName,{top_left:verticies[TOP_LEFT_INDEX],bottom_right:verticies[BOTTOM_RIGHT_INDEX]})},filterProps)}function createGeoPolygonFilter(polygonCoordinates,geoFieldName){var filterProps=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return _objectSpread({geo_polygon:_defineProperty({ignore_unmapped:true},geoFieldName,{points:polygonCoordinates[_constants.POLYGON_COORDINATES_EXTERIOR_INDEX].map((function(coordinatePair){return{lon:coordinatePair[_constants.LON_INDEX],lat:coordinatePair[_constants.LAT_INDEX]}}))})},filterProps)}function createExtentFilter(mapExtent,geoFieldName,geoFieldType){ensureGeoField(geoFieldType);var safePolygon=convertMapExtentToPolygon(mapExtent);if(geoFieldType===_constants.ES_GEO_FIELD_TYPE.GEO_POINT){return createGeoBoundBoxFilter(safePolygon,geoFieldName)}return{geo_shape:_defineProperty({},geoFieldName,{shape:safePolygon,relation:_constants.ES_SPATIAL_RELATIONS.INTERSECTS})}}function createSpatialFilterWithBoundingBox(options){return createGeometryFilterWithMeta(_objectSpread({},options,{isBoundingBox:true}))}function createSpatialFilterWithGeometry(options){return createGeometryFilterWithMeta(options)}function createGeometryFilterWithMeta(_ref){var preIndexedShape=_ref.preIndexedShape,geometry=_ref.geometry,geometryLabel=_ref.geometryLabel,indexPatternId=_ref.indexPatternId,geoFieldName=_ref.geoFieldName,geoFieldType=_ref.geoFieldType,_ref$relation=_ref.relation,relation=_ref$relation===void 0?_constants.ES_SPATIAL_RELATIONS.INTERSECTS:_ref$relation,_ref$isBoundingBox=_ref.isBoundingBox,isBoundingBox=_ref$isBoundingBox===void 0?false:_ref$isBoundingBox;ensureGeoField(geoFieldType);var relationLabel=geoFieldType===_constants.ES_GEO_FIELD_TYPE.GEO_POINT?_i18n.i18n.translate("xpack.maps.es_geo_utils.shapeFilter.geoPointRelationLabel",{defaultMessage:"in"}):(0,_i18n_getters.getEsSpatialRelationLabel)(relation);var meta={type:_kibana_services.SPATIAL_FILTER_TYPE,negate:false,index:indexPatternId,key:geoFieldName,alias:"".concat(geoFieldName," ").concat(relationLabel," ").concat(geometryLabel)};if(geoFieldType===_constants.ES_GEO_FIELD_TYPE.GEO_SHAPE){var shapeQuery={relation:relation};if(preIndexedShape){shapeQuery.indexed_shape=preIndexedShape}else{shapeQuery.shape=geometry}return{meta:meta,geo_shape:_defineProperty({ignore_unmapped:true},geoFieldName,shapeQuery)}}ensureGeometryType(geometry.type,[_constants.GEO_JSON_TYPE.POLYGON,_constants.GEO_JSON_TYPE.MULTI_POLYGON]);if(geometry.type===_constants.GEO_JSON_TYPE.MULTI_POLYGON){return{meta:meta,query:{bool:{should:geometry.coordinates.map((function(polygonCoordinates){return createGeoPolygonFilter(polygonCoordinates,geoFieldName)}))}}}}if(isBoundingBox){return createGeoBoundBoxFilter(geometry,geoFieldName,{meta:meta})}return createGeoPolygonFilter(geometry.coordinates,geoFieldName,{meta:meta})}function roundCoordinates(coordinates){for(var i=0;i<coordinates.length;i++){var value=coordinates[i];if(Array.isArray(value)){roundCoordinates(value)}else if(!isNaN(value)){coordinates[i]=_lodash.default.round(value,_constants.DECIMAL_DEGREES_PRECISION)}}}function getBoundingBoxGeometry(geometry){ensureGeometryType(geometry.type,[_constants.GEO_JSON_TYPE.POLYGON]);var exterior=geometry.coordinates[_constants.POLYGON_COORDINATES_EXTERIOR_INDEX];var extent={minLon:exterior[0][_constants.LON_INDEX],minLat:exterior[0][_constants.LAT_INDEX],maxLon:exterior[0][_constants.LON_INDEX],maxLat:exterior[0][_constants.LAT_INDEX]};for(var i=1;i<exterior.length;i++){extent.minLon=Math.min(exterior[i][_constants.LON_INDEX],extent.minLon);extent.minLat=Math.min(exterior[i][_constants.LAT_INDEX],extent.minLat);extent.maxLon=Math.max(exterior[i][_constants.LON_INDEX],extent.maxLon);extent.maxLat=Math.max(exterior[i][_constants.LAT_INDEX],extent.maxLat)}return convertMapExtentToPolygon(extent)}function formatEnvelopeAsPolygon(_ref2){var maxLat=_ref2.maxLat,maxLon=_ref2.maxLon,minLat=_ref2.minLat,minLon=_ref2.minLon;var left=minLon;var right=maxLon;var top=maxLat>90?90:maxLat;var bottom=minLat<-90?-90:minLat;var topLeft=[left,top];var bottomLeft=[left,bottom];var bottomRight=[right,bottom];var topRight=[right,top];return{type:_constants.GEO_JSON_TYPE.POLYGON,coordinates:[[topLeft,bottomLeft,bottomRight,topRight,topLeft]]}}function convertMapExtentToPolygon(_ref3){var maxLat=_ref3.maxLat,maxLon=_ref3.maxLon,minLat=_ref3.minLat,minLon=_ref3.minLon;var lonDelta=maxLon-minLon;if(lonDelta>=360){return formatEnvelopeAsPolygon({maxLat:maxLat,maxLon:180,minLat:minLat,minLon:-180})}if(maxLon>180){var overlapWestOfDateLine=maxLon-180;return formatEnvelopeAsPolygon({maxLat:maxLat,maxLon:-180+overlapWestOfDateLine,minLat:minLat,minLon:minLon})}if(minLon<-180){var overlapEastOfDateLine=Math.abs(minLon)-180;return formatEnvelopeAsPolygon({maxLat:maxLat,maxLon:maxLon,minLat:minLat,minLon:180-overlapEastOfDateLine})}return formatEnvelopeAsPolygon({maxLat:maxLat,maxLon:maxLon,minLat:minLat,minLon:minLon})}},403:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TileLayer=void 0;var _layer=__webpack_require__(679);var _lodash=_interopRequireDefault(__webpack_require__(3));var _constants=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TileLayer=function(_AbstractLayer){_inherits(TileLayer,_AbstractLayer);function TileLayer(){_classCallCheck(this,TileLayer);return _possibleConstructorReturn(this,_getPrototypeOf(TileLayer).apply(this,arguments))}_createClass(TileLayer,[{key:"syncData",value:function syncData(_ref){var startLoading,stopLoading,onLoadError,dataFilters,sourceDataRequest,requestToken,url;return regeneratorRuntime.async((function syncData$(_context){while(1){switch(_context.prev=_context.next){case 0:startLoading=_ref.startLoading,stopLoading=_ref.stopLoading,onLoadError=_ref.onLoadError,dataFilters=_ref.dataFilters;if(!(!this.isVisible()||!this.showAtZoomLevel(dataFilters.zoom))){_context.next=3;break}return _context.abrupt("return");case 3:sourceDataRequest=this.getSourceDataRequest();if(!sourceDataRequest){_context.next=6;break}return _context.abrupt("return");case 6:requestToken=Symbol("layer-source-refresh:".concat(this.getId()," - source"));startLoading(_constants.SOURCE_DATA_ID_ORIGIN,requestToken,dataFilters);_context.prev=8;_context.next=11;return regeneratorRuntime.awrap(this._source.getUrlTemplate());case 11:url=_context.sent;stopLoading(_constants.SOURCE_DATA_ID_ORIGIN,requestToken,url,{});_context.next=18;break;case 15:_context.prev=15;_context.t0=_context["catch"](8);onLoadError(_constants.SOURCE_DATA_ID_ORIGIN,requestToken,_context.t0.message);case 18:case"end":return _context.stop()}}}),null,this,[[8,15]])}},{key:"_getMbLayerId",value:function _getMbLayerId(){return this.makeMbLayerId("raster")}},{key:"getMbLayerIds",value:function getMbLayerIds(){return[this._getMbLayerId()]}},{key:"ownsMbLayerId",value:function ownsMbLayerId(mbLayerId){return this._getMbLayerId()===mbLayerId}},{key:"ownsMbSourceId",value:function ownsMbSourceId(mbSourceId){return this.getId()===mbSourceId}},{key:"syncLayerWithMB",value:function syncLayerWithMB(mbMap){var source=mbMap.getSource(this.getId());var mbLayerId=this._getMbLayerId();if(!source){var _sourceDataRequest=this.getSourceDataRequest();if(!_sourceDataRequest){return}var _url=_sourceDataRequest.getData();if(!_url){return}var sourceId=this.getId();mbMap.addSource(sourceId,{type:"raster",tiles:[_url],tileSize:256,scheme:"xyz"});mbMap.addLayer({id:mbLayerId,type:"raster",source:sourceId,minzoom:this._descriptor.minZoom,maxzoom:this._descriptor.maxZoom})}this._setTileLayerProperties(mbMap,mbLayerId)}},{key:"_setTileLayerProperties",value:function _setTileLayerProperties(mbMap,mbLayerId){this.syncVisibilityWithMb(mbMap,mbLayerId);mbMap.setLayerZoomRange(mbLayerId,this._descriptor.minZoom,this._descriptor.maxZoom);mbMap.setPaintProperty(mbLayerId,"raster-opacity",this.getAlpha())}},{key:"getLayerTypeIconName",value:function getLayerTypeIconName(){return"grid"}},{key:"isLayerLoading",value:function isLayerLoading(){return false}}],[{key:"createDescriptor",value:function createDescriptor(options){var tileLayerDescriptor=_get(_getPrototypeOf(TileLayer),"createDescriptor",this).call(this,options);tileLayerDescriptor.type=TileLayer.type;tileLayerDescriptor.alpha=_lodash.default.get(options,"alpha",1);return tileLayerDescriptor}}]);return TileLayer}(_layer.AbstractLayer);exports.TileLayer=TileLayer;_defineProperty(TileLayer,"type",_constants.LAYER_TYPE.TILE)},404:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VectorLayer=void 0;var _turf=_interopRequireDefault(__webpack_require__(697));var _react=_interopRequireDefault(__webpack_require__(0));var _layer=__webpack_require__(679);var _vector_style=__webpack_require__(249);var _inner_join=__webpack_require__(1995);var _constants=__webpack_require__(25);var _lodash=_interopRequireDefault(__webpack_require__(3));var _join_tooltip_property=__webpack_require__(1999);var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);var _data_request=__webpack_require__(680);var _can_skip_fetch=__webpack_require__(2e3);var _assign_feature_ids=__webpack_require__(2002);var _mb_filter_expressions=__webpack_require__(2003);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var VectorLayer=function(_AbstractLayer){_inherits(VectorLayer,_AbstractLayer);_createClass(VectorLayer,null,[{key:"createDescriptor",value:function createDescriptor(options,mapColors){var layerDescriptor=_get(_getPrototypeOf(VectorLayer),"createDescriptor",this).call(this,options);layerDescriptor.type=VectorLayer.type;if(!options.style){var styleProperties=_vector_style.VectorStyle.createDefaultStyleProperties(mapColors);layerDescriptor.style=_vector_style.VectorStyle.createDescriptor(styleProperties)}return layerDescriptor}}]);function VectorLayer(options){var _this;_classCallCheck(this,VectorLayer);_this=_possibleConstructorReturn(this,_getPrototypeOf(VectorLayer).call(this,options));_this._joins=[];if(options.layerDescriptor.joins){options.layerDescriptor.joins.forEach((function(joinDescriptor){var join=new _inner_join.InnerJoin(joinDescriptor,_this._source);_this._joins.push(join)}))}_this._style=new _vector_style.VectorStyle(_this._descriptor.style,_this._source,_assertThisInitialized(_this));return _this}_createClass(VectorLayer,[{key:"destroy",value:function destroy(){if(this._source){this._source.destroy()}this._joins.forEach((function(joinSource){joinSource.destroy()}))}},{key:"getJoins",value:function getJoins(){return this._joins.slice()}},{key:"getValidJoins",value:function getValidJoins(){return this._joins.filter((function(join){return join.hasCompleteConfig()}))}},{key:"_hasJoins",value:function _hasJoins(){return this.getValidJoins().length>0}},{key:"isDataLoaded",value:function isDataLoaded(){var sourceDataRequest=this.getSourceDataRequest();if(!sourceDataRequest||!sourceDataRequest.hasData()){return false}var joins=this.getValidJoins();for(var i=0;i<joins.length;i++){var joinDataRequest=this.getDataRequest(joins[i].getSourceDataRequestId());if(!joinDataRequest||!joinDataRequest.hasData()){return false}}return true}},{key:"getCustomIconAndTooltipContent",value:function getCustomIconAndTooltipContent(){var featureCollection=this._getSourceFeatureCollection();var noResultsIcon=_react.default.createElement(_eui.EuiIcon,{size:"m",color:"subdued",type:"minusInCircle"});if(!featureCollection||featureCollection.features.length===0){return{icon:noResultsIcon,tooltipContent:_i18n.i18n.translate("xpack.maps.vectorLayer.noResultsFoundTooltip",{defaultMessage:"No results found."})}}if(this._joins.length&&!featureCollection.features.some((function(feature){return feature.properties[_constants.FEATURE_VISIBLE_PROPERTY_NAME]}))){return{icon:noResultsIcon,tooltipContent:_i18n.i18n.translate("xpack.maps.vectorLayer.noResultsFoundInJoinTooltip",{defaultMessage:"No matching results found in term joins"})}}var sourceDataRequest=this.getSourceDataRequest();var _this$_source$getSour=this._source.getSourceTooltipContent(sourceDataRequest),tooltipContent=_this$_source$getSour.tooltipContent,areResultsTrimmed=_this$_source$getSour.areResultsTrimmed;return{icon:this._style.getIcon(),tooltipContent:tooltipContent,areResultsTrimmed:areResultsTrimmed}}},{key:"getLayerTypeIconName",value:function getLayerTypeIconName(){return"vector"}},{key:"hasLegendDetails",value:function hasLegendDetails(){return regeneratorRuntime.async((function hasLegendDetails$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",this._style.hasLegendDetails());case 1:case"end":return _context.stop()}}}),null,this)}},{key:"renderLegendDetails",value:function renderLegendDetails(){return this._style.renderLegendDetails()}},{key:"_getBoundsBasedOnData",value:function _getBoundsBasedOnData(){var featureCollection=this._getSourceFeatureCollection();if(!featureCollection){return null}var visibleFeatures=featureCollection.features.filter((function(feature){return feature.properties[_constants.FEATURE_VISIBLE_PROPERTY_NAME]}));var bbox=_turf.default.bbox({type:"FeatureCollection",features:visibleFeatures});return{min_lon:bbox[0],min_lat:bbox[1],max_lon:bbox[2],max_lat:bbox[3]}}},{key:"getBounds",value:function getBounds(dataFilters){var isStaticLayer,searchFilters;return regeneratorRuntime.async((function getBounds$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:isStaticLayer=!this._source.isBoundsAware()||!this._source.isFilterByMapBounds();if(!isStaticLayer){_context2.next=3;break}return _context2.abrupt("return",this._getBoundsBasedOnData());case 3:searchFilters=this._getSearchFilters(dataFilters);_context2.next=6;return regeneratorRuntime.awrap(this._source.getBoundsForFilters(searchFilters));case 6:return _context2.abrupt("return",_context2.sent);case 7:case"end":return _context2.stop()}}}),null,this)}},{key:"getLeftJoinFields",value:function getLeftJoinFields(){return regeneratorRuntime.async((function getLeftJoinFields$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return regeneratorRuntime.awrap(this._source.getLeftJoinFields());case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}}}),null,this)}},{key:"getSourceName",value:function getSourceName(){return regeneratorRuntime.async((function getSourceName$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",this._source.getDisplayName());case 1:case"end":return _context4.stop()}}}),null,this)}},{key:"_getJoinFields",value:function _getJoinFields(){var joinFields=[];this.getValidJoins().forEach((function(join){var fields=join.getJoinFields();joinFields.push.apply(joinFields,_toConsumableArray(fields))}));return joinFields}},{key:"getDateFields",value:function getDateFields(){return regeneratorRuntime.async((function getDateFields$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return regeneratorRuntime.awrap(this._source.getDateFields());case 2:return _context5.abrupt("return",_context5.sent);case 3:case"end":return _context5.stop()}}}),null,this)}},{key:"getNumberFields",value:function getNumberFields(){var numberFieldOptions;return regeneratorRuntime.async((function getNumberFields$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return regeneratorRuntime.awrap(this._source.getNumberFields());case 2:numberFieldOptions=_context6.sent;return _context6.abrupt("return",[].concat(_toConsumableArray(numberFieldOptions),_toConsumableArray(this._getJoinFields())));case 4:case"end":return _context6.stop()}}}),null,this)}},{key:"getCategoricalFields",value:function getCategoricalFields(){return regeneratorRuntime.async((function getCategoricalFields$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return regeneratorRuntime.awrap(this._source.getCategoricalFields());case 2:return _context7.abrupt("return",_context7.sent);case 3:case"end":return _context7.stop()}}}),null,this)}},{key:"getFields",value:function getFields(){var sourceFields;return regeneratorRuntime.async((function getFields$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return regeneratorRuntime.awrap(this._source.getFields());case 2:sourceFields=_context8.sent;return _context8.abrupt("return",[].concat(_toConsumableArray(sourceFields),_toConsumableArray(this._getJoinFields())));case 4:case"end":return _context8.stop()}}}),null,this)}},{key:"getIndexPatternIds",value:function getIndexPatternIds(){var indexPatternIds=this._source.getIndexPatternIds();this.getValidJoins().forEach((function(join){indexPatternIds.push.apply(indexPatternIds,_toConsumableArray(join.getIndexPatternIds()))}));return indexPatternIds}},{key:"getQueryableIndexPatternIds",value:function getQueryableIndexPatternIds(){var indexPatternIds=this._source.getQueryableIndexPatternIds();this.getValidJoins().forEach((function(join){indexPatternIds.push.apply(indexPatternIds,_toConsumableArray(join.getQueryableIndexPatternIds()))}));return indexPatternIds}},{key:"_findDataRequestById",value:function _findDataRequestById(sourceDataId){return this._dataRequests.find((function(dataRequest){return dataRequest.getDataId()===sourceDataId}))}},{key:"_syncJoin",value:function _syncJoin(_ref){var join,startLoading,stopLoading,onLoadError,registerCancelCallback,dataFilters,joinSource,sourceDataId,requestToken,searchFilters,prevDataRequest,canSkipFetch,leftSourceName,_ref2,propertiesMap;return regeneratorRuntime.async((function _syncJoin$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:join=_ref.join,startLoading=_ref.startLoading,stopLoading=_ref.stopLoading,onLoadError=_ref.onLoadError,registerCancelCallback=_ref.registerCancelCallback,dataFilters=_ref.dataFilters;joinSource=join.getRightJoinSource();sourceDataId=join.getSourceDataRequestId();requestToken=Symbol("layer-join-refresh:".concat(this.getId()," - ").concat(sourceDataId));searchFilters=_objectSpread({},dataFilters,{fieldNames:joinSource.getFieldNames(),sourceQuery:joinSource.getWhereQuery(),applyGlobalQuery:joinSource.getApplyGlobalQuery()});prevDataRequest=this._findDataRequestById(sourceDataId);_context9.next=8;return regeneratorRuntime.awrap((0,_can_skip_fetch.canSkipSourceUpdate)({source:joinSource,prevDataRequest:prevDataRequest,nextMeta:searchFilters}));case 8:canSkipFetch=_context9.sent;if(!canSkipFetch){_context9.next=11;break}return _context9.abrupt("return",{dataHasChanged:false,join:join,propertiesMap:prevDataRequest.getData()});case 11:_context9.prev=11;startLoading(sourceDataId,requestToken,searchFilters);_context9.next=15;return regeneratorRuntime.awrap(this.getSourceName());case 15:leftSourceName=_context9.sent;_context9.next=18;return regeneratorRuntime.awrap(joinSource.getPropertiesMap(searchFilters,leftSourceName,join.getLeftField().getName(),registerCancelCallback.bind(null,requestToken)));case 18:_ref2=_context9.sent;propertiesMap=_ref2.propertiesMap;stopLoading(sourceDataId,requestToken,propertiesMap);return _context9.abrupt("return",{dataHasChanged:true,join:join,propertiesMap:propertiesMap});case 24:_context9.prev=24;_context9.t0=_context9["catch"](11);if(!(_context9.t0 instanceof _data_request.DataRequestAbortError)){onLoadError(sourceDataId,requestToken,"Join error: ".concat(_context9.t0.message))}return _context9.abrupt("return",{dataHasChanged:true,join:join,propertiesMap:null});case 28:case"end":return _context9.stop()}}}),null,this,[[11,24]])}},{key:"_syncJoins",value:function _syncJoins(syncContext){var _this2=this;var joinSyncs;return regeneratorRuntime.async((function _syncJoins$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:joinSyncs=this.getValidJoins().map((function _callee(join){return regeneratorRuntime.async((function _callee$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return regeneratorRuntime.awrap(_this2._syncJoinStyleMeta(syncContext,join));case 2:_context10.next=4;return regeneratorRuntime.awrap(_this2._syncJoinFormatters(syncContext,join));case 4:return _context10.abrupt("return",_this2._syncJoin(_objectSpread({join:join},syncContext)));case 5:case"end":return _context10.stop()}}}))}));_context11.next=3;return regeneratorRuntime.awrap(Promise.all(joinSyncs));case 3:return _context11.abrupt("return",_context11.sent);case 4:case"end":return _context11.stop()}}}),null,this)}},{key:"_getSearchFilters",value:function _getSearchFilters(dataFilters){var fieldNames=[].concat(_toConsumableArray(this._source.getFieldNames()),_toConsumableArray(this._style.getSourceFieldNames()),_toConsumableArray(this.getValidJoins().map((function(join){return join.getLeftField().getName()}))));return _objectSpread({},dataFilters,{fieldNames:_lodash.default.uniq(fieldNames).sort(),geogridPrecision:this._source.getGeoGridPrecision(dataFilters.zoom),sourceQuery:this.getQuery(),applyGlobalQuery:this._source.getApplyGlobalQuery(),sourceMeta:this._source.getSyncMeta()})}},{key:"_performInnerJoins",value:function _performInnerJoins(sourceResult,joinStates,updateSourceData){var shouldUpdateStore,i,feature,oldVisbility,isFeatureVisible,j,joinState,innerJoin,canJoinOnCurrent;return regeneratorRuntime.async((function _performInnerJoins$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:shouldUpdateStore=sourceResult.refreshed||joinStates.some((function(joinState){return joinState.dataHasChanged}));if(shouldUpdateStore){_context12.next=3;break}return _context12.abrupt("return");case 3:for(i=0;i<sourceResult.featureCollection.features.length;i++){feature=sourceResult.featureCollection.features[i];oldVisbility=feature.properties[_constants.FEATURE_VISIBLE_PROPERTY_NAME];isFeatureVisible=true;for(j=0;j<joinStates.length;j++){joinState=joinStates[j];innerJoin=joinState.join;canJoinOnCurrent=innerJoin.joinPropertiesToFeature(feature,joinState.propertiesMap);isFeatureVisible=isFeatureVisible&&canJoinOnCurrent}if(oldVisbility!==isFeatureVisible){shouldUpdateStore=true}feature.properties[_constants.FEATURE_VISIBLE_PROPERTY_NAME]=isFeatureVisible}if(shouldUpdateStore){updateSourceData(_objectSpread({},sourceResult.featureCollection))}case 5:case"end":return _context12.stop()}}}))}},{key:"_syncSource",value:function _syncSource(_ref3){var startLoading,stopLoading,onLoadError,registerCancelCallback,dataFilters,requestToken,searchFilters,prevDataRequest,canSkipFetch,layerName,_ref4,sourceFeatureCollection,meta,layerFeatureCollection;return regeneratorRuntime.async((function _syncSource$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:startLoading=_ref3.startLoading,stopLoading=_ref3.stopLoading,onLoadError=_ref3.onLoadError,registerCancelCallback=_ref3.registerCancelCallback,dataFilters=_ref3.dataFilters;requestToken=Symbol("layer-".concat(this.getId(),"-").concat(_constants.SOURCE_DATA_ID_ORIGIN));searchFilters=this._getSearchFilters(dataFilters);prevDataRequest=this.getSourceDataRequest();_context13.next=6;return regeneratorRuntime.awrap((0,_can_skip_fetch.canSkipSourceUpdate)({source:this._source,prevDataRequest:prevDataRequest,nextMeta:searchFilters}));case 6:canSkipFetch=_context13.sent;if(!canSkipFetch){_context13.next=9;break}return _context13.abrupt("return",{refreshed:false,featureCollection:prevDataRequest.getData()});case 9:_context13.prev=9;startLoading(_constants.SOURCE_DATA_ID_ORIGIN,requestToken,searchFilters);_context13.next=13;return regeneratorRuntime.awrap(this.getDisplayName());case 13:layerName=_context13.sent;_context13.next=16;return regeneratorRuntime.awrap(this._source.getGeoJsonWithMeta(layerName,searchFilters,registerCancelCallback.bind(null,requestToken)));case 16:_ref4=_context13.sent;sourceFeatureCollection=_ref4.data;meta=_ref4.meta;layerFeatureCollection=(0,_assign_feature_ids.assignFeatureIds)(sourceFeatureCollection);stopLoading(_constants.SOURCE_DATA_ID_ORIGIN,requestToken,layerFeatureCollection,meta);return _context13.abrupt("return",{refreshed:true,featureCollection:layerFeatureCollection});case 24:_context13.prev=24;_context13.t0=_context13["catch"](9);if(!(_context13.t0 instanceof _data_request.DataRequestAbortError)){onLoadError(_constants.SOURCE_DATA_ID_ORIGIN,requestToken,_context13.t0.message)}return _context13.abrupt("return",{refreshed:false});case 28:case"end":return _context13.stop()}}}),null,this,[[9,24]])}},{key:"_syncSourceStyleMeta",value:function _syncSourceStyleMeta(syncContext){return regeneratorRuntime.async((function _syncSourceStyleMeta$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:if(!(this._style.constructor.type!==_constants.LAYER_STYLE_TYPE.VECTOR)){_context14.next=2;break}return _context14.abrupt("return");case 2:return _context14.abrupt("return",this._syncStyleMeta(_objectSpread({source:this._source,sourceQuery:this.getQuery(),dataRequestId:_constants.SOURCE_META_ID_ORIGIN,dynamicStyleProps:this._style.getDynamicPropertiesArray().filter((function(dynamicStyleProp){return dynamicStyleProp.getFieldOrigin()===_constants.FIELD_ORIGIN.SOURCE&&dynamicStyleProp.isFieldMetaEnabled()}))},syncContext)));case 3:case"end":return _context14.stop()}}}),null,this)}},{key:"_syncJoinStyleMeta",value:function _syncJoinStyleMeta(syncContext,join){var joinSource;return regeneratorRuntime.async((function _syncJoinStyleMeta$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:joinSource=join.getRightJoinSource();return _context15.abrupt("return",this._syncStyleMeta(_objectSpread({source:joinSource,sourceQuery:joinSource.getWhereQuery(),dataRequestId:join.getSourceMetaDataRequestId(),dynamicStyleProps:this._style.getDynamicPropertiesArray().filter((function(dynamicStyleProp){var matchingField=joinSource.getMetricFieldForName(dynamicStyleProp.getField().getName());return dynamicStyleProp.getFieldOrigin()===_constants.FIELD_ORIGIN.JOIN&&!!matchingField&&dynamicStyleProp.isFieldMetaEnabled()}))},syncContext)));case 2:case"end":return _context15.stop()}}}),null,this)}},{key:"_syncStyleMeta",value:function _syncStyleMeta(_ref5){var source,sourceQuery,dataRequestId,dynamicStyleProps,dataFilters,startLoading,stopLoading,onLoadError,registerCancelCallback,dynamicStyleFields,nextMeta,prevDataRequest,canSkipFetch,requestToken,_layerName,styleMeta;return regeneratorRuntime.async((function _syncStyleMeta$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:source=_ref5.source,sourceQuery=_ref5.sourceQuery,dataRequestId=_ref5.dataRequestId,dynamicStyleProps=_ref5.dynamicStyleProps,dataFilters=_ref5.dataFilters,startLoading=_ref5.startLoading,stopLoading=_ref5.stopLoading,onLoadError=_ref5.onLoadError,registerCancelCallback=_ref5.registerCancelCallback;if(!(!source.isESSource()||dynamicStyleProps.length===0)){_context16.next=3;break}return _context16.abrupt("return");case 3:dynamicStyleFields=dynamicStyleProps.map((function(dynamicStyleProp){return dynamicStyleProp.getField().getName()}));_context16.t0=_lodash.default.uniq(dynamicStyleFields).sort();_context16.t1=sourceQuery;_context16.t2=this._style.isTimeAware();if(!_context16.t2){_context16.next=11;break}_context16.next=10;return regeneratorRuntime.awrap(source.isTimeAware());case 10:_context16.t2=_context16.sent;case 11:_context16.t3=_context16.t2;_context16.t4=dataFilters.timeFilters;nextMeta={dynamicStyleFields:_context16.t0,sourceQuery:_context16.t1,isTimeAware:_context16.t3,timeFilters:_context16.t4};prevDataRequest=this._findDataRequestById(dataRequestId);canSkipFetch=(0,_can_skip_fetch.canSkipStyleMetaUpdate)({prevDataRequest:prevDataRequest,nextMeta:nextMeta});if(!canSkipFetch){_context16.next=18;break}return _context16.abrupt("return");case 18:requestToken=Symbol("layer-".concat(this.getId(),"-").concat(dataRequestId));_context16.prev=19;startLoading(dataRequestId,requestToken,nextMeta);_context16.next=23;return regeneratorRuntime.awrap(this.getDisplayName());case 23:_layerName=_context16.sent;_context16.next=26;return regeneratorRuntime.awrap(source.loadStylePropsMeta(_layerName,this._style,dynamicStyleProps,registerCancelCallback,nextMeta));case 26:styleMeta=_context16.sent;stopLoading(dataRequestId,requestToken,styleMeta,nextMeta);_context16.next=33;break;case 30:_context16.prev=30;_context16.t5=_context16["catch"](19);if(!(_context16.t5 instanceof _data_request.DataRequestAbortError)){onLoadError(dataRequestId,requestToken,_context16.t5.message)}case 33:case"end":return _context16.stop()}}}),null,this,[[19,30]])}},{key:"_syncSourceFormatters",value:function _syncSourceFormatters(syncContext){return regeneratorRuntime.async((function _syncSourceFormatters$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:if(!(this._style.constructor.type!==_constants.LAYER_STYLE_TYPE.VECTOR)){_context17.next=2;break}return _context17.abrupt("return");case 2:return _context17.abrupt("return",this._syncFormatters(_objectSpread({source:this._source,dataRequestId:_constants.SOURCE_FORMATTERS_ID_ORIGIN,fields:this._style.getDynamicPropertiesArray().filter((function(dynamicStyleProp){return dynamicStyleProp.getFieldOrigin()===_constants.FIELD_ORIGIN.SOURCE})).map((function(dynamicStyleProp){return dynamicStyleProp.getField()}))},syncContext)));case 3:case"end":return _context17.stop()}}}),null,this)}},{key:"_syncJoinFormatters",value:function _syncJoinFormatters(syncContext,join){var joinSource;return regeneratorRuntime.async((function _syncJoinFormatters$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:joinSource=join.getRightJoinSource();return _context18.abrupt("return",this._syncFormatters(_objectSpread({source:joinSource,dataRequestId:join.getSourceFormattersDataRequestId(),fields:this._style.getDynamicPropertiesArray().filter((function(dynamicStyleProp){var matchingField=joinSource.getMetricFieldForName(dynamicStyleProp.getField().getName());return dynamicStyleProp.getFieldOrigin()===_constants.FIELD_ORIGIN.JOIN&&!!matchingField})).map((function(dynamicStyleProp){return dynamicStyleProp.getField()}))},syncContext)));case 2:case"end":return _context18.stop()}}}),null,this)}},{key:"_syncFormatters",value:function _syncFormatters(_ref6){var source,dataRequestId,fields,startLoading,stopLoading,onLoadError,fieldNames,nextMeta,prevDataRequest,canSkipUpdate,requestToken,formatters,promises;return regeneratorRuntime.async((function _syncFormatters$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:source=_ref6.source,dataRequestId=_ref6.dataRequestId,fields=_ref6.fields,startLoading=_ref6.startLoading,stopLoading=_ref6.stopLoading,onLoadError=_ref6.onLoadError;if(!(fields.length===0)){_context20.next=3;break}return _context20.abrupt("return");case 3:fieldNames=fields.map((function(field){return field.getName()}));nextMeta={fieldNames:_lodash.default.uniq(fieldNames).sort()};prevDataRequest=this._findDataRequestById(dataRequestId);canSkipUpdate=(0,_can_skip_fetch.canSkipFormattersUpdate)({prevDataRequest:prevDataRequest,nextMeta:nextMeta});if(!canSkipUpdate){_context20.next=9;break}return _context20.abrupt("return");case 9:requestToken=Symbol("layer-".concat(this.getId(),"-").concat(dataRequestId));_context20.prev=10;startLoading(dataRequestId,requestToken,nextMeta);formatters={};promises=fields.map((function _callee2(field){var fieldName;return regeneratorRuntime.async((function _callee2$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:fieldName=field.getName();_context19.next=3;return regeneratorRuntime.awrap(source.getFieldFormatter(fieldName));case 3:formatters[fieldName]=_context19.sent;case 4:case"end":return _context19.stop()}}}))}));_context20.next=16;return regeneratorRuntime.awrap(Promise.all(promises));case 16:stopLoading(dataRequestId,requestToken,formatters,nextMeta);_context20.next=22;break;case 19:_context20.prev=19;_context20.t0=_context20["catch"](10);onLoadError(dataRequestId,requestToken,_context20.t0.message);case 22:case"end":return _context20.stop()}}}),null,this,[[10,19]])}},{key:"syncData",value:function syncData(syncContext){var sourceResult,joinStates;return regeneratorRuntime.async((function syncData$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:if(!(!this.isVisible()||!this.showAtZoomLevel(syncContext.dataFilters.zoom))){_context21.next=2;break}return _context21.abrupt("return");case 2:_context21.next=4;return regeneratorRuntime.awrap(this._syncSourceStyleMeta(syncContext));case 4:_context21.next=6;return regeneratorRuntime.awrap(this._syncSourceFormatters(syncContext));case 6:_context21.next=8;return regeneratorRuntime.awrap(this._syncSource(syncContext));case 8:sourceResult=_context21.sent;if(!(!sourceResult.featureCollection||!sourceResult.featureCollection.features.length||!this._hasJoins())){_context21.next=11;break}return _context21.abrupt("return");case 11:_context21.next=13;return regeneratorRuntime.awrap(this._syncJoins(syncContext));case 13:joinStates=_context21.sent;_context21.next=16;return regeneratorRuntime.awrap(this._performInnerJoins(sourceResult,joinStates,syncContext.updateSourceData));case 16:case"end":return _context21.stop()}}}),null,this)}},{key:"_getSourceFeatureCollection",value:function _getSourceFeatureCollection(){var sourceDataRequest=this.getSourceDataRequest();return sourceDataRequest?sourceDataRequest.getData():null}},{key:"_syncFeatureCollectionWithMb",value:function _syncFeatureCollectionWithMb(mbMap){var mbGeoJSONSource=mbMap.getSource(this.getId());var featureCollection=this._getSourceFeatureCollection();var featureCollectionOnMap=_layer.AbstractLayer.getBoundDataForSource(mbMap,this.getId());if(!featureCollection){if(featureCollectionOnMap){this._style.clearFeatureState(featureCollectionOnMap,mbMap,this.getId())}mbGeoJSONSource.setData(_constants.EMPTY_FEATURE_COLLECTION);return}var hasGeoJsonProperties=this._style.setFeatureStateAndStyleProps(featureCollection,mbMap,this.getId());if(featureCollection!==featureCollectionOnMap||hasGeoJsonProperties){mbGeoJSONSource.setData(featureCollection)}}},{key:"_setMbPointsProperties",value:function _setMbPointsProperties(mbMap){var pointLayerId=this._getMbPointLayerId();var symbolLayerId=this._getMbSymbolLayerId();var pointLayer=mbMap.getLayer(pointLayerId);var symbolLayer=mbMap.getLayer(symbolLayerId);var markerLayerId;var textLayerId;if(this._style.arePointsSymbolizedAsCircles()){markerLayerId=pointLayerId;textLayerId=this._getMbTextLayerId();if(symbolLayer){mbMap.setLayoutProperty(symbolLayerId,"visibility","none")}this._setMbCircleProperties(mbMap)}else{markerLayerId=symbolLayerId;textLayerId=symbolLayerId;if(pointLayer){mbMap.setLayoutProperty(pointLayerId,"visibility","none");mbMap.setLayoutProperty(this._getMbTextLayerId(),"visibility","none")}this._setMbSymbolProperties(mbMap)}this.syncVisibilityWithMb(mbMap,markerLayerId);mbMap.setLayerZoomRange(markerLayerId,this._descriptor.minZoom,this._descriptor.maxZoom);if(markerLayerId!==textLayerId){this.syncVisibilityWithMb(mbMap,textLayerId);mbMap.setLayerZoomRange(textLayerId,this._descriptor.minZoom,this._descriptor.maxZoom)}}},{key:"_setMbCircleProperties",value:function _setMbCircleProperties(mbMap){var sourceId=this.getId();var pointLayerId=this._getMbPointLayerId();var pointLayer=mbMap.getLayer(pointLayerId);if(!pointLayer){mbMap.addLayer({id:pointLayerId,type:"circle",source:sourceId,paint:{}})}var textLayerId=this._getMbTextLayerId();var textLayer=mbMap.getLayer(textLayerId);if(!textLayer){mbMap.addLayer({id:textLayerId,type:"symbol",source:sourceId})}var filterExpr=(0,_mb_filter_expressions.getPointFilterExpression)(this._hasJoins());if(filterExpr!==mbMap.getFilter(pointLayerId)){mbMap.setFilter(pointLayerId,filterExpr);mbMap.setFilter(textLayerId,filterExpr)}this._style.setMBPaintPropertiesForPoints({alpha:this.getAlpha(),mbMap:mbMap,pointLayerId:pointLayerId});this._style.setMBPropertiesForLabelText({alpha:this.getAlpha(),mbMap:mbMap,textLayerId:textLayerId})}},{key:"_setMbSymbolProperties",value:function _setMbSymbolProperties(mbMap){var sourceId=this.getId();var symbolLayerId=this._getMbSymbolLayerId();var symbolLayer=mbMap.getLayer(symbolLayerId);if(!symbolLayer){mbMap.addLayer({id:symbolLayerId,type:"symbol",source:sourceId})}var filterExpr=(0,_mb_filter_expressions.getPointFilterExpression)(this._hasJoins());if(filterExpr!==mbMap.getFilter(symbolLayerId)){mbMap.setFilter(symbolLayerId,filterExpr)}this._style.setMBSymbolPropertiesForPoints({alpha:this.getAlpha(),mbMap:mbMap,symbolLayerId:symbolLayerId});this._style.setMBPropertiesForLabelText({alpha:this.getAlpha(),mbMap:mbMap,textLayerId:symbolLayerId})}},{key:"_setMbLinePolygonProperties",value:function _setMbLinePolygonProperties(mbMap){var sourceId=this.getId();var fillLayerId=this._getMbPolygonLayerId();var lineLayerId=this._getMbLineLayerId();var hasJoins=this._hasJoins();if(!mbMap.getLayer(fillLayerId)){mbMap.addLayer({id:fillLayerId,type:"fill",source:sourceId,paint:{}})}if(!mbMap.getLayer(lineLayerId)){mbMap.addLayer({id:lineLayerId,type:"line",source:sourceId,paint:{}})}this._style.setMBPaintProperties({alpha:this.getAlpha(),mbMap:mbMap,fillLayerId:fillLayerId,lineLayerId:lineLayerId});this.syncVisibilityWithMb(mbMap,fillLayerId);mbMap.setLayerZoomRange(fillLayerId,this._descriptor.minZoom,this._descriptor.maxZoom);var fillFilterExpr=(0,_mb_filter_expressions.getFillFilterExpression)(hasJoins);if(fillFilterExpr!==mbMap.getFilter(fillLayerId)){mbMap.setFilter(fillLayerId,fillFilterExpr)}this.syncVisibilityWithMb(mbMap,lineLayerId);mbMap.setLayerZoomRange(lineLayerId,this._descriptor.minZoom,this._descriptor.maxZoom);var lineFilterExpr=(0,_mb_filter_expressions.getLineFilterExpression)(hasJoins);if(lineFilterExpr!==mbMap.getFilter(lineLayerId)){mbMap.setFilter(lineLayerId,lineFilterExpr)}}},{key:"_syncStylePropertiesWithMb",value:function _syncStylePropertiesWithMb(mbMap){this._setMbPointsProperties(mbMap);this._setMbLinePolygonProperties(mbMap)}},{key:"_syncSourceBindingWithMb",value:function _syncSourceBindingWithMb(mbMap){var mbSource=mbMap.getSource(this.getId());if(!mbSource){mbMap.addSource(this.getId(),{type:"geojson",data:_constants.EMPTY_FEATURE_COLLECTION})}}},{key:"syncLayerWithMB",value:function syncLayerWithMB(mbMap){this._syncSourceBindingWithMb(mbMap);this._syncFeatureCollectionWithMb(mbMap);this._syncStylePropertiesWithMb(mbMap)}},{key:"_getMbPointLayerId",value:function _getMbPointLayerId(){return this.makeMbLayerId("circle")}},{key:"_getMbTextLayerId",value:function _getMbTextLayerId(){return this.makeMbLayerId("text")}},{key:"_getMbSymbolLayerId",value:function _getMbSymbolLayerId(){return this.makeMbLayerId("symbol")}},{key:"_getMbLineLayerId",value:function _getMbLineLayerId(){return this.makeMbLayerId("line")}},{key:"_getMbPolygonLayerId",value:function _getMbPolygonLayerId(){return this.makeMbLayerId("fill")}},{key:"getMbLayerIds",value:function getMbLayerIds(){return[this._getMbPointLayerId(),this._getMbTextLayerId(),this._getMbSymbolLayerId(),this._getMbLineLayerId(),this._getMbPolygonLayerId()]}},{key:"ownsMbLayerId",value:function ownsMbLayerId(mbLayerId){return this.getMbLayerIds().includes(mbLayerId)}},{key:"ownsMbSourceId",value:function ownsMbSourceId(mbSourceId){return this.getId()===mbSourceId}},{key:"_addJoinsToSourceTooltips",value:function _addJoinsToSourceTooltips(tooltipsFromSource){for(var _i=0;_i<tooltipsFromSource.length;_i++){var tooltipProperty=tooltipsFromSource[_i];var matchingJoins=[];for(var _j=0;_j<this._joins.length;_j++){if(this._joins[_j].getLeftField().getName()===tooltipProperty.getPropertyKey()){matchingJoins.push(this._joins[_j])}}if(matchingJoins.length){tooltipsFromSource[_i]=new _join_tooltip_property.JoinTooltipProperty(tooltipProperty,matchingJoins)}}}},{key:"getPropertiesForTooltip",value:function getPropertiesForTooltip(properties){var allTooltips,_i2,propsFromJoin;return regeneratorRuntime.async((function getPropertiesForTooltip$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:_context22.next=2;return regeneratorRuntime.awrap(this._source.filterAndFormatPropertiesToHtml(properties));case 2:allTooltips=_context22.sent;this._addJoinsToSourceTooltips(allTooltips);_i2=0;case 5:if(!(_i2<this._joins.length)){_context22.next=13;break}_context22.next=8;return regeneratorRuntime.awrap(this._joins[_i2].filterAndFormatPropertiesForTooltip(properties));case 8:propsFromJoin=_context22.sent;allTooltips=[].concat(_toConsumableArray(allTooltips),_toConsumableArray(propsFromJoin));case 10:_i2++;_context22.next=5;break;case 13:return _context22.abrupt("return",allTooltips);case 14:case"end":return _context22.stop()}}}),null,this)}},{key:"canShowTooltip",value:function canShowTooltip(){return this.isVisible()&&(this._source.canFormatFeatureProperties()||this._joins.length)}},{key:"getFeatureById",value:function getFeatureById(id){var featureCollection=this._getSourceFeatureCollection();if(!featureCollection){return}return featureCollection.features.find((function(feature){return feature.properties[_constants.FEATURE_ID_PROPERTY_NAME]===id}))}}]);return VectorLayer}(_layer.AbstractLayer);exports.VectorLayer=VectorLayer;_defineProperty(VectorLayer,"type",_constants.LAYER_TYPE.VECTOR)},405:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMakiSymbolSvg=getMakiSymbolSvg;exports.getMakiSymbolAnchor=getMakiSymbolAnchor;exports.buildSrcUrl=buildSrcUrl;exports.styleSvg=styleSvg;exports.SYMBOL_OPTIONS=exports.SYMBOLS=exports.HALF_LARGE_MAKI_ICON_SIZE=exports.SMALL_MAKI_ICON_SIZE=exports.LARGE_MAKI_ICON_SIZE=void 0;var _maki=_interopRequireDefault(__webpack_require__(1064));var _xml2js=_interopRequireDefault(__webpack_require__(1071));var _parse_xml_string=__webpack_require__(1006);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LARGE_MAKI_ICON_SIZE=15;exports.LARGE_MAKI_ICON_SIZE=LARGE_MAKI_ICON_SIZE;var LARGE_MAKI_ICON_SIZE_AS_STRING=LARGE_MAKI_ICON_SIZE.toString();var SMALL_MAKI_ICON_SIZE=11;exports.SMALL_MAKI_ICON_SIZE=SMALL_MAKI_ICON_SIZE;var HALF_LARGE_MAKI_ICON_SIZE=Math.ceil(LARGE_MAKI_ICON_SIZE);exports.HALF_LARGE_MAKI_ICON_SIZE=HALF_LARGE_MAKI_ICON_SIZE;var SYMBOLS={};exports.SYMBOLS=SYMBOLS;_maki.default.svgArray.forEach((function(svgString){var ID_FRAG='id="';var index=svgString.indexOf(ID_FRAG);if(index!==-1){var idStartIndex=index+ID_FRAG.length;var idEndIndex=svgString.substring(idStartIndex).indexOf('"')+idStartIndex;var fullSymbolId=svgString.substring(idStartIndex,idEndIndex);var symbolId=fullSymbolId.substring(0,fullSymbolId.length-3);var symbolSize=fullSymbolId.substring(fullSymbolId.length-2);if(symbolSize===LARGE_MAKI_ICON_SIZE_AS_STRING){SYMBOLS[symbolId]=svgString}}}));var SYMBOL_OPTIONS=Object.keys(SYMBOLS).map((function(symbolId){return{value:symbolId,label:symbolId}}));exports.SYMBOL_OPTIONS=SYMBOL_OPTIONS;function getMakiSymbolSvg(symbolId){if(!SYMBOLS[symbolId]){throw new Error("Unable to find symbol: ".concat(symbolId))}return SYMBOLS[symbolId]}function getMakiSymbolAnchor(symbolId){switch(symbolId){case"embassy":case"marker":case"marker-stroked":return"bottom";default:return"center"}}function buildSrcUrl(svgString){var domUrl=window.URL||window.webkitURL||window;var svg=new Blob([svgString],{type:"image/svg+xml"});return domUrl.createObjectURL(svg)}function styleSvg(svgString,fill,stroke,strokeWidth){var svgXml,style,builder;return regeneratorRuntime.async((function styleSvg$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap((0,_parse_xml_string.parseXmlString)(svgString));case 2:svgXml=_context.sent;style="";if(fill){style+="fill:".concat(fill,";")}if(stroke){style+="stroke:".concat(stroke,";")}if(strokeWidth){style+="stroke-width:".concat(strokeWidth,";")}if(style)svgXml.svg.$.style=style;builder=new _xml2js.default.Builder;return _context.abrupt("return",builder.buildObject(svgXml));case 10:case"end":return _context.stop()}}}))}},406:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TooltipProperty=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var TooltipProperty=function(){function TooltipProperty(propertyKey,propertyName,rawValue){_classCallCheck(this,TooltipProperty);this._propertyKey=propertyKey;this._propertyName=propertyName;this._rawValue=rawValue}_createClass(TooltipProperty,[{key:"getPropertyKey",value:function getPropertyKey(){return this._propertyKey}},{key:"getPropertyName",value:function getPropertyName(){return this._propertyName}},{key:"getHtmlDisplayValue",value:function getHtmlDisplayValue(){return _lodash.default.escape(this._rawValue)}},{key:"getRawValue",value:function getRawValue(){return this._rawValue}},{key:"isFilterable",value:function isFilterable(){return false}},{key:"getESFilters",value:function getESFilters(){return regeneratorRuntime.async((function getESFilters$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",[]);case 1:case"end":return _context.stop()}}}))}}]);return TooltipProperty}();exports.TooltipProperty=TooltipProperty},407:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useFormContext=exports.FormProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var FormContext=(0,_react.createContext)(undefined);var FormProvider=function FormProvider(_ref){var children=_ref.children,form=_ref.form;return _react.default.createElement(FormContext.Provider,{value:form},children)};exports.FormProvider=FormProvider;var useFormContext=function useFormContext(){var context=(0,_react.useContext)(FormContext);if(context===undefined){throw new Error("useFormContext must be used within a <FormProvider />")}return context};exports.useFormContext=useFormContext},413:function(module,exports,__webpack_require__){__webpack_require__(1074);__webpack_require__(1942)},509:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StylePropEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _get_vector_style_label=__webpack_require__(681);var _eui=__webpack_require__(1);var _vector_style=__webpack_require__(249);var _i18n=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var StylePropEditor=function(_Component){_inherits(StylePropEditor,_Component);function StylePropEditor(){var _getPrototypeOf2;var _this;_classCallCheck(this,StylePropEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(StylePropEditor)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"_prevStaticStyleOptions",_this.props.defaultStaticStyleOptions);_defineProperty(_assertThisInitialized(_this),"_prevDynamicStyleOptions",_this.props.defaultDynamicStyleOptions);_defineProperty(_assertThisInitialized(_this),"_onTypeToggle",(function(){if(_this.props.styleProperty.isDynamic()){_this._prevDynamicStyleOptions=_this.props.styleProperty.getOptions();_this.props.onStaticStyleChange(_this.props.styleProperty.getStyleName(),_this._prevStaticStyleOptions)}else{_this._prevStaticStyleOptions=_this.props.styleProperty.getOptions();_this.props.onDynamicStyleChange(_this.props.styleProperty.getStyleName(),_this._prevDynamicStyleOptions)}}));_defineProperty(_assertThisInitialized(_this),"_onFieldMetaOptionsChange",(function(fieldMetaOptions){var options=_objectSpread({},_this.props.styleProperty.getOptions(),{fieldMetaOptions:fieldMetaOptions});_this.props.onDynamicStyleChange(_this.props.styleProperty.getStyleName(),options)}));return _this}_createClass(StylePropEditor,[{key:"renderStaticDynamicSelect",value:function renderStaticDynamicSelect(){var options=[{value:_vector_style.VectorStyle.STYLE_TYPE.STATIC,text:this.props.customStaticOptionLabel?this.props.customStaticOptionLabel:_i18n.i18n.translate("xpack.maps.styles.staticDynamicSelect.staticLabel",{defaultMessage:"Fixed"})},{value:_vector_style.VectorStyle.STYLE_TYPE.DYNAMIC,text:_i18n.i18n.translate("xpack.maps.styles.staticDynamicSelect.dynamicLabel",{defaultMessage:"By value"})}];return _react.default.createElement(_eui.EuiSelect,{options:options,value:this.props.styleProperty.isDynamic()?_vector_style.VectorStyle.STYLE_TYPE.DYNAMIC:_vector_style.VectorStyle.STYLE_TYPE.STATIC,onChange:this._onTypeToggle,disabled:this.props.fields.length===0,"aria-label":_i18n.i18n.translate("xpack.maps.styles.staticDynamicSelect.ariaLabel",{defaultMessage:"Select to style by fixed value or by data value"}),compressed:true})}},{key:"render",value:function render(){var fieldMetaOptionsPopover=this.props.styleProperty.renderFieldMetaPopover(this._onFieldMetaOptionsChange);return _react.default.createElement(_eui.EuiFormRow,{label:(0,_get_vector_style_label.getVectorStyleLabel)(this.props.styleProperty.getStyleName()),display:"rowCompressed"},_react.default.createElement(_react.Fragment,null,_react.default.cloneElement(this.props.children,{staticDynamicSelect:this.renderStaticDynamicSelect()}),fieldMetaOptionsPopover))}}]);return StylePropEditor}(_react.Component);exports.StylePropEditor=StylePropEditor},510:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_ICON_SIZE=exports.SYMBOLIZE_AS_ICON=exports.SYMBOLIZE_AS_CIRCLE=void 0;var SYMBOLIZE_AS_CIRCLE="circle";exports.SYMBOLIZE_AS_CIRCLE=SYMBOLIZE_AS_CIRCLE;var SYMBOLIZE_AS_ICON="icon";exports.SYMBOLIZE_AS_ICON=SYMBOLIZE_AS_ICON;var DEFAULT_ICON_SIZE=6;exports.DEFAULT_ICON_SIZE=DEFAULT_ICON_SIZE},511:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColorGradient=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _color_utils=__webpack_require__(201);var _classnames=_interopRequireDefault(__webpack_require__(63));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ColorGradient=function ColorGradient(_ref){var colorRamp=_ref.colorRamp,colorRampName=_ref.colorRampName,className=_ref.className;if(!colorRamp&&(!colorRampName||!_color_utils.COLOR_RAMP_NAMES.includes(colorRampName))){return null}var classes=(0,_classnames.default)("mapColorGradient",className);var rgbColorStrings=colorRampName?(0,_color_utils.getRGBColorRangeStrings)(colorRampName):colorRamp;var background=(0,_color_utils.getLinearGradient)(rgbColorStrings);return _react.default.createElement("div",{className:classes,style:{background:background}})};exports.ColorGradient=ColorGradient},512:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldSelect=FieldSelect;exports.fieldShape=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(5));var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _constants=__webpack_require__(25);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function FieldSelect(_ref){var fields=_ref.fields,selectedFieldName=_ref.selectedFieldName,onChange=_ref.onChange,rest=_objectWithoutProperties(_ref,["fields","selectedFieldName","onChange"]);var onFieldChange=function onFieldChange(selectedFields){onChange({field:selectedFields.length>0?selectedFields[0].value:null})};var groupFieldsByOrigin=function groupFieldsByOrigin(){var fieldsByOriginMap=new Map;fields.forEach((function(field){if(fieldsByOriginMap.has(field.origin)){var fieldsList=fieldsByOriginMap.get(field.origin);fieldsList.push(field);fieldsByOriginMap.set(field.origin,fieldsList)}else{fieldsByOriginMap.set(field.origin,[field])}}));var optionGroups=[];fieldsByOriginMap.forEach((function(fieldsList,fieldOrigin){optionGroups.push({label:fieldOrigin,options:fieldsList.map((function(field){return{value:field,label:field.label}})).sort((function(a,b){return a.label.toLowerCase().localeCompare(b.label.toLowerCase())}))})}));optionGroups.sort((function(a,b){return a.label.toLowerCase().localeCompare(b.label.toLowerCase())}));return optionGroups};var selectedOption;if(selectedFieldName){selectedOption=fields.find((function(field){return field.name===selectedFieldName}))}return _react.default.createElement(_eui.EuiComboBox,_extends({selectedOptions:selectedOption?[selectedOption]:[],options:groupFieldsByOrigin(),onChange:onFieldChange,singleSelection:{asPlainText:true},isClearable:false,fullWidth:true,placeholder:_i18n.i18n.translate("xpack.maps.styles.vector.selectFieldPlaceholder",{defaultMessage:"Select a field"})},rest))}var fieldShape=_propTypes.default.shape({name:_propTypes.default.string.isRequired,origin:_propTypes.default.oneOf(["join",_constants.SOURCE_DATA_ID_ORIGIN]).isRequired});exports.fieldShape=fieldShape;FieldSelect.propTypes={selectedFieldName:_propTypes.default.string,fields:_propTypes.default.arrayOf(fieldShape).isRequired,onChange:_propTypes.default.func.isRequired}},513:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.removeRow=removeRow;exports.addOrdinalRow=addOrdinalRow;exports.addCategoricalRow=addCategoricalRow;exports.isColorInvalid=isColorInvalid;exports.isOrdinalStopInvalid=isOrdinalStopInvalid;exports.isCategoricalStopsInvalid=isCategoricalStopsInvalid;exports.isOrdinalStopsInvalid=isOrdinalStopsInvalid;exports.getOtherCategoryLabel=getOtherCategoryLabel;exports.DEFAULT_NEXT_COLOR=exports.DEFAULT_CUSTOM_COLOR=void 0;var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var DEFAULT_CUSTOM_COLOR="#FF0000";exports.DEFAULT_CUSTOM_COLOR=DEFAULT_CUSTOM_COLOR;var DEFAULT_NEXT_COLOR="#00FF00";exports.DEFAULT_NEXT_COLOR=DEFAULT_NEXT_COLOR;function removeRow(colorStops,index){if(colorStops.length===1){return colorStops}return[].concat(_toConsumableArray(colorStops.slice(0,index)),_toConsumableArray(colorStops.slice(index+1)))}function addOrdinalRow(colorStops,index){var currentStop=colorStops[index].stop;var delta=1;if(index===colorStops.length-1){if(index!==0){var prevStop=colorStops[index-1].stop;delta=currentStop-prevStop}}else{var nextStop=colorStops[index+1].stop;delta=(nextStop-currentStop)/2}var nextValue=currentStop+delta;return addRow(colorStops,index,nextValue)}function addCategoricalRow(colorStops,index){var currentStop=colorStops[index].stop;var nextValue=currentStop===""?currentStop+"a":"";return addRow(colorStops,index,nextValue)}function addRow(colorStops,index,nextValue){var newRow={stop:nextValue,color:DEFAULT_CUSTOM_COLOR};return[].concat(_toConsumableArray(colorStops.slice(0,index+1)),[newRow],_toConsumableArray(colorStops.slice(index+1)))}function isColorInvalid(color){return!(0,_eui.isValidHex)(color)||color===""}function isOrdinalStopInvalid(stop){return stop===""||isNaN(stop)}function isCategoricalStopsInvalid(colorStops){var nonDefaults=colorStops.slice(1);var values=nonDefaults.map((function(stop){return stop.stop}));var uniques=_lodash.default.uniq(values);return values.length!==uniques.length}function isOrdinalStopsInvalid(colorStops){return colorStops.some((function(colorStop,index){var isDescending=false;if(index!==0){var prevStop=colorStops[index-1].stop;isDescending=prevStop>=colorStop.stop}return isColorInvalid(colorStop.color)||isOrdinalStopInvalid(colorStop.stop)||isDescending}))}function getOtherCategoryLabel(){return _i18n.i18n.translate("xpack.maps.styles.categorical.otherCategoryLabel",{defaultMessage:"Other"})}},514:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ValidatedRange=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function isWithinRange(min,max,value){if(value>=min&&value<=max){return true}return false}var ValidatedRange=function(_React$Component){_inherits(ValidatedRange,_React$Component);function ValidatedRange(){var _getPrototypeOf2;var _this;_classCallCheck(this,ValidatedRange);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ValidatedRange)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{});_defineProperty(_assertThisInitialized(_this),"_onRangeChange",(function(e){var sanitizedValue=parseFloat(e.target.value,10);var newValue=isNaN(sanitizedValue)?"":sanitizedValue;newValue=Number(newValue);var isValid=isWithinRange(_this.props.min,_this.props.max,newValue)?true:false;_this.setState({value:newValue,isValid:isValid});if(isValid){_this.props.onChange(newValue)}}));return _this}_createClass(ValidatedRange,[{key:"render",value:function render(){var _this$props=this.props,max=_this$props.max,min=_this$props.min,value=_this$props.value,onChange=_this$props.onChange,rest=_objectWithoutProperties(_this$props,["max","min","value","onChange"]);var rangeInput=_react.default.createElement(_eui.EuiRange,_extends({min:min,max:max,value:this.state.value.toString(),onChange:this._onRangeChange},rest));if(!this.state.isValid){return _react.default.createElement("div",null,rangeInput,_react.default.createElement(_eui.EuiFormErrorText,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.validatedRange.rangeErrorMessage",defaultMessage:"Must be between {min} and {max}",values:{min:min,max:max}})))}return rangeInput}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){if(nextProps.value!==prevState.prevValue){return{value:nextProps.value,prevValue:nextProps.value,isValid:isWithinRange(nextProps.min,nextProps.max,nextProps.value)}}return null}}]);return ValidatedRange}(_react.default.Component);exports.ValidatedRange=ValidatedRange},515:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ESDocField=void 0;var _field=__webpack_require__(516);var _es_tooltip_property=__webpack_require__(1011);var _constants=__webpack_require__(25);var _public=__webpack_require__(11);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ESDocField=function(_AbstractField){_inherits(ESDocField,_AbstractField);function ESDocField(){_classCallCheck(this,ESDocField);return _possibleConstructorReturn(this,_getPrototypeOf(ESDocField).apply(this,arguments))}_createClass(ESDocField,[{key:"_getField",value:function _getField(){var indexPattern,field;return regeneratorRuntime.async((function _getField$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(this._source.getIndexPattern());case 2:indexPattern=_context.sent;field=indexPattern.fields.getByName(this._fieldName);return _context.abrupt("return",(0,_public.isNestedField)(field)?undefined:field);case 5:case"end":return _context.stop()}}}),null,this)}},{key:"createTooltipProperty",value:function createTooltipProperty(value){var indexPattern;return regeneratorRuntime.async((function createTooltipProperty$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return regeneratorRuntime.awrap(this._source.getIndexPattern());case 2:indexPattern=_context2.sent;return _context2.abrupt("return",new _es_tooltip_property.ESTooltipProperty(this.getName(),this.getName(),value,indexPattern));case 4:case"end":return _context2.stop()}}}),null,this)}},{key:"getDataType",value:function getDataType(){var field;return regeneratorRuntime.async((function getDataType$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return regeneratorRuntime.awrap(this._getField());case 2:field=_context3.sent;return _context3.abrupt("return",field.type);case 4:case"end":return _context3.stop()}}}),null,this)}},{key:"supportsFieldMeta",value:function supportsFieldMeta(){return true}},{key:"getOrdinalFieldMetaRequest",value:function getOrdinalFieldMetaRequest(){var field,extendedStats;return regeneratorRuntime.async((function getOrdinalFieldMetaRequest$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return regeneratorRuntime.awrap(this._getField());case 2:field=_context4.sent;if(!(field.type!=="number"&&field.type!=="date")){_context4.next=5;break}return _context4.abrupt("return",null);case 5:extendedStats={};if(field.scripted){extendedStats.script={source:field.script,lang:field.lang}}else{extendedStats.field=this._fieldName}return _context4.abrupt("return",_defineProperty({},this._fieldName,{extended_stats:extendedStats}));case 8:case"end":return _context4.stop()}}}),null,this)}},{key:"getCategoricalFieldMetaRequest",value:function getCategoricalFieldMetaRequest(){var field,topTerms;return regeneratorRuntime.async((function getCategoricalFieldMetaRequest$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return regeneratorRuntime.awrap(this._getField());case 2:field=_context5.sent;if(!(field.type!=="string")){_context5.next=5;break}return _context5.abrupt("return",null);case 5:topTerms={size:_constants.COLOR_PALETTE_MAX_SIZE-1};if(field.scripted){topTerms.script={source:field.script,lang:field.lang}}else{topTerms.field=this._fieldName}return _context5.abrupt("return",_defineProperty({},this._fieldName,{terms:topTerms}));case 8:case"end":return _context5.stop()}}}),null,this)}}]);return ESDocField}(_field.AbstractField);exports.ESDocField=ESDocField;_defineProperty(ESDocField,"type","ES_DOC")},516:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AbstractField=void 0;var _constants=__webpack_require__(25);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var AbstractField=function(){function AbstractField(_ref){var fieldName=_ref.fieldName,source=_ref.source,origin=_ref.origin;_classCallCheck(this,AbstractField);this._fieldName=fieldName;this._source=source;this._origin=origin||_constants.FIELD_ORIGIN.SOURCE}_createClass(AbstractField,[{key:"getName",value:function getName(){return this._fieldName}},{key:"getSource",value:function getSource(){return this._source}},{key:"isValid",value:function isValid(){return!!this._fieldName}},{key:"getDataType",value:function getDataType(){return regeneratorRuntime.async((function getDataType$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return","string");case 1:case"end":return _context.stop()}}}))}},{key:"getLabel",value:function getLabel(){return regeneratorRuntime.async((function getLabel$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",this._fieldName);case 1:case"end":return _context2.stop()}}}),null,this)}},{key:"createTooltipProperty",value:function createTooltipProperty(){return regeneratorRuntime.async((function createTooltipProperty$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:throw new Error("must implement Field#createTooltipProperty");case 1:case"end":return _context3.stop()}}}))}},{key:"getOrigin",value:function getOrigin(){return this._origin}},{key:"supportsFieldMeta",value:function supportsFieldMeta(){return false}},{key:"getOrdinalFieldMetaRequest",value:function getOrdinalFieldMetaRequest(){return regeneratorRuntime.async((function getOrdinalFieldMetaRequest$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",null);case 1:case"end":return _context4.stop()}}}))}},{key:"getCategoricalFieldMetaRequest",value:function getCategoricalFieldMetaRequest(){return regeneratorRuntime.async((function getCategoricalFieldMetaRequest$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",null);case 1:case"end":return _context5.stop()}}}))}}]);return AbstractField}();exports.AbstractField=AbstractField},517:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AbstractVectorSource=void 0;var _vector_layer=__webpack_require__(404);var _tooltip_property=__webpack_require__(406);var _vector_style=__webpack_require__(249);var _source=__webpack_require__(1013);var topojson=_interopRequireWildcard(__webpack_require__(1300));var _lodash=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(2);var _vector_feature_types=__webpack_require__(273);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var AbstractVectorSource=function(_AbstractSource){_inherits(AbstractVectorSource,_AbstractSource);function AbstractVectorSource(){_classCallCheck(this,AbstractVectorSource);return _possibleConstructorReturn(this,_getPrototypeOf(AbstractVectorSource).apply(this,arguments))}_createClass(AbstractVectorSource,[{key:"createField",value:function createField(){throw new Error("Should implemement ".concat(this.constructor.type," ").concat(this))}},{key:"getFieldByName",value:function getFieldByName(name){return this.createField({fieldName:name})}},{key:"_createDefaultLayerDescriptor",value:function _createDefaultLayerDescriptor(options,mapColors){return _vector_layer.VectorLayer.createDescriptor(_objectSpread({sourceDescriptor:this._descriptor},options),mapColors)}},{key:"_getTooltipPropertyNames",value:function _getTooltipPropertyNames(){return this._tooltipFields.map((function(field){return field.getName()}))}},{key:"createDefaultLayer",value:function createDefaultLayer(options,mapColors){var layerDescriptor=this._createDefaultLayerDescriptor(options,mapColors);var style=new _vector_style.VectorStyle(layerDescriptor.style,this);return new _vector_layer.VectorLayer({layerDescriptor:layerDescriptor,source:this,style:style})}},{key:"isFilterByMapBounds",value:function isFilterByMapBounds(){return false}},{key:"isFilterByMapBoundsConfigurable",value:function isFilterByMapBoundsConfigurable(){return false}},{key:"isBoundsAware",value:function isBoundsAware(){return false}},{key:"getBoundsForFilters",value:function getBoundsForFilters(){return regeneratorRuntime.async((function getBoundsForFilters$(_context){while(1){switch(_context.prev=_context.next){case 0:console.warn("Should implement AbstractVectorSource#getBoundsForFilters");return _context.abrupt("return",null);case 2:case"end":return _context.stop()}}}))}},{key:"getDateFields",value:function getDateFields(){return regeneratorRuntime.async((function getDateFields$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",[]);case 1:case"end":return _context2.stop()}}}))}},{key:"getNumberFields",value:function getNumberFields(){return regeneratorRuntime.async((function getNumberFields$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",[]);case 1:case"end":return _context3.stop()}}}))}},{key:"getFields",value:function getFields(){return regeneratorRuntime.async((function getFields$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.t0=[];_context4.t1=_toConsumableArray;_context4.next=4;return regeneratorRuntime.awrap(this.getDateFields());case 4:_context4.t2=_context4.sent;_context4.t3=(0,_context4.t1)(_context4.t2);_context4.t4=_toConsumableArray;_context4.next=9;return regeneratorRuntime.awrap(this.getNumberFields());case 9:_context4.t5=_context4.sent;_context4.t6=(0,_context4.t4)(_context4.t5);return _context4.abrupt("return",_context4.t0.concat.call(_context4.t0,_context4.t3,_context4.t6));case 12:case"end":return _context4.stop()}}}),null,this)}},{key:"getCategoricalFields",value:function getCategoricalFields(){return regeneratorRuntime.async((function getCategoricalFields$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",[]);case 1:case"end":return _context5.stop()}}}))}},{key:"getLeftJoinFields",value:function getLeftJoinFields(){return regeneratorRuntime.async((function getLeftJoinFields$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",[]);case 1:case"end":return _context6.stop()}}}))}},{key:"getGeoJsonWithMeta",value:function getGeoJsonWithMeta(){return regeneratorRuntime.async((function getGeoJsonWithMeta$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:throw new Error("Should implement VectorSource#getGeoJson");case 1:case"end":return _context7.stop()}}}))}},{key:"canFormatFeatureProperties",value:function canFormatFeatureProperties(){return false}},{key:"filterAndFormatPropertiesToHtml",value:function filterAndFormatPropertiesToHtml(properties){var tooltipProperties,key;return regeneratorRuntime.async((function filterAndFormatPropertiesToHtml$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:tooltipProperties=[];_context8.t0=regeneratorRuntime.keys(properties);case 2:if((_context8.t1=_context8.t0()).done){_context8.next=9;break}key=_context8.t1.value;if(!key.startsWith("__kbn")){_context8.next=6;break}return _context8.abrupt("continue",2);case 6:tooltipProperties.push(new _tooltip_property.TooltipProperty(key,key,properties[key]));_context8.next=2;break;case 9:return _context8.abrupt("return",tooltipProperties);case 10:case"end":return _context8.stop()}}}))}},{key:"isTimeAware",value:function isTimeAware(){return regeneratorRuntime.async((function isTimeAware$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:return _context9.abrupt("return",false);case 1:case"end":return _context9.stop()}}}))}},{key:"isJoinable",value:function isJoinable(){return true}},{key:"getSupportedShapeTypes",value:function getSupportedShapeTypes(){return regeneratorRuntime.async((function getSupportedShapeTypes$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:return _context10.abrupt("return",[_vector_feature_types.VECTOR_SHAPE_TYPES.POINT,_vector_feature_types.VECTOR_SHAPE_TYPES.LINE,_vector_feature_types.VECTOR_SHAPE_TYPES.POLYGON]);case 1:case"end":return _context10.stop()}}}))}},{key:"getSourceTooltipContent",value:function getSourceTooltipContent(){return{tooltipContent:null,areResultsTrimmed:false}}}],[{key:"getGeoJson",value:function getGeoJson(_ref){var format,featureCollectionPath,fetchUrl,fetchedJson,response,features;return regeneratorRuntime.async((function getGeoJson$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:format=_ref.format,featureCollectionPath=_ref.featureCollectionPath,fetchUrl=_ref.fetchUrl;_context11.prev=1;_context11.next=4;return regeneratorRuntime.awrap(fetch(fetchUrl));case 4:response=_context11.sent;if(response.ok){_context11.next=7;break}throw new Error("Request failed");case 7:_context11.next=9;return regeneratorRuntime.awrap(response.json());case 9:fetchedJson=_context11.sent;_context11.next=15;break;case 12:_context11.prev=12;_context11.t0=_context11["catch"](1);throw new Error(_i18n.i18n.translate("xpack.maps.source.vetorSource.requestFailedErrorMessage",{defaultMessage:"Unable to fetch vector shapes from url: {fetchUrl}",values:{fetchUrl:fetchUrl}}));case 15:if(!(format==="geojson")){_context11.next=17;break}return _context11.abrupt("return",fetchedJson);case 17:if(!(format==="topojson")){_context11.next=20;break}features=_lodash.default.get(fetchedJson,"objects.".concat(featureCollectionPath));return _context11.abrupt("return",topojson.feature(fetchedJson,features));case 20:throw new Error(_i18n.i18n.translate("xpack.maps.source.vetorSource.formatErrorMessage",{defaultMessage:"Unable to fetch vector shapes from url: {format}",values:{format:format}}));case 21:case"end":return _context11.stop()}}}),null,null,[[1,12]])}}]);return AbstractVectorSource}(_source.AbstractSource);exports.AbstractVectorSource=AbstractVectorSource},518:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initServicesAndConstants=exports.kbnVersion=exports.apiBasePath=exports.basePath=exports.savedObjectsClient=exports.indexPatternService=void 0;var _new_platform=__webpack_require__(7);var _file_import=__webpack_require__(519);var indexPatternService=_new_platform.npStart.plugins.data.indexPatterns;exports.indexPatternService=indexPatternService;var savedObjectsClient;exports.savedObjectsClient=savedObjectsClient;var basePath;exports.basePath=basePath;var apiBasePath;exports.apiBasePath=apiBasePath;var kbnVersion;exports.kbnVersion=kbnVersion;var initServicesAndConstants=function initServicesAndConstants(_ref){var savedObjects=_ref.savedObjects,http=_ref.http,injectedMetadata=_ref.injectedMetadata;exports.savedObjectsClient=savedObjectsClient=savedObjects.client;exports.basePath=basePath=http.basePath.basePath;exports.apiBasePath=apiBasePath=http.basePath.prepend("/api");exports.kbnVersion=kbnVersion=injectedMetadata.getKibanaVersion(_file_import.DEFAULT_KBN_VERSION)};exports.initServicesAndConstants=initServicesAndConstants},519:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_KBN_VERSION=exports.ES_GEO_FIELD_TYPE=exports.INDEX_META_DATA_CREATED_BY=exports.MAX_FILE_SIZE=exports.MAX_BYTES=void 0;var MAX_BYTES=31457280;exports.MAX_BYTES=MAX_BYTES;var MAX_FILE_SIZE=52428800;exports.MAX_FILE_SIZE=MAX_FILE_SIZE;var INDEX_META_DATA_CREATED_BY="file-upload-plugin";exports.INDEX_META_DATA_CREATED_BY=INDEX_META_DATA_CREATED_BY;var ES_GEO_FIELD_TYPE={GEO_POINT:"geo_point",GEO_SHAPE:"geo_shape"};exports.ES_GEO_FIELD_TYPE=ES_GEO_FIELD_TYPE;var DEFAULT_KBN_VERSION="kbnVersion";exports.DEFAULT_KBN_VERSION=DEFAULT_KBN_VERSION},520:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIndexPatternsFromIds=getIndexPatternsFromIds;exports.getTermsFields=getTermsFields;exports.getSourceFields=getSourceFields;var _kibana_services=__webpack_require__(101);var _public=__webpack_require__(11);function getIndexPatternsFromIds(){var indexPatternIds,promises,_args=arguments;return regeneratorRuntime.async((function getIndexPatternsFromIds$(_context){while(1){switch(_context.prev=_context.next){case 0:indexPatternIds=_args.length>0&&_args[0]!==undefined?_args[0]:[];promises=[];indexPatternIds.forEach((function(id){var indexPatternPromise=_kibana_services.indexPatternService.get(id);if(indexPatternPromise){promises.push(indexPatternPromise)}}));_context.next=5;return regeneratorRuntime.awrap(Promise.all(promises));case 5:return _context.abrupt("return",_context.sent);case 6:case"end":return _context.stop()}}}))}function getTermsFields(fields){return fields.filter((function(field){return field.aggregatable&&!(0,_public.isNestedField)(field)&&["number","boolean","date","ip","string"].includes(field.type)}))}function getSourceFields(fields){return fields.filter((function(field){var isMultiField=field.subType&&field.subType.multi;return!isMultiField&&!(0,_public.isNestedField)(field)}))}},521:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AbstractTMSSource=void 0;var _source=__webpack_require__(1013);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var AbstractTMSSource=function(_AbstractSource){_inherits(AbstractTMSSource,_AbstractSource);function AbstractTMSSource(){_classCallCheck(this,AbstractTMSSource);return _possibleConstructorReturn(this,_getPrototypeOf(AbstractTMSSource).apply(this,arguments))}_createClass(AbstractTMSSource,[{key:"getUrlTemplate",value:function getUrlTemplate(){return regeneratorRuntime.async((function getUrlTemplate$(_context){while(1){switch(_context.prev=_context.next){case 0:throw new Error("Should implement TMSSource#getUrlTemplate");case 1:case"end":return _context.stop()}}}))}},{key:"convertMarkdownLinkToObjectArr",value:function convertMarkdownLinkToObjectArr(markdown){return markdown.split("|").map((function(attribution){attribution=attribution.trim();var extractLink=/\[(.*)\]\((.*)\)/;var result=extractLink.exec(attribution);return{label:result?result[1]:null,url:result?result[2]:null}}))}}]);return AbstractTMSSource}(_source.AbstractSource);exports.AbstractTMSSource=AbstractTMSSource},522:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RENDER_AS=void 0;var RENDER_AS={HEATMAP:"heatmap",POINT:"point",GRID:"grid"};exports.RENDER_AS=RENDER_AS},529:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.serializers=exports.deserializers=exports.fieldFormatters=exports.fieldValidators=void 0;var fieldValidatorsImport=_interopRequireWildcard(__webpack_require__(2147));var fieldFormattersImport=_interopRequireWildcard(__webpack_require__(2165));var serializersImport=_interopRequireWildcard(__webpack_require__(1038));var deserializersImport=_interopRequireWildcard(__webpack_require__(2166));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var fieldValidators=fieldValidatorsImport;exports.fieldValidators=fieldValidators;var fieldFormatters=fieldFormattersImport;exports.fieldFormatters=fieldFormatters;var deserializers=deserializersImport;exports.deserializers=deserializers;var serializers=serializersImport;exports.serializers=serializers},57:function(module,exports,__webpack_require__){module.exports=__webpack_require__(26)(879)},64:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.areLayersLoaded=exports.hasDirtyState=exports.getQueryableUniqueIndexPatternIds=exports.getUniqueIndexPatternIds=exports.getSelectedLayerJoinDescriptors=exports.getMapColors=exports.getSelectedLayer=exports.getHiddenLayerIds=exports.getLayerList=exports.getDataFilters=exports.getRefreshTimerLastTriggeredAt=exports.getRefreshConfig=exports.isDrawingFilter=exports.getDrawState=exports.isUsingSearch=exports.getFilters=exports.getQuery=exports.getTimeFilters=exports.getMouseCoordinates=exports.getMapCenter=exports.getMapZoom=exports.getMapBuffer=exports.getMapExtent=exports.isViewControlHidden=exports.isLayerControlHidden=exports.isToolbarOverlayHidden=exports.isTooltipControlDisabled=exports.isInteractiveDisabled=exports.getScrollZoom=exports.getWaitingForMapReadyLayerListRaw=exports.getLayerListRaw=exports.getTransientLayerId=exports.getSelectedLayerId=exports.getGoto=exports.getMapInitError=exports.getMapReady=exports.getTooltipState=void 0;var _reselect=__webpack_require__(151);var _lodash=_interopRequireDefault(__webpack_require__(3));var _tile_layer=__webpack_require__(403);var _vector_tile_layer=__webpack_require__(1002);var _vector_layer=__webpack_require__(404);var _heatmap_layer=__webpack_require__(1016);var _all_sources=__webpack_require__(686);var _timefilter=__webpack_require__(46);var _non_serializable_instances=__webpack_require__(227);var _util=__webpack_require__(275);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function createLayerInstance(layerDescriptor,inspectorAdapters){var source=createSourceInstance(layerDescriptor.sourceDescriptor,inspectorAdapters);switch(layerDescriptor.type){case _tile_layer.TileLayer.type:return new _tile_layer.TileLayer({layerDescriptor:layerDescriptor,source:source});case _vector_layer.VectorLayer.type:return new _vector_layer.VectorLayer({layerDescriptor:layerDescriptor,source:source});case _vector_tile_layer.VectorTileLayer.type:return new _vector_tile_layer.VectorTileLayer({layerDescriptor:layerDescriptor,source:source});case _heatmap_layer.HeatmapLayer.type:return new _heatmap_layer.HeatmapLayer({layerDescriptor:layerDescriptor,source:source});default:throw new Error("Unrecognized layerType ".concat(layerDescriptor.type))}}function createSourceInstance(sourceDescriptor,inspectorAdapters){var Source=_all_sources.ALL_SOURCES.find((function(Source){return Source.type===sourceDescriptor.type}));if(!Source){throw new Error("Unrecognized sourceType ".concat(sourceDescriptor.type))}return new Source(sourceDescriptor,inspectorAdapters)}var getTooltipState=function getTooltipState(_ref){var map=_ref.map;return map.tooltipState};exports.getTooltipState=getTooltipState;var getMapReady=function getMapReady(_ref2){var map=_ref2.map;return map&&map.ready};exports.getMapReady=getMapReady;var getMapInitError=function getMapInitError(_ref3){var map=_ref3.map;return map.mapInitError};exports.getMapInitError=getMapInitError;var getGoto=function getGoto(_ref4){var map=_ref4.map;return map&&map.goto};exports.getGoto=getGoto;var getSelectedLayerId=function getSelectedLayerId(_ref5){var map=_ref5.map;return!map.selectedLayerId||!map.layerList?null:map.selectedLayerId};exports.getSelectedLayerId=getSelectedLayerId;var getTransientLayerId=function getTransientLayerId(_ref6){var map=_ref6.map;return map.__transientLayerId};exports.getTransientLayerId=getTransientLayerId;var getLayerListRaw=function getLayerListRaw(_ref7){var map=_ref7.map;return map.layerList?map.layerList:[]};exports.getLayerListRaw=getLayerListRaw;var getWaitingForMapReadyLayerListRaw=function getWaitingForMapReadyLayerListRaw(_ref8){var map=_ref8.map;return map.waitingForMapReadyLayerList?map.waitingForMapReadyLayerList:[]};exports.getWaitingForMapReadyLayerListRaw=getWaitingForMapReadyLayerListRaw;var getScrollZoom=function getScrollZoom(_ref9){var map=_ref9.map;return map.mapState.scrollZoom};exports.getScrollZoom=getScrollZoom;var isInteractiveDisabled=function isInteractiveDisabled(_ref10){var map=_ref10.map;return map.mapState.disableInteractive};exports.isInteractiveDisabled=isInteractiveDisabled;var isTooltipControlDisabled=function isTooltipControlDisabled(_ref11){var map=_ref11.map;return map.mapState.disableTooltipControl};exports.isTooltipControlDisabled=isTooltipControlDisabled;var isToolbarOverlayHidden=function isToolbarOverlayHidden(_ref12){var map=_ref12.map;return map.mapState.hideToolbarOverlay};exports.isToolbarOverlayHidden=isToolbarOverlayHidden;var isLayerControlHidden=function isLayerControlHidden(_ref13){var map=_ref13.map;return map.mapState.hideLayerControl};exports.isLayerControlHidden=isLayerControlHidden;var isViewControlHidden=function isViewControlHidden(_ref14){var map=_ref14.map;return map.mapState.hideViewControl};exports.isViewControlHidden=isViewControlHidden;var getMapExtent=function getMapExtent(_ref15){var map=_ref15.map;return map.mapState.extent?map.mapState.extent:{}};exports.getMapExtent=getMapExtent;var getMapBuffer=function getMapBuffer(_ref16){var map=_ref16.map;return map.mapState.buffer?map.mapState.buffer:{}};exports.getMapBuffer=getMapBuffer;var getMapZoom=function getMapZoom(_ref17){var map=_ref17.map;return map.mapState.zoom?map.mapState.zoom:0};exports.getMapZoom=getMapZoom;var getMapCenter=function getMapCenter(_ref18){var map=_ref18.map;return map.mapState.center?map.mapState.center:{lat:0,lon:0}};exports.getMapCenter=getMapCenter;var getMouseCoordinates=function getMouseCoordinates(_ref19){var map=_ref19.map;return map.mapState.mouseCoordinates};exports.getMouseCoordinates=getMouseCoordinates;var getTimeFilters=function getTimeFilters(_ref20){var map=_ref20.map;return map.mapState.timeFilters?map.mapState.timeFilters:_timefilter.timefilter.getTime()};exports.getTimeFilters=getTimeFilters;var getQuery=function getQuery(_ref21){var map=_ref21.map;return map.mapState.query};exports.getQuery=getQuery;var getFilters=function getFilters(_ref22){var map=_ref22.map;return map.mapState.filters};exports.getFilters=getFilters;var isUsingSearch=function isUsingSearch(state){var filters=getFilters(state).filter((function(filter){return!filter.meta.disabled}));var queryString=_lodash.default.get(getQuery(state),"query","");return filters.length||queryString.length};exports.isUsingSearch=isUsingSearch;var getDrawState=function getDrawState(_ref23){var map=_ref23.map;return map.mapState.drawState};exports.getDrawState=getDrawState;var isDrawingFilter=function isDrawingFilter(_ref24){var map=_ref24.map;return!!map.mapState.drawState};exports.isDrawingFilter=isDrawingFilter;var getRefreshConfig=function getRefreshConfig(_ref25){var map=_ref25.map;if(map.mapState.refreshConfig){return map.mapState.refreshConfig}var refreshInterval=_timefilter.timefilter.getRefreshInterval();return{isPaused:refreshInterval.pause,interval:refreshInterval.value}};exports.getRefreshConfig=getRefreshConfig;var getRefreshTimerLastTriggeredAt=function getRefreshTimerLastTriggeredAt(_ref26){var map=_ref26.map;return map.mapState.refreshTimerLastTriggeredAt};exports.getRefreshTimerLastTriggeredAt=getRefreshTimerLastTriggeredAt;var getDataFilters=(0,_reselect.createSelector)(getMapExtent,getMapBuffer,getMapZoom,getTimeFilters,getRefreshTimerLastTriggeredAt,getQuery,getFilters,(function(mapExtent,mapBuffer,mapZoom,timeFilters,refreshTimerLastTriggeredAt,query,filters){return{extent:mapExtent,buffer:mapBuffer,zoom:mapZoom,timeFilters:timeFilters,refreshTimerLastTriggeredAt:refreshTimerLastTriggeredAt,query:query,filters:filters}}));exports.getDataFilters=getDataFilters;var getLayerList=(0,_reselect.createSelector)(getLayerListRaw,_non_serializable_instances.getInspectorAdapters,(function(layerDescriptorList,inspectorAdapters){return layerDescriptorList.map((function(layerDescriptor){return createLayerInstance(layerDescriptor,inspectorAdapters)}))}));exports.getLayerList=getLayerList;var getHiddenLayerIds=(0,_reselect.createSelector)(getLayerListRaw,(function(layers){return layers.filter((function(layer){return!layer.visible})).map((function(layer){return layer.id}))}));exports.getHiddenLayerIds=getHiddenLayerIds;var getSelectedLayer=(0,_reselect.createSelector)(getSelectedLayerId,getLayerList,(function(selectedLayerId,layerList){return layerList.find((function(layer){return layer.getId()===selectedLayerId}))}));exports.getSelectedLayer=getSelectedLayer;var getMapColors=(0,_reselect.createSelector)(getTransientLayerId,getLayerListRaw,(function(transientLayerId,layerList){return layerList.reduce((function(accu,layer){if(layer.id===transientLayerId){return accu}var color=_lodash.default.get(layer,"style.properties.fillColor.options.color");if(color)accu.push(color);return accu}),[])}));exports.getMapColors=getMapColors;var getSelectedLayerJoinDescriptors=(0,_reselect.createSelector)(getSelectedLayer,(function(selectedLayer){return selectedLayer.getJoins().map((function(join){return join.toDescriptor()}))}));exports.getSelectedLayerJoinDescriptors=getSelectedLayerJoinDescriptors;var getUniqueIndexPatternIds=(0,_reselect.createSelector)(getLayerList,(function(layerList){var indexPatternIds=[];layerList.forEach((function(layer){indexPatternIds.push.apply(indexPatternIds,_toConsumableArray(layer.getIndexPatternIds()))}));return _lodash.default.uniq(indexPatternIds).sort()}));exports.getUniqueIndexPatternIds=getUniqueIndexPatternIds;var getQueryableUniqueIndexPatternIds=(0,_reselect.createSelector)(getLayerList,(function(layerList){var indexPatternIds=[];layerList.forEach((function(layer){indexPatternIds.push.apply(indexPatternIds,_toConsumableArray(layer.getQueryableIndexPatternIds()))}));return _lodash.default.uniq(indexPatternIds)}));exports.getQueryableUniqueIndexPatternIds=getQueryableUniqueIndexPatternIds;var hasDirtyState=(0,_reselect.createSelector)(getLayerListRaw,getTransientLayerId,(function(layerListRaw,transientLayerId){if(transientLayerId){return true}return layerListRaw.some((function(layerDescriptor){var trackedState=layerDescriptor[_util.TRACKED_LAYER_DESCRIPTOR];if(!trackedState){return false}var currentState=(0,_util.copyPersistentState)(layerDescriptor);return!_lodash.default.isEqual(currentState,trackedState)}))}));exports.hasDirtyState=hasDirtyState;var areLayersLoaded=(0,_reselect.createSelector)(getLayerList,getWaitingForMapReadyLayerListRaw,getMapZoom,(function(layerList,waitingForMapReadyLayerList,zoom){if(waitingForMapReadyLayerList.length){return false}for(var i=0;i<layerList.length;i++){var layer=layerList[i];if(layer.isVisible()&&layer.showAtZoomLevel(zoom)&&!layer.isDataLoaded()){return false}}return true}));exports.areLayersLoaded=areLayersLoaded},679:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AbstractLayer=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _data_request=__webpack_require__(680);var _constants=__webpack_require__(25);var _v=_interopRequireDefault(__webpack_require__(186));var _util=__webpack_require__(275);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AbstractLayer=function(){function AbstractLayer(_ref){var _this=this;var layerDescriptor=_ref.layerDescriptor,source=_ref.source;_classCallCheck(this,AbstractLayer);_defineProperty(this,"renderSourceSettingsEditor",(function(_ref2){var onChange=_ref2.onChange;return _this._source.renderSourceSettingsEditor({onChange:onChange})}));this._descriptor=AbstractLayer.createDescriptor(layerDescriptor);this._source=source;if(this._descriptor.__dataRequests){this._dataRequests=this._descriptor.__dataRequests.map((function(dataRequest){return new _data_request.DataRequest(dataRequest)}))}else{this._dataRequests=[]}}_createClass(AbstractLayer,[{key:"destroy",value:function destroy(){if(this._source){this._source.destroy()}}},{key:"cloneDescriptor",value:function cloneDescriptor(){var clonedDescriptor,displayName;return regeneratorRuntime.async((function cloneDescriptor$(_context){while(1){switch(_context.prev=_context.next){case 0:clonedDescriptor=(0,_util.copyPersistentState)(this._descriptor);clonedDescriptor.id=(0,_v.default)();_context.next=4;return regeneratorRuntime.awrap(this.getDisplayName());case 4:displayName=_context.sent;clonedDescriptor.label="Clone of ".concat(displayName);clonedDescriptor.sourceDescriptor=this._source.cloneDescriptor();if(clonedDescriptor.joins){clonedDescriptor.joins.forEach((function(joinDescriptor){joinDescriptor.right.id=(0,_v.default)()}))}return _context.abrupt("return",clonedDescriptor);case 9:case"end":return _context.stop()}}}),null,this)}},{key:"makeMbLayerId",value:function makeMbLayerId(layerNameSuffix){return"".concat(this.getId()).concat(_constants.MB_SOURCE_ID_LAYER_ID_PREFIX_DELIMITER).concat(layerNameSuffix)}},{key:"isJoinable",value:function isJoinable(){return this._source.isJoinable()}},{key:"supportsElasticsearchFilters",value:function supportsElasticsearchFilters(){return this._source.isESSource()}},{key:"supportsFitToBounds",value:function supportsFitToBounds(){return regeneratorRuntime.async((function supportsFitToBounds$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return regeneratorRuntime.awrap(this._source.supportsFitToBounds());case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}}),null,this)}},{key:"getDisplayName",value:function getDisplayName(){return regeneratorRuntime.async((function getDisplayName$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!this._descriptor.label){_context3.next=2;break}return _context3.abrupt("return",this._descriptor.label);case 2:_context3.next=4;return regeneratorRuntime.awrap(this._source.getDisplayName());case 4:_context3.t0=_context3.sent;if(_context3.t0){_context3.next=7;break}_context3.t0="Layer ".concat(this._descriptor.id);case 7:return _context3.abrupt("return",_context3.t0);case 8:case"end":return _context3.stop()}}}),null,this)}},{key:"getAttributions",value:function getAttributions(){return regeneratorRuntime.async((function getAttributions$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(this.hasErrors()){_context4.next=4;break}_context4.next=3;return regeneratorRuntime.awrap(this._source.getAttributions());case 3:return _context4.abrupt("return",_context4.sent);case 4:return _context4.abrupt("return",[]);case 5:case"end":return _context4.stop()}}}),null,this)}},{key:"getLabel",value:function getLabel(){return this._descriptor.label?this._descriptor.label:""}},{key:"getCustomIconAndTooltipContent",value:function getCustomIconAndTooltipContent(){return{icon:_react.default.createElement(_eui.EuiIcon,{size:"m",type:this.getLayerTypeIconName()})}}},{key:"getIconAndTooltipContent",value:function getIconAndTooltipContent(zoomLevel,isUsingSearch){var icon;var tooltipContent=null;var footnotes=[];if(this.hasErrors()){icon=_react.default.createElement(_eui.EuiIcon,{"aria-label":_i18n.i18n.translate("xpack.maps.layer.loadWarningAriaLabel",{defaultMessage:"Load warning"}),size:"m",type:"alert",color:"warning"});tooltipContent=this.getErrors()}else if(this.isLayerLoading()){icon=_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})}else if(!this.isVisible()){icon=_react.default.createElement(_eui.EuiIcon,{size:"m",type:"eyeClosed"});tooltipContent=_i18n.i18n.translate("xpack.maps.layer.layerHiddenTooltip",{defaultMessage:"Layer is hidden."})}else if(!this.showAtZoomLevel(zoomLevel)){var _this$getZoomConfig=this.getZoomConfig(),minZoom=_this$getZoomConfig.minZoom,maxZoom=_this$getZoomConfig.maxZoom;icon=_react.default.createElement(_eui.EuiIcon,{size:"m",type:"expand"});tooltipContent=_i18n.i18n.translate("xpack.maps.layer.zoomFeedbackTooltip",{defaultMessage:"Layer is visible between zoom levels {minZoom} and {maxZoom}.",values:{minZoom:minZoom,maxZoom:maxZoom}})}else{var customIconAndTooltipContent=this.getCustomIconAndTooltipContent();if(customIconAndTooltipContent){icon=customIconAndTooltipContent.icon;if(!customIconAndTooltipContent.areResultsTrimmed){tooltipContent=customIconAndTooltipContent.tooltipContent}else{footnotes.push({icon:_react.default.createElement(_eui.EuiIcon,{color:"subdued",type:"partial",size:"s"}),message:customIconAndTooltipContent.tooltipContent})}}if(isUsingSearch&&this.getQueryableIndexPatternIds().length){footnotes.push({icon:_react.default.createElement(_eui.EuiIcon,{color:"subdued",type:"filter",size:"s"}),message:_i18n.i18n.translate("xpack.maps.layer.isUsingSearchMsg",{defaultMessage:"Results narrowed by search bar"})})}}return{icon:icon,tooltipContent:tooltipContent,footnotes:footnotes}}},{key:"hasLegendDetails",value:function hasLegendDetails(){return regeneratorRuntime.async((function hasLegendDetails$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",false);case 1:case"end":return _context5.stop()}}}))}},{key:"renderLegendDetails",value:function renderLegendDetails(){return null}},{key:"getId",value:function getId(){return this._descriptor.id}},{key:"getSource",value:function getSource(){return this._source}},{key:"isVisible",value:function isVisible(){return this._descriptor.visible}},{key:"showAtZoomLevel",value:function showAtZoomLevel(zoom){return zoom>=this._descriptor.minZoom&&zoom<=this._descriptor.maxZoom}},{key:"getMinZoom",value:function getMinZoom(){return this._descriptor.minZoom}},{key:"getMaxZoom",value:function getMaxZoom(){return this._descriptor.maxZoom}},{key:"getAlpha",value:function getAlpha(){return this._descriptor.alpha}},{key:"getQuery",value:function getQuery(){return this._descriptor.query}},{key:"getZoomConfig",value:function getZoomConfig(){return{minZoom:this._descriptor.minZoom,maxZoom:this._descriptor.maxZoom}}},{key:"getCurrentStyle",value:function getCurrentStyle(){return this._style}},{key:"getImmutableSourceProperties",value:function getImmutableSourceProperties(){return regeneratorRuntime.async((function getImmutableSourceProperties$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",this._source.getImmutableProperties());case 1:case"end":return _context6.stop()}}}),null,this)}},{key:"getPrevRequestToken",value:function getPrevRequestToken(dataId){var prevDataRequest=this.getDataRequest(dataId);if(!prevDataRequest){return}return prevDataRequest.getRequestToken()}},{key:"getInFlightRequestTokens",value:function getInFlightRequestTokens(){if(!this._dataRequests){return[]}var requestTokens=this._dataRequests.map((function(dataRequest){return dataRequest.getRequestToken()}));return _lodash.default.compact(requestTokens)}},{key:"getSourceDataRequest",value:function getSourceDataRequest(){return this.getDataRequest(_constants.SOURCE_DATA_ID_ORIGIN)}},{key:"getDataRequest",value:function getDataRequest(id){return this._dataRequests.find((function(dataRequest){return dataRequest.getDataId()===id}))}},{key:"isLayerLoading",value:function isLayerLoading(){return this._dataRequests.some((function(dataRequest){return dataRequest.isLoading()}))}},{key:"hasErrors",value:function hasErrors(){return _lodash.default.get(this._descriptor,"__isInErrorState",false)}},{key:"getErrors",value:function getErrors(){return this.hasErrors()?this._descriptor.__errorMessage:""}},{key:"toLayerDescriptor",value:function toLayerDescriptor(){return this._descriptor}},{key:"syncData",value:function syncData(){return regeneratorRuntime.async((function syncData$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:case"end":return _context7.stop()}}}))}},{key:"getMbLayerIds",value:function getMbLayerIds(){throw new Error("Should implement AbstractLayer#getMbLayerIds")}},{key:"ownsMbLayerId",value:function ownsMbLayerId(){throw new Error("Should implement AbstractLayer#ownsMbLayerId")}},{key:"ownsMbSourceId",value:function ownsMbSourceId(){throw new Error("Should implement AbstractLayer#ownsMbSourceId")}},{key:"canShowTooltip",value:function canShowTooltip(){return false}},{key:"syncLayerWithMB",value:function syncLayerWithMB(){throw new Error("Should implement AbstractLayer#syncLayerWithMB")}},{key:"getLayerTypeIconName",value:function getLayerTypeIconName(){throw new Error("should implement Layer#getLayerTypeIconName")}},{key:"isDataLoaded",value:function isDataLoaded(){var sourceDataRequest=this.getSourceDataRequest();return sourceDataRequest&&sourceDataRequest.hasData()}},{key:"getBounds",value:function getBounds(){return regeneratorRuntime.async((function getBounds$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:return _context8.abrupt("return",{min_lon:-180,max_lon:180,min_lat:-89,max_lat:89});case 1:case"end":return _context8.stop()}}}))}},{key:"renderStyleEditor",value:function renderStyleEditor(_ref3){var onStyleDescriptorChange=_ref3.onStyleDescriptorChange;if(!this._style){return null}return this._style.renderEditor({layer:this,onStyleDescriptorChange:onStyleDescriptorChange})}},{key:"getIndexPatternIds",value:function getIndexPatternIds(){return[]}},{key:"getQueryableIndexPatternIds",value:function getQueryableIndexPatternIds(){return[]}},{key:"getDateFields",value:function getDateFields(){return regeneratorRuntime.async((function getDateFields$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:return _context9.abrupt("return",[]);case 1:case"end":return _context9.stop()}}}))}},{key:"getNumberFields",value:function getNumberFields(){return regeneratorRuntime.async((function getNumberFields$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:return _context10.abrupt("return",[]);case 1:case"end":return _context10.stop()}}}))}},{key:"getCategoricalFields",value:function getCategoricalFields(){return regeneratorRuntime.async((function getCategoricalFields$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:return _context11.abrupt("return",[]);case 1:case"end":return _context11.stop()}}}))}},{key:"getFields",value:function getFields(){return regeneratorRuntime.async((function getFields$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:return _context12.abrupt("return",[]);case 1:case"end":return _context12.stop()}}}))}},{key:"syncVisibilityWithMb",value:function syncVisibilityWithMb(mbMap,mbLayerId){mbMap.setLayoutProperty(mbLayerId,"visibility",this.isVisible()?"visible":"none")}},{key:"getType",value:function getType(){return this._descriptor.type}}],[{key:"getBoundDataForSource",value:function getBoundDataForSource(mbMap,sourceId){var mbStyle=mbMap.getStyle();return mbStyle.sources[sourceId].data}},{key:"createDescriptor",value:function createDescriptor(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var layerDescriptor=_objectSpread({},options);layerDescriptor.__dataRequests=_lodash.default.get(options,"__dataRequests",[]);layerDescriptor.id=_lodash.default.get(options,"id",(0,_v.default)());layerDescriptor.label=options.label&&options.label.length>0?options.label:null;layerDescriptor.minZoom=_lodash.default.get(options,"minZoom",_constants.MIN_ZOOM);layerDescriptor.maxZoom=_lodash.default.get(options,"maxZoom",_constants.MAX_ZOOM);layerDescriptor.alpha=_lodash.default.get(options,"alpha",.75);layerDescriptor.visible=_lodash.default.get(options,"visible",true);layerDescriptor.style=_lodash.default.get(options,"style",{});return layerDescriptor}}]);return AbstractLayer}();exports.AbstractLayer=AbstractLayer},680:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DataRequestAbortError=exports.DataRequest=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map:undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class)};return _wrapNativeSuper(Class)}function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var DataRequest=function(){function DataRequest(descriptor){_classCallCheck(this,DataRequest);this._descriptor=_objectSpread({},descriptor)}_createClass(DataRequest,[{key:"getData",value:function getData(){return this._descriptor.data}},{key:"isLoading",value:function isLoading(){return!!this._descriptor.dataRequestToken}},{key:"getMeta",value:function getMeta(){return this.hasData()?_lodash.default.get(this._descriptor,"dataMeta",{}):_lodash.default.get(this._descriptor,"dataMetaAtStart",{})}},{key:"hasData",value:function hasData(){return!!this._descriptor.data}},{key:"hasDataOrRequestInProgress",value:function hasDataOrRequestInProgress(){return this._descriptor.data||this._descriptor.dataRequestToken}},{key:"getDataId",value:function getDataId(){return this._descriptor.dataId}},{key:"getRequestToken",value:function getRequestToken(){return this._descriptor.dataRequestToken}}]);return DataRequest}();exports.DataRequest=DataRequest;var DataRequestAbortError=function(_Error){_inherits(DataRequestAbortError,_Error);function DataRequestAbortError(){_classCallCheck(this,DataRequestAbortError);return _possibleConstructorReturn(this,_getPrototypeOf(DataRequestAbortError).call(this))}return DataRequestAbortError}(_wrapNativeSuper(Error));exports.DataRequestAbortError=DataRequestAbortError},681:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getVectorStyleLabel=getVectorStyleLabel;var _i18n=__webpack_require__(2);var _vector_style_defaults=__webpack_require__(147);function getVectorStyleLabel(styleName){switch(styleName){case _vector_style_defaults.VECTOR_STYLES.FILL_COLOR:return _i18n.i18n.translate("xpack.maps.styles.vector.fillColorLabel",{defaultMessage:"Fill color"});case _vector_style_defaults.VECTOR_STYLES.LINE_COLOR:return _i18n.i18n.translate("xpack.maps.styles.vector.borderColorLabel",{defaultMessage:"Border color"});case _vector_style_defaults.VECTOR_STYLES.LINE_WIDTH:return _i18n.i18n.translate("xpack.maps.styles.vector.borderWidthLabel",{defaultMessage:"Border width"});case _vector_style_defaults.VECTOR_STYLES.ICON_SIZE:return _i18n.i18n.translate("xpack.maps.styles.vector.symbolSizeLabel",{defaultMessage:"Symbol size"});case _vector_style_defaults.VECTOR_STYLES.ICON_ORIENTATION:return _i18n.i18n.translate("xpack.maps.styles.vector.orientationLabel",{defaultMessage:"Symbol orientation"});case _vector_style_defaults.VECTOR_STYLES.LABEL_TEXT:return _i18n.i18n.translate("xpack.maps.styles.vector.labelLabel",{defaultMessage:"Label"});case _vector_style_defaults.VECTOR_STYLES.LABEL_COLOR:return _i18n.i18n.translate("xpack.maps.styles.vector.labelColorLabel",{defaultMessage:"Label color"});case _vector_style_defaults.VECTOR_STYLES.LABEL_SIZE:return _i18n.i18n.translate("xpack.maps.styles.vector.labelSizeLabel",{defaultMessage:"Label size"});case _vector_style_defaults.VECTOR_STYLES.LABEL_BORDER_COLOR:return _i18n.i18n.translate("xpack.maps.styles.vector.labelBorderColorLabel",{defaultMessage:"Label border color"});case _vector_style_defaults.VECTOR_STYLES.LABEL_BORDER_SIZE:return _i18n.i18n.translate("xpack.maps.styles.vector.labelBorderWidthLabel",{defaultMessage:"Label border width"});default:return styleName}}},682:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AbstractStyleProperty=void 0;var _get_vector_style_label=__webpack_require__(681);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var AbstractStyleProperty=function(){function AbstractStyleProperty(options,styleName){_classCallCheck(this,AbstractStyleProperty);this._options=options;this._styleName=styleName}_createClass(AbstractStyleProperty,[{key:"isDynamic",value:function isDynamic(){return false}},{key:"isComplete",value:function isComplete(){return true}},{key:"formatField",value:function formatField(value){return value}},{key:"getStyleName",value:function getStyleName(){return this._styleName}},{key:"getOptions",value:function getOptions(){return this._options||{}}},{key:"renderRangeLegendHeader",value:function renderRangeLegendHeader(){return null}},{key:"renderLegendDetailRow",value:function renderLegendDetailRow(){return null}},{key:"renderFieldMetaPopover",value:function renderFieldMetaPopover(){return null}},{key:"getDisplayStyleName",value:function getDisplayStyleName(){return(0,_get_vector_style_label.getVectorStyleLabel)(this.getStyleName())}}]);return AbstractStyleProperty}();exports.AbstractStyleProperty=AbstractStyleProperty},683:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AbstractESAggSource=exports.AGG_DELIMITER=void 0;var _es_source=__webpack_require__(1012);var _es_agg_field=__webpack_require__(1997);var _es_doc_field=__webpack_require__(515);var _constants=__webpack_require__(25);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AGG_DELIMITER="_of_";exports.AGG_DELIMITER=AGG_DELIMITER;var AbstractESAggSource=function(_AbstractESSource){_inherits(AbstractESAggSource,_AbstractESSource);function AbstractESAggSource(descriptor,inspectorAdapters){var _this;_classCallCheck(this,AbstractESAggSource);_this=_possibleConstructorReturn(this,_getPrototypeOf(AbstractESAggSource).call(this,descriptor,inspectorAdapters));_this._metricFields=_this._descriptor.metrics?_this._descriptor.metrics.map((function(metric){var esDocField=metric.field?new _es_doc_field.ESDocField({fieldName:metric.field,source:_assertThisInitialized(_this)}):null;return new _es_agg_field.ESAggMetricField({label:metric.label,esDocField:esDocField,aggType:metric.type,source:_assertThisInitialized(_this),origin:_this.getOriginForField()})})):[];return _this}_createClass(AbstractESAggSource,[{key:"getFieldByName",value:function getFieldByName(name){return this.getMetricFieldForName(name)}},{key:"createField",value:function createField(){throw new Error("Cannot create a new field from just a fieldname for an es_agg_source.")}},{key:"hasMatchingMetricField",value:function hasMatchingMetricField(fieldName){var matchingField=this.getMetricFieldForName(fieldName);return!!matchingField}},{key:"getMetricFieldForName",value:function getMetricFieldForName(fieldName){return this.getMetricFields().find((function(metricField){return metricField.getName()===fieldName}))}},{key:"getOriginForField",value:function getOriginForField(){return _constants.FIELD_ORIGIN.SOURCE}},{key:"getMetricFields",value:function getMetricFields(){var metrics=this._metricFields.filter((function(esAggField){return esAggField.isValid()}));if(metrics.length===0){metrics.push(new _es_agg_field.ESAggMetricField({aggType:_constants.COUNT_AGG_TYPE,source:this,origin:this.getOriginForField()}))}return metrics}},{key:"formatMetricKey",value:function formatMetricKey(aggType,fieldName){return aggType!==_constants.COUNT_AGG_TYPE?"".concat(aggType).concat(AGG_DELIMITER).concat(fieldName):_constants.COUNT_PROP_NAME}},{key:"formatMetricLabel",value:function formatMetricLabel(aggType,fieldName){return aggType!==_constants.COUNT_AGG_TYPE?"".concat(aggType," of ").concat(fieldName):_constants.COUNT_PROP_LABEL}},{key:"createMetricAggConfigs",value:function createMetricAggConfigs(){return this.getMetricFields().map((function(esAggMetric){return esAggMetric.makeMetricAggConfig()}))}},{key:"getNumberFields",value:function getNumberFields(){return regeneratorRuntime.async((function getNumberFields$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",this.getMetricFields());case 1:case"end":return _context.stop()}}}),null,this)}},{key:"filterAndFormatPropertiesToHtmlForMetricFields",value:function filterAndFormatPropertiesToHtmlForMetricFields(properties){var metricFields,tooltipPropertiesPromises;return regeneratorRuntime.async((function filterAndFormatPropertiesToHtmlForMetricFields$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:metricFields=this.getMetricFields();tooltipPropertiesPromises=[];metricFields.forEach((function(metricField){var value;for(var key in properties){if(properties.hasOwnProperty(key)&&metricField.getName()===key){value=properties[key];break}}var tooltipPromise=metricField.createTooltipProperty(value);tooltipPropertiesPromises.push(tooltipPromise)}));_context2.next=5;return regeneratorRuntime.awrap(Promise.all(tooltipPropertiesPromises));case 5:return _context2.abrupt("return",_context2.sent);case 6:case"end":return _context2.stop()}}}),null,this)}}]);return AbstractESAggSource}(_es_source.AbstractESSource);exports.AbstractESAggSource=AbstractESAggSource;_defineProperty(AbstractESAggSource,"METRIC_SCHEMA_CONFIG",{group:"metrics",name:"metric",title:"Value",min:1,max:Infinity,aggFilter:[_constants.METRIC_TYPE.AVG,_constants.METRIC_TYPE.COUNT,_constants.METRIC_TYPE.MAX,_constants.METRIC_TYPE.MIN,_constants.METRIC_TYPE.SUM,_constants.METRIC_TYPE.UNIQUE_COUNT],defaults:[{schema:"metric",type:_constants.METRIC_TYPE.COUNT}]})},684:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GRID_RESOLUTION=void 0;var GRID_RESOLUTION={COARSE:"COARSE",FINE:"FINE",MOST_FINE:"MOST_FINE"};exports.GRID_RESOLUTION=GRID_RESOLUTION},685:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HEATMAP_COLOR_RAMP_LABEL=exports.DEFAULT_HEATMAP_COLOR_RAMP_NAME=exports.DEFAULT_RGB_HEATMAP_COLOR_RAMP=void 0;var _i18n=__webpack_require__(2);var DEFAULT_RGB_HEATMAP_COLOR_RAMP=["rgb(65, 105, 225)","rgb(0, 256, 256)","rgb(0, 256, 0)","rgb(256, 256, 0)","rgb(256, 0, 0)"];exports.DEFAULT_RGB_HEATMAP_COLOR_RAMP=DEFAULT_RGB_HEATMAP_COLOR_RAMP;var DEFAULT_HEATMAP_COLOR_RAMP_NAME="theclassic";exports.DEFAULT_HEATMAP_COLOR_RAMP_NAME=DEFAULT_HEATMAP_COLOR_RAMP_NAME;var HEATMAP_COLOR_RAMP_LABEL=_i18n.i18n.translate("xpack.maps.heatmap.colorRampLabel",{defaultMessage:"Color range"});exports.HEATMAP_COLOR_RAMP_LABEL=HEATMAP_COLOR_RAMP_LABEL},686:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ALL_SOURCES=void 0;var _ems_file_source=__webpack_require__(2007);var _client_file_source=__webpack_require__(1019);var _kibana_regionmap_source=__webpack_require__(2033);var _xyz_tms_source=__webpack_require__(2037);var _ems_tms_source=__webpack_require__(1026);var _wms_source=__webpack_require__(2040);var _kibana_tilemap_source=__webpack_require__(1029);var _es_geo_grid_source=__webpack_require__(2045);var _es_search_source=__webpack_require__(1022);var _es_pew_pew_source=__webpack_require__(2053);var ALL_SOURCES=[_client_file_source.GeojsonFileSource,_es_search_source.ESSearchSource,_es_geo_grid_source.ESGeoGridSource,_es_pew_pew_source.ESPewPewSource,_ems_file_source.EMSFileSource,_ems_tms_source.EMSTMSSource,_kibana_regionmap_source.KibanaRegionmapSource,_kibana_tilemap_source.KibanaTilemapSource,_xyz_tms_source.XYZTMSSource,_wms_source.WMSSource];exports.ALL_SOURCES=ALL_SOURCES},687:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsEditor=MetricsEditor;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _i18n=__webpack_require__(2);var _react2=__webpack_require__(4);var _eui=__webpack_require__(1);var _metric_editor=__webpack_require__(2050);var _constants=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function MetricsEditor(_ref){var fields=_ref.fields,metrics=_ref.metrics,onChange=_ref.onChange,allowMultipleMetrics=_ref.allowMultipleMetrics,metricsFilter=_ref.metricsFilter;function renderMetrics(){return metrics.map((function(metric,index){var onMetricChange=function onMetricChange(metric){onChange([].concat(_toConsumableArray(metrics.slice(0,index)),[metric],_toConsumableArray(metrics.slice(index+1))))};var onRemove=function onRemove(){onChange([].concat(_toConsumableArray(metrics.slice(0,index)),_toConsumableArray(metrics.slice(index+1))))};var removeButton;if(index>0){removeButton=_react.default.createElement("div",{className:"mapMetricEditorPanel__metricRemoveButton"},_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"trash",size:"xs",color:"danger",onClick:onRemove,"aria-label":_i18n.i18n.translate("xpack.maps.metricsEditor.deleteMetricAriaLabel",{defaultMessage:"Delete metric"})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.metricsEditor.deleteMetricButtonLabel",defaultMessage:"Delete metric"})))}return _react.default.createElement("div",{key:index,className:"mapMetricEditorPanel__metricEditor"},_react.default.createElement(_metric_editor.MetricEditor,{onChange:onMetricChange,metric:metric,fields:fields,metricsFilter:metricsFilter,removeButton:removeButton}))}))}function addMetric(){onChange([].concat(_toConsumableArray(metrics),[{}]))}function renderAddMetricButton(){if(!allowMultipleMetrics){return null}return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react.default.createElement(_eui.EuiTextAlign,{textAlign:"center"},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:addMetric,size:"xs",iconType:"plusInCircleFilled"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.maps.metricsEditor.addMetricButtonLabel",defaultMessage:"Add metric"}))))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement("div",{className:"mapMapLayerPanel__metrics"},renderMetrics()),renderAddMetricButton())}MetricsEditor.propTypes={metrics:_propTypes.default.array,fields:_propTypes.default.array,onChange:_propTypes.default.func.isRequired,allowMultipleMetrics:_propTypes.default.bool,metricsFilter:_propTypes.default.func};MetricsEditor.defaultProps={metrics:[{type:_constants.METRIC_TYPE.COUNT}],allowMultipleMetrics:true}},688:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _has_max_length=__webpack_require__(2149);Object.keys(_has_max_length).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _has_max_length[key]}})}));var _has_min_length=__webpack_require__(2150);Object.keys(_has_min_length).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _has_min_length[key]}})}));var _is_empty=__webpack_require__(2151);Object.keys(_is_empty).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _is_empty[key]}})}))},693:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createMapStore=createMapStore;var _redux=__webpack_require__(93);var _reduxThunk=_interopRequireDefault(__webpack_require__(350));var _ui=__webpack_require__(202);var _map=__webpack_require__(2112);var _non_serializable_instances=__webpack_require__(227);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var rootReducer=(0,_redux.combineReducers)({map:_map.map,ui:_ui.ui,nonSerializableInstances:_non_serializable_instances.nonSerializableInstances});var enhancers=[(0,_redux.applyMiddleware)(_reduxThunk.default)];function createMapStore(){var storeConfig={};return(0,_redux.createStore)(rootReducer,storeConfig,_redux.compose.apply(void 0,enhancers))}},695:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(2283)},697:function(module,exports,__webpack_require__){module.exports=__webpack_require__(26)(2726)},699:function(module,exports,__webpack_require__){module.exports=__webpack_require__(17)(2991)},7008:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.renderApp=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(9);var _app=__webpack_require__(8419);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var renderApp=function renderApp(core,plugins,_ref){var element=_ref.element;(0,_reactDom.render)(_react.default.createElement(_app.SiemApp,{core:core,plugins:plugins}),element);return function(){return(0,_reactDom.unmountComponentAtNode)(element)}};exports.renderApp=renderApp},7013:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"KibanaContextProvider",{enumerable:true,get:function get(){return _public.KibanaContextProvider}});Object.defineProperty(exports,"useUiSetting",{enumerable:true,get:function get(){return _public.useUiSetting}});Object.defineProperty(exports,"useUiSetting$",{enumerable:true,get:function get(){return _public.useUiSetting$}});Object.defineProperty(exports,"withKibana",{enumerable:true,get:function get(){return _public.withKibana}});exports.useKibana=void 0;var _public=__webpack_require__(16);var typedUseKibana=function typedUseKibana(){return(0,_public.useKibana)()};exports.useKibana=typedUseKibana},7016:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={createStore:true,getStore:true};Object.defineProperty(exports,"createStore",{enumerable:true,get:function get(){return _store.createStore}});Object.defineProperty(exports,"getStore",{enumerable:true,get:function get(){return _store.getStore}});var _model=__webpack_require__(8439);Object.keys(_model).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _model[key]}})}));var _reducer=__webpack_require__(7500);Object.keys(_reducer).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _reducer[key]}})}));var _selectors=__webpack_require__(8442);Object.keys(_selectors).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _selectors[key]}})}));var _store=__webpack_require__(7502)},7017:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getOrEmptyTagFromValue=exports.getOrEmptyTag=exports.defaultToEmptyTag=exports.getEmptyStringTag=exports.getEmptyTagValue=exports.getEmptyString=exports.getEmptyValue=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var i18n=_interopRequireWildcard(__webpack_require__(8666));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EmptyWrapper=_styledComponents.default.span.withConfig({displayName:"EmptyWrapper",componentId:"sc-8xj2nv-0"})(["color:",";"],(function(props){return props.theme.eui.euiColorMediumShade}));EmptyWrapper.displayName="EmptyWrapper";var getEmptyValue=function getEmptyValue(){return""};exports.getEmptyValue=getEmptyValue;var getEmptyString=function getEmptyString(){return"(".concat(i18n.EMPTY_STRING,")")};exports.getEmptyString=getEmptyString;var getEmptyTagValue=function getEmptyTagValue(){return _react.default.createElement(EmptyWrapper,null,getEmptyValue())};exports.getEmptyTagValue=getEmptyTagValue;var getEmptyStringTag=function getEmptyStringTag(){return _react.default.createElement(EmptyWrapper,null,getEmptyString())};exports.getEmptyStringTag=getEmptyStringTag;var defaultToEmptyTag=function defaultToEmptyTag(item){if(item==null){return getEmptyTagValue()}else if((0,_fp.isString)(item)&&item===""){return getEmptyStringTag()}else{return _react.default.createElement(_react.default.Fragment,null,item)}};exports.defaultToEmptyTag=defaultToEmptyTag;var getOrEmptyTag=function getOrEmptyTag(path,item){var text=(0,_fp.get)(path,item);return getOrEmptyTagFromValue(text)};exports.getOrEmptyTag=getOrEmptyTag;var getOrEmptyTagFromValue=function getOrEmptyTagFromValue(value){if(value==null){return getEmptyTagValue()}else if(value===""){return getEmptyStringTag()}else{return _react.default.createElement(_react.default.Fragment,null,value)}};exports.getOrEmptyTagFromValue=getOrEmptyTagFromValue},7018:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DraggableBadge=exports.Badge=exports.DefaultDraggable=exports.getDefaultWhenTooltipIsUnspecified=exports.tooltipContentIsExplicitlyNull=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _draggable_wrapper=__webpack_require__(7032);var _helpers=__webpack_require__(7021);var _empty_value=__webpack_require__(7017);var _data_provider=__webpack_require__(7024);var _provider=__webpack_require__(7051);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var tooltipContentIsExplicitlyNull=function tooltipContentIsExplicitlyNull(tooltipContent){return tooltipContent===null};exports.tooltipContentIsExplicitlyNull=tooltipContentIsExplicitlyNull;var getDefaultWhenTooltipIsUnspecified=function getDefaultWhenTooltipIsUnspecified(_ref){var field=_ref.field,tooltipContent=_ref.tooltipContent;return tooltipContent!=null?tooltipContent:field};exports.getDefaultWhenTooltipIsUnspecified=getDefaultWhenTooltipIsUnspecified;var Content=_react.default.memo((function(_ref2){var children=_ref2.children,field=_ref2.field,tooltipContent=_ref2.tooltipContent,value=_ref2.value;return!tooltipContentIsExplicitlyNull(tooltipContent)?_react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"".concat(field,"-tooltip"),content:getDefaultWhenTooltipIsUnspecified({tooltipContent:tooltipContent,field:field})},_react.default.createElement(_react.default.Fragment,null,children?children:value)):_react.default.createElement(_react.default.Fragment,null,children?children:value)}));Content.displayName="Content";var DefaultDraggable=_react.default.memo((function(_ref3){var id=_ref3.id,field=_ref3.field,value=_ref3.value,name=_ref3.name,children=_ref3.children,tooltipContent=_ref3.tooltipContent,queryValue=_ref3.queryValue;return value!=null?_react.default.createElement(_draggable_wrapper.DraggableWrapper,{dataProvider:{and:[],enabled:true,id:(0,_helpers.escapeDataProviderId)(id),name:name?name:value,excluded:false,kqlQuery:"",queryMatch:{field:field,value:queryValue?queryValue:value,operator:_data_provider.IS_OPERATOR}},render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:dataProvider})):_react.default.createElement(Content,{field:field,tooltipContent:tooltipContent,value:value},children)}}):null}));exports.DefaultDraggable=DefaultDraggable;DefaultDraggable.displayName="DefaultDraggable";var Badge=function Badge(props){return _react.default.createElement(_eui.EuiBadge,_extends({},props,{style:{verticalAlign:"top"}}))};exports.Badge=Badge;Badge.displayName="Badge";var DraggableBadge=_react.default.memo((function(_ref4){var contextId=_ref4.contextId,eventId=_ref4.eventId,field=_ref4.field,value=_ref4.value,iconType=_ref4.iconType,name=_ref4.name,_ref4$color=_ref4.color,color=_ref4$color===void 0?"hollow":_ref4$color,children=_ref4.children,tooltipContent=_ref4.tooltipContent,queryValue=_ref4.queryValue;return value!=null?_react.default.createElement(DefaultDraggable,{id:"draggable-badge-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(field,"-").concat(value),field:field,name:name,value:value,tooltipContent:tooltipContent,queryValue:queryValue},_react.default.createElement(Badge,{iconType:iconType,color:color},children?children:value!==""?value:(0,_empty_value.getEmptyStringTag)())):null}));exports.DraggableBadge=DraggableBadge;DraggableBadge.displayName="DraggableBadge"},7019:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.displaySuccessToast=exports.displayErrorToast=exports.GlobalToaster=exports.ManageGlobalToaster=exports.useStateToaster=exports.StateToasterContext=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _uuid=_interopRequireDefault(__webpack_require__(86));var _modal_all_errors=__webpack_require__(8450);var i18n=_interopRequireWildcard(__webpack_require__(7507));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var initialToasterState={toasts:[]};var StateToasterContext=(0,_react.createContext)([initialToasterState,function(){return _fp.noop}]);exports.StateToasterContext=StateToasterContext;var useStateToaster=function useStateToaster(){return(0,_react.useContext)(StateToasterContext)};exports.useStateToaster=useStateToaster;var ManageGlobalToaster=function ManageGlobalToaster(_ref){var children=_ref.children;var reducerToaster=function reducerToaster(state,action){switch(action.type){case"addToaster":return _objectSpread({},state,{toasts:[].concat(_toConsumableArray(state.toasts),[action.toast])});case"deleteToaster":return _objectSpread({},state,{toasts:state.toasts.filter((function(msg){return msg.id!==action.id}))});default:return state}};return _react.default.createElement(StateToasterContext.Provider,{value:(0,_react.useReducer)(reducerToaster,initialToasterState)},children)};exports.ManageGlobalToaster=ManageGlobalToaster;var GlobalToasterListContainer=_styledComponents.default.div.withConfig({displayName:"GlobalToasterListContainer",componentId:"sc-1sulctq-0"})(["position:absolute;right:0;bottom:0;"]);var GlobalToaster=function GlobalToaster(_ref2){var _ref2$toastLifeTimeMs=_ref2.toastLifeTimeMs,toastLifeTimeMs=_ref2$toastLifeTimeMs===void 0?5e3:_ref2$toastLifeTimeMs;var _useStateToaster=useStateToaster(),_useStateToaster2=_slicedToArray(_useStateToaster,2),toasts=_useStateToaster2[0].toasts,dispatch=_useStateToaster2[1];var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isShowing=_useState2[0],setIsShowing=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),toastInModal=_useState4[0],setToastInModal=_useState4[1];var toggle=function toggle(toast){if(isShowing){dispatch({type:"deleteToaster",id:toast.id});setToastInModal(null)}else{setToastInModal(toast)}setIsShowing(!isShowing)};return _react.default.createElement(_react.default.Fragment,null,toasts.length>0&&!isShowing&&_react.default.createElement(GlobalToasterListContainer,null,_react.default.createElement(_eui.EuiGlobalToastList,{toasts:[formatToErrorToastIfNeeded(toasts[0],toggle)],dismissToast:function dismissToast(_ref3){var id=_ref3.id;dispatch({type:"deleteToaster",id:id})},toastLifeTimeMs:toastLifeTimeMs})),toastInModal!=null&&_react.default.createElement(_modal_all_errors.ModalAllErrors,{isShowing:isShowing,toast:toastInModal,toggle:toggle}))};exports.GlobalToaster=GlobalToaster;var formatToErrorToastIfNeeded=function formatToErrorToastIfNeeded(toast,toggle){if(toast!=null&&toast.errors!=null&&toast.errors.length>0){toast.text=_react.default.createElement(ErrorToastContainer,null,_react.default.createElement(_eui.EuiButton,{"data-test-subj":"toaster-show-all-error-modal",size:"s",color:"danger",onClick:function onClick(){return toast!=null&&toggle(toast)}},i18n.SEE_ALL_ERRORS))}return toast};var ErrorToastContainer=_styledComponents.default.div.withConfig({displayName:"ErrorToastContainer",componentId:"sc-1sulctq-1"})(["text-align:right;"]);ErrorToastContainer.displayName="ErrorToastContainer";var displayErrorToast=function displayErrorToast(errorTitle,errorMessages,dispatchToaster){var toast={id:_uuid.default.v4(),title:errorTitle,color:"danger",iconType:"alert",errors:errorMessages};dispatchToaster({type:"addToaster",toast:toast})};exports.displayErrorToast=displayErrorToast;var displaySuccessToast=function displaySuccessToast(title,dispatchToaster){var toast={id:_uuid.default.v4(),title:title,color:"success",iconType:"check"};dispatchToaster({type:"addToaster",toast:toast})};exports.displaySuccessToast=displaySuccessToast},7021:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IS_TIMELINE_FIELD_DRAGGING_CLASS_NAME=exports.IS_DRAGGING_CLASS_NAME=exports.DRAG_TYPE_FIELD=exports.updateShowTimeline=exports.addFieldToTimelineColumns=exports.addProviderToTimeline=exports.providerWasDroppedOnTimelineButton=exports.fieldWasDroppedOnTimelineColumns=exports.providerWasDroppedOnTimeline=exports.unEscapeFieldId=exports.escapeFieldId=exports.escapeContextId=exports.escapeDataProviderId=exports.getFieldIdFromDraggable=exports.getProviderIdFromDraggable=exports.getTimelineIdFromDestination=exports.destinationIsTimelineButton=exports.destinationIsTimelineColumns=exports.destinationIsTimelineProviders=exports.reasonIsDrop=exports.draggableIsField=exports.draggableIsContent=exports.sourceIsContent=exports.getDroppableId=exports.getDraggableFieldId=exports.getDraggableId=exports.droppableTimelineFlyoutButtonPrefix=exports.droppableTimelineColumnsPrefix=exports.droppableTimelineProvidersPrefix=exports.droppableFieldPrefix=exports.droppableContentPrefix=exports.draggableFieldPrefix=exports.draggableContentPrefix=exports.droppableIdPrefix=exports.draggableIdPrefix=void 0;var _fp=__webpack_require__(223);var _source=__webpack_require__(7042);var _constants=__webpack_require__(7047);var _actions=__webpack_require__(1882);var draggableIdPrefix="draggableId";exports.draggableIdPrefix=draggableIdPrefix;var droppableIdPrefix="droppableId";exports.droppableIdPrefix=droppableIdPrefix;var draggableContentPrefix="".concat(draggableIdPrefix,".content.");exports.draggableContentPrefix=draggableContentPrefix;var draggableFieldPrefix="".concat(draggableIdPrefix,".field.");exports.draggableFieldPrefix=draggableFieldPrefix;var droppableContentPrefix="".concat(droppableIdPrefix,".content.");exports.droppableContentPrefix=droppableContentPrefix;var droppableFieldPrefix="".concat(droppableIdPrefix,".field.");exports.droppableFieldPrefix=droppableFieldPrefix;var droppableTimelineProvidersPrefix="".concat(droppableIdPrefix,".timelineProviders.");exports.droppableTimelineProvidersPrefix=droppableTimelineProvidersPrefix;var droppableTimelineColumnsPrefix="".concat(droppableIdPrefix,".timelineColumns.");exports.droppableTimelineColumnsPrefix=droppableTimelineColumnsPrefix;var droppableTimelineFlyoutButtonPrefix="".concat(droppableIdPrefix,".flyoutButton.");exports.droppableTimelineFlyoutButtonPrefix=droppableTimelineFlyoutButtonPrefix;var getDraggableId=function getDraggableId(dataProviderId){return"".concat(draggableContentPrefix).concat(dataProviderId)};exports.getDraggableId=getDraggableId;var getDraggableFieldId=function getDraggableFieldId(_ref){var contextId=_ref.contextId,fieldId=_ref.fieldId;return"".concat(draggableFieldPrefix).concat(escapeContextId(contextId),".").concat(escapeFieldId(fieldId))};exports.getDraggableFieldId=getDraggableFieldId;var getDroppableId=function getDroppableId(visualizationPlaceholderId){return"".concat(droppableContentPrefix).concat(visualizationPlaceholderId)};exports.getDroppableId=getDroppableId;var sourceIsContent=function sourceIsContent(result){return result.source.droppableId.startsWith(droppableContentPrefix)};exports.sourceIsContent=sourceIsContent;var draggableIsContent=function draggableIsContent(result){return result.draggableId.startsWith(draggableContentPrefix)};exports.draggableIsContent=draggableIsContent;var draggableIsField=function draggableIsField(result){return result.draggableId.startsWith(draggableFieldPrefix)};exports.draggableIsField=draggableIsField;var reasonIsDrop=function reasonIsDrop(result){return result.reason==="DROP"};exports.reasonIsDrop=reasonIsDrop;var destinationIsTimelineProviders=function destinationIsTimelineProviders(result){return result.destination!=null&&result.destination.droppableId.startsWith(droppableTimelineProvidersPrefix)};exports.destinationIsTimelineProviders=destinationIsTimelineProviders;var destinationIsTimelineColumns=function destinationIsTimelineColumns(result){return result.destination!=null&&result.destination.droppableId.startsWith(droppableTimelineColumnsPrefix)};exports.destinationIsTimelineColumns=destinationIsTimelineColumns;var destinationIsTimelineButton=function destinationIsTimelineButton(result){return result.destination!=null&&result.destination.droppableId.startsWith(droppableTimelineFlyoutButtonPrefix)};exports.destinationIsTimelineButton=destinationIsTimelineButton;var getTimelineIdFromDestination=function getTimelineIdFromDestination(result){return result.destination!=null&&(destinationIsTimelineProviders(result)||destinationIsTimelineButton(result)||destinationIsTimelineColumns(result))?result.destination.droppableId.substring(result.destination.droppableId.lastIndexOf(".")+1):""};exports.getTimelineIdFromDestination=getTimelineIdFromDestination;var getProviderIdFromDraggable=function getProviderIdFromDraggable(result){return result.draggableId.substring(result.draggableId.lastIndexOf(".")+1)};exports.getProviderIdFromDraggable=getProviderIdFromDraggable;var getFieldIdFromDraggable=function getFieldIdFromDraggable(result){return unEscapeFieldId(result.draggableId.substring(result.draggableId.lastIndexOf(".")+1))};exports.getFieldIdFromDraggable=getFieldIdFromDraggable;var escapeDataProviderId=function escapeDataProviderId(path){return path.replace(/\./g,"_")};exports.escapeDataProviderId=escapeDataProviderId;var escapeContextId=function escapeContextId(path){return path.replace(/\./g,"_")};exports.escapeContextId=escapeContextId;var escapeFieldId=function escapeFieldId(path){return path.replace(/\./g,"!!!DOT!!!")};exports.escapeFieldId=escapeFieldId;var unEscapeFieldId=function unEscapeFieldId(path){return path.replace(/!!!DOT!!!/g,".")};exports.unEscapeFieldId=unEscapeFieldId;var providerWasDroppedOnTimeline=function providerWasDroppedOnTimeline(result){return reasonIsDrop(result)&&draggableIsContent(result)&&sourceIsContent(result)&&destinationIsTimelineProviders(result)};exports.providerWasDroppedOnTimeline=providerWasDroppedOnTimeline;var fieldWasDroppedOnTimelineColumns=function fieldWasDroppedOnTimelineColumns(result){return reasonIsDrop(result)&&draggableIsField(result)&&destinationIsTimelineColumns(result)};exports.fieldWasDroppedOnTimelineColumns=fieldWasDroppedOnTimelineColumns;var providerWasDroppedOnTimelineButton=function providerWasDroppedOnTimelineButton(result){return reasonIsDrop(result)&&draggableIsContent(result)&&sourceIsContent(result)&&destinationIsTimelineButton(result)};exports.providerWasDroppedOnTimelineButton=providerWasDroppedOnTimelineButton;var addProviderToTimeline=function addProviderToTimeline(_ref2){var dataProviders=_ref2.dataProviders,result=_ref2.result,dispatch=_ref2.dispatch,_ref2$addProvider=_ref2.addProvider,addProvider=_ref2$addProvider===void 0?_actions.timelineActions.addProvider:_ref2$addProvider,_ref2$noProviderFound=_ref2.noProviderFound,noProviderFound=_ref2$noProviderFound===void 0?_actions.dragAndDropActions.noProviderFound:_ref2$noProviderFound;var timeline=getTimelineIdFromDestination(result);var providerId=getProviderIdFromDraggable(result);var provider=dataProviders[providerId];if(provider){dispatch(addProvider({id:timeline,provider:provider}))}else{dispatch(noProviderFound({id:providerId}))}};exports.addProviderToTimeline=addProviderToTimeline;var addFieldToTimelineColumns=function addFieldToTimelineColumns(_ref3){var _ref3$upsertColumn=_ref3.upsertColumn,upsertColumn=_ref3$upsertColumn===void 0?_actions.timelineActions.upsertColumn:_ref3$upsertColumn,browserFields=_ref3.browserFields,dispatch=_ref3.dispatch,result=_ref3.result;var timeline=getTimelineIdFromDestination(result);var fieldId=getFieldIdFromDraggable(result);var allColumns=(0,_source.getAllFieldsByName)(browserFields);var column=allColumns[fieldId];if(column!=null){dispatch(upsertColumn({column:{category:column.category,columnHeaderType:"not-filtered",description:(0,_fp.isString)(column.description)?column.description:undefined,example:(0,_fp.isString)(column.example)?column.example:undefined,id:fieldId,type:column.type,aggregatable:column.aggregatable,width:_constants.DEFAULT_COLUMN_MIN_WIDTH},id:timeline,index:result.destination!=null?result.destination.index:0}))}else{dispatch(upsertColumn({column:{columnHeaderType:"not-filtered",id:fieldId,width:_constants.DEFAULT_COLUMN_MIN_WIDTH},id:timeline,index:result.destination!=null?result.destination.index:0}))}};exports.addFieldToTimelineColumns=addFieldToTimelineColumns;var updateShowTimeline=function updateShowTimeline(_ref4){var result=_ref4.result,show=_ref4.show,dispatch=_ref4.dispatch,_ref4$showTimeline=_ref4.showTimeline,showTimeline=_ref4$showTimeline===void 0?_actions.timelineActions.showTimeline:_ref4$showTimeline;var timeline=getTimelineIdFromDestination(result);dispatch(showTimeline({id:timeline,show:show}))};exports.updateShowTimeline=updateShowTimeline;var DRAG_TYPE_FIELD="drag-type-field";exports.DRAG_TYPE_FIELD=DRAG_TYPE_FIELD;var IS_DRAGGING_CLASS_NAME="is-dragging";exports.IS_DRAGGING_CLASS_NAME=IS_DRAGGING_CLASS_NAME;var IS_TIMELINE_FIELD_DRAGGING_CLASS_NAME="is-timeline-field-dragging";exports.IS_TIMELINE_FIELD_DRAGGING_CLASS_NAME=IS_TIMELINE_FIELD_DRAGGING_CLASS_NAME},7022:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isNillEmptyOrNotFinite=isNillEmptyOrNotFinite;exports.showVia=exports.isProcessStoppedOrTerminationEvent=exports.isFileEvent=exports.TokensFlexItem=exports.Details=exports.getValues=exports.findItem=exports.deleteItemIdx=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var deleteItemIdx=function deleteItemIdx(data,idx){return[].concat(_toConsumableArray(data.slice(0,idx)),_toConsumableArray(data.slice(idx+1)))};exports.deleteItemIdx=deleteItemIdx;var findItem=function findItem(data,field){return data.findIndex((function(d){return d.field===field}))};exports.findItem=findItem;var getValues=function getValues(field,data){var obj=data.find((function(d){return d.field===field}));if(obj!=null&&obj.value!=null){return obj.value}return undefined};exports.getValues=getValues;var Details=_styledComponents.default.div.withConfig({displayName:"Details",componentId:"vnu413-0"})(["margin:5px 0 5px 10px;& .euiBadge{margin:2px 0 2px 0;}"]);exports.Details=Details;Details.displayName="Details";var TokensFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"TokensFlexItem",componentId:"vnu413-1"})(["margin-left:3px;"]);exports.TokensFlexItem=TokensFlexItem;TokensFlexItem.displayName="TokensFlexItem";function isNillEmptyOrNotFinite(value){return(0,_fp.isNumber)(value)?!isFinite(value):(0,_fp.isEmpty)(value)}var isFileEvent=function isFileEvent(_ref){var eventCategory=_ref.eventCategory,eventDataset=_ref.eventDataset;return eventCategory!=null&&eventCategory.toLowerCase()==="file"||eventDataset!=null&&eventDataset.toLowerCase()==="file"};exports.isFileEvent=isFileEvent;var isProcessStoppedOrTerminationEvent=function isProcessStoppedOrTerminationEvent(eventAction){return["process_stopped","termination_event"].includes("".concat(eventAction).toLowerCase())};exports.isProcessStoppedOrTerminationEvent=isProcessStoppedOrTerminationEvent;var showVia=function showVia(eventAction){return["file_create_event","created","file_delete_event","deleted"].includes("".concat(eventAction).toLowerCase())};exports.showVia=showVia},7024:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EXISTS_OPERATOR=exports.IS_OPERATOR=void 0;var IS_OPERATOR=":";exports.IS_OPERATOR=IS_OPERATOR;var EXISTS_OPERATOR=":*";exports.EXISTS_OPERATOR=EXISTS_OPERATOR},7027:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormattedRelativePreferenceDate=exports.FormattedDate=exports.PreferenceFormattedP1DTDate=exports.isP1DTFormatterSetting=exports.PreferenceFormattedDate=void 0;var _momentTimezone=_interopRequireDefault(__webpack_require__(35));var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(4);var _hooks=__webpack_require__(7199);var _empty_value=__webpack_require__(7017);var _kibana=__webpack_require__(7013);var _localized_date_tooltip=__webpack_require__(7311);var _maybe_date=__webpack_require__(7574);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var PreferenceFormattedDate=_react.default.memo((function(_ref){var value=_ref.value,_ref$dateFormat=_ref.dateFormat,dateFormat=_ref$dateFormat===void 0?(0,_hooks.useDateFormat)():_ref$dateFormat;return _react.default.createElement(_react.default.Fragment,null,_momentTimezone.default.tz(value,(0,_hooks.useTimeZone)()).format(dateFormat))}));exports.PreferenceFormattedDate=PreferenceFormattedDate;PreferenceFormattedDate.displayName="PreferenceFormattedDate";var isP1DTFormatterSetting=function isP1DTFormatterSetting(formatNameFormatterPair){return Array.isArray(formatNameFormatterPair)&&formatNameFormatterPair[0]==="P1DT"&&formatNameFormatterPair.length===2};exports.isP1DTFormatterSetting=isP1DTFormatterSetting;var PreferenceFormattedP1DTDate=_react.default.memo((function(_ref2){var value=_ref2.value;var FALLBACK_DATE_FORMAT_SCALED_P1DT=["P1DT","YYYY-MM-DD"];var _useUiSetting$=(0,_kibana.useUiSetting$)("dateFormat:scaled"),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),scaledDateFormatPreference=_useUiSetting$2[0];var maybeP1DTFormatter=Array.isArray(scaledDateFormatPreference)?scaledDateFormatPreference.find(isP1DTFormatterSetting):null;var p1dtFormat=Array.isArray(maybeP1DTFormatter)&&maybeP1DTFormatter.length===2?maybeP1DTFormatter[1]:FALLBACK_DATE_FORMAT_SCALED_P1DT[1];return _react.default.createElement(PreferenceFormattedDate,{dateFormat:p1dtFormat,value:value})}));exports.PreferenceFormattedP1DTDate=PreferenceFormattedP1DTDate;PreferenceFormattedP1DTDate.displayName="PreferenceFormattedP1DTDate";var FormattedDate=_react.default.memo((function(_ref3){var value=_ref3.value,fieldName=_ref3.fieldName;if(value==null){return(0,_empty_value.getOrEmptyTagFromValue)(value)}var maybeDate=(0,_maybe_date.getMaybeDate)(value);return maybeDate.isValid()?_react.default.createElement(_localized_date_tooltip.LocalizedDateTooltip,{date:maybeDate.toDate(),fieldName:fieldName},_react.default.createElement(PreferenceFormattedDate,{value:maybeDate.toDate()})):(0,_empty_value.getOrEmptyTagFromValue)(value)}));exports.FormattedDate=FormattedDate;FormattedDate.displayName="FormattedDate";var FormattedRelativePreferenceDate=function FormattedRelativePreferenceDate(_ref4){var value=_ref4.value;if(value==null){return(0,_empty_value.getOrEmptyTagFromValue)(value)}var maybeDate=(0,_maybe_date.getMaybeDate)(value);if(!maybeDate.isValid()){return(0,_empty_value.getOrEmptyTagFromValue)(value)}var date=maybeDate.toDate();return _react.default.createElement(_localized_date_tooltip.LocalizedDateTooltip,{date:date},(0,_momentTimezone.default)(date).add(1,"hours").isBefore(new Date)?_react.default.createElement(PreferenceFormattedDate,{"data-test-subj":"preference-time",value:date}):_react.default.createElement(_react2.FormattedRelative,{"data-test-subj":"relative-time",value:date}))};exports.FormattedRelativePreferenceDate=FormattedRelativePreferenceDate},7028:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.manageQuery=manageQuery;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function manageQuery(WrappedComponent){var ManageQuery=function(_React$PureComponent){_inherits(ManageQuery,_React$PureComponent);function ManageQuery(){_classCallCheck(this,ManageQuery);return _possibleConstructorReturn(this,_getPrototypeOf(ManageQuery).apply(this,arguments))}_createClass(ManageQuery,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this$props=this.props,loading=_this$props.loading,id=_this$props.id,refetch=_this$props.refetch,setQuery=_this$props.setQuery,_this$props$inspect=_this$props.inspect,inspect=_this$props$inspect===void 0?null:_this$props$inspect;setQuery({id:id,inspect:inspect,loading:loading,refetch:refetch})}},{key:"componentWillUnmount",value:function componentWillUnmount(){var _this$props2=this.props,deleteQuery=_this$props2.deleteQuery,id=_this$props2.id;if(deleteQuery){deleteQuery({id:id})}}},{key:"render",value:function render(){var otherProps=(0,_fp.omit)(["refetch","setQuery"],this.props);return _react.default.createElement(WrappedComponent,otherProps)}}]);return ManageQuery}(_react.default.PureComponent);_defineProperty(ManageQuery,"displayName",void 0);ManageQuery.displayName="ManageQuery (".concat(WrappedComponent.displayName||"Unknown",")");return ManageQuery}},7029:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getDefaultFetchPolicy=exports.createFilter=void 0;var _fp=__webpack_require__(223);var createFilter=function createFilter(filterQuery){return(0,_fp.isString)(filterQuery)?filterQuery:JSON.stringify(filterQuery)};exports.createFilter=createFilter;var getDefaultFetchPolicy=function getDefaultFetchPolicy(){return"cache-and-network"};exports.getDefaultFetchPolicy=getDefaultFetchPolicy},7030:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SiemPageName=void 0;var SiemPageName;exports.SiemPageName=SiemPageName;(function(SiemPageName){SiemPageName["overview"]="overview";SiemPageName["hosts"]="hosts";SiemPageName["network"]="network";SiemPageName["detections"]="detections";SiemPageName["timelines"]="timelines"})(SiemPageName||(exports.SiemPageName=SiemPageName={}))},7031:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RELOAD_MISSING_PREPACKAGED_RULES=exports.LOAD_PREPACKAGED_RULES=exports.DELETE=exports.UPDATE=exports.CONTINUE=exports.OPTIONAL_FIELD=exports.SCHEDULE=exports.ABOUT=exports.DEFINITION=exports.SCHEDULE_RULE=exports.ABOUT_RULE=exports.DEFINE_RULE=exports.NO_RULES_BODY=exports.NO_RULES=exports.NO_TAGS_AVAILABLE=exports.TAGS=exports.ELASTIC_RULES=exports.CUSTOM_RULES=exports.COLUMN_ACTIVATE=exports.COLUMN_TAGS=exports.COLUMN_LAST_RESPONSE=exports.COLUMN_LAST_COMPLETE_RUN=exports.COLUMN_SEVERITY=exports.COLUMN_RISK_SCORE=exports.COLUMN_RULE=exports.DELETE_RULE=exports.EXPORT_RULE=exports.DUPLICATE_RULE_ERROR=exports.SUCCESSFULLY_DUPLICATED_RULES=exports.DUPLICATE_RULE=exports.DUPLICATE=exports.EDIT_RULE_SETTINGS=exports.SELECTED_RULES=exports.SHOWING_RULES=exports.SEARCH_PLACEHOLDER=exports.SEARCH_RULES=exports.ALL_RULES=exports.SUCCESSFULLY_EXPORTED_RULES=exports.EXPORT_FILENAME=exports.BATCH_ACTION_DELETE_SELECTED_ERROR=exports.BATCH_ACTION_DELETE_SELECTED_IMMUTABLE=exports.BATCH_ACTION_DELETE_SELECTED=exports.BATCH_ACTION_DUPLICATE_SELECTED=exports.BATCH_ACTION_EXPORT_SELECTED=exports.BATCH_ACTION_DEACTIVATE_SELECTED_ERROR=exports.BATCH_ACTION_DEACTIVATE_SELECTED=exports.BATCH_ACTION_ACTIVATE_SELECTED_ERROR=exports.BATCH_ACTION_ACTIVATE_SELECTED=exports.BATCH_ACTIONS=exports.REFRESH=exports.EDIT_PAGE_TITLE=exports.ADD_PAGE_TITLE=exports.PAGE_TITLE=exports.ADD_NEW_RULE=exports.IMPORT_RULE=exports.BACK_TO_DETECTION_ENGINE=void 0;var _i18n=__webpack_require__(2);var BACK_TO_DETECTION_ENGINE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.backOptionsHeader",{defaultMessage:"Back to detections"});exports.BACK_TO_DETECTION_ENGINE=BACK_TO_DETECTION_ENGINE;var IMPORT_RULE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.importRuleTitle",{defaultMessage:"Import rule"});exports.IMPORT_RULE=IMPORT_RULE;var ADD_NEW_RULE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.addNewRuleTitle",{defaultMessage:"Create new rule"});exports.ADD_NEW_RULE=ADD_NEW_RULE;var PAGE_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.pageTitle",{defaultMessage:"Signal detection rules"});exports.PAGE_TITLE=PAGE_TITLE;var ADD_PAGE_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.addPageTitle",{defaultMessage:"Create"});exports.ADD_PAGE_TITLE=ADD_PAGE_TITLE;var EDIT_PAGE_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.editPageTitle",{defaultMessage:"Edit"});exports.EDIT_PAGE_TITLE=EDIT_PAGE_TITLE;var REFRESH=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.refreshTitle",{defaultMessage:"Refresh"});exports.REFRESH=REFRESH;var BATCH_ACTIONS=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.batchActionsTitle",{defaultMessage:"Bulk actions"});exports.BATCH_ACTIONS=BATCH_ACTIONS;var BATCH_ACTION_ACTIVATE_SELECTED=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.batchActions.activateSelectedTitle",{defaultMessage:"Activate selected"});exports.BATCH_ACTION_ACTIVATE_SELECTED=BATCH_ACTION_ACTIVATE_SELECTED;var BATCH_ACTION_ACTIVATE_SELECTED_ERROR=function BATCH_ACTION_ACTIVATE_SELECTED_ERROR(totalRules){return _i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.batchActions.activateSelectedErrorTitle",{values:{totalRules:totalRules},defaultMessage:"Error activating {totalRules, plural, =1 {rule} other {rules}}"})};exports.BATCH_ACTION_ACTIVATE_SELECTED_ERROR=BATCH_ACTION_ACTIVATE_SELECTED_ERROR;var BATCH_ACTION_DEACTIVATE_SELECTED=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.batchActions.deactivateSelectedTitle",{defaultMessage:"Deactivate selected"});exports.BATCH_ACTION_DEACTIVATE_SELECTED=BATCH_ACTION_DEACTIVATE_SELECTED;var BATCH_ACTION_DEACTIVATE_SELECTED_ERROR=function BATCH_ACTION_DEACTIVATE_SELECTED_ERROR(totalRules){return _i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.batchActions.deactivateSelectedErrorTitle",{values:{totalRules:totalRules},defaultMessage:"Error deactivating {totalRules, plural, =1 {rule} other {rules}}"})};exports.BATCH_ACTION_DEACTIVATE_SELECTED_ERROR=BATCH_ACTION_DEACTIVATE_SELECTED_ERROR;var BATCH_ACTION_EXPORT_SELECTED=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.batchActions.exportSelectedTitle",{defaultMessage:"Export selected"});exports.BATCH_ACTION_EXPORT_SELECTED=BATCH_ACTION_EXPORT_SELECTED;var BATCH_ACTION_DUPLICATE_SELECTED=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.batchActions.duplicateSelectedTitle",{defaultMessage:"Duplicate selected"});exports.BATCH_ACTION_DUPLICATE_SELECTED=BATCH_ACTION_DUPLICATE_SELECTED;var BATCH_ACTION_DELETE_SELECTED=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.batchActions.deleteSelectedTitle",{defaultMessage:"Delete selected"});exports.BATCH_ACTION_DELETE_SELECTED=BATCH_ACTION_DELETE_SELECTED;var BATCH_ACTION_DELETE_SELECTED_IMMUTABLE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.batchActions.deleteSelectedImmutableTitle",{defaultMessage:"Selection contains immutable rules which cannot be deleted"});exports.BATCH_ACTION_DELETE_SELECTED_IMMUTABLE=BATCH_ACTION_DELETE_SELECTED_IMMUTABLE;var BATCH_ACTION_DELETE_SELECTED_ERROR=function BATCH_ACTION_DELETE_SELECTED_ERROR(totalRules){return _i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.batchActions.deleteSelectedErrorTitle",{values:{totalRules:totalRules},defaultMessage:"Error deleting {totalRules, plural, =1 {rule} other {rules}}"})};exports.BATCH_ACTION_DELETE_SELECTED_ERROR=BATCH_ACTION_DELETE_SELECTED_ERROR;var EXPORT_FILENAME=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.exportFilenameTitle",{defaultMessage:"rules_export"});exports.EXPORT_FILENAME=EXPORT_FILENAME;var SUCCESSFULLY_EXPORTED_RULES=function SUCCESSFULLY_EXPORTED_RULES(totalRules){return _i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.successfullyExportedRulesTitle",{values:{totalRules:totalRules},defaultMessage:"Successfully exported {totalRules, plural, =0 {all rules} =1 {{totalRules} rule} other {{totalRules} rules}}"})};exports.SUCCESSFULLY_EXPORTED_RULES=SUCCESSFULLY_EXPORTED_RULES;var ALL_RULES=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.tableTitle",{defaultMessage:"All rules"});exports.ALL_RULES=ALL_RULES;var SEARCH_RULES=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.searchAriaLabel",{defaultMessage:"Search rules"});exports.SEARCH_RULES=SEARCH_RULES;var SEARCH_PLACEHOLDER=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.searchPlaceholder",{defaultMessage:"e.g. rule name"});exports.SEARCH_PLACEHOLDER=SEARCH_PLACEHOLDER;var SHOWING_RULES=function SHOWING_RULES(totalRules){return _i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.showingRulesTitle",{values:{totalRules:totalRules},defaultMessage:"Showing {totalRules} {totalRules, plural, =1 {rule} other {rules}}"})};exports.SHOWING_RULES=SHOWING_RULES;var SELECTED_RULES=function SELECTED_RULES(selectedRules){return _i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.selectedRulesTitle",{values:{selectedRules:selectedRules},defaultMessage:"Selected {selectedRules} {selectedRules, plural, =1 {rule} other {rules}}"})};exports.SELECTED_RULES=SELECTED_RULES;var EDIT_RULE_SETTINGS=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.actions.editRuleSettingsDescription",{defaultMessage:"Edit rule settings"});exports.EDIT_RULE_SETTINGS=EDIT_RULE_SETTINGS;var DUPLICATE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.actions.duplicateTitle",{defaultMessage:"Duplicate"});exports.DUPLICATE=DUPLICATE;var DUPLICATE_RULE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.actions.duplicateRuleDescription",{defaultMessage:"Duplicate rule"});exports.DUPLICATE_RULE=DUPLICATE_RULE;var SUCCESSFULLY_DUPLICATED_RULES=function SUCCESSFULLY_DUPLICATED_RULES(totalRules){return _i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.successfullyDuplicatedRulesTitle",{values:{totalRules:totalRules},defaultMessage:"Successfully duplicated {totalRules, plural, =1 {{totalRules} rule} other {{totalRules} rules}}"})};exports.SUCCESSFULLY_DUPLICATED_RULES=SUCCESSFULLY_DUPLICATED_RULES;var DUPLICATE_RULE_ERROR=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.actions.duplicateRuleErrorDescription",{defaultMessage:"Error duplicating rule"});exports.DUPLICATE_RULE_ERROR=DUPLICATE_RULE_ERROR;var EXPORT_RULE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.actions.exportRuleDescription",{defaultMessage:"Export rule"});exports.EXPORT_RULE=EXPORT_RULE;var DELETE_RULE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.actions.deleteeRuleDescription",{defaultMessage:"Delete rule"});exports.DELETE_RULE=DELETE_RULE;var COLUMN_RULE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.columns.ruleTitle",{defaultMessage:"Rule"});exports.COLUMN_RULE=COLUMN_RULE;var COLUMN_RISK_SCORE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.columns.riskScoreTitle",{defaultMessage:"Risk score"});exports.COLUMN_RISK_SCORE=COLUMN_RISK_SCORE;var COLUMN_SEVERITY=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.columns.severityTitle",{defaultMessage:"Severity"});exports.COLUMN_SEVERITY=COLUMN_SEVERITY;var COLUMN_LAST_COMPLETE_RUN=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.columns.lastRunTitle",{defaultMessage:"Last run"});exports.COLUMN_LAST_COMPLETE_RUN=COLUMN_LAST_COMPLETE_RUN;var COLUMN_LAST_RESPONSE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.columns.lastResponseTitle",{defaultMessage:"Last response"});exports.COLUMN_LAST_RESPONSE=COLUMN_LAST_RESPONSE;var COLUMN_TAGS=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.columns.tagsTitle",{defaultMessage:"Tags"});exports.COLUMN_TAGS=COLUMN_TAGS;var COLUMN_ACTIVATE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.columns.activateTitle",{defaultMessage:"Activated"});exports.COLUMN_ACTIVATE=COLUMN_ACTIVATE;var CUSTOM_RULES=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.filters.customRulesTitle",{defaultMessage:"Custom rules"});exports.CUSTOM_RULES=CUSTOM_RULES;var ELASTIC_RULES=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.filters.elasticRulesTitle",{defaultMessage:"Elastic rules"});exports.ELASTIC_RULES=ELASTIC_RULES;var TAGS=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.filters.tagsLabel",{defaultMessage:"Tags"});exports.TAGS=TAGS;var NO_TAGS_AVAILABLE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.filters.noTagsAvailableDescription",{defaultMessage:"No tags available"});exports.NO_TAGS_AVAILABLE=NO_TAGS_AVAILABLE;var NO_RULES=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.filters.noRulesTitle",{defaultMessage:"No rules found"});exports.NO_RULES=NO_RULES;var NO_RULES_BODY=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.allRules.filters.noRulesBodyTitle",{defaultMessage:"We weren't able to find any rules with the above filters."});exports.NO_RULES_BODY=NO_RULES_BODY;var DEFINE_RULE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.defineRuleTitle",{defaultMessage:"Define rule"});exports.DEFINE_RULE=DEFINE_RULE;var ABOUT_RULE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.aboutRuleTitle",{defaultMessage:"About rule"});exports.ABOUT_RULE=ABOUT_RULE;var SCHEDULE_RULE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.scheduleRuleTitle",{defaultMessage:"Schedule rule"});exports.SCHEDULE_RULE=SCHEDULE_RULE;var DEFINITION=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.stepDefinitionTitle",{defaultMessage:"Definition"});exports.DEFINITION=DEFINITION;var ABOUT=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.stepAboutTitle",{defaultMessage:"About"});exports.ABOUT=ABOUT;var SCHEDULE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.stepScheduleTitle",{defaultMessage:"Schedule"});exports.SCHEDULE=SCHEDULE;var OPTIONAL_FIELD=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.optionalFieldDescription",{defaultMessage:"Optional"});exports.OPTIONAL_FIELD=OPTIONAL_FIELD;var CONTINUE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.continueButtonTitle",{defaultMessage:"Continue"});exports.CONTINUE=CONTINUE;var UPDATE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.updateButtonTitle",{defaultMessage:"Update"});exports.UPDATE=UPDATE;var DELETE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.deleteDescription",{defaultMessage:"Delete"});exports.DELETE=DELETE;var LOAD_PREPACKAGED_RULES=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.loadPrePackagedRulesButton",{defaultMessage:"Load Elastic prebuilt rules"});exports.LOAD_PREPACKAGED_RULES=LOAD_PREPACKAGED_RULES;var RELOAD_MISSING_PREPACKAGED_RULES=function RELOAD_MISSING_PREPACKAGED_RULES(missingRules){return _i18n.i18n.translate("xpack.siem.detectionEngine.rules.reloadMissingPrePackagedRulesButton",{values:{missingRules:missingRules},defaultMessage:"Reload {missingRules} deleted Elastic prebuilt {missingRules, plural, =1 {rule} other {rules}} "})};exports.RELOAD_MISSING_PREPACKAGED_RULES=RELOAD_MISSING_PREPACKAGED_RULES},7032:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.DraggableWrapper=exports.useDraggablePortalContext=exports.DraggablePortalContext=exports.DragEffects=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactBeautifulDnd=__webpack_require__(7089);var _reactRedux=__webpack_require__(7014);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _eui=__webpack_require__(1);var _drag_and_drop=__webpack_require__(1920);var _truncatable_text=__webpack_require__(7131);var _helpers=__webpack_require__(7021);var _provider_container=__webpack_require__(8698);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var DragEffects=_styledComponents.default.div.withConfig({displayName:"DragEffects",componentId:"lf3chr-0"})([""]);exports.DragEffects=DragEffects;DragEffects.displayName="DragEffects";var DraggablePortalContext=(0,_react.createContext)(false);exports.DraggablePortalContext=DraggablePortalContext;var useDraggablePortalContext=function useDraggablePortalContext(){return(0,_react.useContext)(DraggablePortalContext)};exports.useDraggablePortalContext=useDraggablePortalContext;var DragDropErrorBoundary=function(_React$PureComponent){_inherits(DragDropErrorBoundary,_React$PureComponent);function DragDropErrorBoundary(){_classCallCheck(this,DragDropErrorBoundary);return _possibleConstructorReturn(this,_getPrototypeOf(DragDropErrorBoundary).apply(this,arguments))}_createClass(DragDropErrorBoundary,[{key:"componentDidCatch",value:function componentDidCatch(){this.forceUpdate()}},{key:"render",value:function render(){return this.props.children}}]);return DragDropErrorBoundary}(_react.default.PureComponent);var Wrapper=_styledComponents.default.div.withConfig({displayName:"Wrapper",componentId:"lf3chr-1"})(["display:inline-block;max-width:100%;[data-rbd-placeholder-context-id]{display:none !important;}"]);Wrapper.displayName="Wrapper";var ProviderContentWrapper=_styledComponents.default.span.withConfig({displayName:"ProviderContentWrapper",componentId:"lf3chr-2"})(["> span.euiToolTipAnchor{display:block;}"]);var DraggableWrapperComponent=_react.default.memo((function(_ref){var dataProvider=_ref.dataProvider,registerProvider=_ref.registerProvider,render=_ref.render,truncate=_ref.truncate,unRegisterProvider=_ref.unRegisterProvider;var usePortal=useDraggablePortalContext();(0,_react.useEffect)((function(){registerProvider({provider:dataProvider});return function(){unRegisterProvider({id:dataProvider.id})}}),[]);return _react.default.createElement(Wrapper,{"data-test-subj":"draggableWrapperDiv"},_react.default.createElement(DragDropErrorBoundary,null,_react.default.createElement(_reactBeautifulDnd.Droppable,{isDropDisabled:true,droppableId:(0,_helpers.getDroppableId)(dataProvider.id)},(function(droppableProvided){return _react.default.createElement("div",_extends({ref:droppableProvided.innerRef},droppableProvided.droppableProps),_react.default.createElement(_reactBeautifulDnd.Draggable,{draggableId:(0,_helpers.getDraggableId)(dataProvider.id),index:0,key:(0,_helpers.getDraggableId)(dataProvider.id)},(function(provided,snapshot){return _react.default.createElement(ConditionalPortal,{usePortal:snapshot.isDragging&&usePortal},_react.default.createElement(_provider_container.ProviderContainer,_extends({},provided.draggableProps,provided.dragHandleProps,{ref:provided.innerRef,"data-test-subj":"providerContainer",isDragging:snapshot.isDragging,style:_objectSpread({},provided.draggableProps.style)}),truncate&&!snapshot.isDragging?_react.default.createElement(_truncatable_text.TruncatableText,{"data-test-subj":"draggable-truncatable-content"},render(dataProvider,provided,snapshot)):_react.default.createElement(ProviderContentWrapper,{"data-test-subj":"draggable-content-".concat(dataProvider.queryMatch.field)},render(dataProvider,provided,snapshot))))})),droppableProvided.placeholder)}))))}),(function(prevProps,nextProps){return(0,_fp.isEqual)(prevProps.dataProvider,nextProps.dataProvider)&&prevProps.render!==nextProps.render&&prevProps.truncate===nextProps.truncate}));DraggableWrapperComponent.displayName="DraggableWrapperComponent";var DraggableWrapper=(0,_reactRedux.connect)(null,{registerProvider:_drag_and_drop.dragAndDropActions.registerProvider,unRegisterProvider:_drag_and_drop.dragAndDropActions.unRegisterProvider})(DraggableWrapperComponent);exports.DraggableWrapper=DraggableWrapper;DraggableWrapper.displayName="DraggableWrapper";var ConditionalPortal=_react.default.memo((function(_ref2){var children=_ref2.children,usePortal=_ref2.usePortal;return usePortal?_react.default.createElement(_eui.EuiPortal,null,children):_react.default.createElement(_react.default.Fragment,null,children)}));ConditionalPortal.displayName="ConditionalPortal"},7033:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ManageTimelineContext=exports.useTimelineTypeContext=exports.TimelineTypeContext=exports.useTimelineWidthContext=exports.TimelineWidthContext=exports.useTimelineContext=exports.TimelineContext=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var initTimelineContext=false;var TimelineContext=(0,_react.createContext)(initTimelineContext);exports.TimelineContext=TimelineContext;var useTimelineContext=function useTimelineContext(){return(0,_react.useContext)(TimelineContext)};exports.useTimelineContext=useTimelineContext;var initTimelineWidth=0;var TimelineWidthContext=(0,_react.createContext)(initTimelineWidth);exports.TimelineWidthContext=TimelineWidthContext;var useTimelineWidthContext=function useTimelineWidthContext(){return(0,_react.useContext)(TimelineWidthContext)};exports.useTimelineWidthContext=useTimelineWidthContext;var initTimelineType={documentType:undefined,footerText:undefined,loadingText:undefined,queryFields:[],selectAll:false,timelineActions:[],title:undefined,unit:undefined};var TimelineTypeContext=(0,_react.createContext)(initTimelineType);exports.TimelineTypeContext=TimelineTypeContext;var useTimelineTypeContext=function useTimelineTypeContext(){return(0,_react.useContext)(TimelineTypeContext)};exports.useTimelineTypeContext=useTimelineTypeContext;var ManageTimelineContextComponent=function ManageTimelineContextComponent(_ref){var children=_ref.children,loading=_ref.loading,width=_ref.width,_ref$type=_ref.type,type=_ref$type===void 0?initTimelineType:_ref$type;var _useState=(0,_react.useState)(initTimelineContext),_useState2=_slicedToArray(_useState,2),myLoading=_useState2[0],setLoading=_useState2[1];var _useState3=(0,_react.useState)(initTimelineWidth),_useState4=_slicedToArray(_useState3,2),myWidth=_useState4[0],setWidth=_useState4[1];var _useState5=(0,_react.useState)(initTimelineType),_useState6=_slicedToArray(_useState5,2),myType=_useState6[0],setType=_useState6[1];(0,_react.useEffect)((function(){setLoading(loading)}),[loading]);(0,_react.useEffect)((function(){setType(type)}),[type]);(0,_react.useEffect)((function(){setWidth(width)}),[width]);return _react.default.createElement(TimelineContext.Provider,{value:myLoading},_react.default.createElement(TimelineWidthContext.Provider,{value:myWidth},_react.default.createElement(TimelineTypeContext.Provider,{value:myType},children)))};var ManageTimelineContext=(0,_react.memo)(ManageTimelineContextComponent);exports.ManageTimelineContext=ManageTimelineContext},7034:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WhoIsLink=exports.VirusTotalLink=exports.ReputationLink=exports.CertificateFingerprintLink=exports.Ja3FingerprintLink=exports.PortOrServiceNameLink=exports.GoogleLink=exports.IPDetailsLink=exports.HostDetailsLink=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _helpers=__webpack_require__(7061);var _link_to=__webpack_require__(7090);var _types=__webpack_require__(671);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HostDetailsLinkComponent=function HostDetailsLinkComponent(_ref){var children=_ref.children,hostName=_ref.hostName;return _react.default.createElement(_eui.EuiLink,{href:(0,_link_to.getHostDetailsUrl)(encodeURIComponent(hostName))},children?children:hostName)};var HostDetailsLink=_react.default.memo(HostDetailsLinkComponent);exports.HostDetailsLink=HostDetailsLink;var IPDetailsLinkComponent=function IPDetailsLinkComponent(_ref2){var children=_ref2.children,ip=_ref2.ip,_ref2$flowTarget=_ref2.flowTarget,flowTarget=_ref2$flowTarget===void 0?_types.FlowTarget.source:_ref2$flowTarget;return _react.default.createElement(_eui.EuiLink,{href:"".concat((0,_link_to.getIPDetailsUrl)(encodeURIComponent((0,_helpers.encodeIpv6)(ip)),flowTarget))},children?children:ip)};var IPDetailsLink=_react.default.memo(IPDetailsLinkComponent);exports.IPDetailsLink=IPDetailsLink;var GoogleLink=_react.default.memo((function(_ref3){var children=_ref3.children,link=_ref3.link;return _react.default.createElement(_eui.EuiLink,{href:"https://www.google.com/search?q=".concat(encodeURIComponent(link)),target:"_blank"},children?children:link)}));exports.GoogleLink=GoogleLink;GoogleLink.displayName="GoogleLink";var PortOrServiceNameLink=_react.default.memo((function(_ref4){var children=_ref4.children,portOrServiceName=_ref4.portOrServiceName;return _react.default.createElement(_eui.EuiLink,{"data-test-subj":"port-or-service-name-link",href:"https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml?search=".concat(encodeURIComponent(String(portOrServiceName))),target:"_blank"},children?children:portOrServiceName)}));exports.PortOrServiceNameLink=PortOrServiceNameLink;PortOrServiceNameLink.displayName="PortOrServiceNameLink";var Ja3FingerprintLink=_react.default.memo((function(_ref5){var children=_ref5.children,ja3Fingerprint=_ref5.ja3Fingerprint;return _react.default.createElement(_eui.EuiLink,{"data-test-subj":"ja3-fingerprint-link",href:"https://sslbl.abuse.ch/ja3-fingerprints/".concat(encodeURIComponent(ja3Fingerprint)),target:"_blank"},children?children:ja3Fingerprint)}));exports.Ja3FingerprintLink=Ja3FingerprintLink;Ja3FingerprintLink.displayName="Ja3FingerprintLink";var CertificateFingerprintLink=_react.default.memo((function(_ref6){var children=_ref6.children,certificateFingerprint=_ref6.certificateFingerprint;return _react.default.createElement(_eui.EuiLink,{"data-test-subj":"certificate-fingerprint-link",href:"https://sslbl.abuse.ch/ssl-certificates/sha1/".concat(encodeURIComponent(certificateFingerprint)),target:"_blank"},children?children:certificateFingerprint)}));exports.CertificateFingerprintLink=CertificateFingerprintLink;CertificateFingerprintLink.displayName="CertificateFingerprintLink";var ReputationLink=_react.default.memo((function(_ref7){var children=_ref7.children,domain=_ref7.domain;return _react.default.createElement(_eui.EuiLink,{href:"https://www.talosintelligence.com/reputation_center/lookup?search=".concat(encodeURIComponent(domain)),target:"_blank"},children?children:domain)}));exports.ReputationLink=ReputationLink;ReputationLink.displayName="ReputationLink";var VirusTotalLink=_react.default.memo((function(_ref8){var children=_ref8.children,link=_ref8.link;return _react.default.createElement(_eui.EuiLink,{href:"https://www.virustotal.com/#/search/".concat(encodeURIComponent(link)),target:"_blank"},children?children:link)}));exports.VirusTotalLink=VirusTotalLink;VirusTotalLink.displayName="VirusTotalLink";var WhoIsLink=_react.default.memo((function(_ref9){var children=_ref9.children,domain=_ref9.domain;return _react.default.createElement(_eui.EuiLink,{href:"https://www.iana.org/whois?q=".concat(encodeURIComponent(domain)),target:"_blank"},children?children:domain)}));exports.WhoIsLink=WhoIsLink;WhoIsLink.displayName="WhoIsLink"},7038:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_CATEGORY_NAME=exports.defaultHeaders=exports.defaultColumnHeaderType=void 0;var _constants=__webpack_require__(7047);var defaultColumnHeaderType="not-filtered";exports.defaultColumnHeaderType=defaultColumnHeaderType;var defaultHeaders=[{columnHeaderType:defaultColumnHeaderType,id:"@timestamp",width:_constants.DEFAULT_DATE_COLUMN_MIN_WIDTH},{columnHeaderType:defaultColumnHeaderType,id:"message",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:defaultColumnHeaderType,id:"event.category",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:defaultColumnHeaderType,id:"event.action",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:defaultColumnHeaderType,id:"host.name",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:defaultColumnHeaderType,id:"source.ip",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:defaultColumnHeaderType,id:"destination.ip",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:defaultColumnHeaderType,id:"user.name",width:_constants.DEFAULT_COLUMN_MIN_WIDTH}];exports.defaultHeaders=defaultHeaders;var DEFAULT_CATEGORY_NAME="default ECS";exports.DEFAULT_CATEGORY_NAME=DEFAULT_CATEGORY_NAME},7039:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isToasterError=exports.isAnError=exports.errorToToaster=void 0;var _fp=__webpack_require__(223);var _uuid=_interopRequireDefault(__webpack_require__(86));var _throw_if_not_ok=__webpack_require__(7316);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var errorToToaster=function errorToToaster(_ref){var _ref$id=_ref.id,id=_ref$id===void 0?_uuid.default.v4():_ref$id,title=_ref.title,error=_ref.error,_ref$color=_ref.color,color=_ref$color===void 0?"danger":_ref$color,_ref$iconType=_ref.iconType,iconType=_ref$iconType===void 0?"alert":_ref$iconType,dispatchToaster=_ref.dispatchToaster;if(isToasterError(error)){var toast={id:id,title:title,color:color,iconType:iconType,errors:error.messages};dispatchToaster({type:"addToaster",toast:toast})}else if(isAnError(error)){var _toast={id:id,title:title,color:color,iconType:iconType,errors:[error.message]};dispatchToaster({type:"addToaster",toast:_toast})}else{var _toast2={id:id,title:title,color:color,iconType:iconType,errors:["Network Error"]};dispatchToaster({type:"addToaster",toast:_toast2})}};exports.errorToToaster=errorToToaster;var isAnError=function isAnError(error){return(0,_fp.isError)(error)};exports.isAnError=isAnError;var isToasterError=function isToasterError(error){return error instanceof _throw_if_not_ok.ToasterErrors};exports.isToasterError=isToasterError},7042:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"sourceQuery",{enumerable:true,get:function get(){return _index.sourceQuery}});exports.useWithSource=exports.indicesExistOrDataTemporarilyUnavailable=exports.WithSource=exports.getBrowserFields=exports.getIndexFields=exports.getAllFieldsByName=exports.getAllBrowserFields=void 0;var _lodash=__webpack_require__(7562);var _fp=__webpack_require__(223);var _reactApollo=__webpack_require__(695);var _react=_interopRequireWildcard(__webpack_require__(0));var _memoizeOne=_interopRequireDefault(__webpack_require__(1889));var _kibana=__webpack_require__(7013);var _constants=__webpack_require__(977);var _index=__webpack_require__(8626);var _apollo_context=__webpack_require__(7077);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var getAllBrowserFields=function getAllBrowserFields(browserFields){return Object.values(browserFields).reduce((function(acc,namespace){return[].concat(_toConsumableArray(acc),_toConsumableArray(Object.values(namespace.fields!=null?namespace.fields:{})))}),[])};exports.getAllBrowserFields=getAllBrowserFields;var getAllFieldsByName=function getAllFieldsByName(browserFields){return(0,_fp.keyBy)("name",getAllBrowserFields(browserFields))};exports.getAllFieldsByName=getAllFieldsByName;var getIndexFields=(0,_memoizeOne.default)((function(title,fields){return fields&&fields.length>0?{fields:fields.map((function(field){return(0,_fp.pick)(["name","searchable","type","aggregatable"],field)})),title:title}:{fields:[],title:title}}));exports.getIndexFields=getIndexFields;var getBrowserFields=(0,_memoizeOne.default)((function(title,fields){return fields&&fields.length>0?fields.reduce((function(accumulator,field){return(0,_fp.set)([field.category,"fields",field.name],field,accumulator)}),{}):{}}));exports.getBrowserFields=getBrowserFields;var WithSource=_react.default.memo((function(_ref){var children=_ref.children,indexToAdd=_ref.indexToAdd,sourceId=_ref.sourceId;var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_INDEX_KEY),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),configIndex=_useUiSetting$2[0];var defaultIndex=(0,_react.useMemo)((function(){if(indexToAdd!=null&&!(0,_fp.isEmpty)(indexToAdd)){return[].concat(_toConsumableArray(configIndex),_toConsumableArray(indexToAdd))}return configIndex}),[configIndex,indexToAdd]);return _react.default.createElement(_reactApollo.Query,{query:_index.sourceQuery,fetchPolicy:"cache-first",notifyOnNetworkStatusChange:true,variables:{sourceId:sourceId,defaultIndex:defaultIndex}},(function(_ref2){var data=_ref2.data;return children({indicesExist:(0,_fp.get)("source.status.indicesExist",data),browserFields:getBrowserFields(defaultIndex.join(),(0,_fp.get)("source.status.indexFields",data)),indexPattern:getIndexFields(defaultIndex.join(),(0,_fp.get)("source.status.indexFields",data))})}))}));exports.WithSource=WithSource;WithSource.displayName="WithSource";var indicesExistOrDataTemporarilyUnavailable=function indicesExistOrDataTemporarilyUnavailable(indicesExist){return indicesExist||(0,_lodash.isUndefined)(indicesExist)};exports.indicesExistOrDataTemporarilyUnavailable=indicesExistOrDataTemporarilyUnavailable;var useWithSource=function useWithSource(sourceId,indices){var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],updateLoading=_useState2[1];var _useState3=(0,_react.useState)(undefined),_useState4=_slicedToArray(_useState3,2),indicesExist=_useState4[0],setIndicesExist=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),browserFields=_useState6[0],setBrowserFields=_useState6[1];var _useState7=(0,_react.useState)(null),_useState8=_slicedToArray(_useState7,2),indexPattern=_useState8[0],setIndexPattern=_useState8[1];var _useState9=(0,_react.useState)(null),_useState10=_slicedToArray(_useState9,2),errorMessage=_useState10[0],updateErrorMessage=_useState10[1];var apolloClient=(0,_apollo_context.useApolloClient)();function fetchSource(signal){return regeneratorRuntime.async((function fetchSource$(_context){while(1){switch(_context.prev=_context.next){case 0:updateLoading(true);if(apolloClient){apolloClient.query({query:_index.sourceQuery,fetchPolicy:"cache-first",variables:{sourceId:sourceId,defaultIndex:indices},context:{fetchOptions:{signal:signal}}}).then((function(result){updateLoading(false);updateErrorMessage(null);setIndicesExist((0,_fp.get)("data.source.status.indicesExist",result));setBrowserFields(getBrowserFields(indices.join(),(0,_fp.get)("data.source.status.indexFields",result)));setIndexPattern(getIndexFields(indices.join(),(0,_fp.get)("data.source.status.indexFields",result)))}),(function(error){updateLoading(false);updateErrorMessage(error.message)}))}case 2:case"end":return _context.stop()}}}))}(0,_react.useEffect)((function(){var abortCtrl=new AbortController;var signal=abortCtrl.signal;fetchSource(signal);return function(){return abortCtrl.abort()}}),[apolloClient,sourceId,indices]);return{indicesExist:indicesExist,browserFields:browserFields,indexPattern:indexPattern,loading:loading,errorMessage:errorMessage}};exports.useWithSource=useWithSource},7043:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getEditRuleUrl=exports.getRuleDetailsUrl=exports.getCreateRuleUrl=exports.getRulesUrl=exports.getDetectionEngineTabUrl=exports.getDetectionEngineAlertUrl=exports.getDetectionEngineUrl=exports.RedirectToEditRulePage=exports.RedirectToRuleDetailsPage=exports.RedirectToCreateRulePage=exports.RedirectToRulesPage=exports.RedirectToDetectionEnginePage=exports.DETECTION_ENGINE_PAGE_NAME=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _types=__webpack_require__(7201);var _redirect_wrapper=__webpack_require__(7148);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DETECTION_ENGINE_PAGE_NAME="detections";exports.DETECTION_ENGINE_PAGE_NAME=DETECTION_ENGINE_PAGE_NAME;var RedirectToDetectionEnginePage=function RedirectToDetectionEnginePage(_ref){var tabName=_ref.match.params.tabName,search=_ref.location.search;var defaultSelectedTab=_types.DetectionEngineTab.signals;var selectedTab=tabName?tabName:defaultSelectedTab;var to="/".concat(DETECTION_ENGINE_PAGE_NAME,"/").concat(selectedTab).concat(search);return _react.default.createElement(_redirect_wrapper.RedirectWrapper,{to:to})};exports.RedirectToDetectionEnginePage=RedirectToDetectionEnginePage;var RedirectToRulesPage=function RedirectToRulesPage(_ref2){var search=_ref2.location.search;return _react.default.createElement(_redirect_wrapper.RedirectWrapper,{to:"/".concat(DETECTION_ENGINE_PAGE_NAME,"/rules").concat(search)})};exports.RedirectToRulesPage=RedirectToRulesPage;var RedirectToCreateRulePage=function RedirectToCreateRulePage(_ref3){var search=_ref3.location.search;return _react.default.createElement(_redirect_wrapper.RedirectWrapper,{to:"/".concat(DETECTION_ENGINE_PAGE_NAME,"/rules/create").concat(search)})};exports.RedirectToCreateRulePage=RedirectToCreateRulePage;var RedirectToRuleDetailsPage=function RedirectToRuleDetailsPage(_ref4){var detailName=_ref4.match.params.detailName,search=_ref4.location.search;return _react.default.createElement(_redirect_wrapper.RedirectWrapper,{to:"/".concat(DETECTION_ENGINE_PAGE_NAME,"/rules/id/").concat(detailName).concat(search)})};exports.RedirectToRuleDetailsPage=RedirectToRuleDetailsPage;var RedirectToEditRulePage=function RedirectToEditRulePage(_ref5){var detailName=_ref5.match.params.detailName,search=_ref5.location.search;return _react.default.createElement(_redirect_wrapper.RedirectWrapper,{to:"/".concat(DETECTION_ENGINE_PAGE_NAME,"/rules/id/").concat(detailName,"/edit").concat(search)})};exports.RedirectToEditRulePage=RedirectToEditRulePage;var baseDetectionEngineUrl="#/link-to/".concat(DETECTION_ENGINE_PAGE_NAME);var getDetectionEngineUrl=function getDetectionEngineUrl(){return"".concat(baseDetectionEngineUrl)};exports.getDetectionEngineUrl=getDetectionEngineUrl;var getDetectionEngineAlertUrl=function getDetectionEngineAlertUrl(){return"".concat(baseDetectionEngineUrl,"/").concat(_types.DetectionEngineTab.alerts)};exports.getDetectionEngineAlertUrl=getDetectionEngineAlertUrl;var getDetectionEngineTabUrl=function getDetectionEngineTabUrl(tabPath){return"".concat(baseDetectionEngineUrl,"/").concat(tabPath)};exports.getDetectionEngineTabUrl=getDetectionEngineTabUrl;var getRulesUrl=function getRulesUrl(){return"".concat(baseDetectionEngineUrl,"/rules")};exports.getRulesUrl=getRulesUrl;var getCreateRuleUrl=function getCreateRuleUrl(){return"".concat(baseDetectionEngineUrl,"/rules/create")};exports.getCreateRuleUrl=getCreateRuleUrl;var getRuleDetailsUrl=function getRuleDetailsUrl(detailName){return"".concat(baseDetectionEngineUrl,"/rules/id/").concat(detailName)};exports.getRuleDetailsUrl=getRuleDetailsUrl;var getEditRuleUrl=function getEditRuleUrl(detailName){return"".concat(baseDetectionEngineUrl,"/rules/id/").concat(detailName,"/edit")};exports.getEditRuleUrl=getEditRuleUrl},7047:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_TIMELINE_WIDTH=exports.DEFAULT_DATE_COLUMN_MIN_WIDTH=exports.DEFAULT_COLUMN_MIN_WIDTH=exports.SHOW_CHECK_BOXES_COLUMN_WIDTH=exports.EVENTS_VIEWER_ACTIONS_COLUMN_WIDTH=exports.DEFAULT_ACTIONS_COLUMN_WIDTH=void 0;var DEFAULT_ACTIONS_COLUMN_WIDTH=115;exports.DEFAULT_ACTIONS_COLUMN_WIDTH=DEFAULT_ACTIONS_COLUMN_WIDTH;var EVENTS_VIEWER_ACTIONS_COLUMN_WIDTH=32;exports.EVENTS_VIEWER_ACTIONS_COLUMN_WIDTH=EVENTS_VIEWER_ACTIONS_COLUMN_WIDTH;var SHOW_CHECK_BOXES_COLUMN_WIDTH=32;exports.SHOW_CHECK_BOXES_COLUMN_WIDTH=SHOW_CHECK_BOXES_COLUMN_WIDTH;var DEFAULT_COLUMN_MIN_WIDTH=180;exports.DEFAULT_COLUMN_MIN_WIDTH=DEFAULT_COLUMN_MIN_WIDTH;var DEFAULT_DATE_COLUMN_MIN_WIDTH=190;exports.DEFAULT_DATE_COLUMN_MIN_WIDTH=DEFAULT_DATE_COLUMN_MIN_WIDTH;var DEFAULT_TIMELINE_WIDTH=1100;exports.DEFAULT_TIMELINE_WIDTH=DEFAULT_TIMELINE_WIDTH},7049:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ZERO_TIMELINES_MATCH=exports.WITH=exports.UNTITLED_TIMELINE=exports.TIMELINE_NAME=exports.SEARCH_PLACEHOLDER=exports.POSTED=exports.PINNED_EVENTS=exports.OPEN_TIMELINE_TITLE=exports.OPEN_TIMELINE=exports.OPEN_AS_DUPLICATE=exports.ONLY_FAVORITES=exports.NOTES=exports.MODIFIED_BY=exports.MISSING_SAVED_OBJECT_ID=exports.LAST_MODIFIED=exports.FAVORITES=exports.FAVORITE_SELECTED=exports.EXPAND=exports.DESCRIPTION=exports.DELETE_WARNING=exports.DELETE_SELECTED=exports.DELETE=exports.COLLAPSE=exports.CANCEL=void 0;var _i18n=__webpack_require__(2);var CANCEL=_i18n.i18n.translate("xpack.siem.open.timeline.cancelButton",{defaultMessage:"Cancel"});exports.CANCEL=CANCEL;var COLLAPSE=_i18n.i18n.translate("xpack.siem.open.timeline.collapseButton",{defaultMessage:"Collapse"});exports.COLLAPSE=COLLAPSE;var DELETE=_i18n.i18n.translate("xpack.siem.open.timeline.deleteButton",{defaultMessage:"Delete"});exports.DELETE=DELETE;var DELETE_SELECTED=_i18n.i18n.translate("xpack.siem.open.timeline.deleteSelectedButton",{defaultMessage:"Delete selected"});exports.DELETE_SELECTED=DELETE_SELECTED;var DELETE_WARNING=_i18n.i18n.translate("xpack.siem.open.timeline.deleteWarningLabel",{defaultMessage:"You will not be able to recover this timeline or its notes once deleted."});exports.DELETE_WARNING=DELETE_WARNING;var DESCRIPTION=_i18n.i18n.translate("xpack.siem.open.timeline.descriptionTableHeader",{defaultMessage:"Description"});exports.DESCRIPTION=DESCRIPTION;var EXPAND=_i18n.i18n.translate("xpack.siem.open.timeline.expandButton",{defaultMessage:"Expand"});exports.EXPAND=EXPAND;var FAVORITE_SELECTED=_i18n.i18n.translate("xpack.siem.open.timeline.favoriteSelectedButton",{defaultMessage:"Favorite selected"});exports.FAVORITE_SELECTED=FAVORITE_SELECTED;var FAVORITES=_i18n.i18n.translate("xpack.siem.open.timeline.favoritesTooltip",{defaultMessage:"Favorites"});exports.FAVORITES=FAVORITES;var LAST_MODIFIED=_i18n.i18n.translate("xpack.siem.open.timeline.lastModifiedTableHeader",{defaultMessage:"Last modified"});exports.LAST_MODIFIED=LAST_MODIFIED;var MISSING_SAVED_OBJECT_ID=_i18n.i18n.translate("xpack.siem.open.timeline.missingSavedObjectIdTooltip",{defaultMessage:"Missing savedObjectId"});exports.MISSING_SAVED_OBJECT_ID=MISSING_SAVED_OBJECT_ID;var MODIFIED_BY=_i18n.i18n.translate("xpack.siem.open.timeline.modifiedByTableHeader",{defaultMessage:"Modified by"});exports.MODIFIED_BY=MODIFIED_BY;var NOTES=_i18n.i18n.translate("xpack.siem.open.timeline.notesTooltip",{defaultMessage:"Notes"});exports.NOTES=NOTES;var ONLY_FAVORITES=_i18n.i18n.translate("xpack.siem.open.timeline.onlyFavoritesButtonLabel",{defaultMessage:"Only favorites"});exports.ONLY_FAVORITES=ONLY_FAVORITES;var OPEN_AS_DUPLICATE=_i18n.i18n.translate("xpack.siem.open.timeline.openAsDuplicateTooltip",{defaultMessage:"Open as a duplicate timeline"});exports.OPEN_AS_DUPLICATE=OPEN_AS_DUPLICATE;var OPEN_TIMELINE=_i18n.i18n.translate("xpack.siem.open.timeline.openTimelineButton",{defaultMessage:"Open Timeline"});exports.OPEN_TIMELINE=OPEN_TIMELINE;var OPEN_TIMELINE_TITLE=_i18n.i18n.translate("xpack.siem.open.timeline.openTimelineTitle",{defaultMessage:"Open Timeline"});exports.OPEN_TIMELINE_TITLE=OPEN_TIMELINE_TITLE;var PINNED_EVENTS=_i18n.i18n.translate("xpack.siem.open.timeline.pinnedEventsTooltip",{defaultMessage:"Pinned events"});exports.PINNED_EVENTS=PINNED_EVENTS;var POSTED=_i18n.i18n.translate("xpack.siem.open.timeline.postedLabel",{defaultMessage:"Posted:"});exports.POSTED=POSTED;var SEARCH_PLACEHOLDER=_i18n.i18n.translate("xpack.siem.open.timeline.searchPlaceholder",{defaultMessage:"e.g. timeline name, or description"});exports.SEARCH_PLACEHOLDER=SEARCH_PLACEHOLDER;var TIMELINE_NAME=_i18n.i18n.translate("xpack.siem.open.timeline.timelineNameTableHeader",{defaultMessage:"Timeline name"});exports.TIMELINE_NAME=TIMELINE_NAME;var UNTITLED_TIMELINE=_i18n.i18n.translate("xpack.siem.open.timeline.untitledTimelineLabel",{defaultMessage:"Untitled timeline"});exports.UNTITLED_TIMELINE=UNTITLED_TIMELINE;var WITH=_i18n.i18n.translate("xpack.siem.open.timeline.withLabel",{defaultMessage:"with"});exports.WITH=WITH;var ZERO_TIMELINES_MATCH=_i18n.i18n.translate("xpack.siem.open.timeline.zeroTimelinesMatchLabel",{defaultMessage:"0 timelines match the search criteria"});exports.ZERO_TIMELINES_MATCH=ZERO_TIMELINES_MATCH},7050:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HeaderSection=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireWildcard(__webpack_require__(30));var _inspect=__webpack_require__(7063);var _subtitle=__webpack_require__(7577);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=_styledComponents.default.header.attrs((function(){return{className:"siemHeaderSection"}})).withConfig({displayName:"Header",componentId:"sc-1jb53l6-0"})(["margin-bottom:",";user-select:text;",""],(function(_ref){var theme=_ref.theme;return theme.eui.euiSizeL}),(function(_ref2){var border=_ref2.border;return border&&(0,_styledComponents.css)(["border-bottom:",";padding-bottom:",";"],(function(_ref3){var theme=_ref3.theme;return theme.eui.euiBorderThin}),(function(_ref4){var theme=_ref4.theme;return theme.eui.paddingSizes.l}))}));Header.displayName="Header";var HeaderSectionComponent=function HeaderSectionComponent(_ref5){var border=_ref5.border,children=_ref5.children,id=_ref5.id,split=_ref5.split,subtitle=_ref5.subtitle,title=_ref5.title,tooltip=_ref5.tooltip;return _react.default.createElement(Header,{border:border},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",responsive:false},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",{"data-test-subj":"header-section-title"},title,tooltip&&_react.default.createElement(_react.default.Fragment,null," ",_react.default.createElement(_eui.EuiIconTip,{color:"subdued",content:tooltip,size:"l",type:"iInCircle"})))),subtitle&&_react.default.createElement(_subtitle.Subtitle,{"data-test-subj":"header-section-subtitle",items:subtitle})),id&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_inspect.InspectButton,{queryId:id,inspectIndex:0,title:title})))),children&&_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"header-section-supplements",grow:split?true:false},children)))};var HeaderSection=_react.default.memo(HeaderSectionComponent);exports.HeaderSection=HeaderSection},7051:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Provider=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _data_provider=__webpack_require__(7024);var _provider_item_badge=__webpack_require__(7320);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Provider=_react.default.memo((function(_ref){var dataProvider=_ref.dataProvider;return _react.default.createElement(_provider_item_badge.ProviderItemBadge,{deleteProvider:_fp.noop,field:dataProvider.queryMatch.displayField||dataProvider.queryMatch.field,kqlQuery:dataProvider.kqlQuery,isEnabled:dataProvider.enabled,isExcluded:dataProvider.excluded,providerId:dataProvider.id,toggleExcludedProvider:_fp.noop,toggleEnabledProvider:_fp.noop,val:dataProvider.queryMatch.displayValue||dataProvider.queryMatch.value,operator:dataProvider.queryMatch.operator||_data_provider.IS_OPERATOR})}));exports.Provider=Provider;Provider.displayName="Provider"},7053:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.timelineDefaults=void 0;var _types=__webpack_require__(671);var _constants=__webpack_require__(7047);var _default_headers=__webpack_require__(7038);var timelineDefaults={columns:_default_headers.defaultHeaders,dataProviders:[],deletedEventIds:[],description:"",eventType:"all",eventIdToNoteIds:{},highlightedDropAndProviderId:"",historyIds:[],filters:[],isFavorite:false,isLive:false,isSelectAllChecked:false,isLoading:false,isSaving:false,itemsPerPage:25,itemsPerPageOptions:[10,25,50,100],kqlMode:"filter",kqlQuery:{filterQuery:null,filterQueryDraft:null},loadingEventIds:[],title:"",noteIds:[],pinnedEventIds:{},pinnedEventsSaveObject:{},dateRange:{start:0,end:0},savedObjectId:null,selectedEventIds:{},show:false,showCheckboxes:false,showRowRenderers:true,sort:{columnId:"@timestamp",sortDirection:_types.Direction.desc},width:_constants.DEFAULT_TIMELINE_WIDTH,version:null};exports.timelineDefaults=timelineDefaults},7054:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WrapperPage=void 0;var _classnames=_interopRequireDefault(__webpack_require__(63));var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireWildcard(__webpack_require__(30));var _helpers=__webpack_require__(7061);var _index=__webpack_require__(7055);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var Wrapper=_styledComponents.default.div.withConfig({displayName:"Wrapper",componentId:"sc-1taaeav-0"})(["",""],(function(_ref){var theme=_ref.theme;return(0,_styledComponents.css)(["padding:"," "," "," ",";&.siemWrapperPage--restrictWidthDefault,&.siemWrapperPage--restrictWidthCustom{box-sizing:content-box;margin:0 auto;}&.siemWrapperPage--restrictWidthDefault{max-width:1000px;}"],theme.eui.paddingSizes.l,_helpers.gutterTimeline,theme.eui.paddingSizes.l,theme.eui.paddingSizes.l)}));Wrapper.displayName="Wrapper";var WrapperPageComponent=function WrapperPageComponent(_ref2){var children=_ref2.children,className=_ref2.className,restrictWidth=_ref2.restrictWidth,style=_ref2.style;var classes=(0,_classnames.default)(className,{siemWrapperPage:true,"siemWrapperPage--restrictWidthDefault":restrictWidth&&typeof restrictWidth==="boolean"&&restrictWidth===true,"siemWrapperPage--restrictWidthCustom":restrictWidth&&typeof restrictWidth!=="boolean"});var customStyle;if(restrictWidth&&typeof restrictWidth!=="boolean"){var value=typeof restrictWidth==="number"?"".concat(restrictWidth,"px"):restrictWidth;customStyle=_objectSpread({},style,{maxWidth:value})}return _react.default.createElement(Wrapper,{className:classes,style:customStyle||style},children,_react.default.createElement(_index.AppGlobalStyle,null))};var WrapperPage=_react.default.memo(WrapperPageComponent);exports.WrapperPage=WrapperPage},7055:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OverviewWrapper=exports.MoreRowItems=exports.Badge=exports.Spacer=exports.CountBadge=exports.Pane1FlexContent=exports.PaneHeader=exports.Pane=exports.PaneScrollContainer=exports.FooterContainer=exports.PageHeader=exports.FlexPage=exports.PageContent=exports.PageContainer=exports.DescriptionListStyled=exports.AppGlobalStyle=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _styledComponents=_interopRequireWildcard(__webpack_require__(30));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _templateObject(){var data=_taggedTemplateLiteral(["\n  div.app-wrapper {\n    background-color: rgba(0,0,0,0);\n  }\n\n  div.application {\n    background-color: rgba(0,0,0,0);\n  }\n\n  .euiPopover__panel.euiPopover__panel-isOpen {\n    z-index: 9900 !important;\n  }\n  .euiToolTip {\n    z-index: 9950 !important;\n  }\n\n  /* \n    overrides the default styling of euiComboBoxOptionsList because it's implemented\n    as a popover, so it's not selectable as a child of the styled component\n  */\n  .euiComboBoxOptionsList {\n    z-index: 9999;\n  }\n\n  /* overrides default styling in angular code that was not theme-friendly */\n  .euiPanel-loading-hide-border {\n    border: none;\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var AppGlobalStyle=(0,_styledComponents.createGlobalStyle)(_templateObject());exports.AppGlobalStyle=AppGlobalStyle;var DescriptionListStyled=(0,_styledComponents.default)(_eui.EuiDescriptionList).withConfig({displayName:"DescriptionListStyled",componentId:"sc-2s1ed3-0"})(["",""],(function(_ref){var theme=_ref.theme;return"\n    dt {\n      font-size: ".concat(theme.eui.euiFontSizeXS," !important;\n    }\n    dd {\n      width: fit-content;\n    }\n    dd > div {\n      width: fit-content;\n    }\n  ")}));exports.DescriptionListStyled=DescriptionListStyled;DescriptionListStyled.displayName="DescriptionListStyled";var PageContainer=_styledComponents.default.div.withConfig({displayName:"PageContainer",componentId:"sc-2s1ed3-1"})(["display:flex;flex-direction:column;align-items:stretch;background-color:",";height:100%;padding:1rem;overflow:hidden;margin:0px;"],(function(props){return props.theme.eui.euiColorEmptyShade}));exports.PageContainer=PageContainer;PageContainer.displayName="PageContainer";var PageContent=_styledComponents.default.div.withConfig({displayName:"PageContent",componentId:"sc-2s1ed3-2"})(["flex:1 1 auto;height:100%;position:relative;overflow-y:hidden;background-color:",";margin-top:62px;"],(function(props){return props.theme.eui.euiColorEmptyShade}));exports.PageContent=PageContent;PageContent.displayName="PageContent";var FlexPage=(0,_styledComponents.default)(_eui.EuiPage).withConfig({displayName:"FlexPage",componentId:"sc-2s1ed3-3"})(["flex:1 0 0;"]);exports.FlexPage=FlexPage;FlexPage.displayName="FlexPage";var PageHeader=_styledComponents.default.div.withConfig({displayName:"PageHeader",componentId:"sc-2s1ed3-4"})(["background-color:",";display:flex;user-select:none;padding:1rem 1rem 0rem 1rem;width:100vw;position:fixed;"],(function(props){return props.theme.eui.euiColorEmptyShade}));exports.PageHeader=PageHeader;PageHeader.displayName="PageHeader";var FooterContainer=_styledComponents.default.div.withConfig({displayName:"FooterContainer",componentId:"sc-2s1ed3-5"})(["bottom:0;color:#666;left:0;position:fixed;text-align:left;user-select:none;width:100%;background-color:#f5f7fa;padding:16px;border-top:1px solid #d3dae6;"]);exports.FooterContainer=FooterContainer;FooterContainer.displayName="FooterContainer";var PaneScrollContainer=_styledComponents.default.div.withConfig({displayName:"PaneScrollContainer",componentId:"sc-2s1ed3-6"})(["height:100%;overflow-y:scroll;> div:last-child{margin-bottom:3rem;}"]);exports.PaneScrollContainer=PaneScrollContainer;PaneScrollContainer.displayName="PaneScrollContainer";var Pane=_styledComponents.default.div.withConfig({displayName:"Pane",componentId:"sc-2s1ed3-7"})(["height:100%;overflow:hidden;user-select:none;"]);exports.Pane=Pane;Pane.displayName="Pane";var PaneHeader=_styledComponents.default.div.withConfig({displayName:"PaneHeader",componentId:"sc-2s1ed3-8"})(["display:flex;"]);exports.PaneHeader=PaneHeader;PaneHeader.displayName="PaneHeader";var Pane1FlexContent=_styledComponents.default.div.withConfig({displayName:"Pane1FlexContent",componentId:"sc-2s1ed3-9"})(["display:flex;flex-direction:row;flex-wrap:wrap;height:100%;"]);exports.Pane1FlexContent=Pane1FlexContent;Pane1FlexContent.displayName="Pane1FlexContent";var CountBadge=function CountBadge(props){return _react.default.createElement(_eui.EuiBadge,_extends({},props,{style:{marginLeft:"5px"}}))};exports.CountBadge=CountBadge;CountBadge.displayName="CountBadge";var Spacer=_styledComponents.default.span.withConfig({displayName:"Spacer",componentId:"sc-2s1ed3-10"})(["margin-left:5px;"]);exports.Spacer=Spacer;Spacer.displayName="Spacer";var Badge=function Badge(props){return _react.default.createElement(_eui.EuiBadge,_extends({},props,{style:{verticalAlign:"top"}}))};exports.Badge=Badge;Badge.displayName="Badge";var MoreRowItems=(0,_styledComponents.default)(_eui.EuiIcon).withConfig({displayName:"MoreRowItems",componentId:"sc-2s1ed3-11"})(["margin-left:5px;"]);exports.MoreRowItems=MoreRowItems;MoreRowItems.displayName="MoreRowItems";var OverviewWrapper=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"OverviewWrapper",componentId:"sc-2s1ed3-12"})(["position:relative;.euiButtonIcon{position:absolute;right:",";top:6px;z-index:2;}"],(function(props){return props.theme.eui.euiSizeM}));exports.OverviewWrapper=OverviewWrapper;OverviewWrapper.displayName="OverviewWrapper"},7056:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.dispatchUpdateTimeline=exports.queryTimelineById=exports.formatTimelineResultToModel=exports.defaultTimelineToTimelineModel=exports.omitTypenameInTimeline=exports.isUntitled=exports.getNotesCount=exports.getPinnedEventCount=exports.OPEN_TIMELINE_CLASS_NAME=void 0;var _fp=__webpack_require__(223);var _index=__webpack_require__(7571);var _actions=__webpack_require__(991);var _actions2=__webpack_require__(984);var _actions3=__webpack_require__(1890);var _defaults=__webpack_require__(7053);var _default_headers=__webpack_require__(7038);var _constants=__webpack_require__(7047);var _default_date_settings=__webpack_require__(2312);function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var OPEN_TIMELINE_CLASS_NAME="open-timeline";exports.OPEN_TIMELINE_CLASS_NAME=OPEN_TIMELINE_CLASS_NAME;var getPinnedEventCount=function getPinnedEventCount(_ref){var pinnedEventIds=_ref.pinnedEventIds;return pinnedEventIds!=null?Object.keys(pinnedEventIds).length:0};exports.getPinnedEventCount=getPinnedEventCount;var getNotesCount=function getNotesCount(_ref2){var eventIdToNoteIds=_ref2.eventIdToNoteIds,noteIds=_ref2.noteIds;var eventNoteCount=eventIdToNoteIds!=null?Object.keys(eventIdToNoteIds).reduce((function(count,eventId){return count+eventIdToNoteIds[eventId].length}),0):0;var globalNoteCount=noteIds!=null?noteIds.length:0;return eventNoteCount+globalNoteCount};exports.getNotesCount=getNotesCount;var isUntitled=function isUntitled(_ref3){var title=_ref3.title;return title==null||title.trim().length===0};exports.isUntitled=isUntitled;var omitTypename=function omitTypename(key,value){return key==="__typename"?undefined:value};var omitTypenameInTimeline=function omitTypenameInTimeline(timeline){return JSON.parse(JSON.stringify(timeline),omitTypename)};exports.omitTypenameInTimeline=omitTypenameInTimeline;var parseString=function parseString(params){try{return JSON.parse(params)}catch(_unused){return params}};var defaultTimelineToTimelineModel=function defaultTimelineToTimelineModel(timeline,duplicate){return Object.entries(_objectSpread({},timeline,{columns:timeline.columns!=null?timeline.columns.map((function(col){var timelineCols=_objectSpread({},col,{columnHeaderType:_default_headers.defaultColumnHeaderType,id:col.id!=null?col.id:"unknown",placeholder:col.placeholder!=null?col.placeholder:undefined,category:col.category!=null?col.category:undefined,description:col.description!=null?col.description:undefined,example:col.example!=null?col.example:undefined,type:col.type!=null?col.type:undefined,aggregatable:col.aggregatable!=null?col.aggregatable:undefined,width:col.id==="@timestamp"?_constants.DEFAULT_DATE_COLUMN_MIN_WIDTH:_constants.DEFAULT_COLUMN_MIN_WIDTH});return timelineCols})):_default_headers.defaultHeaders,eventIdToNoteIds:duplicate?{}:timeline.eventIdToNoteIds!=null?timeline.eventIdToNoteIds.reduce((function(acc,note){if(note.eventId!=null){var eventNotes=(0,_fp.getOr)([],note.eventId,acc);return _objectSpread({},acc,_defineProperty({},note.eventId,[].concat(_toConsumableArray(eventNotes),[note.noteId])))}return acc}),{}):{},filters:timeline.filters!=null?timeline.filters.map((function(filter){return _objectSpread({$state:{store:"appState"},meta:_objectSpread({},filter.meta,{},filter.meta&&filter.meta.field!=null?{params:parseString(filter.meta.field)}:{},{},filter.meta&&filter.meta.params!=null?{params:parseString(filter.meta.params)}:{},{},filter.meta&&filter.meta.value!=null?{value:parseString(filter.meta.value)}:{})},filter.exists!=null?{exists:parseString(filter.exists)}:{},{},filter.match_all!=null?{exists:parseString(filter.match_all)}:{},{},filter.missing!=null?{exists:parseString(filter.missing)}:{},{},filter.query!=null?{query:parseString(filter.query)}:{},{},filter.range!=null?{range:parseString(filter.range)}:{},{},filter.script!=null?{exists:parseString(filter.script)}:{})})):[],isFavorite:duplicate?false:timeline.favorite!=null?timeline.favorite.length>0:false,noteIds:duplicate?[]:timeline.noteIds!=null?timeline.noteIds:[],pinnedEventIds:duplicate?{}:timeline.pinnedEventIds!=null?timeline.pinnedEventIds.reduce((function(acc,pinnedEventId){return _objectSpread({},acc,_defineProperty({},pinnedEventId,true))}),{}):{},pinnedEventsSaveObject:duplicate?{}:timeline.pinnedEventsSaveObject!=null?timeline.pinnedEventsSaveObject.reduce((function(acc,pinnedEvent){return _objectSpread({},acc,{},pinnedEvent.eventId!=null?_defineProperty({},pinnedEvent.eventId,pinnedEvent):{})}),{}):{},id:duplicate?"":timeline.savedObjectId,savedObjectId:duplicate?null:timeline.savedObjectId,version:duplicate?null:timeline.version,title:duplicate?"":timeline.title||""})).reduce((function(acc,_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],value=_ref6[1];return value!=null?(0,_fp.set)(key,value,acc):acc}),_objectSpread({},_defaults.timelineDefaults,{id:""}))};exports.defaultTimelineToTimelineModel=defaultTimelineToTimelineModel;var formatTimelineResultToModel=function formatTimelineResultToModel(timelineToOpen){var duplicate=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var notes=timelineToOpen.notes,timelineModel=_objectWithoutProperties(timelineToOpen,["notes"]);return{notes:notes,timeline:defaultTimelineToTimelineModel(timelineModel,duplicate)}};exports.formatTimelineResultToModel=formatTimelineResultToModel;var queryTimelineById=function queryTimelineById(_ref7){var apolloClient=_ref7.apolloClient,_ref7$duplicate=_ref7.duplicate,duplicate=_ref7$duplicate===void 0?false:_ref7$duplicate,timelineId=_ref7.timelineId,onOpenTimeline=_ref7.onOpenTimeline,_ref7$openTimeline=_ref7.openTimeline,openTimeline=_ref7$openTimeline===void 0?true:_ref7$openTimeline,updateIsLoading=_ref7.updateIsLoading,updateTimeline=_ref7.updateTimeline;updateIsLoading({id:"timeline-1",isLoading:true});if(apolloClient){apolloClient.query({query:_index.oneTimelineQuery,fetchPolicy:"no-cache",variables:{id:timelineId}}).then((function(result){var timelineToOpen=omitTypenameInTimeline((0,_fp.getOr)({},"data.getOneTimeline",result));var _formatTimelineResult=formatTimelineResultToModel(timelineToOpen,duplicate),timeline=_formatTimelineResult.timeline,notes=_formatTimelineResult.notes;if(onOpenTimeline!=null){onOpenTimeline(timeline)}else if(updateTimeline){updateTimeline({duplicate:duplicate,from:(0,_fp.getOr)((0,_default_date_settings.getDefaultFromValue)(),"dateRange.start",timeline),id:"timeline-1",notes:notes,timeline:_objectSpread({},timeline,{show:openTimeline}),to:(0,_fp.getOr)((0,_default_date_settings.getDefaultToValue)(),"dateRange.end",timeline)})()}})).finally((function(){updateIsLoading({id:"timeline-1",isLoading:false})}))}};exports.queryTimelineById=queryTimelineById;var dispatchUpdateTimeline=function dispatchUpdateTimeline(dispatch){return function(_ref8){var duplicate=_ref8.duplicate,id=_ref8.id,from=_ref8.from,notes=_ref8.notes,timeline=_ref8.timeline,to=_ref8.to;return function(){dispatch((0,_actions2.setTimelineRangeDatePicker)({from:from,to:to}));dispatch((0,_actions3.addTimeline)({id:id,timeline:timeline}));if(timeline.kqlQuery!=null&&timeline.kqlQuery.filterQuery!=null&&timeline.kqlQuery.filterQuery.kuery!=null&&timeline.kqlQuery.filterQuery.kuery.expression!==""){dispatch((0,_actions3.setKqlFilterQueryDraft)({id:id,filterQueryDraft:{kind:"kuery",expression:timeline.kqlQuery.filterQuery.kuery.expression||""}}));dispatch((0,_actions3.applyKqlFilterQuery)({id:id,filterQuery:{kuery:{kind:"kuery",expression:timeline.kqlQuery.filterQuery.kuery.expression||""},serializedQuery:timeline.kqlQuery.filterQuery.serializedQuery||""}}))}if(!duplicate){dispatch((0,_actions.addNotes)({notes:notes!=null?notes.map((function(note){return{created:note.created!=null?new Date(note.created):new Date,id:note.noteId,lastEdit:note.updated!=null?new Date(note.updated):new Date,note:note.note||"",user:note.updatedBy||"unknown",saveObjectId:note.noteId,version:note.version}})):[]}))}}}};exports.dispatchUpdateTimeline=dispatchUpdateTimeline},7057:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SpyRoute=exports.SpyRouteComponent=void 0;var _fp=__webpack_require__(223);var _react=__webpack_require__(0);var _reactRouterDom=__webpack_require__(23);var _fastDeepEqual=_interopRequireDefault(__webpack_require__(1005));var _use_route_spy=__webpack_require__(7318);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var SpyRouteComponent=(0,_react.memo)((function(_ref){var _ref$location=_ref.location,pathname=_ref$location.pathname,search=_ref$location.search,history=_ref.history,_ref$match$params=_ref.match.params,pageName=_ref$match$params.pageName,detailName=_ref$match$params.detailName,tabName=_ref$match$params.tabName,flowTarget=_ref$match$params.flowTarget,state=_ref.state;var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),isInitializing=_useState2[0],setIsInitializing=_useState2[1];var _useRouteSpy=(0,_use_route_spy.useRouteSpy)(),_useRouteSpy2=_slicedToArray(_useRouteSpy,2),route=_useRouteSpy2[0],dispatch=_useRouteSpy2[1];(0,_react.useEffect)((function(){if(isInitializing&&search!==""){dispatch({type:"updateSearch",search:search});setIsInitializing(false)}}),[search]);(0,_react.useEffect)((function(){if(pageName&&!(0,_fp.isEqual)(route.pathName,pathname)){if(isInitializing&&detailName==null){dispatch({type:"updateRouteWithOutSearch",route:{pageName:pageName,detailName:detailName,tabName:tabName,pathName:pathname,history:history,flowTarget:flowTarget}});setIsInitializing(false)}else{dispatch({type:"updateRoute",route:{pageName:pageName,detailName:detailName,tabName:tabName,search:search,pathName:pathname,history:history,flowTarget:flowTarget}})}}else{if(pageName&&!(0,_fastDeepEqual.default)(state,route.state)){dispatch({type:"updateRoute",route:{pageName:pageName,detailName:detailName,tabName:tabName,search:search,pathName:pathname,history:history,flowTarget:flowTarget,state:state}})}}}),[pathname,search,pageName,detailName,tabName,flowTarget,state]);return null}));exports.SpyRouteComponent=SpyRouteComponent;var SpyRoute=(0,_reactRouterDom.withRouter)(SpyRouteComponent);exports.SpyRoute=SpyRoute},7058:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventsLoading=exports.EventsHeadingHandle=exports.EventsHeadingExtra=exports.EventsHeadingTitleSpan=exports.EventsHeadingTitleButton=exports.EventsHeading=exports.EventsTdContent=exports.EventsTd=exports.EventsTdGroupData=exports.EventsTdGroupActions=exports.EventsTrSupplement=exports.EventsTrData=exports.EventsTrGroup=exports.EventsTbody=exports.EventsThContent=exports.EventsTh=exports.EventsThGroupData=exports.EventsThGroupActions=exports.EventsTrHeader=exports.EventsThead=exports.EventsTable=exports.TimelineBody=exports.TimelineBodyGlobalStyle=exports.OFFSET_SCROLLBAR=void 0;var _eui=__webpack_require__(1);var _polished=__webpack_require__(91);var _styledComponents=_interopRequireWildcard(__webpack_require__(30));var _helpers=__webpack_require__(7021);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  body."," .siemTimeline__body {\n    overflow: hidden;\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var OFFSET_SCROLLBAR=17;exports.OFFSET_SCROLLBAR=OFFSET_SCROLLBAR;var TimelineBodyGlobalStyle=(0,_styledComponents.createGlobalStyle)(_templateObject(),_helpers.IS_TIMELINE_FIELD_DRAGGING_CLASS_NAME);exports.TimelineBodyGlobalStyle=TimelineBodyGlobalStyle;var TimelineBody=_styledComponents.default.div.attrs((function(_ref){var _ref$className=_ref.className,className=_ref$className===void 0?"":_ref$className;return{className:"siemTimeline__body ".concat(className)}})).withConfig({displayName:"TimelineBody",componentId:"sc-173qfoz-0"})(["height:",";overflow:auto;scrollbar-width:thin;&::-webkit-scrollbar{height:",";width:",";}&::-webkit-scrollbar-thumb{background-clip:content-box;background-color:",";border:"," solid transparent;}&::-webkit-scrollbar-corner,&::-webkit-scrollbar-track{background-color:transparent;}"],(function(_ref2){var bodyHeight=_ref2.bodyHeight;return"".concat(bodyHeight,"px")}),(function(_ref3){var theme=_ref3.theme;return theme.eui.euiScrollBar}),(function(_ref4){var theme=_ref4.theme;return theme.eui.euiScrollBar}),(function(_ref5){var theme=_ref5.theme;return(0,_polished.rgba)(theme.eui.euiColorDarkShade,.5)}),(function(_ref6){var theme=_ref6.theme;return theme.eui.euiScrollBarCorner}));exports.TimelineBody=TimelineBody;TimelineBody.displayName="TimelineBody";var EventsTable=_styledComponents.default.div.attrs((function(_ref7){var _ref7$className=_ref7.className,className=_ref7$className===void 0?"":_ref7$className;return{className:"siemEventsTable ".concat(className),role:"table"}})).withConfig({displayName:"EventsTable",componentId:"sc-173qfoz-1"})([""]);exports.EventsTable=EventsTable;var EventsThead=_styledComponents.default.div.attrs((function(_ref8){var _ref8$className=_ref8.className,className=_ref8$className===void 0?"":_ref8$className;return{className:"siemEventsTable__thead ".concat(className),role:"rowgroup"}})).withConfig({displayName:"EventsThead",componentId:"sc-173qfoz-2"})(["background-color:",";border-bottom:"," solid ",";position:sticky;top:0;z-index:",";"],(function(_ref9){var theme=_ref9.theme;return theme.eui.euiColorEmptyShade}),(function(_ref10){var theme=_ref10.theme;return theme.eui.euiBorderWidthThick}),(function(_ref11){var theme=_ref11.theme;return theme.eui.euiColorLightShade}),(function(_ref12){var theme=_ref12.theme;return theme.eui.euiZLevel1}));exports.EventsThead=EventsThead;var EventsTrHeader=_styledComponents.default.div.attrs((function(_ref13){var className=_ref13.className;return{className:"siemEventsTable__trHeader ".concat(className),role:"row"}})).withConfig({displayName:"EventsTrHeader",componentId:"sc-173qfoz-3"})(["display:flex;"]);exports.EventsTrHeader=EventsTrHeader;var EventsThGroupActions=_styledComponents.default.div.attrs((function(_ref14){var _ref14$className=_ref14.className,className=_ref14$className===void 0?"":_ref14$className;return{className:"siemEventsTable__thGroupActions ".concat(className)}})).withConfig({displayName:"EventsThGroupActions",componentId:"sc-173qfoz-4"})(["display:flex;flex:0 0 ",";justify-content:",";min-width:0;"],(function(_ref15){var actionsColumnWidth=_ref15.actionsColumnWidth;return"".concat(actionsColumnWidth,"px")}),(function(_ref16){var justifyContent=_ref16.justifyContent;return justifyContent}));exports.EventsThGroupActions=EventsThGroupActions;var EventsThGroupData=_styledComponents.default.div.attrs((function(_ref17){var _ref17$className=_ref17.className,className=_ref17$className===void 0?"":_ref17$className;return{className:"siemEventsTable__thGroupData ".concat(className)}})).withConfig({displayName:"EventsThGroupData",componentId:"sc-173qfoz-5"})(["display:flex;> div:hover .siemEventsHeading__handle{display:",";opacity:1;visibility:visible;}"],(function(_ref18){var isDragging=_ref18.isDragging;return isDragging?"none":"block"}));exports.EventsThGroupData=EventsThGroupData;var EventsTh=_styledComponents.default.div.attrs((function(_ref19){var _ref19$className=_ref19.className,className=_ref19$className===void 0?"":_ref19$className;return{className:"siemEventsTable__th ".concat(className),role:"columnheader"}})).withConfig({displayName:"EventsTh",componentId:"sc-173qfoz-6"})(["align-items:center;display:flex;flex-shrink:0;min-width:0;.siemEventsTable__thGroupActions &:first-child:last-child{flex:1;}.siemEventsTable__thGroupData &:hover{background-color:",";cursor:move;cursor:grab;}> div:focus{outline:0;}[data-rbd-placeholder-context-id]{display:none !important;}"],(function(_ref20){var theme=_ref20.theme;return theme.eui.euiTableHoverColor}));exports.EventsTh=EventsTh;var EventsThContent=_styledComponents.default.div.attrs((function(_ref21){var _ref21$className=_ref21.className,className=_ref21$className===void 0?"":_ref21$className;return{className:"siemEventsTable__thContent ".concat(className)}})).withConfig({displayName:"EventsThContent",componentId:"sc-173qfoz-7"})(["font-size:",";font-weight:",";line-height:",";min-width:0;padding:",";text-align:",";width:100%;"],(function(_ref22){var theme=_ref22.theme;return theme.eui.euiFontSizeXS}),(function(_ref23){var theme=_ref23.theme;return theme.eui.euiFontWeightSemiBold}),(function(_ref24){var theme=_ref24.theme;return theme.eui.euiLineHeight}),(function(_ref25){var theme=_ref25.theme;return theme.eui.paddingSizes.xs}),(function(_ref26){var textAlign=_ref26.textAlign;return textAlign}));exports.EventsThContent=EventsThContent;var EventsTbody=_styledComponents.default.div.attrs((function(_ref27){var _ref27$className=_ref27.className,className=_ref27$className===void 0?"":_ref27$className;return{className:"siemEventsTable__tbody ".concat(className),role:"rowgroup"}})).withConfig({displayName:"EventsTbody",componentId:"sc-173qfoz-8"})(["overflow-x:hidden;"]);exports.EventsTbody=EventsTbody;var EventsTrGroup=_styledComponents.default.div.attrs((function(_ref28){var _ref28$className=_ref28.className,className=_ref28$className===void 0?"":_ref28$className;return{className:"siemEventsTable__trGroup ".concat(className)}})).withConfig({displayName:"EventsTrGroup",componentId:"sc-173qfoz-9"})(["border-bottom:"," solid ",";",";&:hover{background-color:",";}"],(function(_ref29){var theme=_ref29.theme;return theme.eui.euiBorderWidthThin}),(function(_ref30){var theme=_ref30.theme;return theme.eui.euiColorLightShade}),(function(_ref31){var theme=_ref31.theme,eventType=_ref31.eventType,showLeftBorder=_ref31.showLeftBorder;return showLeftBorder?"border-left: 4px solid\n    ".concat(eventType==="raw"?theme.eui.euiColorLightShade:theme.eui.euiColorWarning):""}),(function(_ref32){var theme=_ref32.theme;return theme.eui.euiTableHoverColor}));exports.EventsTrGroup=EventsTrGroup;var EventsTrData=_styledComponents.default.div.attrs((function(_ref33){var _ref33$className=_ref33.className,className=_ref33$className===void 0?"":_ref33$className;return{className:"siemEventsTable__trData ".concat(className),role:"row"}})).withConfig({displayName:"EventsTrData",componentId:"sc-173qfoz-10"})(["display:flex;"]);exports.EventsTrData=EventsTrData;var EventsTrSupplement=_styledComponents.default.div.attrs((function(_ref34){var _ref34$className=_ref34.className,className=_ref34$className===void 0?"":_ref34$className;return{className:"siemEventsTable__trSupplement ".concat(className)}})).withConfig({displayName:"EventsTrSupplement",componentId:"sc-173qfoz-11"})(["font-size:",";line-height:",";padding:0 "," 0 ",";"],(function(_ref35){var theme=_ref35.theme;return theme.eui.euiFontSizeXS}),(function(_ref36){var theme=_ref36.theme;return theme.eui.euiLineHeight}),(function(_ref37){var theme=_ref37.theme;return theme.eui.paddingSizes.xs}),(function(_ref38){var theme=_ref38.theme;return theme.eui.paddingSizes.xl}));exports.EventsTrSupplement=EventsTrSupplement;var EventsTdGroupActions=_styledComponents.default.div.attrs((function(_ref39){var _ref39$className=_ref39.className,className=_ref39$className===void 0?"":_ref39$className;return{className:"siemEventsTable__tdGroupActions ".concat(className)}})).withConfig({displayName:"EventsTdGroupActions",componentId:"sc-173qfoz-12"})(["display:flex;justify-content:space-between;flex:0 0 ",";min-width:0;"],(function(_ref40){var actionsColumnWidth=_ref40.actionsColumnWidth;return"".concat(actionsColumnWidth,"px")}));exports.EventsTdGroupActions=EventsTdGroupActions;var EventsTdGroupData=_styledComponents.default.div.attrs((function(_ref41){var _ref41$className=_ref41.className,className=_ref41$className===void 0?"":_ref41$className;return{className:"siemEventsTable__tdGroupData ".concat(className)}})).withConfig({displayName:"EventsTdGroupData",componentId:"sc-173qfoz-13"})(["display:flex;"]);exports.EventsTdGroupData=EventsTdGroupData;var EventsTd=_styledComponents.default.div.attrs((function(_ref42){var _ref42$className=_ref42.className,className=_ref42$className===void 0?"":_ref42$className;return{className:"siemEventsTable__td ".concat(className),role:"cell"}})).withConfig({displayName:"EventsTd",componentId:"sc-173qfoz-14"})(["align-items:center;display:flex;flex-shrink:0;min-width:0;.siemEventsTable__tdGroupActions &:first-child:last-child{flex:1;}"]);exports.EventsTd=EventsTd;var EventsTdContent=_styledComponents.default.div.attrs((function(_ref43){var className=_ref43.className;return{className:"siemEventsTable__tdContent ".concat(className)}})).withConfig({displayName:"EventsTdContent",componentId:"sc-173qfoz-15"})(["font-size:",";line-height:",";min-width:0;padding:",";text-align:",";width:100%;"],(function(_ref44){var theme=_ref44.theme;return theme.eui.euiFontSizeXS}),(function(_ref45){var theme=_ref45.theme;return theme.eui.euiLineHeight}),(function(_ref46){var theme=_ref46.theme;return theme.eui.paddingSizes.xs}),(function(_ref47){var textAlign=_ref47.textAlign;return textAlign}));exports.EventsTdContent=EventsTdContent;var EventsHeading=_styledComponents.default.div.attrs((function(_ref48){var _ref48$className=_ref48.className,className=_ref48$className===void 0?"":_ref48$className;return{className:"siemEventsHeading ".concat(className)}})).withConfig({displayName:"EventsHeading",componentId:"sc-173qfoz-16"})(["align-items:center;display:flex;&:hover{cursor:",";}"],(function(_ref49){var isLoading=_ref49.isLoading;return isLoading?"wait":"grab"}));exports.EventsHeading=EventsHeading;var EventsHeadingTitleButton=_styledComponents.default.button.attrs((function(_ref50){var _ref50$className=_ref50.className,className=_ref50$className===void 0?"":_ref50$className;return{className:"siemEventsHeading__title siemEventsHeading__title--aggregatable ".concat(className),type:"button"}})).withConfig({displayName:"EventsHeadingTitleButton",componentId:"sc-173qfoz-17"})(["align-items:center;display:flex;font-weight:inherit;min-width:0;&:hover,&:focus{color:",";text-decoration:underline;}&:hover{cursor:pointer;}& > * + *{margin-left:",";}"],(function(_ref51){var theme=_ref51.theme;return theme.eui.euiColorPrimary}),(function(_ref52){var theme=_ref52.theme;return theme.eui.euiSizeXS}));exports.EventsHeadingTitleButton=EventsHeadingTitleButton;var EventsHeadingTitleSpan=_styledComponents.default.span.attrs((function(_ref53){var className=_ref53.className;return{className:"siemEventsHeading__title siemEventsHeading__title--notAggregatable ".concat(className)}})).withConfig({displayName:"EventsHeadingTitleSpan",componentId:"sc-173qfoz-18"})(["min-width:0;"]);exports.EventsHeadingTitleSpan=EventsHeadingTitleSpan;var EventsHeadingExtra=_styledComponents.default.div.attrs((function(_ref54){var _ref54$className=_ref54.className,className=_ref54$className===void 0?"":_ref54$className;return{className:"siemEventsHeading__extra ".concat(className)}})).withConfig({displayName:"EventsHeadingExtra",componentId:"sc-173qfoz-19"})(["margin-left:auto;&.siemEventsHeading__extra--close{opacity:0;transition:all "," ease;visibility:hidden;.siemEventsTable__th:hover &{opacity:1;visibility:visible;}}"],(function(_ref55){var theme=_ref55.theme;return theme.eui.euiAnimSpeedNormal}));exports.EventsHeadingExtra=EventsHeadingExtra;var EventsHeadingHandle=_styledComponents.default.div.attrs((function(_ref56){var _ref56$className=_ref56.className,className=_ref56$className===void 0?"":_ref56$className;return{className:"siemEventsHeading__handle ".concat(className)}})).withConfig({displayName:"EventsHeadingHandle",componentId:"sc-173qfoz-20"})(["background-color:",";height:100%;opacity:0;transition:all "," ease;visibility:hidden;width:",";&:hover{background-color:",";cursor:col-resize;}"],(function(_ref57){var theme=_ref57.theme;return theme.eui.euiBorderColor}),(function(_ref58){var theme=_ref58.theme;return theme.eui.euiAnimSpeedNormal}),(function(_ref59){var theme=_ref59.theme;return theme.eui.euiBorderWidthThick}),(function(_ref60){var theme=_ref60.theme;return theme.eui.euiColorPrimary}));exports.EventsHeadingHandle=EventsHeadingHandle;var EventsLoading=(0,_styledComponents.default)(_eui.EuiLoadingSpinner).withConfig({displayName:"EventsLoading",componentId:"sc-173qfoz-21"})(["margin:",";vertical-align:top;"],(function(_ref61){var theme=_ref61.theme;return theme.eui.euiSizeXS}));exports.EventsLoading=EventsLoading},7059:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _api=__webpack_require__(7113);Object.keys(_api).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _api[key]}})}));var _fetch_index_patterns=__webpack_require__(7330);Object.keys(_fetch_index_patterns).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _fetch_index_patterns[key]}})}));var _persist_rule=__webpack_require__(8891);Object.keys(_persist_rule).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _persist_rule[key]}})}));var _types=__webpack_require__(8892);Object.keys(_types).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _types[key]}})}));var _use_rule=__webpack_require__(8893);Object.keys(_use_rule).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _use_rule[key]}})}));var _use_rules=__webpack_require__(8894);Object.keys(_use_rules).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _use_rules[key]}})}));var _use_pre_packaged_rules=__webpack_require__(8895);Object.keys(_use_pre_packaged_rules).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _use_pre_packaged_rules[key]}})}));var _use_rule_status=__webpack_require__(8896);Object.keys(_use_rule_status).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _use_rule_status[key]}})}))},7061:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.gutterTimeline=exports.assertUnreachable=exports.wait=exports.asArrayIfExists=exports.decodeIpv6=exports.encodeIpv6=void 0;var _fp=__webpack_require__(223);var encodeIpv6=function encodeIpv6(ip){return ip.replace(/:/g,"-")};exports.encodeIpv6=encodeIpv6;var decodeIpv6=function decodeIpv6(ip){return ip.replace(/-/g,":")};exports.decodeIpv6=decodeIpv6;var asArrayIfExists=function asArrayIfExists(value){return!(0,_fp.isUndefined)(value)?(0,_fp.castArray)(value):undefined};exports.asArrayIfExists=asArrayIfExists;var wait=function wait(){var delay=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return new Promise((function(resolve){return setTimeout(resolve,delay)}))};exports.wait=wait;var assertUnreachable=function assertUnreachable(x){var message=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Unknown Field in switch statement";throw new Error("".concat(message,": ").concat(x))};exports.assertUnreachable=assertUnreachable;var gutterTimeline="70px";exports.gutterTimeline=gutterTimeline},7063:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InspectButton=exports.InspectButtonContainer=exports.BUTTON_CLASS=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _styledComponents=_interopRequireWildcard(__webpack_require__(30));var _store=__webpack_require__(7016);var _inputs=__webpack_require__(1887);var _modal=__webpack_require__(8670);var i18n=_interopRequireWildcard(__webpack_require__(7576));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var BUTTON_CLASS="inspectButtonComponent";exports.BUTTON_CLASS=BUTTON_CLASS;var InspectButtonContainer=_styledComponents.default.div.withConfig({displayName:"InspectButtonContainer",componentId:"sc-1c7b6ng-0"})(["display:flex;flex-grow:1;> *{max-width:100%;}.","{pointer-events:none;opacity:0;transition:opacity "," ease;}",""],BUTTON_CLASS,(function(props){return(0,_fp.getOr)(250,"theme.eui.euiAnimSpeedNormal",props)}),(function(_ref){var show=_ref.show;return show&&(0,_styledComponents.css)(["&:hover .","{pointer-events:auto;opacity:1;}"],BUTTON_CLASS)}));exports.InspectButtonContainer=InspectButtonContainer;InspectButtonContainer.displayName="InspectButtonContainer";InspectButtonContainer.defaultProps={show:true};var InspectButtonComponent=function InspectButtonComponent(_ref2){var _ref2$compact=_ref2.compact,compact=_ref2$compact===void 0?false:_ref2$compact,_ref2$inputId=_ref2.inputId,inputId=_ref2$inputId===void 0?"global":_ref2$inputId,inspect=_ref2.inspect,isDisabled=_ref2.isDisabled,isInspected=_ref2.isInspected,loading=_ref2.loading,_ref2$inspectIndex=_ref2.inspectIndex,inspectIndex=_ref2$inspectIndex===void 0?0:_ref2$inspectIndex,onCloseInspect=_ref2.onCloseInspect,_ref2$queryId=_ref2.queryId,queryId=_ref2$queryId===void 0?"":_ref2$queryId,selectedInspectIndex=_ref2.selectedInspectIndex,setIsInspected=_ref2.setIsInspected,_ref2$title=_ref2.title,title=_ref2$title===void 0?"":_ref2$title;var isShowingModal=!loading&&selectedInspectIndex===inspectIndex&&isInspected;var handleClick=(0,_react.useCallback)((function(){setIsInspected({id:queryId,inputId:inputId,isInspected:true,selectedInspectIndex:inspectIndex})}),[setIsInspected,queryId,inputId,inspectIndex]);var handleCloseModal=(0,_react.useCallback)((function(){if(onCloseInspect!=null){onCloseInspect()}setIsInspected({id:queryId,inputId:inputId,isInspected:false,selectedInspectIndex:inspectIndex})}),[onCloseInspect,setIsInspected,queryId,inputId,inspectIndex]);return _react.default.createElement(_react.default.Fragment,null,inputId==="timeline"&&!compact&&_react.default.createElement(_eui.EuiButtonEmpty,{className:BUTTON_CLASS,"aria-label":i18n.INSPECT,"data-test-subj":"inspect-empty-button",color:"text",iconSide:"left",iconType:"inspect",isDisabled:loading||isDisabled,isLoading:loading,onClick:handleClick},i18n.INSPECT),(inputId==="global"||compact)&&_react.default.createElement(_eui.EuiButtonIcon,{className:BUTTON_CLASS,"aria-label":i18n.INSPECT,"data-test-subj":"inspect-icon-button",iconSize:"m",iconType:"inspect",isDisabled:loading||isDisabled,title:i18n.INSPECT,onClick:handleClick}),_react.default.createElement(_modal.ModalInspectQuery,{closeModal:handleCloseModal,isShowing:isShowingModal,request:inspect!=null&&inspect.dsl.length>0?inspect.dsl[inspectIndex]:null,response:inspect!=null&&inspect.response.length>0?inspect.response[inspectIndex]:null,title:title,"data-test-subj":"inspect-modal"}))};var makeMapStateToProps=function makeMapStateToProps(){var getGlobalQuery=_store.inputsSelectors.globalQueryByIdSelector();var getTimelineQuery=_store.inputsSelectors.timelineQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref3){var _ref3$inputId=_ref3.inputId,inputId=_ref3$inputId===void 0?"global":_ref3$inputId,queryId=_ref3.queryId;return inputId==="global"?getGlobalQuery(state,queryId):getTimelineQuery(state,queryId)};return mapStateToProps};var mapDispatchToProps={setIsInspected:_inputs.inputsActions.setInspectionParameter};var InspectButton=(0,_reactRedux.connect)(makeMapStateToProps,mapDispatchToProps)(_react.default.memo(InspectButtonComponent));exports.InspectButton=InspectButton},7064:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MlCapabilitiesProvider=exports.MlCapabilitiesContext=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _get_ml_capabilities=__webpack_require__(8681);var _empty_ml_capabilities=__webpack_require__(8682);var _error_to_toaster=__webpack_require__(7039);var _toasters=__webpack_require__(7019);var i18n=_interopRequireWildcard(__webpack_require__(8683));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var emptyMlCapabilitiesProvider=_objectSpread({},_empty_ml_capabilities.emptyMlCapabilities,{capabilitiesFetched:false});var MlCapabilitiesContext=_react.default.createContext(emptyMlCapabilitiesProvider);exports.MlCapabilitiesContext=MlCapabilitiesContext;MlCapabilitiesContext.displayName="MlCapabilitiesContext";var MlCapabilitiesProvider=_react.default.memo((function(_ref){var children=_ref.children;var _useState=(0,_react.useState)(emptyMlCapabilitiesProvider),_useState2=_slicedToArray(_useState,2),capabilities=_useState2[0],setCapabilities=_useState2[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;function fetchMlCapabilities(){var mlCapabilities;return regeneratorRuntime.async((function fetchMlCapabilities$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return regeneratorRuntime.awrap((0,_get_ml_capabilities.getMlCapabilities)(abortCtrl.signal));case 3:mlCapabilities=_context.sent;if(isSubscribed){setCapabilities(_objectSpread({},mlCapabilities,{capabilitiesFetched:true}))}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);if(isSubscribed){(0,_error_to_toaster.errorToToaster)({title:i18n.MACHINE_LEARNING_PERMISSIONS_FAILURE,error:_context.t0,dispatchToaster:dispatchToaster})}case 10:case"end":return _context.stop()}}}),null,null,[[0,7]])}fetchMlCapabilities();return function(){isSubscribed=false;abortCtrl.abort()}}),[]);return _react.default.createElement(MlCapabilitiesContext.Provider,{value:capabilities},children)}));exports.MlCapabilitiesProvider=MlCapabilitiesProvider;MlCapabilitiesProvider.displayName="MlCapabilitiesProvider"},7065:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OverflowField=exports.OverflowFieldComponent=exports.Popover=exports.PopoverComponent=exports.getRowItemOverflow=exports.getRowItemDraggables=exports.getRowItemDraggable=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _draggable_wrapper=__webpack_require__(7032);var _helpers=__webpack_require__(7021);var _empty_value=__webpack_require__(7017);var _page=__webpack_require__(7055);var _data_provider=__webpack_require__(7024);var _provider=__webpack_require__(7051);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var Subtext=_styledComponents.default.div.withConfig({displayName:"Subtext",componentId:"sc-1q9s102-0"})(["font-size:",";"],(function(props){return props.theme.eui.euiFontSizeXS}));var getRowItemDraggable=function getRowItemDraggable(_ref){var rowItem=_ref.rowItem,attrName=_ref.attrName,idPrefix=_ref.idPrefix,_render=_ref.render,dragDisplayValue=_ref.dragDisplayValue;if(rowItem!=null){var id=(0,_helpers.escapeDataProviderId)("".concat(idPrefix,"-").concat(attrName,"-").concat(rowItem));return _react2.default.createElement(_draggable_wrapper.DraggableWrapper,{key:id,dataProvider:{and:[],enabled:true,id:id,name:rowItem,excluded:false,kqlQuery:"",queryMatch:{field:attrName,value:rowItem,displayValue:dragDisplayValue||rowItem,operator:_data_provider.IS_OPERATOR}},render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react2.default.createElement(_draggable_wrapper.DragEffects,null,_react2.default.createElement(_provider.Provider,{dataProvider:dataProvider})):_react2.default.createElement(_react2.default.Fragment,null,_render?_render(rowItem):(0,_empty_value.defaultToEmptyTag)(rowItem))}})}else{return(0,_empty_value.getEmptyTagValue)()}};exports.getRowItemDraggable=getRowItemDraggable;var getRowItemDraggables=function getRowItemDraggables(_ref2){var rowItems=_ref2.rowItems,attrName=_ref2.attrName,idPrefix=_ref2.idPrefix,_render2=_ref2.render,dragDisplayValue=_ref2.dragDisplayValue,_ref2$displayCount=_ref2.displayCount,displayCount=_ref2$displayCount===void 0?5:_ref2$displayCount,_ref2$maxOverflow=_ref2.maxOverflow,maxOverflow=_ref2$maxOverflow===void 0?5:_ref2$maxOverflow;if(rowItems!=null&&rowItems.length>0){var draggables=rowItems.slice(0,displayCount).map((function(rowItem,index){var id=(0,_helpers.escapeDataProviderId)("".concat(idPrefix,"-").concat(attrName,"-").concat(rowItem,"-").concat(index));return _react2.default.createElement(_react2.default.Fragment,{key:id},index!==0&&_react2.default.createElement(_react2.default.Fragment,null,",",_react2.default.createElement(_page.Spacer,null)),_react2.default.createElement(_draggable_wrapper.DraggableWrapper,{key:id,dataProvider:{and:[],enabled:true,id:id,name:rowItem,excluded:false,kqlQuery:"",queryMatch:{field:attrName,value:rowItem,displayValue:dragDisplayValue||rowItem,operator:_data_provider.IS_OPERATOR}},render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react2.default.createElement(_draggable_wrapper.DragEffects,null,_react2.default.createElement(_provider.Provider,{dataProvider:dataProvider})):_react2.default.createElement(_react2.default.Fragment,null,_render2?_render2(rowItem):(0,_empty_value.defaultToEmptyTag)(rowItem))}}))}));return draggables.length>0?_react2.default.createElement(_react2.default.Fragment,null,draggables," ",getRowItemOverflow(rowItems,idPrefix,displayCount,maxOverflow)):(0,_empty_value.getEmptyTagValue)()}else{return(0,_empty_value.getEmptyTagValue)()}};exports.getRowItemDraggables=getRowItemDraggables;var getRowItemOverflow=function getRowItemOverflow(rowItems,idPrefix){var overflowIndexStart=arguments.length>2&&arguments[2]!==undefined?arguments[2]:5;var maxOverflowItems=arguments.length>3&&arguments[3]!==undefined?arguments[3]:5;return _react2.default.createElement(_react2.default.Fragment,null,rowItems.length>overflowIndexStart&&_react2.default.createElement(Popover,{count:rowItems.length-overflowIndexStart,idPrefix:idPrefix},_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("ul",null,rowItems.slice(overflowIndexStart,overflowIndexStart+maxOverflowItems).map((function(rowItem){return _react2.default.createElement("li",{key:"".concat(idPrefix,"-").concat(rowItem)},(0,_empty_value.defaultToEmptyTag)(rowItem))}))),rowItems.length>overflowIndexStart+maxOverflowItems&&_react2.default.createElement("p",{"data-test-subj":"popover-additional-overflow"},_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},rowItems.length-overflowIndexStart-maxOverflowItems," ",_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.tables.rowItemHelper.moreDescription",defaultMessage:"more not shown"}))))))};exports.getRowItemOverflow=getRowItemOverflow;var PopoverComponent=function PopoverComponent(_ref3){var children=_ref3.children,count=_ref3.count,idPrefix=_ref3.idPrefix;var _useState=(0,_react2.useState)(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];return _react2.default.createElement(Subtext,null,_react2.default.createElement(_eui.EuiPopover,{button:_react2.default.createElement(_eui.EuiLink,{onClick:function onClick(){return setIsOpen(!isOpen)}},"+".concat(count," More")),closePopover:function closePopover(){return setIsOpen(!isOpen)},id:"".concat(idPrefix,"-popover"),isOpen:isOpen},children))};exports.PopoverComponent=PopoverComponent;PopoverComponent.displayName="PopoverComponent";var Popover=_react2.default.memo(PopoverComponent);exports.Popover=Popover;Popover.displayName="Popover";var OverflowFieldComponent=function OverflowFieldComponent(_ref4){var value=_ref4.value,_ref4$showToolTip=_ref4.showToolTip,showToolTip=_ref4$showToolTip===void 0?true:_ref4$showToolTip,_ref4$overflowLength=_ref4.overflowLength,overflowLength=_ref4$overflowLength===void 0?50:_ref4$overflowLength;return _react2.default.createElement("span",null,showToolTip?_react2.default.createElement(_eui.EuiToolTip,{"data-test-subj":"message-tooltip",content:"message"},_react2.default.createElement(_react2.default.Fragment,null,value.substring(0,overflowLength))):_react2.default.createElement(_react2.default.Fragment,null,value.substring(0,overflowLength)),value.length>overflowLength&&_react2.default.createElement(_eui.EuiToolTip,{content:value},_react2.default.createElement(_page.MoreRowItems,{type:"boxesHorizontal"})))};exports.OverflowFieldComponent=OverflowFieldComponent;OverflowFieldComponent.displayName="OverflowFieldComponent";var OverflowField=_react2.default.memo(OverflowFieldComponent);exports.OverflowField=OverflowField;OverflowField.displayName="OverflowField"},7071:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.generateTablePaginationOptions=void 0;var generateTablePaginationOptions=function generateTablePaginationOptions(activePage,limit){var cursorStart=activePage*limit;return{activePage:activePage,cursorStart:cursorStart,fakePossibleCount:4<=activePage&&activePage>0?limit*(activePage+2):limit*5,querySize:limit+cursorStart}};exports.generateTablePaginationOptions=generateTablePaginationOptions},7072:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.mergeBrowserFieldsWithDefaultCategory=exports.createVirtualCategory=exports.filterBrowserFieldsByFieldName=exports.getFieldCount=exports.categoryHasFields=exports.getFieldBrowserSearchInputClassName=exports.getFieldBrowserCategoryTitleClassName=exports.getCategoryPaneCategoryClassName=exports.TYPE_COLUMN_WIDTH=exports.TABLE_HEIGHT=exports.SEARCH_INPUT_WIDTH=exports.PANES_FLEX_GROUP_WIDTH=exports.HEADER_HEIGHT=exports.FIELDS_PANE_WIDTH=exports.FIELD_BROWSER_HEIGHT=exports.FIELD_BROWSER_WIDTH=exports.FIELD_COLUMN_WIDTH=exports.DESCRIPTION_COLUMN_WIDTH=exports.CATEGORY_PANE_WIDTH=exports.LoadingSpinner=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _default_headers=__webpack_require__(7038);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var LoadingSpinner=(0,_styledComponents.default)(_eui.EuiLoadingSpinner).withConfig({displayName:"LoadingSpinner",componentId:"sc-1n9jal5-0"})(["cursor:pointer;position:relative;top:3px;"]);exports.LoadingSpinner=LoadingSpinner;LoadingSpinner.displayName="LoadingSpinner";var CATEGORY_PANE_WIDTH=200;exports.CATEGORY_PANE_WIDTH=CATEGORY_PANE_WIDTH;var DESCRIPTION_COLUMN_WIDTH=300;exports.DESCRIPTION_COLUMN_WIDTH=DESCRIPTION_COLUMN_WIDTH;var FIELD_COLUMN_WIDTH=200;exports.FIELD_COLUMN_WIDTH=FIELD_COLUMN_WIDTH;var FIELD_BROWSER_WIDTH=900;exports.FIELD_BROWSER_WIDTH=FIELD_BROWSER_WIDTH;var FIELD_BROWSER_HEIGHT=300;exports.FIELD_BROWSER_HEIGHT=FIELD_BROWSER_HEIGHT;var FIELDS_PANE_WIDTH=670;exports.FIELDS_PANE_WIDTH=FIELDS_PANE_WIDTH;var HEADER_HEIGHT=40;exports.HEADER_HEIGHT=HEADER_HEIGHT;var PANES_FLEX_GROUP_WIDTH=CATEGORY_PANE_WIDTH+FIELDS_PANE_WIDTH+10;exports.PANES_FLEX_GROUP_WIDTH=PANES_FLEX_GROUP_WIDTH;var SEARCH_INPUT_WIDTH=850;exports.SEARCH_INPUT_WIDTH=SEARCH_INPUT_WIDTH;var TABLE_HEIGHT=260;exports.TABLE_HEIGHT=TABLE_HEIGHT;var TYPE_COLUMN_WIDTH=50;exports.TYPE_COLUMN_WIDTH=TYPE_COLUMN_WIDTH;var getCategoryPaneCategoryClassName=function getCategoryPaneCategoryClassName(_ref){var categoryId=_ref.categoryId,timelineId=_ref.timelineId;return"field-browser-category-pane-".concat(categoryId,"-").concat(timelineId)};exports.getCategoryPaneCategoryClassName=getCategoryPaneCategoryClassName;var getFieldBrowserCategoryTitleClassName=function getFieldBrowserCategoryTitleClassName(_ref2){var categoryId=_ref2.categoryId,timelineId=_ref2.timelineId;return"field-browser-category-title-".concat(categoryId,"-").concat(timelineId)};exports.getFieldBrowserCategoryTitleClassName=getFieldBrowserCategoryTitleClassName;var getFieldBrowserSearchInputClassName=function getFieldBrowserSearchInputClassName(timelineId){return"field-browser-search-input-".concat(timelineId)};exports.getFieldBrowserSearchInputClassName=getFieldBrowserSearchInputClassName;var categoryHasFields=function categoryHasFields(category){return category.fields!=null&&Object.keys(category.fields).length>0};exports.categoryHasFields=categoryHasFields;var getFieldCount=function getFieldCount(category){return category!=null&&category.fields!=null?Object.keys(category.fields).length:0};exports.getFieldCount=getFieldCount;var filterBrowserFieldsByFieldName=function filterBrowserFieldsByFieldName(_ref3){var browserFields=_ref3.browserFields,substring=_ref3.substring;var trimmedSubstring=substring.trim();var filteredBrowserFields=Object.keys(browserFields).reduce((function(filteredCategories,categoryId){return _objectSpread({},filteredCategories,_defineProperty({},categoryId,_objectSpread({},browserFields[categoryId],{fields:(0,_fp.filter)((function(f){return f.name!=null&&f.name.includes(trimmedSubstring)}),browserFields[categoryId].fields).reduce((function(filtered,field){return _objectSpread({},filtered,_defineProperty({},field.name,field))}),{})})))}),{});var nonEmptyCategories=(0,_fp.pickBy)((function(category){return categoryHasFields(category)}),filteredBrowserFields);return nonEmptyCategories};exports.filterBrowserFieldsByFieldName=filterBrowserFieldsByFieldName;var createVirtualCategory=function createVirtualCategory(_ref4){var browserFields=_ref4.browserFields,fieldIds=_ref4.fieldIds;return{fields:fieldIds.reduce((function(fields,fieldId){var splitId=fieldId.split(".");return _objectSpread({},fields,_defineProperty({},fieldId,_objectSpread({},(0,_fp.get)([splitId.length>1?splitId[0]:"base","fields",fieldId],browserFields),{name:fieldId})))}),{})}};exports.createVirtualCategory=createVirtualCategory;var mergeBrowserFieldsWithDefaultCategory=function mergeBrowserFieldsWithDefaultCategory(browserFields){return _objectSpread({},browserFields,_defineProperty({},_default_headers.DEFAULT_CATEGORY_NAME,createVirtualCategory({browserFields:browserFields,fieldIds:_default_headers.defaultHeaders.map((function(header){return header.id}))})))};exports.mergeBrowserFieldsWithDefaultCategory=mergeBrowserFieldsWithDefaultCategory},7073:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"getUseField",{enumerable:true,get:function get(){return _hook_form_lib.getUseField}});Object.defineProperty(exports,"getFieldValidityAndErrorMessage",{enumerable:true,get:function get(){return _hook_form_lib.getFieldValidityAndErrorMessage}});Object.defineProperty(exports,"FieldHook",{enumerable:true,get:function get(){return _hook_form_lib.FieldHook}});Object.defineProperty(exports,"FIELD_TYPES",{enumerable:true,get:function get(){return _hook_form_lib.FIELD_TYPES}});Object.defineProperty(exports,"Form",{enumerable:true,get:function get(){return _hook_form_lib.Form}});Object.defineProperty(exports,"FormData",{enumerable:true,get:function get(){return _hook_form_lib.FormData}});Object.defineProperty(exports,"FormDataProvider",{enumerable:true,get:function get(){return _hook_form_lib.FormDataProvider}});Object.defineProperty(exports,"FormHook",{enumerable:true,get:function get(){return _hook_form_lib.FormHook}});Object.defineProperty(exports,"FormSchema",{enumerable:true,get:function get(){return _hook_form_lib.FormSchema}});Object.defineProperty(exports,"UseField",{enumerable:true,get:function get(){return _hook_form_lib.UseField}});Object.defineProperty(exports,"useForm",{enumerable:true,get:function get(){return _hook_form_lib.useForm}});Object.defineProperty(exports,"ValidationFunc",{enumerable:true,get:function get(){return _hook_form_lib.ValidationFunc}});Object.defineProperty(exports,"Field",{enumerable:true,get:function get(){return _components.Field}});Object.defineProperty(exports,"fieldValidators",{enumerable:true,get:function get(){return _helpers.fieldValidators}});Object.defineProperty(exports,"ERROR_CODE",{enumerable:true,get:function get(){return _types.ERROR_CODE}});var _hook_form_lib=__webpack_require__(113);var _components=__webpack_require__(1067);var _helpers=__webpack_require__(529);var _types=__webpack_require__(8900)},7077:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useApolloClient=exports.ApolloClientContext=void 0;var _react=__webpack_require__(0);var ApolloClientContext=(0,_react.createContext)(undefined);exports.ApolloClientContext=ApolloClientContext;var useApolloClient=function useApolloClient(){return(0,_react.useContext)(ApolloClientContext)};exports.useApolloClient=useApolloClient},7078:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasMlUserPermissions=void 0;var hasMlUserPermissions=function hasMlUserPermissions(capabilities){return capabilities.capabilities.canGetJobs&&capabilities.capabilities.canGetDatafeeds&&capabilities.capabilities.canGetCalendars};exports.hasMlUserPermissions=hasMlUserPermissions},7079:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SiemSearchBar=exports.dispatchUpdateSearch=exports.savedQueryService=exports.siemFilterManager=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _rxjs=__webpack_require__(37);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _new_platform=__webpack_require__(7);var _inputs=__webpack_require__(1887);var _super_date_picker=__webpack_require__(7200);var _selectors=__webpack_require__(8721);var _actions=__webpack_require__(1882);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var siemFilterManager=_new_platform.npStart.plugins.data.query.filterManager;exports.siemFilterManager=siemFilterManager;var savedQueryService=_new_platform.npStart.plugins.data.query.savedQueries;exports.savedQueryService=savedQueryService;var SearchBar=_new_platform.npStart.plugins.data.ui.SearchBar;var SearchBarContainer=_styledComponents.default.div.withConfig({displayName:"SearchBarContainer",componentId:"sj125d-0"})([".globalQueryBar{padding:0px;}"]);var SearchBarComponent=(0,_react.memo)((function(_ref){var end=_ref.end,filterQuery=_ref.filterQuery,fromStr=_ref.fromStr,id=_ref.id,indexPattern=_ref.indexPattern,_ref$isLoading=_ref.isLoading,isLoading=_ref$isLoading===void 0?false:_ref$isLoading,queries=_ref.queries,savedQuery=_ref.savedQuery,setSavedQuery=_ref.setSavedQuery,setSearchBarFilter=_ref.setSearchBarFilter,start=_ref.start,timelineId=_ref.timelineId,toStr=_ref.toStr,updateSearch=_ref.updateSearch,dataTestSubj=_ref.dataTestSubj;var timefilter=_new_platform.npStart.plugins.data.query.timefilter.timefilter;if(fromStr!=null&&toStr!=null){timefilter.setTime({from:fromStr,to:toStr})}else if(start!=null&&end!=null){timefilter.setTime({from:new Date(start).toISOString(),to:new Date(end).toISOString()})}var onQuerySubmit=(0,_react.useCallback)((function(payload){var isQuickSelection=payload.dateRange.from.includes("now")||payload.dateRange.to.includes("now");var updateSearchBar={id:id,end:toStr!=null?toStr:new Date(end).toISOString(),start:fromStr!=null?fromStr:new Date(start).toISOString(),isInvalid:false,isQuickSelection:isQuickSelection,updateTime:false};var isStateUpdated=false;if(isQuickSelection&&(fromStr!==payload.dateRange.from||toStr!==payload.dateRange.to)||!isQuickSelection&&(start!==(0,_super_date_picker.formatDate)(payload.dateRange.from)||end!==(0,_super_date_picker.formatDate)(payload.dateRange.to))){isStateUpdated=true;updateSearchBar.updateTime=true;updateSearchBar.end=payload.dateRange.to;updateSearchBar.start=payload.dateRange.from}if(payload.query!=null&&!(0,_fp.isEqual)(payload.query,filterQuery)){isStateUpdated=true;updateSearchBar=(0,_fp.set)("query",payload.query,updateSearchBar)}if(!isStateUpdated){if(isQuickSelection){updateSearchBar.updateTime=true;updateSearchBar.end=payload.dateRange.to;updateSearchBar.start=payload.dateRange.from}else{queries.forEach((function(q){return q.refetch&&q.refetch()}))}}window.setTimeout((function(){return updateSearch(updateSearchBar)}),0)}),[id,end,filterQuery,fromStr,queries,start,toStr]);var onRefresh=(0,_react.useCallback)((function(payload){if(payload.dateRange.from.includes("now")||payload.dateRange.to.includes("now")){updateSearch({id:id,end:payload.dateRange.to,start:payload.dateRange.from,isInvalid:false,isQuickSelection:true,updateTime:true})}else{queries.forEach((function(q){return q.refetch&&q.refetch()}))}}),[id,queries]);var onSaved=(0,_react.useCallback)((function(newSavedQuery){setSavedQuery({id:id,savedQuery:newSavedQuery})}),[id]);var onSavedQueryUpdated=(0,_react.useCallback)((function(savedQueryUpdated){var isQuickSelection=savedQueryUpdated.attributes.timefilter?savedQueryUpdated.attributes.timefilter.from.includes("now")||savedQueryUpdated.attributes.timefilter.to.includes("now"):false;var updateSearchBar={id:id,filters:savedQueryUpdated.attributes.filters||[],end:toStr!=null?toStr:new Date(end).toISOString(),start:fromStr!=null?fromStr:new Date(start).toISOString(),isInvalid:false,isQuickSelection:isQuickSelection,updateTime:false};if(savedQueryUpdated.attributes.timefilter){updateSearchBar.end=savedQueryUpdated.attributes.timefilter?savedQueryUpdated.attributes.timefilter.to:updateSearchBar.end;updateSearchBar.start=savedQueryUpdated.attributes.timefilter?savedQueryUpdated.attributes.timefilter.from:updateSearchBar.start;updateSearchBar.updateTime=true}updateSearchBar=(0,_fp.set)("query",savedQueryUpdated.attributes.query,updateSearchBar);updateSearchBar=(0,_fp.set)("savedQuery",savedQueryUpdated,updateSearchBar);updateSearch(updateSearchBar)}),[id,end,fromStr,start,toStr]);var onClearSavedQuery=(0,_react.useCallback)((function(){if(savedQuery!=null){updateSearch({id:id,filters:[],end:toStr!=null?toStr:new Date(end).toISOString(),start:fromStr!=null?fromStr:new Date(start).toISOString(),isInvalid:false,isQuickSelection:false,updateTime:false,query:{query:"",language:savedQuery.attributes.query.language},resetSavedQuery:true,savedQuery:undefined})}}),[id,end,fromStr,start,toStr,savedQuery]);(0,_react.useEffect)((function(){var isSubscribed=true;var subscriptions=new _rxjs.Subscription;subscriptions.add(siemFilterManager.getUpdates$().subscribe({next:function next(){if(isSubscribed){setSearchBarFilter({id:id,filters:siemFilterManager.getFilters()})}}}));return function(){isSubscribed=false;subscriptions.unsubscribe()}}),[]);var indexPatterns=(0,_react.useMemo)((function(){return[indexPattern]}),[indexPattern]);return _react.default.createElement(SearchBarContainer,{"data-test-subj":"".concat(id,"DatePicker")},_react.default.createElement(SearchBar,{appName:"siem",isLoading:isLoading,indexPatterns:indexPatterns,query:filterQuery,onClearSavedQuery:onClearSavedQuery,onQuerySubmit:onQuerySubmit,onRefresh:onRefresh,onSaved:onSaved,onSavedQueryUpdated:onSavedQueryUpdated,savedQuery:savedQuery,showFilterBar:true,showDatePicker:true,showQueryBar:true,showQueryInput:true,showSaveQuery:true,dataTestSubj:dataTestSubj}))}));var makeMapStateToProps=function makeMapStateToProps(){var getEndSelector=(0,_selectors.endSelector)();var getFromStrSelector=(0,_selectors.fromStrSelector)();var getIsLoadingSelector=(0,_selectors.isLoadingSelector)();var getKindSelector=(0,_selectors.kindSelector)();var getQueriesSelector=(0,_selectors.queriesSelector)();var getStartSelector=(0,_selectors.startSelector)();var getToStrSelector=(0,_selectors.toStrSelector)();var getFilterQuerySelector=(0,_selectors.filterQuerySelector)();var getSavedQuerySelector=(0,_selectors.savedQuerySelector)();return function(state,_ref2){var id=_ref2.id;var inputsRange=(0,_fp.getOr)({},"inputs.".concat(id),state);return{end:getEndSelector(inputsRange),fromStr:getFromStrSelector(inputsRange),filterQuery:getFilterQuerySelector(inputsRange),isLoading:getIsLoadingSelector(inputsRange),kind:getKindSelector(inputsRange),queries:getQueriesSelector(inputsRange),savedQuery:getSavedQuerySelector(inputsRange),start:getStartSelector(inputsRange),toStr:getToStrSelector(inputsRange)}}};SearchBarComponent.displayName="SiemSearchBar";var dispatchUpdateSearch=function dispatchUpdateSearch(dispatch){return function(_ref3){var end=_ref3.end,filters=_ref3.filters,id=_ref3.id,isQuickSelection=_ref3.isQuickSelection,query=_ref3.query,resetSavedQuery=_ref3.resetSavedQuery,savedQuery=_ref3.savedQuery,start=_ref3.start,timelineId=_ref3.timelineId,_ref3$updateTime=_ref3.updateTime,updateTime=_ref3$updateTime===void 0?false:_ref3$updateTime;if(updateTime){var fromDate=(0,_super_date_picker.formatDate)(start);var toDate=(0,_super_date_picker.formatDate)(end,{roundUp:true});if(isQuickSelection){dispatch(_inputs.inputsActions.setRelativeRangeDatePicker({id:id,fromStr:start,toStr:end,from:fromDate,to:toDate}))}else{toDate=(0,_super_date_picker.formatDate)(end);dispatch(_inputs.inputsActions.setAbsoluteRangeDatePicker({id:id,from:(0,_super_date_picker.formatDate)(start),to:(0,_super_date_picker.formatDate)(end)}))}if(timelineId!=null){dispatch(_actions.timelineActions.updateRange({id:timelineId,start:fromDate,end:toDate}))}}if(query!=null){dispatch(_inputs.inputsActions.setFilterQuery(_objectSpread({id:id},query)))}if(filters!=null){siemFilterManager.setFilters(filters)}if(savedQuery!=null||resetSavedQuery){dispatch(_inputs.inputsActions.setSavedQuery({id:id,savedQuery:savedQuery}))}dispatch(_actions.hostsActions.setHostTablesActivePageToZero());dispatch(_actions.networkActions.setNetworkTablesActivePageToZero())}};exports.dispatchUpdateSearch=dispatchUpdateSearch;var mapDispatchToProps=function mapDispatchToProps(dispatch){return{updateSearch:dispatchUpdateSearch(dispatch),setSavedQuery:function setSavedQuery(_ref4){var id=_ref4.id,savedQuery=_ref4.savedQuery;return dispatch(_inputs.inputsActions.setSavedQuery({id:id,savedQuery:savedQuery}))},setSearchBarFilter:function setSearchBarFilter(_ref5){var id=_ref5.id,filters=_ref5.filters;return dispatch(_inputs.inputsActions.setSearchBarFilter({id:id,filters:filters}))}}};var SiemSearchBar=(0,_reactRedux.connect)(makeMapStateToProps,mapDispatchToProps)(SearchBarComponent);exports.SiemSearchBar=SiemSearchBar},7080:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.QueryTemplatePaginated=void 0;var _apolloClient=__webpack_require__(1072);var _fp=__webpack_require__(223);var _memoizeOne=_interopRequireDefault(__webpack_require__(1889));var _react=_interopRequireDefault(__webpack_require__(0));var _helpers=__webpack_require__(7071);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var QueryTemplatePaginated=function(_React$PureComponent){_inherits(QueryTemplatePaginated,_React$PureComponent);function QueryTemplatePaginated(props){var _this;_classCallCheck(this,QueryTemplatePaginated);_this=_possibleConstructorReturn(this,_getPrototypeOf(QueryTemplatePaginated).call(this,props));_defineProperty(_assertThisInitialized(_this),"queryVariables",null);_defineProperty(_assertThisInitialized(_this),"myLoading",false);_defineProperty(_assertThisInitialized(_this),"fetchMore",void 0);_defineProperty(_assertThisInitialized(_this),"fetchMoreOptions",void 0);_defineProperty(_assertThisInitialized(_this),"memoizedRefetchQuery",void 0);_defineProperty(_assertThisInitialized(_this),"setFetchMore",(function(val){_this.fetchMore=val}));_defineProperty(_assertThisInitialized(_this),"setFetchMoreOptions",(function(val){_this.fetchMoreOptions=val}));_defineProperty(_assertThisInitialized(_this),"wrappedLoadMore",(function(newActivePage){return _this.fetchMore(_this.fetchMoreOptions(newActivePage))}));_defineProperty(_assertThisInitialized(_this),"refetchQuery",(function(variables,limit,refetch){return function(){refetch(_objectSpread({},variables,{pagination:(0,_helpers.generateTablePaginationOptions)(0,limit)}))}}));_this.memoizedRefetchQuery=(0,_memoizeOne.default)(_this.refetchQuery);return _this}_createClass(QueryTemplatePaginated,[{key:"setPrevVariables",value:function setPrevVariables(vars){this.queryVariables=vars}},{key:"isItAValidLoading",value:function isItAValidLoading(loading,variables,networkStatus){if(!this.myLoading&&(!(0,_fp.isEqual)(variables,this.queryVariables)||networkStatus===_apolloClient.NetworkStatus.refetch)&&loading){this.myLoading=true}else if(this.myLoading&&!loading){this.myLoading=false}this.setPrevVariables(variables);return this.myLoading}}]);return QueryTemplatePaginated}(_react.default.PureComponent);exports.QueryTemplatePaginated=QueryTemplatePaginated},7081:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PaginatedTable=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _header_section=__webpack_require__(7050);var _loader=__webpack_require__(7091);var _toasters=__webpack_require__(7019);var _constants=__webpack_require__(977);var i18n=_interopRequireWildcard(__webpack_require__(8726));var _panel=__webpack_require__(7154);var _inspect=__webpack_require__(7063);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var DEFAULT_DATA_TEST_SUBJ="paginated-table";var PaginatedTableComponent=function PaginatedTableComponent(_ref){var activePage=_ref.activePage,columns=_ref.columns,_ref$dataTestSubj=_ref.dataTestSubj,dataTestSubj=_ref$dataTestSubj===void 0?DEFAULT_DATA_TEST_SUBJ:_ref$dataTestSubj,headerCount=_ref.headerCount,headerSupplement=_ref.headerSupplement,headerTitle=_ref.headerTitle,headerTooltip=_ref.headerTooltip,headerUnit=_ref.headerUnit,id=_ref.id,isInspect=_ref.isInspect,itemsPerRow=_ref.itemsPerRow,limit=_ref.limit,loading=_ref.loading,loadPage=_ref.loadPage,_ref$onChange=_ref.onChange,onChange=_ref$onChange===void 0?_fp.noop:_ref$onChange,pageOfItems=_ref.pageOfItems,showMorePagesIndicator=_ref.showMorePagesIndicator,_ref$sorting=_ref.sorting,sorting=_ref$sorting===void 0?null:_ref$sorting,totalCount=_ref.totalCount,updateActivePage=_ref.updateActivePage,updateLimitPagination=_ref.updateLimitPagination;var _useState=(0,_react.useState)(loading),_useState2=_slicedToArray(_useState,2),myLoading=_useState2[0],setMyLoading=_useState2[1];var _useState3=(0,_react.useState)(activePage),_useState4=_slicedToArray(_useState3,2),myActivePage=_useState4[0],setActivePage=_useState4[1];var _useState5=(0,_react.useState)(headerCount===-1),_useState6=_slicedToArray(_useState5,2),loadingInitial=_useState6[0],setLoadingInitial=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=_slicedToArray(_useState7,2),isPopoverOpen=_useState8[0],setPopoverOpen=_useState8[1];var pageCount=Math.ceil(totalCount/limit);var dispatchToaster=(0,_toasters.useStateToaster)()[1];(0,_react.useEffect)((function(){setActivePage(activePage)}),[activePage]);(0,_react.useEffect)((function(){if(headerCount>=0&&loadingInitial){setLoadingInitial(false)}}),[loadingInitial,headerCount]);(0,_react.useEffect)((function(){setMyLoading(loading)}),[loading]);var onButtonClick=function onButtonClick(){setPopoverOpen(!isPopoverOpen)};var closePopover=function closePopover(){setPopoverOpen(false)};var goToPage=function goToPage(newActivePage){if((newActivePage+1)*limit>=_constants.DEFAULT_MAX_TABLE_QUERY_SIZE){var toast={id:"PaginationWarningMsg",title:headerTitle+i18n.TOAST_TITLE,color:"warning",iconType:"alert",toastLifeTimeMs:1e4,text:i18n.TOAST_TEXT};return dispatchToaster({type:"addToaster",toast:toast})}setActivePage(newActivePage);loadPage(newActivePage);updateActivePage(newActivePage)};var button=_react.default.createElement(_eui.EuiButtonEmpty,{size:"xs",color:"text",iconType:"arrowDown",iconSide:"right",onClick:onButtonClick},"".concat(i18n.ROWS,": ").concat(limit));var rowItems=itemsPerRow&&itemsPerRow.map((function(item){return _react.default.createElement(_eui.EuiContextMenuItem,{key:item.text,icon:limit===item.numberOfRow?"check":"empty",onClick:function onClick(){closePopover();updateLimitPagination(item.numberOfRow);updateActivePage(0)}},item.text)}));var PaginationWrapper=showMorePagesIndicator?PaginationEuiFlexItem:_eui.EuiFlexItem;return _react.default.createElement(_inspect.InspectButtonContainer,{show:!loadingInitial},_react.default.createElement(_panel.Panel,{"data-test-subj":"".concat(dataTestSubj,"-loading-").concat(loading),loading:loading},_react.default.createElement(_header_section.HeaderSection,{id:id,subtitle:!loadingInitial&&"".concat(i18n.SHOWING,": ").concat(headerCount>=0?headerCount.toLocaleString():0," ").concat(headerUnit),title:headerTitle,tooltip:headerTooltip},!loadingInitial&&headerSupplement),loadingInitial?_react.default.createElement(_eui.EuiLoadingContent,{"data-test-subj":"initialLoadingPanelPaginatedTable",lines:10}):_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(BasicTable,{columns:columns,compressed:true,items:pageOfItems,onChange:onChange,sorting:sorting?{sort:{field:sorting.field,direction:sorting.direction}}:undefined}),_react.default.createElement(FooterAction,null,_react.default.createElement(_eui.EuiFlexItem,null,itemsPerRow&&itemsPerRow.length>0&&totalCount>=itemsPerRow[0].numberOfRow&&_react.default.createElement(_eui.EuiPopover,{id:"customizablePagination","data-test-subj":"loadingMoreSizeRowPopover",button:button,isOpen:isPopoverOpen,closePopover:closePopover,panelPaddingSize:"none"},_react.default.createElement(_eui.EuiContextMenuPanel,{items:rowItems,"data-test-subj":"loadingMorePickSizeRow"}))),_react.default.createElement(PaginationWrapper,{grow:false},_react.default.createElement(_eui.EuiPagination,{"data-test-subj":"numberedPagination",pageCount:pageCount,activePage:myActivePage,onPageClick:goToPage}))),(isInspect||myLoading)&&_react.default.createElement(_loader.Loader,{"data-test-subj":"loadingPanelPaginatedTable",overlay:true,size:"xl"}))))};var PaginatedTable=(0,_react.memo)(PaginatedTableComponent);exports.PaginatedTable=PaginatedTable;var BasicTable=(0,_styledComponents.default)(_eui.EuiBasicTable).withConfig({displayName:"BasicTable",componentId:"r014wl-0"})(["tbody{th,td{vertical-align:top;}.euiTableCellContent{display:block;}}"]);BasicTable.displayName="BasicTable";var FooterAction=(0,_styledComponents.default)(_eui.EuiFlexGroup).attrs((function(){return{alignItems:"center",responsive:false}})).withConfig({displayName:"FooterAction",componentId:"r014wl-1"})(["margin-top:",";"],(function(_ref2){var theme=_ref2.theme;return theme.eui.euiSizeXS}));FooterAction.displayName="FooterAction";var PaginationEuiFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"PaginationEuiFlexItem",componentId:"r014wl-2"})(["@media only screen and (min-width:","){.euiButtonIcon:last-child{margin-left:28px;}.euiPagination{position:relative;}.euiPagination::before{bottom:0;color:",";content:'\\2026';font-size:",";padding:5px ",";position:absolute;right:",";}}"],(function(_ref3){var theme=_ref3.theme;return theme.eui.euiBreakpoints.m}),(function(_ref4){var theme=_ref4.theme;return theme.eui.euiButtonColorDisabled}),(function(_ref5){var theme=_ref5.theme;return theme.eui.euiFontSizeS}),(function(_ref6){var theme=_ref6.theme;return theme.eui.euiSizeS}),(function(_ref7){var theme=_ref7.theme;return theme.eui.euiSizeL}));PaginationEuiFlexItem.displayName="PaginationEuiFlexItem"},7090:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"LinkToPage",{enumerable:true,get:function get(){return _link_to.LinkToPage}});Object.defineProperty(exports,"getDetectionEngineUrl",{enumerable:true,get:function get(){return _redirect_to_detection_engine.getDetectionEngineUrl}});Object.defineProperty(exports,"RedirectToDetectionEnginePage",{enumerable:true,get:function get(){return _redirect_to_detection_engine.RedirectToDetectionEnginePage}});Object.defineProperty(exports,"getOverviewUrl",{enumerable:true,get:function get(){return _redirect_to_overview.getOverviewUrl}});Object.defineProperty(exports,"RedirectToOverviewPage",{enumerable:true,get:function get(){return _redirect_to_overview.RedirectToOverviewPage}});Object.defineProperty(exports,"getHostDetailsUrl",{enumerable:true,get:function get(){return _redirect_to_hosts.getHostDetailsUrl}});Object.defineProperty(exports,"getHostsUrl",{enumerable:true,get:function get(){return _redirect_to_hosts.getHostsUrl}});Object.defineProperty(exports,"getNetworkUrl",{enumerable:true,get:function get(){return _redirect_to_network.getNetworkUrl}});Object.defineProperty(exports,"getIPDetailsUrl",{enumerable:true,get:function get(){return _redirect_to_network.getIPDetailsUrl}});Object.defineProperty(exports,"RedirectToNetworkPage",{enumerable:true,get:function get(){return _redirect_to_network.RedirectToNetworkPage}});Object.defineProperty(exports,"getTimelinesUrl",{enumerable:true,get:function get(){return _redirect_to_timelines.getTimelinesUrl}});Object.defineProperty(exports,"RedirectToTimelinesPage",{enumerable:true,get:function get(){return _redirect_to_timelines.RedirectToTimelinesPage}});var _link_to=__webpack_require__(8675);var _redirect_to_detection_engine=__webpack_require__(7043);var _redirect_to_overview=__webpack_require__(7580);var _redirect_to_hosts=__webpack_require__(7202);var _redirect_to_network=__webpack_require__(7315);var _redirect_to_timelines=__webpack_require__(7581)},7091:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Loader=void 0;var _eui=__webpack_require__(1);var _polished=__webpack_require__(91);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireWildcard(__webpack_require__(30));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Aside=_styledComponents.default.aside.withConfig({displayName:"Aside",componentId:"sc-1uzak2q-0"})(["padding:",";",""],(function(_ref){var theme=_ref.theme;return theme.eui.paddingSizes.m}),(function(_ref2){var overlay=_ref2.overlay,overlayBackground=_ref2.overlayBackground,theme=_ref2.theme;return overlay&&(0,_styledComponents.css)(["background:",";bottom:0;left:0;position:absolute;right:0;top:0;z-index:",";"],overlayBackground?(0,_polished.rgba)(overlayBackground,.9):(0,_polished.rgba)(theme.eui.euiColorEmptyShade,.9),theme.eui.euiZLevel1)}));Aside.displayName="Aside";var FlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).attrs((function(){return{alignItems:"center",direction:"column",gutterSize:"s",justifyContent:"center"}})).withConfig({displayName:"FlexGroup",componentId:"sc-1uzak2q-1"})(["",""],(function(_ref3){var overlay=_ref3.overlay;return overlay&&(0,_styledComponents.css)(["height:100%;"])}));FlexGroup.displayName="FlexGroup";var Loader=_react.default.memo((function(_ref4){var children=_ref4.children,overlay=_ref4.overlay,overlayBackground=_ref4.overlayBackground,size=_ref4.size;return _react.default.createElement(Aside,{overlay:overlay,overlayBackground:overlayBackground},_react.default.createElement(FlexGroup,{overlay:{overlay:overlay}},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:size})),children&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,{color:"subdued",size:"s"},_react.default.createElement("p",null,children)))))}));exports.Loader=Loader;Loader.displayName="Loader"},7092:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetflowRenderer=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _helpers=__webpack_require__(7061);var _certificate_fingerprint=__webpack_require__(7340);var _duration=__webpack_require__(7211);var _event_id=__webpack_require__(7646);var _ip=__webpack_require__(7212);var _ja3_fingerprint=__webpack_require__(7341);var _netflow=__webpack_require__(7647);var _duration_event_start_end=__webpack_require__(7343);var _port=__webpack_require__(7157);var _geo_fields=__webpack_require__(7342);var _source_destination_arrows=__webpack_require__(7214);var _field_names=__webpack_require__(7213);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NetflowRenderer=_react.default.memo((function(_ref){var data=_ref.data,timelineId=_ref.timelineId;return _react.default.createElement(_netflow.Netflow,{contextId:"netflow-renderer-".concat(timelineId,"-").concat(data._id),destinationBytes:(0,_helpers.asArrayIfExists)((0,_fp.get)(_source_destination_arrows.DESTINATION_BYTES_FIELD_NAME,data)),destinationGeoContinentName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.DESTINATION_GEO_CONTINENT_NAME_FIELD_NAME,data)),destinationGeoCountryName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.DESTINATION_GEO_COUNTRY_NAME_FIELD_NAME,data)),destinationGeoCountryIsoCode:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.DESTINATION_GEO_COUNTRY_ISO_CODE_FIELD_NAME,data)),destinationGeoRegionName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.DESTINATION_GEO_REGION_NAME_FIELD_NAME,data)),destinationGeoCityName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.DESTINATION_GEO_CITY_NAME_FIELD_NAME,data)),destinationIp:(0,_helpers.asArrayIfExists)((0,_fp.get)(_ip.DESTINATION_IP_FIELD_NAME,data)),destinationPackets:(0,_helpers.asArrayIfExists)((0,_fp.get)(_source_destination_arrows.DESTINATION_PACKETS_FIELD_NAME,data)),destinationPort:(0,_helpers.asArrayIfExists)((0,_fp.get)(_port.DESTINATION_PORT_FIELD_NAME,data)),eventDuration:(0,_helpers.asArrayIfExists)((0,_fp.get)(_duration.EVENT_DURATION_FIELD_NAME,data)),eventId:(0,_fp.get)(_event_id.ID_FIELD_NAME,data),eventEnd:(0,_helpers.asArrayIfExists)((0,_fp.get)(_duration_event_start_end.EVENT_END_FIELD_NAME,data)),eventStart:(0,_helpers.asArrayIfExists)((0,_fp.get)(_duration_event_start_end.EVENT_START_FIELD_NAME,data)),networkBytes:(0,_helpers.asArrayIfExists)((0,_fp.get)(_field_names.NETWORK_BYTES_FIELD_NAME,data)),networkCommunityId:(0,_helpers.asArrayIfExists)((0,_fp.get)(_field_names.NETWORK_COMMUNITY_ID_FIELD_NAME,data)),networkDirection:(0,_helpers.asArrayIfExists)((0,_fp.get)(_field_names.NETWORK_DIRECTION_FIELD_NAME,data)),networkPackets:(0,_helpers.asArrayIfExists)((0,_fp.get)(_field_names.NETWORK_PACKETS_FIELD_NAME,data)),networkProtocol:(0,_helpers.asArrayIfExists)((0,_fp.get)(_field_names.NETWORK_PROTOCOL_FIELD_NAME,data)),sourceBytes:(0,_helpers.asArrayIfExists)((0,_fp.get)(_source_destination_arrows.SOURCE_BYTES_FIELD_NAME,data)),sourceGeoContinentName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.SOURCE_GEO_CONTINENT_NAME_FIELD_NAME,data)),sourceGeoCountryName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.SOURCE_GEO_COUNTRY_NAME_FIELD_NAME,data)),sourceGeoCountryIsoCode:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.SOURCE_GEO_COUNTRY_ISO_CODE_FIELD_NAME,data)),sourceGeoRegionName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.SOURCE_GEO_REGION_NAME_FIELD_NAME,data)),sourceGeoCityName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.SOURCE_GEO_CITY_NAME_FIELD_NAME,data)),sourceIp:(0,_helpers.asArrayIfExists)((0,_fp.get)(_ip.SOURCE_IP_FIELD_NAME,data)),sourcePackets:(0,_helpers.asArrayIfExists)((0,_fp.get)(_source_destination_arrows.SOURCE_PACKETS_FIELD_NAME,data)),sourcePort:(0,_helpers.asArrayIfExists)((0,_fp.get)(_port.SOURCE_PORT_FIELD_NAME,data)),tlsClientCertificateFingerprintSha1:(0,_helpers.asArrayIfExists)((0,_fp.get)(_certificate_fingerprint.TLS_CLIENT_CERTIFICATE_FINGERPRINT_SHA1_FIELD_NAME,data)),tlsFingerprintsJa3Hash:(0,_helpers.asArrayIfExists)((0,_fp.get)(_ja3_fingerprint.JA3_HASH_FIELD_NAME,data)),tlsServerCertificateFingerprintSha1:(0,_helpers.asArrayIfExists)((0,_fp.get)(_certificate_fingerprint.TLS_SERVER_CERTIFICATE_FINGERPRINT_SHA1_FIELD_NAME,data)),transport:(0,_helpers.asArrayIfExists)((0,_fp.get)(_field_names.NETWORK_TRANSPORT_FIELD_NAME,data)),userName:undefined})}));exports.NetflowRenderer=NetflowRenderer;NetflowRenderer.displayName="NetflowRenderer"},7093:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.redirectToDetections=exports.setFieldValue=exports.getPrePackagedRuleStatus=exports.useQuery=exports.getStepsData=void 0;var _datemath=_interopRequireDefault(__webpack_require__(77));var _fp=__webpack_require__(223);var _moment=_interopRequireDefault(__webpack_require__(13));var _reactRouterDom=__webpack_require__(23);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getStepsData=function getStepsData(_ref){var _rule$saved_id,_rule$timeline_id,_rule$timeline_title,_dateMath$parse,_dateMath$parse2;var rule=_ref.rule,_ref$detailsView=_ref.detailsView,detailsView=_ref$detailsView===void 0?false:_ref$detailsView;var defineRuleData=rule!=null?{isNew:false,index:rule.index,queryBar:{query:{query:rule.query,language:rule.language},filters:rule.filters,saved_id:(_rule$saved_id=rule.saved_id)!==null&&_rule$saved_id!==void 0?_rule$saved_id:null}}:null;var aboutRuleData=rule!=null?_objectSpread({isNew:false},(0,_fp.pick)(["description","name","references","severity","tags","threat"],rule),{},detailsView?{name:""}:{},{threat:rule.threat,falsePositives:rule.false_positives,riskScore:rule.risk_score,timeline:{id:(_rule$timeline_id=rule.timeline_id)!==null&&_rule$timeline_id!==void 0?_rule$timeline_id:null,title:(_rule$timeline_title=rule.timeline_title)!==null&&_rule$timeline_title!==void 0?_rule$timeline_title:null}}):null;var from=(_dateMath$parse=_datemath.default.parse(rule.from))!==null&&_dateMath$parse!==void 0?_dateMath$parse:(0,_moment.default)();var interval=(_dateMath$parse2=_datemath.default.parse("now-".concat(rule.interval)))!==null&&_dateMath$parse2!==void 0?_dateMath$parse2:(0,_moment.default)();var fromDuration=_moment.default.duration(interval.diff(from));var fromHumanize="".concat(Math.floor(fromDuration.asHours()),"h");if(fromDuration.asSeconds()<60){fromHumanize="".concat(Math.floor(fromDuration.asSeconds()),"s")}else if(fromDuration.asMinutes()<60){fromHumanize="".concat(Math.floor(fromDuration.asMinutes()),"m")}var scheduleRuleData=rule!=null?_objectSpread({isNew:false},(0,_fp.pick)(["enabled","interval"],rule),{from:fromHumanize}):null;return{aboutRuleData:aboutRuleData,defineRuleData:defineRuleData,scheduleRuleData:scheduleRuleData}};exports.getStepsData=getStepsData;var useQuery=function useQuery(){return new URLSearchParams((0,_reactRouterDom.useLocation)().search)};exports.useQuery=useQuery;var getPrePackagedRuleStatus=function getPrePackagedRuleStatus(rulesInstalled,rulesNotInstalled,rulesNotUpdated){if(rulesNotInstalled!=null&&rulesInstalled===0&&rulesNotInstalled>0&&rulesNotUpdated===0){return"ruleNotInstalled"}else if(rulesInstalled!=null&&rulesInstalled>0&&rulesNotInstalled===0&&rulesNotUpdated===0){return"ruleInstalled"}else if(rulesInstalled!=null&&rulesNotInstalled!=null&&rulesInstalled>0&&rulesNotInstalled>0&&rulesNotUpdated===0){return"someRuleUninstall"}else if(rulesInstalled!=null&&rulesNotInstalled!=null&&rulesNotUpdated!=null&&rulesInstalled>0&&rulesNotInstalled>=0&&rulesNotUpdated>0){return"ruleNeedUpdate"}return"unknown"};exports.getPrePackagedRuleStatus=getPrePackagedRuleStatus;var setFieldValue=function setFieldValue(form,schema,defaultValues){return Object.keys(schema).forEach((function(key){var val=(0,_fp.get)(key,defaultValues);if(val!=null){form.setFieldValue(key,val)}}))};exports.setFieldValue=setFieldValue;var redirectToDetections=function redirectToDetections(isSignalIndexExists,isAuthenticated,hasEncryptionKey){return isSignalIndexExists!=null&&isAuthenticated!=null&&hasEncryptionKey!=null&&(!isSignalIndexExists||!isAuthenticated||!hasEncryptionKey)};exports.redirectToDetections=redirectToDetections},7106:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.throwIfNotOk=exports.getIndexPatterns=void 0;var _chrome=_interopRequireDefault(__webpack_require__(8));var i18n=_interopRequireWildcard(__webpack_require__(7583));var _throw_if_not_ok=__webpack_require__(7316);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var emptyIndexPattern=[];var getIndexPatterns=function getIndexPatterns(signal){var response,results;return regeneratorRuntime.async((function getIndexPatterns$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath(),"/api/saved_objects/_find?type=index-pattern&fields=title&fields=type&per_page=10000"),{method:"GET",credentials:"same-origin",headers:{"content-type":"application/json","kbn-system-api":"true","kbn-xsrf":"true"},signal:signal}));case 2:response=_context.sent;_context.next=5;return regeneratorRuntime.awrap(throwIfNotOk(response));case 5:_context.next=7;return regeneratorRuntime.awrap(response.json());case 7:results=_context.sent;if(!(results.saved_objects&&Array.isArray(results.saved_objects))){_context.next=12;break}return _context.abrupt("return",results.saved_objects);case 12:return _context.abrupt("return",emptyIndexPattern);case 13:case"end":return _context.stop()}}}))};exports.getIndexPatterns=getIndexPatterns;var throwIfNotOk=function throwIfNotOk(response){var body;return regeneratorRuntime.async((function throwIfNotOk$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(response.ok){_context2.next=17;break}_context2.next=3;return regeneratorRuntime.awrap((0,_throw_if_not_ok.parseJsonFromBody)(response));case 3:body=_context2.sent;if(!(body!=null&&body.message)){_context2.next=16;break}if(!(body.statusCode!=null)){_context2.next=9;break}throw new _throw_if_not_ok.ToasterErrors([body.message,"".concat(i18n.STATUS_CODE," ").concat(body.statusCode)]);case 9:if(!(body.status_code!=null)){_context2.next=13;break}throw new _throw_if_not_ok.ToasterErrors([body.message,"".concat(i18n.STATUS_CODE," ").concat(body.status_code)]);case 13:throw new _throw_if_not_ok.ToasterErrors([body.message]);case 14:_context2.next=17;break;case 16:throw new _throw_if_not_ok.ToasterErrors(["".concat(i18n.NETWORK_ERROR," ").concat(response.statusText)]);case 17:case"end":return _context2.stop()}}}))};exports.throwIfNotOk=throwIfNotOk},7107:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"FiltersGlobal",{enumerable:true,get:function get(){return _filters_global.FiltersGlobal}});var _filters_global=__webpack_require__(8697)},7108:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.STATEFUL_EVENT_CSS_CLASS_NAME=exports.calculateBodyHeight=exports.combineQueries=exports.buildGlobalQuery=void 0;var _fp=__webpack_require__(223);var _memoizeOne=_interopRequireDefault(__webpack_require__(1889));var _keury=__webpack_require__(1885);var _data_provider=__webpack_require__(7024);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var convertDateFieldToQuery=function convertDateFieldToQuery(field,value){return"".concat(field,": ").concat((0,_fp.isNumber)(value)?value:new Date(value).valueOf())};var getBaseFields=(0,_memoizeOne.default)((function(browserFields){var baseFields=(0,_fp.get)("base",browserFields);if(baseFields!=null&&baseFields.fields!=null){return Object.keys(baseFields.fields)}return[]}));var getBrowserFieldPath=function getBrowserFieldPath(field,browserFields){var splitFields=field.split(".");var baseFields=getBaseFields(browserFields);if(baseFields.includes(field)){return["base","fields",field]}return[splitFields[0],"fields",field]};var checkIfFieldTypeIsDate=function checkIfFieldTypeIsDate(field,browserFields){var pathBrowserField=getBrowserFieldPath(field,browserFields);var browserField=(0,_fp.get)(pathBrowserField,browserFields);if(browserField!=null&&browserField.type==="date"){return true}return false};var buildQueryMatch=function buildQueryMatch(dataProvider,browserFields){return"".concat(dataProvider.excluded?"NOT ":"").concat(dataProvider.queryMatch.operator!==_data_provider.EXISTS_OPERATOR?checkIfFieldTypeIsDate(dataProvider.queryMatch.field,browserFields)?convertDateFieldToQuery(dataProvider.queryMatch.field,dataProvider.queryMatch.value):"".concat(dataProvider.queryMatch.field," : ").concat((0,_fp.isNumber)(dataProvider.queryMatch.value)?dataProvider.queryMatch.value:(0,_keury.escapeQueryValue)(dataProvider.queryMatch.value)):"".concat(dataProvider.queryMatch.field," ").concat(_data_provider.EXISTS_OPERATOR)).trim()};var buildQueryForAndProvider=function buildQueryForAndProvider(dataAndProviders,browserFields){return dataAndProviders.reduce((function(andQuery,andDataProvider){var prepend=function prepend(q){return"".concat(q!==""?"".concat(q," and "):"")};return andDataProvider.enabled?"".concat(prepend(andQuery)," ").concat(buildQueryMatch(andDataProvider,browserFields)):andQuery}),"").trim()};var buildGlobalQuery=function buildGlobalQuery(dataProviders,browserFields){return dataProviders.reduce((function(query,dataProvider,i){var prepend=function prepend(q){return"".concat(q!==""?"(".concat(q,") or "):"")};var openParen=i>0?"(":"";var closeParen=i>0?")":"";return dataProvider.enabled?"".concat(prepend(query)).concat(openParen).concat(buildQueryMatch(dataProvider,browserFields),"\n        ").concat(dataProvider.and.length>0?" and ".concat(buildQueryForAndProvider(dataProvider.and,browserFields)):"").concat(closeParen).trim():query}),"").trim()};exports.buildGlobalQuery=buildGlobalQuery;var combineQueries=function combineQueries(_ref){var config=_ref.config,dataProviders=_ref.dataProviders,indexPattern=_ref.indexPattern,browserFields=_ref.browserFields,_ref$filters=_ref.filters,filters=_ref$filters===void 0?[]:_ref$filters,kqlQuery=_ref.kqlQuery,kqlMode=_ref.kqlMode,start=_ref.start,end=_ref.end,isEventViewer=_ref.isEventViewer;var kuery={query:"",language:kqlQuery.language};if((0,_fp.isEmpty)(dataProviders)&&(0,_fp.isEmpty)(kqlQuery.query)&&(0,_fp.isEmpty)(filters)&&!isEventViewer){return null}else if((0,_fp.isEmpty)(dataProviders)&&(0,_fp.isEmpty)(kqlQuery.query)&&isEventViewer){kuery.query="@timestamp >= ".concat(start," and @timestamp <= ").concat(end);return{filterQuery:(0,_keury.convertToBuildEsQuery)({config:config,queries:[kuery],indexPattern:indexPattern,filters:filters})}}else if((0,_fp.isEmpty)(dataProviders)&&(0,_fp.isEmpty)(kqlQuery.query)&&!(0,_fp.isEmpty)(filters)){kuery.query="@timestamp >= ".concat(start," and @timestamp <= ").concat(end);return{filterQuery:(0,_keury.convertToBuildEsQuery)({config:config,queries:[kuery],indexPattern:indexPattern,filters:filters})}}else if((0,_fp.isEmpty)(dataProviders)&&!(0,_fp.isEmpty)(kqlQuery.query)){kuery.query="(".concat(kqlQuery.query,") and @timestamp >= ").concat(start," and @timestamp <= ").concat(end);return{filterQuery:(0,_keury.convertToBuildEsQuery)({config:config,queries:[kuery],indexPattern:indexPattern,filters:filters})}}else if(!(0,_fp.isEmpty)(dataProviders)&&(0,_fp.isEmpty)(kqlQuery)){kuery.query="(".concat(buildGlobalQuery(dataProviders,browserFields),") and @timestamp >= ").concat(start," and @timestamp <= ").concat(end);return{filterQuery:(0,_keury.convertToBuildEsQuery)({config:config,queries:[kuery],indexPattern:indexPattern,filters:filters})}}var operatorKqlQuery=kqlMode==="filter"?"and":"or";var postpend=function postpend(q){return"".concat(!(0,_fp.isEmpty)(q)?" ".concat(operatorKqlQuery," (").concat(q,")"):"")};kuery.query="((".concat(buildGlobalQuery(dataProviders,browserFields),")").concat(postpend(kqlQuery.query),") and @timestamp >= ").concat(start," and @timestamp <= ").concat(end);return{filterQuery:(0,_keury.convertToBuildEsQuery)({config:config,queries:[kuery],indexPattern:indexPattern,filters:filters})}};exports.combineQueries=combineQueries;var calculateBodyHeight=function calculateBodyHeight(_ref2){var _ref2$flyoutHeight=_ref2.flyoutHeight,flyoutHeight=_ref2$flyoutHeight===void 0?0:_ref2$flyoutHeight,_ref2$flyoutHeaderHei=_ref2.flyoutHeaderHeight,flyoutHeaderHeight=_ref2$flyoutHeaderHei===void 0?0:_ref2$flyoutHeaderHei,_ref2$timelineHeaderH=_ref2.timelineHeaderHeight,timelineHeaderHeight=_ref2$timelineHeaderH===void 0?0:_ref2$timelineHeaderH,_ref2$timelineFooterH=_ref2.timelineFooterHeight,timelineFooterHeight=_ref2$timelineFooterH===void 0?0:_ref2$timelineFooterH;return flyoutHeight-(flyoutHeaderHeight+timelineHeaderHeight+timelineFooterHeight)};exports.calculateBodyHeight=calculateBodyHeight;var STATEFUL_EVENT_CSS_CLASS_NAME="event-column-view";exports.STATEFUL_EVENT_CSS_CLASS_NAME=STATEFUL_EVENT_CSS_CLASS_NAME},7109:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MatrixHistogramContainer=void 0;var _redux=__webpack_require__(7020);var _reactRedux=__webpack_require__(7014);var _store=__webpack_require__(7016);var _matrix_histogram=__webpack_require__(7617);var makeMapStateToProps=function makeMapStateToProps(){var getQuery=_store.inputsSelectors.globalQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref){var type=_ref.type,id=_ref.id;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return{isInspected:isInspected}};return mapStateToProps};var MatrixHistogramContainer=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps))(_matrix_histogram.MatrixHistogram);exports.MatrixHistogramContainer=MatrixHistogramContainer},7110:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MatrixHistogramGqlQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetMatrixHistogramQuery(\n    $isAlertsHistogram: Boolean!\n    $isAnomaliesHistogram: Boolean!\n    $isAuthenticationsHistogram: Boolean!\n    $isDnsHistogram: Boolean!\n    $defaultIndex: [String!]!\n    $isEventsHistogram: Boolean!\n    $filterQuery: String\n    $inspect: Boolean!\n    $sourceId: ID!\n    $stackByField: String\n    $timerange: TimerangeInput!\n  ) {\n    source(id: $sourceId) {\n      id\n      AlertsHistogram(\n        timerange: $timerange\n        filterQuery: $filterQuery\n        defaultIndex: $defaultIndex\n        stackByField: $stackByField\n      ) @include(if: $isAlertsHistogram) {\n        matrixHistogramData {\n          x\n          y\n          g\n        }\n        totalCount\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n      AnomaliesHistogram(\n        timerange: $timerange\n        filterQuery: $filterQuery\n        defaultIndex: $defaultIndex\n        stackByField: $stackByField\n      ) @include(if: $isAnomaliesHistogram) {\n        matrixHistogramData {\n          x\n          y\n          g\n        }\n        totalCount\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n      AuthenticationsHistogram(\n        timerange: $timerange\n        filterQuery: $filterQuery\n        defaultIndex: $defaultIndex\n        stackByField: $stackByField\n      ) @include(if: $isAuthenticationsHistogram) {\n        matrixHistogramData {\n          x\n          y\n          g\n        }\n        totalCount\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n      EventsHistogram(\n        timerange: $timerange\n        filterQuery: $filterQuery\n        defaultIndex: $defaultIndex\n        stackByField: $stackByField\n      ) @include(if: $isEventsHistogram) {\n        matrixHistogramData {\n          x\n          y\n          g\n        }\n        totalCount\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n      NetworkDnsHistogram(\n        timerange: $timerange\n        filterQuery: $filterQuery\n        defaultIndex: $defaultIndex\n        stackByField: $stackByField\n      ) @include(if: $isDnsHistogram) {\n        matrixHistogramData {\n          x\n          y\n          g\n        }\n        totalCount\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var MatrixHistogramGqlQuery=(0,_graphqlTag.default)(_templateObject());exports.MatrixHistogramGqlQuery=MatrixHistogramGqlQuery},7111:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TAG_FETCH_FAILURE=exports.RULE_PREPACKAGED_SUCCESS=exports.RULE_PREPACKAGED_FAILURE=exports.RULE_ADD_FAILURE=exports.RULE_FETCH_FAILURE=void 0;var _i18n=__webpack_require__(2);var RULE_FETCH_FAILURE=_i18n.i18n.translate("xpack.siem.containers.detectionEngine.rules",{defaultMessage:"Failed to fetch Rules"});exports.RULE_FETCH_FAILURE=RULE_FETCH_FAILURE;var RULE_ADD_FAILURE=_i18n.i18n.translate("xpack.siem.containers.detectionEngine.addRuleFailDescription",{defaultMessage:"Failed to add Rule"});exports.RULE_ADD_FAILURE=RULE_ADD_FAILURE;var RULE_PREPACKAGED_FAILURE=_i18n.i18n.translate("xpack.siem.containers.detectionEngine.createPrePackagedRuleFailDescription",{defaultMessage:"Failed to installed pre-packaged rules from elastic"});exports.RULE_PREPACKAGED_FAILURE=RULE_PREPACKAGED_FAILURE;var RULE_PREPACKAGED_SUCCESS=_i18n.i18n.translate("xpack.siem.containers.detectionEngine.createPrePackagedRuleSuccesDescription",{defaultMessage:"Installed pre-packaged rules from elastic"});exports.RULE_PREPACKAGED_SUCCESS=RULE_PREPACKAGED_SUCCESS;var TAG_FETCH_FAILURE=_i18n.i18n.translate("xpack.siem.containers.detectionEngine.tagFetchFailDescription",{defaultMessage:"Failed to fetch Tags"});exports.TAG_FETCH_FAILURE=TAG_FETCH_FAILURE},7112:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VIEW_CATEGORY=exports.TOGGLE_COLUMN_TOOLTIP=exports.RESET_FIELDS=exports.NO_FIELDS_MATCH_INPUT=exports.NO_FIELDS_MATCH=exports.FILTER_PLACEHOLDER=exports.FIELDS_COUNT=exports.FIELDS=exports.FIELD=exports.DESCRIPTION=exports.CUSTOMIZE_COLUMNS=exports.COPY_TO_CLIPBOARD=exports.CATEGORIES_COUNT=exports.CATEGORIES=exports.CATEGORY=void 0;var _i18n=__webpack_require__(2);var CATEGORY=_i18n.i18n.translate("xpack.siem.fieldBrowser.categoryLabel",{defaultMessage:"Category"});exports.CATEGORY=CATEGORY;var CATEGORIES=_i18n.i18n.translate("xpack.siem.fieldBrowser.categoriesTitle",{defaultMessage:"Categories"});exports.CATEGORIES=CATEGORIES;var CATEGORIES_COUNT=function CATEGORIES_COUNT(totalCount){return _i18n.i18n.translate("xpack.siem.fieldBrowser.categoriesCountTitle",{values:{totalCount:totalCount},defaultMessage:"{totalCount} {totalCount, plural, =1 {category} other {categories}}"})};exports.CATEGORIES_COUNT=CATEGORIES_COUNT;var COPY_TO_CLIPBOARD=_i18n.i18n.translate("xpack.siem.fieldBrowser.copyToClipboard",{defaultMessage:"Copy to Clipboard"});exports.COPY_TO_CLIPBOARD=COPY_TO_CLIPBOARD;var CUSTOMIZE_COLUMNS=_i18n.i18n.translate("xpack.siem.fieldBrowser.customizeColumnsTitle",{defaultMessage:"Customize Columns"});exports.CUSTOMIZE_COLUMNS=CUSTOMIZE_COLUMNS;var DESCRIPTION=_i18n.i18n.translate("xpack.siem.fieldBrowser.descriptionLabel",{defaultMessage:"Description"});exports.DESCRIPTION=DESCRIPTION;var FIELD=_i18n.i18n.translate("xpack.siem.fieldBrowser.fieldLabel",{defaultMessage:"Field"});exports.FIELD=FIELD;var FIELDS=_i18n.i18n.translate("xpack.siem.fieldBrowser.fieldsTitle",{defaultMessage:"Columns"});exports.FIELDS=FIELDS;var FIELDS_COUNT=function FIELDS_COUNT(totalCount){return _i18n.i18n.translate("xpack.siem.fieldBrowser.fieldsCountTitle",{values:{totalCount:totalCount},defaultMessage:"{totalCount} {totalCount, plural, =1 {field} other {fields}}"})};exports.FIELDS_COUNT=FIELDS_COUNT;var FILTER_PLACEHOLDER=_i18n.i18n.translate("xpack.siem.fieldBrowser.filterPlaceholder",{defaultMessage:"Field name"});exports.FILTER_PLACEHOLDER=FILTER_PLACEHOLDER;var NO_FIELDS_MATCH=_i18n.i18n.translate("xpack.siem.fieldBrowser.noFieldsMatchLabel",{defaultMessage:"No fields match"});exports.NO_FIELDS_MATCH=NO_FIELDS_MATCH;var NO_FIELDS_MATCH_INPUT=function NO_FIELDS_MATCH_INPUT(searchInput){return _i18n.i18n.translate("xpack.siem.fieldBrowser.noFieldsMatchInputLabel",{defaultMessage:"No fields match {searchInput}",values:{searchInput:searchInput}})};exports.NO_FIELDS_MATCH_INPUT=NO_FIELDS_MATCH_INPUT;var RESET_FIELDS=_i18n.i18n.translate("xpack.siem.fieldBrowser.resetFieldsLink",{defaultMessage:"Reset Fields"});exports.RESET_FIELDS=RESET_FIELDS;var TOGGLE_COLUMN_TOOLTIP=_i18n.i18n.translate("xpack.siem.fieldBrowser.toggleColumnTooltip",{defaultMessage:"Toggle column"});exports.TOGGLE_COLUMN_TOOLTIP=TOGGLE_COLUMN_TOOLTIP;var VIEW_CATEGORY=function VIEW_CATEGORY(categoryId){return _i18n.i18n.translate("xpack.siem.fieldBrowser.viewCategoryTooltip",{defaultMessage:"View all {categoryId} fields",values:{categoryId:categoryId}})};exports.VIEW_CATEGORY=VIEW_CATEGORY},7113:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPrePackagedRulesStatus=exports.fetchTags=exports.getRuleStatusById=exports.exportRules=exports.importRules=exports.createPrepackagedRules=exports.duplicateRules=exports.deleteRules=exports.enableRules=exports.fetchRuleById=exports.fetchRules=exports.addRule=void 0;var _chrome=_interopRequireDefault(__webpack_require__(8));var _api=__webpack_require__(7106);var _constants=__webpack_require__(977);var i18n=_interopRequireWildcard(__webpack_require__(7031));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var addRule=function addRule(_ref){var rule,signal,response;return regeneratorRuntime.async((function addRule$(_context){while(1){switch(_context.prev=_context.next){case 0:rule=_ref.rule,signal=_ref.signal;_context.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_RULES_URL),{method:rule.id!=null?"PUT":"POST",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},body:JSON.stringify(rule),signal:signal}));case 3:response=_context.sent;_context.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:return _context.abrupt("return",response.json());case 7:case"end":return _context.stop()}}}))};exports.addRule=addRule;var fetchRules=function fetchRules(_ref2){var _ref3,_filterOptions$tags;var _ref2$filterOptions,filterOptions,_ref2$pagination,pagination,signal,filters,queryParams,response;return regeneratorRuntime.async((function fetchRules$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_ref2$filterOptions=_ref2.filterOptions,filterOptions=_ref2$filterOptions===void 0?{filter:"",sortField:"enabled",sortOrder:"desc",showCustomRules:false,showElasticRules:false,tags:[]}:_ref2$filterOptions,_ref2$pagination=_ref2.pagination,pagination=_ref2$pagination===void 0?{page:1,perPage:20,total:0}:_ref2$pagination,signal=_ref2.signal;filters=[].concat(_toConsumableArray(filterOptions.filter.length!==0?["alert.attributes.name:%20".concat(encodeURIComponent(filterOptions.filter))]:[]),_toConsumableArray(filterOptions.showCustomRules?["alert.attributes.tags:%20%22__internal_immutable:false%22"]:[]),_toConsumableArray(filterOptions.showElasticRules?["alert.attributes.tags:%20%22__internal_immutable:true%22"]:[]),_toConsumableArray((_ref3=(_filterOptions$tags=filterOptions.tags)===null||_filterOptions$tags===void 0?void 0:_filterOptions$tags.map((function(t){return"alert.attributes.tags:".concat(encodeURIComponent(t))})))!==null&&_ref3!==void 0?_ref3:[]));queryParams=["page=".concat(pagination.page),"per_page=".concat(pagination.perPage),"sort_field=".concat(filterOptions.sortField),"sort_order=".concat(filterOptions.sortOrder)].concat(_toConsumableArray(filters.length>0?["filter=".concat(filters.join("%20AND%20"))]:[]));_context2.next=5;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_RULES_URL,"/_find?").concat(queryParams.join("&")),{method:"GET",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},signal:signal}));case 5:response=_context2.sent;_context2.next=8;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 8:return _context2.abrupt("return",response.json());case 9:case"end":return _context2.stop()}}}))};exports.fetchRules=fetchRules;var fetchRuleById=function fetchRuleById(_ref4){var id,signal,response,rule;return regeneratorRuntime.async((function fetchRuleById$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:id=_ref4.id,signal=_ref4.signal;_context3.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_RULES_URL,"?id=").concat(id),{method:"GET",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},signal:signal}));case 3:response=_context3.sent;_context3.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:_context3.next=8;return regeneratorRuntime.awrap(response.json());case 8:rule=_context3.sent;return _context3.abrupt("return",rule);case 10:case"end":return _context3.stop()}}}))};exports.fetchRuleById=fetchRuleById;var enableRules=function enableRules(_ref5){var ids,enabled,response;return regeneratorRuntime.async((function enableRules$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:ids=_ref5.ids,enabled=_ref5.enabled;_context4.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_RULES_URL,"/_bulk_update"),{method:"PATCH",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},body:JSON.stringify(ids.map((function(id){return{id:id,enabled:enabled}})))}));case 3:response=_context4.sent;_context4.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:return _context4.abrupt("return",response.json());case 7:case"end":return _context4.stop()}}}))};exports.enableRules=enableRules;var deleteRules=function deleteRules(_ref6){var ids,response;return regeneratorRuntime.async((function deleteRules$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:ids=_ref6.ids;_context5.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_RULES_URL,"/_bulk_delete"),{method:"DELETE",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},body:JSON.stringify(ids.map((function(id){return{id:id}})))}));case 3:response=_context5.sent;_context5.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:return _context5.abrupt("return",response.json());case 7:case"end":return _context5.stop()}}}))};exports.deleteRules=deleteRules;var duplicateRules=function duplicateRules(_ref7){var rules,response;return regeneratorRuntime.async((function duplicateRules$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:rules=_ref7.rules;_context6.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_RULES_URL,"/_bulk_create"),{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},body:JSON.stringify(rules.map((function(rule){return _objectSpread({},rule,{name:"".concat(rule.name," [").concat(i18n.DUPLICATE,"]"),created_at:undefined,created_by:undefined,id:undefined,rule_id:undefined,updated_at:undefined,updated_by:undefined,enabled:rule.enabled,immutable:undefined,last_success_at:undefined,last_success_message:undefined,last_failure_at:undefined,last_failure_message:undefined,status:undefined,status_date:undefined})})))}));case 3:response=_context6.sent;_context6.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:return _context6.abrupt("return",response.json());case 7:case"end":return _context6.stop()}}}))};exports.duplicateRules=duplicateRules;var createPrepackagedRules=function createPrepackagedRules(_ref8){var signal,response;return regeneratorRuntime.async((function createPrepackagedRules$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:signal=_ref8.signal;_context7.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_PREPACKAGED_URL),{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},signal:signal}));case 3:response=_context7.sent;_context7.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:return _context7.abrupt("return",true);case 7:case"end":return _context7.stop()}}}))};exports.createPrepackagedRules=createPrepackagedRules;var importRules=function importRules(_ref9){var fileToImport,_ref9$overwrite,overwrite,signal,formData,response;return regeneratorRuntime.async((function importRules$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:fileToImport=_ref9.fileToImport,_ref9$overwrite=_ref9.overwrite,overwrite=_ref9$overwrite===void 0?false:_ref9$overwrite,signal=_ref9.signal;formData=new FormData;formData.append("file",fileToImport);_context8.next=5;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_RULES_URL,"/_import?overwrite=").concat(overwrite),{method:"POST",credentials:"same-origin",headers:{"kbn-xsrf":"true"},body:formData,signal:signal}));case 5:response=_context8.sent;_context8.next=8;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 8:return _context8.abrupt("return",response.json());case 9:case"end":return _context8.stop()}}}))};exports.importRules=importRules;var exportRules=function exportRules(_ref10){var _ref10$excludeExportD,excludeExportDetails,_ref10$filename,filename,_ref10$ruleIds,ruleIds,signal,body,response;return regeneratorRuntime.async((function exportRules$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_ref10$excludeExportD=_ref10.excludeExportDetails,excludeExportDetails=_ref10$excludeExportD===void 0?false:_ref10$excludeExportD,_ref10$filename=_ref10.filename,filename=_ref10$filename===void 0?"".concat(i18n.EXPORT_FILENAME,".ndjson"):_ref10$filename,_ref10$ruleIds=_ref10.ruleIds,ruleIds=_ref10$ruleIds===void 0?[]:_ref10$ruleIds,signal=_ref10.signal;body=ruleIds.length>0?JSON.stringify({objects:ruleIds.map((function(rule){return{rule_id:rule}}))}):undefined;_context9.next=4;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_RULES_URL,"/_export?exclude_export_details=").concat(excludeExportDetails,"&file_name=").concat(encodeURIComponent(filename)),{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},body:body,signal:signal}));case 4:response=_context9.sent;_context9.next=7;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 7:return _context9.abrupt("return",response.blob());case 8:case"end":return _context9.stop()}}}))};exports.exportRules=exportRules;var getRuleStatusById=function getRuleStatusById(_ref11){var id,signal,response;return regeneratorRuntime.async((function getRuleStatusById$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:id=_ref11.id,signal=_ref11.signal;_context10.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_RULES_STATUS_URL,"?ids=").concat(encodeURIComponent(JSON.stringify([id]))),{method:"GET",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},signal:signal}));case 3:response=_context10.sent;_context10.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:return _context10.abrupt("return",response.json());case 7:case"end":return _context10.stop()}}}))};exports.getRuleStatusById=getRuleStatusById;var fetchTags=function fetchTags(_ref12){var signal,response;return regeneratorRuntime.async((function fetchTags$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:signal=_ref12.signal;_context11.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_TAGS_URL),{method:"GET",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},signal:signal}));case 3:response=_context11.sent;_context11.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:return _context11.abrupt("return",response.json());case 7:case"end":return _context11.stop()}}}))};exports.fetchTags=fetchTags;var getPrePackagedRulesStatus=function getPrePackagedRulesStatus(_ref13){var signal,response;return regeneratorRuntime.async((function getPrePackagedRulesStatus$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:signal=_ref13.signal;_context12.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_PREPACKAGED_RULES_STATUS_URL),{method:"GET",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},signal:signal}));case 3:response=_context12.sent;_context12.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:return _context12.abrupt("return",response.json());case 7:case"end":return _context12.stop()}}}))};exports.getPrePackagedRulesStatus=getPrePackagedRulesStatus},7114:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SERVER=exports.CLIENT=exports.DESTINATION=exports.SOURCE=exports.ASN=exports.LOCATION=exports.SERVER_DOMAIN=exports.CLIENT_DOMAIN=exports.DESTINATION_DOMAIN=exports.SOURCE_DOMAIN=exports.SERVER_IP=exports.CLIENT_IP=exports.DESTINATION_IP=exports.SOURCE_IP=exports.HOST=exports.MAP_TOOL_TIP_FEATURES_FOOTER=exports.MAP_TOOL_TIP_ERROR=exports.FILTER_FOR_VALUE=exports.ERROR_BUTTON=exports.ERROR_TITLE=exports.ERROR_CREATING_EMBEDDABLE=exports.ERROR_CONFIGURING_EMBEDDABLES_API=exports.LINE_LAYER=exports.SERVER_LAYER=exports.CLIENT_LAYER=exports.DESTINATION_LAYER=exports.SOURCE_LAYER=exports.MAP_TITLE=exports.EMBEDDABLE_HEADER_HELP=exports.EMBEDDABLE_HEADER_TITLE=void 0;var _i18n=__webpack_require__(2);var EMBEDDABLE_HEADER_TITLE=_i18n.i18n.translate("xpack.siem.components.embeddables.embeddedMap.embeddableHeaderTitle",{defaultMessage:"Network map"});exports.EMBEDDABLE_HEADER_TITLE=EMBEDDABLE_HEADER_TITLE;var EMBEDDABLE_HEADER_HELP=_i18n.i18n.translate("xpack.siem.components.embeddables.embeddedMap.embeddableHeaderHelp",{defaultMessage:"Map configuration help"});exports.EMBEDDABLE_HEADER_HELP=EMBEDDABLE_HEADER_HELP;var MAP_TITLE=_i18n.i18n.translate("xpack.siem.components.embeddables.embeddedMap.embeddablePanelTitle",{defaultMessage:"Source -> Destination Point-to-Point Map"});exports.MAP_TITLE=MAP_TITLE;var SOURCE_LAYER=_i18n.i18n.translate("xpack.siem.components.embeddables.embeddedMap.sourceLayerLabel",{defaultMessage:"Source Point"});exports.SOURCE_LAYER=SOURCE_LAYER;var DESTINATION_LAYER=_i18n.i18n.translate("xpack.siem.components.embeddables.embeddedMap.destinationLayerLabel",{defaultMessage:"Destination Point"});exports.DESTINATION_LAYER=DESTINATION_LAYER;var CLIENT_LAYER=_i18n.i18n.translate("xpack.siem.components.embeddables.embeddedMap.clientLayerLabel",{defaultMessage:"Client Point"});exports.CLIENT_LAYER=CLIENT_LAYER;var SERVER_LAYER=_i18n.i18n.translate("xpack.siem.components.embeddables.embeddedMap.serverLayerLabel",{defaultMessage:"Server Point"});exports.SERVER_LAYER=SERVER_LAYER;var LINE_LAYER=_i18n.i18n.translate("xpack.siem.components.embeddables.embeddedMap.lineLayerLabel",{defaultMessage:"Line"});exports.LINE_LAYER=LINE_LAYER;var ERROR_CONFIGURING_EMBEDDABLES_API=_i18n.i18n.translate("xpack.siem.components.embeddables.embeddedMap.errorConfiguringEmbeddableApiTitle",{defaultMessage:"Error configuring Embeddables API"});exports.ERROR_CONFIGURING_EMBEDDABLES_API=ERROR_CONFIGURING_EMBEDDABLES_API;var ERROR_CREATING_EMBEDDABLE=_i18n.i18n.translate("xpack.siem.components.embeddables.embeddedMap.errorCreatingMapEmbeddableTitle",{defaultMessage:"Error creating Map Embeddable"});exports.ERROR_CREATING_EMBEDDABLE=ERROR_CREATING_EMBEDDABLE;var ERROR_TITLE=_i18n.i18n.translate("xpack.siem.components.embeddables.indexPatternsMissingPrompt.errorTitle",{defaultMessage:"Required index patterns not configured"});exports.ERROR_TITLE=ERROR_TITLE;var ERROR_BUTTON=_i18n.i18n.translate("xpack.siem.components.embeddables.indexPatternsMissingPrompt.errorButtonLabel",{defaultMessage:"Configure index patterns"});exports.ERROR_BUTTON=ERROR_BUTTON;var FILTER_FOR_VALUE=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.filterForValueHoverAction",{defaultMessage:"Filter for value"});exports.FILTER_FOR_VALUE=FILTER_FOR_VALUE;var MAP_TOOL_TIP_ERROR=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.errorTitle",{defaultMessage:"Error loading map features"});exports.MAP_TOOL_TIP_ERROR=MAP_TOOL_TIP_ERROR;var MAP_TOOL_TIP_FEATURES_FOOTER=function MAP_TOOL_TIP_FEATURES_FOOTER(currentFeature,totalFeatures){return _i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.footerLabel",{values:{currentFeature:currentFeature,totalFeatures:totalFeatures},defaultMessage:"{currentFeature} of {totalFeatures} {totalFeatures, plural, =1 {feature} other {features}}"})};exports.MAP_TOOL_TIP_FEATURES_FOOTER=MAP_TOOL_TIP_FEATURES_FOOTER;var HOST=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.pointContent.hostTitle",{defaultMessage:"Host"});exports.HOST=HOST;var SOURCE_IP=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.pointContent.sourceIPTitle",{defaultMessage:"Source IP"});exports.SOURCE_IP=SOURCE_IP;var DESTINATION_IP=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.pointContent.destinationIPTitle",{defaultMessage:"Destination IP"});exports.DESTINATION_IP=DESTINATION_IP;var CLIENT_IP=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.pointContent.clientIPTitle",{defaultMessage:"Client IP"});exports.CLIENT_IP=CLIENT_IP;var SERVER_IP=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.pointContent.serverIPTitle",{defaultMessage:"Server IP"});exports.SERVER_IP=SERVER_IP;var SOURCE_DOMAIN=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.pointContent.sourceDomainTitle",{defaultMessage:"Source domain"});exports.SOURCE_DOMAIN=SOURCE_DOMAIN;var DESTINATION_DOMAIN=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.pointContent.destinationDomainTitle",{defaultMessage:"Destination domain"});exports.DESTINATION_DOMAIN=DESTINATION_DOMAIN;var CLIENT_DOMAIN=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.pointContent.clientDomainTitle",{defaultMessage:"Client domain"});exports.CLIENT_DOMAIN=CLIENT_DOMAIN;var SERVER_DOMAIN=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.pointContent.serverDomainTitle",{defaultMessage:"Server domain"});exports.SERVER_DOMAIN=SERVER_DOMAIN;var LOCATION=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.pointContent.locationTitle",{defaultMessage:"Location"});exports.LOCATION=LOCATION;var ASN=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.pointContent.asnTitle",{defaultMessage:"ASN"});exports.ASN=ASN;var SOURCE=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.lineContent.sourceLabel",{defaultMessage:"Source"});exports.SOURCE=SOURCE;var DESTINATION=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.lineContent.destinationLabel",{defaultMessage:"Destination"});exports.DESTINATION=DESTINATION;var CLIENT=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.lineContent.clientLabel",{defaultMessage:"Client"});exports.CLIENT=CLIENT;var SERVER=_i18n.i18n.translate("xpack.siem.components.embeddables.mapToolTip.lineContent.serverLabel",{defaultMessage:"Server"});exports.SERVER=SERVER},7127:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.COPY_TO_CLIPBOARD=exports.CANCEL=exports.SEARCH_PLACEHOLDER=exports.PREVIEW_MARKDOWN=exports.NOTES=exports.NOTE=exports.ADDED_A_NOTE=exports.ADD_A_NOTE=exports.ADD_NOTE=void 0;var _i18n=__webpack_require__(2);var ADD_NOTE=_i18n.i18n.translate("xpack.siem.notes.addNoteButtonLabel",{defaultMessage:"Add Note"});exports.ADD_NOTE=ADD_NOTE;var ADD_A_NOTE=_i18n.i18n.translate("xpack.siem.notes.addANotePlaceholder",{defaultMessage:"Add a Note"});exports.ADD_A_NOTE=ADD_A_NOTE;var ADDED_A_NOTE=_i18n.i18n.translate("xpack.siem.notes.addedANoteLabel",{defaultMessage:"Added a Note"});exports.ADDED_A_NOTE=ADDED_A_NOTE;var NOTE=_i18n.i18n.translate("xpack.siem.notes.noteLabel",{defaultMessage:"Note"});exports.NOTE=NOTE;var NOTES=_i18n.i18n.translate("xpack.siem.notes.notesTitle",{defaultMessage:"Notes"});exports.NOTES=NOTES;var PREVIEW_MARKDOWN=_i18n.i18n.translate("xpack.siem.notes.previewMarkdownTitle",{defaultMessage:"Preview (Markdown)"});exports.PREVIEW_MARKDOWN=PREVIEW_MARKDOWN;var SEARCH_PLACEHOLDER=_i18n.i18n.translate("xpack.siem.notes.search.FilterByUserOrNotePlaceholder",{defaultMessage:"Filter by User or Note"});exports.SEARCH_PLACEHOLDER=SEARCH_PLACEHOLDER;var CANCEL=_i18n.i18n.translate("xpack.siem.notes.cancelButtonLabel",{defaultMessage:"Cancel"});exports.CANCEL=CANCEL;var COPY_TO_CLIPBOARD=_i18n.i18n.translate("xpack.siem.notes.copyToClipboardButtonLabel",{defaultMessage:"Copy to Clipboard"});exports.COPY_TO_CLIPBOARD=COPY_TO_CLIPBOARD},7128:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WithHoverActions=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var HoverActionsPanelContainer=_styledComponents.default.div.withConfig({displayName:"HoverActionsPanelContainer",componentId:"sc-1wr19fv-0"})(["color:",";height:100%;position:relative;"],(function(_ref){var theme=_ref.theme;return theme.eui.textColors.default}));HoverActionsPanelContainer.displayName="HoverActionsPanelContainer";var HoverActionsPanel=_react.default.memo((function(_ref2){var children=_ref2.children,show=_ref2.show;return _react.default.createElement(HoverActionsPanelContainer,{"data-test-subj":"hover-actions-panel-container"},show?children:null)}));HoverActionsPanel.displayName="HoverActionsPanel";var WithHoverActionsContainer=_styledComponents.default.div.withConfig({displayName:"WithHoverActionsContainer",componentId:"sc-1wr19fv-1"})(["display:flex;flex-direction:row;height:100%;padding-right:5px;"]);WithHoverActionsContainer.displayName="WithHoverActionsContainer";var WithHoverActions=_react.default.memo((function(_ref3){var _ref3$alwaysShow=_ref3.alwaysShow,alwaysShow=_ref3$alwaysShow===void 0?false:_ref3$alwaysShow,hoverContent=_ref3.hoverContent,render=_ref3.render;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),showHoverContent=_useState2[0],setShowHoverContent=_useState2[1];var onMouseEnter=(0,_react.useCallback)((function(){setShowHoverContent(true)}),[]);var onMouseLeave=(0,_react.useCallback)((function(){setShowHoverContent(false)}),[]);return _react.default.createElement(WithHoverActionsContainer,{onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave},_react.default.createElement(_react.default.Fragment,null,render(showHoverContent)),_react.default.createElement(HoverActionsPanel,{show:showHoverContent||alwaysShow},hoverContent!=null?hoverContent:_react.default.createElement(_react.default.Fragment,null)))}));exports.WithHoverActions=WithHoverActions;WithHoverActions.displayName="WithHoverActions"},7129:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ERROR_FETCHING_EVENTS_DATA=exports.ERROR_FETCHING_AUTHENTICATIONS_DATA=exports.NAVIGATION_ALERTS_TITLE=exports.NAVIGATION_EVENTS_TITLE=exports.NAVIGATION_ANOMALIES_TITLE=exports.NAVIGATION_UNCOMMON_PROCESSES_TITLE=exports.NAVIGATION_AUTHENTICATIONS_TITLE=exports.NAVIGATION_ALL_HOSTS_TITLE=exports.PAGE_TITLE=exports.KQL_PLACEHOLDER=void 0;var _i18n=__webpack_require__(2);var KQL_PLACEHOLDER=_i18n.i18n.translate("xpack.siem.hosts.kqlPlaceholder",{defaultMessage:'e.g. host.name: "foo"'});exports.KQL_PLACEHOLDER=KQL_PLACEHOLDER;var PAGE_TITLE=_i18n.i18n.translate("xpack.siem.hosts.pageTitle",{defaultMessage:"Hosts"});exports.PAGE_TITLE=PAGE_TITLE;var NAVIGATION_ALL_HOSTS_TITLE=_i18n.i18n.translate("xpack.siem.hosts.navigation.allHostsTitle",{defaultMessage:"All hosts"});exports.NAVIGATION_ALL_HOSTS_TITLE=NAVIGATION_ALL_HOSTS_TITLE;var NAVIGATION_AUTHENTICATIONS_TITLE=_i18n.i18n.translate("xpack.siem.hosts.navigation.authenticationsTitle",{defaultMessage:"Authentications"});exports.NAVIGATION_AUTHENTICATIONS_TITLE=NAVIGATION_AUTHENTICATIONS_TITLE;var NAVIGATION_UNCOMMON_PROCESSES_TITLE=_i18n.i18n.translate("xpack.siem.hosts.navigation.uncommonProcessesTitle",{defaultMessage:"Uncommon processes"});exports.NAVIGATION_UNCOMMON_PROCESSES_TITLE=NAVIGATION_UNCOMMON_PROCESSES_TITLE;var NAVIGATION_ANOMALIES_TITLE=_i18n.i18n.translate("xpack.siem.hosts.navigation.anomaliesTitle",{defaultMessage:"Anomalies"});exports.NAVIGATION_ANOMALIES_TITLE=NAVIGATION_ANOMALIES_TITLE;var NAVIGATION_EVENTS_TITLE=_i18n.i18n.translate("xpack.siem.hosts.navigation.eventsTitle",{defaultMessage:"Events"});exports.NAVIGATION_EVENTS_TITLE=NAVIGATION_EVENTS_TITLE;var NAVIGATION_ALERTS_TITLE=_i18n.i18n.translate("xpack.siem.hosts.navigation.alertsTitle",{defaultMessage:"External alerts"});exports.NAVIGATION_ALERTS_TITLE=NAVIGATION_ALERTS_TITLE;var ERROR_FETCHING_AUTHENTICATIONS_DATA=_i18n.i18n.translate("xpack.siem.hosts.navigaton.matrixHistogram.errorFetchingAuthenticationsData",{defaultMessage:"Failed to query authentications data"});exports.ERROR_FETCHING_AUTHENTICATIONS_DATA=ERROR_FETCHING_AUTHENTICATIONS_DATA;var ERROR_FETCHING_EVENTS_DATA=_i18n.i18n.translate("xpack.siem.hosts.navigaton.matrixHistogram.errorFetchingEventsData",{defaultMessage:"Failed to query events data"});exports.ERROR_FETCHING_EVENTS_DATA=ERROR_FETCHING_EVENTS_DATA},7130:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HeaderPage=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireWildcard(__webpack_require__(30));var _draggables=__webpack_require__(7018);var _link_icon=__webpack_require__(7591);var _subtitle=__webpack_require__(7577);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var Header=_styledComponents.default.header.attrs({className:"siemHeaderPage"}).withConfig({displayName:"Header",componentId:"woq8y5-0"})(["",""],(function(_ref){var border=_ref.border,theme=_ref.theme;return(0,_styledComponents.css)(["margin-bottom:",";",""],theme.eui.euiSizeL,border&&(0,_styledComponents.css)(["border-bottom:",";padding-bottom:",";.euiProgress{top:",";}"],theme.eui.euiBorderThin,theme.eui.paddingSizes.l,theme.eui.paddingSizes.l))}));Header.displayName="Header";var FlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"FlexItem",componentId:"woq8y5-1"})(["display:block;"]);FlexItem.displayName="FlexItem";var LinkBack=_styledComponents.default.div.attrs({className:"siemHeaderPage__linkBack"}).withConfig({displayName:"LinkBack",componentId:"woq8y5-2"})(["",""],(function(_ref2){var theme=_ref2.theme;return(0,_styledComponents.css)(["font-size:",";line-height:",";margin-bottom:",";"],theme.eui.euiFontSizeXS,theme.eui.euiLineHeight,theme.eui.euiSizeS)}));LinkBack.displayName="LinkBack";var Badge=(0,_styledComponents.default)(_eui.EuiBadge).withConfig({displayName:"Badge",componentId:"woq8y5-3"})(["letter-spacing:0;"]);Badge.displayName="Badge";var StyledEuiBetaBadge=(0,_styledComponents.default)(_eui.EuiBetaBadge).withConfig({displayName:"StyledEuiBetaBadge",componentId:"woq8y5-4"})(["vertical-align:middle;"]);StyledEuiBetaBadge.displayName="StyledEuiBetaBadge";var HeaderPageComponent=function HeaderPageComponent(_ref3){var backOptions=_ref3.backOptions,badgeOptions=_ref3.badgeOptions,border=_ref3.border,children=_ref3.children,draggableArguments=_ref3.draggableArguments,isLoading=_ref3.isLoading,subtitle=_ref3.subtitle,subtitle2=_ref3.subtitle2,title=_ref3.title,rest=_objectWithoutProperties(_ref3,["backOptions","badgeOptions","border","children","draggableArguments","isLoading","subtitle","subtitle2","title"]);return _react.default.createElement(Header,_extends({border:border},rest),_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react.default.createElement(FlexItem,null,backOptions&&_react.default.createElement(LinkBack,null,_react.default.createElement(_link_icon.LinkIcon,{href:backOptions.href,iconType:"arrowLeft"},backOptions.text)),_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",{"data-test-subj":"header-page-title"},!draggableArguments?title:_react.default.createElement(_draggables.DefaultDraggable,{"data-test-subj":"header-page-draggable",id:"header-page-draggable-".concat(draggableArguments.field,"-").concat(draggableArguments.value),field:draggableArguments.field,value:"".concat(draggableArguments.value)}),badgeOptions&&_react.default.createElement(_react.default.Fragment,null," ",badgeOptions.beta?_react.default.createElement(StyledEuiBetaBadge,{label:badgeOptions.text,tooltipContent:badgeOptions.tooltip,tooltipPosition:"bottom"}):_react.default.createElement(Badge,{color:"hollow"},badgeOptions.text)))),subtitle&&_react.default.createElement(_subtitle.Subtitle,{"data-test-subj":"header-page-subtitle",items:subtitle}),subtitle2&&_react.default.createElement(_subtitle.Subtitle,{"data-test-subj":"header-page-subtitle-2",items:subtitle2}),border&&isLoading&&_react.default.createElement(_eui.EuiProgress,{size:"xs",color:"accent"})),children&&_react.default.createElement(FlexItem,{"data-test-subj":"header-page-supplements",grow:false},children)))};var HeaderPage=_react.default.memo(HeaderPageComponent);exports.HeaderPage=HeaderPage},7131:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TruncatableText=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TruncatableText=_styledComponents.default.span.withConfig({displayName:"TruncatableText",componentId:"sc-1le2zz1-0"})(["&,& *{display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;vertical-align:top;white-space:nowrap;}"]);exports.TruncatableText=TruncatableText;TruncatableText.displayName="TruncatableText"},7132:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EmptyPage=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var EmptyPrompt=(0,_styledComponents.default)(_eui.EuiEmptyPrompt).withConfig({displayName:"EmptyPrompt",componentId:"sc-1xrloaw-0"})(["align-self:center;"]);EmptyPrompt.displayName="EmptyPrompt";var EmptyPage=_react.default.memo((function(_ref){var actionPrimaryIcon=_ref.actionPrimaryIcon,actionPrimaryLabel=_ref.actionPrimaryLabel,actionPrimaryTarget=_ref.actionPrimaryTarget,actionPrimaryUrl=_ref.actionPrimaryUrl,actionSecondaryIcon=_ref.actionSecondaryIcon,actionSecondaryLabel=_ref.actionSecondaryLabel,actionSecondaryTarget=_ref.actionSecondaryTarget,actionSecondaryUrl=_ref.actionSecondaryUrl,message=_ref.message,title=_ref.title,rest=_objectWithoutProperties(_ref,["actionPrimaryIcon","actionPrimaryLabel","actionPrimaryTarget","actionPrimaryUrl","actionSecondaryIcon","actionSecondaryLabel","actionSecondaryTarget","actionSecondaryUrl","message","title"]);return _react.default.createElement(EmptyPrompt,_extends({iconType:"securityAnalyticsApp",title:_react.default.createElement("h2",null,title),body:message&&_react.default.createElement("p",null,message),actions:_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,href:actionPrimaryUrl,iconType:actionPrimaryIcon,target:actionPrimaryTarget},actionPrimaryLabel)),actionSecondaryLabel&&actionSecondaryUrl&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{href:actionSecondaryUrl,iconType:actionSecondaryIcon,target:actionSecondaryTarget},actionSecondaryLabel)))},rest))}));exports.EmptyPage=EmptyPage;EmptyPage.displayName="EmptyPage"},7133:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PreferenceFormattedBytes=exports.PreferenceFormattedBytesComponent=exports.useFormatBytes=exports.formatBytes=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _numeral=_interopRequireDefault(__webpack_require__(148));var _constants=__webpack_require__(977);var _kibana=__webpack_require__(7013);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var formatBytes=function formatBytes(value,format){return(0,_numeral.default)(value).format(format)};exports.formatBytes=formatBytes;var useFormatBytes=function useFormatBytes(){var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_BYTES_FORMAT),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),bytesFormat=_useUiSetting$2[0];return function(value){return formatBytes(value,bytesFormat)}};exports.useFormatBytes=useFormatBytes;var PreferenceFormattedBytesComponent=function PreferenceFormattedBytesComponent(_ref){var value=_ref.value;return _react.default.createElement(_react.default.Fragment,null,useFormatBytes()(value))};exports.PreferenceFormattedBytesComponent=PreferenceFormattedBytesComponent;PreferenceFormattedBytesComponent.displayName="PreferenceFormattedBytesComponent";var PreferenceFormattedBytes=_react.default.memo(PreferenceFormattedBytesComponent);exports.PreferenceFormattedBytes=PreferenceFormattedBytes;PreferenceFormattedBytes.displayName="PreferenceFormattedBytes"},7134:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkRouteType=void 0;var NetworkRouteType;exports.NetworkRouteType=NetworkRouteType;(function(NetworkRouteType){NetworkRouteType["flows"]="flows";NetworkRouteType["dns"]="dns";NetworkRouteType["anomalies"]="anomalies";NetworkRouteType["tls"]="tls";NetworkRouteType["http"]="http";NetworkRouteType["alerts"]="alerts"})(NetworkRouteType||(exports.NetworkRouteType=NetworkRouteType={}))},7135:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getEventType=exports.getEventIdToDataMapping=exports.getPinOnClick=exports.eventIsPinned=exports.getPinTooltip=exports.eventHasNotes=exports.stringifyEvent=exports.omitTypenameAndEmpty=void 0;var _fp=__webpack_require__(223);var i18n=_interopRequireWildcard(__webpack_require__(7332));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var omitTypenameAndEmpty=function omitTypenameAndEmpty(k,v){return k!=="__typename"&&v!=null?v:undefined};exports.omitTypenameAndEmpty=omitTypenameAndEmpty;var stringifyEvent=function stringifyEvent(ecs){return JSON.stringify(ecs,omitTypenameAndEmpty,2)};exports.stringifyEvent=stringifyEvent;var eventHasNotes=function eventHasNotes(noteIds){return!(0,_fp.isEmpty)(noteIds)};exports.eventHasNotes=eventHasNotes;var getPinTooltip=function getPinTooltip(_ref){var isPinned=_ref.isPinned,eventHasNotes=_ref.eventHasNotes;return isPinned&&eventHasNotes?i18n.PINNED_WITH_NOTES:isPinned?i18n.PINNED:i18n.UNPINNED};exports.getPinTooltip=getPinTooltip;var eventIsPinned=function eventIsPinned(_ref2){var eventId=_ref2.eventId,pinnedEventIds=_ref2.pinnedEventIds;return pinnedEventIds[eventId]===true};exports.eventIsPinned=eventIsPinned;var getPinOnClick=function getPinOnClick(_ref3){var allowUnpinning=_ref3.allowUnpinning,eventId=_ref3.eventId,onPinEvent=_ref3.onPinEvent,onUnPinEvent=_ref3.onUnPinEvent,isEventPinned=_ref3.isEventPinned;if(!allowUnpinning){return _fp.noop}return isEventPinned?function(){return onUnPinEvent(eventId)}:function(){return onPinEvent(eventId)}};exports.getPinOnClick=getPinOnClick;var getEventIdToDataMapping=function getEventIdToDataMapping(timelineData,eventIds,fieldsToKeep){return timelineData.reduce((function(acc,v){var fvm=eventIds.includes(v._id)?_defineProperty({},v._id,v.data.filter((function(ti){return fieldsToKeep.includes(ti.field)}))):{};return _objectSpread({},acc,{},fvm)}),{})};exports.getEventIdToDataMapping=getEventIdToDataMapping;var getEventType=function getEventType(event){var _event$signal,_event$signal$rule;if(!(0,_fp.isEmpty)((_event$signal=event.signal)===null||_event$signal===void 0?void 0:(_event$signal$rule=_event$signal.rule)===null||_event$signal$rule===void 0?void 0:_event$signal$rule.id)){return"signal"}return"raw"};exports.getEventType=getEventType},7136:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExternalLinkIcon=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LinkIcon=(0,_styledComponents.default)(_eui.EuiIcon).withConfig({displayName:"LinkIcon",componentId:"o3wd7q-0"})(["position:relative;top:-2px;"]);LinkIcon.displayName="LinkIcon";var LinkIconWithMargin=(0,_styledComponents.default)(LinkIcon).withConfig({displayName:"LinkIconWithMargin",componentId:"o3wd7q-1"})(["margin-left:5px;"]);LinkIconWithMargin.displayName="LinkIconWithMargin";var color="subdued";var iconSize="s";var iconType="popout";var ExternalLinkIcon=_react.default.memo((function(_ref){var _ref$leftMargin=_ref.leftMargin,leftMargin=_ref$leftMargin===void 0?true:_ref$leftMargin;return leftMargin?_react.default.createElement(LinkIconWithMargin,{color:color,"data-test-subj":"external-link-icon",size:iconSize,type:iconType}):_react.default.createElement(LinkIcon,{color:color,"data-test-subj":"external-link-icon",size:iconSize,type:iconType})}));exports.ExternalLinkIcon=ExternalLinkIcon;ExternalLinkIcon.displayName="ExternalLinkIcon"},7137:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProcessDraggableWithNonExistentProcess=exports.ProcessDraggable=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _helpers=__webpack_require__(7022);var i18n=_interopRequireWildcard(__webpack_require__(7158));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ProcessDraggable=_react.default.memo((function(_ref){var contextId=_ref.contextId,endgamePid=_ref.endgamePid,endgameProcessName=_ref.endgameProcessName,eventId=_ref.eventId,processExecutable=_ref.processExecutable,processName=_ref.processName,processPid=_ref.processPid;if((0,_helpers.isNillEmptyOrNotFinite)(processName)&&(0,_helpers.isNillEmptyOrNotFinite)(processExecutable)&&(0,_helpers.isNillEmptyOrNotFinite)(endgameProcessName)&&(0,_helpers.isNillEmptyOrNotFinite)(processPid)&&(0,_helpers.isNillEmptyOrNotFinite)(endgamePid)){return null}return _react.default.createElement("div",null,!(0,_helpers.isNillEmptyOrNotFinite)(processName)?_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"process.name",value:processName,iconType:"console"}):!(0,_helpers.isNillEmptyOrNotFinite)(processExecutable)?_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"process.executable",value:processExecutable,iconType:"console"}):!(0,_helpers.isNillEmptyOrNotFinite)(endgameProcessName)?_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"endgame.process_name",value:endgameProcessName,iconType:"console"}):null,!(0,_helpers.isNillEmptyOrNotFinite)(processPid)?_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"process.pid",queryValue:String(processPid),value:"(".concat(String(processPid),")")}):!(0,_helpers.isNillEmptyOrNotFinite)(endgamePid)?_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"endgame.pid",queryValue:String(endgamePid),value:"(".concat(String(endgamePid),")")}):null)}));exports.ProcessDraggable=ProcessDraggable;ProcessDraggable.displayName="ProcessDraggable";var ProcessDraggableWithNonExistentProcess=_react.default.memo((function(_ref2){var contextId=_ref2.contextId,endgamePid=_ref2.endgamePid,endgameProcessName=_ref2.endgameProcessName,eventId=_ref2.eventId,processExecutable=_ref2.processExecutable,processName=_ref2.processName,processPid=_ref2.processPid;if(endgamePid==null&&endgameProcessName==null&&processExecutable==null&&processName==null&&processPid==null){return _react.default.createElement(_react.default.Fragment,null,i18n.NON_EXISTENT)}else{return _react.default.createElement(ProcessDraggable,{contextId:contextId,endgamePid:endgamePid,endgameProcessName:endgameProcessName,eventId:eventId,processExecutable:processExecutable,processName:processName,processPid:processPid})}}));exports.ProcessDraggableWithNonExistentProcess=ProcessDraggableWithNonExistentProcess;ProcessDraggableWithNonExistentProcess.displayName="ProcessDraggableWithNonExistentProcess"},7138:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useUserInfo=exports.ManageUserInfo=exports.userInfoReducer=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _use_privilege_user=__webpack_require__(8889);var _use_signal_index=__webpack_require__(7328);var _kibana=__webpack_require__(7013);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var initialState={canUserCRUD:null,hasIndexManage:null,hasIndexWrite:null,hasManageApiKey:null,isSignalIndexExists:null,isAuthenticated:null,hasEncryptionKey:null,loading:true,signalIndexName:null};var userInfoReducer=function userInfoReducer(state,action){switch(action.type){case"updateLoading":{return _objectSpread({},state,{loading:action.loading})}case"updateHasIndexManage":{return _objectSpread({},state,{hasIndexManage:action.hasIndexManage})}case"updateHasIndexWrite":{return _objectSpread({},state,{hasIndexWrite:action.hasIndexWrite})}case"updateHasManageApiKey":{return _objectSpread({},state,{hasManageApiKey:action.hasManageApiKey})}case"updateIsSignalIndexExists":{return _objectSpread({},state,{isSignalIndexExists:action.isSignalIndexExists})}case"updateIsAuthenticated":{return _objectSpread({},state,{isAuthenticated:action.isAuthenticated})}case"updateHasEncryptionKey":{return _objectSpread({},state,{hasEncryptionKey:action.hasEncryptionKey})}case"updateCanUserCRUD":{return _objectSpread({},state,{canUserCRUD:action.canUserCRUD})}case"updateSignalIndexName":{return _objectSpread({},state,{signalIndexName:action.signalIndexName})}default:return state}};exports.userInfoReducer=userInfoReducer;var StateUserInfoContext=(0,_react.createContext)([initialState,function(){return _fp.noop}]);var useUserData=function useUserData(){return(0,_react.useContext)(StateUserInfoContext)};var ManageUserInfo=function ManageUserInfo(_ref){var children=_ref.children;return _react.default.createElement(StateUserInfoContext.Provider,{value:(0,_react.useReducer)(userInfoReducer,initialState)},children)};exports.ManageUserInfo=ManageUserInfo;var useUserInfo=function useUserInfo(){var _useUserData=useUserData(),_useUserData2=_slicedToArray(_useUserData,2),_useUserData2$=_useUserData2[0],canUserCRUD=_useUserData2$.canUserCRUD,hasIndexManage=_useUserData2$.hasIndexManage,hasIndexWrite=_useUserData2$.hasIndexWrite,hasManageApiKey=_useUserData2$.hasManageApiKey,isSignalIndexExists=_useUserData2$.isSignalIndexExists,isAuthenticated=_useUserData2$.isAuthenticated,hasEncryptionKey=_useUserData2$.hasEncryptionKey,loading=_useUserData2$.loading,signalIndexName=_useUserData2$.signalIndexName,dispatch=_useUserData2[1];var _usePrivilegeUser=(0,_use_privilege_user.usePrivilegeUser)(),privilegeLoading=_usePrivilegeUser.loading,isApiAuthenticated=_usePrivilegeUser.isAuthenticated,isApiEncryptionKey=_usePrivilegeUser.hasEncryptionKey,hasApiIndexManage=_usePrivilegeUser.hasIndexManage,hasApiIndexWrite=_usePrivilegeUser.hasIndexWrite,hasApiManageApiKey=_usePrivilegeUser.hasManageApiKey;var _useSignalIndex=(0,_use_signal_index.useSignalIndex)(),indexNameLoading=_useSignalIndex.loading,isApiSignalIndexExists=_useSignalIndex.signalIndexExists,apiSignalIndexName=_useSignalIndex.signalIndexName,createSignalIndex=_useSignalIndex.createDeSignalIndex;var uiCapabilities=(0,_kibana.useKibana)().services.application.capabilities;var capabilitiesCanUserCRUD=typeof uiCapabilities.siem.crud==="boolean"?uiCapabilities.siem.crud:false;(0,_react.useEffect)((function(){if(loading!==privilegeLoading||indexNameLoading){dispatch({type:"updateLoading",loading:privilegeLoading||indexNameLoading})}}),[loading,privilegeLoading,indexNameLoading]);(0,_react.useEffect)((function(){if(!loading&&hasIndexManage!==hasApiIndexManage&&hasApiIndexManage!=null){dispatch({type:"updateHasIndexManage",hasIndexManage:hasApiIndexManage})}}),[loading,hasIndexManage,hasApiIndexManage]);(0,_react.useEffect)((function(){if(!loading&&hasIndexWrite!==hasApiIndexWrite&&hasApiIndexWrite!=null){dispatch({type:"updateHasIndexWrite",hasIndexWrite:hasApiIndexWrite})}}),[loading,hasIndexWrite,hasApiIndexWrite]);(0,_react.useEffect)((function(){if(!loading&&hasManageApiKey!==hasApiManageApiKey&&hasApiManageApiKey!=null){dispatch({type:"updateHasManageApiKey",hasManageApiKey:hasApiManageApiKey})}}),[loading,hasManageApiKey,hasApiManageApiKey]);(0,_react.useEffect)((function(){if(!loading&&isSignalIndexExists!==isApiSignalIndexExists&&isApiSignalIndexExists!=null){dispatch({type:"updateIsSignalIndexExists",isSignalIndexExists:isApiSignalIndexExists})}}),[loading,isSignalIndexExists,isApiSignalIndexExists]);(0,_react.useEffect)((function(){if(!loading&&isAuthenticated!==isApiAuthenticated&&isApiAuthenticated!=null){dispatch({type:"updateIsAuthenticated",isAuthenticated:isApiAuthenticated})}}),[loading,isAuthenticated,isApiAuthenticated]);(0,_react.useEffect)((function(){if(!loading&&hasEncryptionKey!==isApiEncryptionKey&&isApiEncryptionKey!=null){dispatch({type:"updateHasEncryptionKey",hasEncryptionKey:isApiEncryptionKey})}}),[loading,hasEncryptionKey,isApiEncryptionKey]);(0,_react.useEffect)((function(){if(!loading&&canUserCRUD!==capabilitiesCanUserCRUD&&capabilitiesCanUserCRUD!=null){dispatch({type:"updateCanUserCRUD",canUserCRUD:capabilitiesCanUserCRUD})}}),[loading,canUserCRUD,capabilitiesCanUserCRUD]);(0,_react.useEffect)((function(){if(!loading&&signalIndexName!==apiSignalIndexName&&apiSignalIndexName!=null){dispatch({type:"updateSignalIndexName",signalIndexName:apiSignalIndexName})}}),[loading,signalIndexName,apiSignalIndexName]);(0,_react.useEffect)((function(){if(isAuthenticated&&hasEncryptionKey&&hasIndexManage&&isSignalIndexExists!=null&&!isSignalIndexExists&&createSignalIndex!=null){createSignalIndex()}}),[createSignalIndex,isAuthenticated,hasEncryptionKey,isSignalIndexExists,hasIndexManage]);return{loading:loading,isSignalIndexExists:isSignalIndexExists,isAuthenticated:isAuthenticated,hasEncryptionKey:hasEncryptionKey,canUserCRUD:canUserCRUD,hasIndexManage:hasIndexManage,hasIndexWrite:hasIndexWrite,hasManageApiKey:hasManageApiKey,signalIndexName:signalIndexName}};exports.useUserInfo=useUserInfo},7144:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.AutoSizer=void 0;var _isEqual=_interopRequireDefault(__webpack_require__(7509));var _react=_interopRequireDefault(__webpack_require__(0));var _resizeObserverPolyfill=_interopRequireDefault(__webpack_require__(762));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AutoSizer=function(_React$PureComponent){_inherits(AutoSizer,_React$PureComponent);function AutoSizer(props){var _this;_classCallCheck(this,AutoSizer);_this=_possibleConstructorReturn(this,_getPrototypeOf(AutoSizer).call(this,props));_defineProperty(_assertThisInitialized(_this),"element",null);_defineProperty(_assertThisInitialized(_this),"resizeObserver",null);_defineProperty(_assertThisInitialized(_this),"windowWidth",-1);_defineProperty(_assertThisInitialized(_this),"state",{boundsMeasurement:{height:void 0,width:void 0},contentMeasurement:{height:void 0,width:void 0},windowMeasurement:{height:void 0,width:void 0}});_defineProperty(_assertThisInitialized(_this),"measure",(function(entry){if(!_this.element){return}var _this$props=_this.props,_this$props$content=_this$props.content,content=_this$props$content===void 0?true:_this$props$content,_this$props$bounds=_this$props.bounds,bounds=_this$props$bounds===void 0?false:_this$props$bounds;var _this$state=_this.state,previousBoundsMeasurement=_this$state.boundsMeasurement,previousContentMeasurement=_this$state.contentMeasurement,previousWindowMeasurement=_this$state.windowMeasurement;var boundsRect=bounds?_this.element.getBoundingClientRect():null;var boundsMeasurement=boundsRect?{height:_this.element.getBoundingClientRect().height,width:_this.element.getBoundingClientRect().width}:previousBoundsMeasurement;var windowMeasurement={width:window.innerWidth,height:window.innerHeight};if(_this.props.detectAnyWindowResize&&boundsMeasurement&&boundsMeasurement.width&&_this.windowWidth!==-1&&_this.windowWidth>window.innerWidth){var gap=_this.windowWidth-window.innerWidth;boundsMeasurement.width=boundsMeasurement.width-gap}_this.windowWidth=window.innerWidth;var contentRect=content&&entry?entry.contentRect:null;var contentMeasurement=contentRect&&entry?{height:entry.contentRect.height,width:entry.contentRect.width}:previousContentMeasurement;if((0,_isEqual.default)(boundsMeasurement,previousBoundsMeasurement)&&(0,_isEqual.default)(contentMeasurement,previousContentMeasurement)&&(0,_isEqual.default)(windowMeasurement,previousWindowMeasurement)){return}requestAnimationFrame((function(){if(!_this.resizeObserver){return}_this.setState({boundsMeasurement:boundsMeasurement,contentMeasurement:contentMeasurement,windowMeasurement:windowMeasurement});if(_this.props.onResize){_this.props.onResize({bounds:boundsMeasurement,content:contentMeasurement,windowMeasurement:windowMeasurement})}}))}));_defineProperty(_assertThisInitialized(_this),"updateMeasurement",(function(){window.setTimeout((function(){_this.measure(null)}),0)}));_defineProperty(_assertThisInitialized(_this),"storeRef",(function(element){if(_this.element&&_this.resizeObserver){_this.resizeObserver.unobserve(_this.element)}if(element&&_this.resizeObserver){_this.resizeObserver.observe(element)}_this.element=element}));if(_this.props.detectAnyWindowResize){window.addEventListener("resize",_this.updateMeasurement)}_this.resizeObserver=new _resizeObserverPolyfill.default((function(entries){entries.forEach((function(entry){if(entry.target===_this.element){_this.measure(entry)}}))}));return _this}_createClass(AutoSizer,[{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.resizeObserver){this.resizeObserver.disconnect();this.resizeObserver=null}if(this.props.detectAnyWindowResize){window.removeEventListener("resize",this.updateMeasurement)}}},{key:"render",value:function render(){var children=this.props.children;var _this$state2=this.state,boundsMeasurement=_this$state2.boundsMeasurement,contentMeasurement=_this$state2.contentMeasurement,windowMeasurement=_this$state2.windowMeasurement;return children({bounds:boundsMeasurement,content:contentMeasurement,windowMeasurement:windowMeasurement,measureRef:this.storeRef})}}]);return AutoSizer}(_react.default.PureComponent);exports.AutoSizer=AutoSizer},7148:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RedirectWrapper=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _scroll_to_top=__webpack_require__(8676);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RedirectWrapper=function RedirectWrapper(_ref){var to=_ref.to;(0,_scroll_to_top.useScrollToTop)();return _react.default.createElement(_reactRouterDom.Redirect,{to:to})};exports.RedirectWrapper=RedirectWrapper},7149:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SiemNavigation=exports.SiemNavigationRedux=exports.SiemNavigationComponent=void 0;var _isEqual=_interopRequireDefault(__webpack_require__(7509));var _fastDeepEqual=_interopRequireDefault(__webpack_require__(1005));var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _use_route_spy=__webpack_require__(7318);var _helpers=__webpack_require__(7150);var _breadcrumbs=__webpack_require__(8696);var _tab_navigation=__webpack_require__(8752);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var SiemNavigationComponent=function SiemNavigationComponent(_ref){var detailName=_ref.detailName,display=_ref.display,navTabs=_ref.navTabs,pageName=_ref.pageName,pathName=_ref.pathName,search=_ref.search,tabName=_ref.tabName,urlState=_ref.urlState,flowTarget=_ref.flowTarget,state=_ref.state;(0,_react.useEffect)((function(){if(pathName){(0,_breadcrumbs.setBreadcrumbs)({query:urlState.query,detailName:detailName,filters:urlState.filters,navTabs:navTabs,pageName:pageName,pathName:pathName,savedQuery:urlState.savedQuery,search:search,tabName:tabName,flowTarget:flowTarget,timerange:urlState.timerange,timeline:urlState.timeline,state:state})}}),[pathName,search,navTabs,urlState,state]);return _react.default.createElement(_tab_navigation.TabNavigation,{query:urlState.query,display:display,filters:urlState.filters,navTabs:navTabs,pageName:pageName,pathName:pathName,savedQuery:urlState.savedQuery,tabName:tabName,timeline:urlState.timeline,timerange:urlState.timerange})};exports.SiemNavigationComponent=SiemNavigationComponent;var SiemNavigationRedux=(0,_redux.compose)((0,_reactRedux.connect)(_helpers.makeMapStateToProps))(_react.default.memo(SiemNavigationComponent,(function(prevProps,nextProps){return prevProps.pathName===nextProps.pathName&&prevProps.search===nextProps.search&&(0,_isEqual.default)(prevProps.navTabs,nextProps.navTabs)&&(0,_isEqual.default)(prevProps.urlState,nextProps.urlState)&&(0,_fastDeepEqual.default)(prevProps.state,nextProps.state)})));exports.SiemNavigationRedux=SiemNavigationRedux;var SiemNavigationContainer=function SiemNavigationContainer(props){var _useRouteSpy=(0,_use_route_spy.useRouteSpy)(),_useRouteSpy2=_slicedToArray(_useRouteSpy,1),routeProps=_useRouteSpy2[0];var stateNavReduxProps=_objectSpread({},routeProps,{},props);return _react.default.createElement(SiemNavigationRedux,stateNavReduxProps)};var SiemNavigation=SiemNavigationContainer;exports.SiemNavigation=SiemNavigation},7150:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceStateInLocation=exports.updateUrlStateString=exports.updateTimerangeUrl=exports.makeMapStateToProps=exports.getCurrentLocation=exports.getTitle=exports.getUrlType=exports.replaceQueryStringInLocation=exports.replaceStateKeyInQueryString=exports.getParamFromQueryString=exports.getQueryStringFromLocation=exports.encodeRisonUrlState=exports.decodeRisonUrlState=void 0;var _fp=__webpack_require__(223);var _risonNode=__webpack_require__(163);var _query_string=__webpack_require__(332);var _types=__webpack_require__(7030);var _store=__webpack_require__(7016);var _super_date_picker=__webpack_require__(7200);var _constants=__webpack_require__(1914);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var decodeRisonUrlState=function decodeRisonUrlState(value){try{return value?(0,_risonNode.decode)(value):null}catch(error){if(error instanceof Error&&error.message.startsWith("rison decoder error")){return null}throw error}};exports.decodeRisonUrlState=decodeRisonUrlState;var encodeRisonUrlState=function encodeRisonUrlState(state){return(0,_risonNode.encode)(state)};exports.encodeRisonUrlState=encodeRisonUrlState;var getQueryStringFromLocation=function getQueryStringFromLocation(search){return search.substring(1)};exports.getQueryStringFromLocation=getQueryStringFromLocation;var getParamFromQueryString=function getParamFromQueryString(queryString,key){var queryParam=_query_string.QueryString.decode(queryString)[key];return Array.isArray(queryParam)?queryParam[0]:queryParam};exports.getParamFromQueryString=getParamFromQueryString;var replaceStateKeyInQueryString=function replaceStateKeyInQueryString(stateKey,urlState){return function(queryString){var previousQueryValues=_query_string.QueryString.decode(queryString);if(urlState==null||typeof urlState==="string"&&urlState===""){delete previousQueryValues[stateKey];return _query_string.QueryString.encode(_objectSpread({},previousQueryValues))}var encodedUrlState=typeof urlState!=="undefined"?encodeRisonUrlState(urlState):undefined;return _query_string.QueryString.encode(_objectSpread({},previousQueryValues,_defineProperty({},stateKey,encodedUrlState)))}};exports.replaceStateKeyInQueryString=replaceStateKeyInQueryString;var replaceQueryStringInLocation=function replaceQueryStringInLocation(location,queryString){if(queryString===getQueryStringFromLocation(location.search)){return location}else{return _objectSpread({},location,{search:"?".concat(queryString)})}};exports.replaceQueryStringInLocation=replaceQueryStringInLocation;var getUrlType=function getUrlType(pageName){if(pageName===_types.SiemPageName.overview){return"overview"}else if(pageName===_types.SiemPageName.hosts){return"host"}else if(pageName===_types.SiemPageName.network){return"network"}else if(pageName===_types.SiemPageName.detections){return"detections"}else if(pageName===_types.SiemPageName.timelines){return"timeline"}return"overview"};exports.getUrlType=getUrlType;var getTitle=function getTitle(pageName,detailName,navTabs){if(detailName!=null)return detailName;return navTabs[pageName]!=null?navTabs[pageName].name:""};exports.getTitle=getTitle;var getCurrentLocation=function getCurrentLocation(pageName,detailName){if(pageName===_types.SiemPageName.overview){return _constants.CONSTANTS.overviewPage}else if(pageName===_types.SiemPageName.hosts){if(detailName!=null){return _constants.CONSTANTS.hostsDetails}return _constants.CONSTANTS.hostsPage}else if(pageName===_types.SiemPageName.network){if(detailName!=null){return _constants.CONSTANTS.networkDetails}return _constants.CONSTANTS.networkPage}else if(pageName===_types.SiemPageName.detections){return _constants.CONSTANTS.detectionsPage}else if(pageName===_types.SiemPageName.timelines){return _constants.CONSTANTS.timelinePage}return _constants.CONSTANTS.unknown};exports.getCurrentLocation=getCurrentLocation;var makeMapStateToProps=function makeMapStateToProps(){var getInputsSelector=_store.inputsSelectors.inputsSelector();var getGlobalQuerySelector=_store.inputsSelectors.globalQuerySelector();var getGlobalFiltersQuerySelector=_store.inputsSelectors.globalFiltersQuerySelector();var getGlobalSavedQuerySelector=_store.inputsSelectors.globalSavedQuerySelector();var getTimelines=_store.timelineSelectors.getTimelines();var mapStateToProps=function mapStateToProps(state,_ref){var _searchAttr,_global,_timeline,_objectSpread3;var pageName=_ref.pageName,detailName=_ref.detailName;var inputState=getInputsSelector(state);var _inputState$global=inputState.global,globalLinkTo=_inputState$global.linkTo,globalTimerange=_inputState$global.timerange;var _inputState$timeline=inputState.timeline,timelineLinkTo=_inputState$timeline.linkTo,timelineTimerange=_inputState$timeline.timerange;var timeline=Object.entries(getTimelines(state)).reduce((function(obj,_ref2){var _ref3=_slicedToArray(_ref2,2),timelineId=_ref3[0],timelineObj=_ref3[1];return{id:timelineObj.savedObjectId!=null?timelineObj.savedObjectId:"",isOpen:timelineObj.show}}),{id:"",isOpen:false});var searchAttr=(_searchAttr={},_defineProperty(_searchAttr,_constants.CONSTANTS.appQuery,getGlobalQuerySelector(state)),_defineProperty(_searchAttr,_constants.CONSTANTS.filters,getGlobalFiltersQuerySelector(state)),_searchAttr);var savedQuery=getGlobalSavedQuerySelector(state);if(savedQuery!=null&&savedQuery.id!==""){searchAttr=_defineProperty({},_constants.CONSTANTS.savedQuery,savedQuery.id)}return{urlState:_objectSpread({},searchAttr,(_objectSpread3={},_defineProperty(_objectSpread3,_constants.CONSTANTS.timerange,{global:(_global={},_defineProperty(_global,_constants.CONSTANTS.timerange,globalTimerange),_defineProperty(_global,"linkTo",globalLinkTo),_global),timeline:(_timeline={},_defineProperty(_timeline,_constants.CONSTANTS.timerange,timelineTimerange),_defineProperty(_timeline,"linkTo",timelineLinkTo),_timeline)}),_defineProperty(_objectSpread3,_constants.CONSTANTS.timeline,timeline),_objectSpread3))}};return mapStateToProps};exports.makeMapStateToProps=makeMapStateToProps;var updateTimerangeUrl=function updateTimerangeUrl(timeRange,isInitializing){if(timeRange.global.timerange.kind==="relative"){timeRange.global.timerange.from=(0,_super_date_picker.formatDate)(timeRange.global.timerange.fromStr);timeRange.global.timerange.to=(0,_super_date_picker.formatDate)(timeRange.global.timerange.toStr,{roundUp:true})}if(timeRange.timeline.timerange.kind==="relative"&&isInitializing){timeRange.timeline.timerange.from=(0,_super_date_picker.formatDate)(timeRange.timeline.timerange.fromStr);timeRange.timeline.timerange.to=(0,_super_date_picker.formatDate)(timeRange.timeline.timerange.toStr,{roundUp:true})}return timeRange};exports.updateTimerangeUrl=updateTimerangeUrl;var updateUrlStateString=function updateUrlStateString(_ref4){var isInitializing=_ref4.isInitializing,history=_ref4.history,newUrlStateString=_ref4.newUrlStateString,pathName=_ref4.pathName,search=_ref4.search,updateTimerange=_ref4.updateTimerange,urlKey=_ref4.urlKey;if(urlKey===_constants.CONSTANTS.appQuery){var queryState=decodeRisonUrlState(newUrlStateString);if(queryState!=null&&queryState.query===""){return replaceStateInLocation({history:history,pathName:pathName,search:search,urlStateToReplace:"",urlStateKey:urlKey})}}else if(urlKey===_constants.CONSTANTS.timerange&&updateTimerange){var _queryState=decodeRisonUrlState(newUrlStateString);if(_queryState!=null&&_queryState.global!=null){return replaceStateInLocation({history:history,pathName:pathName,search:search,urlStateToReplace:updateTimerangeUrl(_queryState,isInitializing),urlStateKey:urlKey})}}else if(urlKey===_constants.CONSTANTS.filters){var _queryState2=decodeRisonUrlState(newUrlStateString);if((0,_fp.isEmpty)(_queryState2)){return replaceStateInLocation({history:history,pathName:pathName,search:search,urlStateToReplace:"",urlStateKey:urlKey})}}else if(urlKey===_constants.CONSTANTS.timeline){var _queryState3=decodeRisonUrlState(newUrlStateString);if(_queryState3!=null&&_queryState3.id===""){return replaceStateInLocation({history:history,pathName:pathName,search:search,urlStateToReplace:"",urlStateKey:urlKey})}}return search};exports.updateUrlStateString=updateUrlStateString;var replaceStateInLocation=function replaceStateInLocation(_ref5){var history=_ref5.history,urlStateToReplace=_ref5.urlStateToReplace,urlStateKey=_ref5.urlStateKey,pathName=_ref5.pathName,search=_ref5.search;var newLocation=replaceQueryStringInLocation({hash:"",pathname:pathName,search:search,state:""},replaceStateKeyInQueryString(urlStateKey,urlStateToReplace)(getQueryStringFromLocation(search)));if(history){history.replace(newLocation)}return newLocation.search};exports.replaceStateInLocation=replaceStateInLocation},7151:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VALUE_ARIA_LABEL=exports.VALUE=exports.TEMPORARILY_DISABLE_DATA_PROVIDER=exports.SHOW_OPTIONS_DATA_PROVIDER=exports.REMOVE_DATA_PROVIDER=exports.RE_ENABLE_DATA_PROVIDER=exports.TOGGLE=exports.QUERY=exports.OR=exports.NOT=exports.INCLUDE_DATA_PROVIDER=exports.TO_BUILD_AN=exports.HERE_TO_BUILD_AN=exports.HIGHLIGHTED=exports.FILTER_FOR_FIELD_PRESENT=exports.EXISTS_LABEL=exports.EXCLUDE_DATA_PROVIDER=exports.EDIT_TITLE=exports.EDIT_MENU_ITEM=exports.DROP_ANYTHING=exports.DROP_HERE=exports.DROP_HERE_TO_ADD_AN=exports.DELETE_DATA_PROVIDER=exports.AND=void 0;var _i18n=__webpack_require__(2);var AND=_i18n.i18n.translate("xpack.siem.dataProviders.and",{defaultMessage:"AND"});exports.AND=AND;var DELETE_DATA_PROVIDER=_i18n.i18n.translate("xpack.siem.dataProviders.deleteDataProvider",{defaultMessage:"Delete"});exports.DELETE_DATA_PROVIDER=DELETE_DATA_PROVIDER;var DROP_HERE_TO_ADD_AN=_i18n.i18n.translate("xpack.siem.dataProviders.dropHereToAddAnLabel",{defaultMessage:"Drop here to add an"});exports.DROP_HERE_TO_ADD_AN=DROP_HERE_TO_ADD_AN;var DROP_HERE=_i18n.i18n.translate("xpack.siem.dataProviders.dropHere",{defaultMessage:"Drop here"});exports.DROP_HERE=DROP_HERE;var DROP_ANYTHING=_i18n.i18n.translate("xpack.siem.dataProviders.dropAnything",{defaultMessage:"Drop anything"});exports.DROP_ANYTHING=DROP_ANYTHING;var EDIT_MENU_ITEM=_i18n.i18n.translate("xpack.siem.dataProviders.editMenuItem",{defaultMessage:"Edit filter"});exports.EDIT_MENU_ITEM=EDIT_MENU_ITEM;var EDIT_TITLE=_i18n.i18n.translate("xpack.siem.dataProviders.editTitle",{defaultMessage:"EDIT FILTER"});exports.EDIT_TITLE=EDIT_TITLE;var EXCLUDE_DATA_PROVIDER=_i18n.i18n.translate("xpack.siem.dataProviders.excludeDataProvider",{defaultMessage:"Exclude results"});exports.EXCLUDE_DATA_PROVIDER=EXCLUDE_DATA_PROVIDER;var EXISTS_LABEL=_i18n.i18n.translate("xpack.siem.dataProviders.existsLabel",{defaultMessage:"exists"});exports.EXISTS_LABEL=EXISTS_LABEL;var FILTER_FOR_FIELD_PRESENT=_i18n.i18n.translate("xpack.siem.dataProviders.filterForFieldPresentLabel",{defaultMessage:"Filter for field present"});exports.FILTER_FOR_FIELD_PRESENT=FILTER_FOR_FIELD_PRESENT;var HIGHLIGHTED=_i18n.i18n.translate("xpack.siem.dataProviders.highlighted",{defaultMessage:"highlighted"});exports.HIGHLIGHTED=HIGHLIGHTED;var HERE_TO_BUILD_AN=_i18n.i18n.translate("xpack.siem.dataProviders.hereToBuildAn",{defaultMessage:"here to build an"});exports.HERE_TO_BUILD_AN=HERE_TO_BUILD_AN;var TO_BUILD_AN=_i18n.i18n.translate("xpack.siem.dataProviders.toBuildAn",{defaultMessage:"to build an"});exports.TO_BUILD_AN=TO_BUILD_AN;var INCLUDE_DATA_PROVIDER=_i18n.i18n.translate("xpack.siem.dataProviders.includeDataProvider",{defaultMessage:"Include results"});exports.INCLUDE_DATA_PROVIDER=INCLUDE_DATA_PROVIDER;var NOT=_i18n.i18n.translate("xpack.siem.dataProviders.not",{defaultMessage:"not"});exports.NOT=NOT;var OR=_i18n.i18n.translate("xpack.siem.dataProviders.or",{defaultMessage:"or"});exports.OR=OR;var QUERY=_i18n.i18n.translate("xpack.siem.dataProviders.query",{defaultMessage:"query"});exports.QUERY=QUERY;var TOGGLE=_i18n.i18n.translate("xpack.siem.dataProviders.toggle",{defaultMessage:"toggle"});exports.TOGGLE=TOGGLE;var RE_ENABLE_DATA_PROVIDER=_i18n.i18n.translate("xpack.siem.dataProviders.reEnableDataProvider",{defaultMessage:"Re-enable"});exports.RE_ENABLE_DATA_PROVIDER=RE_ENABLE_DATA_PROVIDER;var REMOVE_DATA_PROVIDER=_i18n.i18n.translate("xpack.siem.dataProviders.removeDataProvider",{defaultMessage:"Remove Data Provider"});exports.REMOVE_DATA_PROVIDER=REMOVE_DATA_PROVIDER;var SHOW_OPTIONS_DATA_PROVIDER=_i18n.i18n.translate("xpack.siem.dataProviders.showOptionsDataProvider",{defaultMessage:"Show options for"});exports.SHOW_OPTIONS_DATA_PROVIDER=SHOW_OPTIONS_DATA_PROVIDER;var TEMPORARILY_DISABLE_DATA_PROVIDER=_i18n.i18n.translate("xpack.siem.dataProviders.temporaryDisableDataProvider",{defaultMessage:"Temporarily disable"});exports.TEMPORARILY_DISABLE_DATA_PROVIDER=TEMPORARILY_DISABLE_DATA_PROVIDER;var VALUE=_i18n.i18n.translate("xpack.siem.dataProviders.valuePlaceholder",{defaultMessage:"value"});exports.VALUE=VALUE;var VALUE_ARIA_LABEL=_i18n.i18n.translate("xpack.siem.dataProviders.valueAriaLabel",{defaultMessage:"value"});exports.VALUE_ARIA_LABEL=VALUE_ARIA_LABEL},7152:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.scoreIntervalToDateTime=void 0;var _moment=_interopRequireDefault(__webpack_require__(13));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var scoreIntervalToDateTime=function scoreIntervalToDateTime(score,interval){if(interval==="second"||interval==="minute"||interval==="hour"){return{from:(0,_moment.default)(score.time).subtract(1,"hour").valueOf(),to:(0,_moment.default)(score.time).add(1,"hour").valueOf()}}else{return{from:(0,_moment.default)(score.time).subtract(1,"day").valueOf(),to:(0,_moment.default)(score.time).add(1,"day").valueOf()}}};exports.scoreIntervalToDateTime=scoreIntervalToDateTime},7153:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getEntries=void 0;function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var getEntries=function getEntries(entityOrInfluencer){var entries=Object.entries(entityOrInfluencer);if(Array.isArray(entries[0])){var _entries=_slicedToArray(entries,1),_entries$=_slicedToArray(_entries[0],2),key=_entries$[0],value=_entries$[1];return[key,value]}else{return[null,null]}};exports.getEntries=getEntries},7154:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Panel=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var Panel=(0,_styledComponents.default)((function(_ref){var loading=_ref.loading,props=_objectWithoutProperties(_ref,["loading"]);return _react.default.createElement(_eui.EuiPanel,props)})).withConfig({displayName:"Panel",componentId:"sc-12yaru5-0"})(["position:relative;",""],(function(_ref2){var loading=_ref2.loading;return loading&&"\n    overflow: hidden;\n  "}));exports.Panel=Panel;Panel.displayName="Panel"},7155:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.USER_UNAUTHENTICATED_MSG_BODY=exports.USER_UNAUTHENTICATED_TITLE=exports.GO_TO_DOCUMENTATION=exports.NO_INDEX_MSG_BODY=exports.NO_INDEX_TITLE=exports.EMPTY_ACTION_SECONDARY=exports.EMPTY_ACTION_PRIMARY=exports.EMPTY_TITLE=exports.PANEL_SUBTITLE_SHOWING=exports.BUTTON_MANAGE_RULES=exports.ALERT=exports.SIGNAL=exports.TOTAL_SIGNAL=exports.LAST_SIGNAL=exports.PAGE_TITLE=void 0;var _i18n=__webpack_require__(2);var PAGE_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.detectionsPageTitle",{defaultMessage:"Detections"});exports.PAGE_TITLE=PAGE_TITLE;var LAST_SIGNAL=_i18n.i18n.translate("xpack.siem.detectionEngine.lastSignalTitle",{defaultMessage:"Last signal"});exports.LAST_SIGNAL=LAST_SIGNAL;var TOTAL_SIGNAL=_i18n.i18n.translate("xpack.siem.detectionEngine.totalSignalTitle",{defaultMessage:"Total"});exports.TOTAL_SIGNAL=TOTAL_SIGNAL;var SIGNAL=_i18n.i18n.translate("xpack.siem.detectionEngine.signalTitle",{defaultMessage:"Signals (SIEM Detections)"});exports.SIGNAL=SIGNAL;var ALERT=_i18n.i18n.translate("xpack.siem.detectionEngine.alertTitle",{defaultMessage:"External alerts"});exports.ALERT=ALERT;var BUTTON_MANAGE_RULES=_i18n.i18n.translate("xpack.siem.detectionEngine.buttonManageRules",{defaultMessage:"Manage signal detection rules"});exports.BUTTON_MANAGE_RULES=BUTTON_MANAGE_RULES;var PANEL_SUBTITLE_SHOWING=_i18n.i18n.translate("xpack.siem.detectionEngine.panelSubtitleShowing",{defaultMessage:"Showing"});exports.PANEL_SUBTITLE_SHOWING=PANEL_SUBTITLE_SHOWING;var EMPTY_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.emptyTitle",{defaultMessage:"It looks like you dont have any indices relevant to the detection engine in the SIEM application"});exports.EMPTY_TITLE=EMPTY_TITLE;var EMPTY_ACTION_PRIMARY=_i18n.i18n.translate("xpack.siem.detectionEngine.emptyActionPrimary",{defaultMessage:"View setup instructions"});exports.EMPTY_ACTION_PRIMARY=EMPTY_ACTION_PRIMARY;var EMPTY_ACTION_SECONDARY=_i18n.i18n.translate("xpack.siem.detectionEngine.emptyActionSecondary",{defaultMessage:"Go to documentation"});exports.EMPTY_ACTION_SECONDARY=EMPTY_ACTION_SECONDARY;var NO_INDEX_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.noIndexTitle",{defaultMessage:"Lets set up your detection engine"});exports.NO_INDEX_TITLE=NO_INDEX_TITLE;var NO_INDEX_MSG_BODY=_i18n.i18n.translate("xpack.siem.detectionEngine.noIndexMsgBody",{defaultMessage:"To use the detection engine, a user with the required cluster and index privileges must first access this page. For more help, contact your administrator."});exports.NO_INDEX_MSG_BODY=NO_INDEX_MSG_BODY;var GO_TO_DOCUMENTATION=_i18n.i18n.translate("xpack.siem.detectionEngine.goToDocumentationButton",{defaultMessage:"View documentation"});exports.GO_TO_DOCUMENTATION=GO_TO_DOCUMENTATION;var USER_UNAUTHENTICATED_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.userUnauthenticatedTitle",{defaultMessage:"Detection engine permissions required"});exports.USER_UNAUTHENTICATED_TITLE=USER_UNAUTHENTICATED_TITLE;var USER_UNAUTHENTICATED_MSG_BODY=_i18n.i18n.translate("xpack.siem.detectionEngine.userUnauthenticatedMsgBody",{defaultMessage:"You do not have the required permissions for viewing the detection engine. For more help, contact your administrator."});exports.USER_UNAUTHENTICATED_MSG_BODY=USER_UNAUTHENTICATED_MSG_BODY},7156:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIconFromType=exports.getExampleText=exports.getColumnsWithTimestamp=exports.getColumnHeaderFromBrowserField=exports.search=void 0;var _fp=__webpack_require__(223);var _constants=__webpack_require__(7047);var i18n=_interopRequireWildcard(__webpack_require__(7333));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var search={box:{incremental:true,placeholder:i18n.PLACEHOLDER,schema:true}};exports.search=search;var getColumnHeaderFromBrowserField=function getColumnHeaderFromBrowserField(_ref){var browserField=_ref.browserField,_ref$width=_ref.width,width=_ref$width===void 0?_constants.DEFAULT_COLUMN_MIN_WIDTH:_ref$width;return{category:browserField.category,columnHeaderType:"not-filtered",description:browserField.description!=null?browserField.description:undefined,example:browserField.example!=null?"".concat(browserField.example):undefined,id:browserField.name||"",type:browserField.type,aggregatable:browserField.aggregatable,width:width}};exports.getColumnHeaderFromBrowserField=getColumnHeaderFromBrowserField;var getColumnsWithTimestamp=function getColumnsWithTimestamp(_ref2){var browserFields=_ref2.browserFields,category=_ref2.category;var emptyFields={};var timestamp=(0,_fp.get)("base.fields.@timestamp",browserFields);var categoryFields=_toConsumableArray(Object.values((0,_fp.getOr)(emptyFields,"".concat(category,".fields"),browserFields)));return timestamp!=null&&categoryFields.length?(0,_fp.uniqBy)("id",[getColumnHeaderFromBrowserField({browserField:timestamp,width:_constants.DEFAULT_DATE_COLUMN_MIN_WIDTH})].concat(_toConsumableArray(categoryFields.map((function(f){return getColumnHeaderFromBrowserField({browserField:f})}))))):[]};exports.getColumnsWithTimestamp=getColumnsWithTimestamp;var getExampleText=function getExampleText(example){return!(0,_fp.isEmpty)(example)?"Example: ".concat(example):""};exports.getExampleText=getExampleText;var getIconFromType=function getIconFromType(type){switch(type){case"string":case"keyword":return"string";case"number":case"long":return"number";case"date":return"clock";case"ip":return"globe";case"object":return"questionInCircle";case"float":return"number";default:return"questionInCircle"}};exports.getIconFromType=getIconFromType},7157:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Port=exports.PORT_NAMES=exports.URL_PORT_FIELD_NAME=exports.SOURCE_PORT_FIELD_NAME=exports.SERVER_PORT_FIELD_NAME=exports.DESTINATION_PORT_FIELD_NAME=exports.CLIENT_PORT_FIELD_NAME=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _empty_value=__webpack_require__(7017);var _external_link_icon=__webpack_require__(7136);var _links=__webpack_require__(7034);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CLIENT_PORT_FIELD_NAME="client.port";exports.CLIENT_PORT_FIELD_NAME=CLIENT_PORT_FIELD_NAME;var DESTINATION_PORT_FIELD_NAME="destination.port";exports.DESTINATION_PORT_FIELD_NAME=DESTINATION_PORT_FIELD_NAME;var SERVER_PORT_FIELD_NAME="server.port";exports.SERVER_PORT_FIELD_NAME=SERVER_PORT_FIELD_NAME;var SOURCE_PORT_FIELD_NAME="source.port";exports.SOURCE_PORT_FIELD_NAME=SOURCE_PORT_FIELD_NAME;var URL_PORT_FIELD_NAME="url.port";exports.URL_PORT_FIELD_NAME=URL_PORT_FIELD_NAME;var PORT_NAMES=[CLIENT_PORT_FIELD_NAME,DESTINATION_PORT_FIELD_NAME,SERVER_PORT_FIELD_NAME,SOURCE_PORT_FIELD_NAME,URL_PORT_FIELD_NAME];exports.PORT_NAMES=PORT_NAMES;var Port=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,fieldName=_ref.fieldName,value=_ref.value;return _react.default.createElement(_draggables.DefaultDraggable,{"data-test-subj":"port",field:fieldName,id:"port-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(fieldName,"-").concat(value),tooltipContent:fieldName,value:value},_react.default.createElement(_links.PortOrServiceNameLink,{portOrServiceName:value||(0,_empty_value.getEmptyValue)()}),_react.default.createElement(_external_link_icon.ExternalLinkIcon,null))}));exports.Port=Port;Port.displayName="Port"},7158:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LINK_ELASTIC_ENDPOINT_SECURITY=exports.NON_EXISTENT=exports.IN=exports.SOURCE=exports.PROTOCOL=exports.DESTINATION=exports.TCP=void 0;var _i18n=__webpack_require__(2);var TCP=_i18n.i18n.translate("xpack.siem.timeline.tcp",{defaultMessage:"TCP"});exports.TCP=TCP;var DESTINATION=_i18n.i18n.translate("xpack.siem.timeline.destination",{defaultMessage:"Destination"});exports.DESTINATION=DESTINATION;var PROTOCOL=_i18n.i18n.translate("xpack.siem.timeline.protocol",{defaultMessage:"Protocol"});exports.PROTOCOL=PROTOCOL;var SOURCE=_i18n.i18n.translate("xpack.siem.timeline.source",{defaultMessage:"Source"});exports.SOURCE=SOURCE;var IN=_i18n.i18n.translate("xpack.siem.auditd.inDescription",{defaultMessage:"in"});exports.IN=IN;var NON_EXISTENT=_i18n.i18n.translate("xpack.siem.auditd.nonExistentDescription",{defaultMessage:"an unknown process"});exports.NON_EXISTENT=NON_EXISTENT;var LINK_ELASTIC_ENDPOINT_SECURITY=_i18n.i18n.translate("xpack.siem.event.module.linkToElasticEndpointSecurityDescription",{defaultMessage:"Open in Elastic Endpoint Security"});exports.LINK_ELASTIC_ENDPOINT_SECURITY=LINK_ELASTIC_ENDPOINT_SECURITY},7159:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RowRendererContainer=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _styles=__webpack_require__(7058);var _timeline_context=__webpack_require__(7033);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RowRendererContainer=_react.default.memo((function(_ref){var children=_ref.children;var width=(0,_timeline_context.useTimelineWidthContext)();return _react.default.createElement(_styles.EventsTrSupplement,{className:"siemEventsTable__trSupplement--summary",style:{width:"".concat(width-_styles.OFFSET_SCROLLBAR,"px")}},children)}));exports.RowRendererContainer=RowRendererContainer;RowRendererContainer.displayName="RowRendererContainer"},7160:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SENT_MESSAGE=exports.UNKNOWN=exports.SENT_TEST=exports.SHUTDOWN_SYSTEM=exports.CHANGED_TO_RUN_LEVEL_WITH=exports.BOOTED_SYSTEM=exports.STOPPED_SERVICE=exports.STARTED_SERVICE=exports.VIOLATED_SECCOMP_POLICY_WITH=exports.REMOVED_USER_ROLE_FROM=exports.MODIFIED_ROLE=exports.ASSIGNED_USER_ROLE_TO=exports.CHANGED_SELINUX_ENFORCEMENT=exports.LOADED_SELINUX_POLICY=exports.CHANGED_SELINUX_BOOLEAN=exports.MAC_PERMISSION=exports.CHANGED_LOGIN_ID_TO=exports.OVERRODE_LABEL_OF=exports.MODIFIED_LEVEL_OF=exports.INITIALIZED_AUDIT_SUBSYSTEM=exports.MODIFIED_GROUP_ACCOUNT=exports.CHANGED_GROUP_PASSWORD=exports.AUTHENTICATED_TO_GROUP=exports.RELABELED_FILESYSTEM=exports.CHANGED_AUDIT_FEATURE=exports.DELETED_USER_ACCOUNT_USING=exports.DELETED_GROUP_ACCOUNT_USING=exports.STARTED_AUDIT=exports.ROTATED_AUDIT_LOGS=exports.RESUMED_AUDIT_LOGGING=exports.RECONFIGURED_AUDIT=exports.AUDIT_ERROR=exports.SHUTDOWN_AUDIT=exports.REMOTE_AUDIT_DISCONNECTED=exports.REMOTE_AUDIT_CONNECTED=exports.ABORTED_AUDIT_STARTUP=exports.ACCESS_RESULT=exports.STARTED_CRYPTO_SESSION=exports.CRYPTO_OFFICER_LOGGED_OUT=exports.CRYPTO_OFFICER_LOGGED_IN=exports.NEGOTIATED_CRYPTO_KEY=exports.REFRESHED_CREDENTIALS_FOR=exports.CHANGED_AUDIT_CONFIGURATION=exports.CHANGED_USER_ID=exports.CHANGED_GROUP=exports.VIOLATED_APP_ARMOR_POLICY_FROM=exports.VIOLATED_SELINUX_POLICY=exports.TESTED_FILE_SYSTEM_INTEGRITY=exports.ATTEMPTED_LOGIN_FROM_UNUSUAL_HOUR=exports.OPENED_TOO_MANY_SESSIONS=exports.ATTEMPTED_LOGIN_FROM_UNUSUAL_PLACE=exports.FAILED_LOGIN_TOO_MANY_TIMES=exports.USED_SUSPICIOUS_PROGRAM=exports.EXECUTION_OF_FORBIDDEN_PROGRAM=exports.CRASHED_PROGRAM=exports.ADDED_GROUP_ACCOUNT_USING=exports.UNLOCKED_ACCOUNT=exports.LOCKED_ACCOUNT=exports.CHANGED_PROMISCUOUS_MODE=exports.LOADED_FIREWALL_RULE=exports.CAUSED_MAC_POLICY_ERROR=exports.ADDED_USER_ACCOUNT=exports.SCHEDULED_POLICY_OF=exports.ALLOCATED_MEMORY_FOR=exports.CHANGED_SYSTEM_NAME=exports.MADE_DEVICE_WITH=exports.CHANGED_SYSTEM_TIME_WITH=exports.CHANGED_IDENTITY_USING=exports.KILLED_PROCESS_ID_OF=exports.SENT_TO=exports.RECEIVED_FROM=exports.BOUND_SOCKET_FROM=exports.LISTEN_FOR_CONNECTIONS=exports.CHANGED_TIME_STAMP_OF=exports.DELETED=exports.UNMOUNTED=exports.SYMLINKED=exports.CHECKED_FILE_SYSTEM_METADATA_OF=exports.CHECKED_METADATA_OF=exports.RENAMED=exports.MOUNTED=exports.CREATED_DIRECTORY=exports.UNLOADED_KERNEL_MODULE_OF=exports.LOADED_KERNEL_MODULE=exports.CHANGED_FILE_OWNERSHIP_OF=exports.CHANGED_FILE_PERMISSIONS_OF=exports.CHANGED_FILE_ATTRIBUTES_OF=exports.OPENED_FILE=exports.USING=exports.CONNECTED_USING=exports.AS=exports.EXECUTED=exports.WITH_RESULT=exports.ATTEMPTED_LOGIN=exports.DISPOSED_CREDENTIALS_TO=exports.STARTED=exports.ENDED_FROM=exports.ACQUIRED_CREDENTIALS_TO=exports.WAS_AUTHORIZED_TO_USE=exports.SESSION=void 0;exports.ASSIGNED_VM_RESOURCE=exports.MIGRATED_VM_TO=exports.MIGRATED_VM_FROM=exports.ASSIGNED_VM_ID=exports.CHECKED_INTEGRITY_OF=exports.DELETED_VM_IMAGE=exports.CREATED_VM_IMAGE=exports.ISSUED_VM_CONTROL=exports.CHANGED_CONFIGURATION_WITH=exports.ACCESS_ERROR=exports.CHANGED_ROLE_USING=exports.MODIFIED_USER_ACCOUNT=exports.LOADED_MAC_POLICY=exports.CHANGED_MAC_CONFIGURATION=exports.LOGGED_OUT=exports.ERROR_FROM=exports.RAN_COMMAND=exports.CHANGED_PASSWORD_WITH=exports.AUTHENTICATED_USING=exports.ACCESS_PERMISSION=void 0;var _i18n=__webpack_require__(2);var SESSION=_i18n.i18n.translate("xpack.siem.auditd.sessionDescription",{defaultMessage:"Session"});exports.SESSION=SESSION;var WAS_AUTHORIZED_TO_USE=_i18n.i18n.translate("xpack.siem.auditd.wasAuthorizedToUseDescription",{defaultMessage:"was authorized to use"});exports.WAS_AUTHORIZED_TO_USE=WAS_AUTHORIZED_TO_USE;var ACQUIRED_CREDENTIALS_TO=_i18n.i18n.translate("xpack.siem.auditd.acquiredCredentialsDescription",{defaultMessage:"acquired credentials to"});exports.ACQUIRED_CREDENTIALS_TO=ACQUIRED_CREDENTIALS_TO;var ENDED_FROM=_i18n.i18n.translate("xpack.siem.auditd.endedFromDescription",{defaultMessage:"ended from"});exports.ENDED_FROM=ENDED_FROM;var STARTED=_i18n.i18n.translate("xpack.siem.auditd.startedAtDescription",{defaultMessage:"started"});exports.STARTED=STARTED;var DISPOSED_CREDENTIALS_TO=_i18n.i18n.translate("xpack.siem.auditd.disposedCredentialsDescription",{defaultMessage:"disposed credentials to"});exports.DISPOSED_CREDENTIALS_TO=DISPOSED_CREDENTIALS_TO;var ATTEMPTED_LOGIN=_i18n.i18n.translate("xpack.siem.auditd.attemptedLoginDescription",{defaultMessage:"attempted a login via"});exports.ATTEMPTED_LOGIN=ATTEMPTED_LOGIN;var WITH_RESULT=_i18n.i18n.translate("xpack.siem.auditd.withResultDescription",{defaultMessage:"with result"});exports.WITH_RESULT=WITH_RESULT;var EXECUTED=_i18n.i18n.translate("xpack.siem.auditd.executedDescription",{defaultMessage:"executed"});exports.EXECUTED=EXECUTED;var AS=_i18n.i18n.translate("xpack.siem.auditd.asDescription",{defaultMessage:"as"});exports.AS=AS;var CONNECTED_USING=_i18n.i18n.translate("xpack.siem.auditd.connectedUsingDescription",{defaultMessage:"connected using"});exports.CONNECTED_USING=CONNECTED_USING;var USING=_i18n.i18n.translate("xpack.siem.auditd.usingDescription",{defaultMessage:"using"});exports.USING=USING;var OPENED_FILE=_i18n.i18n.translate("xpack.siem.auditd.OpenedFileDescription",{defaultMessage:"opened file"});exports.OPENED_FILE=OPENED_FILE;var CHANGED_FILE_ATTRIBUTES_OF=_i18n.i18n.translate("xpack.siem.auditd.ChangedFileAttributesOfDescription",{defaultMessage:"changed file attributes of"});exports.CHANGED_FILE_ATTRIBUTES_OF=CHANGED_FILE_ATTRIBUTES_OF;var CHANGED_FILE_PERMISSIONS_OF=_i18n.i18n.translate("xpack.siem.auditd.changedFilePermissionOfDescription",{defaultMessage:"changed file permissions of"});exports.CHANGED_FILE_PERMISSIONS_OF=CHANGED_FILE_PERMISSIONS_OF;var CHANGED_FILE_OWNERSHIP_OF=_i18n.i18n.translate("xpack.siem.auditd.changeidleOwernshipOfDescription",{defaultMessage:"changed file ownership of"});exports.CHANGED_FILE_OWNERSHIP_OF=CHANGED_FILE_OWNERSHIP_OF;var LOADED_KERNEL_MODULE=_i18n.i18n.translate("xpack.siem.auditd.loaedKernelModuleOfDescription",{defaultMessage:"loaded kernel module of"});exports.LOADED_KERNEL_MODULE=LOADED_KERNEL_MODULE;var UNLOADED_KERNEL_MODULE_OF=_i18n.i18n.translate("xpack.siem.auditd.unloadedKernelModuleOfDescription",{defaultMessage:"unloaded kernel module of"});exports.UNLOADED_KERNEL_MODULE_OF=UNLOADED_KERNEL_MODULE_OF;var CREATED_DIRECTORY=_i18n.i18n.translate("xpack.siem.auditd.createdDirectoryDescription",{defaultMessage:"created directory"});exports.CREATED_DIRECTORY=CREATED_DIRECTORY;var MOUNTED=_i18n.i18n.translate("xpack.siem.auditd.mountedDescription",{defaultMessage:"mounted"});exports.MOUNTED=MOUNTED;var RENAMED=_i18n.i18n.translate("xpack.siem.auditd.renamedDescription",{defaultMessage:"renamed"});exports.RENAMED=RENAMED;var CHECKED_METADATA_OF=_i18n.i18n.translate("xpack.siem.auditd.chedckedMetaDataOfDescription",{defaultMessage:"checked metadata of"});exports.CHECKED_METADATA_OF=CHECKED_METADATA_OF;var CHECKED_FILE_SYSTEM_METADATA_OF=_i18n.i18n.translate("xpack.siem.auditd.checkedFileSystemMetadataOfDescription",{defaultMessage:"checked filesystem metadata of"});exports.CHECKED_FILE_SYSTEM_METADATA_OF=CHECKED_FILE_SYSTEM_METADATA_OF;var SYMLINKED=_i18n.i18n.translate("xpack.siem.auditd.symLinkedDescription",{defaultMessage:"symbolically linked"});exports.SYMLINKED=SYMLINKED;var UNMOUNTED=_i18n.i18n.translate("xpack.siem.auditd.unmountedDescription",{defaultMessage:"unmounted"});exports.UNMOUNTED=UNMOUNTED;var DELETED=_i18n.i18n.translate("xpack.siem.auditd.deletedDescription",{defaultMessage:"deleted"});exports.DELETED=DELETED;var CHANGED_TIME_STAMP_OF=_i18n.i18n.translate("xpack.siem.auditd.changedTimeStampOfDescription",{defaultMessage:"changed time stamp of"});exports.CHANGED_TIME_STAMP_OF=CHANGED_TIME_STAMP_OF;var LISTEN_FOR_CONNECTIONS=_i18n.i18n.translate("xpack.siem.auditd.ListeningForConnectionsUsingDescription",{defaultMessage:"listening for connections using"});exports.LISTEN_FOR_CONNECTIONS=LISTEN_FOR_CONNECTIONS;var BOUND_SOCKET_FROM=_i18n.i18n.translate("xpack.siem.auditd.boundSocketFromDescription",{defaultMessage:"bound socket from"});exports.BOUND_SOCKET_FROM=BOUND_SOCKET_FROM;var RECEIVED_FROM=_i18n.i18n.translate("xpack.siem.auditd.receivedFromDescription",{defaultMessage:"received from"});exports.RECEIVED_FROM=RECEIVED_FROM;var SENT_TO=_i18n.i18n.translate("xpack.siem.auditd.sentToDescription",{defaultMessage:"sent to"});exports.SENT_TO=SENT_TO;var KILLED_PROCESS_ID_OF=_i18n.i18n.translate("xpack.siem.auditd.killedProcessIdDescription",{defaultMessage:"killed process id of"});exports.KILLED_PROCESS_ID_OF=KILLED_PROCESS_ID_OF;var CHANGED_IDENTITY_USING=_i18n.i18n.translate("xpack.siem.auditd.changedIdentityUsingDescription",{defaultMessage:"changed identity using"});exports.CHANGED_IDENTITY_USING=CHANGED_IDENTITY_USING;var CHANGED_SYSTEM_TIME_WITH=_i18n.i18n.translate("xpack.siem.auditd.changedSystemTimeWithDescription",{defaultMessage:"changed system time with"});exports.CHANGED_SYSTEM_TIME_WITH=CHANGED_SYSTEM_TIME_WITH;var MADE_DEVICE_WITH=_i18n.i18n.translate("xpack.siem.auditd.madeDeviceWithDescription",{defaultMessage:"made device with"});exports.MADE_DEVICE_WITH=MADE_DEVICE_WITH;var CHANGED_SYSTEM_NAME=_i18n.i18n.translate("xpack.siem.auditd.changedSystemNameDescription",{defaultMessage:"changed system name"});exports.CHANGED_SYSTEM_NAME=CHANGED_SYSTEM_NAME;var ALLOCATED_MEMORY_FOR=_i18n.i18n.translate("xpack.siem.auditd.allocatedMemoryForDescription",{defaultMessage:"allocated memory for"});exports.ALLOCATED_MEMORY_FOR=ALLOCATED_MEMORY_FOR;var SCHEDULED_POLICY_OF=_i18n.i18n.translate("xpack.siem.auditd.scheduledPolicyOFDescription",{defaultMessage:"scheduled policy of"});exports.SCHEDULED_POLICY_OF=SCHEDULED_POLICY_OF;var ADDED_USER_ACCOUNT=_i18n.i18n.translate("xpack.siem.auditd.addedUserAccountDescription",{defaultMessage:"added user account"});exports.ADDED_USER_ACCOUNT=ADDED_USER_ACCOUNT;var CAUSED_MAC_POLICY_ERROR=_i18n.i18n.translate("xpack.siem.auditd.causedMacPolicyErrorDescription",{defaultMessage:"caused mac policy error"});exports.CAUSED_MAC_POLICY_ERROR=CAUSED_MAC_POLICY_ERROR;var LOADED_FIREWALL_RULE=_i18n.i18n.translate("xpack.siem.auditd.loadedFirewallRuleDescription",{defaultMessage:"loaded firewall rule"});exports.LOADED_FIREWALL_RULE=LOADED_FIREWALL_RULE;var CHANGED_PROMISCUOUS_MODE=_i18n.i18n.translate("xpack.siem.auditd.promiscuousModeDescription",{defaultMessage:"changed promiscuous mode on the device using"});exports.CHANGED_PROMISCUOUS_MODE=CHANGED_PROMISCUOUS_MODE;var LOCKED_ACCOUNT=_i18n.i18n.translate("xpack.siem.auditd.lockedAccountDescription",{defaultMessage:"locked account"});exports.LOCKED_ACCOUNT=LOCKED_ACCOUNT;var UNLOCKED_ACCOUNT=_i18n.i18n.translate("xpack.siem.auditd.unlockedAccountDescription",{defaultMessage:"unlocked account"});exports.UNLOCKED_ACCOUNT=UNLOCKED_ACCOUNT;var ADDED_GROUP_ACCOUNT_USING=_i18n.i18n.translate("xpack.siem.auditd.adddedGroupAccountUsingDescription",{defaultMessage:"added group account using"});exports.ADDED_GROUP_ACCOUNT_USING=ADDED_GROUP_ACCOUNT_USING;var CRASHED_PROGRAM=_i18n.i18n.translate("xpack.siem.auditd.crashedProgramDescription",{defaultMessage:"crashed program"});exports.CRASHED_PROGRAM=CRASHED_PROGRAM;var EXECUTION_OF_FORBIDDEN_PROGRAM=_i18n.i18n.translate("xpack.siem.auditd.executionOfForbiddenProgramDescription",{defaultMessage:"execution of forbidden program"});exports.EXECUTION_OF_FORBIDDEN_PROGRAM=EXECUTION_OF_FORBIDDEN_PROGRAM;var USED_SUSPICIOUS_PROGRAM=_i18n.i18n.translate("xpack.siem.auditd.suspiciousProgramDescription",{defaultMessage:"used suspicious program"});exports.USED_SUSPICIOUS_PROGRAM=USED_SUSPICIOUS_PROGRAM;var FAILED_LOGIN_TOO_MANY_TIMES=_i18n.i18n.translate("xpack.siem.auditd.failedLoginTooManyTimesDescription",{defaultMessage:"failed login due to logging in too many times"});exports.FAILED_LOGIN_TOO_MANY_TIMES=FAILED_LOGIN_TOO_MANY_TIMES;var ATTEMPTED_LOGIN_FROM_UNUSUAL_PLACE=_i18n.i18n.translate("xpack.siem.auditd.attemptedLoginFromUnusalPlaceDescription",{defaultMessage:"attempted login from unusual place"});exports.ATTEMPTED_LOGIN_FROM_UNUSUAL_PLACE=ATTEMPTED_LOGIN_FROM_UNUSUAL_PLACE;var OPENED_TOO_MANY_SESSIONS=_i18n.i18n.translate("xpack.siem.auditd.openedTooManySessionsDescription",{defaultMessage:"opened too many sessions"});exports.OPENED_TOO_MANY_SESSIONS=OPENED_TOO_MANY_SESSIONS;var ATTEMPTED_LOGIN_FROM_UNUSUAL_HOUR=_i18n.i18n.translate("xpack.siem.auditd.attemptedLoginFromUnusualHourDescription",{defaultMessage:"attempted login from unusual hour"});exports.ATTEMPTED_LOGIN_FROM_UNUSUAL_HOUR=ATTEMPTED_LOGIN_FROM_UNUSUAL_HOUR;var TESTED_FILE_SYSTEM_INTEGRITY=_i18n.i18n.translate("xpack.siem.auditd.testedFileSystemIntegrityDescription",{defaultMessage:"tested file system integrity"});exports.TESTED_FILE_SYSTEM_INTEGRITY=TESTED_FILE_SYSTEM_INTEGRITY;var VIOLATED_SELINUX_POLICY=_i18n.i18n.translate("xpack.siem.auditd.violatedSeLinuxPolicyDescription",{defaultMessage:"violated selinux policy"});exports.VIOLATED_SELINUX_POLICY=VIOLATED_SELINUX_POLICY;var VIOLATED_APP_ARMOR_POLICY_FROM=_i18n.i18n.translate("xpack.siem.auditd.violatedAppArmorPolicyFromDescription",{defaultMessage:"violated app armor policy from"});exports.VIOLATED_APP_ARMOR_POLICY_FROM=VIOLATED_APP_ARMOR_POLICY_FROM;var CHANGED_GROUP=_i18n.i18n.translate("xpack.siem.auditd.changedGroupDescription",{defaultMessage:"changed group"});exports.CHANGED_GROUP=CHANGED_GROUP;var CHANGED_USER_ID=_i18n.i18n.translate("xpack.siem.auditd.changedUserIdDescription",{defaultMessage:"changed user id"});exports.CHANGED_USER_ID=CHANGED_USER_ID;var CHANGED_AUDIT_CONFIGURATION=_i18n.i18n.translate("xpack.siem.auditd.changedAuditConfigurationDescription",{defaultMessage:"changed audit configuration"});exports.CHANGED_AUDIT_CONFIGURATION=CHANGED_AUDIT_CONFIGURATION;var REFRESHED_CREDENTIALS_FOR=_i18n.i18n.translate("xpack.siem.auditd.refreshedCredentialsForDescription",{defaultMessage:"refreshed credentials for"});exports.REFRESHED_CREDENTIALS_FOR=REFRESHED_CREDENTIALS_FOR;var NEGOTIATED_CRYPTO_KEY=_i18n.i18n.translate("xpack.siem.auditd.negotiatedCryptoKeyDescription",{defaultMessage:"negotiated crypto key"});exports.NEGOTIATED_CRYPTO_KEY=NEGOTIATED_CRYPTO_KEY;var CRYPTO_OFFICER_LOGGED_IN=_i18n.i18n.translate("xpack.siem.auditd.cryptoOfficerLoggedInDescription",{defaultMessage:"crypto officer logged in"});exports.CRYPTO_OFFICER_LOGGED_IN=CRYPTO_OFFICER_LOGGED_IN;var CRYPTO_OFFICER_LOGGED_OUT=_i18n.i18n.translate("xpack.siem.auditd.cryptoOfficerLoggedOutDescription",{defaultMessage:"crypto officer logged out"});exports.CRYPTO_OFFICER_LOGGED_OUT=CRYPTO_OFFICER_LOGGED_OUT;var STARTED_CRYPTO_SESSION=_i18n.i18n.translate("xpack.siem.auditd.startedCryptoSessionDescription",{defaultMessage:"started crypto session"});exports.STARTED_CRYPTO_SESSION=STARTED_CRYPTO_SESSION;var ACCESS_RESULT=_i18n.i18n.translate("xpack.siem.auditd.accessResultDescription",{defaultMessage:"access result"});exports.ACCESS_RESULT=ACCESS_RESULT;var ABORTED_AUDIT_STARTUP=_i18n.i18n.translate("xpack.siem.auditd.abortedAuditStartupDescription",{defaultMessage:"aborted audit startup"});exports.ABORTED_AUDIT_STARTUP=ABORTED_AUDIT_STARTUP;var REMOTE_AUDIT_CONNECTED=_i18n.i18n.translate("xpack.siem.auditd.remoteAuditConnectedDescription",{defaultMessage:"remote audit connected"});exports.REMOTE_AUDIT_CONNECTED=REMOTE_AUDIT_CONNECTED;var REMOTE_AUDIT_DISCONNECTED=_i18n.i18n.translate("xpack.siem.auditd.remoteAuditDisconnectedDescription",{defaultMessage:"remote audit disconnected"});exports.REMOTE_AUDIT_DISCONNECTED=REMOTE_AUDIT_DISCONNECTED;var SHUTDOWN_AUDIT=_i18n.i18n.translate("xpack.siem.auditd.shutDownAuditDescription",{defaultMessage:"shutdown audit"});exports.SHUTDOWN_AUDIT=SHUTDOWN_AUDIT;var AUDIT_ERROR=_i18n.i18n.translate("xpack.siem.auditd.auditErrorDescription",{defaultMessage:"audit error"});exports.AUDIT_ERROR=AUDIT_ERROR;var RECONFIGURED_AUDIT=_i18n.i18n.translate("xpack.siem.auditd.reconfiguredAuditDescription",{defaultMessage:"reconfigured audit"});exports.RECONFIGURED_AUDIT=RECONFIGURED_AUDIT;var RESUMED_AUDIT_LOGGING=_i18n.i18n.translate("xpack.siem.auditd.resumedAuditLoggingDescription",{defaultMessage:"resumed audit logging"});exports.RESUMED_AUDIT_LOGGING=RESUMED_AUDIT_LOGGING;var ROTATED_AUDIT_LOGS=_i18n.i18n.translate("xpack.siem.auditd.rotatedAuditLogsDescription",{defaultMessage:"rotated-audit-logs"});exports.ROTATED_AUDIT_LOGS=ROTATED_AUDIT_LOGS;var STARTED_AUDIT=_i18n.i18n.translate("xpack.siem.auditd.startedAuditDescription",{defaultMessage:"started audit"});exports.STARTED_AUDIT=STARTED_AUDIT;var DELETED_GROUP_ACCOUNT_USING=_i18n.i18n.translate("xpack.siem.auditd.deletedGroupAccountUsingDescription",{defaultMessage:"deleted group account using"});exports.DELETED_GROUP_ACCOUNT_USING=DELETED_GROUP_ACCOUNT_USING;var DELETED_USER_ACCOUNT_USING=_i18n.i18n.translate("xpack.siem.auditd.deletedUserAccountUsingDescription",{defaultMessage:"deleted user account using"});exports.DELETED_USER_ACCOUNT_USING=DELETED_USER_ACCOUNT_USING;var CHANGED_AUDIT_FEATURE=_i18n.i18n.translate("xpack.siem.auditd.changedAuditFeatureDescription",{defaultMessage:"changed audit feature"});exports.CHANGED_AUDIT_FEATURE=CHANGED_AUDIT_FEATURE;var RELABELED_FILESYSTEM=_i18n.i18n.translate("xpack.siem.auditd.relabeledFileSystemDescription",{defaultMessage:"relabeled filesystem"});exports.RELABELED_FILESYSTEM=RELABELED_FILESYSTEM;var AUTHENTICATED_TO_GROUP=_i18n.i18n.translate("xpack.siem.auditd.authenticatedToGroupDescription",{defaultMessage:"authenticated to group"});exports.AUTHENTICATED_TO_GROUP=AUTHENTICATED_TO_GROUP;var CHANGED_GROUP_PASSWORD=_i18n.i18n.translate("xpack.siem.auditd.changedGroupPasswordDescription",{defaultMessage:"changed group password"});exports.CHANGED_GROUP_PASSWORD=CHANGED_GROUP_PASSWORD;var MODIFIED_GROUP_ACCOUNT=_i18n.i18n.translate("xpack.siem.auditd.modifiedGroupAccountDescription",{defaultMessage:"modified group account"});exports.MODIFIED_GROUP_ACCOUNT=MODIFIED_GROUP_ACCOUNT;var INITIALIZED_AUDIT_SUBSYSTEM=_i18n.i18n.translate("xpack.siem.auditd.initializedAuditSubsystemDescription",{defaultMessage:"initialized audit subsystem"});exports.INITIALIZED_AUDIT_SUBSYSTEM=INITIALIZED_AUDIT_SUBSYSTEM;var MODIFIED_LEVEL_OF=_i18n.i18n.translate("xpack.siem.auditd.modifiedLevelOfDescription",{defaultMessage:"modified level of"});exports.MODIFIED_LEVEL_OF=MODIFIED_LEVEL_OF;var OVERRODE_LABEL_OF=_i18n.i18n.translate("xpack.siem.auditd.overrodeLabelOfDescription",{defaultMessage:"overrode label of"});exports.OVERRODE_LABEL_OF=OVERRODE_LABEL_OF;var CHANGED_LOGIN_ID_TO=_i18n.i18n.translate("xpack.siem.auditd.changedLoginIdToDescription",{defaultMessage:"changed login id to"});exports.CHANGED_LOGIN_ID_TO=CHANGED_LOGIN_ID_TO;var MAC_PERMISSION=_i18n.i18n.translate("xpack.siem.auditd.macPermissionDescription",{defaultMessage:"mac permission"});exports.MAC_PERMISSION=MAC_PERMISSION;var CHANGED_SELINUX_BOOLEAN=_i18n.i18n.translate("xpack.siem.auditd.changedSeLinuxBooleanDescription",{defaultMessage:"changed selinux boolean"});exports.CHANGED_SELINUX_BOOLEAN=CHANGED_SELINUX_BOOLEAN;var LOADED_SELINUX_POLICY=_i18n.i18n.translate("xpack.siem.auditd.loadedSeLinuxPolicyDescription",{defaultMessage:"loaded selinux policy"});exports.LOADED_SELINUX_POLICY=LOADED_SELINUX_POLICY;var CHANGED_SELINUX_ENFORCEMENT=_i18n.i18n.translate("xpack.siem.auditd.changedSelinuxEnforcementDescription",{defaultMessage:"changed selinux enforcement"});exports.CHANGED_SELINUX_ENFORCEMENT=CHANGED_SELINUX_ENFORCEMENT;var ASSIGNED_USER_ROLE_TO=_i18n.i18n.translate("xpack.siem.auditd.assignedUserRoleToDescription",{defaultMessage:"assigned user role to"});exports.ASSIGNED_USER_ROLE_TO=ASSIGNED_USER_ROLE_TO;var MODIFIED_ROLE=_i18n.i18n.translate("xpack.siem.auditd.modifiedRoleDescription",{defaultMessage:"modified role"});exports.MODIFIED_ROLE=MODIFIED_ROLE;var REMOVED_USER_ROLE_FROM=_i18n.i18n.translate("xpack.siem.auditd.removedUserRoleFromDescription",{defaultMessage:"removed user role from"});exports.REMOVED_USER_ROLE_FROM=REMOVED_USER_ROLE_FROM;var VIOLATED_SECCOMP_POLICY_WITH=_i18n.i18n.translate("xpack.siem.auditd.violatedSeccompPolicyWithDescription",{defaultMessage:"violated seccomp policy with"});exports.VIOLATED_SECCOMP_POLICY_WITH=VIOLATED_SECCOMP_POLICY_WITH;var STARTED_SERVICE=_i18n.i18n.translate("xpack.siem.auditd.startedServiceDescription",{defaultMessage:"started service"});exports.STARTED_SERVICE=STARTED_SERVICE;var STOPPED_SERVICE=_i18n.i18n.translate("xpack.siem.auditd.stoppedServiceDescription",{defaultMessage:"stopped service"});exports.STOPPED_SERVICE=STOPPED_SERVICE;var BOOTED_SYSTEM=_i18n.i18n.translate("xpack.siem.auditd.bootedSystemDescription",{defaultMessage:"booted system"});exports.BOOTED_SYSTEM=BOOTED_SYSTEM;var CHANGED_TO_RUN_LEVEL_WITH=_i18n.i18n.translate("xpack.siem.auditd.changedToRunLevelWithDescription",{defaultMessage:"changed to run level with"});exports.CHANGED_TO_RUN_LEVEL_WITH=CHANGED_TO_RUN_LEVEL_WITH;var SHUTDOWN_SYSTEM=_i18n.i18n.translate("xpack.siem.auditd.shutdownSystemDescription",{defaultMessage:"shutdown system"});exports.SHUTDOWN_SYSTEM=SHUTDOWN_SYSTEM;var SENT_TEST=_i18n.i18n.translate("xpack.siem.auditd.sentTestDescription",{defaultMessage:"sent test"});exports.SENT_TEST=SENT_TEST;var UNKNOWN=_i18n.i18n.translate("xpack.siem.auditd.unknownDescription",{defaultMessage:"unknown"});exports.UNKNOWN=UNKNOWN;var SENT_MESSAGE=_i18n.i18n.translate("xpack.siem.auditd.sentMessageDescription",{defaultMessage:"sent message"});exports.SENT_MESSAGE=SENT_MESSAGE;var ACCESS_PERMISSION=_i18n.i18n.translate("xpack.siem.auditd.accessPermissionDescription",{defaultMessage:"access permission"});exports.ACCESS_PERMISSION=ACCESS_PERMISSION;var AUTHENTICATED_USING=_i18n.i18n.translate("xpack.siem.auditd.authenticatedUsingDescription",{defaultMessage:"authenticated using"});exports.AUTHENTICATED_USING=AUTHENTICATED_USING;var CHANGED_PASSWORD_WITH=_i18n.i18n.translate("xpack.siem.auditd.changedPasswordWithDescription",{defaultMessage:"changed password with"});exports.CHANGED_PASSWORD_WITH=CHANGED_PASSWORD_WITH;var RAN_COMMAND=_i18n.i18n.translate("xpack.siem.auditd.ranCommandDescription",{defaultMessage:"ran command"});exports.RAN_COMMAND=RAN_COMMAND;var ERROR_FROM=_i18n.i18n.translate("xpack.siem.auditd.errorFromDescription",{defaultMessage:"error from"});exports.ERROR_FROM=ERROR_FROM;var LOGGED_OUT=_i18n.i18n.translate("xpack.siem.auditd.loggedOutDescription",{defaultMessage:"logged out"});exports.LOGGED_OUT=LOGGED_OUT;var CHANGED_MAC_CONFIGURATION=_i18n.i18n.translate("xpack.siem.auditd.changedMacConfigurationDescription",{defaultMessage:"changed mac configuration"});exports.CHANGED_MAC_CONFIGURATION=CHANGED_MAC_CONFIGURATION;var LOADED_MAC_POLICY=_i18n.i18n.translate("xpack.siem.auditd.loadedMacPolicyDescription",{defaultMessage:"loaded mac policy"});exports.LOADED_MAC_POLICY=LOADED_MAC_POLICY;var MODIFIED_USER_ACCOUNT=_i18n.i18n.translate("xpack.siem.auditd.modifiedUserAccountDescription",{defaultMessage:"modified user account"});exports.MODIFIED_USER_ACCOUNT=MODIFIED_USER_ACCOUNT;var CHANGED_ROLE_USING=_i18n.i18n.translate("xpack.siem.auditd.changedRoleUsingDescription",{defaultMessage:"changed role using"});exports.CHANGED_ROLE_USING=CHANGED_ROLE_USING;var ACCESS_ERROR=_i18n.i18n.translate("xpack.siem.auditd.accessErrorDescription",{defaultMessage:"access error"});exports.ACCESS_ERROR=ACCESS_ERROR;var CHANGED_CONFIGURATION_WITH=_i18n.i18n.translate("xpack.siem.auditd.changedConfigurationWIthDescription",{defaultMessage:"changed configuration with"});exports.CHANGED_CONFIGURATION_WITH=CHANGED_CONFIGURATION_WITH;var ISSUED_VM_CONTROL=_i18n.i18n.translate("xpack.siem.auditd.issuedVmControlDescription",{defaultMessage:"issued vm control"});exports.ISSUED_VM_CONTROL=ISSUED_VM_CONTROL;var CREATED_VM_IMAGE=_i18n.i18n.translate("xpack.siem.auditd.createdVmImageDescription",{defaultMessage:"created vm image"});exports.CREATED_VM_IMAGE=CREATED_VM_IMAGE;var DELETED_VM_IMAGE=_i18n.i18n.translate("xpack.siem.auditd.deletedVmImageDescription",{defaultMessage:"deleted vm image"});exports.DELETED_VM_IMAGE=DELETED_VM_IMAGE;var CHECKED_INTEGRITY_OF=_i18n.i18n.translate("xpack.siem.auditd.checkedIntegrityOfDescription",{defaultMessage:"checked integrity of"});exports.CHECKED_INTEGRITY_OF=CHECKED_INTEGRITY_OF;var ASSIGNED_VM_ID=_i18n.i18n.translate("xpack.siem.auditd.assignedVmIdDescription",{defaultMessage:"assigned vm id"});exports.ASSIGNED_VM_ID=ASSIGNED_VM_ID;var MIGRATED_VM_FROM=_i18n.i18n.translate("xpack.siem.auditd.migratedVmFromDescription",{defaultMessage:"migrated vm from"});exports.MIGRATED_VM_FROM=MIGRATED_VM_FROM;var MIGRATED_VM_TO=_i18n.i18n.translate("xpack.siem.auditd.migratedVmToDescription",{defaultMessage:"migrated vm to"});exports.MIGRATED_VM_TO=MIGRATED_VM_TO;var ASSIGNED_VM_RESOURCE=_i18n.i18n.translate("xpack.siem.auditd.assignedVMResourceDescription",{defaultMessage:"assigned vm resource"});exports.ASSIGNED_VM_RESOURCE=ASSIGNED_VM_RESOURCE},7161:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BarAction=exports.BarText=exports.BarGroup=exports.BarSection=exports.Bar=void 0;var _styledComponents=_interopRequireWildcard(__webpack_require__(30));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var Bar=_styledComponents.default.aside.attrs({className:"siemUtilityBar"}).withConfig({displayName:"Bar",componentId:"sc-1178o2t-0"})(["",""],(function(_ref){var border=_ref.border,theme=_ref.theme;return(0,_styledComponents.css)([""," @media only screen and (min-width:","){display:flex;justify-content:space-between;}"],border&&(0,_styledComponents.css)(["border-bottom:",";padding-bottom:",";"],theme.eui.euiBorderThin,theme.eui.paddingSizes.s),theme.eui.euiBreakpoints.l)}));exports.Bar=Bar;Bar.displayName="Bar";var BarSection=_styledComponents.default.div.attrs({className:"siemUtilityBar__section"}).withConfig({displayName:"BarSection",componentId:"sc-1178o2t-1"})(["",""],(function(_ref2){var theme=_ref2.theme;return(0,_styledComponents.css)(["& + &{margin-top:",";}@media only screen and (min-width:","){display:flex;flex-wrap:wrap;}@media only screen and (min-width:","){& + &{margin-top:0;margin-left:",";}}"],theme.eui.euiSizeS,theme.eui.euiBreakpoints.m,theme.eui.euiBreakpoints.l,theme.eui.euiSize)}));exports.BarSection=BarSection;BarSection.displayName="BarSection";var BarGroup=_styledComponents.default.div.attrs({className:"siemUtilityBar__group"}).withConfig({displayName:"BarGroup",componentId:"sc-1178o2t-2"})(["",""],(function(_ref3){var theme=_ref3.theme;return(0,_styledComponents.css)(["align-items:flex-start;display:flex;flex-wrap:wrap;& + &{margin-top:",";}@media only screen and (min-width:","){border-right:",";flex-wrap:nowrap;margin-right:",";padding-right:",";& + &{margin-top:0;}&:last-child{border-right:none;margin-right:0;padding-right:0;}}& > *{margin-right:",";&:last-child{margin-right:0;}}"],theme.eui.euiSizeS,theme.eui.euiBreakpoints.m,theme.eui.euiBorderThin,theme.eui.paddingSizes.m,theme.eui.paddingSizes.m,theme.eui.euiSize)}));exports.BarGroup=BarGroup;BarGroup.displayName="BarGroup";var BarText=_styledComponents.default.p.attrs({className:"siemUtilityBar__text"}).withConfig({displayName:"BarText",componentId:"sc-1178o2t-3"})(["",""],(function(_ref4){var theme=_ref4.theme;return(0,_styledComponents.css)(["color:",";font-size:",";line-height:",";white-space:nowrap;"],theme.eui.textColors.subdued,theme.eui.euiFontSizeXS,theme.eui.euiLineHeight)}));exports.BarText=BarText;BarText.displayName="BarText";var BarAction=_styledComponents.default.div.attrs({className:"siemUtilityBar__action"}).withConfig({displayName:"BarAction",componentId:"sc-1178o2t-4"})(["",""],(function(_ref5){var theme=_ref5.theme;return(0,_styledComponents.css)(["font-size:",";line-height:",";"],theme.eui.euiFontSizeXS,theme.eui.euiLineHeight)}));exports.BarAction=BarAction;BarAction.displayName="BarAction"},7162:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RuleStep=void 0;var RuleStep;exports.RuleStep=RuleStep;(function(RuleStep){RuleStep["defineRule"]="define-rule";RuleStep["aboutRule"]="about-rule";RuleStep["scheduleRule"]="schedule-rule"})(RuleStep||(exports.RuleStep=RuleStep={}))},7163:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetectionEngineHeaderPage=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _header_page=__webpack_require__(7130);var i18n=_interopRequireWildcard(__webpack_require__(8919));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DetectionEngineHeaderPageComponent=function DetectionEngineHeaderPageComponent(props){return _react.default.createElement(_header_page.HeaderPage,props)};DetectionEngineHeaderPageComponent.defaultProps={badgeOptions:{beta:true,text:i18n.PAGE_BADGE_LABEL,tooltip:i18n.PAGE_BADGE_TOOLTIP}};var DetectionEngineHeaderPage=_react.default.memo(DetectionEngineHeaderPageComponent);exports.DetectionEngineHeaderPage=DetectionEngineHeaderPage},7164:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GlobalTime=exports.GlobalTimeComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _store=__webpack_require__(7016);var _actions=__webpack_require__(1882);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var GlobalTimeComponent=function GlobalTimeComponent(_ref){var children=_ref.children,deleteAllQuery=_ref.deleteAllQuery,deleteOneQuery=_ref.deleteOneQuery,from=_ref.from,to=_ref.to,setGlobalQuery=_ref.setGlobalQuery;var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),isInitializing=_useState2[0],setIsInitializing=_useState2[1];(0,_react.useEffect)((function(){if(isInitializing){setIsInitializing(false)}return function(){deleteAllQuery({id:"global"})}}),[]);return _react.default.createElement(_react.default.Fragment,null,children({isInitializing:isInitializing,from:from,to:to,setQuery:function setQuery(_ref2){var id=_ref2.id,inspect=_ref2.inspect,loading=_ref2.loading,refetch=_ref2.refetch;return setGlobalQuery({inputId:"global",id:id,inspect:inspect,loading:loading,refetch:refetch})},deleteQuery:function deleteQuery(_ref3){var id=_ref3.id;return deleteOneQuery({inputId:"global",id:id})}}))};exports.GlobalTimeComponent=GlobalTimeComponent;var mapStateToProps=function mapStateToProps(state){var timerange=_store.inputsSelectors.globalTimeRangeSelector(state);return{from:timerange.from,to:timerange.to}};var GlobalTime=(0,_reactRedux.connect)(mapStateToProps,{deleteAllQuery:_actions.inputsActions.deleteAllQuery,deleteOneQuery:_actions.inputsActions.deleteOneQuery,setGlobalQuery:_actions.inputsActions.setQuery})(_react.default.memo(GlobalTimeComponent));exports.GlobalTime=GlobalTime},7165:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VIEW_EVENTS=exports.VIEW_ALERTS=exports.SIGNAL_COUNT=exports.RECENT_TIMELINES=exports.PAGE_SUBTITLE=exports.PAGE_TITLE=exports.NEWS_FEED_TITLE=exports.EVENTS=exports.ALERTS_GRAPH_TITLE=void 0;var _i18n=__webpack_require__(2);var ALERTS_GRAPH_TITLE=_i18n.i18n.translate("xpack.siem.overview.alertsGraphTitle",{defaultMessage:"External alert count"});exports.ALERTS_GRAPH_TITLE=ALERTS_GRAPH_TITLE;var EVENTS=_i18n.i18n.translate("xpack.siem.overview.eventsTitle",{defaultMessage:"Event count"});exports.EVENTS=EVENTS;var NEWS_FEED_TITLE=_i18n.i18n.translate("xpack.siem.overview.newsFeedSidebarTitle",{defaultMessage:"Security news"});exports.NEWS_FEED_TITLE=NEWS_FEED_TITLE;var PAGE_TITLE=_i18n.i18n.translate("xpack.siem.overview.pageTitle",{defaultMessage:"SIEM"});exports.PAGE_TITLE=PAGE_TITLE;var PAGE_SUBTITLE=_i18n.i18n.translate("xpack.siem.overview.pageSubtitle",{defaultMessage:"Security Information & Event Management with the Elastic Stack"});exports.PAGE_SUBTITLE=PAGE_SUBTITLE;var RECENT_TIMELINES=_i18n.i18n.translate("xpack.siem.overview.recentTimelinesSidebarTitle",{defaultMessage:"Recent timelines"});exports.RECENT_TIMELINES=RECENT_TIMELINES;var SIGNAL_COUNT=_i18n.i18n.translate("xpack.siem.overview.signalCountTitle",{defaultMessage:"Signal count"});exports.SIGNAL_COUNT=SIGNAL_COUNT;var VIEW_ALERTS=_i18n.i18n.translate("xpack.siem.overview.viewAlertsButtonLabel",{defaultMessage:"View alerts"});exports.VIEW_ALERTS=VIEW_ALERTS;var VIEW_EVENTS=_i18n.i18n.translate("xpack.siem.overview.viewEventsButtonLabel",{defaultMessage:"View events"});exports.VIEW_EVENTS=VIEW_EVENTS},7182:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.myEpicTimelineId=void 0;var _manage_timeline_id=__webpack_require__(8447);var myEpicTimelineId=new _manage_timeline_id.ManageEpicTimelineId;exports.myEpicTimelineId=myEpicTimelineId},7183:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.refetchQueries=void 0;var _index=__webpack_require__(7278);var _types=__webpack_require__(671);var _constants=__webpack_require__(7504);var refetchQueries=[{query:_index.allTimelinesQuery,variables:{search:"",pageInfo:{pageIndex:1,pageSize:10},sort:{sortField:_constants.DEFAULT_SORT_FIELD,sortOrder:_types.Direction.desc},onlyUserFavorite:false}}];exports.refetchQueries=refetchQueries},7184:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.dispatcherTimelinePersistQueue=void 0;var _rxjs=__webpack_require__(37);var dispatcherTimelinePersistQueue=new _rxjs.Subject;exports.dispatcherTimelinePersistQueue=dispatcherTimelinePersistQueue},7198:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DroppableWrapper=void 0;var _polished=__webpack_require__(91);var _react=_interopRequireDefault(__webpack_require__(0));var _reactBeautifulDnd=__webpack_require__(7089);var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var ReactDndDropTarget=_styledComponents.default.div.withConfig({displayName:"ReactDndDropTarget",componentId:"qi6zuc-0"})(["transition:background-color 0.7s ease;width:100%;height:",";.flyout-overlay{.euiPanel{background-color:",";}}"," > div.timeline-drop-area{.drop-and-provider-timeline{display:none;}& + div{display:none !important;}}"],(function(_ref){var height=_ref.height;return height}),(function(props){return props.theme.eui.euiFormBackgroundColor}),(function(props){return props.isDraggingOver?"\n    .drop-and-provider-timeline {\n      &:hover {\n        background-color: ".concat((0,_polished.rgba)(props.theme.eui.euiColorSuccess,.3),";\n      }\n    }\n    .drop-and-provider-timeline:hover {\n        background-color: ").concat((0,_polished.rgba)(props.theme.eui.euiColorSuccess,.3),";\n    }\n  > div.timeline-drop-area-empty {\n     color: ").concat(props.theme.eui.euiColorSuccess,";\n     background-color: ").concat((0,_polished.rgba)(props.theme.eui.euiColorSuccess,.2),";\n\n     & .euiTextColor--subdued {\n      color: ").concat(props.theme.eui.euiColorSuccess,";\n     }\n  }\n  > div.timeline-drop-area {\n    background-color: ").concat((0,_polished.rgba)(props.theme.eui.euiColorSuccess,.2),";\n    .provider-item-filter-container div:first-child{\n      /* Override dragNdrop beautiful so we do not have our droppable moving around for no good reason */\n      transform: none !important;\n    }\n    .drop-and-provider-timeline {\n      display: block !important;\n      + div {\n        display: none;\n      }\n    }\n\n    & .euiFormHelpText {\n      color: ").concat(props.theme.eui.euiColorSuccess,";\n    }\n  }\n  .flyout-overlay {\n    .euiPanel {\n      background-color: ").concat(props.theme.eui.euiColorLightShade,";\n    }\n    + div {\n      /* Override dragNdrop beautiful so we do not have our droppable moving around for no good reason */\n      display: none !important;\n    }\n  }\n  "):""}));ReactDndDropTarget.displayName="ReactDndDropTarget";var DroppableWrapper=_react.default.memo((function(_ref2){var _ref2$children=_ref2.children,children=_ref2$children===void 0?null:_ref2$children,droppableId=_ref2.droppableId,_ref2$height=_ref2.height,height=_ref2$height===void 0?"100%":_ref2$height,_ref2$isDropDisabled=_ref2.isDropDisabled,isDropDisabled=_ref2$isDropDisabled===void 0?false:_ref2$isDropDisabled,type=_ref2.type,_ref2$render=_ref2.render,render=_ref2$render===void 0?null:_ref2$render;return _react.default.createElement(_reactBeautifulDnd.Droppable,{isDropDisabled:isDropDisabled,droppableId:droppableId,direction:"horizontal",type:type},(function(provided,snapshot){return _react.default.createElement(ReactDndDropTarget,_extends({height:height,ref:provided.innerRef},provided.droppableProps,{isDraggingOver:snapshot.isDraggingOver}),render==null?children:render({isDraggingOver:snapshot.isDraggingOver}),provided.placeholder)}))}));exports.DroppableWrapper=DroppableWrapper;DroppableWrapper.displayName="DroppableWrapper"},7199:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"useDateFormat",{enumerable:true,get:function get(){return _use_ui_settings.useDateFormat}});Object.defineProperty(exports,"useTimeZone",{enumerable:true,get:function get(){return _use_ui_settings.useTimeZone}});var _use_ui_settings=__webpack_require__(8667)},7200:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SuperDatePicker=exports.makeMapStateToProps=exports.dispatchUpdateReduxTime=exports.formatDate=exports.SuperDatePickerComponent=void 0;var _datemath=_interopRequireDefault(__webpack_require__(77));var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _constants=__webpack_require__(977);var _kibana=__webpack_require__(7013);var _actions=__webpack_require__(1882);var _selectors=__webpack_require__(7578);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var MAX_RECENTLY_USED_RANGES=9;var SuperDatePickerComponent=_react.default.memo((function(_ref){var duration=_ref.duration,end=_ref.end,fromStr=_ref.fromStr,id=_ref.id,isLoading=_ref.isLoading,kind=_ref.kind,kqlQuery=_ref.kqlQuery,policy=_ref.policy,queries=_ref.queries,setDuration=_ref.setDuration,start=_ref.start,startAutoReload=_ref.startAutoReload,stopAutoReload=_ref.stopAutoReload,timelineId=_ref.timelineId,toStr=_ref.toStr,updateReduxTime=_ref.updateReduxTime;var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),isQuickSelection=_useState2[0],setIsQuickSelection=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=_slicedToArray(_useState3,2),recentlyUsedRanges=_useState4[0],setRecentlyUsedRanges=_useState4[1];var onRefresh=(0,_react.useCallback)((function(_ref2){var newStart=_ref2.start,newEnd=_ref2.end;var _updateReduxTime=updateReduxTime({end:newEnd,id:id,isInvalid:false,isQuickSelection:isQuickSelection,kql:kqlQuery,start:newStart,timelineId:timelineId}),kqlHaveBeenUpdated=_updateReduxTime.kqlHaveBeenUpdated;var currentStart=formatDate(newStart);var currentEnd=isQuickSelection?formatDate(newEnd,{roundUp:true}):formatDate(newEnd);if(!kqlHaveBeenUpdated&&(!isQuickSelection||start===currentStart&&end===currentEnd)){refetchQuery(queries)}}),[end,id,isQuickSelection,kqlQuery,start,timelineId]);var onRefreshChange=(0,_react.useCallback)((function(_ref3){var isPaused=_ref3.isPaused,refreshInterval=_ref3.refreshInterval;if(duration!==refreshInterval){setDuration({id:id,duration:refreshInterval})}if(isPaused&&policy==="interval"){stopAutoReload({id:id})}else if(!isPaused&&policy==="manual"){startAutoReload({id:id})}if(!isPaused&&(!isQuickSelection||isQuickSelection&&toStr!=="now")){refetchQuery(queries)}}),[id,isQuickSelection,duration,policy,toStr]);var refetchQuery=function refetchQuery(newQueries){newQueries.forEach((function(q){return q.refetch&&q.refetch()}))};var onTimeChange=(0,_react.useCallback)((function(_ref4){var newStart=_ref4.start,newEnd=_ref4.end,newIsQuickSelection=_ref4.isQuickSelection,isInvalid=_ref4.isInvalid;if(!isInvalid){updateReduxTime({end:newEnd,id:id,isInvalid:isInvalid,isQuickSelection:newIsQuickSelection,kql:kqlQuery,start:newStart,timelineId:timelineId});var newRecentlyUsedRanges=[{start:newStart,end:newEnd}].concat(_toConsumableArray((0,_fp.take)(MAX_RECENTLY_USED_RANGES,recentlyUsedRanges.filter((function(recentlyUsedRange){return!(recentlyUsedRange.start===newStart&&recentlyUsedRange.end===newEnd)})))));setRecentlyUsedRanges(newRecentlyUsedRanges);setIsQuickSelection(newIsQuickSelection)}}),[recentlyUsedRanges,kqlQuery]);var endDate=kind==="relative"?toStr:new Date(end).toISOString();var startDate=kind==="relative"?fromStr:new Date(start).toISOString();var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_TIMEPICKER_QUICK_RANGES),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),quickRanges=_useUiSetting$2[0];var commonlyUsedRanges=(0,_fp.isEmpty)(quickRanges)?[]:quickRanges.map((function(_ref5){var from=_ref5.from,to=_ref5.to,display=_ref5.display;return{start:from,end:to,label:display}}));return _react.default.createElement(_eui.EuiSuperDatePicker,{commonlyUsedRanges:commonlyUsedRanges,end:endDate,isLoading:isLoading,isPaused:policy==="manual",onRefresh:onRefresh,onRefreshChange:onRefreshChange,onTimeChange:onTimeChange,recentlyUsedRanges:recentlyUsedRanges,refreshInterval:duration,showUpdateButton:true,start:startDate})}));exports.SuperDatePickerComponent=SuperDatePickerComponent;var formatDate=function formatDate(date,options){var momentDate=_datemath.default.parse(date,options);return momentDate!=null&&momentDate.isValid()?momentDate.valueOf():0};exports.formatDate=formatDate;var dispatchUpdateReduxTime=function dispatchUpdateReduxTime(dispatch){return function(_ref6){var end=_ref6.end,id=_ref6.id,isQuickSelection=_ref6.isQuickSelection,kql=_ref6.kql,start=_ref6.start,timelineId=_ref6.timelineId;var fromDate=formatDate(start);var toDate=formatDate(end,{roundUp:true});if(isQuickSelection){dispatch(_actions.inputsActions.setRelativeRangeDatePicker({id:id,fromStr:start,toStr:end,from:fromDate,to:toDate}))}else{toDate=formatDate(end);dispatch(_actions.inputsActions.setAbsoluteRangeDatePicker({id:id,from:formatDate(start),to:formatDate(end)}))}if(timelineId!=null){dispatch(_actions.timelineActions.updateRange({id:timelineId,start:fromDate,end:toDate}))}if(kql){return{kqlHaveBeenUpdated:kql.refetch(dispatch)}}return{kqlHaveBeenUpdated:false}}};exports.dispatchUpdateReduxTime=dispatchUpdateReduxTime;var makeMapStateToProps=function makeMapStateToProps(){var getDurationSelector=(0,_selectors.durationSelector)();var getEndSelector=(0,_selectors.endSelector)();var getFromStrSelector=(0,_selectors.fromStrSelector)();var getIsLoadingSelector=(0,_selectors.isLoadingSelector)();var getKindSelector=(0,_selectors.kindSelector)();var getKqlQuerySelector=(0,_selectors.kqlQuerySelector)();var getPolicySelector=(0,_selectors.policySelector)();var getQueriesSelector=(0,_selectors.queriesSelector)();var getStartSelector=(0,_selectors.startSelector)();var getToStrSelector=(0,_selectors.toStrSelector)();return function(state,_ref7){var id=_ref7.id;var inputsRange=(0,_fp.getOr)({},"inputs.".concat(id),state);return{duration:getDurationSelector(inputsRange),end:getEndSelector(inputsRange),fromStr:getFromStrSelector(inputsRange),isLoading:getIsLoadingSelector(inputsRange),kind:getKindSelector(inputsRange),kqlQuery:getKqlQuerySelector(inputsRange),policy:getPolicySelector(inputsRange),queries:getQueriesSelector(inputsRange),start:getStartSelector(inputsRange),toStr:getToStrSelector(inputsRange)}}};exports.makeMapStateToProps=makeMapStateToProps;SuperDatePickerComponent.displayName="SuperDatePickerComponent";var mapDispatchToProps=function mapDispatchToProps(dispatch){return{startAutoReload:function startAutoReload(_ref8){var id=_ref8.id;return dispatch(_actions.inputsActions.startAutoReload({id:id}))},stopAutoReload:function stopAutoReload(_ref9){var id=_ref9.id;return dispatch(_actions.inputsActions.stopAutoReload({id:id}))},setDuration:function setDuration(_ref10){var id=_ref10.id,duration=_ref10.duration;return dispatch(_actions.inputsActions.setDuration({id:id,duration:duration}))},updateReduxTime:dispatchUpdateReduxTime(dispatch)}};var SuperDatePicker=(0,_reactRedux.connect)(makeMapStateToProps,mapDispatchToProps)(SuperDatePickerComponent);exports.SuperDatePicker=SuperDatePicker},7201:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetectionEngineTab=void 0;var DetectionEngineTab;exports.DetectionEngineTab=DetectionEngineTab;(function(DetectionEngineTab){DetectionEngineTab["signals"]="signals";DetectionEngineTab["alerts"]="alerts"})(DetectionEngineTab||(exports.DetectionEngineTab=DetectionEngineTab={}))},7202:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTabsOnHostDetailsUrl=exports.getHostDetailsUrl=exports.getTabsOnHostsUrl=exports.getHostsUrl=exports.RedirectToHostDetailsPage=exports.RedirectToHostsPage=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _redirect_wrapper=__webpack_require__(7148);var _model=__webpack_require__(504);var _types=__webpack_require__(7030);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RedirectToHostsPage=function RedirectToHostsPage(_ref){var tabName=_ref.match.params.tabName,search=_ref.location.search;var defaultSelectedTab=_model.HostsTableType.hosts;var selectedTab=tabName?tabName:defaultSelectedTab;var to="/".concat(_types.SiemPageName.hosts,"/").concat(selectedTab).concat(search);return _react.default.createElement(_redirect_wrapper.RedirectWrapper,{to:to})};exports.RedirectToHostsPage=RedirectToHostsPage;var RedirectToHostDetailsPage=function RedirectToHostDetailsPage(_ref2){var _ref2$match$params=_ref2.match.params,detailName=_ref2$match$params.detailName,tabName=_ref2$match$params.tabName,search=_ref2.location.search;var defaultSelectedTab=_model.HostsTableType.authentications;var selectedTab=tabName?tabName:defaultSelectedTab;var to="/".concat(_types.SiemPageName.hosts,"/").concat(detailName,"/").concat(selectedTab).concat(search);return _react.default.createElement(_redirect_wrapper.RedirectWrapper,{to:to})};exports.RedirectToHostDetailsPage=RedirectToHostDetailsPage;var baseHostsUrl="#/link-to/".concat(_types.SiemPageName.hosts);var getHostsUrl=function getHostsUrl(){return baseHostsUrl};exports.getHostsUrl=getHostsUrl;var getTabsOnHostsUrl=function getTabsOnHostsUrl(tabName){return"".concat(baseHostsUrl,"/").concat(tabName)};exports.getTabsOnHostsUrl=getTabsOnHostsUrl;var getHostDetailsUrl=function getHostDetailsUrl(detailName){return"".concat(baseHostsUrl,"/").concat(detailName)};exports.getHostDetailsUrl=getHostDetailsUrl;var getTabsOnHostDetailsUrl=function getTabsOnHostDetailsUrl(detailName,tabName){return"".concat(baseHostsUrl,"/").concat(detailName,"/").concat(tabName)};exports.getTabsOnHostDetailsUrl=getTabsOnHostDetailsUrl},7203:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LastEventTime=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireWildcard(__webpack_require__(0));var _last_event_time=__webpack_require__(8703);var _empty_value=__webpack_require__(7017);var _formatted_date=__webpack_require__(7027);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LastEventTime=(0,_react2.memo)((function(_ref){var hostName=_ref.hostName,indexKey=_ref.indexKey,ip=_ref.ip;var _useLastEventTimeQuer=(0,_last_event_time.useLastEventTimeQuery)(indexKey,{hostName:hostName,ip:ip},"default"),loading=_useLastEventTimeQuer.loading,lastSeen=_useLastEventTimeQuer.lastSeen,errorMessage=_useLastEventTimeQuer.errorMessage;if(errorMessage!=null){return _react2.default.createElement(_eui.EuiToolTip,{position:"top",content:errorMessage,"data-test-subj":"last_event_time_error","aria-label":"last_event_time_error",id:"last_event_time_error-".concat(indexKey)},_react2.default.createElement(_eui.EuiIcon,{"aria-describedby":"last_event_time_error-".concat(indexKey),type:"alert"}))}return _react2.default.createElement(_react2.default.Fragment,null,loading&&_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}),!loading&&lastSeen!=null&&new Date(lastSeen).toString()==="Invalid Date"?lastSeen:!loading&&lastSeen!=null&&_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.headerPage.pageSubtitle",defaultMessage:"Last event: {beat}",values:{beat:_react2.default.createElement(_formatted_date.FormattedRelativePreferenceDate,{value:lastSeen})}}),!loading&&lastSeen==null&&(0,_empty_value.getEmptyTagValue)())}));exports.LastEventTime=LastEventTime;LastEventTime.displayName="LastEventTime"},7204:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TIME_STAMP=exports.NETWORK_NAME=exports.DETECTOR=exports.ENTITY=exports.INFLUENCED_BY=exports.HOST_NAME=exports.SCORE=exports.TOOLTIP=exports.UNIT=exports.ANOMALIES=exports.SHOWING=void 0;var _i18n=__webpack_require__(2);var SHOWING=_i18n.i18n.translate("xpack.siem.anomaliesTable.table.showingDescription",{defaultMessage:"Showing"});exports.SHOWING=SHOWING;var ANOMALIES=_i18n.i18n.translate("xpack.siem.anomaliesTable.table.anomaliesDescription",{defaultMessage:"Anomalies"});exports.ANOMALIES=ANOMALIES;var UNIT=function UNIT(totalCount){return _i18n.i18n.translate("xpack.siem.anomaliesTable.table.unit",{values:{totalCount:totalCount},defaultMessage:"{totalCount, plural, =1 {anomaly} other {anomalies}}"})};exports.UNIT=UNIT;var TOOLTIP=_i18n.i18n.translate("xpack.siem.anomaliesTable.table.anomaliesTooltip",{defaultMessage:"The anomalies table is not filterable via the SIEM global KQL search."});exports.TOOLTIP=TOOLTIP;var SCORE=_i18n.i18n.translate("xpack.siem.ml.table.scoreTitle",{defaultMessage:"Anomaly score"});exports.SCORE=SCORE;var HOST_NAME=_i18n.i18n.translate("xpack.siem.ml.table.hostNameTitle",{defaultMessage:"Host name"});exports.HOST_NAME=HOST_NAME;var INFLUENCED_BY=_i18n.i18n.translate("xpack.siem.ml.table.influencedByTitle",{defaultMessage:"Influenced by"});exports.INFLUENCED_BY=INFLUENCED_BY;var ENTITY=_i18n.i18n.translate("xpack.siem.ml.table.entityTitle",{defaultMessage:"Entity"});exports.ENTITY=ENTITY;var DETECTOR=_i18n.i18n.translate("xpack.siem.ml.table.detectorTitle",{defaultMessage:"Job"});exports.DETECTOR=DETECTOR;var NETWORK_NAME=_i18n.i18n.translate("xpack.siem.ml.table.networkNameTitle",{defaultMessage:"Network IP"});exports.NETWORK_NAME=NETWORK_NAME;var TIME_STAMP=_i18n.i18n.translate("xpack.siem.ml.table.timestampTitle",{defaultMessage:"Timestamp"});exports.TIME_STAMP=TIME_STAMP},7205:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DefaultFieldRendererOverflow=exports.MoreContainer=exports.DefaultFieldRenderer=exports.reputationRenderer=exports.whoisRenderer=exports.hostNameRenderer=exports.hostIdRenderer=exports.autonomousSystemRenderer=exports.dateRenderer=exports.locationRenderer=exports.DEFAULT_MORE_MAX_HEIGHT=exports.IpOverviewId=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _fp=__webpack_require__(223);var _react2=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _helpers=__webpack_require__(7021);var _draggables=__webpack_require__(7018);var _empty_value=__webpack_require__(7017);var _formatted_date=__webpack_require__(7027);var _links=__webpack_require__(7034);var _page=__webpack_require__(7055);var i18n=_interopRequireWildcard(__webpack_require__(7324));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var DraggableContainerFlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"DraggableContainerFlexGroup",componentId:"np40zo-0"})(["flex-grow:unset;"]);var IpOverviewId="ip-overview";exports.IpOverviewId=IpOverviewId;var DEFAULT_MORE_MAX_HEIGHT="200px";exports.DEFAULT_MORE_MAX_HEIGHT=DEFAULT_MORE_MAX_HEIGHT;var locationRenderer=function locationRenderer(fieldNames,data){return fieldNames.length>0&&fieldNames.every((function(fieldName){return(0,_fp.getOr)(null,fieldName,data)}))?_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none","data-test-subj":"location-field"},fieldNames.map((function(fieldName,index){var locationValue=(0,_fp.getOr)("",fieldName,data);return _react2.default.createElement(_react2.Fragment,{key:"".concat(IpOverviewId,"-").concat(fieldName)},index?",":"",_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_draggables.DefaultDraggable,{id:"location-renderer-default-draggable-".concat(IpOverviewId,"-").concat(fieldName),field:fieldName,value:locationValue})))}))):(0,_empty_value.getEmptyTagValue)()};exports.locationRenderer=locationRenderer;var dateRenderer=function dateRenderer(timestamp){return _react2.default.createElement(_formatted_date.FormattedRelativePreferenceDate,{value:timestamp})};exports.dateRenderer=dateRenderer;var autonomousSystemRenderer=function autonomousSystemRenderer(as,flowTarget){return as&&as.organization&&as.organization.name&&as.number?_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_draggables.DefaultDraggable,{id:"autonomous-system-renderer-default-draggable-".concat(IpOverviewId,"-").concat(flowTarget,".as.organization.name"),field:"".concat(flowTarget,".as.organization.name"),value:as.organization.name})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},"/"),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_draggables.DefaultDraggable,{id:"autonomous-system-renderer-default-draggable-".concat(IpOverviewId,"-").concat(flowTarget,".as.number"),field:"".concat(flowTarget,".as.number"),value:"".concat(as.number)}))):(0,_empty_value.getEmptyTagValue)()};exports.autonomousSystemRenderer=autonomousSystemRenderer;var hostIdRenderer=function hostIdRenderer(_ref){var host=_ref.host,ipFilter=_ref.ipFilter,noLink=_ref.noLink;return host.id&&host.ip&&(ipFilter==null||host.ip.includes(ipFilter))?_react2.default.createElement(_react2.default.Fragment,null,host.name&&host.name[0]!=null?_react2.default.createElement(_draggables.DefaultDraggable,{id:"host-id-renderer-default-draggable-".concat(IpOverviewId,"-host-id"),field:"host.id",value:host.id[0]},noLink?_react2.default.createElement(_react2.default.Fragment,null,host.id):_react2.default.createElement(_links.HostDetailsLink,{hostName:host.name[0]},host.id)):_react2.default.createElement(_react2.default.Fragment,null,host.id)):(0,_empty_value.getEmptyTagValue)()};exports.hostIdRenderer=hostIdRenderer;var hostNameRenderer=function hostNameRenderer(host,ipFilter){return host.name&&host.name[0]&&host.ip&&(!(ipFilter!=null)||host.ip.includes(ipFilter))?_react2.default.createElement(_draggables.DefaultDraggable,{id:"host-name-renderer-default-draggable-".concat(IpOverviewId,"-host-name"),field:"host.name",value:host.name[0]},_react2.default.createElement(_links.HostDetailsLink,{hostName:host.name[0]},host.name?host.name:(0,_empty_value.getEmptyTagValue)())):(0,_empty_value.getEmptyTagValue)()};exports.hostNameRenderer=hostNameRenderer;var whoisRenderer=function whoisRenderer(ip){return _react2.default.createElement(_links.WhoIsLink,{domain:ip},i18n.VIEW_WHOIS)};exports.whoisRenderer=whoisRenderer;var reputationRenderer=function reputationRenderer(ip){return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_links.VirusTotalLink,{link:ip},i18n.VIEW_VIRUS_TOTAL),", ",_react2.default.createElement(_links.ReputationLink,{domain:ip},i18n.VIEW_TALOS_INTELLIGENCE))};exports.reputationRenderer=reputationRenderer;var DefaultFieldRenderer=_react2.default.memo((function(_ref2){var attrName=_ref2.attrName,_ref2$displayCount=_ref2.displayCount,displayCount=_ref2$displayCount===void 0?1:_ref2$displayCount,idPrefix=_ref2.idPrefix,_ref2$moreMaxHeight=_ref2.moreMaxHeight,moreMaxHeight=_ref2$moreMaxHeight===void 0?DEFAULT_MORE_MAX_HEIGHT:_ref2$moreMaxHeight,render=_ref2.render,rowItems=_ref2.rowItems;if(rowItems!=null&&rowItems.length>0){var draggables=rowItems.slice(0,displayCount).map((function(rowItem,index){var id=(0,_helpers.escapeDataProviderId)("default-field-renderer-default-draggable-".concat(idPrefix,"-").concat(attrName,"-").concat(rowItem));return _react2.default.createElement(_eui.EuiFlexItem,{key:id,grow:false},index!==0&&_react2.default.createElement(_react2.default.Fragment,null,",",_react2.default.createElement(_page.Spacer,null)),_react2.default.createElement(_draggables.DefaultDraggable,{id:id,field:attrName,value:rowItem},render?render(rowItem):rowItem))}));return draggables.length>0?_react2.default.createElement(DraggableContainerFlexGroup,{alignItems:"center",gutterSize:"none",component:"span"},draggables," ",_react2.default.createElement(DefaultFieldRendererOverflow,{rowItems:rowItems,idPrefix:idPrefix,render:render,overflowIndexStart:displayCount,moreMaxHeight:moreMaxHeight})):(0,_empty_value.getEmptyTagValue)()}else{return(0,_empty_value.getEmptyTagValue)()}}));exports.DefaultFieldRenderer=DefaultFieldRenderer;DefaultFieldRenderer.displayName="DefaultFieldRenderer";var MoreContainer=_react2.default.memo((function(_ref3){var idPrefix=_ref3.idPrefix,render=_ref3.render,rowItems=_ref3.rowItems,moreMaxHeight=_ref3.moreMaxHeight,overflowIndexStart=_ref3.overflowIndexStart;return _react2.default.createElement("div",{"data-test-subj":"more-container",style:{maxHeight:moreMaxHeight,overflow:"auto",paddingRight:"2px"}},rowItems.slice(overflowIndexStart).map((function(rowItem,i){return _react2.default.createElement(_eui.EuiText,{key:"".concat(idPrefix,"-").concat(rowItem,"-").concat(i),size:"s"},render?render(rowItem):rowItem)})))}));exports.MoreContainer=MoreContainer;MoreContainer.displayName="MoreContainer";var DefaultFieldRendererOverflow=_react2.default.memo((function(_ref4){var idPrefix=_ref4.idPrefix,moreMaxHeight=_ref4.moreMaxHeight,_ref4$overflowIndexSt=_ref4.overflowIndexStart,overflowIndexStart=_ref4$overflowIndexSt===void 0?5:_ref4$overflowIndexSt,render=_ref4.render,rowItems=_ref4.rowItems;var _useState=(0,_react2.useState)(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];return _react2.default.createElement(_eui.EuiFlexItem,{grow:false},rowItems.length>overflowIndexStart&&_react2.default.createElement(_eui.EuiPopover,{id:"popover",button:_react2.default.createElement(_react2.default.Fragment,null," ,",_react2.default.createElement(_eui.EuiButtonEmpty,{size:"xs",onClick:function onClick(){return setIsOpen(!isOpen)}},"+".concat(rowItems.length-overflowIndexStart," "),_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.fieldRenderers.moreLabel",defaultMessage:"More"}))),isOpen:isOpen,closePopover:function closePopover(){return setIsOpen(!isOpen)}},_react2.default.createElement(MoreContainer,{idPrefix:idPrefix,render:render,rowItems:rowItems,moreMaxHeight:moreMaxHeight,overflowIndexStart:overflowIndexStart})))}));exports.DefaultFieldRendererOverflow=DefaultFieldRendererOverflow;DefaultFieldRendererOverflow.displayName="DefaultFieldRendererOverflow"},7206:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EMPTY_ACTION_SECONDARY=exports.EMPTY_ACTION_PRIMARY=exports.EMPTY_MESSAGE=exports.EMPTY_TITLE=void 0;var _i18n=__webpack_require__(2);var EMPTY_TITLE=_i18n.i18n.translate("xpack.siem.pages.common.emptyTitle",{defaultMessage:"Welcome to SIEM. Lets get you started."});exports.EMPTY_TITLE=EMPTY_TITLE;var EMPTY_MESSAGE=_i18n.i18n.translate("xpack.siem.pages.common.emptyMessage",{defaultMessage:"To begin using security information and event management (SIEM), youll need to add SIEM-related data, in Elastic Common Schema (ECS) format, to the Elastic Stack. An easy way to get started is by installing and configuring our data shippers, called Beats. Lets do that now!"});exports.EMPTY_MESSAGE=EMPTY_MESSAGE;var EMPTY_ACTION_PRIMARY=_i18n.i18n.translate("xpack.siem.pages.common.emptyActionPrimary",{defaultMessage:"Add data with Beats"});exports.EMPTY_ACTION_PRIMARY=EMPTY_ACTION_PRIMARY;var EMPTY_ACTION_SECONDARY=_i18n.i18n.translate("xpack.siem.pages.common.emptyActionSecondary",{defaultMessage:"View getting started guide"});exports.EMPTY_ACTION_SECONDARY=EMPTY_ACTION_SECONDARY},7207:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnomaliesQueryTabBody=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var i18n=_interopRequireWildcard(__webpack_require__(8744));var _utils=__webpack_require__(8745);var _use_siem_jobs=__webpack_require__(7317);var _kibana=__webpack_require__(7013);var _constants=__webpack_require__(977);var _matrix_histogram=__webpack_require__(7109);var _index=__webpack_require__(7110);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ID="anomaliesOverTimeQuery";var anomaliesStackByOptions=[{text:i18n.ANOMALIES_STACK_BY_JOB_ID,value:"job_id"}];var AnomaliesQueryTabBody=function AnomaliesQueryTabBody(_ref){var deleteQuery=_ref.deleteQuery,endDate=_ref.endDate,setQuery=_ref.setQuery,skip=_ref.skip,startDate=_ref.startDate,type=_ref.type,narrowDateRange=_ref.narrowDateRange,filterQuery=_ref.filterQuery,anomaliesFilterQuery=_ref.anomaliesFilterQuery,_ref$updateDateRange=_ref.updateDateRange,updateDateRange=_ref$updateDateRange===void 0?function(){}:_ref$updateDateRange,AnomaliesTableComponent=_ref.AnomaliesTableComponent,flowTarget=_ref.flowTarget,ip=_ref.ip;(0,_react.useEffect)((function(){return function(){if(deleteQuery){deleteQuery({id:ID})}}}),[]);var _useSiemJobs=(0,_use_siem_jobs.useSiemJobs)(true),_useSiemJobs2=_slicedToArray(_useSiemJobs,2),siemJobs=_useSiemJobs2[1];var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_ANOMALY_SCORE),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),anomalyScore=_useUiSetting$2[0];var mergedFilterQuery=(0,_utils.getAnomaliesFilterQuery)(filterQuery,anomaliesFilterQuery,siemJobs,anomalyScore,flowTarget,ip);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_matrix_histogram.MatrixHistogramContainer,{isAnomaliesHistogram:true,dataKey:"AnomaliesHistogram",defaultStackByOption:anomaliesStackByOptions[0],endDate:endDate,errorMessage:i18n.ERROR_FETCHING_ANOMALIES_DATA,filterQuery:mergedFilterQuery,hideHistogramIfEmpty:true,id:ID,query:_index.MatrixHistogramGqlQuery,setQuery:setQuery,skip:skip,sourceId:"default",stackByOptions:anomaliesStackByOptions,startDate:startDate,title:i18n.ANOMALIES_TITLE,type:type,updateDateRange:updateDateRange}),_react.default.createElement(AnomaliesTableComponent,{startDate:startDate,endDate:endDate,skip:skip,type:type,narrowDateRange:narrowDateRange,flowTarget:flowTarget,ip:ip}))};exports.AnomaliesQueryTabBody=AnomaliesQueryTabBody;AnomaliesQueryTabBody.displayName="AnomaliesQueryTabBody"},7208:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checkIfAllValuesAreZero=exports.getChartWidth=exports.getChartHeight=exports.chartDefaultSettings=exports.useTheme=exports.SeriesType=exports.WrappedByAutoSizer=exports.defaultChartWidth=exports.defaultChartHeight=void 0;var _charts=__webpack_require__(42);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _kibana=__webpack_require__(7013);var _constants=__webpack_require__(977);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var defaultChartHeight="100%";exports.defaultChartHeight=defaultChartHeight;var defaultChartWidth="100%";exports.defaultChartWidth=defaultChartWidth;var chartDefaultRotation=0;var chartDefaultRendering="canvas";var WrappedByAutoSizer=_styledComponents.default.div.withConfig({displayName:"WrappedByAutoSizer",componentId:"sc-1ymm3r1-0"})([""," position:relative;&:hover{z-index:100;}"],(function(style){return"\n    height: ".concat(style.height!=null?style.height:defaultChartHeight,";\n  ")}));exports.WrappedByAutoSizer=WrappedByAutoSizer;WrappedByAutoSizer.displayName="WrappedByAutoSizer";var SeriesType;exports.SeriesType=SeriesType;(function(SeriesType){SeriesType["BAR"]="bar";SeriesType["AREA"]="area";SeriesType["LINE"]="line"})(SeriesType||(exports.SeriesType=SeriesType={}));var theme={chartMargins:{left:0,right:0,top:4,bottom:0},chartPaddings:{left:0,right:0,top:0,bottom:0},scales:{barsPadding:.05}};var useTheme=function useTheme(){var isDarkMode=(0,_kibana.useUiSetting)(_constants.DEFAULT_DARK_MODE);var defaultTheme=isDarkMode?_charts.DARK_THEME:_charts.LIGHT_THEME;return(0,_charts.mergeWithDefaultTheme)(theme,defaultTheme)};exports.useTheme=useTheme;var chartDefaultSettings={rotation:chartDefaultRotation,rendering:chartDefaultRendering,animatedData:false,showLegend:false,showLegendDisplayValue:false,debug:false,legendPosition:_charts.Position.Bottom};exports.chartDefaultSettings=chartDefaultSettings;var getChartHeight=function getChartHeight(customHeight,autoSizerHeight){var height=customHeight||autoSizerHeight;return height?"".concat(height,"px"):defaultChartHeight};exports.getChartHeight=getChartHeight;var getChartWidth=function getChartWidth(customWidth,autoSizerWidth){var height=customWidth||autoSizerWidth;return height?"".concat(height,"px"):defaultChartWidth};exports.getChartWidth=getChartWidth;var checkIfAllValuesAreZero=function checkIfAllValuesAreZero(data){return Array.isArray(data)&&data.every((function(series){return Array.isArray(series.value)&&series.value.every((function(_ref){var y=_ref.y;return y===0}))}))};exports.checkIfAllValuesAreZero=checkIfAllValuesAreZero},7209:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DOMAINS_COUNT_BY=exports.NAVIGATION_ALERTS_TITLE=exports.NAVIGATION_ANOMALIES_TITLE=exports.NAVIGATION_HTTP_TITLE=exports.NAVIGATION_TLS_TITLE=exports.ERROR_FETCHING_DNS_DATA=exports.NAVIGATION_DNS_TITLE=exports.NAVIGATION_FLOWS_TITLE=exports.PAGE_TITLE=exports.KQL_PLACEHOLDER=void 0;var _i18n=__webpack_require__(2);var KQL_PLACEHOLDER=_i18n.i18n.translate("xpack.siem.network.kqlPlaceholder",{defaultMessage:'e.g. source.ip: "foo"'});exports.KQL_PLACEHOLDER=KQL_PLACEHOLDER;var PAGE_TITLE=_i18n.i18n.translate("xpack.siem.network.pageTitle",{defaultMessage:"Network"});exports.PAGE_TITLE=PAGE_TITLE;var NAVIGATION_FLOWS_TITLE=_i18n.i18n.translate("xpack.siem.network.navigation.flowsTitle",{defaultMessage:"Flows"});exports.NAVIGATION_FLOWS_TITLE=NAVIGATION_FLOWS_TITLE;var NAVIGATION_DNS_TITLE=_i18n.i18n.translate("xpack.siem.network.navigation.dnsTitle",{defaultMessage:"DNS"});exports.NAVIGATION_DNS_TITLE=NAVIGATION_DNS_TITLE;var ERROR_FETCHING_DNS_DATA=_i18n.i18n.translate("xpack.siem.hosts.navigation.dns.histogram.errorFetchingDnsData",{defaultMessage:"Failed to query DNS data"});exports.ERROR_FETCHING_DNS_DATA=ERROR_FETCHING_DNS_DATA;var NAVIGATION_TLS_TITLE=_i18n.i18n.translate("xpack.siem.network.navigation.tlsTitle",{defaultMessage:"TLS"});exports.NAVIGATION_TLS_TITLE=NAVIGATION_TLS_TITLE;var NAVIGATION_HTTP_TITLE=_i18n.i18n.translate("xpack.siem.network.navigation.httpTitle",{defaultMessage:"HTTP"});exports.NAVIGATION_HTTP_TITLE=NAVIGATION_HTTP_TITLE;var NAVIGATION_ANOMALIES_TITLE=_i18n.i18n.translate("xpack.siem.network.navigation.anomaliesTitle",{defaultMessage:"Anomalies"});exports.NAVIGATION_ANOMALIES_TITLE=NAVIGATION_ANOMALIES_TITLE;var NAVIGATION_ALERTS_TITLE=_i18n.i18n.translate("xpack.siem.network.navigation.alertsTitle",{defaultMessage:"External alerts"});exports.NAVIGATION_ALERTS_TITLE=NAVIGATION_ALERTS_TITLE;var DOMAINS_COUNT_BY=function DOMAINS_COUNT_BY(groupByField){return _i18n.i18n.translate("xpack.siem.network.dns.stackByUniqueSubdomain",{values:{groupByField:groupByField},defaultMessage:"Top domains by {groupByField}"})};exports.DOMAINS_COUNT_BY=DOMAINS_COUNT_BY},7210:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createSignalIndex=exports.getUserPrivilege=exports.getSignalIndex=exports.updateSignalStatus=exports.fetchQuerySignals=void 0;var _chrome=_interopRequireDefault(__webpack_require__(8));var _api=__webpack_require__(7106);var _constants=__webpack_require__(977);var _types=__webpack_require__(7626);var _api2=__webpack_require__(7582);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var fetchQuerySignals=function fetchQuerySignals(_ref){var query,signal,response,signals;return regeneratorRuntime.async((function fetchQuerySignals$(_context){while(1){switch(_context.prev=_context.next){case 0:query=_ref.query,signal=_ref.signal;_context.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_QUERY_SIGNALS_URL),{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},body:JSON.stringify(query),signal:signal}));case 3:response=_context.sent;_context.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:_context.next=8;return regeneratorRuntime.awrap(response.json());case 8:signals=_context.sent;return _context.abrupt("return",signals);case 10:case"end":return _context.stop()}}}))};exports.fetchQuerySignals=fetchQuerySignals;var updateSignalStatus=function updateSignalStatus(_ref2){var query,status,signal,response;return regeneratorRuntime.async((function updateSignalStatus$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:query=_ref2.query,status=_ref2.status,signal=_ref2.signal;_context2.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_SIGNALS_STATUS_URL),{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},body:JSON.stringify(_objectSpread({status:status},query)),signal:signal}));case 3:response=_context2.sent;_context2.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:return _context2.abrupt("return",response.json());case 7:case"end":return _context2.stop()}}}))};exports.updateSignalStatus=updateSignalStatus;var getSignalIndex=function getSignalIndex(_ref3){var signal,response,signalIndex,error;return regeneratorRuntime.async((function getSignalIndex$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:signal=_ref3.signal;_context3.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_INDEX_URL),{method:"GET",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},signal:signal}));case 3:response=_context3.sent;if(!response.ok){_context3.next=9;break}_context3.next=7;return regeneratorRuntime.awrap(response.json());case 7:signalIndex=_context3.sent;return _context3.abrupt("return",signalIndex);case 9:_context3.next=11;return regeneratorRuntime.awrap((0,_api2.parseJsonFromBody)(response));case 11:error=_context3.sent;if(!(error!=null)){_context3.next=14;break}throw new _types.SignalIndexError(error);case 14:return _context3.abrupt("return",null);case 15:case"end":return _context3.stop()}}}))};exports.getSignalIndex=getSignalIndex;var getUserPrivilege=function getUserPrivilege(_ref4){var signal,response;return regeneratorRuntime.async((function getUserPrivilege$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:signal=_ref4.signal;_context4.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_PRIVILEGES_URL),{method:"GET",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},signal:signal}));case 3:response=_context4.sent;_context4.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:return _context4.abrupt("return",response.json());case 7:case"end":return _context4.stop()}}}))};exports.getUserPrivilege=getUserPrivilege;var createSignalIndex=function createSignalIndex(_ref5){var signal,response,_signalIndex,error;return regeneratorRuntime.async((function createSignalIndex$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:signal=_ref5.signal;_context5.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath()).concat(_constants.DETECTION_ENGINE_INDEX_URL),{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json","kbn-xsrf":"true"},signal:signal}));case 3:response=_context5.sent;if(!response.ok){_context5.next=9;break}_context5.next=7;return regeneratorRuntime.awrap(response.json());case 7:_signalIndex=_context5.sent;return _context5.abrupt("return",_signalIndex);case 9:_context5.next=11;return regeneratorRuntime.awrap((0,_api2.parseJsonFromBody)(response));case 11:error=_context5.sent;if(!(error!=null)){_context5.next=14;break}throw new _types.PostSignalError(error);case 14:return _context5.abrupt("return",null);case 15:case"end":return _context5.stop()}}}))};exports.createSignalIndex=createSignalIndex},7211:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Duration=exports.EVENT_DURATION_FIELD_NAME=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _formatted_duration=__webpack_require__(7643);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EVENT_DURATION_FIELD_NAME="event.duration";exports.EVENT_DURATION_FIELD_NAME=EVENT_DURATION_FIELD_NAME;var Duration=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,fieldName=_ref.fieldName,value=_ref.value;return _react.default.createElement(_draggables.DefaultDraggable,{id:"duration-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(fieldName,"-").concat(value),name:name,field:fieldName,tooltipContent:null,value:value},_react.default.createElement(_formatted_duration.FormattedDuration,{maybeDurationNanoseconds:value,tooltipTitle:fieldName}))}));exports.Duration=Duration;Duration.displayName="Duration"},7212:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Ip=exports.DESTINATION_IP_FIELD_NAME=exports.SOURCE_IP_FIELD_NAME=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _formatted_field=__webpack_require__(7338);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SOURCE_IP_FIELD_NAME="source.ip";exports.SOURCE_IP_FIELD_NAME=SOURCE_IP_FIELD_NAME;var DESTINATION_IP_FIELD_NAME="destination.ip";exports.DESTINATION_IP_FIELD_NAME=DESTINATION_IP_FIELD_NAME;var IP_FIELD_TYPE="ip";var Ip=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,fieldName=_ref.fieldName,value=_ref.value;return _react.default.createElement(_formatted_field.FormattedFieldValue,{contextId:contextId,"data-test-subj":"formatted-ip",eventId:eventId,fieldName:fieldName,fieldType:IP_FIELD_TYPE,value:value})}));exports.Ip=Ip;Ip.displayName="Ip"},7213:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NETWORK_TRANSPORT_FIELD_NAME=exports.NETWORK_PROTOCOL_FIELD_NAME=exports.NETWORK_PACKETS_FIELD_NAME=exports.NETWORK_DIRECTION_FIELD_NAME=exports.NETWORK_COMMUNITY_ID_FIELD_NAME=exports.NETWORK_BYTES_FIELD_NAME=void 0;var NETWORK_BYTES_FIELD_NAME="network.bytes";exports.NETWORK_BYTES_FIELD_NAME=NETWORK_BYTES_FIELD_NAME;var NETWORK_COMMUNITY_ID_FIELD_NAME="network.community_id";exports.NETWORK_COMMUNITY_ID_FIELD_NAME=NETWORK_COMMUNITY_ID_FIELD_NAME;var NETWORK_DIRECTION_FIELD_NAME="network.direction";exports.NETWORK_DIRECTION_FIELD_NAME=NETWORK_DIRECTION_FIELD_NAME;var NETWORK_PACKETS_FIELD_NAME="network.packets";exports.NETWORK_PACKETS_FIELD_NAME=NETWORK_PACKETS_FIELD_NAME;var NETWORK_PROTOCOL_FIELD_NAME="network.protocol";exports.NETWORK_PROTOCOL_FIELD_NAME=NETWORK_PROTOCOL_FIELD_NAME;var NETWORK_TRANSPORT_FIELD_NAME="network.transport";exports.NETWORK_TRANSPORT_FIELD_NAME=NETWORK_TRANSPORT_FIELD_NAME},7214:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceDestinationArrows=exports.DESTINATION_PACKETS_FIELD_NAME=exports.DESTINATION_BYTES_FIELD_NAME=exports.SOURCE_PACKETS_FIELD_NAME=exports.SOURCE_BYTES_FIELD_NAME=void 0;var _eui=__webpack_require__(1);var _numeral=_interopRequireDefault(__webpack_require__(148));var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _arrows=__webpack_require__(8826);var _helpers=__webpack_require__(8827);var _draggables=__webpack_require__(7018);var _formatted_bytes=__webpack_require__(7133);var i18n=_interopRequireWildcard(__webpack_require__(7648));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SOURCE_BYTES_FIELD_NAME="source.bytes";exports.SOURCE_BYTES_FIELD_NAME=SOURCE_BYTES_FIELD_NAME;var SOURCE_PACKETS_FIELD_NAME="source.packets";exports.SOURCE_PACKETS_FIELD_NAME=SOURCE_PACKETS_FIELD_NAME;var DESTINATION_BYTES_FIELD_NAME="destination.bytes";exports.DESTINATION_BYTES_FIELD_NAME=DESTINATION_BYTES_FIELD_NAME;var DESTINATION_PACKETS_FIELD_NAME="destination.packets";exports.DESTINATION_PACKETS_FIELD_NAME=DESTINATION_PACKETS_FIELD_NAME;var Percent=_styledComponents.default.span.withConfig({displayName:"Percent",componentId:"sc-19dc9rw-0"})(["margin-right:5px;"]);Percent.displayName="Percent";var SourceDestinationArrowsContainer=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"SourceDestinationArrowsContainer",componentId:"sc-19dc9rw-1"})(["margin:0 2px;"]);SourceDestinationArrowsContainer.displayName="SourceDestinationArrowsContainer";var Data=(0,_styledComponents.default)(_eui.EuiText).withConfig({displayName:"Data",componentId:"sc-19dc9rw-2"})(["margin:0 5px;"]);Data.displayName="Data";var SourceArrow=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,sourceBytes=_ref.sourceBytes,sourceBytesPercent=_ref.sourceBytesPercent,sourcePackets=_ref.sourcePackets;var sourceArrowHeight=sourceBytesPercent!=null?(0,_helpers.getArrowHeightFromPercent)(sourceBytesPercent):_helpers.DEFAULT_ARROW_HEIGHT;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none",justifyContent:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_arrows.ArrowBody,{height:sourceArrowHeight})),sourceBytes!=null&&!isNaN(Number(sourceBytes))?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_draggables.DefaultDraggable,{field:SOURCE_BYTES_FIELD_NAME,id:"source-arrow-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(SOURCE_BYTES_FIELD_NAME,"-").concat(sourceBytes),value:sourceBytes},_react.default.createElement(Data,{size:"xs"},sourceBytesPercent!=null?_react.default.createElement(Percent,{"data-test-subj":"source-bytes-percent"},"(".concat((0,_numeral.default)(sourceBytesPercent).format("0.00"),"%)")):null,_react.default.createElement("span",{"data-test-subj":"source-bytes"},_react.default.createElement(_formatted_bytes.PreferenceFormattedBytes,{value:sourceBytes}))))):null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_arrows.ArrowBody,{"data-test-subj":"source-arrow",height:sourceArrowHeight})),sourcePackets!=null&&!isNaN(Number(sourcePackets))?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_draggables.DefaultDraggable,{field:SOURCE_PACKETS_FIELD_NAME,id:"source-arrow-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(SOURCE_PACKETS_FIELD_NAME,"-").concat(sourcePackets),value:sourcePackets},_react.default.createElement(Data,{size:"xs"},_react.default.createElement("span",{"data-test-subj":"source-packets"},"".concat(sourcePackets," ").concat(i18n.PACKETS))))):null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_arrows.ArrowBody,{height:sourceArrowHeight})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_arrows.ArrowHead,{direction:"arrowRight"})))}));SourceArrow.displayName="SourceArrow";var DestinationArrow=_react.default.memo((function(_ref2){var contextId=_ref2.contextId,eventId=_ref2.eventId,destinationBytes=_ref2.destinationBytes,destinationBytesPercent=_ref2.destinationBytesPercent,destinationPackets=_ref2.destinationPackets;var destinationArrowHeight=destinationBytesPercent!=null?(0,_helpers.getArrowHeightFromPercent)(destinationBytesPercent):_helpers.DEFAULT_ARROW_HEIGHT;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none",justifyContent:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_arrows.ArrowHead,{direction:"arrowLeft"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_arrows.ArrowBody,{height:destinationArrowHeight})),destinationBytes!=null&&!isNaN(Number(destinationBytes))?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_draggables.DefaultDraggable,{field:DESTINATION_BYTES_FIELD_NAME,id:"destination-arrow-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(DESTINATION_BYTES_FIELD_NAME,"-").concat(destinationBytes),value:destinationBytes},_react.default.createElement(Data,{size:"xs"},destinationBytesPercent!=null?_react.default.createElement(Percent,{"data-test-subj":"destination-bytes-percent"},"(".concat((0,_numeral.default)(destinationBytesPercent).format("0.00"),"%)")):null,_react.default.createElement("span",{"data-test-subj":"destination-bytes"},_react.default.createElement(_formatted_bytes.PreferenceFormattedBytes,{value:destinationBytes}))))):null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_arrows.ArrowBody,{height:destinationArrowHeight})),destinationPackets!=null&&!isNaN(Number(destinationPackets))?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_draggables.DefaultDraggable,{field:DESTINATION_PACKETS_FIELD_NAME,id:"destination-arrow-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(DESTINATION_PACKETS_FIELD_NAME,"-").concat(destinationPackets),value:destinationPackets},_react.default.createElement(Data,{size:"xs"},_react.default.createElement("span",{"data-test-subj":"destination-packets"},"".concat((0,_numeral.default)(destinationPackets).format("0,0")," ").concat(i18n.PACKETS))))):null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_arrows.ArrowBody,{height:destinationArrowHeight})))}));DestinationArrow.displayName="DestinationArrow";var SourceDestinationArrows=_react.default.memo((function(_ref3){var contextId=_ref3.contextId,destinationBytes=_ref3.destinationBytes,destinationPackets=_ref3.destinationPackets,eventId=_ref3.eventId,sourceBytes=_ref3.sourceBytes,sourcePackets=_ref3.sourcePackets;var maybeSourceBytes=sourceBytes!=null&&(0,_helpers.hasOneValue)(sourceBytes)?sourceBytes[0]:undefined;var maybeSourcePackets=sourcePackets!=null&&(0,_helpers.hasOneValue)(sourcePackets)?sourcePackets[0]:undefined;var maybeDestinationBytes=destinationBytes!=null&&(0,_helpers.hasOneValue)(destinationBytes)?destinationBytes[0]:undefined;var maybeDestinationPackets=destinationPackets!=null&&(0,_helpers.hasOneValue)(destinationPackets)?destinationPackets[0]:undefined;var maybeSourceBytesPercent=maybeSourceBytes!=null&&maybeDestinationBytes!=null?(0,_helpers.getPercent)({numerator:Number(maybeSourceBytes),denominator:Number(maybeSourceBytes)+Number(maybeDestinationBytes)}):undefined;var maybeDestinationBytesPercent=maybeSourceBytesPercent!=null?100-maybeSourceBytesPercent:undefined;return _react.default.createElement(SourceDestinationArrowsContainer,{alignItems:"center","data-test-subj":"source-destination-arrows-container",justifyContent:"center",direction:"column",gutterSize:"none"},maybeSourceBytes!=null?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(SourceArrow,{contextId:contextId,sourceBytes:maybeSourceBytes,sourcePackets:maybeSourcePackets,sourceBytesPercent:maybeSourceBytesPercent,eventId:eventId})):null,maybeDestinationBytes!=null?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(DestinationArrow,{contextId:contextId,destinationBytes:maybeDestinationBytes,destinationPackets:maybeDestinationPackets,destinationBytesPercent:maybeDestinationBytesPercent,eventId:eventId})):null)}));exports.SourceDestinationArrows=SourceDestinationArrows;SourceDestinationArrows.displayName="SourceDestinationArrows"},7215:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UserHostWorkingDir=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _helpers=__webpack_require__(7022);var _host_working_dir=__webpack_require__(7651);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UserHostWorkingDir=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,hostName=_ref.hostName,_ref$hostNameSeparato=_ref.hostNameSeparator,hostNameSeparator=_ref$hostNameSeparato===void 0?"@":_ref$hostNameSeparato,userDomain=_ref.userDomain,_ref$userDomainField=_ref.userDomainField,userDomainField=_ref$userDomainField===void 0?"user.domain":_ref$userDomainField,userName=_ref.userName,_ref$userNameField=_ref.userNameField,userNameField=_ref$userNameField===void 0?"user.name":_ref$userNameField,workingDirectory=_ref.workingDirectory;return userName!=null||userDomain!=null||hostName!=null||workingDirectory!=null?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:userNameField,value:userName,iconType:"user"})),userDomain!=null&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_helpers.TokensFlexItem,{"data-test-subj":"user-host-working-dir-domain-separator-text",grow:false,component:"span"},"\\"),_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:userDomainField,value:userDomain}))),hostName!=null&&userName!=null&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},hostNameSeparator),_react.default.createElement(_host_working_dir.HostWorkingDir,{contextId:contextId,eventId:eventId,hostName:hostName,workingDirectory:workingDirectory})):null}));exports.UserHostWorkingDir=UserHostWorkingDir;UserHostWorkingDir.displayName="UserHostWorkingDir"},7216:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AndOrBadge=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var i18n=_interopRequireWildcard(__webpack_require__(8873));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RoundedBadge=(0,_styledComponents.default)(_eui.EuiBadge).withConfig({displayName:"RoundedBadge",componentId:"sc-4mnjoc-0"})(["align-items:center;border-radius:100%;display:inline-flex;font-size:9px;height:34px;justify-content:center;margin:0 5px 0 5px;padding:7px 6px 4px 6px;user-select:none;width:34px;.euiBadge__content{position:relative;top:-1px;}.euiBadge__text{text-overflow:clip;}"]);RoundedBadge.displayName="RoundedBadge";var AndOrBadge=_react.default.memo((function(_ref){var type=_ref.type;return _react.default.createElement(RoundedBadge,{"data-test-subj":"and-or-badge",color:"hollow"},type==="and"?i18n.AND:i18n.OR)}));exports.AndOrBadge=AndOrBadge;AndOrBadge.displayName="AndOrBadge"},7217:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.signalsHistogramOptions=void 0;var signalsHistogramOptions=[{text:"signal.rule.risk_score",value:"signal.rule.risk_score"},{text:"signal.rule.severity",value:"signal.rule.severity"},{text:"signal.rule.threat.tactic.name",value:"signal.rule.threat.tactic.name"},{text:"destination.ip",value:"destination.ip"},{text:"event.action",value:"event.action"},{text:"event.category",value:"event.category"},{text:"host.name",value:"host.name"},{text:"signal.rule.type",value:"signal.rule.type"},{text:"signal.rule.name",value:"signal.rule.name"},{text:"source.ip",value:"source.ip"},{text:"user.name",value:"user.name"}];exports.signalsHistogramOptions=signalsHistogramOptions},7218:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.enableRulesAction=exports.deleteRulesAction=exports.exportRulesAction=exports.duplicateRulesAction=exports.editRuleAction=void 0;var _redirect_to_detection_engine=__webpack_require__(7043);var _rules=__webpack_require__(7059);var _toasters=__webpack_require__(7019);var _telemetry=__webpack_require__(995);var i18n=_interopRequireWildcard(__webpack_require__(7031));var _helpers=__webpack_require__(7683);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var editRuleAction=function editRuleAction(rule,history){history.push("/".concat(_redirect_to_detection_engine.DETECTION_ENGINE_PAGE_NAME,"/rules/id/").concat(rule.id,"/edit"))};exports.editRuleAction=editRuleAction;var duplicateRulesAction=function duplicateRulesAction(rules,ruleIds,dispatch,dispatchToaster){var response,_bucketRulesResponse,errors;return regeneratorRuntime.async((function duplicateRulesAction$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:"loadingRuleIds",ids:ruleIds,actionType:"duplicate"});_context.next=4;return regeneratorRuntime.awrap((0,_rules.duplicateRules)({rules:rules}));case 4:response=_context.sent;_bucketRulesResponse=(0,_helpers.bucketRulesResponse)(response),errors=_bucketRulesResponse.errors;if(errors.length>0){(0,_toasters.displayErrorToast)(i18n.DUPLICATE_RULE_ERROR,errors.map((function(e){return e.error.message})),dispatchToaster)}else{(0,_toasters.displaySuccessToast)(i18n.SUCCESSFULLY_DUPLICATED_RULES(ruleIds.length),dispatchToaster)}dispatch({type:"loadingRuleIds",ids:[],actionType:null});_context.next=14;break;case 10:_context.prev=10;_context.t0=_context["catch"](0);dispatch({type:"loadingRuleIds",ids:[],actionType:null});(0,_toasters.displayErrorToast)(i18n.DUPLICATE_RULE_ERROR,[_context.t0.message],dispatchToaster);case 14:case"end":return _context.stop()}}}),null,null,[[0,10]])};exports.duplicateRulesAction=duplicateRulesAction;var exportRulesAction=function exportRulesAction(exportRuleId,dispatch){dispatch({type:"exportRuleIds",ids:exportRuleId})};exports.exportRulesAction=exportRulesAction;var deleteRulesAction=function deleteRulesAction(ruleIds,dispatch,dispatchToaster,onRuleDeleted){var _response,_bucketRulesResponse2,_errors;return regeneratorRuntime.async((function deleteRulesAction$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:"loadingRuleIds",ids:ruleIds,actionType:"delete"});_context2.next=4;return regeneratorRuntime.awrap((0,_rules.deleteRules)({ids:ruleIds}));case 4:_response=_context2.sent;_bucketRulesResponse2=(0,_helpers.bucketRulesResponse)(_response),_errors=_bucketRulesResponse2.errors;dispatch({type:"loadingRuleIds",ids:[],actionType:null});if(_errors.length>0){(0,_toasters.displayErrorToast)(i18n.BATCH_ACTION_DELETE_SELECTED_ERROR(ruleIds.length),_errors.map((function(e){return e.error.message})),dispatchToaster)}else if(onRuleDeleted){onRuleDeleted()}_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2["catch"](0);dispatch({type:"loadingRuleIds",ids:[],actionType:null});(0,_toasters.displayErrorToast)(i18n.BATCH_ACTION_DELETE_SELECTED_ERROR(ruleIds.length),[_context2.t0.message],dispatchToaster);case 14:case"end":return _context2.stop()}}}),null,null,[[0,10]])};exports.deleteRulesAction=deleteRulesAction;var enableRulesAction=function enableRulesAction(ids,enabled,dispatch,dispatchToaster){var errorTitle,_response2,_bucketRulesResponse3,rules,_errors2;return regeneratorRuntime.async((function enableRulesAction$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:errorTitle=enabled?i18n.BATCH_ACTION_ACTIVATE_SELECTED_ERROR(ids.length):i18n.BATCH_ACTION_DEACTIVATE_SELECTED_ERROR(ids.length);_context3.prev=1;dispatch({type:"loadingRuleIds",ids:ids,actionType:enabled?"enable":"disable"});_context3.next=5;return regeneratorRuntime.awrap((0,_rules.enableRules)({ids:ids,enabled:enabled}));case 5:_response2=_context3.sent;_bucketRulesResponse3=(0,_helpers.bucketRulesResponse)(_response2),rules=_bucketRulesResponse3.rules,_errors2=_bucketRulesResponse3.errors;dispatch({type:"updateRules",rules:rules});if(_errors2.length>0){(0,_toasters.displayErrorToast)(errorTitle,_errors2.map((function(e){return e.error.message})),dispatchToaster)}if(rules.some((function(rule){return rule.immutable}))){(0,_telemetry.track)(_telemetry.METRIC_TYPE.COUNT,enabled?_telemetry.TELEMETRY_EVENT.SIEM_RULE_ENABLED:_telemetry.TELEMETRY_EVENT.SIEM_RULE_DISABLED)}if(rules.some((function(rule){return!rule.immutable}))){(0,_telemetry.track)(_telemetry.METRIC_TYPE.COUNT,enabled?_telemetry.TELEMETRY_EVENT.CUSTOM_RULE_ENABLED:_telemetry.TELEMETRY_EVENT.CUSTOM_RULE_DISABLED)}_context3.next=17;break;case 13:_context3.prev=13;_context3.t0=_context3["catch"](1);(0,_toasters.displayErrorToast)(errorTitle,[_context3.t0.message],dispatchToaster);dispatch({type:"loadingRuleIds",ids:[],actionType:null});case 17:case"end":return _context3.stop()}}}),null,null,[[1,13]])};exports.enableRulesAction=enableRulesAction},7219:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _authentications_table=__webpack_require__(7687);Object.keys(_authentications_table).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _authentications_table[key]}})}));var _hosts_table=__webpack_require__(8957);Object.keys(_hosts_table).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _hosts_table[key]}})}));var _uncommon_process_table=__webpack_require__(8961);Object.keys(_uncommon_process_table).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _uncommon_process_table[key]}})}));var _kpi_hosts=__webpack_require__(8963);Object.keys(_kpi_hosts).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _kpi_hosts[key]}})}))},7220:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _authentications_query_tab_body=__webpack_require__(8983);Object.keys(_authentications_query_tab_body).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _authentications_query_tab_body[key]}})}));var _events_query_tab_body=__webpack_require__(8986);Object.keys(_events_query_tab_body).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _events_query_tab_body[key]}})}));var _hosts_query_tab_body=__webpack_require__(8988);Object.keys(_hosts_query_tab_body).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _hosts_query_tab_body[key]}})}));var _uncommon_process_query_tab_body=__webpack_require__(8991);Object.keys(_uncommon_process_query_tab_body).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _uncommon_process_query_tab_body[key]}})}));var _alerts_query_tab_body=__webpack_require__(7360);Object.keys(_alerts_query_tab_body).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _alerts_query_tab_body[key]}})}))},7221:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"IpOverview",{enumerable:true,get:function get(){return _ip_overview.IpOverview}});Object.defineProperty(exports,"KpiNetworkComponent",{enumerable:true,get:function get(){return _kpi_network.KpiNetworkComponent}});Object.defineProperty(exports,"NetworkDnsTable",{enumerable:true,get:function get(){return _network_dns_table.NetworkDnsTable}});Object.defineProperty(exports,"NetworkTopCountriesTable",{enumerable:true,get:function get(){return _network_top_countries_table.NetworkTopCountriesTable}});Object.defineProperty(exports,"NetworkTopNFlowTable",{enumerable:true,get:function get(){return _network_top_n_flow_table.NetworkTopNFlowTable}});Object.defineProperty(exports,"NetworkHttpTable",{enumerable:true,get:function get(){return _network_http_table.NetworkHttpTable}});var _ip_overview=__webpack_require__(7599);var _kpi_network=__webpack_require__(9016);var _network_dns_table=__webpack_require__(7695);var _network_top_countries_table=__webpack_require__(7607);var _network_top_n_flow_table=__webpack_require__(7609);var _network_http_table=__webpack_require__(7604)},7222:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VIEW_ALL_TIMELINES=exports.UNTITLED_TIMELINE=exports.PINNED_EVENTS=exports.OPEN_AS_DUPLICATE=exports.NOTES=exports.NO_TIMELINES=exports.NO_FAVORITE_TIMELINES=exports.ERROR_RETRIEVING_USER_DETAILS=void 0;var _i18n=__webpack_require__(2);var ERROR_RETRIEVING_USER_DETAILS=_i18n.i18n.translate("xpack.siem.recentTimelines.errorRetrievingUserDetailsMessage",{defaultMessage:"Recent Timelines: An error occurred while retrieving user details"});exports.ERROR_RETRIEVING_USER_DETAILS=ERROR_RETRIEVING_USER_DETAILS;var NO_FAVORITE_TIMELINES=_i18n.i18n.translate("xpack.siem.recentTimelines.noFavoriteTimelinesMessage",{defaultMessage:"You haven't favorited any timelines yet. Get out there and start threat hunting!"});exports.NO_FAVORITE_TIMELINES=NO_FAVORITE_TIMELINES;var NO_TIMELINES=_i18n.i18n.translate("xpack.siem.recentTimelines.noTimelinesMessage",{defaultMessage:"You haven't created any timelines yet. Get out there and start threat hunting!"});exports.NO_TIMELINES=NO_TIMELINES;var NOTES=_i18n.i18n.translate("xpack.siem.recentTimelines.notesTooltip",{defaultMessage:"Notes"});exports.NOTES=NOTES;var OPEN_AS_DUPLICATE=_i18n.i18n.translate("xpack.siem.recentTimelines.openAsDuplicateTooltip",{defaultMessage:"Open as a duplicate timeline"});exports.OPEN_AS_DUPLICATE=OPEN_AS_DUPLICATE;var PINNED_EVENTS=_i18n.i18n.translate("xpack.siem.recentTimelines.pinnedEventsTooltip",{defaultMessage:"Pinned events"});exports.PINNED_EVENTS=PINNED_EVENTS;var UNTITLED_TIMELINE=_i18n.i18n.translate("xpack.siem.recentTimelines.untitledTimelineLabel",{defaultMessage:"Untitled timeline"});exports.UNTITLED_TIMELINE=UNTITLED_TIMELINE;var VIEW_ALL_TIMELINES=_i18n.i18n.translate("xpack.siem.recentTimelines.viewAllTimelinesLink",{defaultMessage:"View all timelines"});exports.VIEW_ALL_TIMELINES=VIEW_ALL_TIMELINES},7277:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getActionsColumnWidth=exports.getColumnWidthFromType=exports.getColumnHeaders=void 0;var _fp=__webpack_require__(223);var _constants=__webpack_require__(7047);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getColumnHeaders=function getColumnHeaders(headers,browserFields){return headers.map((function(header){var splitHeader=header.id.split(".");return _objectSpread({},header,{},(0,_fp.get)([splitHeader.length>1?splitHeader[0]:"base","fields",header.id],browserFields))}))};exports.getColumnHeaders=getColumnHeaders;var getColumnWidthFromType=function getColumnWidthFromType(type){return type!=="date"?_constants.DEFAULT_COLUMN_MIN_WIDTH:_constants.DEFAULT_DATE_COLUMN_MIN_WIDTH};exports.getColumnWidthFromType=getColumnWidthFromType;var getActionsColumnWidth=function getActionsColumnWidth(isEventViewer){var showCheckboxes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var additionalActionWidth=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return(showCheckboxes?_constants.SHOW_CHECK_BOXES_COLUMN_WIDTH:0)+(isEventViewer?_constants.EVENTS_VIEWER_ACTIONS_COLUMN_WIDTH:_constants.DEFAULT_ACTIONS_COLUMN_WIDTH)+additionalActionWidth};exports.getActionsColumnWidth=getActionsColumnWidth},7278:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.allTimelinesQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetAllTimeline(\n    $pageInfo: PageInfoTimeline!\n    $search: String\n    $sort: SortTimeline\n    $onlyUserFavorite: Boolean\n  ) {\n    getAllTimeline(\n      pageInfo: $pageInfo\n      search: $search\n      sort: $sort\n      onlyUserFavorite: $onlyUserFavorite\n    ) {\n      totalCount\n      timeline {\n        savedObjectId\n        description\n        favorite {\n          fullName\n          userName\n          favoriteDate\n        }\n        eventIdToNoteIds {\n          eventId\n          note\n          timelineId\n          noteId\n          created\n          createdBy\n          timelineVersion\n          updated\n          updatedBy\n          version\n        }\n        notes {\n          eventId\n          note\n          timelineId\n          timelineVersion\n          noteId\n          created\n          createdBy\n          updated\n          updatedBy\n          version\n        }\n        noteIds\n        pinnedEventIds\n        title\n        created\n        createdBy\n        updated\n        updatedBy\n        version\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var allTimelinesQuery=(0,_graphqlTag.default)(_templateObject());exports.allTimelinesQuery=allTimelinesQuery},7306:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NotesButton=exports.NewTimeline=exports.Name=exports.Description=exports.StarIcon=exports.newTimelineToolTip=exports.streamLiveToolTip=exports.historyToolTip=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _uuid=_interopRequireDefault(__webpack_require__(86));var _notes=__webpack_require__(8635);var _notes_size=__webpack_require__(7568);var _styles=__webpack_require__(7564);var i18n=_interopRequireWildcard(__webpack_require__(7312));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var historyToolTip="The chronological history of actions related to this timeline";exports.historyToolTip=historyToolTip;var streamLiveToolTip="Update the Timeline as new data arrives";exports.streamLiveToolTip=streamLiveToolTip;var newTimelineToolTip="Create a new timeline";exports.newTimelineToolTip=newTimelineToolTip;var NotesCountBadge=function NotesCountBadge(props){return _react.default.createElement(_eui.EuiBadge,_extends({},props,{style:{marginLeft:"5px"}}))};NotesCountBadge.displayName="NotesCountBadge";var StarIcon=_react.default.memo((function(_ref){var isFavorite=_ref.isFavorite,id=_ref.timelineId,updateIsFavorite=_ref.updateIsFavorite;return(_react.default.createElement("div",{role:"button",onClick:function onClick(){return updateIsFavorite({id:id,isFavorite:!isFavorite})}},isFavorite?_react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"timeline-favorite-filled-star-tool-tip",content:i18n.FAVORITE},_react.default.createElement(_styles.StyledStar,{"data-test-subj":"timeline-favorite-filled-star",type:"starFilled",size:"l"})):_react.default.createElement(_eui.EuiToolTip,{content:i18n.NOT_A_FAVORITE},_react.default.createElement(_styles.StyledStar,{"data-test-subj":"timeline-favorite-empty-star",type:"starEmpty",size:"l"}))))}));exports.StarIcon=StarIcon;StarIcon.displayName="StarIcon";var Description=_react.default.memo((function(_ref2){var description=_ref2.description,timelineId=_ref2.timelineId,updateDescription=_ref2.updateDescription;return _react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"timeline-description-tool-tip",content:i18n.DESCRIPTION_TOOL_TIP},_react.default.createElement(_styles.DescriptionContainer,{"data-test-subj":"description-container"},_react.default.createElement(_eui.EuiFieldText,{"aria-label":i18n.TIMELINE_DESCRIPTION,"data-test-subj":"timeline-description",fullWidth:true,onChange:function onChange(e){return updateDescription({id:timelineId,description:e.target.value})},placeholder:i18n.DESCRIPTION,spellCheck:true,value:description})))}));exports.Description=Description;Description.displayName="Description";var Name=_react.default.memo((function(_ref3){var timelineId=_ref3.timelineId,title=_ref3.title,updateTitle=_ref3.updateTitle;return _react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"timeline-title-tool-tip",content:i18n.TITLE},_react.default.createElement(_styles.NameField,{"aria-label":i18n.TIMELINE_TITLE,"data-test-subj":"timeline-title",onChange:function onChange(e){return updateTitle({id:timelineId,title:e.target.value})},placeholder:i18n.UNTITLED_TIMELINE,spellCheck:true,value:title}))}));exports.Name=Name;Name.displayName="Name";var NewTimeline=_react.default.memo((function(_ref4){var createTimeline=_ref4.createTimeline,onClosePopover=_ref4.onClosePopover,timelineId=_ref4.timelineId;return _react.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"timeline-new",color:"text",iconSide:"left",iconType:"plusInCircle",onClick:function onClick(){createTimeline({id:timelineId,show:true});onClosePopover()}},i18n.NEW_TIMELINE)}));exports.NewTimeline=NewTimeline;NewTimeline.displayName="NewTimeline";var getNewNoteId=function getNewNoteId(){return _uuid.default.v4()};var LargeNotesButton=_react.default.memo((function(_ref5){var noteIds=_ref5.noteIds,text=_ref5.text,toggleShowNotes=_ref5.toggleShowNotes;return _react.default.createElement(_eui.EuiButton,{"data-test-subj":"timeline-notes-button-large",onClick:function onClick(){return toggleShowNotes()},size:"m"},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none",justifyContent:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{color:"subdued",size:"m",type:"editorComment"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},text&&text.length?_react.default.createElement(_styles.LabelText,null,text):null),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(NotesCountBadge,{"data-test-subj":"timeline-notes-count",color:"hollow"},noteIds.length))))}));LargeNotesButton.displayName="LargeNotesButton";var SmallNotesButton=_react.default.memo((function(_ref6){var noteIds=_ref6.noteIds,toggleShowNotes=_ref6.toggleShowNotes;return _react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.NOTES,"data-test-subj":"timeline-notes-button-small",iconType:"editorComment",onClick:function onClick(){return toggleShowNotes()}})}));SmallNotesButton.displayName="SmallNotesButton";var NotesButtonComponent=_react.default.memo((function(_ref7){var _ref7$animate=_ref7.animate,animate=_ref7$animate===void 0?true:_ref7$animate,associateNote=_ref7.associateNote,getNotesByIds=_ref7.getNotesByIds,noteIds=_ref7.noteIds,showNotes=_ref7.showNotes,size=_ref7.size,toggleShowNotes=_ref7.toggleShowNotes,text=_ref7.text,updateNote=_ref7.updateNote;return _react.default.createElement(_styles.ButtonContainer,{animate:animate,"data-test-subj":"timeline-notes-button-container"},_react.default.createElement(_react.default.Fragment,null,size==="l"?_react.default.createElement(LargeNotesButton,{noteIds:noteIds,text:text,toggleShowNotes:toggleShowNotes}):_react.default.createElement(SmallNotesButton,{noteIds:noteIds,toggleShowNotes:toggleShowNotes}),size==="l"&&showNotes?_react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiModal,{maxWidth:_notes_size.NOTES_PANEL_WIDTH,onClose:toggleShowNotes},_react.default.createElement(_notes.Notes,{associateNote:associateNote,getNotesByIds:getNotesByIds,noteIds:noteIds,getNewNoteId:getNewNoteId,updateNote:updateNote}))):null))}));NotesButtonComponent.displayName="NotesButtonComponent";var NotesButton=_react.default.memo((function(_ref8){var _ref8$animate=_ref8.animate,animate=_ref8$animate===void 0?true:_ref8$animate,associateNote=_ref8.associateNote,getNotesByIds=_ref8.getNotesByIds,noteIds=_ref8.noteIds,showNotes=_ref8.showNotes,size=_ref8.size,toggleShowNotes=_ref8.toggleShowNotes,toolTip=_ref8.toolTip,text=_ref8.text,updateNote=_ref8.updateNote;return showNotes?_react.default.createElement(NotesButtonComponent,{animate:animate,associateNote:associateNote,getNotesByIds:getNotesByIds,noteIds:noteIds,showNotes:showNotes,size:size,toggleShowNotes:toggleShowNotes,text:text,updateNote:updateNote}):_react.default.createElement(_eui.EuiToolTip,{content:toolTip||"","data-test-subj":"timeline-notes-tool-tip"},_react.default.createElement(NotesButtonComponent,{animate:animate,associateNote:associateNote,getNotesByIds:getNotesByIds,noteIds:noteIds,showNotes:showNotes,size:size,toggleShowNotes:toggleShowNotes,text:text,updateNote:updateNote}))}));exports.NotesButton=NotesButton;NotesButton.displayName="NotesButton"},7307:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Markdown=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _reactMarkdown=_interopRequireDefault(__webpack_require__(8639));var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TableHeader=_styledComponents.default.thead.withConfig({displayName:"TableHeader",componentId:"dlpmsp-0"})(["font-weight:bold;"]);TableHeader.displayName="TableHeader";var REL_NOOPENER="noopener";var REL_NOFOLLOW="nofollow";var REL_NOREFERRER="noreferrer";var Markdown=_react.default.memo((function(_ref){var raw=_ref.raw,_ref$size=_ref.size,size=_ref$size===void 0?"s":_ref$size;var markdownRenderers={root:function root(_ref2){var children=_ref2.children;return _react.default.createElement(_eui.EuiText,{"data-test-subj":"markdown-root",grow:true,size:size},children)},table:function table(_ref3){var children=_ref3.children;return _react.default.createElement("table",{"data-test-subj":"markdown-table",className:"euiTable euiTable--responsive"},children)},tableHead:function tableHead(_ref4){var children=_ref4.children;return _react.default.createElement(TableHeader,{"data-test-subj":"markdown-table-header"},children)},tableRow:function tableRow(_ref5){var children=_ref5.children;return _react.default.createElement(_eui.EuiTableRow,{"data-test-subj":"markdown-table-row"},children)},tableCell:function tableCell(_ref6){var children=_ref6.children;return _react.default.createElement(_eui.EuiTableRowCell,{"data-test-subj":"markdown-table-cell"},children)},link:function link(_ref7){var children=_ref7.children,href=_ref7.href;return _react.default.createElement(_eui.EuiToolTip,{content:href},_react.default.createElement(_eui.EuiLink,{href:href,"data-test-subj":"markdown-link",rel:"".concat(REL_NOOPENER," ").concat(REL_NOFOLLOW," ").concat(REL_NOREFERRER),target:"_blank"},children))}};return _react.default.createElement(_reactMarkdown.default,{"data-test-subj":"markdown",linkTarget:"_blank",renderers:markdownRenderers,source:raw})}));exports.Markdown=Markdown;Markdown.displayName="Markdown"},7310:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WithCopyToClipboard=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _clipboard=__webpack_require__(8653);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var WithCopyToClipboardContainer=_styledComponents.default.div.withConfig({displayName:"WithCopyToClipboardContainer",componentId:"vc1vpg-0"})(["align-items:center;display:flex;flex-direction:row;user-select:text;"]);WithCopyToClipboardContainer.displayName="WithCopyToClipboardContainer";var WithCopyToClipboard=_react.default.memo((function(_ref){var text=_ref.text,titleSummary=_ref.titleSummary,children=_ref.children;return _react.default.createElement(WithCopyToClipboardContainer,null,_react.default.createElement(_react.default.Fragment,null,children),_react.default.createElement(_clipboard.Clipboard,{content:text,titleSummary:titleSummary,toastLifeTimeMs:800}))}));exports.WithCopyToClipboard=WithCopyToClipboard;WithCopyToClipboard.displayName="WithCopyToClipboard"},7311:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LocalizedDateTooltip=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _moment=_interopRequireDefault(__webpack_require__(13));var _react2=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LocalizedDateTooltip=_react2.default.memo((function(_ref){var children=_ref.children,date=_ref.date,fieldName=_ref.fieldName;return _react2.default.createElement(_eui.EuiToolTip,{"data-test-subj":"localized-date-tool-tip",content:_react2.default.createElement(_eui.EuiFlexGroup,{"data-test-subj":"dates-container",direction:"column",gutterSize:"none"},fieldName!=null?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("span",{"data-test-subj":"field-name"},fieldName)):null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_react.FormattedRelative,{"data-test-subj":"humanized-relative-date",value:_moment.default.utc(date).toDate()})),_react2.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"with-day-of-week",grow:false},_moment.default.utc(date).local().format("llll")),_react2.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"with-time-zone-offset-in-hours",grow:false},(0,_moment.default)(date).format()))},_react2.default.createElement(_react2.default.Fragment,null,children))}));exports.LocalizedDateTooltip=LocalizedDateTooltip;LocalizedDateTooltip.displayName="LocalizedDateTooltip"},7312:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UNLOCK_SYNC_MAIN_DATE_PICKER_ARIA=exports.LOCK_SYNC_MAIN_DATE_PICKER_ARIA=exports.UNLOCK_SYNC_MAIN_DATE_PICKER_TOOL_TIP=exports.LOCK_SYNC_MAIN_DATE_PICKER_TOOL_TIP=exports.STREAM_LIVE=exports.NEW_TIMELINE=exports.STREAM_LIVE_TOOL_TIP=exports.HISTORY_TOOL_TIP=exports.NOTES_TOOL_TIP=exports.NOTES=exports.IS_VIEWING=exports.HISTORY=exports.DESCRIPTION_TOOL_TIP=exports.DESCRIPTION=exports.UNTITLED_TIMELINE=exports.INSPECT_TIMELINE_TITLE=exports.TIMELINE_TITLE=exports.NOT_A_FAVORITE=exports.FAVORITE=exports.TITLE=exports.TIMELINE_DESCRIPTION=void 0;var _i18n=__webpack_require__(2);var TIMELINE_DESCRIPTION=_i18n.i18n.translate("xpack.siem.timeline.properties.timelineDescription",{defaultMessage:"Timeline Description"});exports.TIMELINE_DESCRIPTION=TIMELINE_DESCRIPTION;var TITLE=_i18n.i18n.translate("xpack.siem.timeline.properties.titleTitle",{defaultMessage:"Title"});exports.TITLE=TITLE;var FAVORITE=_i18n.i18n.translate("xpack.siem.timeline.properties.favoriteTooltip",{defaultMessage:"Favorite"});exports.FAVORITE=FAVORITE;var NOT_A_FAVORITE=_i18n.i18n.translate("xpack.siem.timeline.properties.notAFavoriteTooltip",{defaultMessage:"Not a Favorite"});exports.NOT_A_FAVORITE=NOT_A_FAVORITE;var TIMELINE_TITLE=_i18n.i18n.translate("xpack.siem.timeline.properties.timelineTitleAriaLabel",{defaultMessage:"Timeline title"});exports.TIMELINE_TITLE=TIMELINE_TITLE;var INSPECT_TIMELINE_TITLE=_i18n.i18n.translate("xpack.siem.timeline.properties.inspectTimelineTitle",{defaultMessage:"Timeline"});exports.INSPECT_TIMELINE_TITLE=INSPECT_TIMELINE_TITLE;var UNTITLED_TIMELINE=_i18n.i18n.translate("xpack.siem.timeline.properties.untitledTimelinePlaceholder",{defaultMessage:"Untitled Timeline"});exports.UNTITLED_TIMELINE=UNTITLED_TIMELINE;var DESCRIPTION=_i18n.i18n.translate("xpack.siem.timeline.properties.descriptionPlaceholder",{defaultMessage:"Description"});exports.DESCRIPTION=DESCRIPTION;var DESCRIPTION_TOOL_TIP=_i18n.i18n.translate("xpack.siem.timeline.properties.descriptionTooltip",{defaultMessage:"A summary of the events and notes in this Timeline"});exports.DESCRIPTION_TOOL_TIP=DESCRIPTION_TOOL_TIP;var HISTORY=_i18n.i18n.translate("xpack.siem.timeline.properties.historyLabel",{defaultMessage:"History"});exports.HISTORY=HISTORY;var IS_VIEWING=_i18n.i18n.translate("xpack.siem.timeline.properties.isViewingTooltip",{defaultMessage:"is viewing this Timeline"});exports.IS_VIEWING=IS_VIEWING;var NOTES=_i18n.i18n.translate("xpack.siem.timeline.properties.notesButtonLabel",{defaultMessage:"Notes"});exports.NOTES=NOTES;var NOTES_TOOL_TIP=_i18n.i18n.translate("xpack.siem.timeline.properties.notesToolTip",{defaultMessage:"Add and review notes about this Timeline. Notes may also be added to events."});exports.NOTES_TOOL_TIP=NOTES_TOOL_TIP;var HISTORY_TOOL_TIP=_i18n.i18n.translate("xpack.siem.timeline.properties.historyToolTip",{defaultMessage:"The chronological history of actions related to this timeline"});exports.HISTORY_TOOL_TIP=HISTORY_TOOL_TIP;var STREAM_LIVE_TOOL_TIP=_i18n.i18n.translate("xpack.siem.timeline.properties.streamLiveToolTip",{defaultMessage:"Update the Timeline as new data arrives"});exports.STREAM_LIVE_TOOL_TIP=STREAM_LIVE_TOOL_TIP;var NEW_TIMELINE=_i18n.i18n.translate("xpack.siem.timeline.properties.newTimelineButtonLabel",{defaultMessage:"Create New Timeline"});exports.NEW_TIMELINE=NEW_TIMELINE;var STREAM_LIVE=_i18n.i18n.translate("xpack.siem.timeline.properties.streamLiveButtonLabel",{defaultMessage:"Stream Live"});exports.STREAM_LIVE=STREAM_LIVE;var LOCK_SYNC_MAIN_DATE_PICKER_TOOL_TIP=_i18n.i18n.translate("xpack.siem.timeline.properties.lockDatePickerTooltip",{defaultMessage:"Disable syncing of date/time range between the currently viewed page and your timeline"});exports.LOCK_SYNC_MAIN_DATE_PICKER_TOOL_TIP=LOCK_SYNC_MAIN_DATE_PICKER_TOOL_TIP;var UNLOCK_SYNC_MAIN_DATE_PICKER_TOOL_TIP=_i18n.i18n.translate("xpack.siem.timeline.properties.unlockDatePickerTooltip",{defaultMessage:"Enable syncing of date/time range between the currently viewed page and your timeline"});exports.UNLOCK_SYNC_MAIN_DATE_PICKER_TOOL_TIP=UNLOCK_SYNC_MAIN_DATE_PICKER_TOOL_TIP;var LOCK_SYNC_MAIN_DATE_PICKER_ARIA=_i18n.i18n.translate("xpack.siem.timeline.properties.lockDatePickerDescription",{defaultMessage:"Lock date picker to global date picker"});exports.LOCK_SYNC_MAIN_DATE_PICKER_ARIA=LOCK_SYNC_MAIN_DATE_PICKER_ARIA;var UNLOCK_SYNC_MAIN_DATE_PICKER_ARIA=_i18n.i18n.translate("xpack.siem.timeline.properties.unlockDatePickerDescription",{defaultMessage:"Unlock date picker to global date picker"});exports.UNLOCK_SYNC_MAIN_DATE_PICKER_ARIA=UNLOCK_SYNC_MAIN_DATE_PICKER_ARIA},7313:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AllTimelinesQuery=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _memoizeOne=_interopRequireDefault(__webpack_require__(1889));var _reactApollo=__webpack_require__(695);var _index=__webpack_require__(7278);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getAllTimeline=(0,_memoizeOne.default)((function(variables,timelines){return timelines.map((function(timeline){return{created:timeline.created,description:timeline.description,eventIdToNoteIds:timeline.eventIdToNoteIds!=null?timeline.eventIdToNoteIds.reduce((function(acc,note){if(note.eventId!=null){var notes=(0,_fp.getOr)([],note.eventId,acc);return _objectSpread({},acc,_defineProperty({},note.eventId,[].concat(_toConsumableArray(notes),[note.noteId])))}return acc}),{}):null,favorite:timeline.favorite,noteIds:timeline.noteIds,notes:timeline.notes!=null?timeline.notes.map((function(note){return _objectSpread({},note,{savedObjectId:note.noteId})})):null,pinnedEventIds:timeline.pinnedEventIds!=null?timeline.pinnedEventIds.reduce((function(acc,pinnedEventId){return _objectSpread({},acc,_defineProperty({},pinnedEventId,true))}),{}):null,savedObjectId:timeline.savedObjectId,title:timeline.title,updated:timeline.updated,updatedBy:timeline.updatedBy}}))}));var AllTimelinesQueryComponent=function AllTimelinesQueryComponent(_ref){var children=_ref.children,onlyUserFavorite=_ref.onlyUserFavorite,pageInfo=_ref.pageInfo,search=_ref.search,sort=_ref.sort;var variables={onlyUserFavorite:onlyUserFavorite,pageInfo:pageInfo,search:search,sort:sort};return _react.default.createElement(_reactApollo.Query,{query:_index.allTimelinesQuery,fetchPolicy:"network-only",notifyOnNetworkStatusChange:true,variables:variables},(function(_ref2){var data=_ref2.data,loading=_ref2.loading;return children({loading:loading,totalCount:(0,_fp.getOr)(0,"getAllTimeline.totalCount",data),timelines:getAllTimeline(JSON.stringify(variables),(0,_fp.getOr)([],"getAllTimeline.timeline",data))})}))};var AllTimelinesQuery=_react.default.memo(AllTimelinesQueryComponent);exports.AllTimelinesQuery=AllTimelinesQuery},7314:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ACTION_COLUMN_WIDTH=void 0;var ACTION_COLUMN_WIDTH="40px";exports.ACTION_COLUMN_WIDTH=ACTION_COLUMN_WIDTH},7315:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIPDetailsUrl=exports.getNetworkUrl=exports.RedirectToNetworkPage=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _redirect_wrapper=__webpack_require__(7148);var _types=__webpack_require__(7030);var _types2=__webpack_require__(671);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RedirectToNetworkPage=function RedirectToNetworkPage(_ref){var _ref$match$params=_ref.match.params,detailName=_ref$match$params.detailName,flowTarget=_ref$match$params.flowTarget,search=_ref.location.search;return _react.default.createElement(_redirect_wrapper.RedirectWrapper,{to:detailName?"/".concat(_types.SiemPageName.network,"/ip/").concat(detailName,"/").concat(flowTarget).concat(search):"/".concat(_types.SiemPageName.network).concat(search)})};exports.RedirectToNetworkPage=RedirectToNetworkPage;var baseNetworkUrl="#/link-to/".concat(_types.SiemPageName.network);var getNetworkUrl=function getNetworkUrl(){return baseNetworkUrl};exports.getNetworkUrl=getNetworkUrl;var getIPDetailsUrl=function getIPDetailsUrl(detailName,flowTarget){return"".concat(baseNetworkUrl,"/ip/").concat(detailName,"/").concat(flowTarget||_types2.FlowTarget.source)};exports.getIPDetailsUrl=getIPDetailsUrl},7316:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"MessageBody",{enumerable:true,get:function get(){return _api.MessageBody}});Object.defineProperty(exports,"parseJsonFromBody",{enumerable:true,get:function get(){return _api.parseJsonFromBody}});exports.isMlStartJobError=exports.throwIfErrorAttached=exports.throwIfErrorAttachedToSetup=exports.tryParseResponse=exports.ToasterErrors=void 0;var _fp=__webpack_require__(223);var i18n=_interopRequireWildcard(__webpack_require__(8679));var _api=__webpack_require__(7582);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map:undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class)};return _wrapNativeSuper(Class)}function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ToasterErrors=function(_Error){_inherits(ToasterErrors,_Error);function ToasterErrors(messages){var _this;_classCallCheck(this,ToasterErrors);_this=_possibleConstructorReturn(this,_getPrototypeOf(ToasterErrors).call(this,messages[0]));_defineProperty(_assertThisInitialized(_this),"messages",void 0);_this.name="ToasterErrors";_this.messages=messages;return _this}return ToasterErrors}(_wrapNativeSuper(Error));exports.ToasterErrors=ToasterErrors;var tryParseResponse=function tryParseResponse(response){try{return JSON.stringify(JSON.parse(response),null,2)}catch(error){return response}};exports.tryParseResponse=tryParseResponse;var throwIfErrorAttachedToSetup=function throwIfErrorAttachedToSetup(setupResponse){var jobIdErrorFilter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var jobErrors=setupResponse.jobs.reduce((function(accum,job){return job.error!=null&&jobIdErrorFilter.includes(job.id)?[].concat(_toConsumableArray(accum),[job.error.msg,tryParseResponse(job.error.response),"".concat(i18n.STATUS_CODE," ").concat(job.error.statusCode)]):accum}),[]);var dataFeedErrors=setupResponse.datafeeds.reduce((function(accum,dataFeed){return dataFeed.error!=null&&jobIdErrorFilter.includes(dataFeed.id.substr("datafeed-".length))?[].concat(_toConsumableArray(accum),[dataFeed.error.msg,tryParseResponse(dataFeed.error.response),"".concat(i18n.STATUS_CODE," ").concat(dataFeed.error.statusCode)]):accum}),[]);var errors=[].concat(_toConsumableArray(jobErrors),_toConsumableArray(dataFeedErrors));if(errors.length>0){throw new ToasterErrors(errors)}};exports.throwIfErrorAttachedToSetup=throwIfErrorAttachedToSetup;var throwIfErrorAttached=function throwIfErrorAttached(json,dataFeedIds){var errors=dataFeedIds.reduce((function(accum,dataFeedId){var dataFeed=json[dataFeedId];if(isMlStartJobError(dataFeed)){return[].concat(_toConsumableArray(accum),[dataFeed.error.msg,tryParseResponse(dataFeed.error.response),"".concat(i18n.STATUS_CODE," ").concat(dataFeed.error.statusCode)])}else{return accum}}),[]);if(errors.length>0){throw new ToasterErrors(errors)}};exports.throwIfErrorAttached=throwIfErrorAttached;var isMlStartJobError=function isMlStartJobError(value){return(0,_fp.has)("error.msg",value)&&(0,_fp.has)("error.response",value)&&(0,_fp.has)("error.statusCode",value)};exports.isMlStartJobError=isMlStartJobError},7317:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useSiemJobs=void 0;var _react=__webpack_require__(0);var _api=__webpack_require__(7584);var _has_ml_user_permissions=__webpack_require__(7078);var _ml_capabilities_provider=__webpack_require__(7064);var _toasters=__webpack_require__(7019);var _error_to_toaster=__webpack_require__(7039);var _kibana=__webpack_require__(7013);var _constants=__webpack_require__(977);var i18n=_interopRequireWildcard(__webpack_require__(8685));var _use_siem_jobs_helpers=__webpack_require__(8686);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useSiemJobs=function useSiemJobs(refetchData){var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),siemJobs=_useState2[0],setSiemJobs=_useState2[1];var _useState3=(0,_react.useState)(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var capabilities=(0,_react.useContext)(_ml_capabilities_provider.MlCapabilitiesContext);var userPermissions=(0,_has_ml_user_permissions.hasMlUserPermissions)(capabilities);var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_INDEX_KEY),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),siemDefaultIndex=_useUiSetting$2[0];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;setLoading(true);function fetchSiemJobIdsFromGroupsData(){var _ref,_ref2,jobSummaryData,modulesData,compatibleModules,compositeSiemJobs;return regeneratorRuntime.async((function fetchSiemJobIdsFromGroupsData$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!userPermissions){_context.next=16;break}_context.prev=1;_context.next=4;return regeneratorRuntime.awrap(Promise.all([(0,_api.getJobsSummary)(abortCtrl.signal),(0,_api.getModules)({signal:abortCtrl.signal}),(0,_api.checkRecognizer)({indexPatternName:siemDefaultIndex,signal:abortCtrl.signal})]));case 4:_ref=_context.sent;_ref2=_slicedToArray(_ref,3);jobSummaryData=_ref2[0];modulesData=_ref2[1];compatibleModules=_ref2[2];compositeSiemJobs=(0,_use_siem_jobs_helpers.createSiemJobs)(jobSummaryData,modulesData,compatibleModules);if(isSubscribed){setSiemJobs(compositeSiemJobs)}_context.next=16;break;case 13:_context.prev=13;_context.t0=_context["catch"](1);if(isSubscribed){(0,_error_to_toaster.errorToToaster)({title:i18n.SIEM_JOB_FETCH_FAILURE,error:_context.t0,dispatchToaster:dispatchToaster})}case 16:if(isSubscribed){setLoading(false)}case 17:case"end":return _context.stop()}}}),null,null,[[1,13]])}fetchSiemJobIdsFromGroupsData();return function(){isSubscribed=false;abortCtrl.abort()}}),[refetchData,userPermissions]);return[loading,siemJobs]};exports.useSiemJobs=useSiemJobs},7318:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useRouteSpy=void 0;var _react=__webpack_require__(0);var _helpers=__webpack_require__(7588);var useRouteSpy=function useRouteSpy(){return(0,_react.useContext)(_helpers.RouterSpyStateContext)};exports.useRouteSpy=useRouteSpy},7319:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getBreadcrumbs=exports.type=void 0;var _fp=__webpack_require__(223);var _store=__webpack_require__(7016);var _model=__webpack_require__(504);var _redirect_to_hosts=__webpack_require__(7202);var i18n=_interopRequireWildcard(__webpack_require__(7129));var _TabNameMappedToI18nK;function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var type=_store.hostsModel.HostsType.details;exports.type=type;var TabNameMappedToI18nKey=(_TabNameMappedToI18nK={},_defineProperty(_TabNameMappedToI18nK,_model.HostsTableType.hosts,i18n.NAVIGATION_ALL_HOSTS_TITLE),_defineProperty(_TabNameMappedToI18nK,_model.HostsTableType.authentications,i18n.NAVIGATION_AUTHENTICATIONS_TITLE),_defineProperty(_TabNameMappedToI18nK,_model.HostsTableType.uncommonProcesses,i18n.NAVIGATION_UNCOMMON_PROCESSES_TITLE),_defineProperty(_TabNameMappedToI18nK,_model.HostsTableType.anomalies,i18n.NAVIGATION_ANOMALIES_TITLE),_defineProperty(_TabNameMappedToI18nK,_model.HostsTableType.events,i18n.NAVIGATION_EVENTS_TITLE),_defineProperty(_TabNameMappedToI18nK,_model.HostsTableType.alerts,i18n.NAVIGATION_ALERTS_TITLE),_TabNameMappedToI18nK);var getBreadcrumbs=function getBreadcrumbs(params,search){var breadcrumb=[{text:i18n.PAGE_TITLE,href:"".concat((0,_redirect_to_hosts.getHostsUrl)()).concat(!(0,_fp.isEmpty)(search[0])?search[0]:"")}];if(params.detailName!=null){breadcrumb=[].concat(_toConsumableArray(breadcrumb),[{text:params.detailName,href:"".concat((0,_redirect_to_hosts.getHostDetailsUrl)(params.detailName)).concat(!(0,_fp.isEmpty)(search[1])?search[1]:"")}])}if(params.tabName!=null){var tabName=(0,_fp.get)("tabName",params);if(!tabName)return breadcrumb;breadcrumb=[].concat(_toConsumableArray(breadcrumb),[{text:TabNameMappedToI18nKey[tabName],href:""}])}return breadcrumb};exports.getBreadcrumbs=getBreadcrumbs},7320:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProviderItemBadge=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _provider_badge=__webpack_require__(8699);var _provider_item_actions=__webpack_require__(8700);var _timeline_context=__webpack_require__(7033);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ProviderItemBadge=_react.default.memo((function(_ref){var andProviderId=_ref.andProviderId,browserFields=_ref.browserFields,deleteProvider=_ref.deleteProvider,field=_ref.field,kqlQuery=_ref.kqlQuery,isEnabled=_ref.isEnabled,isExcluded=_ref.isExcluded,onDataProviderEdited=_ref.onDataProviderEdited,operator=_ref.operator,providerId=_ref.providerId,timelineId=_ref.timelineId,toggleEnabledProvider=_ref.toggleEnabledProvider,toggleExcludedProvider=_ref.toggleExcludedProvider,val=_ref.val;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setIsPopoverOpen=_useState2[1];var togglePopover=(0,_react.useCallback)((function(){setIsPopoverOpen(!isPopoverOpen)}),[isPopoverOpen]);var closePopover=(0,_react.useCallback)((function(){setIsPopoverOpen(false)}),[]);var onToggleEnabledProvider=(0,_react.useCallback)((function(){toggleEnabledProvider();closePopover()}),[toggleEnabledProvider]);var onToggleExcludedProvider=(0,_react.useCallback)((function(){toggleExcludedProvider();closePopover()}),[toggleExcludedProvider]);return _react.default.createElement(_timeline_context.TimelineContext.Consumer,null,(function(isLoading){return _react.default.createElement(_provider_item_actions.ProviderItemActions,{andProviderId:andProviderId,browserFields:browserFields,button:_react.default.createElement(_provider_badge.ProviderBadge,{deleteProvider:!isLoading?deleteProvider:_fp.noop,field:field,kqlQuery:kqlQuery,isEnabled:isEnabled,isExcluded:isExcluded,providerId:providerId,togglePopover:togglePopover,val:val,operator:operator}),closePopover:closePopover,deleteProvider:deleteProvider,field:field,kqlQuery:kqlQuery,isEnabled:isEnabled,isExcluded:isExcluded,isLoading:isLoading,isOpen:isPopoverOpen,onDataProviderEdited:onDataProviderEdited,operator:operator,providerId:providerId,timelineId:timelineId,toggleEnabledProvider:onToggleEnabledProvider,toggleExcludedProvider:onToggleExcludedProvider,value:val})}))}));exports.ProviderItemBadge=ProviderItemBadge;ProviderItemBadge.displayName="ProviderItemBadge"},7321:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useAnomaliesTableData=exports.getThreshold=exports.influencersOrCriteriaToString=void 0;var _react=__webpack_require__(0);var _anomalies_table_data=__webpack_require__(8705);var _has_ml_user_permissions=__webpack_require__(7078);var _ml_capabilities_provider=__webpack_require__(7064);var _use_siem_jobs=__webpack_require__(7317);var _toasters=__webpack_require__(7019);var _error_to_toaster=__webpack_require__(7039);var i18n=_interopRequireWildcard(__webpack_require__(8706));var _kibana=__webpack_require__(7013);var _constants=__webpack_require__(977);var _hooks=__webpack_require__(7199);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var influencersOrCriteriaToString=function influencersOrCriteriaToString(influencers){return influencers==null?"":influencers.reduce((function(accum,item){return"".concat(accum).concat(item.fieldName,":").concat(item.fieldValue)}),"")};exports.influencersOrCriteriaToString=influencersOrCriteriaToString;var getThreshold=function getThreshold(anomalyScore,threshold){if(threshold!==-1){return threshold}else if(anomalyScore==null){return 50}else if(anomalyScore<0){return 0}else if(anomalyScore>100){return 100}else{return Math.floor(anomalyScore)}};exports.getThreshold=getThreshold;var useAnomaliesTableData=function useAnomaliesTableData(_ref){var _ref$criteriaFields=_ref.criteriaFields,criteriaFields=_ref$criteriaFields===void 0?[]:_ref$criteriaFields,_ref$influencers=_ref.influencers,influencers=_ref$influencers===void 0?[]:_ref$influencers,startDate=_ref.startDate,endDate=_ref.endDate,_ref$threshold=_ref.threshold,threshold=_ref$threshold===void 0?-1:_ref$threshold,_ref$skip=_ref.skip,skip=_ref$skip===void 0?false:_ref$skip;var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),tableData=_useState2[0],setTableData=_useState2[1];var _useSiemJobs=(0,_use_siem_jobs.useSiemJobs)(true),_useSiemJobs2=_slicedToArray(_useSiemJobs,2),siemJobs=_useSiemJobs2[1];var _useState3=(0,_react.useState)(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var capabilities=(0,_react.useContext)(_ml_capabilities_provider.MlCapabilitiesContext);var userPermissions=(0,_has_ml_user_permissions.hasMlUserPermissions)(capabilities);var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];var timeZone=(0,_hooks.useTimeZone)();var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_ANOMALY_SCORE),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),anomalyScore=_useUiSetting$2[0];var siemJobIds=siemJobs.filter((function(job){return job.isInstalled})).map((function(job){return job.id}));(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;setLoading(true);function fetchAnomaliesTableData(influencersInput,criteriaFieldsInput,earliestMs,latestMs){var data;return regeneratorRuntime.async((function fetchAnomaliesTableData$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(userPermissions&&!skip&&siemJobIds.length>0)){_context.next=13;break}_context.prev=1;_context.next=4;return regeneratorRuntime.awrap((0,_anomalies_table_data.anomaliesTableData)({jobIds:siemJobIds,criteriaFields:criteriaFieldsInput,aggregationInterval:"auto",threshold:getThreshold(anomalyScore,threshold),earliestMs:earliestMs,latestMs:latestMs,influencers:influencersInput,dateFormatTz:timeZone,maxRecords:500,maxExamples:10},abortCtrl.signal));case 4:data=_context.sent;if(isSubscribed){setTableData(data);setLoading(false)}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);if(isSubscribed){(0,_error_to_toaster.errorToToaster)({title:i18n.SIEM_TABLE_FETCH_FAILURE,error:_context.t0,dispatchToaster:dispatchToaster});setLoading(false)}case 11:_context.next=14;break;case 13:if(!userPermissions&&isSubscribed){setLoading(false)}else if(siemJobIds.length===0&&isSubscribed){setLoading(false)}else if(isSubscribed){setTableData(null);setLoading(true)}case 14:case"end":return _context.stop()}}}),null,null,[[1,8]])}fetchAnomaliesTableData(influencers,criteriaFields,startDate,endDate);return function(){isSubscribed=false;abortCtrl.abort()}}),[influencersOrCriteriaToString(influencers),influencersOrCriteriaToString(criteriaFields),startDate,endDate,skip,userPermissions,siemJobIds.sort().join()]);return[loading,tableData]};exports.useAnomaliesTableData=useAnomaliesTableData},7322:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DraggableScore=exports.DraggableScoreComponent=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggable_wrapper=__webpack_require__(7032);var _data_provider=__webpack_require__(7024);var _provider=__webpack_require__(7051);var _page=__webpack_require__(7055);var _score_health=__webpack_require__(7597);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DraggableScoreComponent=function DraggableScoreComponent(_ref){var id=_ref.id,_ref$index=_ref.index,index=_ref$index===void 0?0:_ref$index,score=_ref.score;var scoreString=(0,_score_health.getScoreString)(score.severity);return _react.default.createElement(_draggable_wrapper.DraggableWrapper,{key:"draggable-score-draggable-wrapper-".concat(id),dataProvider:{and:[],enabled:true,id:id,name:score.entityName,excluded:false,kqlQuery:"",queryMatch:{field:score.entityName,value:score.entityValue,operator:_data_provider.IS_OPERATOR}},render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:dataProvider})):_react.default.createElement(_react.default.Fragment,null,index!==0&&_react.default.createElement(_react.default.Fragment,null,",",_react.default.createElement(_page.Spacer,null)),scoreString)}})};exports.DraggableScoreComponent=DraggableScoreComponent;DraggableScoreComponent.displayName="DraggableScoreComponent";var DraggableScore=_react.default.memo(DraggableScoreComponent);exports.DraggableScore=DraggableScore;DraggableScore.displayName="DraggableScore"},7323:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createExplorerLink=void 0;var createExplorerLink=function createExplorerLink(score,startDate,endDate){var startDateIso=new Date(startDate).toISOString();var endDateIso=new Date(endDate).toISOString();var JOB_PREFIX="ml#/explorer?_g=(ml:(jobIds:!(".concat(score.jobId,"))");var REFRESH_INTERVAL=",refreshInterval:(display:Off,pause:!f,value:0),time:(from:'".concat(startDateIso,"',mode:absolute,to:'").concat(endDateIso,"'))");var INTERVAL_SELECTION="&_a=(mlExplorerFilter:(),mlExplorerSwimlane:(),mlSelectLimit:(display:'10',val:10),mlShowCharts:!t)";return"".concat(JOB_PREFIX).concat(REFRESH_INTERVAL).concat(INTERVAL_SELECTION)};exports.createExplorerLink=createExplorerLink},7324:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INSPECT_TITLE=exports.AS_DESTINATION=exports.AS_SOURCE=exports.VIEW_TALOS_INTELLIGENCE=exports.VIEW_VIRUS_TOTAL=exports.REPUTATION=exports.VIEW_WHOIS=exports.WHOIS=exports.HOST_NAME=exports.HOST_ID=exports.LAST_SEEN=exports.FIRST_SEEN=exports.MAX_ANOMALY_SCORE_BY_JOB=exports.AUTONOMOUS_SYSTEM=exports.LOCATION=void 0;var _i18n=__webpack_require__(2);var LOCATION=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.locationTitle",{defaultMessage:"Location"});exports.LOCATION=LOCATION;var AUTONOMOUS_SYSTEM=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.autonomousSystemTitle",{defaultMessage:"Autonomous system"});exports.AUTONOMOUS_SYSTEM=AUTONOMOUS_SYSTEM;var MAX_ANOMALY_SCORE_BY_JOB=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.maxAnomalyScoreByJobTitle",{defaultMessage:"Max anomaly score by job"});exports.MAX_ANOMALY_SCORE_BY_JOB=MAX_ANOMALY_SCORE_BY_JOB;var FIRST_SEEN=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.firstSeenTitle",{defaultMessage:"First seen"});exports.FIRST_SEEN=FIRST_SEEN;var LAST_SEEN=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.lastSeenTitle",{defaultMessage:"Last seen"});exports.LAST_SEEN=LAST_SEEN;var HOST_ID=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.hostIdTitle",{defaultMessage:"Host ID"});exports.HOST_ID=HOST_ID;var HOST_NAME=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.hostNameTitle",{defaultMessage:"Host name"});exports.HOST_NAME=HOST_NAME;var WHOIS=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.whoIsTitle",{defaultMessage:"WhoIs"});exports.WHOIS=WHOIS;var VIEW_WHOIS=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.viewWhoisTitle",{defaultMessage:"iana.org"});exports.VIEW_WHOIS=VIEW_WHOIS;var REPUTATION=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.ipReputationTitle",{defaultMessage:"Reputation"});exports.REPUTATION=REPUTATION;var VIEW_VIRUS_TOTAL=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.viewVirusTotalTitle.",{defaultMessage:"virustotal.com"});exports.VIEW_VIRUS_TOTAL=VIEW_VIRUS_TOTAL;var VIEW_TALOS_INTELLIGENCE=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.viewTalosIntelligenceTitle",{defaultMessage:"talosIntelligence.com"});exports.VIEW_TALOS_INTELLIGENCE=VIEW_TALOS_INTELLIGENCE;var AS_SOURCE=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.asSourceDropDownOptionLabel",{defaultMessage:"As Source"});exports.AS_SOURCE=AS_SOURCE;var AS_DESTINATION=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.asDestinationDropDownOptionLabel",{defaultMessage:"As Destination"});exports.AS_DESTINATION=AS_DESTINATION;var INSPECT_TITLE=_i18n.i18n.translate("xpack.siem.network.ipDetails.ipOverview.inspectTitle",{defaultMessage:"IP overview"});exports.INSPECT_TITLE=INSPECT_TITLE},7325:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CountryFlagAndName=exports.CountryFlag=exports.getFlag=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _fp=__webpack_require__(223);var _eui=__webpack_require__(1);var _i18nIsoCountries=_interopRequireDefault(__webpack_require__(9260));var _en=_interopRequireDefault(__webpack_require__(9261));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var getFlag=function getFlag(countryCode){return countryCode&&countryCode.length===2?countryCode.toUpperCase().replace(/./g,(function(c){return String.fromCharCode(55356,56741+c.charCodeAt(0))})):null};exports.getFlag=getFlag;var CountryFlag=(0,_react.memo)((function(_ref){var countryCode=_ref.countryCode,_ref$displayCountryNa=_ref.displayCountryNameOnHover,displayCountryNameOnHover=_ref$displayCountryNa===void 0?false:_ref$displayCountryNa;(0,_react.useEffect)((function(){if(displayCountryNameOnHover&&(0,_fp.isEmpty)(_i18nIsoCountries.default.getNames("en"))){_i18nIsoCountries.default.registerLocale(_en.default)}}),[]);var flag=getFlag(countryCode);if(flag!==null){return displayCountryNameOnHover?_react.default.createElement(_eui.EuiToolTip,{position:"top",content:_i18nIsoCountries.default.getName(countryCode,"en")},_react.default.createElement("span",{"data-test-subj":"country-flag"},flag)):_react.default.createElement("span",{"data-test-subj":"country-flag"},flag)}return null}));exports.CountryFlag=CountryFlag;CountryFlag.displayName="CountryFlag";var CountryFlagAndName=(0,_react.memo)((function(_ref2){var countryCode=_ref2.countryCode,_ref2$displayCountryN=_ref2.displayCountryNameOnHover,displayCountryNameOnHover=_ref2$displayCountryN===void 0?false:_ref2$displayCountryN;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),localesLoaded=_useState2[0],setLocalesLoaded=_useState2[1];(0,_react.useEffect)((function(){if((0,_fp.isEmpty)(_i18nIsoCountries.default.getNames("en"))){_i18nIsoCountries.default.registerLocale(_en.default)}setLocalesLoaded(true)}),[]);var flag=getFlag(countryCode);if(flag!==null&&localesLoaded){return displayCountryNameOnHover?_react.default.createElement(_eui.EuiToolTip,{position:"top",content:_i18nIsoCountries.default.getName(countryCode,"en")},_react.default.createElement("span",{"data-test-subj":"country-flag"},flag)):_react.default.createElement("span",{"data-test-subj":"country-flag"},"".concat(flag," ").concat(_i18nIsoCountries.default.getName(countryCode,"en")))}return null}));exports.CountryFlagAndName=CountryFlagAndName;CountryFlagAndName.displayName="CountryFlagAndName"},7326:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.histogramDateTimeFormatter=exports.getDaysDiff=void 0;var _charts=__webpack_require__(42);var _momentTimezone=_interopRequireDefault(__webpack_require__(35));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getDaysDiff=function getDaysDiff(minDate,maxDate){var diff=maxDate.diff(minDate,"days");if(diff<=1&&!minDate.isSame(maxDate)){return 2}return diff};exports.getDaysDiff=getDaysDiff;var histogramDateTimeFormatter=function histogramDateTimeFormatter(domain,fixedDiff){var diff=fixedDiff!==null&&fixedDiff!==void 0?fixedDiff:getDaysDiff((0,_momentTimezone.default)(domain[0]),(0,_momentTimezone.default)(domain[1]));var format=(0,_charts.niceTimeFormatByDay)(diff);return(0,_charts.timeFormatter)(format)};exports.histogramDateTimeFormatter=histogramDateTimeFormatter},7327:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isRegularString=exports.isRisonObject=exports.decodeRison=void 0;var _risonNode=__webpack_require__(163);var _fp=__webpack_require__(223);var decodeRison=function decodeRison(value){try{return(0,_risonNode.decode)(value)}catch(error){return null}};exports.decodeRison=decodeRison;var isRisonObject=function isRisonObject(value){return(0,_fp.isObject)(value)};exports.isRisonObject=isRisonObject;var isRegularString=function isRegularString(value){return(0,_fp.isString)(value)};exports.isRegularString=isRegularString},7328:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useSignalIndex=void 0;var _react=__webpack_require__(0);var _error_to_toaster=__webpack_require__(7039);var _toasters=__webpack_require__(7019);var _api=__webpack_require__(7210);var i18n=_interopRequireWildcard(__webpack_require__(7627));var _types=__webpack_require__(7626);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useSignalIndex=function useSignalIndex(){var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=(0,_react.useState)({signalIndexExists:null,signalIndexName:null,createDeSignalIndex:null}),_useState4=_slicedToArray(_useState3,2),signalIndex=_useState4[0],setSignalIndex=_useState4[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;var fetchData=function fetchData(){var signal;return regeneratorRuntime.async((function fetchData$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return regeneratorRuntime.awrap((0,_api.getSignalIndex)({signal:abortCtrl.signal}));case 4:signal=_context.sent;if(isSubscribed&&signal!=null){setSignalIndex({signalIndexExists:true,signalIndexName:signal.name,createDeSignalIndex:createIndex})}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);if(isSubscribed){setSignalIndex({signalIndexExists:false,signalIndexName:null,createDeSignalIndex:createIndex});if(_context.t0 instanceof _types.SignalIndexError&&_context.t0.status_code!==404){(0,_error_to_toaster.errorToToaster)({title:i18n.SIGNAL_GET_NAME_FAILURE,error:_context.t0,dispatchToaster:dispatchToaster})}}case 11:if(isSubscribed){setLoading(false)}case 12:case"end":return _context.stop()}}}),null,null,[[0,8]])};var createIndex=function createIndex(){var isFetchingData;return regeneratorRuntime.async((function createIndex$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:isFetchingData=false;_context2.prev=1;setLoading(true);_context2.next=5;return regeneratorRuntime.awrap((0,_api.createSignalIndex)({signal:abortCtrl.signal}));case 5:if(isSubscribed){isFetchingData=true;fetchData()}_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2["catch"](1);if(isSubscribed){if(_context2.t0 instanceof _types.PostSignalError&&_context2.t0.statusCode===409){fetchData()}else{setSignalIndex({signalIndexExists:false,signalIndexName:null,createDeSignalIndex:createIndex});(0,_error_to_toaster.errorToToaster)({title:i18n.SIGNAL_POST_FAILURE,error:_context2.t0,dispatchToaster:dispatchToaster})}}case 11:if(isSubscribed&&!isFetchingData){setLoading(false)}case 12:case"end":return _context2.stop()}}}),null,null,[[1,8]])};fetchData();return function(){isSubscribed=false;abortCtrl.abort()}}),[]);return _objectSpread({loading:loading},signalIndex)};exports.useSignalIndex=useSignalIndex},7329:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SignalsTable=exports.SIGNALS_PAGE_TIMELINE_ID=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _es_query=__webpack_require__(1056);var _fetch_index_patterns=__webpack_require__(7330);var _events_viewer=__webpack_require__(7331);var _header_section=__webpack_require__(7050);var _helpers=__webpack_require__(7108);var _kibana=__webpack_require__(7013);var _store=__webpack_require__(7016);var _timeline=__webpack_require__(1915);var _defaults=__webpack_require__(7053);var _apollo_context=__webpack_require__(7077);var _actions=__webpack_require__(7635);var _default_config=__webpack_require__(7335);var _signals_filter_group=__webpack_require__(7336);var _signals_utility_bar=__webpack_require__(8862);var i18n=_interopRequireWildcard(__webpack_require__(7337));var _helpers2=__webpack_require__(7056);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var SIGNALS_PAGE_TIMELINE_ID="signals-page";exports.SIGNALS_PAGE_TIMELINE_ID=SIGNALS_PAGE_TIMELINE_ID;var SignalsTableComponent=function SignalsTableComponent(_ref){var canUserCRUD=_ref.canUserCRUD,clearEventsDeleted=_ref.clearEventsDeleted,clearEventsLoading=_ref.clearEventsLoading,clearSelected=_ref.clearSelected,defaultFilters=_ref.defaultFilters,from=_ref.from,globalFilters=_ref.globalFilters,globalQuery=_ref.globalQuery,hasIndexWrite=_ref.hasIndexWrite,isSelectAllChecked=_ref.isSelectAllChecked,loading=_ref.loading,loadingEventIds=_ref.loadingEventIds,selectedEventIds=_ref.selectedEventIds,setEventsDeleted=_ref.setEventsDeleted,setEventsLoading=_ref.setEventsLoading,signalsIndex=_ref.signalsIndex,to=_ref.to,updateTimeline=_ref.updateTimeline,updateTimelineIsLoading=_ref.updateTimelineIsLoading;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),selectAll=_useState2[0],setSelectAll=_useState2[1];var apolloClient=(0,_apollo_context.useApolloClient)();var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),showClearSelectionAction=_useState4[0],setShowClearSelectionAction=_useState4[1];var _useState5=(0,_react.useState)(_signals_filter_group.FILTER_OPEN),_useState6=_slicedToArray(_useState5,2),filterGroup=_useState6[0],setFilterGroup=_useState6[1];var _useFetchIndexPattern=(0,_fetch_index_patterns.useFetchIndexPatterns)(signalsIndex!==""?[signalsIndex]:[]),_useFetchIndexPattern2=_slicedToArray(_useFetchIndexPattern,1),_useFetchIndexPattern3=_useFetchIndexPattern2[0],browserFields=_useFetchIndexPattern3.browserFields,indexPatterns=_useFetchIndexPattern3.indexPatterns;var kibana=(0,_kibana.useKibana)();var getGlobalQuery=(0,_react.useCallback)((function(){if(browserFields!=null&&indexPatterns!=null){return(0,_helpers.combineQueries)({config:_es_query.esQuery.getEsQueryConfig(kibana.services.uiSettings),dataProviders:[],indexPattern:indexPatterns,browserFields:browserFields,filters:(0,_fp.isEmpty)(defaultFilters)?globalFilters:[].concat(_toConsumableArray(defaultFilters!==null&&defaultFilters!==void 0?defaultFilters:[]),_toConsumableArray(globalFilters)),kqlQuery:globalQuery,kqlMode:globalQuery.language,start:from,end:to,isEventViewer:true})}return null}),[browserFields,globalFilters,globalQuery,indexPatterns,kibana,to,from]);var createTimelineCallback=(0,_react.useCallback)((function(_ref2){var fromTimeline=_ref2.from,timeline=_ref2.timeline,toTimeline=_ref2.to;updateTimelineIsLoading({id:"timeline-1",isLoading:false});updateTimeline({duplicate:true,from:fromTimeline,id:"timeline-1",notes:[],timeline:_objectSpread({},timeline,{show:true}),to:toTimeline})()}),[updateTimeline,updateTimelineIsLoading]);var setEventsLoadingCallback=(0,_react.useCallback)((function(_ref3){var eventIds=_ref3.eventIds,isLoading=_ref3.isLoading;setEventsLoading({id:SIGNALS_PAGE_TIMELINE_ID,eventIds:eventIds,isLoading:isLoading})}),[setEventsLoading,SIGNALS_PAGE_TIMELINE_ID]);var setEventsDeletedCallback=(0,_react.useCallback)((function(_ref4){var eventIds=_ref4.eventIds,isDeleted=_ref4.isDeleted;setEventsDeleted({id:SIGNALS_PAGE_TIMELINE_ID,eventIds:eventIds,isDeleted:isDeleted})}),[setEventsDeleted,SIGNALS_PAGE_TIMELINE_ID]);(0,_react.useEffect)((function(){if(!isSelectAllChecked){setShowClearSelectionAction(false)}else{setSelectAll(false)}}),[isSelectAllChecked]);var onFilterGroupChangedCallback=(0,_react.useCallback)((function(newFilterGroup){clearEventsLoading({id:SIGNALS_PAGE_TIMELINE_ID});clearEventsDeleted({id:SIGNALS_PAGE_TIMELINE_ID});clearSelected({id:SIGNALS_PAGE_TIMELINE_ID});setFilterGroup(newFilterGroup)}),[clearEventsLoading,clearEventsDeleted,clearSelected,setFilterGroup]);var clearSelectionCallback=(0,_react.useCallback)((function(){clearSelected({id:SIGNALS_PAGE_TIMELINE_ID});setSelectAll(false);setShowClearSelectionAction(false)}),[clearSelected,setSelectAll,setShowClearSelectionAction]);var selectAllCallback=(0,_react.useCallback)((function(){setSelectAll(true);setShowClearSelectionAction(true)}),[setSelectAll,setShowClearSelectionAction]);var updateSignalsStatusCallback=(0,_react.useCallback)((function _callee(refetchQuery,_ref5){var _getGlobalQuery;var signalIds,status;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:signalIds=_ref5.signalIds,status=_ref5.status;_context.next=3;return regeneratorRuntime.awrap((0,_actions.updateSignalStatusAction)({query:showClearSelectionAction?(_getGlobalQuery=getGlobalQuery())===null||_getGlobalQuery===void 0?void 0:_getGlobalQuery.filterQuery:undefined,signalIds:Object.keys(selectedEventIds),status:status,setEventsDeleted:setEventsDeletedCallback,setEventsLoading:setEventsLoadingCallback}));case 3:refetchQuery();case 4:case"end":return _context.stop()}}}))}),[getGlobalQuery,selectedEventIds,setEventsDeletedCallback,setEventsLoadingCallback,showClearSelectionAction]);var utilityBarCallback=(0,_react.useCallback)((function(refetchQuery,totalCount){return _react.default.createElement(_signals_utility_bar.SignalsUtilityBar,{canUserCRUD:canUserCRUD,areEventsLoading:loadingEventIds.length>0,clearSelection:clearSelectionCallback,hasIndexWrite:hasIndexWrite,isFilteredToOpen:filterGroup===_signals_filter_group.FILTER_OPEN,selectAll:selectAllCallback,selectedEventIds:selectedEventIds,showClearSelection:showClearSelectionAction,totalCount:totalCount,updateSignalsStatus:updateSignalsStatusCallback.bind(null,refetchQuery)})}),[canUserCRUD,hasIndexWrite,clearSelectionCallback,filterGroup,loadingEventIds.length,selectAllCallback,selectedEventIds,showClearSelectionAction,updateSignalsStatusCallback]);var additionalActions=(0,_react.useMemo)((function(){return(0,_default_config.getSignalsActions)({apolloClient:apolloClient,canUserCRUD:canUserCRUD,hasIndexWrite:hasIndexWrite,createTimeline:createTimelineCallback,setEventsLoading:setEventsLoadingCallback,setEventsDeleted:setEventsDeletedCallback,status:filterGroup===_signals_filter_group.FILTER_OPEN?_signals_filter_group.FILTER_CLOSED:_signals_filter_group.FILTER_OPEN,updateTimelineIsLoading:updateTimelineIsLoading})}),[apolloClient,canUserCRUD,createTimelineCallback,hasIndexWrite,filterGroup,setEventsLoadingCallback,setEventsDeletedCallback,updateTimelineIsLoading]);var defaultIndices=(0,_react.useMemo)((function(){return[signalsIndex]}),[signalsIndex]);var defaultFiltersMemo=(0,_react.useMemo)((function(){if((0,_fp.isEmpty)(defaultFilters)){return filterGroup===_signals_filter_group.FILTER_OPEN?_default_config.signalsOpenFilters:_default_config.signalsClosedFilters}else if(defaultFilters!=null&&!(0,_fp.isEmpty)(defaultFilters)){return[].concat(_toConsumableArray(defaultFilters),_toConsumableArray(filterGroup===_signals_filter_group.FILTER_OPEN?_default_config.signalsOpenFilters:_default_config.signalsClosedFilters))}}),[defaultFilters,filterGroup]);var timelineTypeContext=(0,_react.useMemo)((function(){return{documentType:i18n.SIGNALS_DOCUMENT_TYPE,footerText:i18n.TOTAL_COUNT_OF_SIGNALS,loadingText:i18n.LOADING_SIGNALS,queryFields:_default_config.requiredFieldsForActions,timelineActions:additionalActions,title:i18n.SIGNALS_TABLE_TITLE,selectAll:canUserCRUD?selectAll:false}}),[additionalActions,canUserCRUD,selectAll]);var headerFilterGroup=(0,_react.useMemo)((function(){return _react.default.createElement(_signals_filter_group.SignalsTableFilterGroup,{onFilterGroupChanged:onFilterGroupChangedCallback})}),[onFilterGroupChangedCallback]);if(loading||(0,_fp.isEmpty)(signalsIndex)){return _react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_header_section.HeaderSection,{title:i18n.SIGNALS_TABLE_TITLE}),_react.default.createElement(_eui.EuiLoadingContent,null))}return _react.default.createElement(_events_viewer.StatefulEventsViewer,{defaultIndices:defaultIndices,pageFilters:defaultFiltersMemo,defaultModel:_default_config.signalsDefaultModel,end:to,headerFilterGroup:headerFilterGroup,id:SIGNALS_PAGE_TIMELINE_ID,start:from,timelineTypeContext:timelineTypeContext,utilityBar:utilityBarCallback})};var makeMapStateToProps=function makeMapStateToProps(){var getTimeline=_timeline.timelineSelectors.getTimelineByIdSelector();var getGlobalInputs=_store.inputsSelectors.globalSelector();var mapStateToProps=function mapStateToProps(state){var _getTimeline;var timeline=(_getTimeline=getTimeline(state,SIGNALS_PAGE_TIMELINE_ID))!==null&&_getTimeline!==void 0?_getTimeline:_defaults.timelineDefaults;var deletedEventIds=timeline.deletedEventIds,isSelectAllChecked=timeline.isSelectAllChecked,loadingEventIds=timeline.loadingEventIds,selectedEventIds=timeline.selectedEventIds;var globalInputs=getGlobalInputs(state);var query=globalInputs.query,filters=globalInputs.filters;return{globalQuery:query,globalFilters:filters,deletedEventIds:deletedEventIds,isSelectAllChecked:isSelectAllChecked,loadingEventIds:loadingEventIds,selectedEventIds:selectedEventIds}};return mapStateToProps};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{clearSelected:function clearSelected(_ref6){var id=_ref6.id;return dispatch(_timeline.timelineActions.clearSelected({id:id}))},setEventsLoading:function setEventsLoading(_ref7){var id=_ref7.id,eventIds=_ref7.eventIds,isLoading=_ref7.isLoading;return dispatch(_timeline.timelineActions.setEventsLoading({id:id,eventIds:eventIds,isLoading:isLoading}))},clearEventsLoading:function clearEventsLoading(_ref8){var id=_ref8.id;return dispatch(_timeline.timelineActions.clearEventsLoading({id:id}))},setEventsDeleted:function setEventsDeleted(_ref9){var id=_ref9.id,eventIds=_ref9.eventIds,isDeleted=_ref9.isDeleted;return dispatch(_timeline.timelineActions.setEventsDeleted({id:id,eventIds:eventIds,isDeleted:isDeleted}))},clearEventsDeleted:function clearEventsDeleted(_ref10){var id=_ref10.id;return dispatch(_timeline.timelineActions.clearEventsDeleted({id:id}))},updateTimelineIsLoading:function updateTimelineIsLoading(_ref11){var id=_ref11.id,isLoading=_ref11.isLoading;return dispatch(_timeline.timelineActions.updateIsLoading({id:id,isLoading:isLoading}))},updateTimeline:(0,_helpers2.dispatchUpdateTimeline)(dispatch)}};var SignalsTable=(0,_reactRedux.connect)(makeMapStateToProps,mapDispatchToProps)(_react.default.memo(SignalsTableComponent));exports.SignalsTable=SignalsTable},7330:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useFetchIndexPatterns=void 0;var _fp=__webpack_require__(223);var _react=__webpack_require__(0);var _source=__webpack_require__(7042);var _toasters=__webpack_require__(7019);var _error_to_toaster=__webpack_require__(7039);var _apollo_context=__webpack_require__(7077);var i18n=_interopRequireWildcard(__webpack_require__(7111));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useFetchIndexPatterns=function useFetchIndexPatterns(){var defaultIndices=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var apolloClient=(0,_apollo_context.useApolloClient)();var _useState=(0,_react.useState)(defaultIndices),_useState2=_slicedToArray(_useState,2),indices=_useState2[0],setIndices=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),indicesExists=_useState4[0],setIndicesExists=_useState4[1];var _useState5=(0,_react.useState)({fields:[],title:""}),_useState6=_slicedToArray(_useState5,2),indexPatterns=_useState6[0],setIndexPatterns=_useState6[1];var _useState7=(0,_react.useState)({}),_useState8=_slicedToArray(_useState7,2),browserFields=_useState8[0],setBrowserFields=_useState8[1];var _useState9=(0,_react.useState)(false),_useState10=_slicedToArray(_useState9,2),isLoading=_useState10[0],setIsLoading=_useState10[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];(0,_react.useEffect)((function(){if(!(0,_fp.isEqual)(defaultIndices,indices)){setIndices(defaultIndices)}}),[defaultIndices,indices]);(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;function fetchIndexPatterns(){return regeneratorRuntime.async((function fetchIndexPatterns$(_context){while(1){switch(_context.prev=_context.next){case 0:if(apolloClient&&!(0,_fp.isEmpty)(indices)){setIsLoading(true);apolloClient.query({query:_source.sourceQuery,fetchPolicy:"cache-first",variables:{sourceId:"default",defaultIndex:indices},context:{fetchOptions:{signal:abortCtrl.signal}}}).then((function(result){if(isSubscribed){setIsLoading(false);setIndicesExists((0,_fp.get)("data.source.status.indicesExist",result));setIndexPatterns((0,_source.getIndexFields)(indices.join(),(0,_fp.get)("data.source.status.indexFields",result)));setBrowserFields((0,_source.getBrowserFields)(indices.join(),(0,_fp.get)("data.source.status.indexFields",result)))}}),(function(error){if(isSubscribed){setIsLoading(false);(0,_error_to_toaster.errorToToaster)({title:i18n.RULE_ADD_FAILURE,error:error,dispatchToaster:dispatchToaster})}}))}case 1:case"end":return _context.stop()}}}))}fetchIndexPatterns();return function(){isSubscribed=false;abortCtrl.abort()}}),[indices]);return[{browserFields:browserFields,isLoading:isLoading,indices:indices,indicesExists:indicesExists,indexPatterns:indexPatterns},setIndices]};exports.useFetchIndexPatterns=useFetchIndexPatterns},7331:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatefulEventsViewer=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _store=__webpack_require__(7016);var _actions=__webpack_require__(1882);var _kibana=__webpack_require__(7013);var _events_viewer=__webpack_require__(8765);var _fetch_index_patterns=__webpack_require__(7330);var _constants=__webpack_require__(977);var _inspect=__webpack_require__(7063);var i18n=_interopRequireWildcard(__webpack_require__(7346));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var defaultTimelineTypeContext={loadingText:i18n.LOADING_EVENTS};var StatefulEventsViewerComponent=function StatefulEventsViewerComponent(_ref){var createTimeline=_ref.createTimeline,columns=_ref.columns,dataProviders=_ref.dataProviders,deletedEventIds=_ref.deletedEventIds,defaultIndices=_ref.defaultIndices,deleteEventQuery=_ref.deleteEventQuery,end=_ref.end,filters=_ref.filters,headerFilterGroup=_ref.headerFilterGroup,id=_ref.id,isLive=_ref.isLive,itemsPerPage=_ref.itemsPerPage,itemsPerPageOptions=_ref.itemsPerPageOptions,kqlMode=_ref.kqlMode,pageFilters=_ref.pageFilters,query=_ref.query,removeColumn=_ref.removeColumn,start=_ref.start,showCheckboxes=_ref.showCheckboxes,showRowRenderers=_ref.showRowRenderers,sort=_ref.sort,_ref$timelineTypeCont=_ref.timelineTypeContext,timelineTypeContext=_ref$timelineTypeCont===void 0?defaultTimelineTypeContext:_ref$timelineTypeCont,updateItemsPerPage=_ref.updateItemsPerPage,upsertColumn=_ref.upsertColumn,utilityBar=_ref.utilityBar;var _useFetchIndexPattern=(0,_fetch_index_patterns.useFetchIndexPatterns)(defaultIndices!==null&&defaultIndices!==void 0?defaultIndices:(0,_kibana.useUiSetting)(_constants.DEFAULT_INDEX_KEY)),_useFetchIndexPattern2=_slicedToArray(_useFetchIndexPattern,1),_useFetchIndexPattern3=_useFetchIndexPattern2[0],browserFields=_useFetchIndexPattern3.browserFields,indexPatterns=_useFetchIndexPattern3.indexPatterns;(0,_react.useEffect)((function(){if(createTimeline!=null){createTimeline({id:id,columns:columns,sort:sort,itemsPerPage:itemsPerPage,showCheckboxes:showCheckboxes,showRowRenderers:showRowRenderers})}return function(){deleteEventQuery({id:id,inputId:"global"})}}),[]);var onChangeItemsPerPage=(0,_react.useCallback)((function(itemsChangedPerPage){return updateItemsPerPage({id:id,itemsPerPage:itemsChangedPerPage})}),[id,updateItemsPerPage]);var toggleColumn=(0,_react.useCallback)((function(column){var exists=columns.findIndex((function(c){return c.id===column.id}))!==-1;if(!exists&&upsertColumn!=null){upsertColumn({column:column,id:id,index:1})}if(exists&&removeColumn!=null){removeColumn({columnId:column.id,id:id})}}),[columns,id,upsertColumn,removeColumn]);var globalFilters=(0,_react.useMemo)((function(){return[].concat(_toConsumableArray(filters),_toConsumableArray(pageFilters!==null&&pageFilters!==void 0?pageFilters:[]))}),[filters,pageFilters]);return _react.default.createElement(_inspect.InspectButtonContainer,null,_react.default.createElement(_events_viewer.EventsViewer,{browserFields:browserFields,columns:columns,id:id,dataProviders:dataProviders,deletedEventIds:deletedEventIds,end:end,filters:globalFilters,headerFilterGroup:headerFilterGroup,indexPattern:indexPatterns,isLive:isLive,itemsPerPage:itemsPerPage,itemsPerPageOptions:itemsPerPageOptions,kqlMode:kqlMode,onChangeItemsPerPage:onChangeItemsPerPage,query:query,start:start,sort:sort,timelineTypeContext:timelineTypeContext,toggleColumn:toggleColumn,utilityBar:utilityBar}))};var makeMapStateToProps=function makeMapStateToProps(){var getInputsTimeline=_store.inputsSelectors.getTimelineSelector();var getGlobalQuerySelector=_store.inputsSelectors.globalQuerySelector();var getGlobalFiltersQuerySelector=_store.inputsSelectors.globalFiltersQuerySelector();var getEvents=_store.timelineSelectors.getEventsByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref2){var _getEvents;var id=_ref2.id,defaultModel=_ref2.defaultModel;var input=getInputsTimeline(state);var events=(_getEvents=getEvents(state,id))!==null&&_getEvents!==void 0?_getEvents:defaultModel;var columns=events.columns,dataProviders=events.dataProviders,deletedEventIds=events.deletedEventIds,itemsPerPage=events.itemsPerPage,itemsPerPageOptions=events.itemsPerPageOptions,kqlMode=events.kqlMode,sort=events.sort,showCheckboxes=events.showCheckboxes,showRowRenderers=events.showRowRenderers;return{columns:columns,dataProviders:dataProviders,deletedEventIds:deletedEventIds,filters:getGlobalFiltersQuerySelector(state),id:id,isLive:input.policy.kind==="interval",itemsPerPage:itemsPerPage,itemsPerPageOptions:itemsPerPageOptions,kqlMode:kqlMode,query:getGlobalQuerySelector(state),sort:sort,showCheckboxes:showCheckboxes,showRowRenderers:showRowRenderers}};return mapStateToProps};var StatefulEventsViewer=(0,_reactRedux.connect)(makeMapStateToProps,{createTimeline:_actions.timelineActions.createTimeline,deleteEventQuery:_actions.inputsActions.deleteOneQuery,updateItemsPerPage:_actions.timelineActions.updateItemsPerPage,removeColumn:_actions.timelineActions.removeColumn,upsertColumn:_actions.timelineActions.upsertColumn})(_react.default.memo(StatefulEventsViewerComponent,(function(prevProps,nextProps){return prevProps.id===nextProps.id&&(0,_fp.isEqual)(prevProps.columns,nextProps.columns)&&(0,_fp.isEqual)(prevProps.dataProviders,nextProps.dataProviders)&&prevProps.deletedEventIds===nextProps.deletedEventIds&&prevProps.end===nextProps.end&&(0,_fp.isEqual)(prevProps.filters,nextProps.filters)&&prevProps.isLive===nextProps.isLive&&prevProps.itemsPerPage===nextProps.itemsPerPage&&(0,_fp.isEqual)(prevProps.itemsPerPageOptions,nextProps.itemsPerPageOptions)&&prevProps.kqlMode===nextProps.kqlMode&&(0,_fp.isEqual)(prevProps.query,nextProps.query)&&prevProps.pageCount===nextProps.pageCount&&(0,_fp.isEqual)(prevProps.sort,nextProps.sort)&&prevProps.start===nextProps.start&&(0,_fp.isEqual)(prevProps.pageFilters,nextProps.pageFilters)&&prevProps.showCheckboxes===nextProps.showCheckboxes&&prevProps.showRowRenderers===nextProps.showRowRenderers&&prevProps.start===nextProps.start&&(0,_fp.isEqual)(prevProps.timelineTypeContext,nextProps.timelineTypeContext)&&prevProps.utilityBar===nextProps.utilityBar})));exports.StatefulEventsViewer=StatefulEventsViewer},7332:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.COLLAPSE=exports.EXPAND=exports.PINNED_WITH_NOTES=exports.PINNED=exports.UNPINNED=exports.COPY_TO_CLIPBOARD=exports.NOTES_TOOLTIP=void 0;var _i18n=__webpack_require__(2);var NOTES_TOOLTIP=_i18n.i18n.translate("xpack.siem.timeline.body.notes.addOrViewNotesForThisEventTooltip",{defaultMessage:"Add or view notes for this event"});exports.NOTES_TOOLTIP=NOTES_TOOLTIP;var COPY_TO_CLIPBOARD=_i18n.i18n.translate("xpack.siem.timeline.body.copyToClipboardButtonLabel",{defaultMessage:"Copy to Clipboard"});exports.COPY_TO_CLIPBOARD=COPY_TO_CLIPBOARD;var UNPINNED=_i18n.i18n.translate("xpack.siem.timeline.body.pinning.unpinnedTooltip",{defaultMessage:"Unpinned event"});exports.UNPINNED=UNPINNED;var PINNED=_i18n.i18n.translate("xpack.siem.timeline.body.pinning.pinnedTooltip",{defaultMessage:"Pinned event"});exports.PINNED=PINNED;var PINNED_WITH_NOTES=_i18n.i18n.translate("xpack.siem.timeline.body.pinning.pinnnedWithNotesTooltip",{defaultMessage:"This event cannot be unpinned because it has notes"});exports.PINNED_WITH_NOTES=PINNED_WITH_NOTES;var EXPAND=_i18n.i18n.translate("xpack.siem.timeline.body.actions.expandAriaLabel",{defaultMessage:"Expand"});exports.EXPAND=EXPAND;var COLLAPSE=_i18n.i18n.translate("xpack.siem.timeline.body.actions.collapseAriaLabel",{defaultMessage:"Collapse"});exports.COLLAPSE=COLLAPSE},7333:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TOGGLE_COLUMN_TOOLTIP=exports.COPY_TO_CLIPBOARD=exports.PLACEHOLDER=exports.BLANK=exports.DESCRIPTION=exports.VALUE=exports.FIELD=exports.JSON_VIEW=exports.TABLE=void 0;var _i18n=__webpack_require__(2);var TABLE=_i18n.i18n.translate("xpack.siem.eventDetails.table",{defaultMessage:"Table"});exports.TABLE=TABLE;var JSON_VIEW=_i18n.i18n.translate("xpack.siem.eventDetails.jsonView",{defaultMessage:"JSON View"});exports.JSON_VIEW=JSON_VIEW;var FIELD=_i18n.i18n.translate("xpack.siem.eventDetails.field",{defaultMessage:"Field"});exports.FIELD=FIELD;var VALUE=_i18n.i18n.translate("xpack.siem.eventDetails.value",{defaultMessage:"Value"});exports.VALUE=VALUE;var DESCRIPTION=_i18n.i18n.translate("xpack.siem.eventDetails.description",{defaultMessage:"Description"});exports.DESCRIPTION=DESCRIPTION;var BLANK=_i18n.i18n.translate("xpack.siem.eventDetails.blank",{defaultMessage:" "});exports.BLANK=BLANK;var PLACEHOLDER=_i18n.i18n.translate("xpack.siem.eventDetails.filter.placeholder",{defaultMessage:"Filter by Field, Value, or Description..."});exports.PLACEHOLDER=PLACEHOLDER;var COPY_TO_CLIPBOARD=_i18n.i18n.translate("xpack.siem.eventDetails.copyToClipboard",{defaultMessage:"Copy to Clipboard"});exports.COPY_TO_CLIPBOARD=COPY_TO_CLIPBOARD;var TOGGLE_COLUMN_TOOLTIP=_i18n.i18n.translate("xpack.siem.eventDetails.toggleColumnTooltip",{defaultMessage:"Toggle column"});exports.TOGGLE_COLUMN_TOOLTIP=TOGGLE_COLUMN_TOOLTIP},7334:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DraggableFieldBadge=void 0;var _polished=__webpack_require__(91);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Field=_styledComponents.default.div.withConfig({displayName:"Field",componentId:"x83y5l-0"})(["background-color:",";border:",";box-shadow:0 2px 2px -1px ",",0 1px 5px -2px ",";font-size:",";font-weight:",";line-height:",";padding:",";"],(function(_ref){var theme=_ref.theme;return theme.eui.euiColorEmptyShade}),(function(_ref2){var theme=_ref2.theme;return theme.eui.euiBorderThin}),(function(_ref3){var theme=_ref3.theme;return(0,_polished.rgba)(theme.eui.euiColorMediumShade,.3)}),(function(_ref4){var theme=_ref4.theme;return(0,_polished.rgba)(theme.eui.euiColorMediumShade,.3)}),(function(_ref5){var theme=_ref5.theme;return theme.eui.euiFontSizeXS}),(function(_ref6){var theme=_ref6.theme;return theme.eui.euiFontWeightSemiBold}),(function(_ref7){var theme=_ref7.theme;return theme.eui.euiLineHeight}),(function(_ref8){var theme=_ref8.theme;return theme.eui.paddingSizes.xs}));Field.displayName="Field";var DraggableFieldBadge=_react.default.memo((function(_ref9){var fieldId=_ref9.fieldId,fieldWidth=_ref9.fieldWidth;return _react.default.createElement(Field,{"data-test-subj":"field",style:{width:fieldWidth}},fieldId)}));exports.DraggableFieldBadge=DraggableFieldBadge;DraggableFieldBadge.displayName="DraggableFieldBadge"},7335:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSignalsActions=exports.requiredFieldsForActions=exports.signalsDefaultModel=exports.signalsHeaders=exports.buildSignalsRuleIdFilter=exports.signalsClosedFilters=exports.signalsOpenFilters=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _default_headers=__webpack_require__(7038);var _constants=__webpack_require__(7047);var _defaults=__webpack_require__(7053);var _signals_filter_group=__webpack_require__(7336);var _actions=__webpack_require__(7635);var i18n=_interopRequireWildcard(__webpack_require__(7337));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var signalsOpenFilters=[{meta:{alias:null,negate:false,disabled:false,type:"phrase",key:"signal.status",params:{query:"open"}},query:{match_phrase:{"signal.status":"open"}}}];exports.signalsOpenFilters=signalsOpenFilters;var signalsClosedFilters=[{meta:{alias:null,negate:false,disabled:false,type:"phrase",key:"signal.status",params:{query:"closed"}},query:{match_phrase:{"signal.status":"closed"}}}];exports.signalsClosedFilters=signalsClosedFilters;var buildSignalsRuleIdFilter=function buildSignalsRuleIdFilter(ruleId){return[{meta:{alias:null,negate:false,disabled:false,type:"phrase",key:"signal.rule.id",params:{query:ruleId}},query:{match_phrase:{"signal.rule.id":ruleId}}}]};exports.buildSignalsRuleIdFilter=buildSignalsRuleIdFilter;var signalsHeaders=[{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"@timestamp",width:_constants.DEFAULT_DATE_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"signal.rule.name",label:i18n.SIGNALS_HEADERS_RULE,linkField:"signal.rule.id",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"signal.rule.version",label:i18n.SIGNALS_HEADERS_VERSION,width:100},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"signal.rule.type",label:i18n.SIGNALS_HEADERS_METHOD,width:100},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"signal.rule.severity",label:i18n.SIGNALS_HEADERS_SEVERITY,width:105},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"signal.rule.risk_score",label:i18n.SIGNALS_HEADERS_RISK_SCORE,width:115},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"event.module",linkField:"rule.reference",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{category:"event",columnHeaderType:_default_headers.defaultColumnHeaderType,id:"event.action",type:"string",aggregatable:true,width:140},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"event.category",width:150},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"host.name",width:120},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"user.name",width:120},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"source.ip",width:120},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"destination.ip",width:140}];exports.signalsHeaders=signalsHeaders;var signalsDefaultModel=_objectSpread({},_defaults.timelineDefaults,{columns:signalsHeaders,showCheckboxes:true,showRowRenderers:false});exports.signalsDefaultModel=signalsDefaultModel;var requiredFieldsForActions=["@timestamp","signal.original_time","signal.rule.filters","signal.rule.from","signal.rule.language","signal.rule.query","signal.rule.to","signal.rule.id"];exports.requiredFieldsForActions=requiredFieldsForActions;var getSignalsActions=function getSignalsActions(_ref){var apolloClient=_ref.apolloClient,canUserCRUD=_ref.canUserCRUD,hasIndexWrite=_ref.hasIndexWrite,setEventsLoading=_ref.setEventsLoading,setEventsDeleted=_ref.setEventsDeleted,createTimeline=_ref.createTimeline,status=_ref.status,updateTimelineIsLoading=_ref.updateTimelineIsLoading;return[{getAction:function getAction(_ref2){var ecsData=_ref2.ecsData;return _react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"send-signal-to-timeline-tool-tip",content:i18n.ACTION_VIEW_IN_TIMELINE},_react.default.createElement(_eui.EuiButtonIcon,{"data-test-subj":"send-signal-to-timeline-button",onClick:function onClick(){return(0,_actions.sendSignalToTimelineAction)({apolloClient:apolloClient,createTimeline:createTimeline,ecsData:ecsData,updateTimelineIsLoading:updateTimelineIsLoading})},iconType:"timeline","aria-label":"Next"}))},id:"sendSignalToTimeline",width:26},{getAction:function getAction(_ref3){var eventId=_ref3.eventId;return _react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"update-signal-status-tool-tip",content:status===_signals_filter_group.FILTER_OPEN?i18n.ACTION_OPEN_SIGNAL:i18n.ACTION_CLOSE_SIGNAL},_react.default.createElement(_eui.EuiButtonIcon,{"data-test-subj":"update-signal-status-button",onClick:function onClick(){return(0,_actions.updateSignalStatusAction)({signalIds:[eventId],status:status,setEventsLoading:setEventsLoading,setEventsDeleted:setEventsDeleted})},isDisabled:!canUserCRUD||!hasIndexWrite,iconType:status===_signals_filter_group.FILTER_OPEN?"securitySignalDetected":"securitySignalResolved","aria-label":"Next"}))},id:"updateSignalStatus",width:26}]};exports.getSignalsActions=getSignalsActions},7336:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SignalsTableFilterGroup=exports.FILTER_CLOSED=exports.FILTER_OPEN=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var i18n=_interopRequireWildcard(__webpack_require__(7337));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var FILTER_OPEN="open";exports.FILTER_OPEN=FILTER_OPEN;var FILTER_CLOSED="closed";exports.FILTER_CLOSED=FILTER_CLOSED;var SignalsTableFilterGroupComponent=function SignalsTableFilterGroupComponent(_ref){var onFilterGroupChanged=_ref.onFilterGroupChanged;var _useState=(0,_react.useState)(FILTER_OPEN),_useState2=_slicedToArray(_useState,2),filterGroup=_useState2[0],setFilterGroup=_useState2[1];var onClickOpenFilterCallback=(0,_react.useCallback)((function(){setFilterGroup(FILTER_OPEN);onFilterGroupChanged(FILTER_OPEN)}),[setFilterGroup,onFilterGroupChanged]);var onClickCloseFilterCallback=(0,_react.useCallback)((function(){setFilterGroup(FILTER_CLOSED);onFilterGroupChanged(FILTER_CLOSED)}),[setFilterGroup,onFilterGroupChanged]);return _react.default.createElement(_eui.EuiFilterGroup,null,_react.default.createElement(_eui.EuiFilterButton,{hasActiveFilters:filterGroup===FILTER_OPEN,onClick:onClickOpenFilterCallback,withNext:true},i18n.OPEN_SIGNALS),_react.default.createElement(_eui.EuiFilterButton,{hasActiveFilters:filterGroup===FILTER_CLOSED,onClick:onClickCloseFilterCallback},i18n.CLOSED_SIGNALS))};var SignalsTableFilterGroup=_react.default.memo(SignalsTableFilterGroupComponent);exports.SignalsTableFilterGroup=SignalsTableFilterGroup},7337:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ACTION_VIEW_IN_TIMELINE=exports.ACTION_CLOSE_SIGNAL=exports.ACTION_OPEN_SIGNAL=exports.SIGNALS_HEADERS_RISK_SCORE=exports.SIGNALS_HEADERS_SEVERITY=exports.SIGNALS_HEADERS_METHOD=exports.SIGNALS_HEADERS_VERSION=exports.SIGNALS_HEADERS_RULE=exports.TOTAL_COUNT_OF_SIGNALS=exports.LOADING_SIGNALS=exports.CLOSED_SIGNALS=exports.OPEN_SIGNALS=exports.SIGNALS_DOCUMENT_TYPE=exports.SIGNALS_TABLE_TITLE=exports.PAGE_TITLE=void 0;var _i18n=__webpack_require__(2);var PAGE_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.pageTitle",{defaultMessage:"Detection engine"});exports.PAGE_TITLE=PAGE_TITLE;var SIGNALS_TABLE_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.tableTitle",{defaultMessage:"Signals"});exports.SIGNALS_TABLE_TITLE=SIGNALS_TABLE_TITLE;var SIGNALS_DOCUMENT_TYPE=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.documentTypeTitle",{defaultMessage:"Signals"});exports.SIGNALS_DOCUMENT_TYPE=SIGNALS_DOCUMENT_TYPE;var OPEN_SIGNALS=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.openSignalsTitle",{defaultMessage:"Open signals"});exports.OPEN_SIGNALS=OPEN_SIGNALS;var CLOSED_SIGNALS=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.closedSignalsTitle",{defaultMessage:"Closed signals"});exports.CLOSED_SIGNALS=CLOSED_SIGNALS;var LOADING_SIGNALS=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.loadingSignalsTitle",{defaultMessage:"Loading Signals"});exports.LOADING_SIGNALS=LOADING_SIGNALS;var TOTAL_COUNT_OF_SIGNALS=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.totalCountOfSignalsTitle",{defaultMessage:"signals match the search criteria"});exports.TOTAL_COUNT_OF_SIGNALS=TOTAL_COUNT_OF_SIGNALS;var SIGNALS_HEADERS_RULE=_i18n.i18n.translate("xpack.siem.eventsViewer.signals.defaultHeaders.ruleTitle",{defaultMessage:"Rule"});exports.SIGNALS_HEADERS_RULE=SIGNALS_HEADERS_RULE;var SIGNALS_HEADERS_VERSION=_i18n.i18n.translate("xpack.siem.eventsViewer.signals.defaultHeaders.versionTitle",{defaultMessage:"Version"});exports.SIGNALS_HEADERS_VERSION=SIGNALS_HEADERS_VERSION;var SIGNALS_HEADERS_METHOD=_i18n.i18n.translate("xpack.siem.eventsViewer.signals.defaultHeaders.methodTitle",{defaultMessage:"Method"});exports.SIGNALS_HEADERS_METHOD=SIGNALS_HEADERS_METHOD;var SIGNALS_HEADERS_SEVERITY=_i18n.i18n.translate("xpack.siem.eventsViewer.signals.defaultHeaders.severityTitle",{defaultMessage:"Severity"});exports.SIGNALS_HEADERS_SEVERITY=SIGNALS_HEADERS_SEVERITY;var SIGNALS_HEADERS_RISK_SCORE=_i18n.i18n.translate("xpack.siem.eventsViewer.signals.defaultHeaders.riskScoreTitle",{defaultMessage:"Risk Score"});exports.SIGNALS_HEADERS_RISK_SCORE=SIGNALS_HEADERS_RISK_SCORE;var ACTION_OPEN_SIGNAL=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.actions.openSignalTitle",{defaultMessage:"Open signal"});exports.ACTION_OPEN_SIGNAL=ACTION_OPEN_SIGNAL;var ACTION_CLOSE_SIGNAL=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.actions.closeSignalTitle",{defaultMessage:"Close signal"});exports.ACTION_CLOSE_SIGNAL=ACTION_CLOSE_SIGNAL;var ACTION_VIEW_IN_TIMELINE=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.actions.viewInTimelineTitle",{defaultMessage:"View in timeline"});exports.ACTION_VIEW_IN_TIMELINE=ACTION_VIEW_IN_TIMELINE},7338:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormattedFieldValue=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _bytes=__webpack_require__(8800);var _duration=__webpack_require__(7211);var _empty_value=__webpack_require__(7017);var _formatted_date=__webpack_require__(7027);var _formatted_ip=__webpack_require__(8803);var _links=__webpack_require__(7034);var _port=__webpack_require__(7157);var _truncatable_text=__webpack_require__(7131);var _constants=__webpack_require__(7642);var _formatted_field_helpers=__webpack_require__(8804);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var columnNamesNotDraggable=[_constants.MESSAGE_FIELD_NAME];var FormattedFieldValueComponent=function FormattedFieldValueComponent(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,fieldFormat=_ref.fieldFormat,fieldName=_ref.fieldName,fieldType=_ref.fieldType,truncate=_ref.truncate,value=_ref.value,linkValue=_ref.linkValue;if(fieldType===_constants.IP_FIELD_TYPE){return _react.default.createElement(_formatted_ip.FormattedIp,{eventId:eventId,contextId:contextId,fieldName:fieldName,value:!(0,_fp.isNumber)(value)?value:String(value)})}else if(fieldType===_constants.DATE_FIELD_TYPE){return _react.default.createElement(_draggables.DefaultDraggable,{field:fieldName,id:"event-details-value-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(fieldName,"-").concat(value),tooltipContent:null,value:"".concat(value)},_react.default.createElement(_formatted_date.FormattedDate,{fieldName:fieldName,value:value}))}else if(_port.PORT_NAMES.some((function(portName){return fieldName===portName}))){return _react.default.createElement(_port.Port,{contextId:contextId,eventId:eventId,fieldName:fieldName,value:"".concat(value)})}else if(fieldName===_duration.EVENT_DURATION_FIELD_NAME){return _react.default.createElement(_duration.Duration,{contextId:contextId,eventId:eventId,fieldName:fieldName,value:"".concat(value)})}else if(fieldName===_constants.HOST_NAME_FIELD_NAME){var hostname="".concat(value);return(0,_fp.isString)(value)&&hostname.length>0?_react.default.createElement(_draggables.DefaultDraggable,{field:fieldName,id:"event-details-value-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(fieldName,"-").concat(value),tooltipContent:value,value:value},_react.default.createElement(_links.HostDetailsLink,{"data-test-subj":"host-details-link",hostName:hostname},_react.default.createElement(_truncatable_text.TruncatableText,{"data-test-subj":"draggable-truncatable-content"},value))):(0,_empty_value.getEmptyTagValue)()}else if(fieldFormat===_bytes.BYTES_FORMAT){return _react.default.createElement(_bytes.Bytes,{contextId:contextId,eventId:eventId,fieldName:fieldName,value:"".concat(value)})}else if(fieldName===_constants.SIGNAL_RULE_NAME_FIELD_NAME){return(0,_formatted_field_helpers.renderRuleName)({contextId:contextId,eventId:eventId,fieldName:fieldName,linkValue:linkValue,truncate:truncate,value:value})}else if(fieldName===_constants.EVENT_MODULE_FIELD_NAME){return(0,_formatted_field_helpers.renderEventModule)({contextId:contextId,eventId:eventId,fieldName:fieldName,linkValue:linkValue,truncate:truncate,value:value})}else if(fieldName===_constants.RULE_REFERENCE_FIELD_NAME){return(0,_formatted_field_helpers.renderRulReference)({contextId:contextId,eventId:eventId,fieldName:fieldName,linkValue:linkValue,truncate:truncate,value:value})}else if(columnNamesNotDraggable.includes(fieldName)){return truncate&&!(0,_fp.isEmpty)(value)?_react.default.createElement(_truncatable_text.TruncatableText,{"data-test-subj":"truncatable-message"},_react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"message-tool-tip",content:_react.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement("span",null,fieldName)),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement("span",null,value)))},_react.default.createElement(_react.default.Fragment,null,value))):_react.default.createElement(_react.default.Fragment,null,value)}else{var contentValue=(0,_empty_value.getOrEmptyTagFromValue)(value);var content=truncate?_react.default.createElement(_truncatable_text.TruncatableText,null,contentValue):contentValue;return _react.default.createElement(_draggables.DefaultDraggable,{field:fieldName,id:"event-details-value-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(fieldName,"-").concat(value),value:"".concat(value),tooltipContent:fieldType===_constants.DATE_FIELD_TYPE||fieldType===_duration.EVENT_DURATION_FIELD_NAME?null:fieldName},content)}};var FormattedFieldValue=_react.default.memo(FormattedFieldValueComponent);exports.FormattedFieldValue=FormattedFieldValue},7339:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isUrlInvalid=void 0;var _fp=__webpack_require__(223);var urlExpression=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi;var isUrlInvalid=function isUrlInvalid(url){if(!(0,_fp.isEmpty)(url)&&url!=null&&url.match(urlExpression)==null){return true}return false};exports.isUrlInvalid=isUrlInvalid},7340:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CertificateFingerprint=exports.TLS_SERVER_CERTIFICATE_FINGERPRINT_SHA1_FIELD_NAME=exports.TLS_CLIENT_CERTIFICATE_FINGERPRINT_SHA1_FIELD_NAME=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _draggables=__webpack_require__(7018);var _external_link_icon=__webpack_require__(7136);var _links=__webpack_require__(7034);var i18n=_interopRequireWildcard(__webpack_require__(8818));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TLS_CLIENT_CERTIFICATE_FINGERPRINT_SHA1_FIELD_NAME="tls.client_certificate.fingerprint.sha1";exports.TLS_CLIENT_CERTIFICATE_FINGERPRINT_SHA1_FIELD_NAME=TLS_CLIENT_CERTIFICATE_FINGERPRINT_SHA1_FIELD_NAME;var TLS_SERVER_CERTIFICATE_FINGERPRINT_SHA1_FIELD_NAME="tls.server_certificate.fingerprint.sha1";exports.TLS_SERVER_CERTIFICATE_FINGERPRINT_SHA1_FIELD_NAME=TLS_SERVER_CERTIFICATE_FINGERPRINT_SHA1_FIELD_NAME;var FingerprintLabel=_styledComponents.default.span.withConfig({displayName:"FingerprintLabel",componentId:"sc-1d0en54-0"})(["margin-right:5px;"]);FingerprintLabel.displayName="FingerprintLabel";var CertificateFingerprint=_react.default.memo((function(_ref){var eventId=_ref.eventId,certificateType=_ref.certificateType,contextId=_ref.contextId,fieldName=_ref.fieldName,value=_ref.value;return _react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,"data-test-subj":"".concat(certificateType,"-certificate-fingerprint"),eventId:eventId,field:fieldName,iconType:"snowflake",tooltipContent:_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement("span",null,fieldName)),value:value},_react.default.createElement(FingerprintLabel,{"data-test-subj":"fingerprint-label"},certificateType==="client"?i18n.CLIENT_CERT:i18n.SERVER_CERT),_react.default.createElement(_links.CertificateFingerprintLink,{certificateFingerprint:value||""}),_react.default.createElement(_external_link_icon.ExternalLinkIcon,null))}));exports.CertificateFingerprint=CertificateFingerprint;CertificateFingerprint.displayName="CertificateFingerprint"},7341:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Ja3Fingerprint=exports.JA3_HASH_FIELD_NAME=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _draggables=__webpack_require__(7018);var _external_link_icon=__webpack_require__(7136);var _links=__webpack_require__(7034);var i18n=_interopRequireWildcard(__webpack_require__(8819));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var JA3_HASH_FIELD_NAME="tls.fingerprints.ja3.hash";exports.JA3_HASH_FIELD_NAME=JA3_HASH_FIELD_NAME;var Ja3FingerprintLabel=_styledComponents.default.span.withConfig({displayName:"Ja3FingerprintLabel",componentId:"sc-1gqkehp-0"})(["margin-right:5px;"]);Ja3FingerprintLabel.displayName="Ja3FingerprintLabel";var Ja3Fingerprint=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,fieldName=_ref.fieldName,value=_ref.value;return _react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,"data-test-subj":"ja3-hash",eventId:eventId,field:fieldName,iconType:"snowflake",value:value},_react.default.createElement(Ja3FingerprintLabel,{"data-test-subj":"ja3-fingerprint-label"},i18n.JA3_FINGERPRINT_LABEL),_react.default.createElement(_links.Ja3FingerprintLink,{"data-test-subj":"ja3-hash-link",ja3Fingerprint:value||""}),_react.default.createElement(_external_link_icon.ExternalLinkIcon,null))}));exports.Ja3Fingerprint=Ja3Fingerprint;Ja3Fingerprint.displayName="Ja3Fingerprint"},7342:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GeoFields=exports.getGeoFieldPropNameToFieldNameMap=exports.DESTINATION_GEO_CITY_NAME_FIELD_NAME=exports.DESTINATION_GEO_REGION_NAME_FIELD_NAME=exports.DESTINATION_GEO_COUNTRY_ISO_CODE_FIELD_NAME=exports.DESTINATION_GEO_COUNTRY_NAME_FIELD_NAME=exports.DESTINATION_GEO_CONTINENT_NAME_FIELD_NAME=exports.SOURCE_GEO_CITY_NAME_FIELD_NAME=exports.SOURCE_GEO_REGION_NAME_FIELD_NAME=exports.SOURCE_GEO_COUNTRY_ISO_CODE_FIELD_NAME=exports.SOURCE_GEO_COUNTRY_NAME_FIELD_NAME=exports.SOURCE_GEO_CONTINENT_NAME_FIELD_NAME=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _draggables=__webpack_require__(7018);var _country_flag=__webpack_require__(7325);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SOURCE_GEO_CONTINENT_NAME_FIELD_NAME="source.geo.continent_name";exports.SOURCE_GEO_CONTINENT_NAME_FIELD_NAME=SOURCE_GEO_CONTINENT_NAME_FIELD_NAME;var SOURCE_GEO_COUNTRY_NAME_FIELD_NAME="source.geo.country_name";exports.SOURCE_GEO_COUNTRY_NAME_FIELD_NAME=SOURCE_GEO_COUNTRY_NAME_FIELD_NAME;var SOURCE_GEO_COUNTRY_ISO_CODE_FIELD_NAME="source.geo.country_iso_code";exports.SOURCE_GEO_COUNTRY_ISO_CODE_FIELD_NAME=SOURCE_GEO_COUNTRY_ISO_CODE_FIELD_NAME;var SOURCE_GEO_REGION_NAME_FIELD_NAME="source.geo.region_name";exports.SOURCE_GEO_REGION_NAME_FIELD_NAME=SOURCE_GEO_REGION_NAME_FIELD_NAME;var SOURCE_GEO_CITY_NAME_FIELD_NAME="source.geo.city_name";exports.SOURCE_GEO_CITY_NAME_FIELD_NAME=SOURCE_GEO_CITY_NAME_FIELD_NAME;var DESTINATION_GEO_CONTINENT_NAME_FIELD_NAME="destination.geo.continent_name";exports.DESTINATION_GEO_CONTINENT_NAME_FIELD_NAME=DESTINATION_GEO_CONTINENT_NAME_FIELD_NAME;var DESTINATION_GEO_COUNTRY_NAME_FIELD_NAME="destination.geo.country_name";exports.DESTINATION_GEO_COUNTRY_NAME_FIELD_NAME=DESTINATION_GEO_COUNTRY_NAME_FIELD_NAME;var DESTINATION_GEO_COUNTRY_ISO_CODE_FIELD_NAME="destination.geo.country_iso_code";exports.DESTINATION_GEO_COUNTRY_ISO_CODE_FIELD_NAME=DESTINATION_GEO_COUNTRY_ISO_CODE_FIELD_NAME;var DESTINATION_GEO_REGION_NAME_FIELD_NAME="destination.geo.region_name";exports.DESTINATION_GEO_REGION_NAME_FIELD_NAME=DESTINATION_GEO_REGION_NAME_FIELD_NAME;var DESTINATION_GEO_CITY_NAME_FIELD_NAME="destination.geo.city_name";exports.DESTINATION_GEO_CITY_NAME_FIELD_NAME=DESTINATION_GEO_CITY_NAME_FIELD_NAME;var geoPropNameToFieldNameSuffix=[{prop:"GeoContinentName",fieldName:"geo.continent_name"},{prop:"GeoCountryName",fieldName:"geo.country_name"},{prop:"GeoCountryIsoCode",fieldName:"geo.country_iso_code"},{prop:"GeoRegionName",fieldName:"geo.region_name"},{prop:"GeoCityName",fieldName:"geo.city_name"}];var getGeoFieldPropNameToFieldNameMap=function getGeoFieldPropNameToFieldNameMap(type){return geoPropNameToFieldNameSuffix.map((function(_ref){var prop=_ref.prop,fieldName=_ref.fieldName;return{prop:"".concat(type).concat(prop),fieldName:"".concat(type,".").concat(fieldName)}}))};exports.getGeoFieldPropNameToFieldNameMap=getGeoFieldPropNameToFieldNameMap;var GeoFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"GeoFlexItem",componentId:"bz7oy6-0"})(["margin-right:5px;"]);GeoFlexItem.displayName="GeoFlexItem";var GeoFieldValues=_react.default.memo((function(_ref2){var contextId=_ref2.contextId,eventId=_ref2.eventId,fieldName=_ref2.fieldName,values=_ref2.values;return values!=null?_react.default.createElement(_react.default.Fragment,null,(0,_fp.uniq)(values).map((function(value){return _react.default.createElement(GeoFlexItem,{grow:false,key:"".concat(contextId,"-").concat(eventId,"-").concat(fieldName,"-").concat(value)},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},fieldName===SOURCE_GEO_COUNTRY_ISO_CODE_FIELD_NAME||fieldName===DESTINATION_GEO_COUNTRY_ISO_CODE_FIELD_NAME?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_country_flag.CountryFlag,{countryCode:value})):null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_draggables.DefaultDraggable,{"data-test-subj":fieldName,field:fieldName,id:"geo-field-values-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(fieldName,"-").concat(value),tooltipContent:fieldName,value:value}))))}))):null}));GeoFieldValues.displayName="GeoFieldValues";var GeoFields=_react.default.memo((function(props){var contextId=props.contextId,eventId=props.eventId,type=props.type;var propNameToFieldName=getGeoFieldPropNameToFieldNameMap(type);return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},(0,_fp.uniq)(propNameToFieldName).map((function(geo){return _react.default.createElement(GeoFieldValues,{contextId:contextId,eventId:eventId,fieldName:geo.fieldName,key:geo.fieldName,values:(0,_fp.get)(geo.prop,props)})})))}));exports.GeoFields=GeoFields;GeoFields.displayName="GeoFields"},7343:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DurationEventStartEnd=exports.EVENT_END_FIELD_NAME=exports.EVENT_START_FIELD_NAME=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _draggables=__webpack_require__(7018);var _duration=__webpack_require__(7211);var _formatted_date=__webpack_require__(7027);var _formatted_duration=__webpack_require__(7643);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EVENT_START_FIELD_NAME="event.start";exports.EVENT_START_FIELD_NAME=EVENT_START_FIELD_NAME;var EVENT_END_FIELD_NAME="event.end";exports.EVENT_END_FIELD_NAME=EVENT_END_FIELD_NAME;var TimeIcon=(0,_styledComponents.default)(_eui.EuiIcon).withConfig({displayName:"TimeIcon",componentId:"sc-1iyywdg-0"})(["margin-right:3px;position:relative;top:-1px;"]);TimeIcon.displayName="TimeIcon";var DurationEventStartEnd=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventDuration=_ref.eventDuration,eventId=_ref.eventId,eventEnd=_ref.eventEnd,eventStart=_ref.eventStart;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"flexStart","data-test-subj":"duration-and-start-group",direction:"column",justifyContent:"center",gutterSize:"none"},eventDuration!=null?(0,_fp.uniq)(eventDuration).map((function(duration){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:duration},_react.default.createElement(_draggables.DefaultDraggable,{"data-test-subj":"event-duration",field:_duration.EVENT_DURATION_FIELD_NAME,id:"duration-event-start-end-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(_duration.EVENT_DURATION_FIELD_NAME,"-").concat(duration),name:name,tooltipContent:null,value:duration},_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(TimeIcon,{size:"m",type:"clock"}),_react.default.createElement(_formatted_duration.FormattedDuration,{maybeDurationNanoseconds:duration,tooltipTitle:_duration.EVENT_DURATION_FIELD_NAME}))))})):null,eventStart!=null?(0,_fp.uniq)(eventStart).map((function(start){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:start},_react.default.createElement(_draggables.DefaultDraggable,{"data-test-subj":"event-start",field:EVENT_START_FIELD_NAME,id:"duration-event-start-end-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(EVENT_START_FIELD_NAME,"-").concat(start),tooltipContent:null,value:start},_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(TimeIcon,{size:"m",type:"clock"}),_react.default.createElement(_formatted_date.FormattedDate,{fieldName:EVENT_START_FIELD_NAME,value:start}))))})):null,eventEnd!=null?(0,_fp.uniq)(eventEnd).map((function(end){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:end},_react.default.createElement(_draggables.DefaultDraggable,{"data-test-subj":"event-end",field:EVENT_END_FIELD_NAME,id:"duration-event-start-end-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(EVENT_END_FIELD_NAME,"-").concat(end),tooltipContent:null,value:end},_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(TimeIcon,{size:"m",type:"clock"}),_react.default.createElement(_formatted_date.FormattedDate,{fieldName:EVENT_END_FIELD_NAME,value:end}))))})):null)}));exports.DurationEventStartEnd=DurationEventStartEnd;DurationEventStartEnd.displayName="DurationEventStartEnd"},7344:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Args=exports.ArgsComponent=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _helpers=__webpack_require__(7022);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ArgsComponent=function ArgsComponent(_ref){var args=_ref.args,contextId=_ref.contextId,eventId=_ref.eventId,processTitle=_ref.processTitle;if((0,_helpers.isNillEmptyOrNotFinite)(args)&&(0,_helpers.isNillEmptyOrNotFinite)(processTitle)){return null}return _react.default.createElement(_react.default.Fragment,null,args!=null&&args.map((function(arg,i){return _react.default.createElement(_helpers.TokensFlexItem,{key:"".concat(contextId,"-args-").concat(i,"-").concat(arg),grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:"".concat(contextId,"-args-").concat(i,"-").concat(arg),eventId:eventId,field:"process.args",value:arg}))})),!(0,_helpers.isNillEmptyOrNotFinite)(processTitle)&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"process.title",value:processTitle})))};exports.ArgsComponent=ArgsComponent;ArgsComponent.displayName="ArgsComponent";var Args=_react.default.memo(ArgsComponent);exports.Args=Args;Args.displayName="Args"},7345:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WITH_EXIT_CODE=exports.VIA_PARENT_PROCESS=exports.VIA=exports.USER_REMOVED=exports.PACKAGE_REMOVED=exports.PACKAGE_UPDATED=exports.ACCEPTED=exports.BOOT=exports.PACKAGE_INSTALLED=exports.ERROR=exports.PROCESS_ERROR=exports.USER_ADDED=exports.HOST_CHANGED=exports.USER_CHANGED=exports.INVALID=exports.EXISTING_PACKAGE=exports.EXISTING_SOCKET=exports.EXISTING_USER=exports.SOCKET_CLOSED=exports.SOCKET_OPENED=exports.EXISTING_PROCESS=exports.DELETED_FILE=exports.CREATED_FILE=exports.TERMINATED_PROCESS=exports.PROCESS_STOPPED=exports.PROCESS_STARTED=exports.USING=exports.LOGGED_OUT=exports.DISCONNECTED_VIA=exports.ATTEMPTED_LOGIN=exports.ACCEPTED_A_CONNECTION_VIA=exports.WAS_AUTHORIZED_TO_USE=exports.WITH_RESULT=exports.SESSION=void 0;var _i18n=__webpack_require__(2);var SESSION=_i18n.i18n.translate("xpack.siem.system.systemDescription",{defaultMessage:"System"});exports.SESSION=SESSION;var WITH_RESULT=_i18n.i18n.translate("xpack.siem.system.withResultDescription",{defaultMessage:"with result"});exports.WITH_RESULT=WITH_RESULT;var WAS_AUTHORIZED_TO_USE=_i18n.i18n.translate("xpack.siem.system.wasAuthorizedToUseDescription",{defaultMessage:"was authorized to use"});exports.WAS_AUTHORIZED_TO_USE=WAS_AUTHORIZED_TO_USE;var ACCEPTED_A_CONNECTION_VIA=_i18n.i18n.translate("xpack.siem.system.acceptedAConnectionViaDescription",{defaultMessage:"accepted a connection via"});exports.ACCEPTED_A_CONNECTION_VIA=ACCEPTED_A_CONNECTION_VIA;var ATTEMPTED_LOGIN=_i18n.i18n.translate("xpack.siem.system.attemptedLoginDescription",{defaultMessage:"attempted a login via"});exports.ATTEMPTED_LOGIN=ATTEMPTED_LOGIN;var DISCONNECTED_VIA=_i18n.i18n.translate("xpack.siem.system.disconnectedViaDescription",{defaultMessage:"disconnected via"});exports.DISCONNECTED_VIA=DISCONNECTED_VIA;var LOGGED_OUT=_i18n.i18n.translate("xpack.siem.system.loggedOutDescription",{defaultMessage:"logged out via"});exports.LOGGED_OUT=LOGGED_OUT;var USING=_i18n.i18n.translate("xpack.siem.system.usingDescription",{defaultMessage:"using"});exports.USING=USING;var PROCESS_STARTED=_i18n.i18n.translate("xpack.siem.system.processStartedDescription",{defaultMessage:"started process"});exports.PROCESS_STARTED=PROCESS_STARTED;var PROCESS_STOPPED=_i18n.i18n.translate("xpack.siem.system.processStoppedDescription",{defaultMessage:"stopped process"});exports.PROCESS_STOPPED=PROCESS_STOPPED;var TERMINATED_PROCESS=_i18n.i18n.translate("xpack.siem.system.terminatedProcessDescription",{defaultMessage:"terminated process"});exports.TERMINATED_PROCESS=TERMINATED_PROCESS;var CREATED_FILE=_i18n.i18n.translate("xpack.siem.system.createdFileDescription",{defaultMessage:"created a file"});exports.CREATED_FILE=CREATED_FILE;var DELETED_FILE=_i18n.i18n.translate("xpack.siem.system.deletedFileDescription",{defaultMessage:"deleted a file"});exports.DELETED_FILE=DELETED_FILE;var EXISTING_PROCESS=_i18n.i18n.translate("xpack.siem.system.existingProcessDescription",{defaultMessage:"is running process"});exports.EXISTING_PROCESS=EXISTING_PROCESS;var SOCKET_OPENED=_i18n.i18n.translate("xpack.siem.system.socketOpenedDescription",{defaultMessage:"opened a socket with"});exports.SOCKET_OPENED=SOCKET_OPENED;var SOCKET_CLOSED=_i18n.i18n.translate("xpack.siem.system.socketClosedDescription",{defaultMessage:"closed a socket with"});exports.SOCKET_CLOSED=SOCKET_CLOSED;var EXISTING_USER=_i18n.i18n.translate("xpack.siem.system.existingUserDescription",{defaultMessage:"is an existing user"});exports.EXISTING_USER=EXISTING_USER;var EXISTING_SOCKET=_i18n.i18n.translate("xpack.siem.system.existingSocketDescription",{defaultMessage:"is using an existing socket from"});exports.EXISTING_SOCKET=EXISTING_SOCKET;var EXISTING_PACKAGE=_i18n.i18n.translate("xpack.siem.system.existingPackageDescription",{defaultMessage:"is using an existing package"});exports.EXISTING_PACKAGE=EXISTING_PACKAGE;var INVALID=_i18n.i18n.translate("xpack.siem.system.invalidDescription",{defaultMessage:"attempted invalid usage of"});exports.INVALID=INVALID;var USER_CHANGED=_i18n.i18n.translate("xpack.siem.system.userChangedDescription",{defaultMessage:"user has changed"});exports.USER_CHANGED=USER_CHANGED;var HOST_CHANGED=_i18n.i18n.translate("xpack.siem.system.hostDescription",{defaultMessage:"host information"});exports.HOST_CHANGED=HOST_CHANGED;var USER_ADDED=_i18n.i18n.translate("xpack.siem.system.userAddedDescription",{defaultMessage:"user was added"});exports.USER_ADDED=USER_ADDED;var PROCESS_ERROR=_i18n.i18n.translate("xpack.siem.system.processErrorDescription",{defaultMessage:"encountered a process error with"});exports.PROCESS_ERROR=PROCESS_ERROR;var ERROR=_i18n.i18n.translate("xpack.siem.system.errorDescription",{defaultMessage:"encountered an error with"});exports.ERROR=ERROR;var PACKAGE_INSTALLED=_i18n.i18n.translate("xpack.siem.system.packageInstalledDescription",{defaultMessage:"installed package"});exports.PACKAGE_INSTALLED=PACKAGE_INSTALLED;var BOOT=_i18n.i18n.translate("xpack.siem.system.packageSystemStartedDescription",{defaultMessage:"system started"});exports.BOOT=BOOT;var ACCEPTED=_i18n.i18n.translate("xpack.siem.system.acceptedDescription",{defaultMessage:"accepted the user via"});exports.ACCEPTED=ACCEPTED;var PACKAGE_UPDATED=_i18n.i18n.translate("xpack.siem.system.packageUpdatedDescription",{defaultMessage:"updated package"});exports.PACKAGE_UPDATED=PACKAGE_UPDATED;var PACKAGE_REMOVED=_i18n.i18n.translate("xpack.siem.system.packageRemovedDescription",{defaultMessage:"removed package"});exports.PACKAGE_REMOVED=PACKAGE_REMOVED;var USER_REMOVED=_i18n.i18n.translate("xpack.siem.system.userRemovedDescription",{defaultMessage:"was removed"});exports.USER_REMOVED=USER_REMOVED;var VIA=_i18n.i18n.translate("xpack.siem.system.viaDescription",{defaultMessage:"via"});exports.VIA=VIA;var VIA_PARENT_PROCESS=_i18n.i18n.translate("xpack.siem.system.viaParentProcessDescription",{defaultMessage:"via parent process"});exports.VIA_PARENT_PROCESS=VIA_PARENT_PROCESS;var WITH_EXIT_CODE=_i18n.i18n.translate("xpack.siem.system.withExitCodeDescription",{defaultMessage:"with exit code"});exports.WITH_EXIT_CODE=WITH_EXIT_CODE},7346:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UNIT=exports.LOADING_EVENTS=exports.EVENTS=exports.ERROR_FETCHING_EVENTS_DATA=exports.SHOWING=void 0;var _i18n=__webpack_require__(2);var SHOWING=_i18n.i18n.translate("xpack.siem.eventsViewer.showingLabel",{defaultMessage:"Showing"});exports.SHOWING=SHOWING;var ERROR_FETCHING_EVENTS_DATA=_i18n.i18n.translate("xpack.siem.eventsViewer.errorFetchingEventsData",{defaultMessage:"Failed to query events data"});exports.ERROR_FETCHING_EVENTS_DATA=ERROR_FETCHING_EVENTS_DATA;var EVENTS=_i18n.i18n.translate("xpack.siem.eventsViewer.eventsLabel",{defaultMessage:"Events"});exports.EVENTS=EVENTS;var LOADING_EVENTS=_i18n.i18n.translate("xpack.siem.eventsViewer.footer.loadingEventsDataLabel",{defaultMessage:"Loading Events"});exports.LOADING_EVENTS=LOADING_EVENTS;var UNIT=function UNIT(totalCount){return _i18n.i18n.translate("xpack.siem.eventsViewer.unit",{values:{totalCount:totalCount},defaultMessage:"{totalCount, plural, =1 {event} other {events}}"})};exports.UNIT=UNIT},7347:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SIGNAL_EVENT=exports.RAW_EVENT=exports.ALL_EVENT=exports.FILTER_OR_SEARCH_WITH_KQL=exports.SEARCH_KQL_SELECTED_TEXT=exports.SEARCH_KQL_PLACEHOLDER=exports.SEARCH_KQL_TOOLTIP=exports.SEARCH_DESCRIPTION=exports.FILTER_KQL_SELECTED_TEXT=exports.FILTER_KQL_PLACEHOLDER=exports.FILTER_KQL_TOOLTIP=exports.FILTER_DESCRIPTION=void 0;var _i18n=__webpack_require__(2);var FILTER_DESCRIPTION=_i18n.i18n.translate("xpack.siem.timeline.searchOrFilter.filterDescription",{defaultMessage:"Events from the data providers above are filtered by the adjacent KQL"});exports.FILTER_DESCRIPTION=FILTER_DESCRIPTION;var FILTER_KQL_TOOLTIP=_i18n.i18n.translate("xpack.siem.timeline.searchOrFilter.filterKqlTooltip",{defaultMessage:"Events from the data providers above are filtered by this KQL"});exports.FILTER_KQL_TOOLTIP=FILTER_KQL_TOOLTIP;var FILTER_KQL_PLACEHOLDER=_i18n.i18n.translate("xpack.siem.timeline.searchOrFilter.filterKqlPlaceholder",{defaultMessage:"Filter events"});exports.FILTER_KQL_PLACEHOLDER=FILTER_KQL_PLACEHOLDER;var FILTER_KQL_SELECTED_TEXT=_i18n.i18n.translate("xpack.siem.timeline.searchOrFilter.filterKqlSelectedText",{defaultMessage:"Filter"});exports.FILTER_KQL_SELECTED_TEXT=FILTER_KQL_SELECTED_TEXT;var SEARCH_DESCRIPTION=_i18n.i18n.translate("xpack.siem.timeline.searchOrFilter.searchDescription",{defaultMessage:"Events from the data providers above are combined with results from the adjacent KQL"});exports.SEARCH_DESCRIPTION=SEARCH_DESCRIPTION;var SEARCH_KQL_TOOLTIP=_i18n.i18n.translate("xpack.siem.timeline.searchOrFilter.searchKqlTooltip",{defaultMessage:"Events from the data providers above are combined with results from this KQL"});exports.SEARCH_KQL_TOOLTIP=SEARCH_KQL_TOOLTIP;var SEARCH_KQL_PLACEHOLDER=_i18n.i18n.translate("xpack.siem.timeline.searchOrFilter.searchKqlPlaceholder",{defaultMessage:"Search events"});exports.SEARCH_KQL_PLACEHOLDER=SEARCH_KQL_PLACEHOLDER;var SEARCH_KQL_SELECTED_TEXT=_i18n.i18n.translate("xpack.siem.timeline.searchOrFilter.searchKqlSelectedText",{defaultMessage:"Search"});exports.SEARCH_KQL_SELECTED_TEXT=SEARCH_KQL_SELECTED_TEXT;var FILTER_OR_SEARCH_WITH_KQL=_i18n.i18n.translate("xpack.siem.timeline.searchOrFilter.filterOrSearchWithKql",{defaultMessage:"Filter or Search with KQL"});exports.FILTER_OR_SEARCH_WITH_KQL=FILTER_OR_SEARCH_WITH_KQL;var ALL_EVENT=_i18n.i18n.translate("xpack.siem.timeline.searchOrFilter.eventTypeAllEvent",{defaultMessage:"All events"});exports.ALL_EVENT=ALL_EVENT;var RAW_EVENT=_i18n.i18n.translate("xpack.siem.timeline.searchOrFilter.eventTypeRawEvent",{defaultMessage:"Raw events"});exports.RAW_EVENT=RAW_EVENT;var SIGNAL_EVENT=_i18n.i18n.translate("xpack.siem.timeline.searchOrFilter.eventTypeSignalEvent",{defaultMessage:"Signal events"});exports.SIGNAL_EVENT=SIGNAL_EVENT},7348:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepAboutRule=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _helpers=__webpack_require__(7093);var _types=__webpack_require__(7162);var RuleI18n=_interopRequireWildcard(__webpack_require__(7031));var _add_item_form=__webpack_require__(7665);var _description_step=__webpack_require__(7349);var _mitre=__webpack_require__(8906);var _shared_imports=__webpack_require__(7073);var _data=__webpack_require__(8908);var _default_value=__webpack_require__(7668);var _helpers2=__webpack_require__(7339);var _schema=__webpack_require__(8909);var I18n=_interopRequireWildcard(__webpack_require__(7351));var _pick_timeline=__webpack_require__(8910);var _step_content_wrapper=__webpack_require__(7352);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var CommonUseField=(0,_shared_imports.getUseField)({component:_shared_imports.Field});var TagContainer=_styledComponents.default.div.withConfig({displayName:"TagContainer",componentId:"sc-1hkyuvn-0"})(["margin-top:16px;"]);TagContainer.displayName="TagContainer";var AdvancedSettingsAccordion=(0,_styledComponents.default)(_eui.EuiAccordion).withConfig({displayName:"AdvancedSettingsAccordion",componentId:"sc-1hkyuvn-1"})([".euiAccordion__iconWrapper{display:none;}.euiAccordion__childWrapper{transition-duration:1ms;}&.euiAccordion-isOpen .euiButtonEmpty__content > svg{transform:rotate(90deg);}"]);var AdvancedSettingsAccordionButton=_react.default.createElement(_eui.EuiButtonEmpty,{flush:"left",size:"s",iconType:"arrowRight"},I18n.ADVANCED_SETTINGS);var StepAboutRuleComponent=function StepAboutRuleComponent(_ref){var _ref$addPadding=_ref.addPadding,addPadding=_ref$addPadding===void 0?false:_ref$addPadding,defaultValues=_ref.defaultValues,_ref$descriptionDirec=_ref.descriptionDirection,descriptionDirection=_ref$descriptionDirec===void 0?"row":_ref$descriptionDirec,isReadOnlyView=_ref.isReadOnlyView,_ref$isUpdateView=_ref.isUpdateView,isUpdateView=_ref$isUpdateView===void 0?false:_ref$isUpdateView,isLoading=_ref.isLoading,setForm=_ref.setForm,setStepData=_ref.setStepData;var _useState=(0,_react.useState)(_default_value.stepAboutDefaultValue),_useState2=_slicedToArray(_useState,2),myStepData=_useState2[0],setMyStepData=_useState2[1];var _useForm=(0,_shared_imports.useForm)({defaultValue:myStepData,options:{stripEmptyFields:false},schema:_schema.schema}),form=_useForm.form;var onSubmit=(0,_react.useCallback)((function _callee(){var _ref2,isValid,data;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!setStepData){_context.next=8;break}setStepData(_types.RuleStep.aboutRule,null,false);_context.next=4;return regeneratorRuntime.awrap(form.submit());case 4:_ref2=_context.sent;isValid=_ref2.isValid;data=_ref2.data;if(isValid){setStepData(_types.RuleStep.aboutRule,data,isValid);setMyStepData(_objectSpread({},data,{isNew:false}))}case 8:case"end":return _context.stop()}}}))}),[form]);(0,_react.useEffect)((function(){var isNew=myStepData.isNew,initDefaultValue=_objectWithoutProperties(myStepData,["isNew"]);if(defaultValues!=null&&!(0,_fp.isEqual)(initDefaultValue,defaultValues)){var myDefaultValues=_objectSpread({},defaultValues,{isNew:false});setMyStepData(myDefaultValues);(0,_helpers.setFieldValue)(form,_schema.schema,myDefaultValues)}}),[defaultValues]);(0,_react.useEffect)((function(){if(setForm!=null){setForm(_types.RuleStep.aboutRule,form)}}),[form]);return isReadOnlyView&&myStepData.name!=null?_react.default.createElement(_step_content_wrapper.StepContentWrapper,{addPadding:addPadding},_react.default.createElement(_description_step.StepRuleDescription,{direction:descriptionDirection,schema:_schema.schema,data:myStepData})):_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_step_content_wrapper.StepContentWrapper,{addPadding:!isUpdateView},_react.default.createElement(_shared_imports.Form,{form:form,"data-test-subj":"stepAboutRule"},_react.default.createElement(CommonUseField,{path:"name",componentProps:{idAria:"detectionEngineStepAboutRuleName","data-test-subj":"detectionEngineStepAboutRuleName",euiFieldProps:{fullWidth:false,disabled:isLoading}}}),_react.default.createElement(CommonUseField,{path:"description",componentProps:{idAria:"detectionEngineStepAboutRuleDescription","data-test-subj":"detectionEngineStepAboutRuleDescription",euiFieldProps:{disabled:isLoading}}}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(CommonUseField,{path:"severity",componentProps:{idAria:"detectionEngineStepAboutRuleSeverity","data-test-subj":"detectionEngineStepAboutRuleSeverity",euiFieldProps:{fullWidth:false,disabled:isLoading,options:_data.severityOptions}}})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(CommonUseField,{path:"riskScore",componentProps:{idAria:"detectionEngineStepAboutRuleRiskScore","data-test-subj":"detectionEngineStepAboutRuleRiskScore",euiFieldProps:{max:100,min:0,fullWidth:false,disabled:isLoading,showTicks:true,tickInterval:25}}}))),_react.default.createElement(TagContainer,null,_react.default.createElement(CommonUseField,{path:"tags",componentProps:{idAria:"detectionEngineStepAboutRuleTags","data-test-subj":"detectionEngineStepAboutRuleTags",euiFieldProps:{fullWidth:true,isDisabled:isLoading,placeholder:""}}})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(AdvancedSettingsAccordion,{id:"advancedSettingsAccordion",buttonContent:AdvancedSettingsAccordionButton},_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_shared_imports.UseField,{path:"timeline",component:_pick_timeline.PickTimeline,componentProps:{idAria:"detectionEngineStepAboutRuleTimeline",isDisabled:isLoading,dataTestSubj:"detectionEngineStepAboutRuleTimeline"}}),_react.default.createElement(_shared_imports.UseField,{path:"references",component:_add_item_form.AddItem,componentProps:{addText:I18n.ADD_REFERENCE,idAria:"detectionEngineStepAboutRuleReferenceUrls",isDisabled:isLoading,dataTestSubj:"detectionEngineStepAboutRuleReferenceUrls",validate:_helpers2.isUrlInvalid}}),_react.default.createElement(_shared_imports.UseField,{path:"falsePositives",component:_add_item_form.AddItem,componentProps:{addText:I18n.ADD_FALSE_POSITIVE,idAria:"detectionEngineStepAboutRuleFalsePositives",isDisabled:isLoading,dataTestSubj:"detectionEngineStepAboutRuleFalsePositives"}}),_react.default.createElement(_shared_imports.UseField,{path:"threat",component:_mitre.AddMitreThreat,componentProps:{idAria:"detectionEngineStepAboutRuleMitreThreat",isDisabled:isLoading,dataTestSubj:"detectionEngineStepAboutRuleMitreThreat"}})),_react.default.createElement(_shared_imports.FormDataProvider,{pathsToWatch:"severity"},(function(_ref3){var severity=_ref3.severity;var newRiskScore=_data.defaultRiskScoreBySeverity[severity];var severityField=form.getFields().severity;var riskScoreField=form.getFields().riskScore;if(severityField.value!==severity&&newRiskScore!=null&&riskScoreField.value!==newRiskScore){riskScoreField.setValue(newRiskScore)}return null})))),!isUpdateView&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"flexEnd",gutterSize:"xs",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:onSubmit,isDisabled:isLoading},RuleI18n.CONTINUE)))))};var StepAboutRule=(0,_react.memo)(StepAboutRuleComponent);exports.StepAboutRule=StepAboutRule},7349:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addFilterStateIfNotThere=exports.StepRuleDescription=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _public=__webpack_require__(11);var _translations=__webpack_require__(7350);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(8901);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var StepRuleDescriptionComponent=function StepRuleDescriptionComponent(_ref){var data=_ref.data,_ref$direction=_ref.direction,direction=_ref$direction===void 0?"row":_ref$direction,indexPatterns=_ref.indexPatterns,schema=_ref.schema;var kibana=(0,_kibana.useKibana)();var _useState=(0,_react.useState)(new _public.FilterManager(kibana.services.uiSettings)),_useState2=_slicedToArray(_useState,1),filterManager=_useState2[0];var keys=Object.keys(schema);var listItems=keys.reduce((function(acc,key){return[].concat(_toConsumableArray(acc),_toConsumableArray(buildListItems(data,(0,_fp.pick)(key,schema),filterManager,indexPatterns)))}),[]);if(direction==="row"){return _react.default.createElement(_eui.EuiFlexGroup,null,(0,_fp.chunk)(Math.ceil(listItems.length/2),listItems).map((function(chunkListItems,index){return _react.default.createElement(_eui.EuiFlexItem,{key:"description-step-rule-".concat(index)},_react.default.createElement(_eui.EuiDescriptionList,{listItems:chunkListItems}))})))}return _react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{key:"description-step-rule"},_react.default.createElement(_eui.EuiDescriptionList,{listItems:listItems})))};var StepRuleDescription=(0,_react.memo)(StepRuleDescriptionComponent);exports.StepRuleDescription=StepRuleDescription;var buildListItems=function buildListItems(data,schema,filterManager,indexPatterns){return Object.keys(schema).reduce((function(acc,field){return[].concat(_toConsumableArray(acc),_toConsumableArray(getDescriptionItem(field,(0,_fp.get)([field,"label"],schema),data,filterManager,indexPatterns)))}),[])};var addFilterStateIfNotThere=function addFilterStateIfNotThere(filters){return filters.map((function(filter){if(filter.$state==null){return _objectSpread({$state:{store:_public.esFilters.FilterStateStore.APP_STATE}},filter)}else{return filter}}))};exports.addFilterStateIfNotThere=addFilterStateIfNotThere;var getDescriptionItem=function getDescriptionItem(field,label,value,filterManager,indexPatterns){if(field==="queryBar"){var _get;var filters=addFilterStateIfNotThere((_get=(0,_fp.get)("queryBar.filters",value))!==null&&_get!==void 0?_get:[]);var query=(0,_fp.get)("queryBar.query",value);var savedId=(0,_fp.get)("queryBar.saved_id",value);return(0,_helpers.buildQueryBarDescription)({field:field,filters:filters,filterManager:filterManager,query:query,savedId:savedId,indexPatterns:indexPatterns})}else if(field==="threat"){var threat=(0,_fp.get)(field,value).filter((function(singleThreat){return singleThreat.tactic.name!=="none"}));return(0,_helpers.buildThreatDescription)({label:label,threat:threat})}else if(field==="description"){return[{title:label,description:(0,_fp.get)(field,value)}]}else if(field==="references"){var urls=(0,_fp.get)(field,value);return(0,_helpers.buildUrlsDescription)(label,urls)}else if(field==="falsePositives"){var values=(0,_fp.get)(field,value);return(0,_helpers.buildUnorderedListArrayDescription)(label,field,values)}else if(Array.isArray((0,_fp.get)(field,value))){var _values=(0,_fp.get)(field,value);return(0,_helpers.buildStringArrayDescription)(label,field,_values)}else if(field==="severity"){var val=(0,_fp.get)(field,value);return(0,_helpers.buildSeverityDescription)(label,val)}else if(field==="riskScore"){return[{title:label,description:(0,_fp.get)(field,value)}]}else if(field==="timeline"){var _timeline$title;var timeline=(0,_fp.get)(field,value);return[{title:label,description:(_timeline$title=timeline.title)!==null&&_timeline$title!==void 0?_timeline$title:_translations.DEFAULT_TIMELINE_TITLE}]}else if(field==="riskScore"){var _description=(0,_fp.get)(field,value);return[{title:label,description:_description}]}var description=(0,_fp.get)(field,value);if(!(0,_fp.isEmpty)(description)){return[{title:label,description:description}]}return[]}},735:function(module,exports,__webpack_require__){module.exports=__webpack_require__(17)(2990)},7350:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SEARCH_BOX_TIMELINE_PLACEHOLDER=exports.DEFAULT_TIMELINE_DESCRIPTION=exports.DEFAULT_TIMELINE_TITLE=void 0;var _i18n=__webpack_require__(2);var DEFAULT_TIMELINE_TITLE=_i18n.i18n.translate("xpack.siem.timeline.defaultTimelineTitle",{defaultMessage:"Default blank timeline"});exports.DEFAULT_TIMELINE_TITLE=DEFAULT_TIMELINE_TITLE;var DEFAULT_TIMELINE_DESCRIPTION=_i18n.i18n.translate("xpack.siem.timeline.defaultTimelineDescription",{defaultMessage:"Timeline offered by default when creating new timeline."});exports.DEFAULT_TIMELINE_DESCRIPTION=DEFAULT_TIMELINE_DESCRIPTION;var SEARCH_BOX_TIMELINE_PLACEHOLDER=_i18n.i18n.translate("xpack.siem.timeline.searchBoxPlaceholder",{defaultMessage:"e.g. timeline name or description"});exports.SEARCH_BOX_TIMELINE_PLACEHOLDER=SEARCH_BOX_TIMELINE_PLACEHOLDER},7351:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.URL_FORMAT_INVALID=exports.CUSTOM_MITRE_ATTACK_TECHNIQUES_REQUIRED=exports.CRITICAL=exports.HIGH=exports.MEDIUM=exports.LOW=exports.ADD_FALSE_POSITIVE=exports.ADD_REFERENCE=exports.ADVANCED_SETTINGS=void 0;var _i18n=__webpack_require__(2);var ADVANCED_SETTINGS=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRuleForm.advancedSettingsButton",{defaultMessage:"Advanced settings"});exports.ADVANCED_SETTINGS=ADVANCED_SETTINGS;var ADD_REFERENCE=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRuleForm.addReferenceDescription",{defaultMessage:"Add reference URL"});exports.ADD_REFERENCE=ADD_REFERENCE;var ADD_FALSE_POSITIVE=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRuleForm.addFalsePositiveDescription",{defaultMessage:"Add false positive example"});exports.ADD_FALSE_POSITIVE=ADD_FALSE_POSITIVE;var LOW=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRuleForm.severityOptionLowDescription",{defaultMessage:"Low"});exports.LOW=LOW;var MEDIUM=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRuleForm.severityOptionMediumDescription",{defaultMessage:"Medium"});exports.MEDIUM=MEDIUM;var HIGH=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRuleForm.severityOptionHighDescription",{defaultMessage:"High"});exports.HIGH=HIGH;var CRITICAL=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRuleForm.severityOptionCriticalDescription",{defaultMessage:"Critical"});exports.CRITICAL=CRITICAL;var CUSTOM_MITRE_ATTACK_TECHNIQUES_REQUIRED=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepDefineRule.customMitreAttackTechniquesFieldRequiredError",{defaultMessage:"At least one Technique is required with a Tactic."});exports.CUSTOM_MITRE_ATTACK_TECHNIQUES_REQUIRED=CUSTOM_MITRE_ATTACK_TECHNIQUES_REQUIRED;var URL_FORMAT_INVALID=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepDefineRule.referencesUrlInvalidError",{defaultMessage:"Url is invalid format"});exports.URL_FORMAT_INVALID=URL_FORMAT_INVALID},7352:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepContentWrapper=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StyledDiv=_styledComponents.default.div.withConfig({displayName:"StyledDiv",componentId:"sc-1d9arnx-0"})(["padding-left:",";"],(function(_ref){var addPadding=_ref.addPadding;return addPadding&&"53px"}));StyledDiv.defaultProps={addPadding:false};var StepContentWrapper=_react.default.memo(StyledDiv);exports.StepContentWrapper=StepContentWrapper},7353:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepDefineRule=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _rules=__webpack_require__(7059);var _constants=__webpack_require__(977);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(7093);var RuleI18n=_interopRequireWildcard(__webpack_require__(7031));var _types=__webpack_require__(7162);var _description_step=__webpack_require__(7349);var _query_bar=__webpack_require__(8912);var _step_content_wrapper=__webpack_require__(7352);var _shared_imports=__webpack_require__(7073);var _schema=__webpack_require__(8914);var i18n=_interopRequireWildcard(__webpack_require__(7671));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var CommonUseField=(0,_shared_imports.getUseField)({component:_shared_imports.Field});var stepDefineDefaultValue={index:[],isNew:true,queryBar:{query:{query:"",language:"kuery"},filters:[],saved_id:null}};var MyLabelButton=(0,_styledComponents.default)(_eui.EuiButtonEmpty).withConfig({displayName:"MyLabelButton",componentId:"sc-17fmlu6-0"})(["height:18px;font-size:12px;.euiIcon{width:14px;height:14px;}"]);MyLabelButton.defaultProps={flush:"right"};var getStepDefaultValue=function getStepDefaultValue(indicesConfig,defaultValues){if(defaultValues!=null){return _objectSpread({},defaultValues,{isNew:false})}else{return _objectSpread({},stepDefineDefaultValue,{index:indicesConfig!=null?indicesConfig:[]})}};var StepDefineRuleComponent=function StepDefineRuleComponent(_ref){var _ref$addPadding=_ref.addPadding,addPadding=_ref$addPadding===void 0?false:_ref$addPadding,defaultValues=_ref.defaultValues,_ref$descriptionDirec=_ref.descriptionDirection,descriptionDirection=_ref$descriptionDirec===void 0?"row":_ref$descriptionDirec,isReadOnlyView=_ref.isReadOnlyView,isLoading=_ref.isLoading,_ref$isUpdateView=_ref.isUpdateView,isUpdateView=_ref$isUpdateView===void 0?false:_ref$isUpdateView,setForm=_ref.setForm,setStepData=_ref.setStepData;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),openTimelineSearch=_useState2[0],setOpenTimelineSearch=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),localUseIndicesConfig=_useState4[0],setLocalUseIndicesConfig=_useState4[1];var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_INDEX_KEY),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),indicesConfig=_useUiSetting$2[0];var _useState5=(0,_react.useState)(defaultValues!=null?defaultValues.index:indicesConfig!==null&&indicesConfig!==void 0?indicesConfig:[]),_useState6=_slicedToArray(_useState5,2),mylocalIndicesConfig=_useState6[0],setMyLocalIndicesConfig=_useState6[1];var _useFetchIndexPattern=(0,_rules.useFetchIndexPatterns)(mylocalIndicesConfig),_useFetchIndexPattern2=_slicedToArray(_useFetchIndexPattern,1),_useFetchIndexPattern3=_useFetchIndexPattern2[0],browserFields=_useFetchIndexPattern3.browserFields,indexPatternQueryBar=_useFetchIndexPattern3.indexPatterns,indexPatternLoadingQueryBar=_useFetchIndexPattern3.isLoading;var _useState7=(0,_react.useState)(getStepDefaultValue(indicesConfig,null)),_useState8=_slicedToArray(_useState7,2),myStepData=_useState8[0],setMyStepData=_useState8[1];var _useForm=(0,_shared_imports.useForm)({defaultValue:myStepData,options:{stripEmptyFields:false},schema:_schema.schema}),form=_useForm.form;var onSubmit=(0,_react.useCallback)((function _callee(){var _ref2,isValid,data;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!setStepData){_context.next=8;break}setStepData(_types.RuleStep.defineRule,null,false);_context.next=4;return regeneratorRuntime.awrap(form.submit());case 4:_ref2=_context.sent;isValid=_ref2.isValid;data=_ref2.data;if(isValid&&setStepData){setStepData(_types.RuleStep.defineRule,data,isValid);setMyStepData(_objectSpread({},data,{isNew:false}))}case 8:case"end":return _context.stop()}}}))}),[form]);(0,_react.useEffect)((function(){if(indicesConfig!=null&&defaultValues!=null){var myDefaultValues=getStepDefaultValue(indicesConfig,defaultValues);if(!(0,_fp.isEqual)(myDefaultValues,myStepData)){setMyStepData(myDefaultValues);setLocalUseIndicesConfig((0,_fp.isEqual)(myDefaultValues.index,indicesConfig));(0,_helpers.setFieldValue)(form,_schema.schema,myDefaultValues)}}}),[defaultValues,indicesConfig]);(0,_react.useEffect)((function(){if(setForm!=null){setForm(_types.RuleStep.defineRule,form)}}),[form]);var handleResetIndices=(0,_react.useCallback)((function(){var indexField=form.getFields().index;indexField.setValue(indicesConfig)}),[form,indicesConfig]);var handleOpenTimelineSearch=(0,_react.useCallback)((function(){setOpenTimelineSearch(true)}),[]);var handleCloseTimelineSearch=(0,_react.useCallback)((function(){setOpenTimelineSearch(false)}),[]);return isReadOnlyView&&(myStepData===null||myStepData===void 0?void 0:myStepData.queryBar)!=null?_react.default.createElement(_step_content_wrapper.StepContentWrapper,{addPadding:addPadding},_react.default.createElement(_description_step.StepRuleDescription,{direction:descriptionDirection,indexPatterns:indexPatternQueryBar,schema:_schema.schema,data:myStepData})):_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_step_content_wrapper.StepContentWrapper,{addPadding:!isUpdateView},_react.default.createElement(_shared_imports.Form,{form:form,"data-test-subj":"stepDefineRule"},_react.default.createElement(CommonUseField,{path:"index",config:_objectSpread({},_schema.schema.index,{labelAppend:!localUseIndicesConfig?_react.default.createElement(MyLabelButton,{onClick:handleResetIndices,iconType:"refresh"},i18n.RESET_DEFAULT_INDEX):null}),componentProps:{idAria:"detectionEngineStepDefineRuleIndices","data-test-subj":"detectionEngineStepDefineRuleIndices",euiFieldProps:{fullWidth:true,isDisabled:isLoading,placeholder:""}}}),_react.default.createElement(_shared_imports.UseField,{path:"queryBar",config:_objectSpread({},_schema.schema.queryBar,{labelAppend:_react.default.createElement(MyLabelButton,{onClick:handleOpenTimelineSearch},i18n.IMPORT_TIMELINE_QUERY)}),component:_query_bar.QueryBarDefineRule,componentProps:{browserFields:browserFields,loading:indexPatternLoadingQueryBar,idAria:"detectionEngineStepDefineRuleQueryBar",indexPattern:indexPatternQueryBar,isDisabled:isLoading,isLoading:indexPatternLoadingQueryBar,dataTestSubj:"detectionEngineStepDefineRuleQueryBar",openTimelineSearch:openTimelineSearch,onCloseTimelineSearch:handleCloseTimelineSearch}}),_react.default.createElement(_shared_imports.FormDataProvider,{pathsToWatch:"index"},(function(_ref3){var index=_ref3.index;if(index!=null){if((0,_fp.isEqual)(index,indicesConfig)&&!localUseIndicesConfig){setLocalUseIndicesConfig(true)}if(!(0,_fp.isEqual)(index,indicesConfig)&&localUseIndicesConfig){setLocalUseIndicesConfig(false)}if(index!=null&&!(0,_fp.isEmpty)(index)&&!(0,_fp.isEqual)(index,mylocalIndicesConfig)){setMyLocalIndicesConfig(index)}}return null})))),!isUpdateView&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"flexEnd",gutterSize:"xs",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:onSubmit,isDisabled:isLoading},RuleI18n.CONTINUE)))))};var StepDefineRule=(0,_react.memo)(StepDefineRuleComponent);exports.StepDefineRule=StepDefineRule},7354:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepScheduleRule=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _helpers=__webpack_require__(7093);var _types=__webpack_require__(7162);var _description_step=__webpack_require__(7349);var _schedule_item_form=__webpack_require__(8915);var _shared_imports=__webpack_require__(7073);var _step_content_wrapper=__webpack_require__(7352);var _schema=__webpack_require__(8917);var I18n=_interopRequireWildcard(__webpack_require__(8918));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var stepScheduleDefaultValue={enabled:true,interval:"5m",isNew:true,from:"1m"};var StepScheduleRuleComponent=function StepScheduleRuleComponent(_ref){var _ref$addPadding=_ref.addPadding,addPadding=_ref$addPadding===void 0?false:_ref$addPadding,defaultValues=_ref.defaultValues,_ref$descriptionDirec=_ref.descriptionDirection,descriptionDirection=_ref$descriptionDirec===void 0?"row":_ref$descriptionDirec,isReadOnlyView=_ref.isReadOnlyView,isLoading=_ref.isLoading,_ref$isUpdateView=_ref.isUpdateView,isUpdateView=_ref$isUpdateView===void 0?false:_ref$isUpdateView,setStepData=_ref.setStepData,setForm=_ref.setForm;var _useState=(0,_react.useState)(stepScheduleDefaultValue),_useState2=_slicedToArray(_useState,2),myStepData=_useState2[0],setMyStepData=_useState2[1];var _useForm=(0,_shared_imports.useForm)({defaultValue:myStepData,options:{stripEmptyFields:false},schema:_schema.schema}),form=_useForm.form;var onSubmit=(0,_react.useCallback)((function _callee(enabled){var _ref2,newIsValid,data;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!setStepData){_context.next=8;break}setStepData(_types.RuleStep.scheduleRule,null,false);_context.next=4;return regeneratorRuntime.awrap(form.submit());case 4:_ref2=_context.sent;newIsValid=_ref2.isValid;data=_ref2.data;if(newIsValid){setStepData(_types.RuleStep.scheduleRule,_objectSpread({},data,{enabled:enabled}),newIsValid);setMyStepData(_objectSpread({},data,{isNew:false}))}case 8:case"end":return _context.stop()}}}))}),[form]);(0,_react.useEffect)((function(){var isNew=myStepData.isNew,initDefaultValue=_objectWithoutProperties(myStepData,["isNew"]);if(defaultValues!=null&&!(0,_fp.isEqual)(initDefaultValue,defaultValues)){var myDefaultValues=_objectSpread({},defaultValues,{isNew:false});setMyStepData(myDefaultValues);(0,_helpers.setFieldValue)(form,_schema.schema,myDefaultValues)}}),[defaultValues]);(0,_react.useEffect)((function(){if(setForm!=null){setForm(_types.RuleStep.scheduleRule,form)}}),[form]);return isReadOnlyView&&myStepData!=null?_react.default.createElement(_step_content_wrapper.StepContentWrapper,{addPadding:addPadding},_react.default.createElement(_description_step.StepRuleDescription,{direction:descriptionDirection,schema:_schema.schema,data:myStepData})):_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_step_content_wrapper.StepContentWrapper,{addPadding:!isUpdateView},_react.default.createElement(_shared_imports.Form,{form:form,"data-test-subj":"stepScheduleRule"},_react.default.createElement(_shared_imports.UseField,{path:"interval",component:_schedule_item_form.ScheduleItem,componentProps:{idAria:"detectionEngineStepScheduleRuleInterval",isDisabled:isLoading,dataTestSubj:"detectionEngineStepScheduleRuleInterval"}}),_react.default.createElement(_shared_imports.UseField,{path:"from",component:_schedule_item_form.ScheduleItem,componentProps:{idAria:"detectionEngineStepScheduleRuleFrom",isDisabled:isLoading,dataTestSubj:"detectionEngineStepScheduleRuleFrom",minimumValue:1}}))),!isUpdateView&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"flexEnd",gutterSize:"xs",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:false,isDisabled:isLoading,isLoading:isLoading,onClick:onSubmit.bind(null,false)},I18n.COMPLETE_WITHOUT_ACTIVATING)),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,isDisabled:isLoading,isLoading:isLoading,onClick:onSubmit.bind(null,true)},I18n.COMPLETE_WITH_ACTIVATING)))))};var StepScheduleRule=(0,_react.memo)(StepScheduleRuleComponent);exports.StepScheduleRule=StepScheduleRule},7355:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MODULE=exports.CATEGORY=exports.ERROR_FETCHING_ALERTS_DATA=exports.UNIT=exports.SHOWING=exports.ALERTS_STACK_BY_MODULE=exports.ALERTS_GRAPH_TITLE=exports.ALERTS_TABLE_TITLE=exports.TOTAL_COUNT_OF_ALERTS=exports.ALERTS_DOCUMENT_TYPE=void 0;var _i18n=__webpack_require__(2);var ALERTS_DOCUMENT_TYPE=_i18n.i18n.translate("xpack.siem.alertsView.alertsDocumentType",{defaultMessage:"External alerts"});exports.ALERTS_DOCUMENT_TYPE=ALERTS_DOCUMENT_TYPE;var TOTAL_COUNT_OF_ALERTS=_i18n.i18n.translate("xpack.siem.alertsView.totalCountOfAlerts",{defaultMessage:"external alerts match the search criteria"});exports.TOTAL_COUNT_OF_ALERTS=TOTAL_COUNT_OF_ALERTS;var ALERTS_TABLE_TITLE=_i18n.i18n.translate("xpack.siem.alertsView.alertsTableTitle",{defaultMessage:"External alerts"});exports.ALERTS_TABLE_TITLE=ALERTS_TABLE_TITLE;var ALERTS_GRAPH_TITLE=_i18n.i18n.translate("xpack.siem.alertsView.alertsGraphTitle",{defaultMessage:"External alert count"});exports.ALERTS_GRAPH_TITLE=ALERTS_GRAPH_TITLE;var ALERTS_STACK_BY_MODULE=_i18n.i18n.translate("xpack.siem.alertsView.alertsStackByOptions.module",{defaultMessage:"module"});exports.ALERTS_STACK_BY_MODULE=ALERTS_STACK_BY_MODULE;var SHOWING=_i18n.i18n.translate("xpack.siem.alertsView.showing",{defaultMessage:"Showing"});exports.SHOWING=SHOWING;var UNIT=function UNIT(totalCount){return _i18n.i18n.translate("xpack.siem.alertsView.unit",{values:{totalCount:totalCount},defaultMessage:"external {totalCount, plural, =1 {alert} other {alerts}}"})};exports.UNIT=UNIT;var ERROR_FETCHING_ALERTS_DATA=_i18n.i18n.translate("xpack.siem.alertsView.errorFetchingAlertsData",{defaultMessage:"Failed to query alerts data"});exports.ERROR_FETCHING_ALERTS_DATA=ERROR_FETCHING_ALERTS_DATA;var CATEGORY=_i18n.i18n.translate("xpack.siem.alertsView.categoryLabel",{defaultMessage:"category"});exports.CATEGORY=CATEGORY;var MODULE=_i18n.i18n.translate("xpack.siem.alertsView.moduleLabel",{defaultMessage:"module"});exports.MODULE=MODULE},7356:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertsView=exports.alertsStackByOptions=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _numeral=_interopRequireDefault(__webpack_require__(148));var _alerts_table=__webpack_require__(7673);var i18n=_interopRequireWildcard(__webpack_require__(7355));var _matrix_histogram=__webpack_require__(7109);var _index=__webpack_require__(7110);var _kibana=__webpack_require__(7013);var _constants=__webpack_require__(977);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ID="alertsOverTimeQuery";var alertsStackByOptions=[{text:"event.category",value:"event.category"},{text:"event.module",value:"event.module"}];exports.alertsStackByOptions=alertsStackByOptions;var dataKey="AlertsHistogram";var AlertsView=function AlertsView(_ref){var deleteQuery=_ref.deleteQuery,endDate=_ref.endDate,filterQuery=_ref.filterQuery,pageFilters=_ref.pageFilters,setQuery=_ref.setQuery,skip=_ref.skip,startDate=_ref.startDate,type=_ref.type,_ref$updateDateRange=_ref.updateDateRange,updateDateRange=_ref$updateDateRange===void 0?_fp.noop:_ref$updateDateRange;var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_NUMBER_FORMAT),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),defaultNumberFormat=_useUiSetting$2[0];(0,_react.useEffect)((function(){return function(){if(deleteQuery){deleteQuery({id:ID})}}}),[]);var getSubtitle=(0,_react.useCallback)((function(totalCount){return"".concat(i18n.SHOWING,": ").concat((0,_numeral.default)(totalCount).format(defaultNumberFormat)," ").concat(i18n.UNIT(totalCount))}),[]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_matrix_histogram.MatrixHistogramContainer,{dataKey:dataKey,defaultStackByOption:alertsStackByOptions[1],endDate:endDate,errorMessage:i18n.ERROR_FETCHING_ALERTS_DATA,filterQuery:filterQuery,id:ID,isAlertsHistogram:true,query:_index.MatrixHistogramGqlQuery,setQuery:setQuery,skip:skip,sourceId:"default",stackByOptions:alertsStackByOptions,startDate:startDate,subtitle:getSubtitle,title:i18n.ALERTS_GRAPH_TITLE,type:type,updateDateRange:updateDateRange}),_react.default.createElement(_alerts_table.AlertsTable,{endDate:endDate,startDate:startDate,pageFilters:pageFilters}))};exports.AlertsView=AlertsView;AlertsView.displayName="AlertsView"},7357:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SignalsHistogramPanel=exports.DETECTIONS_HISTOGRAM_ID=void 0;var _eui=__webpack_require__(1);var _numeral=_interopRequireDefault(__webpack_require__(148));var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _fp=__webpack_require__(223);var _header_section=__webpack_require__(7050);var _signals_histogram=__webpack_require__(8926);var _es_query=__webpack_require__(1056);var _config=__webpack_require__(7217);var _link_to=__webpack_require__(7090);var _constants=__webpack_require__(977);var _kibana=__webpack_require__(7013);var _inspect=__webpack_require__(7063);var _use_query=__webpack_require__(7676);var _matrix_loader=__webpack_require__(7620);var _helpers=__webpack_require__(8927);var i18n=_interopRequireWildcard(__webpack_require__(7678));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var DEFAULT_PANEL_HEIGHT=300;var StyledEuiPanel=(0,_styledComponents.default)(_eui.EuiPanel).withConfig({displayName:"StyledEuiPanel",componentId:"codc7p-0"})(["display:flex;flex-direction:column;"," position:relative;"],(function(_ref){var height=_ref.height;return height!=null?"height: ".concat(height,"px;"):""}));var defaultTotalSignalsObj={value:0,relation:"eq"};var DETECTIONS_HISTOGRAM_ID="detections-histogram";exports.DETECTIONS_HISTOGRAM_ID=DETECTIONS_HISTOGRAM_ID;var ViewSignalsFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"ViewSignalsFlexItem",componentId:"codc7p-1"})(["margin-left:24px;"]);var SignalsHistogramPanel=(0,_react.memo)((function(_ref2){var chartHeight=_ref2.chartHeight,_ref2$defaultStackByO=_ref2.defaultStackByOption,defaultStackByOption=_ref2$defaultStackByO===void 0?_config.signalsHistogramOptions[0]:_ref2$defaultStackByO,deleteQuery=_ref2.deleteQuery,filters=_ref2.filters,query=_ref2.query,from=_ref2.from,_ref2$legendPosition=_ref2.legendPosition,legendPosition=_ref2$legendPosition===void 0?"right":_ref2$legendPosition,_ref2$panelHeight=_ref2.panelHeight,panelHeight=_ref2$panelHeight===void 0?DEFAULT_PANEL_HEIGHT:_ref2$panelHeight,setQuery=_ref2.setQuery,signalIndexName=_ref2.signalIndexName,_ref2$showLinkToSigna=_ref2.showLinkToSignals,showLinkToSignals=_ref2$showLinkToSigna===void 0?false:_ref2$showLinkToSigna,_ref2$showTotalSignal=_ref2.showTotalSignalsCount,showTotalSignalsCount=_ref2$showTotalSignal===void 0?false:_ref2$showTotalSignal,stackByOptions=_ref2.stackByOptions,to=_ref2.to,_ref2$title=_ref2.title,title=_ref2$title===void 0?i18n.HISTOGRAM_HEADER:_ref2$title,updateDateRange=_ref2.updateDateRange;var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),isInitialLoading=_useState2[0],setIsInitialLoading=_useState2[1];var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_NUMBER_FORMAT),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),defaultNumberFormat=_useUiSetting$2[0];var _useState3=(0,_react.useState)(defaultTotalSignalsObj),_useState4=_slicedToArray(_useState3,2),totalSignalsObj=_useState4[0],setTotalSignalsObj=_useState4[1];var _useState5=(0,_react.useState)(defaultStackByOption),_useState6=_slicedToArray(_useState5,2),selectedStackByOption=_useState6[0],setSelectedStackByOption=_useState6[1];var _useQuerySignals=(0,_use_query.useQuerySignals)((0,_helpers.getSignalsHistogramQuery)(selectedStackByOption.value,from,to,[]),signalIndexName),isLoadingSignals=_useQuerySignals.loading,signalsData=_useQuerySignals.data,setSignalsQuery=_useQuerySignals.setQuery,response=_useQuerySignals.response,request=_useQuerySignals.request,refetch=_useQuerySignals.refetch;var kibana=(0,_kibana.useKibana)();var totalSignals=(0,_react.useMemo)((function(){return i18n.SHOWING_SIGNALS((0,_numeral.default)(totalSignalsObj.value).format(defaultNumberFormat),totalSignalsObj.value,totalSignalsObj.relation==="gte"?">":totalSignalsObj.relation==="lte"?"<":"")}),[totalSignalsObj]);var setSelectedOptionCallback=(0,_react.useCallback)((function(event){var _ref3;setSelectedStackByOption((_ref3=stackByOptions===null||stackByOptions===void 0?void 0:stackByOptions.find((function(co){return co.value===event.target.value})))!==null&&_ref3!==void 0?_ref3:defaultStackByOption)}),[]);var formattedSignalsData=(0,_react.useMemo)((function(){return(0,_helpers.formatSignalsData)(signalsData)}),[signalsData]);(0,_react.useEffect)((function(){var canceled=false;if(!canceled&&!(0,_helpers.showInitialLoadingSpinner)({isInitialLoading:isInitialLoading,isLoadingSignals:isLoadingSignals})){setIsInitialLoading(false)}return function(){canceled=true}}),[isInitialLoading,isLoadingSignals,setIsInitialLoading]);(0,_react.useEffect)((function(){return function(){if(deleteQuery){deleteQuery({id:DETECTIONS_HISTOGRAM_ID})}}}),[]);(0,_react.useEffect)((function(){if(refetch!=null&&setQuery!=null){setQuery({id:DETECTIONS_HISTOGRAM_ID,inspect:{dsl:[request],response:[response]},loading:isLoadingSignals,refetch:refetch})}}),[setQuery,isLoadingSignals,signalsData,response,request,refetch]);(0,_react.useEffect)((function(){var _ref4;setTotalSignalsObj((_ref4=signalsData===null||signalsData===void 0?void 0:signalsData.hits.total)!==null&&_ref4!==void 0?_ref4:{value:0,relation:"eq"})}),[signalsData]);(0,_react.useEffect)((function(){var _ref5;var converted=_es_query.esQuery.buildEsQuery(undefined,query!=null?[query]:[],(_ref5=filters===null||filters===void 0?void 0:filters.filter((function(f){return f.meta.disabled===false})))!==null&&_ref5!==void 0?_ref5:[],_objectSpread({},_es_query.esQuery.getEsQueryConfig(kibana.services.uiSettings),{dateFormatTZ:undefined}));setSignalsQuery((0,_helpers.getSignalsHistogramQuery)(selectedStackByOption.value,from,to,!(0,_fp.isEmpty)(converted)?[converted]:[]))}),[selectedStackByOption.value,from,to,query,filters]);return _react.default.createElement(_inspect.InspectButtonContainer,{show:!isInitialLoading},_react.default.createElement(StyledEuiPanel,{height:panelHeight},isInitialLoading?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_header_section.HeaderSection,{id:DETECTIONS_HISTOGRAM_ID,title:title}),_react.default.createElement(_matrix_loader.MatrixLoader,null)):_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_header_section.HeaderSection,{id:DETECTIONS_HISTOGRAM_ID,title:title,subtitle:showTotalSignalsCount&&totalSignals},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},stackByOptions&&_react.default.createElement(_eui.EuiSelect,{onChange:setSelectedOptionCallback,options:stackByOptions,prepend:i18n.STACK_BY_LABEL,value:selectedStackByOption.value})),showLinkToSignals&&_react.default.createElement(ViewSignalsFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{href:(0,_link_to.getDetectionEngineUrl)()},i18n.VIEW_SIGNALS)))),_react.default.createElement(_signals_histogram.SignalsHistogram,{chartHeight:chartHeight,data:formattedSignalsData,from:from,legendPosition:legendPosition,loading:isLoadingSignals,to:to,updateDateRange:updateDateRange}))))}));exports.SignalsHistogramPanel=SignalsHistogramPanel;SignalsHistogramPanel.displayName="SignalsHistogramPanel"},7358:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TYPE_FAILED=exports.COLUMN_FAILED_MSG=exports.COLUMN_FAILED_AT=exports.COLUMN_STATUS_TYPE=exports.LAST_FIVE_ERRORS=exports.FAILURE_HISTORY_TAB=exports.ERROR_CALLOUT_TITLE=exports.UNKNOWN=exports.ACTIVATE_RULE=exports.EXPERIMENTAL=exports.BACK_TO_RULES=exports.PAGE_TITLE=void 0;var _i18n=__webpack_require__(2);var PAGE_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleDetails.pageTitle",{defaultMessage:"Rule details"});exports.PAGE_TITLE=PAGE_TITLE;var BACK_TO_RULES=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleDetails.backToRulesDescription",{defaultMessage:"Back to signal detection rules"});exports.BACK_TO_RULES=BACK_TO_RULES;var EXPERIMENTAL=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleDetails.experimentalDescription",{defaultMessage:"Experimental"});exports.EXPERIMENTAL=EXPERIMENTAL;var ACTIVATE_RULE=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleDetails.activateRuleLabel",{defaultMessage:"Activate"});exports.ACTIVATE_RULE=ACTIVATE_RULE;var UNKNOWN=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleDetails.unknownDescription",{defaultMessage:"Unknown"});exports.UNKNOWN=UNKNOWN;var ERROR_CALLOUT_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleDetails.errorCalloutTitle",{defaultMessage:"Rule failure at"});exports.ERROR_CALLOUT_TITLE=ERROR_CALLOUT_TITLE;var FAILURE_HISTORY_TAB=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleDetails.failureHistoryTab",{defaultMessage:"Failure History"});exports.FAILURE_HISTORY_TAB=FAILURE_HISTORY_TAB;var LAST_FIVE_ERRORS=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleDetails.lastFiveErrorsTitle",{defaultMessage:"Last five errors"});exports.LAST_FIVE_ERRORS=LAST_FIVE_ERRORS;var COLUMN_STATUS_TYPE=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleDetails.statusTypeColumn",{defaultMessage:"Type"});exports.COLUMN_STATUS_TYPE=COLUMN_STATUS_TYPE;var COLUMN_FAILED_AT=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleDetails.statusFailedAtColumn",{defaultMessage:"Failed at"});exports.COLUMN_FAILED_AT=COLUMN_FAILED_AT;var COLUMN_FAILED_MSG=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleDetails.statusFailedMsgColumn",{defaultMessage:"Failed message"});exports.COLUMN_FAILED_MSG=COLUMN_FAILED_MSG;var TYPE_FAILED=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleDetails.statusFailedDescription",{defaultMessage:"Failed"});exports.TYPE_FAILED=TYPE_FAILED},7359:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KpiHostsChartColors=void 0;var KpiHostsChartColors;exports.KpiHostsChartColors=KpiHostsChartColors;(function(KpiHostsChartColors){KpiHostsChartColors["authSuccess"]="#54B399";KpiHostsChartColors["authFailure"]="#E7664C";KpiHostsChartColors["uniqueSourceIps"]="#D36086";KpiHostsChartColors["uniqueDestinationIps"]="#9170B8";KpiHostsChartColors["hosts"]="#6092C0"})(KpiHostsChartColors||(exports.KpiHostsChartColors=KpiHostsChartColors={}))},7360:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HostAlertsQueryTabBody=exports.filterHostData=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _alerts_viewer=__webpack_require__(7356);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var filterHostData=[{query:{bool:{filter:[{bool:{should:[{exists:{field:"host.name"}}],minimum_should_match:1}}]}},meta:{alias:"",disabled:false,key:"bool",negate:false,type:"custom",value:'{"query": {"bool": {"filter": [{"bool": {"should": [{"exists": {"field": "host.name"}}],"minimum_should_match": 1}}]}}}'}}];exports.filterHostData=filterHostData;var HostAlertsQueryTabBody=_react.default.memo((function(alertsProps){var pageFilters=alertsProps.pageFilters,rest=_objectWithoutProperties(alertsProps,["pageFilters"]);var hostPageFilters=(0,_react.useMemo)((function(){return pageFilters!=null?[].concat(filterHostData,_toConsumableArray(pageFilters)):filterHostData}),[pageFilters]);return _react.default.createElement(_alerts_viewer.AlertsView,_extends({},rest,{pageFilters:hostPageFilters}))}));exports.HostAlertsQueryTabBody=HostAlertsQueryTabBody;HostAlertsQueryTabBody.displayName="HostAlertsQueryTabBody"},7361:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLineLayer=exports.getDestinationLayer=exports.getSourceLayer=exports.getLayerList=exports.lmc=exports.SUM_OF_SERVER_BYTES=exports.SUM_OF_CLIENT_BYTES=exports.SUM_OF_DESTINATION_BYTES=exports.SUM_OF_SOURCE_BYTES=exports.sourceDestinationFieldMappings=void 0;var _uuid=_interopRequireDefault(__webpack_require__(86));var _eui=__webpack_require__(1);var i18n=_interopRequireWildcard(__webpack_require__(7114));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var euiVisColorPalette=(0,_eui.euiPaletteColorBlind)();var sourceFieldMappings={"host.name":i18n.HOST,"source.ip":i18n.SOURCE_IP,"source.domain":i18n.SOURCE_DOMAIN,"source.geo.country_iso_code":i18n.LOCATION,"source.as.organization.name":i18n.ASN};var destinationFieldMappings={"host.name":i18n.HOST,"destination.ip":i18n.DESTINATION_IP,"destination.domain":i18n.DESTINATION_DOMAIN,"destination.geo.country_iso_code":i18n.LOCATION,"destination.as.organization.name":i18n.ASN};var clientFieldMappings={"host.name":i18n.HOST,"client.ip":i18n.CLIENT_IP,"client.domain":i18n.CLIENT_DOMAIN,"client.geo.country_iso_code":i18n.LOCATION,"client.as.organization.name":i18n.ASN};var serverFieldMappings={"host.name":i18n.HOST,"server.ip":i18n.SERVER_IP,"server.domain":i18n.SERVER_DOMAIN,"server.geo.country_iso_code":i18n.LOCATION,"server.as.organization.name":i18n.ASN};var sourceDestinationFieldMappings=_objectSpread({},sourceFieldMappings,{},destinationFieldMappings,{},clientFieldMappings,{},serverFieldMappings);exports.sourceDestinationFieldMappings=sourceDestinationFieldMappings;var SUM_OF_SOURCE_BYTES="sum_of_source.bytes";exports.SUM_OF_SOURCE_BYTES=SUM_OF_SOURCE_BYTES;var SUM_OF_DESTINATION_BYTES="sum_of_destination.bytes";exports.SUM_OF_DESTINATION_BYTES=SUM_OF_DESTINATION_BYTES;var SUM_OF_CLIENT_BYTES="sum_of_client.bytes";exports.SUM_OF_CLIENT_BYTES=SUM_OF_CLIENT_BYTES;var SUM_OF_SERVER_BYTES="sum_of_server.bytes";exports.SUM_OF_SERVER_BYTES=SUM_OF_SERVER_BYTES;var lmc={default:{source:{metricField:"source.bytes",geoField:"source.geo.location",tooltipProperties:Object.keys(sourceFieldMappings),label:i18n.SOURCE_LAYER},destination:{metricField:"destination.bytes",geoField:"destination.geo.location",tooltipProperties:Object.keys(destinationFieldMappings),label:i18n.DESTINATION_LAYER}},"apm-*":{source:{metricField:"client.bytes",geoField:"client.geo.location",tooltipProperties:Object.keys(clientFieldMappings),label:i18n.CLIENT_LAYER},destination:{metricField:"server.bytes",geoField:"server.geo.location",tooltipProperties:Object.keys(serverFieldMappings),label:i18n.SERVER_LAYER}}};exports.lmc=lmc;var getLayerList=function getLayerList(indexPatternIds){return[{sourceDescriptor:{type:"EMS_TMS",isAutoSelect:true},id:_uuid.default.v4(),label:null,minZoom:0,maxZoom:24,alpha:1,visible:true,style:null,type:"VECTOR_TILE"}].concat(_toConsumableArray(indexPatternIds.reduce((function(acc,_ref){var _lmc$title,_ref2,_lmc$title2,_ref3,_lmc$title3;var title=_ref.title,id=_ref.id;return[].concat(_toConsumableArray(acc),[getLineLayer(title,id,(_lmc$title=lmc[title])!==null&&_lmc$title!==void 0?_lmc$title:lmc.default),getDestinationLayer(title,id,(_ref2=(_lmc$title2=lmc[title])===null||_lmc$title2===void 0?void 0:_lmc$title2.destination)!==null&&_ref2!==void 0?_ref2:lmc.default.destination),getSourceLayer(title,id,(_ref3=(_lmc$title3=lmc[title])===null||_lmc$title3===void 0?void 0:_lmc$title3.source)!==null&&_ref3!==void 0?_ref3:lmc.default.source)])}),[])))};exports.getLayerList=getLayerList;var getSourceLayer=function getSourceLayer(indexPatternTitle,indexPatternId,layerDetails){return{sourceDescriptor:{id:_uuid.default.v4(),type:"ES_SEARCH",applyGlobalQuery:true,geoField:layerDetails.geoField,filterByMapBounds:false,tooltipProperties:layerDetails.tooltipProperties,useTopHits:false,topHitsTimeField:"@timestamp",topHitsSize:1,indexPatternId:indexPatternId},style:{type:"VECTOR",properties:{fillColor:{type:"STATIC",options:{color:euiVisColorPalette[1]}},lineColor:{type:"STATIC",options:{color:"#FFFFFF"}},lineWidth:{type:"STATIC",options:{size:2}},iconSize:{type:"STATIC",options:{size:8}},iconOrientation:{type:"STATIC",options:{orientation:0}},symbol:{options:{symbolizeAs:"icon",symbolId:"home"}}}},id:_uuid.default.v4(),label:"".concat(indexPatternTitle," | ").concat(layerDetails.label),minZoom:0,maxZoom:24,alpha:1,visible:true,type:"VECTOR",query:{query:"",language:"kuery"},joins:[]}};exports.getSourceLayer=getSourceLayer;var getDestinationLayer=function getDestinationLayer(indexPatternTitle,indexPatternId,layerDetails){return{sourceDescriptor:{id:_uuid.default.v4(),type:"ES_SEARCH",applyGlobalQuery:true,geoField:layerDetails.geoField,filterByMapBounds:true,tooltipProperties:layerDetails.tooltipProperties,useTopHits:false,topHitsTimeField:"@timestamp",topHitsSize:1,indexPatternId:indexPatternId},style:{type:"VECTOR",properties:{fillColor:{type:"STATIC",options:{color:euiVisColorPalette[2]}},lineColor:{type:"STATIC",options:{color:"#FFFFFF"}},lineWidth:{type:"STATIC",options:{size:2}},iconSize:{type:"STATIC",options:{size:8}},iconOrientation:{type:"STATIC",options:{orientation:0}},symbol:{options:{symbolizeAs:"icon",symbolId:"marker"}}}},id:_uuid.default.v4(),label:"".concat(indexPatternTitle," | ").concat(layerDetails.label),minZoom:0,maxZoom:24,alpha:1,visible:true,type:"VECTOR",query:{query:"",language:"kuery"}}};exports.getDestinationLayer=getDestinationLayer;var getLineLayer=function getLineLayer(indexPatternTitle,indexPatternId,layerDetails){return{sourceDescriptor:{type:"ES_PEW_PEW",applyGlobalQuery:true,id:_uuid.default.v4(),indexPatternId:indexPatternId,sourceGeoField:layerDetails.source.geoField,destGeoField:layerDetails.destination.geoField,metrics:[{type:"sum",field:layerDetails.source.metricField,label:layerDetails.source.metricField},{type:"sum",field:layerDetails.destination.metricField,label:layerDetails.destination.metricField}]},style:{type:"VECTOR",properties:{fillColor:{type:"STATIC",options:{color:"#1EA593"}},lineColor:{type:"STATIC",options:{color:euiVisColorPalette[1]}},lineWidth:{type:"DYNAMIC",options:{field:{label:"count",name:"doc_count",origin:"source"},minSize:1,maxSize:8,fieldMetaOptions:{isEnabled:true,sigma:3}}},iconSize:{type:"STATIC",options:{size:10}},iconOrientation:{type:"STATIC",options:{orientation:0}},symbol:{options:{symbolizeAs:"circle",symbolId:"airfield"}}}},id:_uuid.default.v4(),label:"".concat(indexPatternTitle," | ").concat(i18n.LINE_LAYER),minZoom:0,maxZoom:24,alpha:.5,visible:true,type:"VECTOR",query:{query:"",language:"kuery"}}};exports.getLineLayer=getLineLayer},7362:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROWS_10=exports.ROWS_5=exports.INCLUDE_PTR_RECORDS=exports.DNS_BYTES_OUT=exports.DNS_BYTES_IN=exports.UNIQUE_DOMAINS=exports.TOTAL_QUERIES=exports.REGISTERED_DOMAIN=exports.TOOLTIP=exports.UNIT=exports.TOP_DNS_DOMAINS=void 0;var _i18n=__webpack_require__(2);var TOP_DNS_DOMAINS=_i18n.i18n.translate("xpack.siem.networkDnsTable.title",{defaultMessage:"Top DNS domains"});exports.TOP_DNS_DOMAINS=TOP_DNS_DOMAINS;var UNIT=function UNIT(totalCount){return _i18n.i18n.translate("xpack.siem.networkDnsTable.unit",{values:{totalCount:totalCount},defaultMessage:"{totalCount, plural, =1 {domain} other {domains}}"})};exports.UNIT=UNIT;var TOOLTIP=_i18n.i18n.translate("xpack.siem.networkDnsTable.helperTooltip",{defaultMessage:"This shows DNS protocol traffic only and can be useful for hunting domains used in DNS data exfiltration."});exports.TOOLTIP=TOOLTIP;var REGISTERED_DOMAIN=_i18n.i18n.translate("xpack.siem.networkDnsTable.column.registeredDomain",{defaultMessage:"Registered domain"});exports.REGISTERED_DOMAIN=REGISTERED_DOMAIN;var TOTAL_QUERIES=_i18n.i18n.translate("xpack.siem.networkDnsTable.column.TotalQueriesTitle",{defaultMessage:"Total queries"});exports.TOTAL_QUERIES=TOTAL_QUERIES;var UNIQUE_DOMAINS=_i18n.i18n.translate("xpack.siem.networkDnsTable.column.uniqueDomainsTitle",{defaultMessage:"Unique domains"});exports.UNIQUE_DOMAINS=UNIQUE_DOMAINS;var DNS_BYTES_IN=_i18n.i18n.translate("xpack.siem.networkDnsTable.column.bytesInTitle",{defaultMessage:"DNS bytes in"});exports.DNS_BYTES_IN=DNS_BYTES_IN;var DNS_BYTES_OUT=_i18n.i18n.translate("xpack.siem.networkDnsTable.column.bytesOutTitle",{defaultMessage:"DNS bytes out"});exports.DNS_BYTES_OUT=DNS_BYTES_OUT;var INCLUDE_PTR_RECORDS=_i18n.i18n.translate("xpack.siem.networkDnsTable.select.includePtrRecords",{defaultMessage:"Include PTR records"});exports.INCLUDE_PTR_RECORDS=INCLUDE_PTR_RECORDS;var ROWS_5=_i18n.i18n.translate("xpack.siem.networkDnsTable.rows",{values:{numRows:5},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_5=ROWS_5;var ROWS_10=_i18n.i18n.translate("xpack.siem.networkDnsTable.rows",{values:{numRows:10},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_10=ROWS_10},7363:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkAlertsQueryTabBody=exports.filterNetworkData=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _alerts_viewer=__webpack_require__(7356);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var filterNetworkData=[{query:{bool:{filter:[{bool:{should:[{bool:{should:[{exists:{field:"source.ip"}}],minimum_should_match:1}},{bool:{should:[{exists:{field:"destination.ip"}}],minimum_should_match:1}}],minimum_should_match:1}}]}},meta:{alias:"",disabled:false,key:"bool",negate:false,type:"custom",value:'{"bool":{"filter":[{"bool":{"should":[{"bool":{"should":[{"exists":{"field": "source.ip"}}],"minimum_should_match":1}},{"bool":{"should":[{"exists":{"field": "destination.ip"}}],"minimum_should_match":1}}],"minimum_should_match":1}}]}}'}}];exports.filterNetworkData=filterNetworkData;var NetworkAlertsQueryTabBody=_react.default.memo((function(alertsProps){return _react.default.createElement(_alerts_viewer.AlertsView,_extends({},alertsProps,{pageFilters:filterNetworkData}))}));exports.NetworkAlertsQueryTabBody=NetworkAlertsQueryTabBody;NetworkAlertsQueryTabBody.displayName="NetworkAlertsQueryTabBody"},7500:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.reducer=exports.initialState=void 0;var _redux=__webpack_require__(7020);var _app=__webpack_require__(1895);var _drag_and_drop=__webpack_require__(1920);var _hosts=__webpack_require__(1896);var _inputs=__webpack_require__(1887);var _network=__webpack_require__(1897);var _reducer=__webpack_require__(8440);var initialState={app:_app.initialAppState,dragAndDrop:_drag_and_drop.initialDragAndDropState,hosts:_hosts.initialHostsState,inputs:_inputs.initialInputsState,network:_network.initialNetworkState,timeline:_reducer.initialTimelineState};exports.initialState=initialState;var reducer=(0,_redux.combineReducers)({app:_app.appReducer,dragAndDrop:_drag_and_drop.dragAndDropReducer,hosts:_hosts.hostsReducer,inputs:_inputs.inputsReducer,network:_network.networkReducer,timeline:_reducer.timelineReducer});exports.reducer=reducer},7501:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateFilters=exports.updateSavedQuery=exports.updateHighlightedDropAndProvider=exports.unPinTimelineEvent=exports.setSelectedTimelineEvents=exports.setLoadingTimelineEvents=exports.setDeletedTimelineEvents=exports.removeTimelineProvider=exports.updateTimelinePerPageOptions=exports.updateTimelinePageIndex=exports.updateTimelineItemsPerPage=exports.updateTimelineProviderKqlQuery=exports.updateTimelineProviderProperties=exports.updateTimelineProviderExcluded=exports.updateTimelineProviderEnabled=exports.updateTimelineSort=exports.updateTimelineRange=exports.updateTimelineProviders=exports.updateTimelineIsLive=exports.updateTimelineIsFavorite=exports.updateTimelineEventType=exports.updateTimelineTitle=exports.updateTimelineDescription=exports.updateTimelineColumns=exports.updateKqlFilterQueryDraft=exports.updateTimelineKqlMode=exports.applyKqlFilterQueryDraft=exports.addTimelineProvider=exports.applyDeltaToTimelineColumnWidth=exports.removeTimelineColumn=exports.upsertTimelineColumn=exports.applyDeltaToCurrentWidth=exports.updateTimelineShowTimeline=exports.pinTimelineEvent=exports.addNewTimeline=exports.addTimelineToStore=exports.addTimelineNoteToEvent=exports.addTimelineNote=exports.addTimelineHistory=exports.initialTimelineState=exports.isNotNull=void 0;var _fp=__webpack_require__(223);var _helpers=__webpack_require__(7277);var _defaults=__webpack_require__(7053);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EMPTY_TIMELINE_BY_ID={};var isNotNull=function isNotNull(value){return value!==null};exports.isNotNull=isNotNull;var initialTimelineState={timelineById:EMPTY_TIMELINE_BY_ID,autoSavedWarningMsg:{timelineId:null,newTimelineModel:null},showCallOutUnauthorizedMsg:false};exports.initialTimelineState=initialTimelineState;var addTimelineHistory=function addTimelineHistory(_ref){var id=_ref.id,historyId=_ref.historyId,timelineById=_ref.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{historyIds:(0,_fp.uniq)([].concat(_toConsumableArray(timeline.historyIds),[historyId]))})))};exports.addTimelineHistory=addTimelineHistory;var addTimelineNote=function addTimelineNote(_ref2){var id=_ref2.id,noteId=_ref2.noteId,timelineById=_ref2.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{noteIds:[].concat(_toConsumableArray(timeline.noteIds),[noteId])})))};exports.addTimelineNote=addTimelineNote;var addTimelineNoteToEvent=function addTimelineNoteToEvent(_ref3){var id=_ref3.id,noteId=_ref3.noteId,eventId=_ref3.eventId,timelineById=_ref3.timelineById;var timeline=timelineById[id];var existingNoteIds=(0,_fp.getOr)([],"eventIdToNoteIds.".concat(eventId),timeline);return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{eventIdToNoteIds:_objectSpread({},timeline.eventIdToNoteIds,{},_defineProperty({},eventId,(0,_fp.uniq)([].concat(_toConsumableArray(existingNoteIds),[noteId]))))})))};exports.addTimelineNoteToEvent=addTimelineNoteToEvent;var addTimelineToStore=function addTimelineToStore(_ref4){var id=_ref4.id,timeline=_ref4.timeline,timelineById=_ref4.timelineById;return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{isLoading:timelineById[id].isLoading})))};exports.addTimelineToStore=addTimelineToStore;var addNewTimeline=function addNewTimeline(_ref5){var columns=_ref5.columns,_ref5$dataProviders=_ref5.dataProviders,dataProviders=_ref5$dataProviders===void 0?[]:_ref5$dataProviders,_ref5$dateRange=_ref5.dateRange,dateRange=_ref5$dateRange===void 0?{start:0,end:0}:_ref5$dateRange,_ref5$filters=_ref5.filters,filters=_ref5$filters===void 0?_defaults.timelineDefaults.filters:_ref5$filters,id=_ref5.id,_ref5$itemsPerPage=_ref5.itemsPerPage,itemsPerPage=_ref5$itemsPerPage===void 0?_defaults.timelineDefaults.itemsPerPage:_ref5$itemsPerPage,_ref5$kqlQuery=_ref5.kqlQuery,kqlQuery=_ref5$kqlQuery===void 0?{filterQuery:null,filterQueryDraft:null}:_ref5$kqlQuery,_ref5$sort=_ref5.sort,sort=_ref5$sort===void 0?_defaults.timelineDefaults.sort:_ref5$sort,_ref5$show=_ref5.show,show=_ref5$show===void 0?false:_ref5$show,_ref5$showCheckboxes=_ref5.showCheckboxes,showCheckboxes=_ref5$showCheckboxes===void 0?false:_ref5$showCheckboxes,_ref5$showRowRenderer=_ref5.showRowRenderers,showRowRenderers=_ref5$showRowRenderer===void 0?true:_ref5$showRowRenderer,timelineById=_ref5.timelineById;return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({id:id},_defaults.timelineDefaults,{columns:columns,dataProviders:dataProviders,dateRange:dateRange,filters:filters,itemsPerPage:itemsPerPage,kqlQuery:kqlQuery,sort:sort,show:show,savedObjectId:null,version:null,isSaving:false,isLoading:false,showCheckboxes:showCheckboxes,showRowRenderers:showRowRenderers})))};exports.addNewTimeline=addNewTimeline;var pinTimelineEvent=function pinTimelineEvent(_ref6){var id=_ref6.id,eventId=_ref6.eventId,timelineById=_ref6.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{pinnedEventIds:_objectSpread({},timeline.pinnedEventIds,{},_defineProperty({},eventId,true))})))};exports.pinTimelineEvent=pinTimelineEvent;var updateTimelineShowTimeline=function updateTimelineShowTimeline(_ref7){var id=_ref7.id,show=_ref7.show,timelineById=_ref7.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{show:show})))};exports.updateTimelineShowTimeline=updateTimelineShowTimeline;var applyDeltaToCurrentWidth=function applyDeltaToCurrentWidth(_ref8){var id=_ref8.id,delta=_ref8.delta,bodyClientWidthPixels=_ref8.bodyClientWidthPixels,minWidthPixels=_ref8.minWidthPixels,maxWidthPercent=_ref8.maxWidthPercent,timelineById=_ref8.timelineById;var timeline=timelineById[id];var requestedWidth=timeline.width+delta*-1;var maxWidthPixels=maxWidthPercent/100*bodyClientWidthPixels;var clampedWidth=Math.min(requestedWidth,maxWidthPixels);var width=Math.max(minWidthPixels,clampedWidth);return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{width:width})))};exports.applyDeltaToCurrentWidth=applyDeltaToCurrentWidth;var queryMatchCustomizer=function queryMatchCustomizer(dp1,dp2){if(dp1.field===dp2.field&&dp1.value===dp2.value&&dp1.operator===dp2.operator){return true}return false};var addAndToProviderInTimeline=function addAndToProviderInTimeline(id,provider,timeline,timelineById){var alreadyExistsProviderIndex=timeline.dataProviders.findIndex((function(p){return p.id===timeline.highlightedDropAndProviderId}));var newProvider=timeline.dataProviders[alreadyExistsProviderIndex];var alreadyExistsAndProviderIndex=newProvider.and.findIndex((function(p){return p.id===provider.id}));var and=provider.and,andProvider=_objectWithoutProperties(provider,["and"]);if((0,_fp.isEqualWith)(queryMatchCustomizer,newProvider.queryMatch,andProvider.queryMatch)||alreadyExistsAndProviderIndex===-1&&newProvider.and.filter((function(itemAndProvider){return(0,_fp.isEqualWith)(queryMatchCustomizer,itemAndProvider.queryMatch,andProvider.queryMatch)})).length>0){return timelineById}var dataProviders=[].concat(_toConsumableArray(timeline.dataProviders.slice(0,alreadyExistsProviderIndex)),[_objectSpread({},timeline.dataProviders[alreadyExistsProviderIndex],{and:alreadyExistsAndProviderIndex>-1?[].concat(_toConsumableArray(newProvider.and.slice(0,alreadyExistsAndProviderIndex)),[andProvider],_toConsumableArray(newProvider.and.slice(alreadyExistsAndProviderIndex+1))):[].concat(_toConsumableArray(newProvider.and),[andProvider])})],_toConsumableArray(timeline.dataProviders.slice(alreadyExistsProviderIndex+1)));return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{dataProviders:dataProviders})))};var addProviderToTimeline=function addProviderToTimeline(id,provider,timeline,timelineById){var alreadyExistsAtIndex=timeline.dataProviders.findIndex((function(p){return p.id===provider.id}));if(alreadyExistsAtIndex>-1&&!(0,_fp.isEmpty)(timeline.dataProviders[alreadyExistsAtIndex].and)){provider.id="".concat(provider.id,"-").concat(timeline.dataProviders.filter((function(p){return p.id===provider.id})).length)}var dataProviders=alreadyExistsAtIndex>-1&&(0,_fp.isEmpty)(timeline.dataProviders[alreadyExistsAtIndex].and)?[].concat(_toConsumableArray(timeline.dataProviders.slice(0,alreadyExistsAtIndex)),[provider],_toConsumableArray(timeline.dataProviders.slice(alreadyExistsAtIndex+1))):[].concat(_toConsumableArray(timeline.dataProviders),[provider]);return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{dataProviders:dataProviders})))};var upsertTimelineColumn=function upsertTimelineColumn(_ref9){var column=_ref9.column,id=_ref9.id,index=_ref9.index,timelineById=_ref9.timelineById;var timeline=timelineById[id];var alreadyExistsAtIndex=timeline.columns.findIndex((function(c){return c.id===column.id}));if(alreadyExistsAtIndex!==-1){var reordered=timeline.columns.filter((function(c){return c.id!==column.id}));reordered.splice(index,0,column);return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{columns:reordered})))}var columns=_toConsumableArray(timeline.columns);columns.splice(index,0,column);return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{columns:columns})))};exports.upsertTimelineColumn=upsertTimelineColumn;var removeTimelineColumn=function removeTimelineColumn(_ref10){var id=_ref10.id,columnId=_ref10.columnId,timelineById=_ref10.timelineById;var timeline=timelineById[id];var columns=timeline.columns.filter((function(c){return c.id!==columnId}));return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{columns:columns})))};exports.removeTimelineColumn=removeTimelineColumn;var applyDeltaToTimelineColumnWidth=function applyDeltaToTimelineColumnWidth(_ref11){var id=_ref11.id,columnId=_ref11.columnId,delta=_ref11.delta,timelineById=_ref11.timelineById;var timeline=timelineById[id];var columnIndex=timeline.columns.findIndex((function(c){return c.id===columnId}));if(columnIndex===-1){return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline)))}var minWidthPixels=(0,_helpers.getColumnWidthFromType)(timeline.columns[columnIndex].type);var requestedWidth=timeline.columns[columnIndex].width+delta;var width=Math.max(minWidthPixels,requestedWidth);var columnWithNewWidth=_objectSpread({},timeline.columns[columnIndex],{width:width});var columns=[].concat(_toConsumableArray(timeline.columns.slice(0,columnIndex)),[columnWithNewWidth],_toConsumableArray(timeline.columns.slice(columnIndex+1)));return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{columns:columns})))};exports.applyDeltaToTimelineColumnWidth=applyDeltaToTimelineColumnWidth;var addTimelineProvider=function addTimelineProvider(_ref12){var id=_ref12.id,provider=_ref12.provider,timelineById=_ref12.timelineById;var timeline=timelineById[id];if(timeline.highlightedDropAndProviderId!==""){return addAndToProviderInTimeline(id,provider,timeline,timelineById)}else{return addProviderToTimeline(id,provider,timeline,timelineById)}};exports.addTimelineProvider=addTimelineProvider;var applyKqlFilterQueryDraft=function applyKqlFilterQueryDraft(_ref13){var id=_ref13.id,filterQuery=_ref13.filterQuery,timelineById=_ref13.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{kqlQuery:_objectSpread({},timeline.kqlQuery,{filterQuery:filterQuery})})))};exports.applyKqlFilterQueryDraft=applyKqlFilterQueryDraft;var updateTimelineKqlMode=function updateTimelineKqlMode(_ref14){var id=_ref14.id,kqlMode=_ref14.kqlMode,timelineById=_ref14.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{kqlMode:kqlMode})))};exports.updateTimelineKqlMode=updateTimelineKqlMode;var updateKqlFilterQueryDraft=function updateKqlFilterQueryDraft(_ref15){var id=_ref15.id,filterQueryDraft=_ref15.filterQueryDraft,timelineById=_ref15.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{kqlQuery:_objectSpread({},timeline.kqlQuery,{filterQueryDraft:filterQueryDraft})})))};exports.updateKqlFilterQueryDraft=updateKqlFilterQueryDraft;var updateTimelineColumns=function updateTimelineColumns(_ref16){var id=_ref16.id,columns=_ref16.columns,timelineById=_ref16.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{columns:columns})))};exports.updateTimelineColumns=updateTimelineColumns;var updateTimelineDescription=function updateTimelineDescription(_ref17){var id=_ref17.id,description=_ref17.description,timelineById=_ref17.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{description:description.endsWith(" ")?"".concat(description.trim()," "):description.trim()})))};exports.updateTimelineDescription=updateTimelineDescription;var updateTimelineTitle=function updateTimelineTitle(_ref18){var id=_ref18.id,title=_ref18.title,timelineById=_ref18.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{title:title.endsWith(" ")?"".concat(title.trim()," "):title.trim()})))};exports.updateTimelineTitle=updateTimelineTitle;var updateTimelineEventType=function updateTimelineEventType(_ref19){var id=_ref19.id,eventType=_ref19.eventType,timelineById=_ref19.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{eventType:eventType})))};exports.updateTimelineEventType=updateTimelineEventType;var updateTimelineIsFavorite=function updateTimelineIsFavorite(_ref20){var id=_ref20.id,isFavorite=_ref20.isFavorite,timelineById=_ref20.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{isFavorite:isFavorite})))};exports.updateTimelineIsFavorite=updateTimelineIsFavorite;var updateTimelineIsLive=function updateTimelineIsLive(_ref21){var id=_ref21.id,isLive=_ref21.isLive,timelineById=_ref21.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{isLive:isLive})))};exports.updateTimelineIsLive=updateTimelineIsLive;var updateTimelineProviders=function updateTimelineProviders(_ref22){var id=_ref22.id,providers=_ref22.providers,timelineById=_ref22.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{dataProviders:providers})))};exports.updateTimelineProviders=updateTimelineProviders;var updateTimelineRange=function updateTimelineRange(_ref23){var id=_ref23.id,start=_ref23.start,end=_ref23.end,timelineById=_ref23.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{dateRange:{start:start,end:end}})))};exports.updateTimelineRange=updateTimelineRange;var updateTimelineSort=function updateTimelineSort(_ref24){var id=_ref24.id,sort=_ref24.sort,timelineById=_ref24.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{sort:sort})))};exports.updateTimelineSort=updateTimelineSort;var updateEnabledAndProvider=function updateEnabledAndProvider(andProviderId,enabled,providerId,timeline){return timeline.dataProviders.map((function(provider){return provider.id===providerId?_objectSpread({},provider,{and:provider.and.map((function(andProvider){return andProvider.id===andProviderId?_objectSpread({},andProvider,{enabled:enabled}):andProvider}))}):provider}))};var updateEnabledProvider=function updateEnabledProvider(enabled,providerId,timeline){return timeline.dataProviders.map((function(provider){return provider.id===providerId?_objectSpread({},provider,{enabled:enabled}):provider}))};var updateTimelineProviderEnabled=function updateTimelineProviderEnabled(_ref25){var id=_ref25.id,providerId=_ref25.providerId,enabled=_ref25.enabled,timelineById=_ref25.timelineById,andProviderId=_ref25.andProviderId;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{dataProviders:andProviderId?updateEnabledAndProvider(andProviderId,enabled,providerId,timeline):updateEnabledProvider(enabled,providerId,timeline)})))};exports.updateTimelineProviderEnabled=updateTimelineProviderEnabled;var updateExcludedAndProvider=function updateExcludedAndProvider(andProviderId,excluded,providerId,timeline){return timeline.dataProviders.map((function(provider){return provider.id===providerId?_objectSpread({},provider,{and:provider.and.map((function(andProvider){return andProvider.id===andProviderId?_objectSpread({},andProvider,{excluded:excluded}):andProvider}))}):provider}))};var updateExcludedProvider=function updateExcludedProvider(excluded,providerId,timeline){return timeline.dataProviders.map((function(provider){return provider.id===providerId?_objectSpread({},provider,{excluded:excluded}):provider}))};var updateTimelineProviderExcluded=function updateTimelineProviderExcluded(_ref26){var id=_ref26.id,providerId=_ref26.providerId,excluded=_ref26.excluded,timelineById=_ref26.timelineById,andProviderId=_ref26.andProviderId;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{dataProviders:andProviderId?updateExcludedAndProvider(andProviderId,excluded,providerId,timeline):updateExcludedProvider(excluded,providerId,timeline)})))};exports.updateTimelineProviderExcluded=updateTimelineProviderExcluded;var updateProviderProperties=function updateProviderProperties(_ref27){var excluded=_ref27.excluded,field=_ref27.field,operator=_ref27.operator,providerId=_ref27.providerId,timeline=_ref27.timeline,value=_ref27.value;return timeline.dataProviders.map((function(provider){return provider.id===providerId?_objectSpread({},provider,{excluded:excluded,queryMatch:_objectSpread({},provider.queryMatch,{field:field,displayField:field,value:value,displayValue:value,operator:operator})}):provider}))};var updateAndProviderProperties=function updateAndProviderProperties(_ref28){var andProviderId=_ref28.andProviderId,excluded=_ref28.excluded,field=_ref28.field,operator=_ref28.operator,providerId=_ref28.providerId,timeline=_ref28.timeline,value=_ref28.value;return timeline.dataProviders.map((function(provider){return provider.id===providerId?_objectSpread({},provider,{and:provider.and.map((function(andProvider){return andProvider.id===andProviderId?_objectSpread({},andProvider,{excluded:excluded,queryMatch:_objectSpread({},andProvider.queryMatch,{field:field,displayField:field,value:value,displayValue:value,operator:operator})}):andProvider}))}):provider}))};var updateTimelineProviderProperties=function updateTimelineProviderProperties(_ref29){var andProviderId=_ref29.andProviderId,excluded=_ref29.excluded,field=_ref29.field,id=_ref29.id,operator=_ref29.operator,providerId=_ref29.providerId,timelineById=_ref29.timelineById,value=_ref29.value;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{dataProviders:andProviderId?updateAndProviderProperties({andProviderId:andProviderId,excluded:excluded,field:field,operator:operator,providerId:providerId,timeline:timeline,value:value}):updateProviderProperties({excluded:excluded,field:field,operator:operator,providerId:providerId,timeline:timeline,value:value})})))};exports.updateTimelineProviderProperties=updateTimelineProviderProperties;var updateTimelineProviderKqlQuery=function updateTimelineProviderKqlQuery(_ref30){var id=_ref30.id,providerId=_ref30.providerId,kqlQuery=_ref30.kqlQuery,timelineById=_ref30.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{dataProviders:timeline.dataProviders.map((function(provider){return provider.id===providerId?_objectSpread({},provider,{},{kqlQuery:kqlQuery}):provider}))})))};exports.updateTimelineProviderKqlQuery=updateTimelineProviderKqlQuery;var updateTimelineItemsPerPage=function updateTimelineItemsPerPage(_ref31){var id=_ref31.id,itemsPerPage=_ref31.itemsPerPage,timelineById=_ref31.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{itemsPerPage:itemsPerPage})))};exports.updateTimelineItemsPerPage=updateTimelineItemsPerPage;var updateTimelinePageIndex=function updateTimelinePageIndex(_ref32){var id=_ref32.id,activePage=_ref32.activePage,timelineById=_ref32.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{activePage:activePage})))};exports.updateTimelinePageIndex=updateTimelinePageIndex;var updateTimelinePerPageOptions=function updateTimelinePerPageOptions(_ref33){var id=_ref33.id,itemsPerPageOptions=_ref33.itemsPerPageOptions,timelineById=_ref33.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{itemsPerPageOptions:itemsPerPageOptions})))};exports.updateTimelinePerPageOptions=updateTimelinePerPageOptions;var removeAndProvider=function removeAndProvider(andProviderId,providerId,timeline){var providerIndex=timeline.dataProviders.findIndex((function(p){return p.id===providerId}));var providerAndIndex=timeline.dataProviders[providerIndex].and.findIndex((function(p){return p.id===andProviderId}));return[].concat(_toConsumableArray(timeline.dataProviders.slice(0,providerIndex)),[_objectSpread({},timeline.dataProviders[providerIndex],{and:[].concat(_toConsumableArray(timeline.dataProviders[providerIndex].and.slice(0,providerAndIndex)),_toConsumableArray(timeline.dataProviders[providerIndex].and.slice(providerAndIndex+1)))})],_toConsumableArray(timeline.dataProviders.slice(providerIndex+1)))};var removeProvider=function removeProvider(providerId,timeline){var providerIndex=timeline.dataProviders.findIndex((function(p){return p.id===providerId}));return[].concat(_toConsumableArray(timeline.dataProviders.slice(0,providerIndex)),_toConsumableArray(timeline.dataProviders[providerIndex].and.length?[_objectSpread({},timeline.dataProviders[providerIndex].and.slice(0,1)[0],{and:_toConsumableArray(timeline.dataProviders[providerIndex].and.slice(1))})]:[]),_toConsumableArray(timeline.dataProviders.slice(providerIndex+1)))};var removeTimelineProvider=function removeTimelineProvider(_ref34){var id=_ref34.id,providerId=_ref34.providerId,timelineById=_ref34.timelineById,andProviderId=_ref34.andProviderId;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{dataProviders:andProviderId?removeAndProvider(andProviderId,providerId,timeline):removeProvider(providerId,timeline)})))};exports.removeTimelineProvider=removeTimelineProvider;var setDeletedTimelineEvents=function setDeletedTimelineEvents(_ref35){var id=_ref35.id,eventIds=_ref35.eventIds,isDeleted=_ref35.isDeleted,timelineById=_ref35.timelineById;var timeline=timelineById[id];var deletedEventIds=isDeleted?(0,_fp.union)(timeline.deletedEventIds,eventIds):timeline.deletedEventIds.filter((function(currentEventId){return!eventIds.includes(currentEventId)}));var selectedEventIds=Object.fromEntries(Object.entries(timeline.selectedEventIds).filter((function(_ref36){var _ref37=_slicedToArray(_ref36,1),selectedEventId=_ref37[0];return!deletedEventIds.includes(selectedEventId)})));var isSelectAllChecked=Object.keys(selectedEventIds).length>0?timeline.isSelectAllChecked:false;return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{deletedEventIds:deletedEventIds,selectedEventIds:selectedEventIds,isSelectAllChecked:isSelectAllChecked})))};exports.setDeletedTimelineEvents=setDeletedTimelineEvents;var setLoadingTimelineEvents=function setLoadingTimelineEvents(_ref38){var id=_ref38.id,eventIds=_ref38.eventIds,isLoading=_ref38.isLoading,timelineById=_ref38.timelineById;var timeline=timelineById[id];var loadingEventIds=isLoading?(0,_fp.union)(timeline.loadingEventIds,eventIds):timeline.loadingEventIds.filter((function(currentEventId){return!eventIds.includes(currentEventId)}));return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{loadingEventIds:loadingEventIds})))};exports.setLoadingTimelineEvents=setLoadingTimelineEvents;var setSelectedTimelineEvents=function setSelectedTimelineEvents(_ref39){var id=_ref39.id,eventIds=_ref39.eventIds,_ref39$isSelectAllChe=_ref39.isSelectAllChecked,isSelectAllChecked=_ref39$isSelectAllChe===void 0?false:_ref39$isSelectAllChe,isSelected=_ref39.isSelected,timelineById=_ref39.timelineById;var timeline=timelineById[id];var selectedEventIds=isSelected?_objectSpread({},timeline.selectedEventIds,{},eventIds):(0,_fp.omit)(Object.keys(eventIds),timeline.selectedEventIds);return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{selectedEventIds:selectedEventIds,isSelectAllChecked:isSelectAllChecked})))};exports.setSelectedTimelineEvents=setSelectedTimelineEvents;var unPinTimelineEvent=function unPinTimelineEvent(_ref40){var id=_ref40.id,eventId=_ref40.eventId,timelineById=_ref40.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{pinnedEventIds:(0,_fp.omit)(eventId,timeline.pinnedEventIds)})))};exports.unPinTimelineEvent=unPinTimelineEvent;var updateHighlightedDropAndProvider=function updateHighlightedDropAndProvider(_ref41){var id=_ref41.id,providerId=_ref41.providerId,timelineById=_ref41.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{highlightedDropAndProviderId:providerId})))};exports.updateHighlightedDropAndProvider=updateHighlightedDropAndProvider;var updateSavedQuery=function updateSavedQuery(_ref42){var id=_ref42.id,savedQueryId=_ref42.savedQueryId,timelineById=_ref42.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{savedQueryId:savedQueryId})))};exports.updateSavedQuery=updateSavedQuery;var updateFilters=function updateFilters(_ref43){var id=_ref43.id,filters=_ref43.filters,timelineById=_ref43.timelineById;var timeline=timelineById[id];return _objectSpread({},timelineById,_defineProperty({},id,_objectSpread({},timeline,{filters:filters})))};exports.updateFilters=updateFilters},7502:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getStore=exports.createStore=void 0;var _redux=__webpack_require__(7020);var _reduxObservable=__webpack_require__(699);var _telemetry=__webpack_require__(995);var _app=__webpack_require__(1895);var _timeline=__webpack_require__(1915);var _inputs=__webpack_require__(1887);var _reducer=__webpack_require__(7500);var _epic=__webpack_require__(8443);var store=null;var createStore=function createStore(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_reducer.initialState;var apolloClient=arguments.length>1?arguments[1]:undefined;var composeEnhancers=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_redux.compose;var middlewareDependencies={apolloClient$:apolloClient,selectNotesByIdSelector:_app.appSelectors.selectNotesByIdSelector,timelineByIdSelector:_timeline.timelineSelectors.timelineByIdSelector,timelineTimeRangeSelector:_inputs.inputsSelectors.timelineTimeRangeSelector};var epicMiddleware=(0,_reduxObservable.createEpicMiddleware)({dependencies:middlewareDependencies});store=(0,_redux.createStore)(_reducer.reducer,state,composeEnhancers((0,_redux.applyMiddleware)(epicMiddleware,_telemetry.telemetryMiddleware)));epicMiddleware.run((0,_epic.createRootEpic)());return store};exports.createStore=createStore;var getStore=function getStore(){return store};exports.getStore=getStore},7503:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createTimelineNoteEpic=exports.epicPersistNote=exports.timelineNoteActionsType=void 0;var _fp=__webpack_require__(223);var _rxjs=__webpack_require__(37);var _operators=__webpack_require__(47);var _persist=__webpack_require__(8446);var _actions=__webpack_require__(991);var _actions2=__webpack_require__(1890);var _my_epic_timeline_id=__webpack_require__(7182);var _refetch_queries=__webpack_require__(7183);var _epic_dispatcher_timeline_persistence_queue=__webpack_require__(7184);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var timelineNoteActionsType=[_actions2.addNote.type,_actions2.addNoteToEvent.type];exports.timelineNoteActionsType=timelineNoteActionsType;var epicPersistNote=function epicPersistNote(apolloClient,action,timeline,notes,action$,timeline$,notes$){return(0,_rxjs.from)(apolloClient.mutate({mutation:_persist.persistTimelineNoteMutation,fetchPolicy:"no-cache",variables:{noteId:null,version:null,note:{eventId:action.payload.eventId,note:getNote(action.payload.noteId,notes),timelineId:_my_epic_timeline_id.myEpicTimelineId.getTimelineId()}},refetchQueries:_refetch_queries.refetchQueries})).pipe((0,_operators.withLatestFrom)(timeline$,notes$),(0,_operators.mergeMap)((function(_ref){var _ref2=_slicedToArray(_ref,3),result=_ref2[0],recentTimeline=_ref2[1],recentNotes=_ref2[2];var noteIdRedux=action.payload.noteId;var response=(0,_fp.get)("data.persistNote",result);var callOutMsg=response.code===403?[(0,_actions2.showCallOutUnauthorizedMsg)()]:[];return[].concat(callOutMsg,[recentTimeline[action.payload.id].savedObjectId==null?(0,_actions2.updateTimeline)({id:action.payload.id,timeline:_objectSpread({},recentTimeline[action.payload.id],{savedObjectId:response.note.timelineId||null,version:response.note.timelineVersion||null})}):null,(0,_actions.updateNote)({note:_objectSpread({},recentNotes[noteIdRedux],{created:response.note.updated!=null?new Date(response.note.updated):recentNotes[noteIdRedux].created,user:response.note.updatedBy!=null?response.note.updatedBy:recentNotes[noteIdRedux].user,saveObjectId:response.note.noteId,version:response.note.version})}),(0,_actions2.endTimelineSaving)({id:action.payload.id})]).filter((function(item){return item!=null}))})),(0,_operators.startWith)((0,_actions2.startTimelineSaving)({id:action.payload.id})),(0,_operators.takeUntil)(action$.pipe((0,_operators.withLatestFrom)(timeline$),(0,_operators.filter)((function(_ref3){var _ref4=_slicedToArray(_ref3,2),checkAction=_ref4[0],updatedTimeline=_ref4[1];if(checkAction.type===_actions.addError.type){return true}if(checkAction.type===_actions2.endTimelineSaving.type&&updatedTimeline[(0,_fp.get)("payload.id",checkAction)].savedObjectId!=null){_my_epic_timeline_id.myEpicTimelineId.setTimelineId(updatedTimeline[(0,_fp.get)("payload.id",checkAction)].savedObjectId);_my_epic_timeline_id.myEpicTimelineId.setTimelineVersion(updatedTimeline[(0,_fp.get)("payload.id",checkAction)].version);return true}return false})))))};exports.epicPersistNote=epicPersistNote;var createTimelineNoteEpic=function createTimelineNoteEpic(){return function(action$){return action$.pipe((0,_operators.filter)((function(action){return timelineNoteActionsType.includes(action.type)})),(0,_operators.switchMap)((function(action){_epic_dispatcher_timeline_persistence_queue.dispatcherTimelinePersistQueue.next({action:action});return(0,_rxjs.empty)()})))}};exports.createTimelineNoteEpic=createTimelineNoteEpic;var getNote=function getNote(noteId,notes){if(noteId!=null){return notes[noteId].note}return""}},7504:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_SORT_DIRECTION=exports.DEFAULT_SORT_FIELD=void 0;var DEFAULT_SORT_FIELD="updated";exports.DEFAULT_SORT_FIELD=DEFAULT_SORT_FIELD;var DEFAULT_SORT_DIRECTION="desc";exports.DEFAULT_SORT_DIRECTION=DEFAULT_SORT_DIRECTION},7505:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createTimelinePinnedEventEpic=exports.epicPersistPinnedEvent=exports.timelinePinnedEventActionsType=void 0;var _fp=__webpack_require__(223);var _rxjs=__webpack_require__(37);var _operators=__webpack_require__(47);var _persist=__webpack_require__(8448);var _actions=__webpack_require__(991);var _actions2=__webpack_require__(1890);var _my_epic_timeline_id=__webpack_require__(7182);var _refetch_queries=__webpack_require__(7183);var _epic_dispatcher_timeline_persistence_queue=__webpack_require__(7184);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var timelinePinnedEventActionsType=[_actions2.pinEvent.type,_actions2.unPinEvent.type];exports.timelinePinnedEventActionsType=timelinePinnedEventActionsType;var epicPersistPinnedEvent=function epicPersistPinnedEvent(apolloClient,action,timeline,action$,timeline$){return(0,_rxjs.from)(apolloClient.mutate({mutation:_persist.persistTimelinePinnedEventMutation,fetchPolicy:"no-cache",variables:{pinnedEventId:timeline[action.payload.id].pinnedEventsSaveObject[action.payload.eventId]!=null?timeline[action.payload.id].pinnedEventsSaveObject[action.payload.eventId].pinnedEventId:null,eventId:action.payload.eventId,timelineId:_my_epic_timeline_id.myEpicTimelineId.getTimelineId()},refetchQueries:_refetch_queries.refetchQueries})).pipe((0,_operators.withLatestFrom)(timeline$),(0,_operators.mergeMap)((function(_ref){var _ref2=_slicedToArray(_ref,2),result=_ref2[0],recentTimeline=_ref2[1];var savedTimeline=recentTimeline[action.payload.id];var response=(0,_fp.get)("data.persistPinnedEventOnTimeline",result);var callOutMsg=response&&response.code===403?[(0,_actions2.showCallOutUnauthorizedMsg)()]:[];return[response!=null?(0,_actions2.updateTimeline)({id:action.payload.id,timeline:_objectSpread({},savedTimeline,{savedObjectId:savedTimeline.savedObjectId==null&&response.timelineId!=null?response.timelineId:savedTimeline.savedObjectId,version:savedTimeline.version==null&&response.timelineVersion!=null?response.timelineVersion:savedTimeline.version,pinnedEventIds:_objectSpread({},savedTimeline.pinnedEventIds,_defineProperty({},action.payload.eventId,true)),pinnedEventsSaveObject:_objectSpread({},savedTimeline.pinnedEventsSaveObject,_defineProperty({},action.payload.eventId,response))})}):(0,_actions2.updateTimeline)({id:action.payload.id,timeline:_objectSpread({},savedTimeline,{pinnedEventIds:(0,_fp.omit)(action.payload.eventId,savedTimeline.pinnedEventIds),pinnedEventsSaveObject:(0,_fp.omit)(action.payload.eventId,savedTimeline.pinnedEventsSaveObject)})})].concat(callOutMsg,[(0,_actions2.endTimelineSaving)({id:action.payload.id})])})),(0,_operators.startWith)((0,_actions2.startTimelineSaving)({id:action.payload.id})),(0,_operators.takeUntil)(action$.pipe((0,_operators.withLatestFrom)(timeline$),(0,_operators.filter)((function(_ref3){var _ref4=_slicedToArray(_ref3,2),checkAction=_ref4[0],updatedTimeline=_ref4[1];if(checkAction.type===_actions.addError.type){return true}if(checkAction.type===_actions2.endTimelineSaving.type&&updatedTimeline[(0,_fp.get)("payload.id",checkAction)].savedObjectId!=null){_my_epic_timeline_id.myEpicTimelineId.setTimelineId(updatedTimeline[(0,_fp.get)("payload.id",checkAction)].savedObjectId);_my_epic_timeline_id.myEpicTimelineId.setTimelineVersion(updatedTimeline[(0,_fp.get)("payload.id",checkAction)].version);return true}return false})))))};exports.epicPersistPinnedEvent=epicPersistPinnedEvent;var createTimelinePinnedEventEpic=function createTimelinePinnedEventEpic(){return function(action$){return action$.pipe((0,_operators.filter)((function(action){return timelinePinnedEventActionsType.includes(action.type)})),(0,_operators.mergeMap)((function(action){_epic_dispatcher_timeline_persistence_queue.dispatcherTimelinePersistQueue.next({action:action});return(0,_rxjs.empty)()})))}};exports.createTimelinePinnedEventEpic=createTimelinePinnedEventEpic},7506:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createTimelineFavoriteEpic=exports.epicPersistTimelineFavorite=exports.timelineFavoriteActionsType=void 0;var _fp=__webpack_require__(223);var _rxjs=__webpack_require__(37);var _operators=__webpack_require__(47);var _persist=__webpack_require__(8449);var _actions=__webpack_require__(991);var _actions2=__webpack_require__(1890);var _epic_dispatcher_timeline_persistence_queue=__webpack_require__(7184);var _refetch_queries=__webpack_require__(7183);var _my_epic_timeline_id=__webpack_require__(7182);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var timelineFavoriteActionsType=[_actions2.updateIsFavorite.type];exports.timelineFavoriteActionsType=timelineFavoriteActionsType;var epicPersistTimelineFavorite=function epicPersistTimelineFavorite(apolloClient,action,timeline,action$,timeline$){return(0,_rxjs.from)(apolloClient.mutate({mutation:_persist.persistTimelineFavoriteMutation,fetchPolicy:"no-cache",variables:{timelineId:_my_epic_timeline_id.myEpicTimelineId.getTimelineId()},refetchQueries:_refetch_queries.refetchQueries})).pipe((0,_operators.withLatestFrom)(timeline$),(0,_operators.mergeMap)((function(_ref){var _ref2=_slicedToArray(_ref,2),result=_ref2[0],recentTimelines=_ref2[1];var savedTimeline=recentTimelines[action.payload.id];var response=(0,_fp.get)("data.persistFavorite",result);var callOutMsg=response.code===403?[(0,_actions2.showCallOutUnauthorizedMsg)()]:[];return[].concat(callOutMsg,[(0,_actions2.updateTimeline)({id:action.payload.id,timeline:_objectSpread({},savedTimeline,{isFavorite:response.favorite!=null&&response.favorite.length>0,savedObjectId:response.savedObjectId||null,version:response.version||null})}),(0,_actions2.endTimelineSaving)({id:action.payload.id})])})),(0,_operators.startWith)((0,_actions2.startTimelineSaving)({id:action.payload.id})),(0,_operators.takeUntil)(action$.pipe((0,_operators.withLatestFrom)(timeline$),(0,_operators.filter)((function(_ref3){var _ref4=_slicedToArray(_ref3,2),checkAction=_ref4[0],updatedTimeline=_ref4[1];if(checkAction.type===_actions.addError.type){return true}if(checkAction.type===_actions2.endTimelineSaving.type&&updatedTimeline[(0,_fp.get)("payload.id",checkAction)].savedObjectId!=null){_my_epic_timeline_id.myEpicTimelineId.setTimelineId(updatedTimeline[(0,_fp.get)("payload.id",checkAction)].savedObjectId);_my_epic_timeline_id.myEpicTimelineId.setTimelineVersion(updatedTimeline[(0,_fp.get)("payload.id",checkAction)].version);return true}return false})))))};exports.epicPersistTimelineFavorite=epicPersistTimelineFavorite;var createTimelineFavoriteEpic=function createTimelineFavoriteEpic(){return function(action$){return action$.pipe((0,_operators.filter)((function(action){return timelineFavoriteActionsType.includes(action.type)})),(0,_operators.mergeMap)((function(action){_epic_dispatcher_timeline_persistence_queue.dispatcherTimelinePersistQueue.next({action:action});return(0,_rxjs.empty)()})))}};exports.createTimelineFavoriteEpic=createTimelineFavoriteEpic},7507:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CLOSE_ERROR_MODAL=exports.TITLE_ERROR_MODAL=exports.SEE_ALL_ERRORS=void 0;var _i18n=__webpack_require__(2);var SEE_ALL_ERRORS=_i18n.i18n.translate("xpack.siem.modalAllErrors.seeAllErrors.button",{defaultMessage:"See the full error(s)"});exports.SEE_ALL_ERRORS=SEE_ALL_ERRORS;var TITLE_ERROR_MODAL=_i18n.i18n.translate("xpack.siem.modalAllErrors.title",{defaultMessage:"Your visualization has error(s)"});exports.TITLE_ERROR_MODAL=TITLE_ERROR_MODAL;var CLOSE_ERROR_MODAL=_i18n.i18n.translate("xpack.siem.modalAllErrors.close.button",{defaultMessage:"Close"});exports.CLOSE_ERROR_MODAL=CLOSE_ERROR_MODAL},7508:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NotFoundPage=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(4);var _wrapper_page=__webpack_require__(7054);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NotFoundPage=_react.default.memo((function(){return _react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.siem.pages.fourohfour.noContentFoundDescription",defaultMessage:"No content found"}))}));exports.NotFoundPage=NotFoundPage;NotFoundPage.displayName="NotFoundPage"},7564:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LockIconContainer=exports.Facet=exports.StyledStar=exports.LabelText=exports.ButtonContainer=exports.DescriptionContainer=exports.NameField=exports.DatePicker=exports.TimelineProperties=void 0;var _eui=__webpack_require__(1);var _styledComponents=_interopRequireWildcard(__webpack_require__(30));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var fadeInEffect=(0,_styledComponents.keyframes)(["from{opacity:0;}to{opacity:1;}"]);var TimelineProperties=_styledComponents.default.div.withConfig({displayName:"TimelineProperties",componentId:"sc-1esg8gm-0"})(["align-items:center;display:flex;flex-direction:row;justify-content:space-between;user-select:none;"]);exports.TimelineProperties=TimelineProperties;TimelineProperties.displayName="TimelineProperties";var DatePicker=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"DatePicker",componentId:"sc-1esg8gm-1"})(["width:",";.euiSuperDatePicker__flexWrapper{max-width:none;width:auto;}"],(function(_ref){var width=_ref.width;return"".concat(width,"px")}));exports.DatePicker=DatePicker;DatePicker.displayName="DatePicker";var NameField=(0,_styledComponents.default)(_eui.EuiFieldText).withConfig({displayName:"NameField",componentId:"sc-1esg8gm-2"})(["width:150px;margin-right:5px;"]);exports.NameField=NameField;NameField.displayName="NameField";var DescriptionContainer=_styledComponents.default.div.withConfig({displayName:"DescriptionContainer",componentId:"sc-1esg8gm-3"})(["animation:"," 0.3s;margin-right:5px;min-width:150px;"],fadeInEffect);exports.DescriptionContainer=DescriptionContainer;DescriptionContainer.displayName="DescriptionContainer";var ButtonContainer=_styledComponents.default.div.withConfig({displayName:"ButtonContainer",componentId:"sc-1esg8gm-4"})(["animation:"," ",";"],fadeInEffect,(function(_ref2){var animate=_ref2.animate;return animate?"0.3s":"0s"}));exports.ButtonContainer=ButtonContainer;ButtonContainer.displayName="ButtonContainer";var LabelText=_styledComponents.default.div.withConfig({displayName:"LabelText",componentId:"sc-1esg8gm-5"})(["margin-left:10px;"]);exports.LabelText=LabelText;LabelText.displayName="LabelText";var StyledStar=(0,_styledComponents.default)(_eui.EuiIcon).withConfig({displayName:"StyledStar",componentId:"sc-1esg8gm-6"})(["margin-right:5px;cursor:pointer;"]);exports.StyledStar=StyledStar;StyledStar.displayName="StyledStar";var Facet=_styledComponents.default.div.withConfig({displayName:"Facet",componentId:"sc-1esg8gm-7"})(["align-items:center;display:inline-flex;justify-content:center;border-radius:4px;background:#e4e4e4;color:#000;font-size:12px;line-height:16px;height:20px;min-width:20px;padding-left:8px;padding-right:8px;user-select:none;"]);exports.Facet=Facet;Facet.displayName="Facet";var LockIconContainer=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"LockIconContainer",componentId:"sc-1esg8gm-8"})(["margin-right:2px;"]);exports.LockIconContainer=LockIconContainer;LockIconContainer.displayName="LockIconContainer"},7565:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddNote=exports.CancelButton=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _markdown_hint=__webpack_require__(8636);var _helpers=__webpack_require__(7566);var i18n=_interopRequireWildcard(__webpack_require__(7127));var _new_note=__webpack_require__(8638);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var AddNotesContainer=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"AddNotesContainer",componentId:"aksa2t-0"})(["margin-bottom:5px;user-select:none;"]);AddNotesContainer.displayName="AddNotesContainer";var ButtonsContainer=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"ButtonsContainer",componentId:"aksa2t-1"})(["margin-top:5px;"]);ButtonsContainer.displayName="ButtonsContainer";var CancelButton=_react.default.memo((function(_ref){var onCancelAddNote=_ref.onCancelAddNote;return _react.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"cancel",onClick:onCancelAddNote},i18n.CANCEL)}));exports.CancelButton=CancelButton;CancelButton.displayName="CancelButton";var AddNote=_react.default.memo((function(_ref2){var associateNote=_ref2.associateNote,getNewNoteId=_ref2.getNewNoteId,newNote=_ref2.newNote,onCancelAddNote=_ref2.onCancelAddNote,updateNewNote=_ref2.updateNewNote,updateNote=_ref2.updateNote;var handleClick=(0,_react.useCallback)((function(){return(0,_helpers.updateAndAssociateNode)({associateNote:associateNote,getNewNoteId:getNewNoteId,newNote:newNote,updateNewNote:updateNewNote,updateNote:updateNote})}),[associateNote,getNewNoteId,newNote,updateNewNote,updateNote]);return _react.default.createElement(AddNotesContainer,{alignItems:"flexEnd",direction:"column",gutterSize:"none"},_react.default.createElement(_new_note.NewNote,{note:newNote,noteInputHeight:200,updateNewNote:updateNewNote}),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_markdown_hint.MarkdownHint,{show:newNote.trim().length>0})),_react.default.createElement(ButtonsContainer,{gutterSize:"none"},onCancelAddNote!=null?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(CancelButton,{onCancelAddNote:onCancelAddNote})):null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{"data-test-subj":"add-note",isDisabled:newNote.trim().length===0,fill:true,onClick:handleClick},i18n.ADD_NOTE))))}));exports.AddNote=AddNote;AddNote.displayName="AddNote"},7566:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateAndAssociateNode=exports.createNote=exports.NotesCount=exports.search=void 0;var _eui=__webpack_require__(1);var _moment=_interopRequireDefault(__webpack_require__(13));var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var i18n=_interopRequireWildcard(__webpack_require__(7127));var _page=__webpack_require__(7055);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var search={box:{incremental:true,placeholder:i18n.SEARCH_PLACEHOLDER,schema:{fields:{user:"string",note:"string"}}}};exports.search=search;var TitleText=_styledComponents.default.h3.withConfig({displayName:"TitleText",componentId:"sc-1q02pa1-0"})(["margin:0 5px;cursor:default;user-select:none;"]);TitleText.displayName="TitleText";var NotesCount=_react.default.memo((function(_ref){var noteIds=_ref.noteIds;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{color:"text",size:"l",type:"editorComment"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement(TitleText,null,i18n.NOTES))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_page.CountBadge,{color:"hollow"},noteIds.length)))}));exports.NotesCount=NotesCount;NotesCount.displayName="NotesCount";var createNote=function createNote(_ref2){var newNote=_ref2.newNote,getNewNoteId=_ref2.getNewNoteId;return{created:_moment.default.utc().toDate(),id:getNewNoteId(),lastEdit:null,note:newNote.trim(),saveObjectId:null,user:"elastic",version:null}};exports.createNote=createNote;var updateAndAssociateNode=function updateAndAssociateNode(_ref3){var associateNote=_ref3.associateNote,getNewNoteId=_ref3.getNewNoteId,newNote=_ref3.newNote,updateNewNote=_ref3.updateNewNote,updateNote=_ref3.updateNote;var note=createNote({newNote:newNote,getNewNoteId:getNewNoteId});updateNote(note);associateNote(note.id);updateNewNote("")};exports.updateAndAssociateNode=updateAndAssociateNode},7567:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoteCard=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _note_card_body=__webpack_require__(8652);var _note_card_header=__webpack_require__(8655);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NoteCardContainer=(0,_styledComponents.default)(_eui.EuiPanel).withConfig({displayName:"NoteCardContainer",componentId:"fl7s71-0"})(["width:100%;"]);NoteCardContainer.displayName="NoteCardContainer";var NoteCard=_react.default.memo((function(_ref){var created=_ref.created,rawNote=_ref.rawNote,user=_ref.user;return _react.default.createElement(NoteCardContainer,{"data-test-subj":"note-card",hasShadow:false,paddingSize:"none"},_react.default.createElement(_note_card_header.NoteCardHeader,{created:created,user:user}),_react.default.createElement(_note_card_body.NoteCardBody,{rawNote:rawNote}))}));exports.NoteCard=NoteCard;NoteCard.displayName="NoteCard"},7568:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NOTES_PANEL_HEIGHT=exports.NOTES_PANEL_WIDTH=void 0;var NOTES_PANEL_WIDTH=1024;exports.NOTES_PANEL_WIDTH=NOTES_PANEL_WIDTH;var NOTES_PANEL_HEIGHT=750;exports.NOTES_PANEL_HEIGHT=NOTES_PANEL_HEIGHT},7569:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OpenTimelineModal=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _apollo_context=__webpack_require__(7077);var i18n=_interopRequireWildcard(__webpack_require__(7049));var _=__webpack_require__(7570);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DEFAULT_SEARCH_RESULTS_PER_PAGE=10;var OPEN_TIMELINE_MODAL_WIDTH=1e3;var OpenTimelineModal=_react.default.memo((function(_ref){var _ref$hideActions=_ref.hideActions,hideActions=_ref$hideActions===void 0?[]:_ref$hideActions,modalTitle=_ref.modalTitle,onClose=_ref.onClose,onOpen=_ref.onOpen;var apolloClient=(0,_apollo_context.useApolloClient)();if(!apolloClient)return null;return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiModal,{"data-test-subj":"open-timeline-modal",maxWidth:OPEN_TIMELINE_MODAL_WIDTH,onClose:onClose},_react.default.createElement(_.StatefulOpenTimeline,{apolloClient:apolloClient,closeModalTimeline:onClose,hideActions:hideActions,isModal:true,defaultPageSize:DEFAULT_SEARCH_RESULTS_PER_PAGE,onOpenTimeline:onOpen,title:modalTitle!==null&&modalTitle!==void 0?modalTitle:i18n.OPEN_TIMELINE_TITLE})))}));exports.OpenTimelineModal=OpenTimelineModal;OpenTimelineModal.displayName="OpenTimelineModal"},7570:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatefulOpenTimeline=exports.StatefulOpenTimelineComponent=exports.getSelectedTimelineIds=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _default_headers=__webpack_require__(7038);var _persist=__webpack_require__(8658);var _all=__webpack_require__(7313);var _index=__webpack_require__(7278);var _store=__webpack_require__(7016);var _defaults=__webpack_require__(7053);var _actions=__webpack_require__(1890);var _open_timeline=__webpack_require__(8659);var _helpers=__webpack_require__(7056);var _open_timeline_modal_body=__webpack_require__(8671);var _constants=__webpack_require__(7504);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var getSelectedTimelineIds=function getSelectedTimelineIds(selectedItems){return selectedItems.reduce((function(validSelections,timelineResult){return timelineResult.savedObjectId!=null?[].concat(_toConsumableArray(validSelections),[timelineResult.savedObjectId]):validSelections}),[])};exports.getSelectedTimelineIds=getSelectedTimelineIds;var StatefulOpenTimelineComponent=_react.default.memo((function(_ref){var apolloClient=_ref.apolloClient,closeModalTimeline=_ref.closeModalTimeline,createNewTimeline=_ref.createNewTimeline,defaultPageSize=_ref.defaultPageSize,_ref$hideActions=_ref.hideActions,hideActions=_ref$hideActions===void 0?[]:_ref$hideActions,_ref$isModal=_ref.isModal,isModal=_ref$isModal===void 0?false:_ref$isModal,onOpenTimeline=_ref.onOpenTimeline,timeline=_ref.timeline,title=_ref.title,updateTimeline=_ref.updateTimeline,updateIsLoading=_ref.updateIsLoading;var _useState=(0,_react.useState)({}),_useState2=_slicedToArray(_useState,2),itemIdToExpandedNotesRowMap=_useState2[0],setItemIdToExpandedNotesRowMap=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),onlyFavorites=_useState4[0],setOnlyFavorites=_useState4[1];var _useState5=(0,_react.useState)(0),_useState6=_slicedToArray(_useState5,2),pageIndex=_useState6[0],setPageIndex=_useState6[1];var _useState7=(0,_react.useState)(defaultPageSize),_useState8=_slicedToArray(_useState7,2),pageSize=_useState8[0],setPageSize=_useState8[1];var _useState9=(0,_react.useState)(""),_useState10=_slicedToArray(_useState9,2),search=_useState10[0],setSearch=_useState10[1];var _useState11=(0,_react.useState)([]),_useState12=_slicedToArray(_useState11,2),selectedItems=_useState12[0],setSelectedItems=_useState12[1];var _useState13=(0,_react.useState)(_constants.DEFAULT_SORT_DIRECTION),_useState14=_slicedToArray(_useState13,2),sortDirection=_useState14[0],setSortDirection=_useState14[1];var _useState15=(0,_react.useState)(_constants.DEFAULT_SORT_FIELD),_useState16=_slicedToArray(_useState15,2),sortField=_useState16[0],setSortField=_useState16[1];var onQueryChange=(0,_react.useCallback)((function(query){setSearch(query.queryText.trim())}),[]);var focusInput=function focusInput(){var elements=document.querySelector(".".concat(_helpers.OPEN_TIMELINE_CLASS_NAME," input"));if(elements!=null){elements.focus()}};var onDeleteOneTimeline=(0,_react.useCallback)((function(timelineIds){deleteTimelines(timelineIds,{search:search,pageInfo:{pageIndex:pageIndex+1,pageSize:pageSize},sort:{sortField:sortField,sortOrder:sortDirection},onlyUserFavorite:onlyFavorites})}),[search,pageIndex,pageSize,sortField,sortDirection,onlyFavorites]);var onDeleteSelected=(0,_react.useCallback)((function(){deleteTimelines(getSelectedTimelineIds(selectedItems),{search:search,pageInfo:{pageIndex:pageIndex+1,pageSize:pageSize},sort:{sortField:sortField,sortOrder:sortDirection},onlyUserFavorite:onlyFavorites});resetSelectionState()}),[selectedItems,search,pageIndex,pageSize,sortField,sortDirection,onlyFavorites]);var onSelectionChange=(0,_react.useCallback)((function(newSelectedItems){setSelectedItems(newSelectedItems)}),[]);var onTableChange=(0,_react.useCallback)((function(_ref2){var page=_ref2.page,sort=_ref2.sort;var index=page.index,size=page.size;var field=sort.field,direction=sort.direction;setPageIndex(index);setPageSize(size);setSortDirection(direction);setSortField(field)}),[]);var onToggleOnlyFavorites=(0,_react.useCallback)((function(){setOnlyFavorites(!onlyFavorites)}),[onlyFavorites]);var onToggleShowNotes=(0,_react.useCallback)((function(newItemIdToExpandedNotesRowMap){setItemIdToExpandedNotesRowMap(newItemIdToExpandedNotesRowMap)}),[]);var resetSelectionState=(0,_react.useCallback)((function(){setSelectedItems([])}),[]);var openTimeline=(0,_react.useCallback)((function(_ref3){var duplicate=_ref3.duplicate,timelineId=_ref3.timelineId;if(isModal&&closeModalTimeline!=null){closeModalTimeline()}(0,_helpers.queryTimelineById)({apolloClient:apolloClient,duplicate:duplicate,onOpenTimeline:onOpenTimeline,timelineId:timelineId,updateIsLoading:updateIsLoading,updateTimeline:updateTimeline})}),[apolloClient,updateIsLoading,updateTimeline]);var deleteTimelines=(0,_react.useCallback)((function(timelineIds,variables){if(timelineIds.includes(timeline.savedObjectId||"")){createNewTimeline({id:"timeline-1",columns:_default_headers.defaultHeaders,show:false})}apolloClient.mutate({mutation:_persist.deleteTimelineMutation,fetchPolicy:"no-cache",variables:{id:timelineIds},refetchQueries:[{query:_index.allTimelinesQuery,variables:variables}]})}),[apolloClient,createNewTimeline,timeline]);(0,_react.useEffect)((function(){focusInput()}),[]);return _react.default.createElement(_all.AllTimelinesQuery,{pageInfo:{pageIndex:pageIndex+1,pageSize:pageSize},search:search,sort:{sortField:sortField,sortOrder:sortDirection},onlyUserFavorite:onlyFavorites},(function(_ref4){var timelines=_ref4.timelines,loading=_ref4.loading,totalCount=_ref4.totalCount;return!isModal?_react.default.createElement(_open_timeline.OpenTimeline,{"data-test-subj":"open-timeline",deleteTimelines:onDeleteOneTimeline,defaultPageSize:defaultPageSize,isLoading:loading,itemIdToExpandedNotesRowMap:itemIdToExpandedNotesRowMap,onAddTimelinesToFavorites:undefined,onDeleteSelected:onDeleteSelected,onlyFavorites:onlyFavorites,onOpenTimeline:openTimeline,onQueryChange:onQueryChange,onSelectionChange:onSelectionChange,onTableChange:onTableChange,onToggleOnlyFavorites:onToggleOnlyFavorites,onToggleShowNotes:onToggleShowNotes,pageIndex:pageIndex,pageSize:pageSize,query:search,searchResults:timelines,selectedItems:selectedItems,sortDirection:sortDirection,sortField:sortField,title:title,totalSearchResultsCount:totalCount}):_react.default.createElement(_open_timeline_modal_body.OpenTimelineModalBody,{"data-test-subj":"open-timeline-modal",deleteTimelines:onDeleteOneTimeline,defaultPageSize:defaultPageSize,hideActions:hideActions,isLoading:loading,itemIdToExpandedNotesRowMap:itemIdToExpandedNotesRowMap,onAddTimelinesToFavorites:undefined,onlyFavorites:onlyFavorites,onOpenTimeline:openTimeline,onQueryChange:onQueryChange,onSelectionChange:onSelectionChange,onTableChange:onTableChange,onToggleOnlyFavorites:onToggleOnlyFavorites,onToggleShowNotes:onToggleShowNotes,pageIndex:pageIndex,pageSize:pageSize,query:search,searchResults:timelines,selectedItems:selectedItems,sortDirection:sortDirection,sortField:sortField,title:title,totalSearchResultsCount:totalCount})}))}));exports.StatefulOpenTimelineComponent=StatefulOpenTimelineComponent;var makeMapStateToProps=function makeMapStateToProps(){var getTimeline=_store.timelineSelectors.getTimelineByIdSelector();var mapStateToProps=function mapStateToProps(state){var _getTimeline;var timeline=(_getTimeline=getTimeline(state,"timeline-1"))!==null&&_getTimeline!==void 0?_getTimeline:_defaults.timelineDefaults;return{timeline:timeline}};return mapStateToProps};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{createNewTimeline:function createNewTimeline(_ref5){var id=_ref5.id,columns=_ref5.columns,show=_ref5.show;return dispatch((0,_actions.createTimeline)({id:id,columns:columns,show:show}))},updateIsLoading:function updateIsLoading(_ref6){var id=_ref6.id,isLoading=_ref6.isLoading;return dispatch((0,_actions.updateIsLoading)({id:id,isLoading:isLoading}))},updateTimeline:(0,_helpers.dispatchUpdateTimeline)(dispatch)}};var StatefulOpenTimeline=(0,_reactRedux.connect)(makeMapStateToProps,mapDispatchToProps)(StatefulOpenTimelineComponent);exports.StatefulOpenTimeline=StatefulOpenTimeline},7571:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.oneTimelineQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetOneTimeline($id: ID!) {\n    getOneTimeline(id: $id) {\n      savedObjectId\n      columns {\n        aggregatable\n        category\n        columnHeaderType\n        description\n        example\n        indexes\n        id\n        name\n        searchable\n        type\n      }\n      dataProviders {\n        id\n        name\n        enabled\n        excluded\n        kqlQuery\n        queryMatch {\n          field\n          displayField\n          value\n          displayValue\n          operator\n        }\n        and {\n          id\n          name\n          enabled\n          excluded\n          kqlQuery\n          queryMatch {\n            field\n            displayField\n            value\n            displayValue\n            operator\n          }\n        }\n      }\n      dateRange {\n        start\n        end\n      }\n      description\n      eventType\n      eventIdToNoteIds {\n        eventId\n        note\n        timelineId\n        noteId\n        created\n        createdBy\n        timelineVersion\n        updated\n        updatedBy\n        version\n      }\n      favorite {\n        fullName\n        userName\n        favoriteDate\n      }\n      filters {\n        meta {\n          alias\n          controlledBy\n          disabled\n          field\n          formattedValue\n          index\n          key\n          negate\n          params\n          type\n          value\n        }\n        query\n        exists\n        match_all\n        missing\n        range\n        script\n      }\n      kqlMode\n      kqlQuery {\n        filterQuery {\n          kuery {\n            kind\n            expression\n          }\n          serializedQuery\n        }\n      }\n      notes {\n        eventId\n        note\n        timelineId\n        timelineVersion\n        noteId\n        created\n        createdBy\n        updated\n        updatedBy\n        version\n      }\n      noteIds\n      pinnedEventIds\n      pinnedEventsSaveObject {\n        pinnedEventId\n        eventId\n        timelineId\n        created\n        createdBy\n        updated\n        updatedBy\n        version\n      }\n      title\n      savedQueryId\n      sort {\n        columnId\n        sortDirection\n      }\n      created\n      createdBy\n      updated\n      updatedBy\n      version\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var oneTimelineQuery=(0,_graphqlTag.default)(_templateObject());exports.oneTimelineQuery=oneTimelineQuery},7572:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SearchRow=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var i18n=_interopRequireWildcard(__webpack_require__(7049));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SearchRowContainer=_styledComponents.default.div.withConfig({displayName:"SearchRowContainer",componentId:"sc-1allm2m-0"})(["&:not(:last-child){margin-bottom:",";}"],(function(props){return props.theme.eui.euiSizeL}));SearchRowContainer.displayName="SearchRowContainer";var SearchRowFlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"SearchRowFlexGroup",componentId:"sc-1allm2m-1"})(["margin-bottom:",";"],(function(props){return props.theme.eui.euiSizeXS}));SearchRowFlexGroup.displayName="SearchRowFlexGroup";var SearchRow=_react2.default.memo((function(_ref){var onlyFavorites=_ref.onlyFavorites,onQueryChange=_ref.onQueryChange,onToggleOnlyFavorites=_ref.onToggleOnlyFavorites,query=_ref.query,totalSearchResultsCount=_ref.totalSearchResultsCount;return _react2.default.createElement(SearchRowContainer,null,_react2.default.createElement(SearchRowFlexGroup,{gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiSearchBar,{"data-test-subj":"search-bar",box:{placeholder:i18n.SEARCH_PLACEHOLDER,incremental:false},onChange:onQueryChange})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFilterGroup,null,_react2.default.createElement(_eui.EuiFilterButton,{"data-test-subj":"only-favorites-toggle",hasActiveFilters:onlyFavorites,onClick:onToggleOnlyFavorites},i18n.ONLY_FAVORITES)))),_react2.default.createElement(_eui.EuiText,{color:"subdued",size:"xs"},_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{"data-test-subj":"query-message",id:"xpack.siem.open.timeline.showingNTimelinesLabel",defaultMessage:"Showing: {totalSearchResultsCount} {totalSearchResultsCount, plural, one {timeline} other {timelines}} {with}",values:{totalSearchResultsCount:totalSearchResultsCount,with:_react2.default.createElement("span",{"data-test-subj":"selectable-query-text"},query.trim().length?"".concat(i18n.WITH,' "').concat(query.trim(),'"'):"")}}))))}));exports.SearchRow=SearchRow;SearchRow.displayName="SearchRow"},7573:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimelinesTable=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var i18n=_interopRequireWildcard(__webpack_require__(7049));var _actions_columns=__webpack_require__(8660);var _common_columns=__webpack_require__(8663);var _extended_columns=__webpack_require__(8668);var _icon_header_columns=__webpack_require__(8669);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var EuiBasicTable=_eui.EuiBasicTable;var BasicTable=(0,_styledComponents.default)(EuiBasicTable).withConfig({displayName:"BasicTable",componentId:"sc-1aobq6e-0"})([".euiTableCellContent{animation:none;}.euiTableRow-isExpandedRow .euiTableCellContent__text{width:100%;}"]);BasicTable.displayName="BasicTable";var getExtendedColumnsIfEnabled=function getExtendedColumnsIfEnabled(showExtendedColumns){return showExtendedColumns?_toConsumableArray((0,_extended_columns.getExtendedColumns)()):[]};var getTimelinesTableColumns=function getTimelinesTableColumns(_ref){var actionTimelineToShow=_ref.actionTimelineToShow,deleteTimelines=_ref.deleteTimelines,itemIdToExpandedNotesRowMap=_ref.itemIdToExpandedNotesRowMap,onOpenTimeline=_ref.onOpenTimeline,onToggleShowNotes=_ref.onToggleShowNotes,showExtendedColumns=_ref.showExtendedColumns;return[].concat(_toConsumableArray((0,_common_columns.getCommonColumns)({itemIdToExpandedNotesRowMap:itemIdToExpandedNotesRowMap,onOpenTimeline:onOpenTimeline,onToggleShowNotes:onToggleShowNotes})),_toConsumableArray(getExtendedColumnsIfEnabled(showExtendedColumns)),_toConsumableArray((0,_icon_header_columns.getIconHeaderColumns)()),_toConsumableArray((0,_actions_columns.getActionsColumns)({deleteTimelines:deleteTimelines,onOpenTimeline:onOpenTimeline,actionTimelineToShow:actionTimelineToShow})))};var TimelinesTable=_react.default.memo((function(_ref2){var actionTimelineToShow=_ref2.actionTimelineToShow,deleteTimelines=_ref2.deleteTimelines,defaultPageSize=_ref2.defaultPageSize,isLoading=_ref2.loading,itemIdToExpandedNotesRowMap=_ref2.itemIdToExpandedNotesRowMap,onOpenTimeline=_ref2.onOpenTimeline,onSelectionChange=_ref2.onSelectionChange,onTableChange=_ref2.onTableChange,onToggleShowNotes=_ref2.onToggleShowNotes,pageIndex=_ref2.pageIndex,pageSize=_ref2.pageSize,searchResults=_ref2.searchResults,showExtendedColumns=_ref2.showExtendedColumns,sortField=_ref2.sortField,sortDirection=_ref2.sortDirection,totalSearchResultsCount=_ref2.totalSearchResultsCount;var pagination={hidePerPageOptions:!showExtendedColumns,pageIndex:pageIndex,pageSize:pageSize,pageSizeOptions:[Math.floor(Math.max(defaultPageSize,1)/2),defaultPageSize,defaultPageSize*2],totalItemCount:totalSearchResultsCount};var sorting={sort:{field:sortField,direction:sortDirection}};var selection={selectable:function selectable(timelineResult){return timelineResult.savedObjectId!=null},selectableMessage:function selectableMessage(selectable){return!selectable?i18n.MISSING_SAVED_OBJECT_ID:undefined},onSelectionChange:onSelectionChange};return _react.default.createElement(BasicTable,{columns:getTimelinesTableColumns({actionTimelineToShow:actionTimelineToShow,deleteTimelines:deleteTimelines,itemIdToExpandedNotesRowMap:itemIdToExpandedNotesRowMap,onOpenTimeline:onOpenTimeline,onToggleShowNotes:onToggleShowNotes,showExtendedColumns:showExtendedColumns}),compressed:true,"data-test-subj":"timelines-table",isExpandable:true,isSelectable:actionTimelineToShow.includes("selectable"),itemId:"savedObjectId",itemIdToExpandedRowMap:itemIdToExpandedNotesRowMap,items:searchResults,loading:isLoading,noItemsMessage:i18n.ZERO_TIMELINES_MATCH,onChange:onTableChange,pagination:pagination,selection:actionTimelineToShow.includes("selectable")?selection:undefined,sorting:sorting})}));exports.TimelinesTable=TimelinesTable;TimelinesTable.displayName="TimelinesTable"},7574:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMaybeDate=void 0;var _fp=__webpack_require__(223);var _moment=_interopRequireDefault(__webpack_require__(13));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getMaybeDate=function getMaybeDate(value){if((0,_fp.isString)(value)&&value.trim()!==""){var maybeDate=(0,_moment.default)(new Date(value));if(maybeDate.isValid()||isNaN(+value)){return maybeDate}else{return(0,_moment.default)(new Date(+value))}}else{return(0,_moment.default)(new Date(value))}};exports.getMaybeDate=getMaybeDate},7575:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TitleRow=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var i18n=_interopRequireWildcard(__webpack_require__(7049));var _header_section=__webpack_require__(7050);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TitleRow=_react.default.memo((function(_ref){var onAddTimelinesToFavorites=_ref.onAddTimelinesToFavorites,onDeleteSelected=_ref.onDeleteSelected,selectedTimelinesCount=_ref.selectedTimelinesCount,title=_ref.title;return _react.default.createElement(_header_section.HeaderSection,{title:title},(onAddTimelinesToFavorites||onDeleteSelected)&&_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",responsive:false},onAddTimelinesToFavorites&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{"data-test-subj":"favorite-selected",iconSide:"left",iconType:"starEmptySpace",isDisabled:selectedTimelinesCount===0,onClick:onAddTimelinesToFavorites},i18n.FAVORITE_SELECTED)),onDeleteSelected&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{"data-test-subj":"delete-selected",iconSide:"left",iconType:"trash",isDisabled:selectedTimelinesCount===0,onClick:onDeleteSelected},i18n.DELETE_SELECTED))))}));exports.TitleRow=TitleRow;TitleRow.displayName="TitleRow"},7576:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.REQUEST_TIMESTAMP_DESC=exports.REQUEST_TIMESTAMP=exports.QUERY_TIME_DESC=exports.QUERY_TIME=exports.INDEX_PATTERN_DESC=exports.INDEX_PATTERN=exports.SOMETHING_WENT_WRONG=exports.CLOSE=exports.INSPECT=void 0;var _i18n=__webpack_require__(2);var INSPECT=_i18n.i18n.translate("xpack.siem.inspectDescription",{defaultMessage:"Inspect"});exports.INSPECT=INSPECT;var CLOSE=_i18n.i18n.translate("xpack.siem.inspect.modal.closeTitle",{defaultMessage:"Close"});exports.CLOSE=CLOSE;var SOMETHING_WENT_WRONG=_i18n.i18n.translate("xpack.siem.inspect.modal.somethingWentWrongDescription",{defaultMessage:"Sorry about that, something went wrong."});exports.SOMETHING_WENT_WRONG=SOMETHING_WENT_WRONG;var INDEX_PATTERN=_i18n.i18n.translate("xpack.siem.inspect.modal.indexPatternLabel",{defaultMessage:"Index pattern"});exports.INDEX_PATTERN=INDEX_PATTERN;var INDEX_PATTERN_DESC=_i18n.i18n.translate("xpack.siem.inspect.modal.indexPatternDescription",{defaultMessage:"The index pattern that connected to the Elasticsearch indices. These indices can be configured in Kibana > Advanced Settings."});exports.INDEX_PATTERN_DESC=INDEX_PATTERN_DESC;var QUERY_TIME=_i18n.i18n.translate("xpack.siem.inspect.modal.queryTimeLabel",{defaultMessage:"Query time"});exports.QUERY_TIME=QUERY_TIME;var QUERY_TIME_DESC=_i18n.i18n.translate("xpack.siem.inspect.modal.queryTimeDescription",{defaultMessage:"The time it took to process the query. Does not include the time to send the request or parse it in the browser."});exports.QUERY_TIME_DESC=QUERY_TIME_DESC;var REQUEST_TIMESTAMP=_i18n.i18n.translate("xpack.siem.inspect.modal.reqTimestampLabel",{defaultMessage:"Request timestamp"});exports.REQUEST_TIMESTAMP=REQUEST_TIMESTAMP;var REQUEST_TIMESTAMP_DESC=_i18n.i18n.translate("xpack.siem.inspect.modal.reqTimestampDescription",{defaultMessage:"Time when the start of the request has been logged"});exports.REQUEST_TIMESTAMP_DESC=REQUEST_TIMESTAMP_DESC},7577:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Subtitle=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireWildcard(__webpack_require__(30));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Wrapper=_styledComponents.default.div.withConfig({displayName:"Wrapper",componentId:"sc-8bh6h2-0"})(["",""],(function(_ref){var theme=_ref.theme;return(0,_styledComponents.css)(["margin-top:",";.siemSubtitle__item{color:",";font-size:",";line-height:",";@media only screen and (min-width:","){display:inline-block;margin-right:",";&:last-child{margin-right:0;}}}"],theme.eui.euiSizeS,theme.eui.textColors.subdued,theme.eui.euiFontSizeXS,theme.eui.euiLineHeight,theme.eui.euiBreakpoints.s,theme.eui.euiSize)}));Wrapper.displayName="Wrapper";var SubtitleItem=_react.default.memo((function(_ref2){var children=_ref2.children,_ref2$dataTestSubj=_ref2.dataTestSubj,dataTestSubj=_ref2$dataTestSubj===void 0?"header-panel-subtitle":_ref2$dataTestSubj;if(typeof children==="string"){return _react.default.createElement("p",{className:"siemSubtitle__item siemSubtitle__item--text","data-test-subj":dataTestSubj},children)}else{return _react.default.createElement("div",{className:"siemSubtitle__item siemSubtitle__item--node","data-test-subj":dataTestSubj},children)}}));SubtitleItem.displayName="SubtitleItem";var Subtitle=_react.default.memo((function(_ref3){var items=_ref3.items;return _react.default.createElement(Wrapper,{className:"siemSubtitle"},Array.isArray(items)?items.map((function(item,i){return _react.default.createElement(SubtitleItem,{key:i},item)})):_react.default.createElement(SubtitleItem,null,items))}));exports.Subtitle=Subtitle;Subtitle.displayName="Subtitle"},7578:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.kqlQuerySelector=exports.queriesSelector=exports.isLoadingSelector=exports.toStrSelector=exports.fromStrSelector=exports.endSelector=exports.startSelector=exports.kindSelector=exports.durationSelector=exports.policySelector=exports.getQueries=exports.getTimerange=exports.getPolicy=void 0;var _reselect=__webpack_require__(151);var getPolicy=function getPolicy(inputState){return inputState.policy};exports.getPolicy=getPolicy;var getTimerange=function getTimerange(inputState){return inputState.timerange};exports.getTimerange=getTimerange;var getQueries=function getQueries(inputState){return inputState.queries};exports.getQueries=getQueries;var policySelector=function policySelector(){return(0,_reselect.createSelector)(getPolicy,(function(policy){return policy.kind}))};exports.policySelector=policySelector;var durationSelector=function durationSelector(){return(0,_reselect.createSelector)(getPolicy,(function(policy){return policy.duration}))};exports.durationSelector=durationSelector;var kindSelector=function kindSelector(){return(0,_reselect.createSelector)(getTimerange,(function(timerange){return timerange.kind}))};exports.kindSelector=kindSelector;var startSelector=function startSelector(){return(0,_reselect.createSelector)(getTimerange,(function(timerange){return timerange.from}))};exports.startSelector=startSelector;var endSelector=function endSelector(){return(0,_reselect.createSelector)(getTimerange,(function(timerange){return timerange.to}))};exports.endSelector=endSelector;var fromStrSelector=function fromStrSelector(){return(0,_reselect.createSelector)(getTimerange,(function(timerange){return timerange.fromStr}))};exports.fromStrSelector=fromStrSelector;var toStrSelector=function toStrSelector(){return(0,_reselect.createSelector)(getTimerange,(function(timerange){return timerange.toStr}))};exports.toStrSelector=toStrSelector;var isLoadingSelector=function isLoadingSelector(){return(0,_reselect.createSelector)(getQueries,(function(queries){return queries.some((function(i){return i.loading===true}))}))};exports.isLoadingSelector=isLoadingSelector;var queriesSelector=function queriesSelector(){return(0,_reselect.createSelector)(getQueries,(function(queries){return queries.filter((function(q){return q.id!=="kql"}))}))};exports.queriesSelector=queriesSelector;var kqlQuerySelector=function kqlQuerySelector(){return(0,_reselect.createSelector)(getQueries,(function(queries){return queries.find((function(q){return q.id==="kql"}))}))};exports.kqlQuerySelector=kqlQuerySelector},7579:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.navTabs=void 0;var _link_to=__webpack_require__(7090);var i18n=_interopRequireWildcard(__webpack_require__(8677));var _types=__webpack_require__(7030);var _navTabs;function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var navTabs=(_navTabs={},_defineProperty(_navTabs,_types.SiemPageName.overview,{id:_types.SiemPageName.overview,name:i18n.OVERVIEW,href:(0,_link_to.getOverviewUrl)(),disabled:false,urlKey:"overview"}),_defineProperty(_navTabs,_types.SiemPageName.hosts,{id:_types.SiemPageName.hosts,name:i18n.HOSTS,href:(0,_link_to.getHostsUrl)(),disabled:false,urlKey:"host"}),_defineProperty(_navTabs,_types.SiemPageName.network,{id:_types.SiemPageName.network,name:i18n.NETWORK,href:(0,_link_to.getNetworkUrl)(),disabled:false,urlKey:"network"}),_defineProperty(_navTabs,_types.SiemPageName.detections,{id:_types.SiemPageName.detections,name:i18n.DETECTION_ENGINE,href:(0,_link_to.getDetectionEngineUrl)(),disabled:false,urlKey:"detections"}),_defineProperty(_navTabs,_types.SiemPageName.timelines,{id:_types.SiemPageName.timelines,name:i18n.TIMELINES,href:(0,_link_to.getTimelinesUrl)(),disabled:false,urlKey:"timeline"}),_navTabs);exports.navTabs=navTabs},7580:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getOverviewUrl=exports.RedirectToOverviewPage=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _redirect_wrapper=__webpack_require__(7148);var _types=__webpack_require__(7030);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RedirectToOverviewPage=function RedirectToOverviewPage(_ref){var search=_ref.location.search;return _react.default.createElement(_redirect_wrapper.RedirectWrapper,{to:"/".concat(_types.SiemPageName.overview).concat(search)})};exports.RedirectToOverviewPage=RedirectToOverviewPage;var getOverviewUrl=function getOverviewUrl(){return"#/link-to/".concat(_types.SiemPageName.overview)};exports.getOverviewUrl=getOverviewUrl},7581:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTimelinesUrl=exports.RedirectToTimelinesPage=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _redirect_wrapper=__webpack_require__(7148);var _types=__webpack_require__(7030);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RedirectToTimelinesPage=function RedirectToTimelinesPage(_ref){var search=_ref.location.search;return _react.default.createElement(_redirect_wrapper.RedirectWrapper,{to:"/".concat(_types.SiemPageName.timelines).concat(search)})};exports.RedirectToTimelinesPage=RedirectToTimelinesPage;var getTimelinesUrl=function getTimelinesUrl(){return"#/link-to/".concat(_types.SiemPageName.timelines)};exports.getTimelinesUrl=getTimelinesUrl},7582:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseJsonFromBody=void 0;var parseJsonFromBody=function parseJsonFromBody(response){var text;return regeneratorRuntime.async((function parseJsonFromBody$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return regeneratorRuntime.awrap(response.text());case 3:text=_context.sent;return _context.abrupt("return",JSON.parse(text));case 7:_context.prev=7;_context.t0=_context["catch"](0);return _context.abrupt("return",null);case 10:case"end":return _context.stop()}}}),null,null,[[0,7]])};exports.parseJsonFromBody=parseJsonFromBody},7583:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INDEX_PATTERN_FETCH_FAILURE=exports.NETWORK_ERROR=exports.STATUS_CODE=void 0;var _i18n=__webpack_require__(2);var STATUS_CODE=_i18n.i18n.translate("xpack.siem.components.ml.api.errors.statusCodeFailureTitle",{defaultMessage:"Status Code:"});exports.STATUS_CODE=STATUS_CODE;var NETWORK_ERROR=_i18n.i18n.translate("xpack.siem.components.ml.api.errors.networkErrorFailureTitle",{defaultMessage:"Network Error:"});exports.NETWORK_ERROR=NETWORK_ERROR;var INDEX_PATTERN_FETCH_FAILURE=_i18n.i18n.translate("xpack.siem.components.mlPopup.hooks.errors.indexPatternFetchFailureTitle",{defaultMessage:"Index pattern fetch failure"});exports.INDEX_PATTERN_FETCH_FAILURE=INDEX_PATTERN_FETCH_FAILURE},7584:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getJobsSummary=exports.stopDatafeeds=exports.startDatafeeds=exports.setupMlJob=exports.getModules=exports.checkRecognizer=void 0;var _chrome=_interopRequireDefault(__webpack_require__(8));var _throw_if_not_ok=__webpack_require__(7316);var _api=__webpack_require__(7106);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var checkRecognizer=function checkRecognizer(_ref){var indexPatternName,signal,response;return regeneratorRuntime.async((function checkRecognizer$(_context){while(1){switch(_context.prev=_context.next){case 0:indexPatternName=_ref.indexPatternName,signal=_ref.signal;_context.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath(),"/api/ml/modules/recognize/").concat(indexPatternName),{method:"GET",credentials:"same-origin",headers:{"content-type":"application/json","kbn-system-api":"true","kbn-xsrf":"true"},signal:signal}));case 3:response=_context.sent;_context.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:return _context.abrupt("return",response.json());case 7:case"end":return _context.stop()}}}))};exports.checkRecognizer=checkRecognizer;var getModules=function getModules(_ref2){var _ref2$moduleId,moduleId,signal,response;return regeneratorRuntime.async((function getModules$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_ref2$moduleId=_ref2.moduleId,moduleId=_ref2$moduleId===void 0?"":_ref2$moduleId,signal=_ref2.signal;_context2.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath(),"/api/ml/modules/get_module/").concat(moduleId),{method:"GET",credentials:"same-origin",headers:{"content-type":"application/json","kbn-system-api":"true","kbn-xsrf":"true"},signal:signal}));case 3:response=_context2.sent;_context2.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:return _context2.abrupt("return",response.json());case 7:case"end":return _context2.stop()}}}))};exports.getModules=getModules;var setupMlJob=function setupMlJob(_ref3){var configTemplate,_ref3$indexPatternNam,indexPatternName,_ref3$jobIdErrorFilte,jobIdErrorFilter,_ref3$groups,groups,_ref3$prefix,prefix,response,json;return regeneratorRuntime.async((function setupMlJob$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:configTemplate=_ref3.configTemplate,_ref3$indexPatternNam=_ref3.indexPatternName,indexPatternName=_ref3$indexPatternNam===void 0?"auditbeat-*":_ref3$indexPatternNam,_ref3$jobIdErrorFilte=_ref3.jobIdErrorFilter,jobIdErrorFilter=_ref3$jobIdErrorFilte===void 0?[]:_ref3$jobIdErrorFilte,_ref3$groups=_ref3.groups,groups=_ref3$groups===void 0?["siem"]:_ref3$groups,_ref3$prefix=_ref3.prefix,prefix=_ref3$prefix===void 0?"":_ref3$prefix;_context3.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath(),"/api/ml/modules/setup/").concat(configTemplate),{method:"POST",credentials:"same-origin",body:JSON.stringify({prefix:prefix,groups:groups,indexPatternName:indexPatternName,startDatafeed:false,useDedicatedIndex:true}),headers:{"content-type":"application/json","kbn-system-api":"true","kbn-xsrf":"true"}}));case 3:response=_context3.sent;_context3.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:_context3.next=8;return regeneratorRuntime.awrap(response.json());case 8:json=_context3.sent;(0,_throw_if_not_ok.throwIfErrorAttachedToSetup)(json,jobIdErrorFilter);return _context3.abrupt("return",json);case 11:case"end":return _context3.stop()}}}))};exports.setupMlJob=setupMlJob;var startDatafeeds=function startDatafeeds(_ref4){var datafeedIds,_ref4$start,start,response,json;return regeneratorRuntime.async((function startDatafeeds$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:datafeedIds=_ref4.datafeedIds,_ref4$start=_ref4.start,start=_ref4$start===void 0?0:_ref4$start;_context4.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath(),"/api/ml/jobs/force_start_datafeeds"),{method:"POST",credentials:"same-origin",body:JSON.stringify(_objectSpread({datafeedIds:datafeedIds},start!==0&&{start:start})),headers:{"content-type":"application/json","kbn-system-api":"true","kbn-xsrf":"true"}}));case 3:response=_context4.sent;_context4.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:_context4.next=8;return regeneratorRuntime.awrap(response.json());case 8:json=_context4.sent;(0,_throw_if_not_ok.throwIfErrorAttached)(json,datafeedIds);return _context4.abrupt("return",json);case 11:case"end":return _context4.stop()}}}))};exports.startDatafeeds=startDatafeeds;var stopDatafeeds=function stopDatafeeds(_ref5){var datafeedIds,stopDatafeedsResponse,stopDatafeedsResponseJson,datafeedPrefix,closeJobsResponse;return regeneratorRuntime.async((function stopDatafeeds$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:datafeedIds=_ref5.datafeedIds;_context5.next=3;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath(),"/api/ml/jobs/stop_datafeeds"),{method:"POST",credentials:"same-origin",body:JSON.stringify({datafeedIds:datafeedIds}),headers:{"content-type":"application/json","kbn-system-api":"true","kbn-xsrf":"true"}}));case 3:stopDatafeedsResponse=_context5.sent;_context5.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(stopDatafeedsResponse));case 6:_context5.next=8;return regeneratorRuntime.awrap(stopDatafeedsResponse.json());case 8:stopDatafeedsResponseJson=_context5.sent;datafeedPrefix="datafeed-";_context5.next=12;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath(),"/api/ml/jobs/close_jobs"),{method:"POST",credentials:"same-origin",body:JSON.stringify({jobIds:datafeedIds.map((function(dataFeedId){return dataFeedId.startsWith(datafeedPrefix)?dataFeedId.substring(datafeedPrefix.length):dataFeedId}))}),headers:{"content-type":"application/json","kbn-system-api":"true","kbn-xsrf":"true"}}));case 12:closeJobsResponse=_context5.sent;_context5.next=15;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(closeJobsResponse));case 15:_context5.t0=stopDatafeedsResponseJson;_context5.next=18;return regeneratorRuntime.awrap(closeJobsResponse.json());case 18:_context5.t1=_context5.sent;return _context5.abrupt("return",[_context5.t0,_context5.t1]);case 20:case"end":return _context5.stop()}}}))};exports.stopDatafeeds=stopDatafeeds;var getJobsSummary=function getJobsSummary(signal){var response;return regeneratorRuntime.async((function getJobsSummary$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath(),"/api/ml/jobs/jobs_summary"),{method:"POST",credentials:"same-origin",body:JSON.stringify({}),headers:{"content-type":"application/json","kbn-system-api":"true","kbn-xsrf":"true"},signal:signal}));case 2:response=_context6.sent;_context6.next=5;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 5:return _context6.abrupt("return",response.json());case 6:case"end":return _context6.stop()}}}))};exports.getJobsSummary=getJobsSummary},7585:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SHOW_CUSTOM_JOBS=exports.SHOW_ELASTIC_JOBS=exports.NO_GROUPS_AVAILABLE=exports.GROUPS=exports.FILTER_PLACEHOLDER=void 0;var _i18n=__webpack_require__(2);var FILTER_PLACEHOLDER=_i18n.i18n.translate("xpack.siem.components.mlPopover.jobsTable.filters.searchFilterPlaceholder",{defaultMessage:"e.g. rare_process_linux"});exports.FILTER_PLACEHOLDER=FILTER_PLACEHOLDER;var GROUPS=_i18n.i18n.translate("xpack.siem.components.mlPopover.jobsTable.filters.groupsLabel",{defaultMessage:"Groups"});exports.GROUPS=GROUPS;var NO_GROUPS_AVAILABLE=_i18n.i18n.translate("xpack.siem.components.mlPopover.jobsTable.filters.noGroupsAvailableDescription",{defaultMessage:"No Groups available"});exports.NO_GROUPS_AVAILABLE=NO_GROUPS_AVAILABLE;var SHOW_ELASTIC_JOBS=_i18n.i18n.translate("xpack.siem.components.mlPopover.jobsTable.filters.showAllJobsLabel",{defaultMessage:"Elastic jobs"});exports.SHOW_ELASTIC_JOBS=SHOW_ELASTIC_JOBS;var SHOW_CUSTOM_JOBS=_i18n.i18n.translate("xpack.siem.components.mlPopover.jobsTable.filters.showSiemJobsLabel",{defaultMessage:"Custom jobs"});exports.SHOW_CUSTOM_JOBS=SHOW_CUSTOM_JOBS},7586:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toggleSelectedGroup=void 0;function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var toggleSelectedGroup=function toggleSelectedGroup(group,selectedGroups,setSelectedGroups){var selectedGroupIndex=selectedGroups.indexOf(group);var updatedSelectedGroups=_toConsumableArray(selectedGroups);if(selectedGroupIndex>=0){updatedSelectedGroups.splice(selectedGroupIndex,1)}else{updatedSelectedGroups.push(group)}setSelectedGroups(updatedSelectedGroups)};exports.toggleSelectedGroup=toggleSelectedGroup},7587:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CREATE_JOB_FAILURE=exports.STOP_JOB_FAILURE=exports.START_JOB_FAILURE=exports.MODULE_NOT_COMPATIBLE_TITLE=exports.LICENSE_BUTTON=exports.UPGRADE_BUTTON=exports.UPGRADE_TITLE=exports.ANOMALY_DETECTION_TITLE=exports.ANOMALY_DETECTION=void 0;var _i18n=__webpack_require__(2);var ANOMALY_DETECTION=_i18n.i18n.translate("xpack.siem.components.mlPopup.anomalyDetectionButtonLabel",{defaultMessage:"Anomaly detection"});exports.ANOMALY_DETECTION=ANOMALY_DETECTION;var ANOMALY_DETECTION_TITLE=_i18n.i18n.translate("xpack.siem.components.mlPopup.anomalyDetectionTitle",{defaultMessage:"Anomaly detection settings"});exports.ANOMALY_DETECTION_TITLE=ANOMALY_DETECTION_TITLE;var UPGRADE_TITLE=_i18n.i18n.translate("xpack.siem.components.mlPopup.upgradeTitle",{defaultMessage:"Upgrade to Elastic Platinum"});exports.UPGRADE_TITLE=UPGRADE_TITLE;var UPGRADE_BUTTON=_i18n.i18n.translate("xpack.siem.components.mlPopup.upgradeButtonLabel",{defaultMessage:"Subscription plans"});exports.UPGRADE_BUTTON=UPGRADE_BUTTON;var LICENSE_BUTTON=_i18n.i18n.translate("xpack.siem.components.mlPopup.licenseButtonLabel",{defaultMessage:"Manage license"});exports.LICENSE_BUTTON=LICENSE_BUTTON;var MODULE_NOT_COMPATIBLE_TITLE=function MODULE_NOT_COMPATIBLE_TITLE(incompatibleJobCount){return _i18n.i18n.translate("xpack.siem.components.mlPopup.moduleNotCompatibleTitle",{values:{incompatibleJobCount:incompatibleJobCount},defaultMessage:"{incompatibleJobCount} {incompatibleJobCount, plural, =1 {job} other {jobs}} are currently unavailable"})};exports.MODULE_NOT_COMPATIBLE_TITLE=MODULE_NOT_COMPATIBLE_TITLE;var START_JOB_FAILURE=_i18n.i18n.translate("xpack.siem.components.mlPopup.errors.startJobFailureTitle",{defaultMessage:"Start job failure"});exports.START_JOB_FAILURE=START_JOB_FAILURE;var STOP_JOB_FAILURE=_i18n.i18n.translate("xpack.siem.containers.errors.stopJobFailureTitle",{defaultMessage:"Stop job failure"});exports.STOP_JOB_FAILURE=STOP_JOB_FAILURE;var CREATE_JOB_FAILURE=_i18n.i18n.translate("xpack.siem.components.mlPopup.errors.createJobFailureTitle",{defaultMessage:"Create job failure"});exports.CREATE_JOB_FAILURE=CREATE_JOB_FAILURE},7588:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RouterSpyStateContext=exports.initRouteSpy=void 0;var _fp=__webpack_require__(223);var _react=__webpack_require__(0);var initRouteSpy={pageName:"",detailName:undefined,tabName:undefined,search:"",pathName:"/",state:undefined};exports.initRouteSpy=initRouteSpy;var RouterSpyStateContext=(0,_react.createContext)([initRouteSpy,function(){return _fp.noop}]);exports.RouterSpyStateContext=RouterSpyStateContext},7589:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"getBreadcrumbs",{enumerable:true,get:function get(){return _utils.getBreadcrumbs}});exports.IPDetails=exports.IPDetailsComponent=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _reactSticky=__webpack_require__(1001);var _filters_global=__webpack_require__(7107);var _header_page=__webpack_require__(7130);var _last_event_time=__webpack_require__(7203);var _anomaly_table_provider=__webpack_require__(7592);var _network_to_criteria=__webpack_require__(8707);var _score_interval_to_datetime=__webpack_require__(7152);var _anomalies_network_table=__webpack_require__(7593);var _manage_query=__webpack_require__(7028);var _flow_target_select_connected=__webpack_require__(8713);var _ip_overview=__webpack_require__(7599);var _search_bar=__webpack_require__(7079);var _wrapper_page=__webpack_require__(7054);var _ip_overview2=__webpack_require__(8722);var _source=__webpack_require__(7042);var _types=__webpack_require__(671);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(7061);var _keury=__webpack_require__(1885);var _conditional_flex_group=__webpack_require__(7601);var _store=__webpack_require__(7016);var _actions=__webpack_require__(984);var _actions2=__webpack_require__(1077);var _spy_routes=__webpack_require__(7057);var _network_empty_page=__webpack_require__(7602);var _network_http_query_table=__webpack_require__(8724);var _network_top_countries_query_table=__webpack_require__(8728);var _network_top_n_flow_query_table=__webpack_require__(8733);var _tls_query_table=__webpack_require__(8736);var _users_query_table=__webpack_require__(8739);var _anomalies_query_tab_body=__webpack_require__(7207);var _public=__webpack_require__(11);var _utils=__webpack_require__(8750);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var IpOverviewManage=(0,_manage_query.manageQuery)(_ip_overview.IpOverview);var IPDetailsComponent=function IPDetailsComponent(_ref){var detailName=_ref.detailName,filters=_ref.filters,flowTarget=_ref.flowTarget,from=_ref.from,isInitializing=_ref.isInitializing,query=_ref.query,setAbsoluteRangeDatePicker=_ref.setAbsoluteRangeDatePicker,setIpDetailsTablesActivePageToZero=_ref.setIpDetailsTablesActivePageToZero,setQuery=_ref.setQuery,to=_ref.to;var type=_store.networkModel.NetworkType.details;var narrowDateRange=(0,_react.useCallback)((function(score,interval){var fromTo=(0,_score_interval_to_datetime.scoreIntervalToDateTime)(score,interval);setAbsoluteRangeDatePicker({id:"global",from:fromTo.from,to:fromTo.to})}),[setAbsoluteRangeDatePicker]);var kibana=(0,_kibana.useKibana)();(0,_react.useEffect)((function(){setIpDetailsTablesActivePageToZero(null)}),[detailName,setIpDetailsTablesActivePageToZero]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_source.WithSource,{sourceId:"default","data-test-subj":"ip-details-page"},(function(_ref2){var indicesExist=_ref2.indicesExist,indexPattern=_ref2.indexPattern;var ip=(0,_helpers.decodeIpv6)(detailName);var filterQuery=(0,_keury.convertToBuildEsQuery)({config:_public.esQuery.getEsQueryConfig(kibana.services.uiSettings),indexPattern:indexPattern,queries:[query],filters:filters});return(0,_source.indicesExistOrDataTemporarilyUnavailable)(indicesExist)?_react.default.createElement(_reactSticky.StickyContainer,null,_react.default.createElement(_filters_global.FiltersGlobal,null,_react.default.createElement(_search_bar.SiemSearchBar,{indexPattern:indexPattern,id:"global"})),_react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_header_page.HeaderPage,{border:true,"data-test-subj":"ip-details-headline",draggableArguments:{field:"".concat(flowTarget,".ip"),value:ip},subtitle:_react.default.createElement(_last_event_time.LastEventTime,{indexKey:_types.LastEventIndexKey.ipDetails,ip:ip}),title:ip},_react.default.createElement(_flow_target_select_connected.FlowTargetSelectConnected,{flowTarget:flowTarget})),_react.default.createElement(_ip_overview2.IpOverviewQuery,{skip:isInitializing,sourceId:"default",filterQuery:filterQuery,type:type,ip:ip},(function(_ref3){var id=_ref3.id,inspect=_ref3.inspect,ipOverviewData=_ref3.ipOverviewData,loading=_ref3.loading,refetch=_ref3.refetch;return _react.default.createElement(_anomaly_table_provider.AnomalyTableProvider,{criteriaFields:(0,_network_to_criteria.networkToCriteria)(detailName,flowTarget),startDate:from,endDate:to,skip:isInitializing},(function(_ref4){var isLoadingAnomaliesData=_ref4.isLoadingAnomaliesData,anomaliesData=_ref4.anomaliesData;return _react.default.createElement(IpOverviewManage,{id:id,inspect:inspect,ip:ip,data:ipOverviewData,anomaliesData:anomaliesData,loading:loading,isLoadingAnomaliesData:isLoadingAnomaliesData,type:type,flowTarget:flowTarget,refetch:refetch,setQuery:setQuery,startDate:from,endDate:to,narrowDateRange:narrowDateRange})}))})),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_conditional_flex_group.ConditionalFlexGroup,{direction:"column"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_network_top_n_flow_query_table.NetworkTopNFlowQueryTable,{endDate:to,filterQuery:filterQuery,flowTarget:_types.FlowTargetSourceDest.source,ip:ip,skip:isInitializing,startDate:from,type:type,setQuery:setQuery,indexPattern:indexPattern})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_network_top_n_flow_query_table.NetworkTopNFlowQueryTable,{endDate:to,flowTarget:_types.FlowTargetSourceDest.destination,filterQuery:filterQuery,ip:ip,skip:isInitializing,startDate:from,type:type,setQuery:setQuery,indexPattern:indexPattern}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_conditional_flex_group.ConditionalFlexGroup,{direction:"column"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_network_top_countries_query_table.NetworkTopCountriesQueryTable,{endDate:to,filterQuery:filterQuery,flowTarget:_types.FlowTargetSourceDest.source,ip:ip,skip:isInitializing,startDate:from,type:type,setQuery:setQuery,indexPattern:indexPattern})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_network_top_countries_query_table.NetworkTopCountriesQueryTable,{endDate:to,flowTarget:_types.FlowTargetSourceDest.destination,filterQuery:filterQuery,ip:ip,skip:isInitializing,startDate:from,type:type,setQuery:setQuery,indexPattern:indexPattern}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_users_query_table.UsersQueryTable,{endDate:to,filterQuery:filterQuery,flowTarget:flowTarget,ip:ip,skip:isInitializing,startDate:from,type:type,setQuery:setQuery}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_network_http_query_table.NetworkHttpQueryTable,{endDate:to,filterQuery:filterQuery,ip:ip,skip:isInitializing,startDate:from,type:type,setQuery:setQuery}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_tls_query_table.TlsQueryTable,{endDate:to,filterQuery:filterQuery,flowTarget:flowTarget,ip:ip,setQuery:setQuery,skip:isInitializing,startDate:from,type:type}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_anomalies_query_tab_body.AnomaliesQueryTabBody,{filterQuery:filterQuery,setQuery:setQuery,startDate:from,endDate:to,skip:isInitializing,ip:ip,type:type,flowTarget:flowTarget,narrowDateRange:narrowDateRange,hideHistogramIfEmpty:true,AnomaliesTableComponent:_anomalies_network_table.AnomaliesNetworkTable}))):_react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_header_page.HeaderPage,{border:true,title:ip}),_react.default.createElement(_network_empty_page.NetworkEmptyPage,null))})),_react.default.createElement(_spy_routes.SpyRoute,null))};exports.IPDetailsComponent=IPDetailsComponent;IPDetailsComponent.displayName="IPDetailsComponent";var makeMapStateToProps=function makeMapStateToProps(){var getGlobalQuerySelector=_store.inputsSelectors.globalQuerySelector();var getGlobalFiltersQuerySelector=_store.inputsSelectors.globalFiltersQuerySelector();return function(state){return{query:getGlobalQuerySelector(state),filters:getGlobalFiltersQuerySelector(state)}}};var IPDetails=(0,_reactRedux.connect)(makeMapStateToProps,{setAbsoluteRangeDatePicker:_actions.setAbsoluteRangeDatePicker,setIpDetailsTablesActivePageToZero:_actions2.setIpDetailsTablesActivePageToZero})(_react.default.memo(IPDetailsComponent));exports.IPDetails=IPDetails},7590:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SELECT_AN_OPERATOR=exports.VALUE_LABEL=exports.VALUE=exports.SAVE=exports.OPERATOR=exports.IS_NOT=exports.IS=exports.FIELD_PLACEHOLDER=exports.FIELD=exports.EXISTS=exports.DOES_NOT_EXIST=void 0;var _i18n=__webpack_require__(2);var DOES_NOT_EXIST=_i18n.i18n.translate("xpack.siem.editDataProvider.doesNotExistLabel",{defaultMessage:"does not exist"});exports.DOES_NOT_EXIST=DOES_NOT_EXIST;var EXISTS=_i18n.i18n.translate("xpack.siem.editDataProvider.existsLabel",{defaultMessage:"exists"});exports.EXISTS=EXISTS;var FIELD=_i18n.i18n.translate("xpack.siem.editDataProvider.fieldLabel",{defaultMessage:"Field"});exports.FIELD=FIELD;var FIELD_PLACEHOLDER=_i18n.i18n.translate("xpack.siem.editDataProvider.fieldPlaceholder",{defaultMessage:"Select a field"});exports.FIELD_PLACEHOLDER=FIELD_PLACEHOLDER;var IS=_i18n.i18n.translate("xpack.siem.editDataProvider.isLabel",{defaultMessage:"is"});exports.IS=IS;var IS_NOT=_i18n.i18n.translate("xpack.siem.editDataProvider.isNotLabel",{defaultMessage:"is not"});exports.IS_NOT=IS_NOT;var OPERATOR=_i18n.i18n.translate("xpack.siem.editDataProvider.operatorLabel",{defaultMessage:"Operator"});exports.OPERATOR=OPERATOR;var SAVE=_i18n.i18n.translate("xpack.siem.editDataProvider.saveButton",{defaultMessage:"Save"});exports.SAVE=SAVE;var VALUE=_i18n.i18n.translate("xpack.siem.editDataProvider.valuePlaceholder",{defaultMessage:"value"});exports.VALUE=VALUE;var VALUE_LABEL=_i18n.i18n.translate("xpack.siem.editDataProvider.valueLabel",{defaultMessage:"Value"});exports.VALUE_LABEL=VALUE_LABEL;var SELECT_AN_OPERATOR=_i18n.i18n.translate("xpack.siem.editDataProvider.selectAnOperatorPlaceholder",{defaultMessage:"Select an operator"});exports.SELECT_AN_OPERATOR=SELECT_AN_OPERATOR},7591:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LinkIcon=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireWildcard(__webpack_require__(30));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var Link=(0,_styledComponents.default)((function(_ref){var iconSide=_ref.iconSide,children=_ref.children,rest=_objectWithoutProperties(_ref,["iconSide","children"]);return _react.default.createElement(_eui.EuiLink,rest,children)})).withConfig({displayName:"Link",componentId:"sc-1bmsy2l-0"})(["",""],(function(_ref2){var iconSide=_ref2.iconSide,theme=_ref2.theme;return(0,_styledComponents.css)(["align-items:center;display:inline-flex;vertical-align:top;white-space:nowrap;"," ",""],iconSide==="left"&&(0,_styledComponents.css)([".euiIcon{margin-right:",";}"],theme.eui.euiSizeXS),iconSide==="right"&&(0,_styledComponents.css)(["flex-direction:row-reverse;.euiIcon{margin-left:",";}"],theme.eui.euiSizeXS))}));Link.displayName="Link";var LinkIcon=_react.default.memo((function(_ref3){var children=_ref3.children,color=_ref3.color,disabled=_ref3.disabled,href=_ref3.href,_ref3$iconSide=_ref3.iconSide,iconSide=_ref3$iconSide===void 0?"left":_ref3$iconSide,_ref3$iconSize=_ref3.iconSize,iconSize=_ref3$iconSize===void 0?"s":_ref3$iconSize,iconType=_ref3.iconType,onClick=_ref3.onClick;return _react.default.createElement(Link,{className:"siemLinkIcon",color:color,disabled:disabled,href:href,iconSide:iconSide,onClick:onClick},_react.default.createElement(_eui.EuiIcon,{size:iconSize,type:iconType}),_react.default.createElement("span",{className:"siemLinkIcon__label"},children))}));exports.LinkIcon=LinkIcon;LinkIcon.displayName="LinkIcon"},7592:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnomalyTableProvider=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _use_anomalies_table_data=__webpack_require__(7321);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AnomalyTableProvider=_react.default.memo((function(_ref){var influencers=_ref.influencers,startDate=_ref.startDate,endDate=_ref.endDate,children=_ref.children,criteriaFields=_ref.criteriaFields,skip=_ref.skip;var _useAnomaliesTableDat=(0,_use_anomalies_table_data.useAnomaliesTableData)({criteriaFields:criteriaFields,influencers:influencers,startDate:startDate,endDate:endDate,skip:skip}),_useAnomaliesTableDat2=_slicedToArray(_useAnomaliesTableDat,2),isLoadingAnomaliesData=_useAnomaliesTableDat2[0],anomaliesData=_useAnomaliesTableDat2[1];return _react.default.createElement(_react.default.Fragment,null,children({isLoadingAnomaliesData:isLoadingAnomaliesData,anomaliesData:anomaliesData}))}));exports.AnomalyTableProvider=AnomalyTableProvider;AnomalyTableProvider.displayName="AnomalyTableProvider"},7593:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnomaliesNetworkTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _use_anomalies_table_data=__webpack_require__(7321);var _header_section=__webpack_require__(7050);var i18n=_interopRequireWildcard(__webpack_require__(7204));var _convert_anomalies_to_network=__webpack_require__(8708);var _loader=__webpack_require__(7091);var _get_anomalies_network_table_columns=__webpack_require__(8710);var _has_ml_user_permissions=__webpack_require__(7078);var _ml_capabilities_provider=__webpack_require__(7064);var _basic_table=__webpack_require__(7598);var _network_equality=__webpack_require__(8711);var _get_criteria_from_network_type=__webpack_require__(8712);var _panel=__webpack_require__(7154);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var sorting={sort:{field:"anomaly.severity",direction:"desc"}};var AnomaliesNetworkTableComponent=function AnomaliesNetworkTableComponent(_ref){var startDate=_ref.startDate,endDate=_ref.endDate,skip=_ref.skip,ip=_ref.ip,type=_ref.type,flowTarget=_ref.flowTarget;var capabilities=(0,_react.useContext)(_ml_capabilities_provider.MlCapabilitiesContext);var _useAnomaliesTableDat=(0,_use_anomalies_table_data.useAnomaliesTableData)({startDate:startDate,endDate:endDate,skip:skip,criteriaFields:(0,_get_criteria_from_network_type.getCriteriaFromNetworkType)(type,ip,flowTarget)}),_useAnomaliesTableDat2=_slicedToArray(_useAnomaliesTableDat,2),loading=_useAnomaliesTableDat2[0],tableData=_useAnomaliesTableDat2[1];var networks=(0,_convert_anomalies_to_network.convertAnomaliesToNetwork)(tableData,ip);var columns=(0,_get_anomalies_network_table_columns.getAnomaliesNetworkTableColumnsCurated)(type,startDate,endDate,flowTarget);var pagination={initialPageIndex:0,initialPageSize:10,totalItemCount:networks.length,pageSizeOptions:[5,10,20,50],hidePerPageOptions:false};if(!(0,_has_ml_user_permissions.hasMlUserPermissions)(capabilities)){return null}else{return _react.default.createElement(_panel.Panel,{loading:loading},_react.default.createElement(_header_section.HeaderSection,{subtitle:"".concat(i18n.SHOWING,": ").concat(pagination.totalItemCount.toLocaleString()," ").concat(i18n.UNIT(pagination.totalItemCount)),title:i18n.ANOMALIES,tooltip:i18n.TOOLTIP}),_react.default.createElement(_basic_table.BasicTable,{columns:columns,compressed:true,items:networks,pagination:pagination,sorting:sorting}),loading&&_react.default.createElement(_loader.Loader,{"data-test-subj":"anomalies-network-table-loading-panel",overlay:true,size:"xl"}))}};var AnomaliesNetworkTable=_react.default.memo(AnomaliesNetworkTableComponent,_network_equality.networkEquality);exports.AnomaliesNetworkTable=AnomaliesNetworkTable},7594:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isDestinationOrSource=void 0;var sourceOrDestination=["source.ip","destination.ip"];var isDestinationOrSource=function isDestinationOrSource(value){return value!=null&&sourceOrDestination.includes(value)};exports.isDestinationOrSource=isDestinationOrSource},7595:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EntityDraggable=exports.EntityDraggableComponent=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggable_wrapper=__webpack_require__(7032);var _data_provider=__webpack_require__(7024);var _provider=__webpack_require__(7051);var _helpers=__webpack_require__(7021);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EntityDraggableComponent=function EntityDraggableComponent(_ref){var idPrefix=_ref.idPrefix,entityName=_ref.entityName,entityValue=_ref.entityValue;var id=(0,_helpers.escapeDataProviderId)("entity-draggable-".concat(idPrefix,"-").concat(entityName,"-").concat(entityValue));return _react.default.createElement(_draggable_wrapper.DraggableWrapper,{key:id,dataProvider:{and:[],enabled:true,id:id,name:entityValue,excluded:false,kqlQuery:"",queryMatch:{field:entityName,value:entityValue,operator:_data_provider.IS_OPERATOR}},render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:dataProvider})):_react.default.createElement(_react.default.Fragment,null,"".concat(entityName,': "').concat(entityValue,'"'))}})};exports.EntityDraggableComponent=EntityDraggableComponent;EntityDraggableComponent.displayName="EntityDraggableComponent";var EntityDraggable=_react.default.memo(EntityDraggableComponent);exports.EntityDraggable=EntityDraggable;EntityDraggable.displayName="EntityDraggable"},7596:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createCompoundNetworkKey=exports.createCompoundHostKey=void 0;var createCompoundHostKey=function createCompoundHostKey(anomaliesByHost){return"".concat(anomaliesByHost.hostName,"-").concat(anomaliesByHost.anomaly.entityName,"-").concat(anomaliesByHost.anomaly.entityValue,"-").concat(anomaliesByHost.anomaly.severity,"-").concat(anomaliesByHost.anomaly.jobId)};exports.createCompoundHostKey=createCompoundHostKey;var createCompoundNetworkKey=function createCompoundNetworkKey(anomaliesByNetwork){return"".concat(anomaliesByNetwork.ip,"-").concat(anomaliesByNetwork.anomaly.entityName,"-").concat(anomaliesByNetwork.anomaly.entityValue,"-").concat(anomaliesByNetwork.anomaly.severity,"-").concat(anomaliesByNetwork.anomaly.jobId)};exports.createCompoundNetworkKey=createCompoundNetworkKey},7597:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSeverityColor=exports.ScoreHealth=exports.getScoreString=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getScoreString=function getScoreString(score){return String(Math.ceil(score))};exports.getScoreString=getScoreString;var ScoreHealth=_react.default.memo((function(_ref){var score=_ref.score;var scoreCeiling=getScoreString(score);var color=getSeverityColor(score);return _react.default.createElement(_eui.EuiHealth,{color:color},scoreCeiling)}));exports.ScoreHealth=ScoreHealth;ScoreHealth.displayName="ScoreHealth";var getSeverityColor=function getSeverityColor(normalizedScore){if(normalizedScore>=75){return"#fe5050"}else if(normalizedScore>=50){return"#fba740"}else if(normalizedScore>=25){return"#fdec25"}else if(normalizedScore>=3){return"#8bc8fb"}else if(normalizedScore>=0){return"#d2e9f7"}else{return"#ffffff"}};exports.getSeverityColor=getSeverityColor},7598:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BasicTable=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var BasicTable=(0,_styledComponents.default)(_eui.EuiInMemoryTable).withConfig({displayName:"BasicTable",componentId:"k4bnf-0"})(["tbody{th,td{vertical-align:top;}.euiTableCellContent{display:block;}}"]);exports.BasicTable=BasicTable;BasicTable.displayName="BasicTable"},7599:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IpOverview=void 0;var _eui=__webpack_require__(1);var _eui_theme_dark=_interopRequireDefault(__webpack_require__(50));var _eui_theme_light=_interopRequireDefault(__webpack_require__(18));var _react=_interopRequireWildcard(__webpack_require__(0));var _constants=__webpack_require__(977);var _kibana=__webpack_require__(7013);var _empty_value=__webpack_require__(7017);var _field_renderers=__webpack_require__(7205);var i18n=_interopRequireWildcard(__webpack_require__(7324));var _index=__webpack_require__(7055);var _loader=__webpack_require__(7091);var _anomaly_scores=__webpack_require__(7600);var _ml_capabilities_provider=__webpack_require__(7064);var _has_ml_user_permissions=__webpack_require__(7078);var _inspect=__webpack_require__(7063);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var getDescriptionList=function getDescriptionList(descriptionList,key){return _react.default.createElement(_eui.EuiFlexItem,{key:key},_react.default.createElement(_index.DescriptionListStyled,{listItems:descriptionList}))};var IpOverview=_react.default.memo((function(_ref){var id=_ref.id,ip=_ref.ip,data=_ref.data,loading=_ref.loading,flowTarget=_ref.flowTarget,startDate=_ref.startDate,endDate=_ref.endDate,isLoadingAnomaliesData=_ref.isLoadingAnomaliesData,anomaliesData=_ref.anomaliesData,narrowDateRange=_ref.narrowDateRange;var capabilities=(0,_react.useContext)(_ml_capabilities_provider.MlCapabilitiesContext);var userPermissions=(0,_has_ml_user_permissions.hasMlUserPermissions)(capabilities);var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_DARK_MODE),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),darkMode=_useUiSetting$2[0];var typeData=data[flowTarget];var column=[{title:i18n.LOCATION,description:(0,_field_renderers.locationRenderer)(["".concat(flowTarget,".geo.city_name"),"".concat(flowTarget,".geo.region_name")],data)},{title:i18n.AUTONOMOUS_SYSTEM,description:typeData?(0,_field_renderers.autonomousSystemRenderer)(typeData.autonomousSystem,flowTarget):(0,_empty_value.getEmptyTagValue)()}];var firstColumn=userPermissions?[].concat(column,[{title:i18n.MAX_ANOMALY_SCORE_BY_JOB,description:_react.default.createElement(_anomaly_scores.AnomalyScores,{anomalies:anomaliesData,startDate:startDate,endDate:endDate,isLoading:isLoadingAnomaliesData,narrowDateRange:narrowDateRange})}]):column;var descriptionLists=[firstColumn,[{title:i18n.FIRST_SEEN,description:typeData?(0,_field_renderers.dateRenderer)(typeData.firstSeen):(0,_empty_value.getEmptyTagValue)()},{title:i18n.LAST_SEEN,description:typeData?(0,_field_renderers.dateRenderer)(typeData.lastSeen):(0,_empty_value.getEmptyTagValue)()}],[{title:i18n.HOST_ID,description:typeData?(0,_field_renderers.hostIdRenderer)({host:data.host,ipFilter:ip}):(0,_empty_value.getEmptyTagValue)()},{title:i18n.HOST_NAME,description:typeData?(0,_field_renderers.hostNameRenderer)(data.host,ip):(0,_empty_value.getEmptyTagValue)()}],[{title:i18n.WHOIS,description:(0,_field_renderers.whoisRenderer)(ip)},{title:i18n.REPUTATION,description:(0,_field_renderers.reputationRenderer)(ip)}]];return _react.default.createElement(_inspect.InspectButtonContainer,null,_react.default.createElement(_index.OverviewWrapper,null,_react.default.createElement(_inspect.InspectButton,{queryId:id,title:i18n.INSPECT_TITLE,inspectIndex:0}),descriptionLists.map((function(descriptionList,index){return getDescriptionList(descriptionList,index)})),loading&&_react.default.createElement(_loader.Loader,{overlay:true,overlayBackground:darkMode?_eui_theme_dark.default.euiPageBackgroundColor:_eui_theme_light.default.euiPageBackgroundColor,size:"xl"})))}));exports.IpOverview=IpOverview;IpOverview.displayName="IpOverview"},7600:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnomalyScores=exports.AnomalyScoresComponent=exports.createJobKey=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _empty_value=__webpack_require__(7017);var _get_top_severity=__webpack_require__(8716);var _anomaly_score=__webpack_require__(8717);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var createJobKey=function createJobKey(score){return"".concat(score.jobId,"-").concat(score.severity,"-").concat(score.entityName,"-").concat(score.entityValue)};exports.createJobKey=createJobKey;var AnomalyScoresComponent=function AnomalyScoresComponent(_ref){var anomalies=_ref.anomalies,startDate=_ref.startDate,endDate=_ref.endDate,isLoading=_ref.isLoading,narrowDateRange=_ref.narrowDateRange,limit=_ref.limit;if(isLoading){return _react.default.createElement(_eui.EuiLoadingSpinner,{"data-test-subj":"anomaly-score-spinner",size:"m"})}else if(anomalies==null||anomalies.anomalies.length===0){return(0,_empty_value.getEmptyTagValue)()}else{return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",responsive:false},(0,_get_top_severity.getTopSeverityJobs)(anomalies.anomalies,limit).map((function(score,index){var jobKey=createJobKey(score);return _react.default.createElement(_anomaly_score.AnomalyScore,{key:jobKey,jobKey:jobKey,startDate:startDate,endDate:endDate,index:index,score:score,interval:anomalies.interval,narrowDateRange:narrowDateRange})}))))}};exports.AnomalyScoresComponent=AnomalyScoresComponent;AnomalyScoresComponent.displayName="AnomalyScoresComponent";var AnomalyScores=_react.default.memo(AnomalyScoresComponent);exports.AnomalyScores=AnomalyScores;AnomalyScores.displayName="AnomalyScores"},7601:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConditionalFlexGroup=void 0;var _eui=__webpack_require__(1);var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ConditionalFlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"ConditionalFlexGroup",componentId:"sc-1sqisyf-0"})(["@media only screen and (min-width:1441px){flex-direction:row !important;}"]);exports.ConditionalFlexGroup=ConditionalFlexGroup;ConditionalFlexGroup.displayName="ConditionalFlexGroup"},7602:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkEmptyPage=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(8));var _kibana=__webpack_require__(7013);var _empty_page=__webpack_require__(7132);var i18n=_interopRequireWildcard(__webpack_require__(7206));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var basePath=_chrome.default.getBasePath();var NetworkEmptyPage=_react.default.memo((function(){var docLinks=(0,_kibana.useKibana)().services.docLinks;return _react.default.createElement(_empty_page.EmptyPage,{actionPrimaryIcon:"gear",actionPrimaryLabel:i18n.EMPTY_ACTION_PRIMARY,actionPrimaryUrl:"".concat(basePath,"/app/kibana#/home/tutorial_directory/siem"),actionSecondaryIcon:"popout",actionSecondaryLabel:i18n.EMPTY_ACTION_SECONDARY,actionSecondaryTarget:"_blank",actionSecondaryUrl:docLinks.links.siem.gettingStarted,"data-test-subj":"empty-page",title:i18n.EMPTY_TITLE,message:i18n.EMPTY_MESSAGE})}));exports.NetworkEmptyPage=NetworkEmptyPage;NetworkEmptyPage.displayName="NetworkEmptyPage"},7603:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkHttpQuery=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _constants=__webpack_require__(977);var _store=__webpack_require__(7016);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(7071);var _helpers2=__webpack_require__(7029);var _query_template_paginated=__webpack_require__(7080);var _index=__webpack_require__(8725);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ID="networkHttpQuery";var NetworkHttpComponentQuery=function(_QueryTemplatePaginat){_inherits(NetworkHttpComponentQuery,_QueryTemplatePaginat);function NetworkHttpComponentQuery(){_classCallCheck(this,NetworkHttpComponentQuery);return _possibleConstructorReturn(this,_getPrototypeOf(NetworkHttpComponentQuery).apply(this,arguments))}_createClass(NetworkHttpComponentQuery,[{key:"render",value:function render(){var _this=this;var _this$props=this.props,activePage=_this$props.activePage,children=_this$props.children,endDate=_this$props.endDate,filterQuery=_this$props.filterQuery,_this$props$id=_this$props.id,id=_this$props$id===void 0?ID:_this$props$id,ip=_this$props.ip,isInspected=_this$props.isInspected,kibana=_this$props.kibana,limit=_this$props.limit,skip=_this$props.skip,sourceId=_this$props.sourceId,sort=_this$props.sort,startDate=_this$props.startDate;var variables={defaultIndex:kibana.services.uiSettings.get(_constants.DEFAULT_INDEX_KEY),filterQuery:(0,_helpers2.createFilter)(filterQuery),inspect:isInspected,ip:ip,pagination:(0,_helpers.generateTablePaginationOptions)(activePage,limit),sort:sort,sourceId:sourceId,timerange:{interval:"12h",from:startDate,to:endDate}};return _react.default.createElement(_reactApollo.Query,{fetchPolicy:(0,_helpers2.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,query:_index.networkHttpQuery,skip:skip,variables:variables},(function(_ref){var data=_ref.data,loading=_ref.loading,fetchMore=_ref.fetchMore,networkStatus=_ref.networkStatus,refetch=_ref.refetch;var networkHttp=(0,_fp.getOr)([],"source.NetworkHttp.edges",data);_this.setFetchMore(fetchMore);_this.setFetchMoreOptions((function(newActivePage){return{variables:{pagination:(0,_helpers.generateTablePaginationOptions)(newActivePage,limit)},updateQuery:function updateQuery(prev,_ref2){var fetchMoreResult=_ref2.fetchMoreResult;if(!fetchMoreResult){return prev}return _objectSpread({},fetchMoreResult,{source:_objectSpread({},fetchMoreResult.source,{NetworkHttp:_objectSpread({},fetchMoreResult.source.NetworkHttp,{edges:_toConsumableArray(fetchMoreResult.source.NetworkHttp.edges)})})})}}}));var isLoading=_this.isItAValidLoading(loading,variables,networkStatus);return children({id:id,inspect:(0,_fp.getOr)(null,"source.NetworkHttp.inspect",data),isInspected:isInspected,loading:isLoading,loadPage:_this.wrappedLoadMore,networkHttp:networkHttp,pageInfo:(0,_fp.getOr)({},"source.NetworkHttp.pageInfo",data),refetch:_this.memoizedRefetchQuery(variables,limit,refetch),totalCount:(0,_fp.getOr)(-1,"source.NetworkHttp.totalCount",data)})}))}}]);return NetworkHttpComponentQuery}(_query_template_paginated.QueryTemplatePaginated);var makeMapStateToProps=function makeMapStateToProps(){var getHttpSelector=_store.networkSelectors.httpSelector();var getQuery=_store.inputsSelectors.globalQueryByIdSelector();return function(state,_ref3){var _ref3$id=_ref3.id,id=_ref3$id===void 0?ID:_ref3$id,type=_ref3.type;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return _objectSpread({},getHttpSelector(state,type),{isInspected:isInspected})}};var NetworkHttpQuery=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps),_kibana.withKibana)(NetworkHttpComponentQuery);exports.NetworkHttpQuery=NetworkHttpQuery},7604:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkHttpTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _actions=__webpack_require__(1882);var _types=__webpack_require__(671);var _store=__webpack_require__(7016);var _paginated_table=__webpack_require__(7081);var _columns=__webpack_require__(8727);var i18n=_interopRequireWildcard(__webpack_require__(7605));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var rowItems=[{text:i18n.ROWS_5,numberOfRow:5},{text:i18n.ROWS_10,numberOfRow:10}];var NetworkHttpTableComponent=_react.default.memo((function(_ref){var activePage=_ref.activePage,data=_ref.data,fakeTotalCount=_ref.fakeTotalCount,id=_ref.id,isInspect=_ref.isInspect,limit=_ref.limit,loading=_ref.loading,loadPage=_ref.loadPage,showMorePagesIndicator=_ref.showMorePagesIndicator,sort=_ref.sort,totalCount=_ref.totalCount,type=_ref.type,updateNetworkTable=_ref.updateNetworkTable;var tableType=type===_store.networkModel.NetworkType.page?_store.networkModel.NetworkTableType.http:_store.networkModel.IpDetailsTableType.http;var updateLimitPagination=(0,_react.useCallback)((function(newLimit){return updateNetworkTable({networkType:type,tableType:tableType,updates:{limit:newLimit}})}),[type,updateNetworkTable,tableType]);var updateActivePage=(0,_react.useCallback)((function(newPage){return updateNetworkTable({networkType:type,tableType:tableType,updates:{activePage:newPage}})}),[type,updateNetworkTable,tableType]);var onChange=(0,_react.useCallback)((function(criteria){if(criteria.sort!=null&&criteria.sort.direction!==sort.direction){updateNetworkTable({networkType:type,tableType:tableType,updates:{sort:{direction:criteria.sort.direction}}})}}),[tableType,sort.direction,type,updateNetworkTable]);var sorting={field:"node.".concat(_types.NetworkHttpFields.requestCount),direction:sort.direction};return _react.default.createElement(_paginated_table.PaginatedTable,{activePage:activePage,columns:(0,_columns.getNetworkHttpColumns)(tableType),dataTestSubj:"table-".concat(tableType),headerCount:totalCount,headerTitle:i18n.HTTP_REQUESTS,headerUnit:i18n.UNIT(totalCount),id:id,itemsPerRow:rowItems,isInspect:isInspect,limit:limit,loading:loading,loadPage:loadPage,onChange:onChange,pageOfItems:data,showMorePagesIndicator:showMorePagesIndicator,sorting:sorting,totalCount:fakeTotalCount,updateActivePage:updateActivePage,updateLimitPagination:updateLimitPagination})}));NetworkHttpTableComponent.displayName="NetworkHttpTableComponent";var makeMapStateToProps=function makeMapStateToProps(){var getNetworkHttpSelector=_store.networkSelectors.httpSelector();var mapStateToProps=function mapStateToProps(state,_ref2){var type=_ref2.type;return getNetworkHttpSelector(state,type)};return mapStateToProps};var NetworkHttpTable=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps,{updateNetworkTable:_actions.networkActions.updateNetworkTable}))(NetworkHttpTableComponent);exports.NetworkHttpTable=NetworkHttpTable},7605:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROWS_10=exports.ROWS_5=exports.REQUESTS=exports.LAST_SOURCE_IP=exports.LAST_HOST=exports.STATUS=exports.PATH=exports.DOMAIN=exports.METHOD=exports.UNIT=exports.HTTP_REQUESTS=void 0;var _i18n=__webpack_require__(2);var HTTP_REQUESTS=_i18n.i18n.translate("xpack.siem.networkHttpTable.title",{defaultMessage:"HTTP Requests"});exports.HTTP_REQUESTS=HTTP_REQUESTS;var UNIT=function UNIT(totalCount){return _i18n.i18n.translate("xpack.siem.networkHttpTable.unit",{values:{totalCount:totalCount},defaultMessage:"{totalCount, plural, =1 {request} other {requests}}"})};exports.UNIT=UNIT;var METHOD=_i18n.i18n.translate("xpack.siem.networkHttpTable.column.methodTitle",{defaultMessage:"Method"});exports.METHOD=METHOD;var DOMAIN=_i18n.i18n.translate("xpack.siem.networkHttpTable.column.domainTitle",{defaultMessage:"Domain"});exports.DOMAIN=DOMAIN;var PATH=_i18n.i18n.translate("xpack.siem.networkHttpTable.column.pathTitle",{defaultMessage:"Path"});exports.PATH=PATH;var STATUS=_i18n.i18n.translate("xpack.siem.networkHttpTable.column.statusTitle",{defaultMessage:"Status"});exports.STATUS=STATUS;var LAST_HOST=_i18n.i18n.translate("xpack.siem.networkHttpTable.column.lastHostTitle",{defaultMessage:"Last host"});exports.LAST_HOST=LAST_HOST;var LAST_SOURCE_IP=_i18n.i18n.translate("xpack.siem.networkHttpTable.column.lastSourceIpTitle",{defaultMessage:"Last source Ip"});exports.LAST_SOURCE_IP=LAST_SOURCE_IP;var REQUESTS=_i18n.i18n.translate("xpack.siem.networkHttpTable.column.requestsTitle",{defaultMessage:"Requests"});exports.REQUESTS=REQUESTS;var ROWS_5=_i18n.i18n.translate("xpack.siem.networkHttpTable.rows",{values:{numRows:5},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_5=ROWS_5;var ROWS_10=_i18n.i18n.translate("xpack.siem.networkHttpTable.rows",{values:{numRows:10},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_10=ROWS_10},7606:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkTopCountriesQuery=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _constants=__webpack_require__(977);var _store=__webpack_require__(7016);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(7071);var _helpers2=__webpack_require__(7029);var _query_template_paginated=__webpack_require__(7080);var _index=__webpack_require__(8729);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ID="networkTopCountriesQuery";var NetworkTopCountriesComponentQuery=function(_QueryTemplatePaginat){_inherits(NetworkTopCountriesComponentQuery,_QueryTemplatePaginat);function NetworkTopCountriesComponentQuery(){_classCallCheck(this,NetworkTopCountriesComponentQuery);return _possibleConstructorReturn(this,_getPrototypeOf(NetworkTopCountriesComponentQuery).apply(this,arguments))}_createClass(NetworkTopCountriesComponentQuery,[{key:"render",value:function render(){var _this=this;var _this$props=this.props,activePage=_this$props.activePage,children=_this$props.children,endDate=_this$props.endDate,flowTarget=_this$props.flowTarget,filterQuery=_this$props.filterQuery,kibana=_this$props.kibana,_this$props$id=_this$props.id,id=_this$props$id===void 0?"".concat(ID,"-").concat(flowTarget):_this$props$id,ip=_this$props.ip,isInspected=_this$props.isInspected,limit=_this$props.limit,skip=_this$props.skip,sourceId=_this$props.sourceId,startDate=_this$props.startDate,sort=_this$props.sort;var variables={defaultIndex:kibana.services.uiSettings.get(_constants.DEFAULT_INDEX_KEY),filterQuery:(0,_helpers2.createFilter)(filterQuery),flowTarget:flowTarget,inspect:isInspected,ip:ip,pagination:(0,_helpers.generateTablePaginationOptions)(activePage,limit),sort:sort,sourceId:sourceId,timerange:{interval:"12h",from:startDate,to:endDate}};return _react.default.createElement(_reactApollo.Query,{fetchPolicy:(0,_helpers2.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,query:_index.networkTopCountriesQuery,skip:skip,variables:variables},(function(_ref){var data=_ref.data,loading=_ref.loading,fetchMore=_ref.fetchMore,networkStatus=_ref.networkStatus,refetch=_ref.refetch;var networkTopCountries=(0,_fp.getOr)([],"source.NetworkTopCountries.edges",data);_this.setFetchMore(fetchMore);_this.setFetchMoreOptions((function(newActivePage){return{variables:{pagination:(0,_helpers.generateTablePaginationOptions)(newActivePage,limit)},updateQuery:function updateQuery(prev,_ref2){var fetchMoreResult=_ref2.fetchMoreResult;if(!fetchMoreResult){return prev}return _objectSpread({},fetchMoreResult,{source:_objectSpread({},fetchMoreResult.source,{NetworkTopCountries:_objectSpread({},fetchMoreResult.source.NetworkTopCountries,{edges:_toConsumableArray(fetchMoreResult.source.NetworkTopCountries.edges)})})})}}}));var isLoading=_this.isItAValidLoading(loading,variables,networkStatus);return children({id:id,inspect:(0,_fp.getOr)(null,"source.NetworkTopCountries.inspect",data),isInspected:isInspected,loading:isLoading,loadPage:_this.wrappedLoadMore,networkTopCountries:networkTopCountries,pageInfo:(0,_fp.getOr)({},"source.NetworkTopCountries.pageInfo",data),refetch:_this.memoizedRefetchQuery(variables,limit,refetch),totalCount:(0,_fp.getOr)(-1,"source.NetworkTopCountries.totalCount",data)})}))}}]);return NetworkTopCountriesComponentQuery}(_query_template_paginated.QueryTemplatePaginated);var makeMapStateToProps=function makeMapStateToProps(){var getTopCountriesSelector=_store.networkSelectors.topCountriesSelector();var getQuery=_store.inputsSelectors.globalQueryByIdSelector();return function(state,_ref3){var flowTarget=_ref3.flowTarget,_ref3$id=_ref3.id,id=_ref3$id===void 0?"".concat(ID,"-").concat(flowTarget):_ref3$id,type=_ref3.type;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return _objectSpread({},getTopCountriesSelector(state,type,flowTarget),{isInspected:isInspected})}};var NetworkTopCountriesQuery=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps),_kibana.withKibana)(NetworkTopCountriesComponentQuery);exports.NetworkTopCountriesQuery=NetworkTopCountriesQuery},7607:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkTopCountriesTable=exports.NetworkTopCountriesTableId=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _actions=__webpack_require__(1882);var _types=__webpack_require__(671);var _store=__webpack_require__(7016);var _paginated_table=__webpack_require__(7081);var _columns=__webpack_require__(8730);var i18n=_interopRequireWildcard(__webpack_require__(7608));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var rowItems=[{text:i18n.ROWS_5,numberOfRow:5},{text:i18n.ROWS_10,numberOfRow:10}];var NetworkTopCountriesTableId="networkTopCountries-top-talkers";exports.NetworkTopCountriesTableId=NetworkTopCountriesTableId;var NetworkTopCountriesTableComponent=_react.default.memo((function(_ref){var activePage=_ref.activePage,data=_ref.data,fakeTotalCount=_ref.fakeTotalCount,flowTargeted=_ref.flowTargeted,id=_ref.id,indexPattern=_ref.indexPattern,isInspect=_ref.isInspect,limit=_ref.limit,loading=_ref.loading,loadPage=_ref.loadPage,showMorePagesIndicator=_ref.showMorePagesIndicator,sort=_ref.sort,totalCount=_ref.totalCount,type=_ref.type,updateNetworkTable=_ref.updateNetworkTable;var tableType;var headerTitle=flowTargeted===_types.FlowTargetSourceDest.source?i18n.SOURCE_COUNTRIES:i18n.DESTINATION_COUNTRIES;if(type===_store.networkModel.NetworkType.page){tableType=flowTargeted===_types.FlowTargetSourceDest.source?_store.networkModel.NetworkTableType.topCountriesSource:_store.networkModel.NetworkTableType.topCountriesDestination}else{tableType=flowTargeted===_types.FlowTargetSourceDest.source?_store.networkModel.IpDetailsTableType.topCountriesSource:_store.networkModel.IpDetailsTableType.topCountriesDestination}var field=sort.field===_types.NetworkTopTablesFields.bytes_out||sort.field===_types.NetworkTopTablesFields.bytes_in?"node.network.".concat(sort.field):"node.".concat(flowTargeted,".").concat(sort.field);var updateLimitPagination=(0,_react.useCallback)((function(newLimit){return updateNetworkTable({networkType:type,tableType:tableType,updates:{limit:newLimit}})}),[type,updateNetworkTable,tableType]);var updateActivePage=(0,_react.useCallback)((function(newPage){return updateNetworkTable({networkType:type,tableType:tableType,updates:{activePage:newPage}})}),[type,updateNetworkTable,tableType]);var onChange=(0,_react.useCallback)((function(criteria){if(criteria.sort!=null){var splitField=criteria.sort.field.split(".");var lastField=(0,_fp.last)(splitField);var newSortDirection=lastField!==sort.field?_types.Direction.desc:criteria.sort.direction;var newTopCountriesSort={field:lastField,direction:newSortDirection};if(!(0,_fp.isEqual)(newTopCountriesSort,sort)){updateNetworkTable({networkType:type,tableType:tableType,updates:{sort:newTopCountriesSort}})}}}),[type,sort,tableType,updateNetworkTable]);var columns=(0,_react.useMemo)((function(){return(0,_columns.getCountriesColumnsCurated)(indexPattern,flowTargeted,type,NetworkTopCountriesTableId)}),[indexPattern,flowTargeted,type]);return _react.default.createElement(_paginated_table.PaginatedTable,{activePage:activePage,columns:columns,dataTestSubj:"table-".concat(tableType),headerCount:totalCount,headerTitle:headerTitle,headerUnit:i18n.UNIT(totalCount),id:id,isInspect:isInspect,itemsPerRow:rowItems,limit:limit,loading:loading,loadPage:loadPage,onChange:onChange,pageOfItems:data,showMorePagesIndicator:showMorePagesIndicator,sorting:{field:field,direction:sort.direction},totalCount:fakeTotalCount,updateActivePage:updateActivePage,updateLimitPagination:updateLimitPagination})}));NetworkTopCountriesTableComponent.displayName="NetworkTopCountriesTableComponent";var makeMapStateToProps=function makeMapStateToProps(){var getTopCountriesSelector=_store.networkSelectors.topCountriesSelector();return function(state,_ref2){var type=_ref2.type,flowTargeted=_ref2.flowTargeted;return getTopCountriesSelector(state,type,flowTargeted)}};var NetworkTopCountriesTable=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps,{updateNetworkTable:_actions.networkActions.updateNetworkTable}))(NetworkTopCountriesTableComponent);exports.NetworkTopCountriesTable=NetworkTopCountriesTable},7608:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROWS_10=exports.ROWS_5=exports.SOURCE_IPS=exports.DESTINATION_IPS=exports.SOURCE_COUNTRIES=exports.DESTINATION_COUNTRIES=exports.FLOWS=exports.BYTES_OUT=exports.BYTES_IN=exports.COUNTRY=exports.UNIT=void 0;var _i18n=__webpack_require__(2);var UNIT=function UNIT(totalCount){return _i18n.i18n.translate("xpack.siem.networkTopCountriesTable.heading.unit",{values:{totalCount:totalCount},defaultMessage:"{totalCount, plural, =1 {Country} other {Countries}}"})};exports.UNIT=UNIT;var COUNTRY=_i18n.i18n.translate("xpack.siem.networkTopCountriesTable.column.countryTitle",{defaultMessage:"Country"});exports.COUNTRY=COUNTRY;var BYTES_IN=_i18n.i18n.translate("xpack.siem.networkTopCountriesTable.column.bytesInTitle",{defaultMessage:"Bytes in"});exports.BYTES_IN=BYTES_IN;var BYTES_OUT=_i18n.i18n.translate("xpack.siem.networkTopCountriesTable.column.bytesOutTitle",{defaultMessage:"Bytes out"});exports.BYTES_OUT=BYTES_OUT;var FLOWS=_i18n.i18n.translate("xpack.siem.networkTopCountriesTable.column.flows",{defaultMessage:"Flows"});exports.FLOWS=FLOWS;var DESTINATION_COUNTRIES=_i18n.i18n.translate("xpack.siem.networkTopCountriesTable.heading.destinationCountries",{defaultMessage:"Destination countries"});exports.DESTINATION_COUNTRIES=DESTINATION_COUNTRIES;var SOURCE_COUNTRIES=_i18n.i18n.translate("xpack.siem.networkTopCountriesTable.heading.sourceCountries",{defaultMessage:"Source countries"});exports.SOURCE_COUNTRIES=SOURCE_COUNTRIES;var DESTINATION_IPS=_i18n.i18n.translate("xpack.siem.networkTopCountriesTable.column.destinationIps",{defaultMessage:"Destination IPs"});exports.DESTINATION_IPS=DESTINATION_IPS;var SOURCE_IPS=_i18n.i18n.translate("xpack.siem.networkTopCountriesTable.column.sourceIps",{defaultMessage:"Source IPs"});exports.SOURCE_IPS=SOURCE_IPS;var ROWS_5=_i18n.i18n.translate("xpack.siem.networkTopCountriesTable.rows",{values:{numRows:5},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_5=ROWS_5;var ROWS_10=_i18n.i18n.translate("xpack.siem.networkTopCountriesTable.rows",{values:{numRows:10},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_10=ROWS_10},7609:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkTopNFlowTable=exports.NetworkTopNFlowTableId=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _actions=__webpack_require__(1882);var _types=__webpack_require__(671);var _store=__webpack_require__(7016);var _paginated_table=__webpack_require__(7081);var _columns=__webpack_require__(8734);var i18n=_interopRequireWildcard(__webpack_require__(7610));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var rowItems=[{text:i18n.ROWS_5,numberOfRow:5},{text:i18n.ROWS_10,numberOfRow:10}];var NetworkTopNFlowTableId="networkTopSourceFlow-top-talkers";exports.NetworkTopNFlowTableId=NetworkTopNFlowTableId;var NetworkTopNFlowTableComponent=function NetworkTopNFlowTableComponent(_ref){var activePage=_ref.activePage,data=_ref.data,fakeTotalCount=_ref.fakeTotalCount,flowTargeted=_ref.flowTargeted,id=_ref.id,isInspect=_ref.isInspect,limit=_ref.limit,loading=_ref.loading,loadPage=_ref.loadPage,showMorePagesIndicator=_ref.showMorePagesIndicator,sort=_ref.sort,totalCount=_ref.totalCount,type=_ref.type,updateNetworkTable=_ref.updateNetworkTable;var columns=(0,_react.useMemo)((function(){return(0,_columns.getNFlowColumnsCurated)(flowTargeted,type,NetworkTopNFlowTableId)}),[flowTargeted,type]);var tableType;var headerTitle=flowTargeted===_types.FlowTargetSourceDest.source?i18n.SOURCE_IP:i18n.DESTINATION_IP;if(type===_store.networkModel.NetworkType.page){tableType=flowTargeted===_types.FlowTargetSourceDest.source?_store.networkModel.NetworkTableType.topNFlowSource:_store.networkModel.NetworkTableType.topNFlowDestination}else{tableType=flowTargeted===_types.FlowTargetSourceDest.source?_store.networkModel.IpDetailsTableType.topNFlowSource:_store.networkModel.IpDetailsTableType.topNFlowDestination}var onChange=(0,_react.useCallback)((function(criteria){if(criteria.sort!=null){var splitField=criteria.sort.field.split(".");var _field=(0,_fp.last)(splitField);var newSortDirection=_field!==sort.field?_types.Direction.desc:criteria.sort.direction;var newTopNFlowSort={field:_field,direction:newSortDirection};if(!(0,_fp.isEqual)(newTopNFlowSort,sort)){updateNetworkTable({networkType:type,tableType:tableType,updates:{sort:newTopNFlowSort}})}}}),[sort,type,tableType,updateNetworkTable]);var field=sort.field===_types.NetworkTopTablesFields.bytes_out||sort.field===_types.NetworkTopTablesFields.bytes_in?"node.network.".concat(sort.field):"node.".concat(flowTargeted,".").concat(sort.field);var updateActivePage=(0,_react.useCallback)((function(newPage){return updateNetworkTable({networkType:type,tableType:tableType,updates:{activePage:newPage}})}),[updateNetworkTable,type,tableType]);var updateLimitPagination=(0,_react.useCallback)((function(newLimit){return updateNetworkTable({networkType:type,tableType:tableType,updates:{limit:newLimit}})}),[updateNetworkTable,type,tableType]);return _react.default.createElement(_paginated_table.PaginatedTable,{activePage:activePage,columns:columns,dataTestSubj:"table-".concat(tableType),headerCount:totalCount,headerTitle:headerTitle,headerUnit:i18n.UNIT(totalCount),id:id,isInspect:isInspect,itemsPerRow:rowItems,limit:limit,loading:loading,loadPage:loadPage,onChange:onChange,pageOfItems:data,showMorePagesIndicator:showMorePagesIndicator,sorting:{field:field,direction:sort.direction},totalCount:fakeTotalCount,updateActivePage:updateActivePage,updateLimitPagination:updateLimitPagination})};var makeMapStateToProps=function makeMapStateToProps(){var getTopNFlowSelector=_store.networkSelectors.topNFlowSelector();return function(state,_ref2){var type=_ref2.type,flowTargeted=_ref2.flowTargeted;return getTopNFlowSelector(state,type,flowTargeted)}};var NetworkTopNFlowTable=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps,{updateNetworkTable:_actions.networkActions.updateNetworkTable}))(_react.default.memo(NetworkTopNFlowTableComponent));exports.NetworkTopNFlowTable=NetworkTopNFlowTable},7610:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROWS_10=exports.ROWS_5=exports.SOURCE_IPS=exports.DESTINATION_IPS=exports.FLOWS=exports.AUTONOMOUS_SYSTEM=exports.BYTES_OUT=exports.BYTES_IN=exports.DOMAIN=exports.IP_TITLE=exports.DESTINATION_IP=exports.SOURCE_IP=exports.UNIT=void 0;var _i18n=__webpack_require__(2);var UNIT=function UNIT(totalCount){return _i18n.i18n.translate("xpack.siem.networkTopNFlowTable.unit",{values:{totalCount:totalCount},defaultMessage:"{totalCount, plural, =1 {IP} other {IPs}}"})};exports.UNIT=UNIT;var SOURCE_IP=_i18n.i18n.translate("xpack.siem.networkTopNFlowTable.column.sourceIpTitle",{defaultMessage:"Source IPs"});exports.SOURCE_IP=SOURCE_IP;var DESTINATION_IP=_i18n.i18n.translate("xpack.siem.networkTopNFlowTable.column.destinationIpTitle",{defaultMessage:"Destination IPs"});exports.DESTINATION_IP=DESTINATION_IP;var IP_TITLE=_i18n.i18n.translate("xpack.siem.networkTopNFlowTable.column.IpTitle",{defaultMessage:"IP"});exports.IP_TITLE=IP_TITLE;var DOMAIN=_i18n.i18n.translate("xpack.siem.networkTopNFlowTable.column.domainTitle",{defaultMessage:"Domain"});exports.DOMAIN=DOMAIN;var BYTES_IN=_i18n.i18n.translate("xpack.siem.networkTopNFlowTable.column.bytesInTitle",{defaultMessage:"Bytes in"});exports.BYTES_IN=BYTES_IN;var BYTES_OUT=_i18n.i18n.translate("xpack.siem.networkTopNFlowTable.column.bytesOutTitle",{defaultMessage:"Bytes out"});exports.BYTES_OUT=BYTES_OUT;var AUTONOMOUS_SYSTEM=_i18n.i18n.translate("xpack.siem.networkTopNFlowTable.column.asTitle",{defaultMessage:"Autonomous system"});exports.AUTONOMOUS_SYSTEM=AUTONOMOUS_SYSTEM;var FLOWS=_i18n.i18n.translate("xpack.siem.networkTopNFlowTable.flows",{defaultMessage:"Flows"});exports.FLOWS=FLOWS;var DESTINATION_IPS=_i18n.i18n.translate("xpack.siem.networkTopNFlowTable.destinationIps",{defaultMessage:"Destination IPs"});exports.DESTINATION_IPS=DESTINATION_IPS;var SOURCE_IPS=_i18n.i18n.translate("xpack.siem.networkTopNFlowTable.sourceIps",{defaultMessage:"Source IPs"});exports.SOURCE_IPS=SOURCE_IPS;var ROWS_5=_i18n.i18n.translate("xpack.siem.networkTopNFlowTable.rows",{values:{numRows:5},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_5=ROWS_5;var ROWS_10=_i18n.i18n.translate("xpack.siem.networkTopNFlowTable.rows",{values:{numRows:10},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_10=ROWS_10},7611:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkTopNFlowQuery=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _constants=__webpack_require__(977);var _kibana=__webpack_require__(7013);var _store=__webpack_require__(7016);var _helpers=__webpack_require__(7071);var _helpers2=__webpack_require__(7029);var _query_template_paginated=__webpack_require__(7080);var _index=__webpack_require__(8735);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ID="networkTopNFlowQuery";var NetworkTopNFlowComponentQuery=function(_QueryTemplatePaginat){_inherits(NetworkTopNFlowComponentQuery,_QueryTemplatePaginat);function NetworkTopNFlowComponentQuery(){_classCallCheck(this,NetworkTopNFlowComponentQuery);return _possibleConstructorReturn(this,_getPrototypeOf(NetworkTopNFlowComponentQuery).apply(this,arguments))}_createClass(NetworkTopNFlowComponentQuery,[{key:"render",value:function render(){var _this=this;var _this$props=this.props,activePage=_this$props.activePage,children=_this$props.children,endDate=_this$props.endDate,flowTarget=_this$props.flowTarget,filterQuery=_this$props.filterQuery,kibana=_this$props.kibana,_this$props$id=_this$props.id,id=_this$props$id===void 0?"".concat(ID,"-").concat(flowTarget):_this$props$id,ip=_this$props.ip,isInspected=_this$props.isInspected,limit=_this$props.limit,skip=_this$props.skip,sourceId=_this$props.sourceId,startDate=_this$props.startDate,sort=_this$props.sort;var variables={defaultIndex:kibana.services.uiSettings.get(_constants.DEFAULT_INDEX_KEY),filterQuery:(0,_helpers2.createFilter)(filterQuery),flowTarget:flowTarget,inspect:isInspected,ip:ip,pagination:(0,_helpers.generateTablePaginationOptions)(activePage,limit),sort:sort,sourceId:sourceId,timerange:{interval:"12h",from:startDate,to:endDate}};return _react.default.createElement(_reactApollo.Query,{fetchPolicy:(0,_helpers2.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,query:_index.networkTopNFlowQuery,skip:skip,variables:variables},(function(_ref){var data=_ref.data,loading=_ref.loading,fetchMore=_ref.fetchMore,networkStatus=_ref.networkStatus,refetch=_ref.refetch;var networkTopNFlow=(0,_fp.getOr)([],"source.NetworkTopNFlow.edges",data);_this.setFetchMore(fetchMore);_this.setFetchMoreOptions((function(newActivePage){return{variables:{pagination:(0,_helpers.generateTablePaginationOptions)(newActivePage,limit)},updateQuery:function updateQuery(prev,_ref2){var fetchMoreResult=_ref2.fetchMoreResult;if(!fetchMoreResult){return prev}return _objectSpread({},fetchMoreResult,{source:_objectSpread({},fetchMoreResult.source,{NetworkTopNFlow:_objectSpread({},fetchMoreResult.source.NetworkTopNFlow,{edges:_toConsumableArray(fetchMoreResult.source.NetworkTopNFlow.edges)})})})}}}));var isLoading=_this.isItAValidLoading(loading,variables,networkStatus);return children({id:id,inspect:(0,_fp.getOr)(null,"source.NetworkTopNFlow.inspect",data),isInspected:isInspected,loading:isLoading,loadPage:_this.wrappedLoadMore,networkTopNFlow:networkTopNFlow,pageInfo:(0,_fp.getOr)({},"source.NetworkTopNFlow.pageInfo",data),refetch:_this.memoizedRefetchQuery(variables,limit,refetch),totalCount:(0,_fp.getOr)(-1,"source.NetworkTopNFlow.totalCount",data)})}))}}]);return NetworkTopNFlowComponentQuery}(_query_template_paginated.QueryTemplatePaginated);var makeMapStateToProps=function makeMapStateToProps(){var getTopNFlowSelector=_store.networkSelectors.topNFlowSelector();var getQuery=_store.inputsSelectors.globalQueryByIdSelector();return function(state,_ref3){var flowTarget=_ref3.flowTarget,_ref3$id=_ref3.id,id=_ref3$id===void 0?"".concat(ID,"-").concat(flowTarget):_ref3$id,type=_ref3.type;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return _objectSpread({},getTopNFlowSelector(state,type,flowTarget),{isInspected:isInspected})}};var NetworkTopNFlowQuery=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps),_kibana.withKibana)(NetworkTopNFlowComponentQuery);exports.NetworkTopNFlowQuery=NetworkTopNFlowQuery},7612:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TlsTable=exports.tlsTableId=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _network=__webpack_require__(1897);var _types=__webpack_require__(671);var _store=__webpack_require__(7016);var _paginated_table=__webpack_require__(7081);var _columns=__webpack_require__(8737);var i18n=_interopRequireWildcard(__webpack_require__(7613));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var rowItems=[{text:i18n.ROWS_5,numberOfRow:5},{text:i18n.ROWS_10,numberOfRow:10}];var tlsTableId="tls-table";exports.tlsTableId=tlsTableId;var TlsTableComponent=_react.default.memo((function(_ref){var activePage=_ref.activePage,data=_ref.data,fakeTotalCount=_ref.fakeTotalCount,id=_ref.id,isInspect=_ref.isInspect,limit=_ref.limit,loading=_ref.loading,loadPage=_ref.loadPage,showMorePagesIndicator=_ref.showMorePagesIndicator,sort=_ref.sort,totalCount=_ref.totalCount,type=_ref.type,updateNetworkTable=_ref.updateNetworkTable;var tableType=type===_store.networkModel.NetworkType.page?_store.networkModel.NetworkTableType.tls:_store.networkModel.IpDetailsTableType.tls;var updateLimitPagination=(0,_react.useCallback)((function(newLimit){return updateNetworkTable({networkType:type,tableType:tableType,updates:{limit:newLimit}})}),[type,updateNetworkTable,tableType]);var updateActivePage=(0,_react.useCallback)((function(newPage){return updateNetworkTable({networkType:type,tableType:tableType,updates:{activePage:newPage}})}),[type,updateNetworkTable,tableType]);var onChange=(0,_react.useCallback)((function(criteria){if(criteria.sort!=null){var splitField=criteria.sort.field.split(".");var newTlsSort={field:getSortFromString(splitField[splitField.length-1]),direction:criteria.sort.direction};if(!(0,_fp.isEqual)(newTlsSort,sort)){updateNetworkTable({networkType:type,tableType:tableType,updates:{sort:newTlsSort}})}}}),[sort,type,tableType,updateNetworkTable]);return _react.default.createElement(_paginated_table.PaginatedTable,{activePage:activePage,columns:(0,_columns.getTlsColumns)(tlsTableId),dataTestSubj:"table-".concat(tableType),showMorePagesIndicator:showMorePagesIndicator,headerCount:totalCount,headerTitle:i18n.TRANSPORT_LAYER_SECURITY,headerUnit:i18n.UNIT(totalCount),id:id,isInspect:isInspect,itemsPerRow:rowItems,limit:limit,loading:loading,loadPage:loadPage,onChange:onChange,pageOfItems:data,sorting:getSortField(sort),totalCount:fakeTotalCount,updateActivePage:updateActivePage,updateLimitPagination:updateLimitPagination})}));TlsTableComponent.displayName="TlsTableComponent";var makeMapStateToProps=function makeMapStateToProps(){var getTlsSelector=_store.networkSelectors.tlsSelector();return function(state,_ref2){var type=_ref2.type;return getTlsSelector(state,type)}};var TlsTable=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps,{updateNetworkTable:_network.networkActions.updateNetworkTable}))(TlsTableComponent);exports.TlsTable=TlsTable;var getSortField=function getSortField(sortField){return{field:"node.".concat(sortField.field),direction:sortField.direction}};var getSortFromString=function getSortFromString(sortField){switch(sortField){case"_id":return _types.TlsFields._id;default:return _types.TlsFields._id}}},7613:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROWS_10=exports.ROWS_5=exports.VALID_UNTIL=exports.JA3_FINGERPRINT=exports.SHA1_FINGERPRINT=exports.SUBJECT=exports.ISSUER=exports.UNIT=exports.TRANSPORT_LAYER_SECURITY=void 0;var _i18n=__webpack_require__(2);var TRANSPORT_LAYER_SECURITY=_i18n.i18n.translate("xpack.siem.network.ipDetails.tlsTable.transportLayerSecurityTitle",{defaultMessage:"Transport Layer Security"});exports.TRANSPORT_LAYER_SECURITY=TRANSPORT_LAYER_SECURITY;var UNIT=function UNIT(totalCount){return _i18n.i18n.translate("xpack.siem.network.ipDetails.tlsTable.unit",{values:{totalCount:totalCount},defaultMessage:"{totalCount, plural, =1 {issuer} other {issuers}}"})};exports.UNIT=UNIT;var ISSUER=_i18n.i18n.translate("xpack.siem.network.ipDetails.tlsTable.columns.issuerTitle",{defaultMessage:"Issuer"});exports.ISSUER=ISSUER;var SUBJECT=_i18n.i18n.translate("xpack.siem.network.ipDetails.tlsTable.columns.subjectTitle",{defaultMessage:"Subject"});exports.SUBJECT=SUBJECT;var SHA1_FINGERPRINT=_i18n.i18n.translate("xpack.siem.network.ipDetails.tlsTable.columns.sha1FingerPrintTitle",{defaultMessage:"SHA1 fingerprint"});exports.SHA1_FINGERPRINT=SHA1_FINGERPRINT;var JA3_FINGERPRINT=_i18n.i18n.translate("xpack.siem.network.ipDetails.tlsTable.columns.ja3FingerPrintTitle",{defaultMessage:"JA3 fingerprint"});exports.JA3_FINGERPRINT=JA3_FINGERPRINT;var VALID_UNTIL=_i18n.i18n.translate("xpack.siem.network.ipDetails.tlsTable.columns.validUntilTitle",{defaultMessage:"Valid until"});exports.VALID_UNTIL=VALID_UNTIL;var ROWS_5=_i18n.i18n.translate("xpack.siem.network.ipDetails.tlsTable.rows",{values:{numRows:5},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_5=ROWS_5;var ROWS_10=_i18n.i18n.translate("xpack.siem.network.ipDetails.tlsTable.rows",{values:{numRows:10},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_10=ROWS_10},7614:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.TlsQuery=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _constants=__webpack_require__(977);var _store=__webpack_require__(7016);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(7029);var _helpers2=__webpack_require__(7071);var _query_template_paginated=__webpack_require__(7080);var _index=__webpack_require__(8738);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ID="tlsQuery";var TlsComponentQuery=function(_QueryTemplatePaginat){_inherits(TlsComponentQuery,_QueryTemplatePaginat);function TlsComponentQuery(){_classCallCheck(this,TlsComponentQuery);return _possibleConstructorReturn(this,_getPrototypeOf(TlsComponentQuery).apply(this,arguments))}_createClass(TlsComponentQuery,[{key:"render",value:function render(){var _this=this;var _this$props=this.props,activePage=_this$props.activePage,children=_this$props.children,endDate=_this$props.endDate,filterQuery=_this$props.filterQuery,flowTarget=_this$props.flowTarget,_this$props$id=_this$props.id,id=_this$props$id===void 0?ID:_this$props$id,ip=_this$props.ip,isInspected=_this$props.isInspected,kibana=_this$props.kibana,limit=_this$props.limit,skip=_this$props.skip,sourceId=_this$props.sourceId,startDate=_this$props.startDate,sort=_this$props.sort;var variables={defaultIndex:kibana.services.uiSettings.get(_constants.DEFAULT_INDEX_KEY),filterQuery:(0,_helpers.createFilter)(filterQuery),flowTarget:flowTarget,inspect:isInspected,ip:ip,pagination:(0,_helpers2.generateTablePaginationOptions)(activePage,limit),sort:sort,sourceId:sourceId,timerange:{interval:"12h",from:startDate?startDate:0,to:endDate?endDate:Date.now()}};return _react.default.createElement(_reactApollo.Query,{query:_index.tlsQuery,fetchPolicy:(0,_helpers.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,skip:skip,variables:variables},(function(_ref){var data=_ref.data,loading=_ref.loading,fetchMore=_ref.fetchMore,networkStatus=_ref.networkStatus,refetch=_ref.refetch;var tls=(0,_fp.getOr)([],"source.Tls.edges",data);_this.setFetchMore(fetchMore);_this.setFetchMoreOptions((function(newActivePage){return{variables:{pagination:(0,_helpers2.generateTablePaginationOptions)(newActivePage,limit)},updateQuery:function updateQuery(prev,_ref2){var fetchMoreResult=_ref2.fetchMoreResult;if(!fetchMoreResult){return prev}return _objectSpread({},fetchMoreResult,{source:_objectSpread({},fetchMoreResult.source,{Tls:_objectSpread({},fetchMoreResult.source.Tls,{edges:_toConsumableArray(fetchMoreResult.source.Tls.edges)})})})}}}));var isLoading=_this.isItAValidLoading(loading,variables,networkStatus);return children({id:id,inspect:(0,_fp.getOr)(null,"source.Tls.inspect",data),isInspected:isInspected,loading:isLoading,loadPage:_this.wrappedLoadMore,pageInfo:(0,_fp.getOr)({},"source.Tls.pageInfo",data),refetch:_this.memoizedRefetchQuery(variables,limit,refetch),tls:tls,totalCount:(0,_fp.getOr)(-1,"source.Tls.totalCount",data)})}))}}]);return TlsComponentQuery}(_query_template_paginated.QueryTemplatePaginated);var makeMapStateToProps=function makeMapStateToProps(){var getTlsSelector=_store.networkSelectors.tlsSelector();var getQuery=_store.inputsSelectors.globalQueryByIdSelector();return function(state,_ref3){var flowTarget=_ref3.flowTarget,_ref3$id=_ref3.id,id=_ref3$id===void 0?ID:_ref3$id,type=_ref3.type;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return _objectSpread({},getTlsSelector(state,type,flowTarget),{isInspected:isInspected})}};var TlsQuery=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps),_kibana.withKibana)(TlsComponentQuery);exports.TlsQuery=TlsQuery},7615:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROWS_10=exports.ROWS_5=exports.DOCUMENT_COUNT=exports.GROUP_ID=exports.GROUP_NAME=exports.USER_ID=exports.USER_NAME=exports.UNIT=exports.USERS=void 0;var _i18n=__webpack_require__(2);var USERS=_i18n.i18n.translate("xpack.siem.network.ipDetails.usersTable.usersTitle",{defaultMessage:"Users"});exports.USERS=USERS;var UNIT=function UNIT(totalCount){return _i18n.i18n.translate("xpack.siem.network.ipDetails.usersTable.unit",{values:{totalCount:totalCount},defaultMessage:"{totalCount, plural, =1 {user} other {users}}"})};exports.UNIT=UNIT;var USER_NAME=_i18n.i18n.translate("xpack.siem.network.ipDetails.usersTable.columns.userNameTitle",{defaultMessage:"User"});exports.USER_NAME=USER_NAME;var USER_ID=_i18n.i18n.translate("xpack.siem.network.ipDetails.usersTable.columns.userIdTitle",{defaultMessage:"ID"});exports.USER_ID=USER_ID;var GROUP_NAME=_i18n.i18n.translate("xpack.siem.network.ipDetails.usersTable.columns.groupNameTitle",{defaultMessage:"Group name"});exports.GROUP_NAME=GROUP_NAME;var GROUP_ID=_i18n.i18n.translate("xpack.siem.network.ipDetails.usersTable.columns.groupIdTitle",{defaultMessage:"Group ID"});exports.GROUP_ID=GROUP_ID;var DOCUMENT_COUNT=_i18n.i18n.translate("xpack.siem.network.ipDetails.usersTable.columns.documentCountTitle",{defaultMessage:"Document count"});exports.DOCUMENT_COUNT=DOCUMENT_COUNT;var ROWS_5=_i18n.i18n.translate("xpack.siem.network.ipDetails.usersTable.rows",{values:{numRows:5},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_5=ROWS_5;var ROWS_10=_i18n.i18n.translate("xpack.siem.network.ipDetails.usersTable.rows",{values:{numRows:10},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_10=ROWS_10},7617:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MatrixHistogram=exports.MatrixHistogramComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _charts=__webpack_require__(42);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var i18n=_interopRequireWildcard(__webpack_require__(8746));var _barchart=__webpack_require__(7618);var _header_section=__webpack_require__(7050);var _matrix_loader=__webpack_require__(7620);var _panel=__webpack_require__(7154);var _utils=__webpack_require__(8748);var _utils2=__webpack_require__(8749);var _inspect=__webpack_require__(7063);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var DEFAULT_PANEL_HEIGHT=300;var HeaderChildrenFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"HeaderChildrenFlexItem",componentId:"shgite-0"})(["margin-left:24px;"]);var HistogramPanel=(0,_styledComponents.default)(_panel.Panel).withConfig({displayName:"HistogramPanel",componentId:"shgite-1"})(["display:flex;flex-direction:column;",""],(function(_ref){var height=_ref.height;return height!=null?"height: ".concat(height,"px;"):""}));var MatrixHistogramComponent=function MatrixHistogramComponent(_ref2){var chartHeight=_ref2.chartHeight,dataKey=_ref2.dataKey,defaultStackByOption=_ref2.defaultStackByOption,endDate=_ref2.endDate,errorMessage=_ref2.errorMessage,filterQuery=_ref2.filterQuery,headerChildren=_ref2.headerChildren,_ref2$hideHistogramIf=_ref2.hideHistogramIfEmpty,hideHistogramIfEmpty=_ref2$hideHistogramIf===void 0?false:_ref2$hideHistogramIf,id=_ref2.id,isAlertsHistogram=_ref2.isAlertsHistogram,isAnomaliesHistogram=_ref2.isAnomaliesHistogram,isAuthenticationsHistogram=_ref2.isAuthenticationsHistogram,isDnsHistogram=_ref2.isDnsHistogram,isEventsHistogram=_ref2.isEventsHistogram,isInspected=_ref2.isInspected,_ref2$legendPosition=_ref2.legendPosition,legendPosition=_ref2$legendPosition===void 0?"right":_ref2$legendPosition,mapping=_ref2.mapping,_ref2$panelHeight=_ref2.panelHeight,panelHeight=_ref2$panelHeight===void 0?DEFAULT_PANEL_HEIGHT:_ref2$panelHeight,query=_ref2.query,_ref2$scaleType=_ref2.scaleType,scaleType=_ref2$scaleType===void 0?_charts.ScaleType.Time:_ref2$scaleType,setQuery=_ref2.setQuery,_ref2$showLegend=_ref2.showLegend,showLegend=_ref2$showLegend===void 0?true:_ref2$showLegend,skip=_ref2.skip,stackByOptions=_ref2.stackByOptions,startDate=_ref2.startDate,subtitle=_ref2.subtitle,title=_ref2.title,updateDateRange=_ref2.updateDateRange,yTickFormatter=_ref2.yTickFormatter;var barchartConfigs=(0,_utils.getBarchartConfigs)({chartHeight:chartHeight,from:startDate,legendPosition:legendPosition,to:endDate,onBrushEnd:updateDateRange,scaleType:scaleType,yTickFormatter:yTickFormatter,showLegend:showLegend});var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),isInitialLoading=_useState2[0],setIsInitialLoading=_useState2[1];var _useState3=(0,_react.useState)(defaultStackByOption),_useState4=_slicedToArray(_useState3,2),selectedStackByOption=_useState4[0],setSelectedStackByOption=_useState4[1];var _useState5=(0,_react.useState)(""),_useState6=_slicedToArray(_useState5,2),titleWithStackByField=_useState6[0],setTitle=_useState6[1];var _useState7=(0,_react.useState)(""),_useState8=_slicedToArray(_useState7,2),subtitleWithCounts=_useState8[0],setSubtitle=_useState8[1];var _useState9=(0,_react.useState)(hideHistogramIfEmpty),_useState10=_slicedToArray(_useState9,2),hideHistogram=_useState10[0],setHideHistogram=_useState10[1];var _useState11=(0,_react.useState)(null),_useState12=_slicedToArray(_useState11,2),barChartData=_useState12[0],setBarChartData=_useState12[1];var setSelectedChartOptionCallback=(0,_react.useCallback)((function(event){var _ref3;setSelectedStackByOption((_ref3=stackByOptions===null||stackByOptions===void 0?void 0:stackByOptions.find((function(co){return co.value===event.target.value})))!==null&&_ref3!==void 0?_ref3:defaultStackByOption)}),[]);var _useQuery=(0,_utils2.useQuery)({dataKey:dataKey,endDate:endDate,errorMessage:errorMessage,filterQuery:filterQuery,query:query,skip:skip,startDate:startDate,title:title,isAlertsHistogram:isAlertsHistogram,isAnomaliesHistogram:isAnomaliesHistogram,isAuthenticationsHistogram:isAuthenticationsHistogram,isDnsHistogram:isDnsHistogram,isEventsHistogram:isEventsHistogram,isInspected:isInspected,stackByField:selectedStackByOption.value}),data=_useQuery.data,loading=_useQuery.loading,inspect=_useQuery.inspect,totalCount=_useQuery.totalCount,_useQuery$refetch=_useQuery.refetch,refetch=_useQuery$refetch===void 0?_fp.noop:_useQuery$refetch;(0,_react.useEffect)((function(){if(title!=null)setTitle(typeof title==="function"?title(selectedStackByOption):title);if(subtitle!=null)setSubtitle(typeof subtitle==="function"?subtitle(totalCount):subtitle);if(totalCount<=0&&hideHistogramIfEmpty){setHideHistogram(true)}else{setHideHistogram(false)}setBarChartData((0,_utils.getCustomChartData)(data,mapping));setQuery({id:id,inspect:inspect,loading:loading,refetch:refetch});if(isInitialLoading&&!!barChartData&&data){setIsInitialLoading(false)}}),[subtitle,setSubtitle,setHideHistogram,setBarChartData,setQuery,hideHistogramIfEmpty,totalCount,isInspected,loading,data,refetch,isInitialLoading]);if(hideHistogram){return null}return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_inspect.InspectButtonContainer,{show:!isInitialLoading},_react.default.createElement(HistogramPanel,{"data-test-subj":"".concat(id,"Panel"),height:panelHeight},loading&&!isInitialLoading&&_react.default.createElement(_eui.EuiProgress,{"data-test-subj":"initialLoadingPanelMatrixOverTime",size:"xs",position:"absolute",color:"accent"}),isInitialLoading?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_header_section.HeaderSection,{id:id,title:titleWithStackByField,subtitle:!loading&&(totalCount>=0?subtitleWithCounts:null)},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},(stackByOptions===null||stackByOptions===void 0?void 0:stackByOptions.length)>1&&_react.default.createElement(_eui.EuiSelect,{onChange:setSelectedChartOptionCallback,options:stackByOptions,prepend:i18n.STACK_BY,value:selectedStackByOption===null||selectedStackByOption===void 0?void 0:selectedStackByOption.value})),_react.default.createElement(HeaderChildrenFlexItem,{grow:false},headerChildren))),_react.default.createElement(_matrix_loader.MatrixLoader,null)):_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_header_section.HeaderSection,{id:id,title:titleWithStackByField,subtitle:!isInitialLoading&&(totalCount>=0?subtitleWithCounts:null)},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},(stackByOptions===null||stackByOptions===void 0?void 0:stackByOptions.length)>1&&_react.default.createElement(_eui.EuiSelect,{onChange:setSelectedChartOptionCallback,options:stackByOptions,prepend:i18n.STACK_BY,value:selectedStackByOption===null||selectedStackByOption===void 0?void 0:selectedStackByOption.value})),_react.default.createElement(HeaderChildrenFlexItem,{grow:false},headerChildren))),_react.default.createElement(_barchart.BarChart,{barChart:barChartData,configs:barchartConfigs})))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}))};exports.MatrixHistogramComponent=MatrixHistogramComponent;var MatrixHistogram=_react.default.memo(MatrixHistogramComponent);exports.MatrixHistogram=MatrixHistogram},7618:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BarChart=exports.BarChartComponent=exports.BarChartBase=exports.BarChartBaseComponent=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _charts=__webpack_require__(42);var _fp=__webpack_require__(223);var _deepmerge=_interopRequireDefault(__webpack_require__(9246));var _hooks=__webpack_require__(7199);var _auto_sizer=__webpack_require__(7144);var _chart_place_holder=__webpack_require__(7619);var _common=__webpack_require__(7208);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var checkIfAllTheDataInTheSeriesAreValid=function checkIfAllTheDataInTheSeriesAreValid(series){return series!=null&&!!(0,_fp.get)("value.length",series)&&(series.value||[]).every((function(_ref){var x=_ref.x,y=_ref.y;return(0,_fp.isNumber)(y)&&y>=0}))};var checkIfAnyValidSeriesExist=function checkIfAnyValidSeriesExist(data){return Array.isArray(data)&&!(0,_common.checkIfAllValuesAreZero)(data)&&data.some(checkIfAllTheDataInTheSeriesAreValid)};var BarChartBaseComponent=function BarChartBaseComponent(_ref2){var data=_ref2.data,chartConfigs=_objectWithoutProperties(_ref2,["data"]);var theme=(0,_common.useTheme)();var timeZone=(0,_hooks.useTimeZone)();var xTickFormatter=(0,_fp.get)("configs.axis.xTickFormatter",chartConfigs);var yTickFormatter=(0,_fp.get)("configs.axis.yTickFormatter",chartConfigs);var tickSize=(0,_fp.getOr)(0,"configs.axis.tickSize",chartConfigs);var xAxisId="stat-items-barchart-".concat(data[0].key,"-x");var yAxisId="stat-items-barchart-".concat(data[0].key,"-y");var settings=_objectSpread({},_common.chartDefaultSettings,{},(0,_deepmerge.default)((0,_fp.get)("configs.settings",chartConfigs),{theme:theme}));return chartConfigs.width&&chartConfigs.height?_react.default.createElement(_charts.Chart,null,_react.default.createElement(_charts.Settings,settings),data.map((function(series){var barSeriesKey=series.key;return checkIfAllTheDataInTheSeriesAreValid?_react.default.createElement(_charts.BarSeries,{id:barSeriesKey,key:barSeriesKey,name:series.key,xScaleType:(0,_fp.getOr)(_charts.ScaleType.Linear,"configs.series.xScaleType",chartConfigs),yScaleType:(0,_fp.getOr)(_charts.ScaleType.Linear,"configs.series.yScaleType",chartConfigs),xAccessor:"x",yAccessors:["y"],timeZone:timeZone,splitSeriesAccessors:["g"],data:series.value,stackAccessors:(0,_fp.get)("configs.series.stackAccessors",chartConfigs),customSeriesColors:series.color?[series.color]:undefined}):null})),_react.default.createElement(_charts.Axis,{id:xAxisId,position:_charts.Position.Bottom,showOverlappingTicks:false,tickSize:tickSize,tickFormat:xTickFormatter}),_react.default.createElement(_charts.Axis,{id:yAxisId,position:_charts.Position.Left,tickSize:tickSize,tickFormat:yTickFormatter})):null};exports.BarChartBaseComponent=BarChartBaseComponent;BarChartBaseComponent.displayName="BarChartBaseComponent";var BarChartBase=_react.default.memo(BarChartBaseComponent);exports.BarChartBase=BarChartBase;BarChartBase.displayName="BarChartBase";var BarChartComponent=function BarChartComponent(_ref3){var barChart=_ref3.barChart,configs=_ref3.configs;var customHeight=(0,_fp.get)("customHeight",configs);var customWidth=(0,_fp.get)("customWidth",configs);return checkIfAnyValidSeriesExist(barChart)?_react.default.createElement(_auto_sizer.AutoSizer,{detectAnyWindowResize:false,content:true},(function(_ref4){var measureRef=_ref4.measureRef,_ref4$content=_ref4.content,height=_ref4$content.height,width=_ref4$content.width;return _react.default.createElement(_common.WrappedByAutoSizer,{ref:measureRef,height:(0,_common.getChartHeight)(customHeight,height)},_react.default.createElement(BarChartBaseComponent,{height:(0,_common.getChartHeight)(customHeight,height),width:(0,_common.getChartWidth)(customWidth,width),data:barChart,configs:configs}))})):_react.default.createElement(_chart_place_holder.ChartPlaceHolder,{height:(0,_common.getChartHeight)(customHeight),width:(0,_common.getChartWidth)(customWidth),data:barChart})};exports.BarChartComponent=BarChartComponent;BarChartComponent.displayName="BarChartComponent";var BarChart=_react.default.memo(BarChartComponent);exports.BarChart=BarChart;BarChart.displayName="BarChart"},7619:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ChartPlaceHolder=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _common=__webpack_require__(7208);var i18n=_interopRequireWildcard(__webpack_require__(8747));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"FlexGroup",componentId:"sc-133tipc-0"})(["height:",";width:",";position:relative;margin:0;"],(function(_ref){var height=_ref.height;return height?height:"100%"}),(function(_ref2){var width=_ref2.width;return width?width:"100%"}));FlexGroup.displayName="FlexGroup";var ChartPlaceHolder=function ChartPlaceHolder(_ref3){var _ref3$height=_ref3.height,height=_ref3$height===void 0?"100%":_ref3$height,_ref3$width=_ref3.width,width=_ref3$width===void 0?"100%":_ref3$width,data=_ref3.data;return _react.default.createElement(FlexGroup,{justifyContent:"center",alignItems:"center",height:height,width:width},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,{size:"s",textAlign:"center",color:"subdued","data-test-subj":"chartHolderText"},(0,_common.checkIfAllValuesAreZero)(data)?i18n.ALL_VALUES_ZEROS_TITLE:i18n.DATA_NOT_AVAILABLE_TITLE)))};exports.ChartPlaceHolder=ChartPlaceHolder},7620:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MatrixLoader=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StyledEuiFlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"StyledEuiFlexGroup",componentId:"sc-1t12igt-0"})(["flex 1;"]);var MatrixLoaderComponent=function MatrixLoaderComponent(){return _react.default.createElement(StyledEuiFlexGroup,{alignItems:"center",justifyContent:"center",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"})))};var MatrixLoader=_react.default.memo(MatrixLoaderComponent);exports.MatrixLoader=MatrixLoader},7621:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSearch=void 0;var _fp=__webpack_require__(223);var _constants=__webpack_require__(1914);var _types=__webpack_require__(7622);var _helpers=__webpack_require__(7150);var getSearch=function getSearch(tab,urlState){if(tab&&tab.urlKey!=null&&_types.URL_STATE_KEYS[tab.urlKey]!=null){return _types.URL_STATE_KEYS[tab.urlKey].reduce((function(myLocation,urlKey){var urlStateToReplace="";if(urlKey===_constants.CONSTANTS.appQuery&&urlState.query!=null){if(urlState.query.query===""){urlStateToReplace=""}else{urlStateToReplace=urlState.query}}else if(urlKey===_constants.CONSTANTS.filters&&urlState.filters!=null){if((0,_fp.isEmpty)(urlState.filters)){urlStateToReplace=""}else{urlStateToReplace=urlState.filters}}else if(urlKey===_constants.CONSTANTS.timerange){urlStateToReplace=urlState[_constants.CONSTANTS.timerange]}else if(urlKey===_constants.CONSTANTS.timeline&&urlState[_constants.CONSTANTS.timeline]!=null){var timeline=urlState[_constants.CONSTANTS.timeline];if(timeline.id===""){urlStateToReplace=""}else{urlStateToReplace=timeline}}return(0,_helpers.replaceQueryStringInLocation)(myLocation,(0,_helpers.replaceStateKeyInQueryString)(urlKey,urlStateToReplace)((0,_helpers.getQueryStringFromLocation)(myLocation.search)))}),{pathname:urlState.pathName,hash:"",search:"",state:""}).search}return""};exports.getSearch=getSearch},7622:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.URL_STATE_KEYS=exports.ALL_URL_STATE_KEYS=void 0;var _constants=__webpack_require__(1914);var ALL_URL_STATE_KEYS=[_constants.CONSTANTS.appQuery,_constants.CONSTANTS.filters,_constants.CONSTANTS.savedQuery,_constants.CONSTANTS.timerange,_constants.CONSTANTS.timeline];exports.ALL_URL_STATE_KEYS=ALL_URL_STATE_KEYS;var URL_STATE_KEYS={detections:[_constants.CONSTANTS.appQuery,_constants.CONSTANTS.filters,_constants.CONSTANTS.savedQuery,_constants.CONSTANTS.timerange,_constants.CONSTANTS.timeline],host:[_constants.CONSTANTS.appQuery,_constants.CONSTANTS.filters,_constants.CONSTANTS.savedQuery,_constants.CONSTANTS.timerange,_constants.CONSTANTS.timeline],network:[_constants.CONSTANTS.appQuery,_constants.CONSTANTS.filters,_constants.CONSTANTS.savedQuery,_constants.CONSTANTS.timerange,_constants.CONSTANTS.timeline],overview:[_constants.CONSTANTS.appQuery,_constants.CONSTANTS.filters,_constants.CONSTANTS.savedQuery,_constants.CONSTANTS.timerange,_constants.CONSTANTS.timeline],timeline:[_constants.CONSTANTS.timeline,_constants.CONSTANTS.timerange]};exports.URL_STATE_KEYS=URL_STATE_KEYS},7623:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addEntitiesToKql=exports.entitiesToKql=exports.entityToKql=void 0;var _risonNode=__webpack_require__(163);var _rison_helpers=__webpack_require__(7327);var entityToKql=function entityToKql(entityNames,entity){if(entityNames.length===1){return"".concat(entityNames[0],': "').concat(entity,'"')}else{return entityNames.reduce((function(accum,entityName,index,array){if(index===0){return"(".concat(entityName,': "').concat(entity,'"')}else if(index===array.length-1){return"".concat(accum," or ").concat(entityName,': "').concat(entity,'")')}else{return"".concat(accum," or ").concat(entityName,': "').concat(entity,'"')}}),"")}};exports.entityToKql=entityToKql;var entitiesToKql=function entitiesToKql(entityNames,entities){return entities.reduce((function(accum,entity,index){var entityKql=entityToKql(entityNames,entity);if(index===0){return entityKql}else{return"".concat(accum," or ").concat(entityKql)}}),"")};exports.entitiesToKql=entitiesToKql;var addEntitiesToKql=function addEntitiesToKql(entityNames,entities,kqlQuery){var value=(0,_rison_helpers.decodeRison)(kqlQuery);if((0,_rison_helpers.isRisonObject)(value)){var appQuery=value;if((0,_rison_helpers.isRisonObject)(appQuery)){if((0,_rison_helpers.isRegularString)(appQuery.query)){var entitiesKql=entitiesToKql(entityNames,entities);if(appQuery.query!==""&&entitiesKql!==""){appQuery.query="(".concat(entitiesKql,") and (").concat(appQuery.query,")")}else if(appQuery.query===""&&entitiesKql!==""){appQuery.query="(".concat(entitiesKql,")")}return(0,_risonNode.encode)(value)}}}else if(value==null){var _entitiesKql=entitiesToKql(entityNames,entities);return(0,_risonNode.encode)({query:"(".concat(_entitiesKql,")"),language:"kuery"})}return kqlQuery};exports.addEntitiesToKql=addEntitiesToKql},7624:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceKQLParts=void 0;var _fp=__webpack_require__(223);var _replace_kql_commas_with_or=__webpack_require__(8756);var _remove_kql_variables=__webpack_require__(8757);var replaceKQLParts=function replaceKQLParts(kqlQuery){return(0,_fp.flow)(_replace_kql_commas_with_or.replaceKqlCommasWithOr,_remove_kql_variables.removeKqlVariables)(kqlQuery)};exports.replaceKQLParts=replaceKQLParts},7625:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMultipleEntities=exports.multipleEntities=exports.emptyEntity=void 0;var emptyEntity=function emptyEntity(entity){return entity.trim()===""||entity.startsWith("$")&&entity.endsWith("$")};exports.emptyEntity=emptyEntity;var multipleEntities=function multipleEntities(entity){return entity.split(",").length>1};exports.multipleEntities=multipleEntities;var getMultipleEntities=function getMultipleEntities(entity){return entity.split(",")};exports.getMultipleEntities=getMultipleEntities},7626:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _errors_types=__webpack_require__(8760);Object.keys(_errors_types).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _errors_types[key]}})}))},7627:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SIGNAL_POST_FAILURE=exports.SIGNAL_GET_NAME_FAILURE=exports.PRIVILEGE_FETCH_FAILURE=exports.SIGNAL_FETCH_FAILURE=void 0;var _i18n=__webpack_require__(2);var SIGNAL_FETCH_FAILURE=_i18n.i18n.translate("xpack.siem.containers.detectionEngine.signals.errorFetchingSignalsDescription",{defaultMessage:"Failed to query signals"});exports.SIGNAL_FETCH_FAILURE=SIGNAL_FETCH_FAILURE;var PRIVILEGE_FETCH_FAILURE=_i18n.i18n.translate("xpack.siem.containers.detectionEngine.signals.errorFetchingSignalsDescription",{defaultMessage:"Failed to query signals"});exports.PRIVILEGE_FETCH_FAILURE=PRIVILEGE_FETCH_FAILURE;var SIGNAL_GET_NAME_FAILURE=_i18n.i18n.translate("xpack.siem.containers.detectionEngine.signals.errorGetSignalDescription",{defaultMessage:"Failed to get signal index name"});exports.SIGNAL_GET_NAME_FAILURE=SIGNAL_GET_NAME_FAILURE;var SIGNAL_POST_FAILURE=_i18n.i18n.translate("xpack.siem.containers.detectionEngine.signals.errorPostSignalDescription",{defaultMessage:"Failed to create signal index"});exports.SIGNAL_POST_FAILURE=SIGNAL_POST_FAILURE},7628:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Timeline=exports.TimelineComponent=exports.isCompactFooter=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _timeline=__webpack_require__(7629);var _kibana=__webpack_require__(7013);var _auto_sizer=__webpack_require__(7144);var _default_headers=__webpack_require__(7038);var _stateful_body=__webpack_require__(7631);var _fetch_kql_timeline=__webpack_require__(8869);var _footer=__webpack_require__(7657);var _header=__webpack_require__(8871);var _helpers=__webpack_require__(7108);var _refetch_timeline=__webpack_require__(7659);var _timeline_context=__webpack_require__(7033);var _public=__webpack_require__(11);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var WrappedByAutoSizer=_styledComponents.default.div.withConfig({displayName:"WrappedByAutoSizer",componentId:"kux443-0"})(["width:100%;"]);WrappedByAutoSizer.displayName="WrappedByAutoSizer";var TimelineContainer=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"TimelineContainer",componentId:"kux443-1"})(["min-height:500px;overflow:hidden;padding:0 10px 0 12px;user-select:none;width:100%;"]);TimelineContainer.displayName="TimelineContainer";var isCompactFooter=function isCompactFooter(width){return width<600};exports.isCompactFooter=isCompactFooter;var TimelineComponent=function TimelineComponent(_ref){var browserFields=_ref.browserFields,columns=_ref.columns,dataProviders=_ref.dataProviders,end=_ref.end,eventType=_ref.eventType,filters=_ref.filters,flyoutHeaderHeight=_ref.flyoutHeaderHeight,flyoutHeight=_ref.flyoutHeight,id=_ref.id,indexPattern=_ref.indexPattern,indexToAdd=_ref.indexToAdd,isLive=_ref.isLive,itemsPerPage=_ref.itemsPerPage,itemsPerPageOptions=_ref.itemsPerPageOptions,kqlMode=_ref.kqlMode,kqlQueryExpression=_ref.kqlQueryExpression,loadingIndexName=_ref.loadingIndexName,onChangeDataProviderKqlQuery=_ref.onChangeDataProviderKqlQuery,onChangeDroppableAndProvider=_ref.onChangeDroppableAndProvider,onChangeItemsPerPage=_ref.onChangeItemsPerPage,onDataProviderEdited=_ref.onDataProviderEdited,onDataProviderRemoved=_ref.onDataProviderRemoved,onToggleDataProviderEnabled=_ref.onToggleDataProviderEnabled,onToggleDataProviderExcluded=_ref.onToggleDataProviderExcluded,show=_ref.show,showCallOutUnauthorizedMsg=_ref.showCallOutUnauthorizedMsg,start=_ref.start,sort=_ref.sort,toggleColumn=_ref.toggleColumn;var kibana=(0,_kibana.useKibana)();var combinedQueries=(0,_helpers.combineQueries)({config:_public.esQuery.getEsQueryConfig(kibana.services.uiSettings),dataProviders:dataProviders,indexPattern:indexPattern,browserFields:browserFields,filters:filters,kqlQuery:{query:kqlQueryExpression,language:"kuery"},kqlMode:kqlMode,start:start,end:end});var columnsHeader=(0,_fp.isEmpty)(columns)?_default_headers.defaultHeaders:columns;return _react.default.createElement(_auto_sizer.AutoSizer,{detectAnyWindowResize:true,content:true},(function(_ref2){var measureRef=_ref2.measureRef,_ref2$content=_ref2.content,_ref2$content$height=_ref2$content.height,timelineHeaderHeight=_ref2$content$height===void 0?0:_ref2$content$height,_ref2$content$width=_ref2$content.width,width=_ref2$content$width===void 0?0:_ref2$content$width;return _react.default.createElement(TimelineContainer,{"data-test-subj":"timeline",direction:"column",gutterSize:"none",justifyContent:"flexStart"},_react.default.createElement(WrappedByAutoSizer,{ref:measureRef},_react.default.createElement(_header.TimelineHeader,{browserFields:browserFields,id:id,indexPattern:indexPattern,dataProviders:dataProviders,onChangeDataProviderKqlQuery:onChangeDataProviderKqlQuery,onChangeDroppableAndProvider:onChangeDroppableAndProvider,onDataProviderEdited:onDataProviderEdited,onDataProviderRemoved:onDataProviderRemoved,onToggleDataProviderEnabled:onToggleDataProviderEnabled,onToggleDataProviderExcluded:onToggleDataProviderExcluded,show:show,showCallOutUnauthorizedMsg:showCallOutUnauthorizedMsg,sort:sort})),_react.default.createElement(_fetch_kql_timeline.TimelineKqlFetch,{id:id,indexPattern:indexPattern,inputId:"timeline"}),combinedQueries!=null?_react.default.createElement(_timeline.TimelineQuery,{eventType:eventType,id:id,indexToAdd:indexToAdd,fields:columnsHeader.map((function(c){return c.id})),sourceId:"default",limit:itemsPerPage,filterQuery:combinedQueries.filterQuery,sortField:{sortFieldId:sort.columnId,direction:sort.sortDirection}},(function(_ref3){var events=_ref3.events,inspect=_ref3.inspect,loading=_ref3.loading,totalCount=_ref3.totalCount,pageInfo=_ref3.pageInfo,loadMore=_ref3.loadMore,getUpdatedAt=_ref3.getUpdatedAt,refetch=_ref3.refetch;return _react.default.createElement(_timeline_context.ManageTimelineContext,{loading:loading||loadingIndexName,width:width},_react.default.createElement(_refetch_timeline.TimelineRefetch,{id:id,inputId:"timeline",inspect:inspect,loading:loading,refetch:refetch}),_react.default.createElement(_stateful_body.StatefulBody,{browserFields:browserFields,data:events,id:id,height:(0,_helpers.calculateBodyHeight)({flyoutHeight:flyoutHeight,flyoutHeaderHeight:flyoutHeaderHeight,timelineHeaderHeight:timelineHeaderHeight,timelineFooterHeight:_footer.footerHeight}),sort:sort,toggleColumn:toggleColumn}),_react.default.createElement(_footer.Footer,{serverSideEventCount:totalCount,hasNextPage:(0,_fp.getOr)(false,"hasNextPage",pageInfo),height:_footer.footerHeight,isLive:isLive,isLoading:loading||loadingIndexName,itemsCount:events.length,itemsPerPage:itemsPerPage,itemsPerPageOptions:itemsPerPageOptions,onChangeItemsPerPage:onChangeItemsPerPage,onLoadMore:loadMore,nextCursor:(0,_fp.getOr)(null,"endCursor.value",pageInfo),tieBreaker:(0,_fp.getOr)(null,"endCursor.tiebreaker",pageInfo),getUpdatedAt:getUpdatedAt,compact:isCompactFooter(width)}))})):null)}))};exports.TimelineComponent=TimelineComponent;TimelineComponent.displayName="TimelineComponent";var Timeline=_react.default.memo(TimelineComponent);exports.Timeline=Timeline;Timeline.displayName="Timeline"},7629:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.TimelineQuery=void 0;var _fp=__webpack_require__(223);var _memoizeOne=_interopRequireDefault(__webpack_require__(1889));var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _redux=__webpack_require__(7020);var _reactRedux=__webpack_require__(7014);var _constants=__webpack_require__(977);var _store=__webpack_require__(7016);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(7029);var _query_template=__webpack_require__(7630);var _index=__webpack_require__(8764);var _timeline=__webpack_require__(1915);var _signals=__webpack_require__(7329);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TimelineQueryComponent=function(_QueryTemplate){_inherits(TimelineQueryComponent,_QueryTemplate);function TimelineQueryComponent(props){var _this;_classCallCheck(this,TimelineQueryComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(TimelineQueryComponent).call(this,props));_defineProperty(_assertThisInitialized(_this),"updatedDate",Date.now());_defineProperty(_assertThisInitialized(_this),"memoizedTimelineEvents",void 0);_defineProperty(_assertThisInitialized(_this),"getUpdatedAt",(function(){return _this.updatedDate}));_defineProperty(_assertThisInitialized(_this),"getTimelineEvents",(function(variables,timelineEdges){return timelineEdges.map((function(e){return e.node}))}));_this.memoizedTimelineEvents=(0,_memoizeOne.default)(_this.getTimelineEvents);return _this}_createClass(TimelineQueryComponent,[{key:"render",value:function render(){var _ref,_this2=this;var _this$props=this.props,children=_this$props.children,clearSignalsState=_this$props.clearSignalsState,_this$props$eventType=_this$props.eventType,eventType=_this$props$eventType===void 0?"raw":_this$props$eventType,id=_this$props.id,indexPattern=_this$props.indexPattern,_this$props$indexToAd=_this$props.indexToAdd,indexToAdd=_this$props$indexToAd===void 0?[]:_this$props$indexToAd,isInspected=_this$props.isInspected,kibana=_this$props.kibana,limit=_this$props.limit,fields=_this$props.fields,filterQuery=_this$props.filterQuery,sourceId=_this$props.sourceId,sortField=_this$props.sortField;var defaultKibanaIndex=kibana.services.uiSettings.get(_constants.DEFAULT_INDEX_KEY);var defaultIndex=indexPattern==null||indexPattern!=null&&indexPattern.title===""?[].concat(_toConsumableArray(["all","raw"].includes(eventType)?defaultKibanaIndex:[]),_toConsumableArray(["all","signal"].includes(eventType)?indexToAdd:[])):(_ref=indexPattern===null||indexPattern===void 0?void 0:indexPattern.title.split(","))!==null&&_ref!==void 0?_ref:[];var variables={fieldRequested:fields,filterQuery:(0,_helpers.createFilter)(filterQuery),sourceId:sourceId,pagination:{limit:limit,cursor:null,tiebreaker:null},sortField:sortField,defaultIndex:defaultIndex,inspect:isInspected};return _react.default.createElement(_reactApollo.Query,{query:_index.timelineQuery,fetchPolicy:"network-only",notifyOnNetworkStatusChange:true,variables:variables},(function(_ref2){var data=_ref2.data,loading=_ref2.loading,fetchMore=_ref2.fetchMore,refetch=_ref2.refetch;_this2.setRefetch(refetch);_this2.setExecuteBeforeRefetch(clearSignalsState);_this2.setExecuteBeforeFetchMore(clearSignalsState);var timelineEdges=(0,_fp.getOr)([],"source.Timeline.edges",data);_this2.setFetchMore(fetchMore);_this2.setFetchMoreOptions((function(newCursor,tiebreaker){return{variables:{pagination:{cursor:newCursor,tiebreaker:tiebreaker,limit:limit}},updateQuery:function updateQuery(prev,_ref3){var fetchMoreResult=_ref3.fetchMoreResult;if(!fetchMoreResult){return prev}return _objectSpread({},fetchMoreResult,{source:_objectSpread({},fetchMoreResult.source,{Timeline:_objectSpread({},fetchMoreResult.source.Timeline,{edges:[].concat(_toConsumableArray(prev.source.Timeline.edges),_toConsumableArray(fetchMoreResult.source.Timeline.edges))})})})}}}));_this2.updatedDate=Date.now();return children({id:id,inspect:(0,_fp.getOr)(null,"source.Timeline.inspect",data),refetch:_this2.wrappedRefetch,loading:loading,totalCount:(0,_fp.getOr)(0,"source.Timeline.totalCount",data),pageInfo:(0,_fp.getOr)({},"source.Timeline.pageInfo",data),events:_this2.memoizedTimelineEvents(JSON.stringify(variables),timelineEdges),loadMore:_this2.wrappedLoadMore,getUpdatedAt:_this2.getUpdatedAt})}))}}]);return TimelineQueryComponent}(_query_template.QueryTemplate);var makeMapStateToProps=function makeMapStateToProps(){var getQuery=_store.inputsSelectors.timelineQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref4){var id=_ref4.id;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return{isInspected:isInspected}};return mapStateToProps};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{clearSignalsState:function clearSignalsState(_ref5){var id=_ref5.id;if(id!=null&&id===_signals.SIGNALS_PAGE_TIMELINE_ID){dispatch(_timeline.timelineActions.clearEventsLoading({id:id}));dispatch(_timeline.timelineActions.clearEventsDeleted({id:id}))}}}};var TimelineQuery=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps,mapDispatchToProps),_kibana.withKibana)(TimelineQueryComponent);exports.TimelineQuery=TimelineQuery},7630:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.QueryTemplate=void 0;var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var QueryTemplate=function(_React$PureComponent){_inherits(QueryTemplate,_React$PureComponent);function QueryTemplate(){var _getPrototypeOf2;var _this;_classCallCheck(this,QueryTemplate);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(QueryTemplate)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"fetchMore",void 0);_defineProperty(_assertThisInitialized(_this),"fetchMoreOptions",void 0);_defineProperty(_assertThisInitialized(_this),"refetch",void 0);_defineProperty(_assertThisInitialized(_this),"executeBeforeFetchMore",void 0);_defineProperty(_assertThisInitialized(_this),"executeBeforeRefetch",void 0);_defineProperty(_assertThisInitialized(_this),"setExecuteBeforeFetchMore",(function(val){_this.executeBeforeFetchMore=val}));_defineProperty(_assertThisInitialized(_this),"setExecuteBeforeRefetch",(function(val){_this.executeBeforeRefetch=val}));_defineProperty(_assertThisInitialized(_this),"setFetchMore",(function(val){_this.fetchMore=val}));_defineProperty(_assertThisInitialized(_this),"setFetchMoreOptions",(function(val){_this.fetchMoreOptions=val}));_defineProperty(_assertThisInitialized(_this),"setRefetch",(function(val){_this.refetch=val}));_defineProperty(_assertThisInitialized(_this),"wrappedLoadMore",(function(newCursor,tiebreaker){_this.executeBeforeFetchMore({id:_this.props.id});return _this.fetchMore(_this.fetchMoreOptions(newCursor,tiebreaker))}));_defineProperty(_assertThisInitialized(_this),"wrappedRefetch",(function(variables){_this.executeBeforeRefetch({id:_this.props.id});return _this.refetch(variables)}));return _this}return QueryTemplate}(_react.default.PureComponent);exports.QueryTemplate=QueryTemplate},7631:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatefulBody=exports.emptyColumnHeaders=void 0;var _fp=__webpack_require__(223);var _memoizeOne=_interopRequireDefault(__webpack_require__(1889));var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _store=__webpack_require__(7016);var _actions=__webpack_require__(1882);var _defaults=__webpack_require__(7053);var _timeline_context=__webpack_require__(7033);var _helpers=__webpack_require__(7277);var _helpers2=__webpack_require__(7135);var _index=__webpack_require__(8766);var _renderers=__webpack_require__(8815);var _plain_row_renderer=__webpack_require__(7652);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var emptyColumnHeaders=[];exports.emptyColumnHeaders=emptyColumnHeaders;var StatefulBodyComponent=_react.default.memo((function(_ref){var addNoteToEvent=_ref.addNoteToEvent,applyDeltaToColumnWidth=_ref.applyDeltaToColumnWidth,browserFields=_ref.browserFields,columnHeaders=_ref.columnHeaders,data=_ref.data,eventIdToNoteIds=_ref.eventIdToNoteIds,height=_ref.height,id=_ref.id,_ref$isEventViewer=_ref.isEventViewer,isEventViewer=_ref$isEventViewer===void 0?false:_ref$isEventViewer,isSelectAllChecked=_ref.isSelectAllChecked,loadingEventIds=_ref.loadingEventIds,notesById=_ref.notesById,pinEvent=_ref.pinEvent,pinnedEventIds=_ref.pinnedEventIds,range=_ref.range,removeColumn=_ref.removeColumn,selectedEventIds=_ref.selectedEventIds,setSelected=_ref.setSelected,clearSelected=_ref.clearSelected,showCheckboxes=_ref.showCheckboxes,showRowRenderers=_ref.showRowRenderers,sort=_ref.sort,toggleColumn=_ref.toggleColumn,unPinEvent=_ref.unPinEvent,updateColumns=_ref.updateColumns,updateNote=_ref.updateNote,updateSort=_ref.updateSort;var timelineTypeContext=(0,_timeline_context.useTimelineTypeContext)();var getNotesByIds=(0,_react.useCallback)((function(noteIds){return _store.appSelectors.getNotes(notesById,noteIds)}),[notesById]);var onAddNoteToEvent=(0,_react.useCallback)((function(_ref2){var eventId=_ref2.eventId,noteId=_ref2.noteId;return addNoteToEvent({id:id,eventId:eventId,noteId:noteId})}),[id]);var onRowSelected=(0,_react.useCallback)((function(_ref3){var _timelineTypeContext$;var eventIds=_ref3.eventIds,isSelected=_ref3.isSelected;setSelected({id:id,eventIds:(0,_helpers2.getEventIdToDataMapping)(data,eventIds,(_timelineTypeContext$=timelineTypeContext.queryFields)!==null&&_timelineTypeContext$!==void 0?_timelineTypeContext$:[]),isSelected:isSelected,isSelectAllChecked:isSelected&&Object.keys(selectedEventIds).length+1===data.length})}),[id,data,selectedEventIds,timelineTypeContext.queryFields]);var onSelectAll=(0,_react.useCallback)((function(_ref4){var _timelineTypeContext$2;var isSelected=_ref4.isSelected;return isSelected?setSelected({id:id,eventIds:(0,_helpers2.getEventIdToDataMapping)(data,data.map((function(event){return event._id})),(_timelineTypeContext$2=timelineTypeContext.queryFields)!==null&&_timelineTypeContext$2!==void 0?_timelineTypeContext$2:[]),isSelected:isSelected,isSelectAllChecked:isSelected}):clearSelected({id:id})}),[id,data,timelineTypeContext.queryFields]);var onColumnSorted=(0,_react.useCallback)((function(sorted){updateSort({id:id,sort:sorted})}),[id]);var onColumnRemoved=(0,_react.useCallback)((function(columnId){return removeColumn({id:id,columnId:columnId})}),[id]);var onColumnResized=(0,_react.useCallback)((function(_ref5){var columnId=_ref5.columnId,delta=_ref5.delta;return applyDeltaToColumnWidth({id:id,columnId:columnId,delta:delta})}),[id]);var onPinEvent=(0,_react.useCallback)((function(eventId){return pinEvent({id:id,eventId:eventId})}),[id]);var onUnPinEvent=(0,_react.useCallback)((function(eventId){return unPinEvent({id:id,eventId:eventId})}),[id]);var onUpdateNote=(0,_react.useCallback)((function(note){return updateNote({note:note})}),[]);var onUpdateColumns=(0,_react.useCallback)((function(columns){return updateColumns({id:id,columns:columns})}),[id]);(0,_react.useEffect)((function(){if(timelineTypeContext.selectAll){onSelectAll({isSelected:true})}}),[timelineTypeContext.selectAll]);return _react.default.createElement(_index.Body,{addNoteToEvent:onAddNoteToEvent,browserFields:browserFields,columnHeaders:columnHeaders||emptyColumnHeaders,columnRenderers:_renderers.columnRenderers,data:data,eventIdToNoteIds:eventIdToNoteIds,getNotesByIds:getNotesByIds,height:height,id:id,isEventViewer:isEventViewer,isSelectAllChecked:isSelectAllChecked,loadingEventIds:loadingEventIds,onColumnRemoved:onColumnRemoved,onColumnResized:onColumnResized,onColumnSorted:onColumnSorted,onRowSelected:onRowSelected,onSelectAll:onSelectAll,onFilterChange:_fp.noop,onPinEvent:onPinEvent,onUnPinEvent:onUnPinEvent,onUpdateColumns:onUpdateColumns,pinnedEventIds:pinnedEventIds,range:range,rowRenderers:showRowRenderers?_renderers.rowRenderers:[_plain_row_renderer.plainRowRenderer],selectedEventIds:selectedEventIds,showCheckboxes:showCheckboxes,sort:sort,toggleColumn:toggleColumn,updateNote:onUpdateNote})}),(function(prevProps,nextProps){return prevProps.browserFields===nextProps.browserFields&&prevProps.columnHeaders===nextProps.columnHeaders&&prevProps.data===nextProps.data&&prevProps.eventIdToNoteIds===nextProps.eventIdToNoteIds&&prevProps.notesById===nextProps.notesById&&prevProps.height===nextProps.height&&prevProps.id===nextProps.id&&prevProps.isEventViewer===nextProps.isEventViewer&&prevProps.isSelectAllChecked===nextProps.isSelectAllChecked&&prevProps.loadingEventIds===nextProps.loadingEventIds&&prevProps.pinnedEventIds===nextProps.pinnedEventIds&&prevProps.selectedEventIds===nextProps.selectedEventIds&&prevProps.showCheckboxes===nextProps.showCheckboxes&&prevProps.showRowRenderers===nextProps.showRowRenderers&&prevProps.range===nextProps.range&&prevProps.sort===nextProps.sort}));StatefulBodyComponent.displayName="StatefulBodyComponent";var makeMapStateToProps=function makeMapStateToProps(){var memoizedColumnHeaders=(0,_memoizeOne.default)(_helpers.getColumnHeaders);var getTimeline=_store.timelineSelectors.getTimelineByIdSelector();var getNotesByIds=_store.appSelectors.notesByIdsSelector();var mapStateToProps=function mapStateToProps(state,_ref6){var _getTimeline;var browserFields=_ref6.browserFields,id=_ref6.id;var timeline=(_getTimeline=getTimeline(state,id))!==null&&_getTimeline!==void 0?_getTimeline:_defaults.timelineDefaults;var columns=timeline.columns,eventIdToNoteIds=timeline.eventIdToNoteIds,eventType=timeline.eventType,isSelectAllChecked=timeline.isSelectAllChecked,loadingEventIds=timeline.loadingEventIds,pinnedEventIds=timeline.pinnedEventIds,selectedEventIds=timeline.selectedEventIds,showCheckboxes=timeline.showCheckboxes,showRowRenderers=timeline.showRowRenderers;return{columnHeaders:memoizedColumnHeaders(columns,browserFields),eventIdToNoteIds:eventIdToNoteIds,eventType:eventType,isSelectAllChecked:isSelectAllChecked,loadingEventIds:loadingEventIds,notesById:getNotesByIds(state),id:id,pinnedEventIds:pinnedEventIds,selectedEventIds:selectedEventIds,showCheckboxes:showCheckboxes,showRowRenderers:showRowRenderers}};return mapStateToProps};var StatefulBody=(0,_reactRedux.connect)(makeMapStateToProps,{addNoteToEvent:_actions.timelineActions.addNoteToEvent,applyDeltaToColumnWidth:_actions.timelineActions.applyDeltaToColumnWidth,clearSelected:_actions.timelineActions.clearSelected,pinEvent:_actions.timelineActions.pinEvent,removeColumn:_actions.timelineActions.removeColumn,removeProvider:_actions.timelineActions.removeProvider,setSelected:_actions.timelineActions.setSelected,unPinEvent:_actions.timelineActions.unPinEvent,updateColumns:_actions.timelineActions.updateColumns,updateNote:_actions.appActions.updateNote,updateSort:_actions.timelineActions.updateSort})(StatefulBodyComponent);exports.StatefulBody=StatefulBody},7632:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getFieldColumns=exports.getFieldItems=exports.Description=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactBeautifulDnd=__webpack_require__(7089);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _draggable_wrapper=__webpack_require__(7032);var _droppable_wrapper=__webpack_require__(7198);var _helpers=__webpack_require__(7021);var _field_badge=__webpack_require__(7334);var _empty_value=__webpack_require__(7017);var _helpers2=__webpack_require__(7156);var _selectable_text=__webpack_require__(7633);var _default_headers=__webpack_require__(7038);var _constants=__webpack_require__(7047);var _truncatable_text=__webpack_require__(7131);var _field_name=__webpack_require__(7634);var i18n=_interopRequireWildcard(__webpack_require__(7112));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var TypeIcon=(0,_styledComponents.default)(_eui.EuiIcon).withConfig({displayName:"TypeIcon",componentId:"sc-1idz2bi-0"})(["margin-left:5px;position:relative;top:-1px;"]);TypeIcon.displayName="TypeIcon";var Description=_styledComponents.default.span.withConfig({displayName:"Description",componentId:"sc-1idz2bi-1"})(["user-select:text;width:150px;"]);exports.Description=Description;Description.displayName="Description";var getFieldItems=function getFieldItems(_ref){var browserFields=_ref.browserFields,category=_ref.category,categoryId=_ref.categoryId,columnHeaders=_ref.columnHeaders,_ref$highlight=_ref.highlight,highlight=_ref$highlight===void 0?"":_ref$highlight,onUpdateColumns=_ref.onUpdateColumns,timelineId=_ref.timelineId,toggleColumn=_ref.toggleColumn;return(0,_fp.uniqBy)("name",_toConsumableArray(Object.values(category!=null&&category.fields!=null?category.fields:{}))).map((function(field){return{description:_react.default.createElement(_selectable_text.SelectableText,{"data-test-subj":"field-".concat(field.name,"-description")},"".concat(field.description||(0,_empty_value.getEmptyValue)()," ").concat((0,_helpers2.getExampleText)(field.example))),field:_react.default.createElement(_droppable_wrapper.DroppableWrapper,{droppableId:(0,_helpers.getDroppableId)("field-browser-field-items-field-droppable-wrapper-".concat(timelineId,"-").concat(categoryId,"-").concat(field.name)),key:"field-browser-field-items-field-droppable-wrapper-".concat(timelineId,"-").concat(categoryId,"-").concat(field.name),isDropDisabled:true,type:_helpers.DRAG_TYPE_FIELD},_react.default.createElement(_reactBeautifulDnd.Draggable,{draggableId:(0,_helpers.getDraggableFieldId)({contextId:"field-browser-field-items-field-draggable-".concat(timelineId,"-").concat(categoryId,"-").concat(field.name),fieldId:field.name||""}),index:0,type:_helpers.DRAG_TYPE_FIELD},(function(provided,snapshot){return _react.default.createElement("div",_extends({},provided.draggableProps,provided.dragHandleProps,{ref:provided.innerRef,style:_objectSpread({},provided.draggableProps.style,{zIndex:9999})}),!snapshot.isDragging?_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{content:i18n.TOGGLE_COLUMN_TOOLTIP},_react.default.createElement(_eui.EuiCheckbox,{checked:columnHeaders.findIndex((function(c){return c.id===field.name}))!==-1,"data-test-subj":"field-".concat(field.name,"-checkbox"),id:field.name||"",onChange:function onChange(){return toggleColumn({columnHeaderType:_default_headers.defaultColumnHeaderType,id:field.name||"",width:_constants.DEFAULT_COLUMN_MIN_WIDTH})}}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{content:field.type},_react.default.createElement(TypeIcon,{"data-test-subj":"field-".concat(field.name,"-icon"),type:(0,_helpers2.getIconFromType)(field.type||"")}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_field_name.FieldName,{categoryId:field.category||categoryId,categoryColumns:(0,_helpers2.getColumnsWithTimestamp)({browserFields:browserFields,category:field.category||categoryId}),fieldId:field.name||"",highlight:highlight,onUpdateColumns:onUpdateColumns}))):_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_field_badge.DraggableFieldBadge,{fieldId:field.name||""})))}))),fieldId:field.name||""}}))};exports.getFieldItems=getFieldItems;var getFieldColumns=function getFieldColumns(){return[{field:"field",name:i18n.FIELD,sortable:true,render:function render(field,_){return _react.default.createElement(_react.default.Fragment,null,field)},width:"250px"},{field:"description",name:i18n.DESCRIPTION,render:function render(description,_){return _react.default.createElement(_truncatable_text.TruncatableText,null,_react.default.createElement(_eui.EuiToolTip,{position:"top",content:description},_react.default.createElement(_react.default.Fragment,null,description)))},sortable:true,truncateText:true,width:"400px"}]};exports.getFieldColumns=getFieldColumns},7633:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SelectableText=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SelectableText=_styledComponents.default.span.withConfig({displayName:"SelectableText",componentId:"sc-16ax1jx-0"})(["user-select:text;"]);exports.SelectableText=SelectableText;SelectableText.displayName="SelectableText"},7634:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldName=exports.FieldNameContainer=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _with_copy_to_clipboard=__webpack_require__(7310);var _timeline_context=__webpack_require__(7033);var _with_hover_actions=__webpack_require__(7128);var _helpers=__webpack_require__(7072);var i18n=_interopRequireWildcard(__webpack_require__(7112));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var FieldNameContainer=_styledComponents.default.span.withConfig({displayName:"FieldNameContainer",componentId:"sc-15tygnh-0"})(["border-radius:4px;padding:0 4px 0 8px;position:relative;&::before{background-image:linear-gradient( 135deg,"," 25%,transparent 25% ),linear-gradient(-135deg,"," 25%,transparent 25%),linear-gradient(135deg,transparent 75%,"," 75%),linear-gradient(-135deg,transparent 75%,"," 75%);background-position:0 0,1px 0,1px -1px,0px 1px;background-size:2px 2px;bottom:2px;content:'';display:block;left:2px;position:absolute;top:2px;width:4px;}&:hover,&:focus{transition:background-color 0.7s ease;background-color:#000;color:#fff;&::before{background-image:linear-gradient(135deg,#fff 25%,transparent 25%),linear-gradient( -135deg,"," 25%,transparent 25% ),linear-gradient( 135deg,transparent 75%,"," 75% ),linear-gradient( -135deg,transparent 75%,"," 75% );}}"],(function(_ref){var theme=_ref.theme;return theme.eui.euiColorMediumShade}),(function(_ref2){var theme=_ref2.theme;return theme.eui.euiColorMediumShade}),(function(_ref3){var theme=_ref3.theme;return theme.eui.euiColorMediumShade}),(function(_ref4){var theme=_ref4.theme;return theme.eui.euiColorMediumShade}),(function(_ref5){var theme=_ref5.theme;return theme.eui.euiColorLightestShade}),(function(_ref6){var theme=_ref6.theme;return theme.eui.euiColorLightestShade}),(function(_ref7){var theme=_ref7.theme;return theme.eui.euiColorLightestShade}));exports.FieldNameContainer=FieldNameContainer;FieldNameContainer.displayName="FieldNameContainer";var HoverActionsContainer=(0,_styledComponents.default)(_eui.EuiPanel).withConfig({displayName:"HoverActionsContainer",componentId:"sc-15tygnh-1"})(["cursor:default;left:5px;padding:4px;position:absolute;top:-6px;"]);HoverActionsContainer.displayName="HoverActionsContainer";var HoverActionsFlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"HoverActionsFlexGroup",componentId:"sc-15tygnh-2"})(["cursor:pointer;"]);HoverActionsFlexGroup.displayName="HoverActionsFlexGroup";var ViewCategoryIcon=(0,_styledComponents.default)(_eui.EuiIcon).withConfig({displayName:"ViewCategoryIcon",componentId:"sc-15tygnh-3"})(["margin-left:5px;"]);ViewCategoryIcon.displayName="ViewCategoryIcon";var ViewCategory=_react.default.memo((function(_ref8){var categoryId=_ref8.categoryId,onUpdateColumns=_ref8.onUpdateColumns,categoryColumns=_ref8.categoryColumns;var isLoading=(0,_react.useContext)(_timeline_context.TimelineContext);return _react.default.createElement(_eui.EuiToolTip,{content:i18n.VIEW_CATEGORY(categoryId)},!isLoading?_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.VIEW_CATEGORY(categoryId),color:"text","data-test-subj":"view-category",onClick:function onClick(){onUpdateColumns(categoryColumns)},iconType:"visTable"}):_react.default.createElement(_helpers.LoadingSpinner,{size:"m"}))}));ViewCategory.displayName="ViewCategory";var FieldName=_react.default.memo((function(_ref9){var categoryId=_ref9.categoryId,categoryColumns=_ref9.categoryColumns,fieldId=_ref9.fieldId,_ref9$highlight=_ref9.highlight,highlight=_ref9$highlight===void 0?"":_ref9$highlight,onUpdateColumns=_ref9.onUpdateColumns;return _react.default.createElement(_with_hover_actions.WithHoverActions,{hoverContent:_react.default.createElement(HoverActionsContainer,{"data-test-subj":"hover-actions-container",paddingSize:"none"},_react.default.createElement(HoverActionsFlexGroup,{alignItems:"center",direction:"row",gutterSize:"none",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{content:i18n.COPY_TO_CLIPBOARD},_react.default.createElement(_with_copy_to_clipboard.WithCopyToClipboard,{"data-test-subj":"copy-to-clipboard",text:fieldId,titleSummary:i18n.FIELD}))),categoryColumns.length>0&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(ViewCategory,{categoryId:categoryId,categoryColumns:categoryColumns,onUpdateColumns:onUpdateColumns})))),render:function render(){return _react.default.createElement(FieldNameContainer,null,_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(_eui.EuiHighlight,{"data-test-subj":"field-name-".concat(fieldId),search:highlight},fieldId)))}})}));exports.FieldName=FieldName;FieldName.displayName="FieldName"},7635:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sendSignalToTimelineAction=exports.updateSignalStatusAction=exports.getFilterAndRuleBounds=exports.getUpdateSignalsQuery=void 0;var _datemath=_interopRequireDefault(__webpack_require__(77));var _fp=__webpack_require__(223);var _moment=_interopRequireDefault(__webpack_require__(13));var _api=__webpack_require__(7210);var _index=__webpack_require__(7571);var _helpers=__webpack_require__(7056);var _keury=__webpack_require__(1885);var _defaults=__webpack_require__(7053);var _helpers2=__webpack_require__(8776);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var getUpdateSignalsQuery=function getUpdateSignalsQuery(eventIds){return{query:{bool:{filter:{terms:{_id:_toConsumableArray(eventIds)}}}}}};exports.getUpdateSignalsQuery=getUpdateSignalsQuery;var getFilterAndRuleBounds=function getFilterAndRuleBounds(data){var _ref,_data$0$filter,_data$0$filter$;var stringFilter=(_ref=data===null||data===void 0?void 0:(_data$0$filter=data[0].filter((function(d){return d.field==="signal.rule.filters"})))===null||_data$0$filter===void 0?void 0:(_data$0$filter$=_data$0$filter[0])===null||_data$0$filter$===void 0?void 0:_data$0$filter$.value)!==null&&_ref!==void 0?_ref:[];var eventTimes=data.flatMap((function(signal){var _ref2,_signal$filter,_signal$filter$;return(_ref2=(_signal$filter=signal.filter((function(d){return d.field==="signal.original_time"})))===null||_signal$filter===void 0?void 0:(_signal$filter$=_signal$filter[0])===null||_signal$filter$===void 0?void 0:_signal$filter$.value)!==null&&_ref2!==void 0?_ref2:[]})).map((function(d){return(0,_moment.default)(d)}));return[stringFilter,_moment.default.min(eventTimes).valueOf(),_moment.default.max(eventTimes).valueOf()]};exports.getFilterAndRuleBounds=getFilterAndRuleBounds;var updateSignalStatusAction=function updateSignalStatusAction(_ref3){var query,signalIds,status,setEventsLoading,setEventsDeleted,queryObject;return regeneratorRuntime.async((function updateSignalStatusAction$(_context){while(1){switch(_context.prev=_context.next){case 0:query=_ref3.query,signalIds=_ref3.signalIds,status=_ref3.status,setEventsLoading=_ref3.setEventsLoading,setEventsDeleted=_ref3.setEventsDeleted;_context.prev=1;setEventsLoading({eventIds:signalIds,isLoading:true});queryObject=query?{query:JSON.parse(query)}:getUpdateSignalsQuery(signalIds);_context.next=6;return regeneratorRuntime.awrap((0,_api.updateSignalStatus)({query:queryObject,status:status}));case 6:setEventsDeleted({eventIds:signalIds,isDeleted:true});_context.next=11;break;case 9:_context.prev=9;_context.t0=_context["catch"](1);case 11:_context.prev=11;setEventsLoading({eventIds:signalIds,isLoading:false});return _context.finish(11);case 14:case"end":return _context.stop()}}}),null,null,[[1,9,11,14]])};exports.updateSignalStatusAction=updateSignalStatusAction;var sendSignalToTimelineAction=function sendSignalToTimelineAction(_ref4){var _ecsData$signal,_ecsData$signal$rule,_ecsData$signal2,_ecsData$signal2$rule,_ecsData$signal3,_ecsData$signal3$rule,_ecsData$signal4,_ecsData$signal4$rule,_ecsData$timestamp,_ecsData$timestamp2;var apolloClient,createTimeline,ecsData,updateTimelineIsLoading,openSignalInBasicTimeline,timelineId,ellapsedTimeRule,from,to,responseTimeline,timelineTemplate,_ref5,_timeline$kqlQuery,_timeline$kqlQuery$fi,_timeline$kqlQuery$fi2,_timeline$filters,_timeline$dataProvide,_ref6,_timeline$kqlQuery2,_timeline$kqlQuery2$f,_timeline$kqlQuery2$f2,_ref7,_timeline$kqlQuery3,_timeline$kqlQuery3$f,_timeline$kqlQuery3$f2,_formatTimelineResult,timeline,_query,filters,dataProviders;return regeneratorRuntime.async((function sendSignalToTimelineAction$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:apolloClient=_ref4.apolloClient,createTimeline=_ref4.createTimeline,ecsData=_ref4.ecsData,updateTimelineIsLoading=_ref4.updateTimelineIsLoading;openSignalInBasicTimeline=true;timelineId=((_ecsData$signal=ecsData.signal)===null||_ecsData$signal===void 0?void 0:(_ecsData$signal$rule=_ecsData$signal.rule)===null||_ecsData$signal$rule===void 0?void 0:_ecsData$signal$rule.timeline_id)!=null?(_ecsData$signal2=ecsData.signal)===null||_ecsData$signal2===void 0?void 0:(_ecsData$signal2$rule=_ecsData$signal2.rule)===null||_ecsData$signal2$rule===void 0?void 0:_ecsData$signal2$rule.timeline_id[0]:"";ellapsedTimeRule=_moment.default.duration((0,_moment.default)().diff(_datemath.default.parse(((_ecsData$signal3=ecsData.signal)===null||_ecsData$signal3===void 0?void 0:(_ecsData$signal3$rule=_ecsData$signal3.rule)===null||_ecsData$signal3$rule===void 0?void 0:_ecsData$signal3$rule.from)!=null?(_ecsData$signal4=ecsData.signal)===null||_ecsData$signal4===void 0?void 0:(_ecsData$signal4$rule=_ecsData$signal4.rule)===null||_ecsData$signal4$rule===void 0?void 0:_ecsData$signal4$rule.from[0]:"now-0s")));from=(0,_moment.default)((_ecsData$timestamp=ecsData.timestamp)!==null&&_ecsData$timestamp!==void 0?_ecsData$timestamp:new Date).subtract(ellapsedTimeRule).valueOf();to=(0,_moment.default)((_ecsData$timestamp2=ecsData.timestamp)!==null&&_ecsData$timestamp2!==void 0?_ecsData$timestamp2:new Date).valueOf();if(!(timelineId!==""&&apolloClient!=null)){_context2.next=20;break}_context2.prev=7;updateTimelineIsLoading({id:"timeline-1",isLoading:true});_context2.next=11;return regeneratorRuntime.awrap(apolloClient.query({query:_index.oneTimelineQuery,fetchPolicy:"no-cache",variables:{id:timelineId}}));case 11:responseTimeline=_context2.sent;timelineTemplate=(0,_helpers.omitTypenameInTimeline)((0,_fp.getOr)({},"data.getOneTimeline",responseTimeline));if(!(0,_fp.isEmpty)(timelineTemplate)){openSignalInBasicTimeline=false;_formatTimelineResult=(0,_helpers.formatTimelineResultToModel)(timelineTemplate,true),timeline=_formatTimelineResult.timeline;_query=(0,_helpers2.replaceTemplateFieldFromQuery)((_ref5=(_timeline$kqlQuery=timeline.kqlQuery)===null||_timeline$kqlQuery===void 0?void 0:(_timeline$kqlQuery$fi=_timeline$kqlQuery.filterQuery)===null||_timeline$kqlQuery$fi===void 0?void 0:(_timeline$kqlQuery$fi2=_timeline$kqlQuery$fi.kuery)===null||_timeline$kqlQuery$fi2===void 0?void 0:_timeline$kqlQuery$fi2.expression)!==null&&_ref5!==void 0?_ref5:"",ecsData);filters=(0,_helpers2.replaceTemplateFieldFromMatchFilters)((_timeline$filters=timeline.filters)!==null&&_timeline$filters!==void 0?_timeline$filters:[],ecsData);dataProviders=(0,_helpers2.replaceTemplateFieldFromDataProviders)((_timeline$dataProvide=timeline.dataProviders)!==null&&_timeline$dataProvide!==void 0?_timeline$dataProvide:[],ecsData);createTimeline({from:from,timeline:_objectSpread({},timeline,{dataProviders:dataProviders,eventType:"all",filters:filters,dateRange:{start:from,end:to},kqlQuery:{filterQuery:{kuery:{kind:(_ref6=(_timeline$kqlQuery2=timeline.kqlQuery)===null||_timeline$kqlQuery2===void 0?void 0:(_timeline$kqlQuery2$f=_timeline$kqlQuery2.filterQuery)===null||_timeline$kqlQuery2$f===void 0?void 0:(_timeline$kqlQuery2$f2=_timeline$kqlQuery2$f.kuery)===null||_timeline$kqlQuery2$f2===void 0?void 0:_timeline$kqlQuery2$f2.kind)!==null&&_ref6!==void 0?_ref6:"kuery",expression:_query},serializedQuery:(0,_keury.convertKueryToElasticSearchQuery)(_query)},filterQueryDraft:{kind:(_ref7=(_timeline$kqlQuery3=timeline.kqlQuery)===null||_timeline$kqlQuery3===void 0?void 0:(_timeline$kqlQuery3$f=_timeline$kqlQuery3.filterQuery)===null||_timeline$kqlQuery3$f===void 0?void 0:(_timeline$kqlQuery3$f2=_timeline$kqlQuery3$f.kuery)===null||_timeline$kqlQuery3$f2===void 0?void 0:_timeline$kqlQuery3$f2.kind)!==null&&_ref7!==void 0?_ref7:"kuery",expression:_query}},show:true}),to:to})}_context2.next=20;break;case 16:_context2.prev=16;_context2.t0=_context2["catch"](7);openSignalInBasicTimeline=true;updateTimelineIsLoading({id:"timeline-1",isLoading:false});case 20:if(openSignalInBasicTimeline){createTimeline({from:from,timeline:_objectSpread({},_defaults.timelineDefaults,{dataProviders:[{and:[],id:"send-signal-to-timeline-action-default-draggable-event-details-value-formatted-field-value-timeline-1-signal-id-".concat(ecsData._id),name:ecsData._id,enabled:true,excluded:false,kqlQuery:"",queryMatch:{field:"_id",value:ecsData._id,operator:":"}}],id:"timeline-1",dateRange:{start:from,end:to},eventType:"all",kqlQuery:{filterQuery:{kuery:{kind:"kuery",expression:""},serializedQuery:""},filterQueryDraft:{kind:"kuery",expression:""}}}),to:to})}case 21:case"end":return _context2.stop()}}}),null,null,[[7,16]])};exports.sendSignalToTimelineAction=sendSignalToTimelineAction},7636:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.alertsDefaultModel=exports.alertsHeaders=void 0;var _default_headers=__webpack_require__(7038);var _constants=__webpack_require__(7047);var _defaults=__webpack_require__(7053);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var alertsHeaders=[{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"@timestamp",width:_constants.DEFAULT_DATE_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"event.module",width:_constants.DEFAULT_COLUMN_MIN_WIDTH,linkField:"rule.reference"},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"event.dataset",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"event.category",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"event.severity",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"observer.name",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"host.name",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"message",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"agent.id",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"agent.type",width:_constants.DEFAULT_COLUMN_MIN_WIDTH}];exports.alertsHeaders=alertsHeaders;var alertsDefaultModel=_objectSpread({},_defaults.timelineDefaults,{columns:alertsHeaders,showRowRenderers:false});exports.alertsDefaultModel=alertsDefaultModel},7637:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultHeaders=void 0;var _default_headers=__webpack_require__(7038);var _constants=__webpack_require__(7047);var defaultHeaders=[{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"@timestamp",width:_constants.DEFAULT_DATE_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"message",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"host.name",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"event.module",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"event.dataset",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"event.action",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"user.name",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"source.ip",width:_constants.DEFAULT_COLUMN_MIN_WIDTH},{columnHeaderType:_default_headers.defaultColumnHeaderType,id:"destination.ip",width:_constants.DEFAULT_COLUMN_MIN_WIDTH}];exports.defaultHeaders=defaultHeaders},7638:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Pin=exports.getPinIcon=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var i18n=_interopRequireWildcard(__webpack_require__(7332));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getPinIcon=function getPinIcon(pinned){return pinned?"pinFilled":"pin"};exports.getPinIcon=getPinIcon;var Pin=_react.default.memo((function(_ref){var allowUnpinning=_ref.allowUnpinning,_ref$iconSize=_ref.iconSize,iconSize=_ref$iconSize===void 0?"m":_ref$iconSize,_ref$onClick=_ref.onClick,onClick=_ref$onClick===void 0?_fp.noop:_ref$onClick,pinned=_ref.pinned;return _react.default.createElement(_eui.EuiButtonIcon,{"aria-label":pinned?i18n.PINNED:i18n.UNPINNED,"data-test-subj":"pin",iconSize:iconSize,iconType:getPinIcon(pinned),isDisabled:allowUnpinning?false:true,onClick:onClick})}));exports.Pin=Pin;Pin.displayName="Pin"},7639:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.REMOVE_COLUMN=exports.TYPE=exports.FIELD=exports.DESCRIPTION=exports.CATEGORY=void 0;var _i18n=__webpack_require__(2);var CATEGORY=_i18n.i18n.translate("xpack.siem.timeline.categoryTooltip",{defaultMessage:"Category"});exports.CATEGORY=CATEGORY;var DESCRIPTION=_i18n.i18n.translate("xpack.siem.timeline.descriptionTooltip",{defaultMessage:"Description"});exports.DESCRIPTION=DESCRIPTION;var FIELD=_i18n.i18n.translate("xpack.siem.timeline.fieldTooltip",{defaultMessage:"Field"});exports.FIELD=FIELD;var TYPE=_i18n.i18n.translate("xpack.siem.timeline.typeTooltip",{defaultMessage:"Type"});exports.TYPE=TYPE;var REMOVE_COLUMN=_i18n.i18n.translate("xpack.siem.timeline.flyout.pane.removeColumnButtonLabel",{defaultMessage:"Remove column"});exports.REMOVE_COLUMN=REMOVE_COLUMN},7640:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSortDirection=exports.getNextSortDirection=exports.getNewSortDirectionOnClick=void 0;var _types=__webpack_require__(671);var _helpers=__webpack_require__(7061);var getNewSortDirectionOnClick=function getNewSortDirectionOnClick(_ref){var clickedHeader=_ref.clickedHeader,currentSort=_ref.currentSort;return clickedHeader.id===currentSort.columnId?getNextSortDirection(currentSort):_types.Direction.desc};exports.getNewSortDirectionOnClick=getNewSortDirectionOnClick;var getNextSortDirection=function getNextSortDirection(currentSort){switch(currentSort.sortDirection){case _types.Direction.desc:return _types.Direction.asc;case _types.Direction.asc:return _types.Direction.desc;case"none":return _types.Direction.desc;default:return(0,_helpers.assertUnreachable)(currentSort.sortDirection,"Unhandled sort direction")}};exports.getNextSortDirection=getNextSortDirection;var getSortDirection=function getSortDirection(_ref2){var header=_ref2.header,sort=_ref2.sort;return header.id===sort.columnId?sort.sortDirection:"none"};exports.getSortDirection=getSortDirection},7641:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.maxDelay=exports.requestIdleCallbackViaScheduler=exports.polyFillRequestIdleCallback=void 0;var _d3Scale=__webpack_require__(253);var polyFillRequestIdleCallback=function polyFillRequestIdleCallback(callback){var start=Date.now();return setTimeout((function(){callback({didTimeout:false,timeRemaining:function timeRemaining(){return Math.max(0,50-(Date.now()-start))}})}),1)};exports.polyFillRequestIdleCallback=polyFillRequestIdleCallback;var requestIdleCallbackViaScheduler=function requestIdleCallbackViaScheduler(callback,opts){if("requestIdleCallback"in window){window.requestIdleCallback(callback,opts)}else{polyFillRequestIdleCallback(callback)}};exports.requestIdleCallbackViaScheduler=requestIdleCallbackViaScheduler;var maxDelay=(0,_d3Scale.scaleLog)().domain([1,25]).range([100,2e3]).clamp(true);exports.maxDelay=maxDelay},7642:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SIGNAL_RULE_NAME_FIELD_NAME=exports.RULE_REFERENCE_FIELD_NAME=exports.EVENT_MODULE_FIELD_NAME=exports.MESSAGE_FIELD_NAME=exports.IP_FIELD_TYPE=exports.HOST_NAME_FIELD_NAME=exports.DATE_FIELD_TYPE=void 0;var DATE_FIELD_TYPE="date";exports.DATE_FIELD_TYPE=DATE_FIELD_TYPE;var HOST_NAME_FIELD_NAME="host.name";exports.HOST_NAME_FIELD_NAME=HOST_NAME_FIELD_NAME;var IP_FIELD_TYPE="ip";exports.IP_FIELD_TYPE=IP_FIELD_TYPE;var MESSAGE_FIELD_NAME="message";exports.MESSAGE_FIELD_NAME=MESSAGE_FIELD_NAME;var EVENT_MODULE_FIELD_NAME="event.module";exports.EVENT_MODULE_FIELD_NAME=EVENT_MODULE_FIELD_NAME;var RULE_REFERENCE_FIELD_NAME="rule.reference";exports.RULE_REFERENCE_FIELD_NAME=RULE_REFERENCE_FIELD_NAME;var SIGNAL_RULE_NAME_FIELD_NAME="signal.rule.name";exports.SIGNAL_RULE_NAME_FIELD_NAME=SIGNAL_RULE_NAME_FIELD_NAME},7643:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormattedDuration=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _helpers=__webpack_require__(7644);var _tooltip=__webpack_require__(8802);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FormattedDuration=_react.default.memo((function(_ref){var maybeDurationNanoseconds=_ref.maybeDurationNanoseconds,tooltipTitle=_ref.tooltipTitle;return _react.default.createElement(_tooltip.FormattedDurationTooltip,{maybeDurationNanoseconds:maybeDurationNanoseconds,tooltipTitle:tooltipTitle},_react.default.createElement("div",{"data-test-subj":"formatted-duration"},(0,_helpers.getFormattedDurationString)(maybeDurationNanoseconds)))}));exports.FormattedDuration=FormattedDuration;FormattedDuration.displayName="FormattedDuration"},7644:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getHumanizedDuration=exports.getFormattedDurationString=exports.ONE_YEAR=exports.ONE_MONTH=exports.ONE_DAY=exports.ONE_HOUR=exports.ONE_MINUTE=exports.ONE_SECOND=exports.ONE_MILLISECOND_AS_NANOSECONDS=void 0;var _moment=_interopRequireDefault(__webpack_require__(13));var _empty_value=__webpack_require__(7017);var i18n=_interopRequireWildcard(__webpack_require__(8801));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ONE_MILLISECOND_AS_NANOSECONDS=1e6;exports.ONE_MILLISECOND_AS_NANOSECONDS=ONE_MILLISECOND_AS_NANOSECONDS;var ONE_SECOND=1e3;exports.ONE_SECOND=ONE_SECOND;var ONE_MINUTE=6e4;exports.ONE_MINUTE=ONE_MINUTE;var ONE_HOUR=36e5;exports.ONE_HOUR=ONE_HOUR;var ONE_DAY=864e5;exports.ONE_DAY=ONE_DAY;var ONE_MONTH=2592e6;exports.ONE_MONTH=ONE_MONTH;var ONE_YEAR=31536e6;exports.ONE_YEAR=ONE_YEAR;var milliseconds=function milliseconds(duration){return Number.isInteger(duration.milliseconds())?"".concat(duration.milliseconds(),"ms"):"".concat(duration.milliseconds().toFixed(6),"ms")};var seconds=function seconds(duration){return"".concat(duration.seconds().toFixed(),"s").concat(duration.milliseconds()>0?" ".concat(milliseconds(duration)):"")};var minutes=function minutes(duration){return"".concat(duration.minutes(),"m ").concat(seconds(duration))};var hours=function hours(duration){return"".concat(duration.hours(),"h ").concat(minutes(duration))};var days=function days(duration){return"".concat(duration.days(),"d ").concat(hours(duration))};var months=function months(duration){return"".concat(duration.years()>0||duration.months()>0?"".concat(duration.months(),"m "):"").concat(days(duration))};var years=function years(duration){return"".concat(duration.years()>0?"".concat(duration.years(),"y "):"").concat(months(duration))};var getFormattedDurationString=function getFormattedDurationString(maybeDurationNanoseconds){var totalNanoseconds=Number(maybeDurationNanoseconds);if(maybeDurationNanoseconds==null){return(0,_empty_value.getEmptyValue)()}if(Number.isNaN(totalNanoseconds)||totalNanoseconds<0){return"".concat(maybeDurationNanoseconds)}if(totalNanoseconds<ONE_MILLISECOND_AS_NANOSECONDS){return"".concat(totalNanoseconds,"ns")}var duration=_moment.default.duration(totalNanoseconds/ONE_MILLISECOND_AS_NANOSECONDS);var totalMs=duration.asMilliseconds();if(totalMs<ONE_SECOND){return milliseconds(duration)}else if(totalMs<ONE_MINUTE){return seconds(duration)}else if(totalMs<ONE_HOUR){return minutes(duration)}else if(totalMs<ONE_DAY){return hours(duration)}else if(totalMs<ONE_MONTH){return days(duration)}else if(totalMs<ONE_YEAR){return months(duration)}else{return years(duration)}};exports.getFormattedDurationString=getFormattedDurationString;var getHumanizedDuration=function getHumanizedDuration(maybeDurationNanoseconds){if(maybeDurationNanoseconds==null){return i18n.NO_DURATION}var totalNanoseconds=Number(maybeDurationNanoseconds);if(Number.isNaN(totalNanoseconds)||totalNanoseconds<0){return i18n.INVALID_DURATION}if(totalNanoseconds===0){return i18n.ZERO_NANOSECONDS}else if(totalNanoseconds===1){return i18n.A_NANOSECOND}else if(totalNanoseconds<ONE_MILLISECOND_AS_NANOSECONDS){return i18n.A_FEW_NANOSECONDS}else if(totalNanoseconds===ONE_MILLISECOND_AS_NANOSECONDS){return i18n.A_MILLISECOND}var totalMs=totalNanoseconds/ONE_MILLISECOND_AS_NANOSECONDS;if(totalMs<ONE_SECOND){return i18n.A_FEW_MILLISECONDS}else if(totalMs===ONE_SECOND){return i18n.A_SECOND}else{return _moment.default.duration(totalMs).humanize()}};exports.getHumanizedDuration=getHumanizedDuration},7645:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseQueryValue=void 0;var _fp=__webpack_require__(223);var parseQueryValue=function parseQueryValue(value){if(value==null){return""}else if((0,_fp.isObject)(value)){return JSON.stringify(value)}else if((0,_fp.isNumber)(value)){return value}return value.toString()};exports.parseQueryValue=parseQueryValue},7646:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ID_FIELD_NAME=void 0;var ID_FIELD_NAME="_id";exports.ID_FIELD_NAME=ID_FIELD_NAME},7647:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Netflow=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _fingerprints=__webpack_require__(8820);var _netflow_columns=__webpack_require__(8821);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Netflow=_react.default.memo((function(_ref){var contextId=_ref.contextId,destinationBytes=_ref.destinationBytes,destinationGeoContinentName=_ref.destinationGeoContinentName,destinationGeoCountryName=_ref.destinationGeoCountryName,destinationGeoCountryIsoCode=_ref.destinationGeoCountryIsoCode,destinationGeoRegionName=_ref.destinationGeoRegionName,destinationGeoCityName=_ref.destinationGeoCityName,destinationIp=_ref.destinationIp,destinationPackets=_ref.destinationPackets,destinationPort=_ref.destinationPort,eventDuration=_ref.eventDuration,eventId=_ref.eventId,eventEnd=_ref.eventEnd,eventStart=_ref.eventStart,networkBytes=_ref.networkBytes,networkCommunityId=_ref.networkCommunityId,networkDirection=_ref.networkDirection,networkPackets=_ref.networkPackets,networkProtocol=_ref.networkProtocol,processName=_ref.processName,sourceBytes=_ref.sourceBytes,sourceGeoContinentName=_ref.sourceGeoContinentName,sourceGeoCountryName=_ref.sourceGeoCountryName,sourceGeoCountryIsoCode=_ref.sourceGeoCountryIsoCode,sourceGeoRegionName=_ref.sourceGeoRegionName,sourceGeoCityName=_ref.sourceGeoCityName,sourcePackets=_ref.sourcePackets,sourceIp=_ref.sourceIp,sourcePort=_ref.sourcePort,tlsClientCertificateFingerprintSha1=_ref.tlsClientCertificateFingerprintSha1,tlsFingerprintsJa3Hash=_ref.tlsFingerprintsJa3Hash,tlsServerCertificateFingerprintSha1=_ref.tlsServerCertificateFingerprintSha1,transport=_ref.transport,userName=_ref.userName;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center","data-test-subj":"netflow-rows",direction:"column",justifyContent:"center",wrap:true,gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_netflow_columns.NetflowColumns,{contextId:contextId,destinationBytes:destinationBytes,destinationGeoContinentName:destinationGeoContinentName,destinationGeoCountryName:destinationGeoCountryName,destinationGeoCountryIsoCode:destinationGeoCountryIsoCode,destinationGeoRegionName:destinationGeoRegionName,destinationGeoCityName:destinationGeoCityName,destinationIp:destinationIp,destinationPackets:destinationPackets,destinationPort:destinationPort,eventDuration:eventDuration,eventId:eventId,eventEnd:eventEnd,eventStart:eventStart,networkBytes:networkBytes,networkCommunityId:networkCommunityId,networkDirection:networkDirection,networkPackets:networkPackets,networkProtocol:networkProtocol,processName:processName,sourceBytes:sourceBytes,sourceGeoContinentName:sourceGeoContinentName,sourceGeoCountryName:sourceGeoCountryName,sourceGeoCountryIsoCode:sourceGeoCountryIsoCode,sourceGeoRegionName:sourceGeoRegionName,sourceGeoCityName:sourceGeoCityName,sourceIp:sourceIp,sourcePackets:sourcePackets,sourcePort:sourcePort,transport:transport,userName:userName})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_fingerprints.Fingerprints,{contextId:contextId,eventId:eventId,tlsClientCertificateFingerprintSha1:tlsClientCertificateFingerprintSha1,tlsFingerprintsJa3Hash:tlsFingerprintsJa3Hash,tlsServerCertificateFingerprintSha1:tlsServerCertificateFingerprintSha1})))}));exports.Netflow=Netflow;Netflow.displayName="Netflow"},7648:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PACKETS=void 0;var _i18n=__webpack_require__(2);var PACKETS=_i18n.i18n.translate("xpack.siem.source.destination.packetsLabel",{defaultMessage:"pkts"});exports.PACKETS=PACKETS},7649:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UserProcess=exports.USER_NAME_FIELD_NAME=exports.PROCESS_NAME_FIELD_NAME=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PROCESS_NAME_FIELD_NAME="process.name";exports.PROCESS_NAME_FIELD_NAME=PROCESS_NAME_FIELD_NAME;var USER_NAME_FIELD_NAME="user.name";exports.USER_NAME_FIELD_NAME=USER_NAME_FIELD_NAME;var UserProcess=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,processName=_ref.processName,userName=_ref.userName;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"flexStart","data-test-subj":"user-process",direction:"column",justifyContent:"center",gutterSize:"none"},userName!=null?(0,_fp.uniq)(userName).map((function(user){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:user},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,"data-test-subj":"user-name",eventId:eventId,field:USER_NAME_FIELD_NAME,value:user,iconType:"user"}))})):null,processName!=null?(0,_fp.uniq)(processName).map((function(process){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:process},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,"data-test-subj":"process-name",eventId:eventId,field:PROCESS_NAME_FIELD_NAME,value:process,iconType:"console"}))})):null)}));exports.UserProcess=UserProcess;UserProcess.displayName="UserProcess"},7650:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SessionUserHostWorkingDir=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var i18n=_interopRequireWildcard(__webpack_require__(7160));var _helpers=__webpack_require__(7022);var _host_working_dir=__webpack_require__(7651);var _primary_secondary_user_info=__webpack_require__(8831);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionUserHostWorkingDir=_react.default.memo((function(_ref){var eventId=_ref.eventId,contextId=_ref.contextId,hostName=_ref.hostName,userName=_ref.userName,primary=_ref.primary,secondary=_ref.secondary,workingDirectory=_ref.workingDirectory,session=_ref.session;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},i18n.SESSION),_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"auditd.session",value:session,iconType:"number"})),_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_primary_secondary_user_info.PrimarySecondaryUserInfo,{contextId:contextId,eventId:eventId,userName:userName,primary:primary,secondary:secondary})),hostName!=null&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},"@"),_react.default.createElement(_host_working_dir.HostWorkingDir,{contextId:contextId,eventId:eventId,workingDirectory:workingDirectory,hostName:hostName}))}));exports.SessionUserHostWorkingDir=SessionUserHostWorkingDir;SessionUserHostWorkingDir.displayName="SessionUserHostWorkingDir"},7651:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HostWorkingDir=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var i18n=_interopRequireWildcard(__webpack_require__(7158));var _helpers=__webpack_require__(7022);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HostWorkingDir=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,hostName=_ref.hostName,workingDirectory=_ref.workingDirectory;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"host.name",value:hostName})),workingDirectory!=null&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},i18n.IN),_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"process.working_directory",value:workingDirectory,iconType:"folderOpen"})))}));exports.HostWorkingDir=HostWorkingDir;HostWorkingDir.displayName="HostWorkingDir"},7652:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.plainRowRenderer=void 0;var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var plainRowRenderer={isInstance:function isInstance(_){return true},renderRow:function renderRow(_ref){var children=_ref.children;return _react.default.createElement(_react.default.Fragment,null,children)}};exports.plainRowRenderer=plainRowRenderer},7653:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getBeginningTokens=exports.getLinksFromSignature=void 0;var _fp=__webpack_require__(223);var _suricataSidDb=__webpack_require__(9263);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var getLinksFromSignature=function getLinksFromSignature(id){var refs=_suricataSidDb.db[id];if(refs!=null){return(0,_fp.uniq)(refs)}else{return[]}};exports.getLinksFromSignature=getLinksFromSignature;var specialTokenRules=["IPv4","IPv6"];var getBeginningTokens=function getBeginningTokens(signature){var signatureSplit=signature.trim().split(" ");return signatureSplit.reduce((function(accum,curr,index){if(accum.length===index&&curr===curr.toUpperCase()&&curr!==""||specialTokenRules.includes(curr)){return[].concat(_toConsumableArray(accum),[curr])}return accum}),[])};exports.getBeginningTokens=getBeginningTokens},7654:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WITH_SPECIAL_PRIVILEGES=exports.VIA=exports.USING_LOGON_TYPE=exports.TO=exports.TARGET_LOGON_ID=exports.SUCCESSFULLY_LOGGED_IN=exports.SUBJECT_LOGON_ID=exports.LOGON_TYPE_UNLOCK=exports.LOGON_TYPE_SERVICE=exports.LOGON_TYPE_REMOTE_INTERACTIVE=exports.LOGON_TYPE_NEW_CREDENTIALS=exports.LOGON_TYPE_NETWORK_CLEARTEXT=exports.LOGON_TYPE_NETWORK=exports.LOGON_TYPE_INTERACTIVE=exports.LOGON_TYPE_CACHED_INTERACTIVE=exports.LOGON_TYPE_BATCH=exports.LOGGED_OFF=exports.AS_REQUESTED_BY_SUBJECT=exports.A_LOGIN_WAS_ATTEMPTED_USING_EXPLICIT_CREDENTIALS=void 0;var _i18n=__webpack_require__(2);var A_LOGIN_WAS_ATTEMPTED_USING_EXPLICIT_CREDENTIALS=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.aLoginWasAttemptedUsingExplicitCredentialsDescription",{defaultMessage:"A login was attempted using explicit credentials"});exports.A_LOGIN_WAS_ATTEMPTED_USING_EXPLICIT_CREDENTIALS=A_LOGIN_WAS_ATTEMPTED_USING_EXPLICIT_CREDENTIALS;var AS_REQUESTED_BY_SUBJECT=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.asRequestedBySubjectDescription",{defaultMessage:"as requested by subject"});exports.AS_REQUESTED_BY_SUBJECT=AS_REQUESTED_BY_SUBJECT;var LOGGED_OFF=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.loggedOffDescription",{defaultMessage:"logged off"});exports.LOGGED_OFF=LOGGED_OFF;var LOGON_TYPE_BATCH=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.logonTypeBatchDescription",{defaultMessage:"Batch"});exports.LOGON_TYPE_BATCH=LOGON_TYPE_BATCH;var LOGON_TYPE_CACHED_INTERACTIVE=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.logonTypeCachedInteractiveDescription",{defaultMessage:"Cached Interactive"});exports.LOGON_TYPE_CACHED_INTERACTIVE=LOGON_TYPE_CACHED_INTERACTIVE;var LOGON_TYPE_INTERACTIVE=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.logonTypeInteractiveDescription",{defaultMessage:"Interactive"});exports.LOGON_TYPE_INTERACTIVE=LOGON_TYPE_INTERACTIVE;var LOGON_TYPE_NETWORK=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.logonTypeNetworkDescription",{defaultMessage:"Network"});exports.LOGON_TYPE_NETWORK=LOGON_TYPE_NETWORK;var LOGON_TYPE_NETWORK_CLEARTEXT=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.logonTypeNetworkCleartextDescription",{defaultMessage:"Network Cleartext"});exports.LOGON_TYPE_NETWORK_CLEARTEXT=LOGON_TYPE_NETWORK_CLEARTEXT;var LOGON_TYPE_NEW_CREDENTIALS=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.logonTypeNewCredentialsDescription",{defaultMessage:"New Credentials"});exports.LOGON_TYPE_NEW_CREDENTIALS=LOGON_TYPE_NEW_CREDENTIALS;var LOGON_TYPE_REMOTE_INTERACTIVE=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.logonTypeRemoteInteractiveDescription",{defaultMessage:"Remote Interactive"});exports.LOGON_TYPE_REMOTE_INTERACTIVE=LOGON_TYPE_REMOTE_INTERACTIVE;var LOGON_TYPE_SERVICE=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.logonTypeServiceDescription",{defaultMessage:"Service"});exports.LOGON_TYPE_SERVICE=LOGON_TYPE_SERVICE;var LOGON_TYPE_UNLOCK=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.logonTypeUnlockDescription",{defaultMessage:"Unlock"});exports.LOGON_TYPE_UNLOCK=LOGON_TYPE_UNLOCK;var SUBJECT_LOGON_ID=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.subjectLogonIdDescription",{defaultMessage:"subject logon ID"});exports.SUBJECT_LOGON_ID=SUBJECT_LOGON_ID;var SUCCESSFULLY_LOGGED_IN=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.successfullyLoggedInDescription",{defaultMessage:"successfully logged in"});exports.SUCCESSFULLY_LOGGED_IN=SUCCESSFULLY_LOGGED_IN;var TARGET_LOGON_ID=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.targetLogonIdDescription",{defaultMessage:"target logon ID"});exports.TARGET_LOGON_ID=TARGET_LOGON_ID;var TO=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.toDescription",{defaultMessage:"to"});exports.TO=TO;var USING_LOGON_TYPE=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.usingLogonTypeDescription",{defaultMessage:"using logon type"});exports.USING_LOGON_TYPE=USING_LOGON_TYPE;var VIA=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.viaDescription",{defaultMessage:"via"});exports.VIA=VIA;var WITH_SPECIAL_PRIVILEGES=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.endgame.withSpecialPrivilegesDescription",{defaultMessage:"With special privileges,"});exports.WITH_SPECIAL_PRIVILEGES=WITH_SPECIAL_PRIVILEGES},7655:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Package=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _helpers=__webpack_require__(7022);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Package=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,packageName=_ref.packageName,packageSummary=_ref.packageSummary,packageVersion=_ref.packageVersion;if(packageName!=null||packageSummary!=null||packageVersion!=null){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"system.audit.package.name",value:packageName,iconType:"document"})),_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"system.audit.package.version",value:packageVersion,iconType:"document"})),_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"system.audit.package.summary",value:packageSummary})))}else{return null}}));exports.Package=Package;Package.displayName="Package"},7656:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AuthSsh=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _helpers=__webpack_require__(7022);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AuthSsh=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,sshSignature=_ref.sshSignature,sshMethod=_ref.sshMethod;return _react.default.createElement(_react.default.Fragment,null,sshSignature!=null&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"system.audit.package.name",value:sshSignature,iconType:"document"})),sshMethod!=null&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"system.audit.package.version",value:sshMethod,iconType:"document"})))}));exports.AuthSsh=AuthSsh;AuthSsh.displayName="AuthSsh"},7657:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Footer=exports.FooterComponent=exports.PagingControl=exports.PagingControlComponent=exports.EventsCount=exports.EventsCountComponent=exports.footerHeight=exports.ServerSideEventCount=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _loading=__webpack_require__(8860);var _last_updated=__webpack_require__(8861);var i18n=_interopRequireWildcard(__webpack_require__(7658));var _timeline_context=__webpack_require__(7033);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var FixedWidthLastUpdated=_styledComponents.default.div.withConfig({displayName:"FixedWidthLastUpdated",componentId:"sc-13vqv53-0"})(["width:","px;overflow:hidden;text-align:end;"],(function(_ref){var compact=_ref.compact;return!compact?200:25}));FixedWidthLastUpdated.displayName="FixedWidthLastUpdated";var FooterContainer=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"FooterContainer",componentId:"sc-13vqv53-1"})(["height:","px;"],(function(_ref2){var height=_ref2.height;return height}));FooterContainer.displayName="FooterContainer";var FooterFlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"FooterFlexGroup",componentId:"sc-13vqv53-2"})(["height:35px;width:100%;"]);FooterFlexGroup.displayName="FooterFlexGroup";var LoadingPanelContainer=_styledComponents.default.div.withConfig({displayName:"LoadingPanelContainer",componentId:"sc-13vqv53-3"})(["padding-top:3px;"]);LoadingPanelContainer.displayName="LoadingPanelContainer";var PopoverRowItems=(0,_styledComponents.default)(_eui.EuiPopover).withConfig({displayName:"PopoverRowItems",componentId:"sc-13vqv53-4"})([".euiButtonEmpty__content{padding:0px 0px;}"]);PopoverRowItems.displayName="PopoverRowItems";var ServerSideEventCount=_styledComponents.default.div.withConfig({displayName:"ServerSideEventCount",componentId:"sc-13vqv53-5"})(["margin:0 5px 0 5px;"]);exports.ServerSideEventCount=ServerSideEventCount;ServerSideEventCount.displayName="ServerSideEventCount";var footerHeight=40;exports.footerHeight=footerHeight;var EventsCountComponent=function EventsCountComponent(_ref3){var _timelineTypeContext$,_timelineTypeContext$2;var closePopover=_ref3.closePopover,isOpen=_ref3.isOpen,items=_ref3.items,itemsCount=_ref3.itemsCount,onClick=_ref3.onClick,serverSideEventCount=_ref3.serverSideEventCount;var timelineTypeContext=(0,_timeline_context.useTimelineTypeContext)();return _react2.default.createElement("h5",null,_react2.default.createElement(PopoverRowItems,{className:"footer-popover",id:"customizablePagination","data-test-subj":"timelineSizeRowPopover",button:_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiBadge,{"data-test-subj":"local-events-count",color:"hollow"},itemsCount,_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",color:"text",iconType:"arrowDown",iconSide:"right",onClick:onClick}))," ".concat(i18n.OF," ")),isOpen:isOpen,closePopover:closePopover,panelPaddingSize:"none"},_react2.default.createElement(_eui.EuiContextMenuPanel,{items:items,"data-test-subj":"timelinePickSizeRow"})),_react2.default.createElement(_eui.EuiToolTip,{content:"".concat(serverSideEventCount," ").concat((_timelineTypeContext$=timelineTypeContext.footerText)!==null&&_timelineTypeContext$!==void 0?_timelineTypeContext$:i18n.TOTAL_COUNT_OF_EVENTS)},_react2.default.createElement(ServerSideEventCount,null,_react2.default.createElement(_eui.EuiBadge,{color:"hollow","data-test-subj":"server-side-event-count"},serverSideEventCount)," ",(_timelineTypeContext$2=timelineTypeContext.documentType)!==null&&_timelineTypeContext$2!==void 0?_timelineTypeContext$2:i18n.EVENTS)))};exports.EventsCountComponent=EventsCountComponent;EventsCountComponent.displayName="EventsCountComponent";var EventsCount=_react2.default.memo(EventsCountComponent);exports.EventsCount=EventsCount;EventsCount.displayName="EventsCount";var PagingControlComponent=function PagingControlComponent(_ref4){var hasNextPage=_ref4.hasNextPage,isLoading=_ref4.isLoading,loadMore=_ref4.loadMore;return _react2.default.createElement(_react2.default.Fragment,null,hasNextPage&&_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"TimelineMoreButton",isLoading:isLoading,onClick:loadMore,size:"s"},isLoading?"".concat(i18n.LOADING,"..."):i18n.LOAD_MORE))};exports.PagingControlComponent=PagingControlComponent;PagingControlComponent.displayName="PagingControlComponent";var PagingControl=_react2.default.memo(PagingControlComponent);exports.PagingControl=PagingControl;PagingControl.displayName="PagingControl";var FooterComponent=function FooterComponent(_ref5){var compact=_ref5.compact,getUpdatedAt=_ref5.getUpdatedAt,hasNextPage=_ref5.hasNextPage,height=_ref5.height,isEventViewer=_ref5.isEventViewer,isLive=_ref5.isLive,isLoading=_ref5.isLoading,itemsCount=_ref5.itemsCount,itemsPerPage=_ref5.itemsPerPage,itemsPerPageOptions=_ref5.itemsPerPageOptions,nextCursor=_ref5.nextCursor,onChangeItemsPerPage=_ref5.onChangeItemsPerPage,onLoadMore=_ref5.onLoadMore,serverSideEventCount=_ref5.serverSideEventCount,tieBreaker=_ref5.tieBreaker;var _useState=(0,_react2.useState)(false),_useState2=_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setIsPopoverOpen=_useState2[1];var _useState3=(0,_react2.useState)(false),_useState4=_slicedToArray(_useState3,2),paginationLoading=_useState4[0],setPaginationLoading=_useState4[1];var _useState5=(0,_react2.useState)(null),_useState6=_slicedToArray(_useState5,2),updatedAt=_useState6[0],setUpdatedAt=_useState6[1];var timelineTypeContext=(0,_timeline_context.useTimelineTypeContext)();var loadMore=(0,_react2.useCallback)((function(){setPaginationLoading(true);onLoadMore(nextCursor,tieBreaker)}),[nextCursor,tieBreaker,onLoadMore]);var onButtonClick=(0,_react2.useCallback)((function(){return setIsPopoverOpen(!isPopoverOpen)}),[isPopoverOpen]);var closePopover=(0,_react2.useCallback)((function(){return setIsPopoverOpen(false)}),[]);(0,_react2.useEffect)((function(){if(paginationLoading&&!isLoading){setPaginationLoading(false);setUpdatedAt(getUpdatedAt())}if(updatedAt===null||!isLoading){setUpdatedAt(getUpdatedAt())}}),[isLoading]);if(isLoading&&!paginationLoading){var _timelineTypeContext$3;return _react2.default.createElement(LoadingPanelContainer,null,_react2.default.createElement(_loading.LoadingPanel,{"data-test-subj":"LoadingPanelTimeline",height:"35px",showBorder:false,text:"".concat((_timelineTypeContext$3=timelineTypeContext.loadingText)!==null&&_timelineTypeContext$3!==void 0?_timelineTypeContext$3:i18n.LOADING_TIMELINE_DATA,"..."),width:"100%"}))}var rowItems=itemsPerPageOptions&&itemsPerPageOptions.map((function(item){return _react2.default.createElement(_eui.EuiContextMenuItem,{key:item,icon:itemsPerPage===item?"check":"empty",onClick:function onClick(){closePopover();onChangeItemsPerPage(item)}},"".concat(item," ").concat(i18n.ROWS))}));return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(FooterContainer,{"data-test-subj":"timeline-footer",direction:"column",gutterSize:"none",height:height,justifyContent:"spaceAround"},_react2.default.createElement(FooterFlexGroup,{alignItems:"center","data-test-subj":"footer-flex-group",direction:"row",gutterSize:"none",justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"event-count-container",grow:false},_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center","data-test-subj":"events-count",direction:"row",gutterSize:"none"},_react2.default.createElement(EventsCount,{closePopover:closePopover,isOpen:isPopoverOpen,items:rowItems,itemsCount:itemsCount,onClick:onButtonClick,serverSideEventCount:serverSideEventCount}))),_react2.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"paging-control-container",grow:false},isLive?_react2.default.createElement(_eui.EuiText,{size:"s","data-test-subj":"is-live-on-message"},_react2.default.createElement("b",null,i18n.AUTO_REFRESH_ACTIVE," ",_react2.default.createElement(_eui.EuiIconTip,{color:"subdued",content:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.footer.autoRefreshActiveTooltip",defaultMessage:"While auto-refresh is enabled, timeline will show you the latest {numberOfItems} events that match your query.",values:{numberOfItems:itemsCount}}),type:"iInCircle"}))):_react2.default.createElement(PagingControl,{"data-test-subj":"paging-control",hasNextPage:hasNextPage,isLoading:isLoading,loadMore:loadMore})),_react2.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"last-updated-container",grow:false},_react2.default.createElement(FixedWidthLastUpdated,{"data-test-subj":"fixed-width-last-updated",compact:compact},_react2.default.createElement(_last_updated.LastUpdatedAt,{updatedAt:updatedAt||getUpdatedAt(),compact:compact}))))))};exports.FooterComponent=FooterComponent;FooterComponent.displayName="FooterComponent";var Footer=_react2.default.memo(FooterComponent,(function(prevProps,nextProps){return prevProps.compact===nextProps.compact&&prevProps.hasNextPage===nextProps.hasNextPage&&prevProps.height===nextProps.height&&prevProps.isEventViewer===nextProps.isEventViewer&&prevProps.isLive===nextProps.isLive&&prevProps.isLoading===nextProps.isLoading&&prevProps.itemsCount===nextProps.itemsCount&&prevProps.itemsPerPage===nextProps.itemsPerPage&&prevProps.itemsPerPageOptions===nextProps.itemsPerPageOptions&&prevProps.serverSideEventCount===nextProps.serverSideEventCount}));exports.Footer=Footer;Footer.displayName="Footer"},7658:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AUTO_REFRESH_ACTIVE=exports.UPDATED=exports.TOTAL_COUNT_OF_EVENTS=exports.LOAD_MORE=exports.LOADING=exports.ROWS=exports.OF=exports.EVENTS=exports.LOADING_TIMELINE_DATA=void 0;var _i18n=__webpack_require__(2);var LOADING_TIMELINE_DATA=_i18n.i18n.translate("xpack.siem.footer.loadingTimelineData",{defaultMessage:"Loading Timeline data"});exports.LOADING_TIMELINE_DATA=LOADING_TIMELINE_DATA;var EVENTS=_i18n.i18n.translate("xpack.siem.footer.events",{defaultMessage:"Events"});exports.EVENTS=EVENTS;var OF=_i18n.i18n.translate("xpack.siem.footer.of",{defaultMessage:"of"});exports.OF=OF;var ROWS=_i18n.i18n.translate("xpack.siem.footer.rows",{defaultMessage:"rows"});exports.ROWS=ROWS;var LOADING=_i18n.i18n.translate("xpack.siem.footer.loadingLabel",{defaultMessage:"Loading"});exports.LOADING=LOADING;var LOAD_MORE=_i18n.i18n.translate("xpack.siem.footer.loadMoreLabel",{defaultMessage:"Load more"});exports.LOAD_MORE=LOAD_MORE;var TOTAL_COUNT_OF_EVENTS=_i18n.i18n.translate("xpack.siem.footer.totalCountOfEvents",{defaultMessage:"events match the search criteria"});exports.TOTAL_COUNT_OF_EVENTS=TOTAL_COUNT_OF_EVENTS;var UPDATED=_i18n.i18n.translate("xpack.siem.footer.updated",{defaultMessage:"Updated"});exports.UPDATED=UPDATED;var AUTO_REFRESH_ACTIVE=_i18n.i18n.translate("xpack.siem.footer.autoRefreshActiveDescription",{defaultMessage:"Auto-Refresh Active"});exports.AUTO_REFRESH_ACTIVE=AUTO_REFRESH_ACTIVE},7659:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimelineRefetch=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _actions=__webpack_require__(1882);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var TimelineRefetchComponent=function TimelineRefetchComponent(_ref){var id=_ref.id,inputId=_ref.inputId,inspect=_ref.inspect,loading=_ref.loading,refetch=_ref.refetch,setTimelineQuery=_ref.setTimelineQuery;(0,_react.useEffect)((function(){setTimelineQuery({id:id,inputId:inputId,inspect:inspect,loading:loading,refetch:refetch})}),[id,inputId,loading,refetch,inspect]);return null};var TimelineRefetch=(0,_redux.compose)((0,_reactRedux.connect)(null,{setTimelineQuery:_actions.inputsActions.setQuery}))(_react.default.memo(TimelineRefetchComponent));exports.TimelineRefetch=TimelineRefetch},7660:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"UtilityBar",{enumerable:true,get:function get(){return _utility_bar.UtilityBar}});Object.defineProperty(exports,"UtilityBarAction",{enumerable:true,get:function get(){return _utility_bar_action.UtilityBarAction}});Object.defineProperty(exports,"UtilityBarGroup",{enumerable:true,get:function get(){return _utility_bar_group.UtilityBarGroup}});Object.defineProperty(exports,"UtilityBarSection",{enumerable:true,get:function get(){return _utility_bar_section.UtilityBarSection}});Object.defineProperty(exports,"UtilityBarText",{enumerable:true,get:function get(){return _utility_bar_text.UtilityBarText}});var _utility_bar=__webpack_require__(8863);var _utility_bar_action=__webpack_require__(8864);var _utility_bar_group=__webpack_require__(8865);var _utility_bar_section=__webpack_require__(8866);var _utility_bar_text=__webpack_require__(8867)},7661:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Empty=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _and_or_badge=__webpack_require__(7216);var i18n=_interopRequireWildcard(__webpack_require__(7151));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var Text=(0,_styledComponents.default)(_eui.EuiText).withConfig({displayName:"Text",componentId:"su2p8o-0"})(["overflow:hidden;margin:5px 0 5px 0;padding:3px;white-space:nowrap;"]);Text.displayName="Text";var BadgeHighlighted=function BadgeHighlighted(props){return _react.default.createElement(_eui.EuiBadge,_extends({},props,{style:{height:"20px",margin:"0 5px 0 5px",maxWidth:"85px",minWidth:"85px"}}))};BadgeHighlighted.displayName="BadgeHighlighted";var HighlightedBackground=_styledComponents.default.span.withConfig({displayName:"HighlightedBackground",componentId:"su2p8o-1"})(["background-color:",";"],(function(props){return props.theme.eui.euiColorLightShade}));HighlightedBackground.displayName="HighlightedBackground";var EmptyContainer=_styledComponents.default.div.withConfig({displayName:"EmptyContainer",componentId:"su2p8o-2"})(["width:",";align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;user-select:none;align-content:center;",""],(function(props){return props.showSmallMsg?"60px":"auto"}),(function(props){return props.showSmallMsg?"\n      border-right: 1px solid ".concat(props.theme.eui.euiColorMediumShade,";\n      margin-right: 10px;\n    "):"\n  min-height: 100px;\n  + div {\n    display: none !important;\n   }\n  "}));EmptyContainer.displayName="EmptyContainer";var NoWrap=_styledComponents.default.div.withConfig({displayName:"NoWrap",componentId:"su2p8o-3"})(["align-items:center;display:flex;flex-direction:row;flex-wrap:no-wrap;"]);NoWrap.displayName="NoWrap";var Empty=_react.default.memo((function(_ref){var _ref$showSmallMsg=_ref.showSmallMsg,showSmallMsg=_ref$showSmallMsg===void 0?false:_ref$showSmallMsg;return _react.default.createElement(EmptyContainer,{className:"timeline-drop-area-empty","data-test-subj":"empty",showSmallMsg:showSmallMsg},!showSmallMsg&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(NoWrap,null,_react.default.createElement(Text,{color:"subdued",size:"s"},i18n.DROP_ANYTHING),_react.default.createElement(HighlightedBackground,null,_react.default.createElement(BadgeHighlighted,null,i18n.HIGHLIGHTED))),_react.default.createElement(NoWrap,null,_react.default.createElement(Text,{color:"subdued",size:"s"},i18n.HERE_TO_BUILD_AN),_react.default.createElement(_and_or_badge.AndOrBadge,{type:"or"}),_react.default.createElement(Text,{color:"subdued",size:"s"},i18n.QUERY))),showSmallMsg&&_react.default.createElement(_and_or_badge.AndOrBadge,{type:"or"}))}));exports.Empty=Empty;Empty.displayName="Empty"},7662:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getDataProviderFilter=exports.QueryBarTimeline=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _rxjs=__webpack_require__(37);var _public=__webpack_require__(11);var _keury=__webpack_require__(1885);var _kibana=__webpack_require__(7013);var _saved_query_services=__webpack_require__(7663);var _query_bar=__webpack_require__(7664);var _helpers=__webpack_require__(7108);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var timelineFilterDropArea="timeline-filter-drop-area";var QueryBarTimeline=(0,_react.memo)((function(_ref){var applyKqlFilterQuery=_ref.applyKqlFilterQuery,browserFields=_ref.browserFields,dataProviders=_ref.dataProviders,filters=_ref.filters,filterQuery=_ref.filterQuery,filterQueryDraft=_ref.filterQueryDraft,from=_ref.from,fromStr=_ref.fromStr,kqlMode=_ref.kqlMode,indexPattern=_ref.indexPattern,isRefreshPaused=_ref.isRefreshPaused,savedQueryId=_ref.savedQueryId,setFilters=_ref.setFilters,setKqlFilterQueryDraft=_ref.setKqlFilterQueryDraft,setSavedQueryId=_ref.setSavedQueryId,refreshInterval=_ref.refreshInterval,timelineId=_ref.timelineId,to=_ref.to,toStr=_ref.toStr,updateReduxTime=_ref.updateReduxTime;var _useState=(0,_react.useState)(fromStr!=null?fromStr:new Date(from).toISOString()),_useState2=_slicedToArray(_useState,2),dateRangeFrom=_useState2[0],setDateRangeFrom=_useState2[1];var _useState3=(0,_react.useState)(toStr!=null?toStr:new Date(to).toISOString()),_useState4=_slicedToArray(_useState3,2),dateRangeTo=_useState4[0],setDateRangTo=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),savedQuery=_useState6[0],setSavedQuery=_useState6[1];var _useState7=(0,_react.useState)({query:filterQuery!=null?filterQuery.expression:"",language:filterQuery!=null?filterQuery.kind:"kuery"}),_useState8=_slicedToArray(_useState7,2),filterQueryConverted=_useState8[0],setFilterQueryConverted=_useState8[1];var _useState9=(0,_react.useState)([]),_useState10=_slicedToArray(_useState9,2),queryBarFilters=_useState10[0],setQueryBarFilters=_useState10[1];var _useState11=(0,_react.useState)((0,_keury.convertKueryToElasticSearchQuery)((0,_helpers.buildGlobalQuery)(dataProviders,browserFields),indexPattern)),_useState12=_slicedToArray(_useState11,2),dataProvidersDsl=_useState12[0],setDataProvidersDsl=_useState12[1];var kibana=(0,_kibana.useKibana)();var _useState13=(0,_react.useState)(new _public.FilterManager(kibana.services.uiSettings)),_useState14=_slicedToArray(_useState13,1),filterManager=_useState14[0];var savedQueryServices=(0,_saved_query_services.useSavedQueryServices)();(0,_react.useEffect)((function(){var isSubscribed=true;var subscriptions=new _rxjs.Subscription;filterManager.setFilters(filters);subscriptions.add(filterManager.getUpdates$().subscribe({next:function next(){if(isSubscribed){var filterWithoutDropArea=filterManager.getFilters().filter((function(f){return f.meta.controlledBy!==timelineFilterDropArea}));setFilters(filterWithoutDropArea);setQueryBarFilters(filterWithoutDropArea)}}}));return function(){isSubscribed=false;subscriptions.unsubscribe()}}),[]);(0,_react.useEffect)((function(){var filterWithoutDropArea=filterManager.getFilters().filter((function(f){return f.meta.controlledBy!==timelineFilterDropArea}));if(!(0,_fp.isEqual)(filters,filterWithoutDropArea)){filterManager.setFilters(filters)}}),[filters]);(0,_react.useEffect)((function(){setFilterQueryConverted({query:filterQuery!=null?filterQuery.expression:"",language:filterQuery!=null?filterQuery.kind:"kuery"})}),[filterQuery]);(0,_react.useEffect)((function(){setDataProvidersDsl((0,_keury.convertKueryToElasticSearchQuery)((0,_helpers.buildGlobalQuery)(dataProviders,browserFields),indexPattern))}),[dataProviders,browserFields,indexPattern]);(0,_react.useEffect)((function(){if(fromStr!=null&&toStr!=null){setDateRangeFrom(fromStr);setDateRangTo(toStr)}else if(from!=null&&to!=null){setDateRangeFrom(new Date(from).toISOString());setDateRangTo(new Date(to).toISOString())}}),[from,fromStr,to,toStr]);(0,_react.useEffect)((function(){var isSubscribed=true;function setSavedQueryByServices(){var mySavedQuery;return regeneratorRuntime.async((function setSavedQueryByServices$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(savedQueryId!=null&&savedQueryServices!=null)){_context.next=13;break}_context.prev=1;_context.next=4;return regeneratorRuntime.awrap(savedQueryServices.getSavedQuery(savedQueryId));case 4:mySavedQuery=_context.sent;if(isSubscribed&&mySavedQuery!=null){setSavedQuery(_objectSpread({},mySavedQuery,{attributes:_objectSpread({},mySavedQuery.attributes,{filters:filters.filter((function(f){return f.meta.controlledBy!==timelineFilterDropArea}))})}))}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);setSavedQuery(null);case 11:_context.next=14;break;case 13:if(isSubscribed){setSavedQuery(null)}case 14:case"end":return _context.stop()}}}),null,null,[[1,8]])}setSavedQueryByServices();return function(){isSubscribed=false}}),[savedQueryId]);var onChangedQuery=(0,_react.useCallback)((function(newQuery){if(filterQueryDraft==null||filterQueryDraft!=null&&filterQueryDraft.expression!==newQuery.query||filterQueryDraft.kind!==newQuery.language){setKqlFilterQueryDraft(newQuery.query,newQuery.language)}}),[filterQueryDraft]);var onSubmitQuery=(0,_react.useCallback)((function(newQuery,timefilter){if(filterQuery==null||filterQuery!=null&&filterQuery.expression!==newQuery.query||filterQuery.kind!==newQuery.language){setKqlFilterQueryDraft(newQuery.query,newQuery.language);applyKqlFilterQuery(newQuery.query,newQuery.language)}if(timefilter!=null){var isQuickSelection=timefilter.from.includes("now")||timefilter.to.includes("now");updateReduxTime({id:"timeline",end:timefilter.to,start:timefilter.from,isInvalid:false,isQuickSelection:isQuickSelection,timelineId:timelineId})}}),[filterQuery,timelineId]);var onSavedQuery=(0,_react.useCallback)((function(newSavedQuery){if(newSavedQuery!=null){if(newSavedQuery.id!==savedQueryId){setSavedQueryId(newSavedQuery.id)}if(savedQueryServices!=null&&dataProvidersDsl!==""){var dataProviderFilterExists=newSavedQuery.attributes.filters!=null?newSavedQuery.attributes.filters.findIndex((function(f){return f.meta.controlledBy===timelineFilterDropArea})):-1;savedQueryServices.saveQuery(_objectSpread({},newSavedQuery.attributes,{filters:newSavedQuery.attributes.filters!=null?dataProviderFilterExists>-1?[].concat(_toConsumableArray(newSavedQuery.attributes.filters.slice(0,dataProviderFilterExists)),[getDataProviderFilter(dataProvidersDsl)],_toConsumableArray(newSavedQuery.attributes.filters.slice(dataProviderFilterExists+1))):[].concat(_toConsumableArray(newSavedQuery.attributes.filters),[getDataProviderFilter(dataProvidersDsl)]):[]}),{overwrite:true})}}else{setSavedQueryId(null)}}),[dataProvidersDsl,savedQueryId,savedQueryServices]);return _react.default.createElement(_query_bar.QueryBar,{dateRangeFrom:dateRangeFrom,dateRangeTo:dateRangeTo,hideSavedQuery:kqlMode==="search",indexPattern:indexPattern,isRefreshPaused:isRefreshPaused,filterQuery:filterQueryConverted,filterManager:filterManager,filters:queryBarFilters,onChangedQuery:onChangedQuery,onSubmitQuery:onSubmitQuery,refreshInterval:refreshInterval,savedQuery:savedQuery,onSavedQuery:onSavedQuery,dataTestSubj:"timelineQueryInput"})}));exports.QueryBarTimeline=QueryBarTimeline;var getDataProviderFilter=function getDataProviderFilter(dataProviderDsl){var dslObject=JSON.parse(dataProviderDsl);var key=Object.keys(dslObject);return _objectSpread({},dslObject,{meta:{alias:timelineFilterDropArea,controlledBy:timelineFilterDropArea,negate:false,disabled:false,type:"custom",key:(0,_fp.isEmpty)(key)?"bool":key[0],value:dataProviderDsl},$state:{store:_public.esFilters.FilterStateStore.APP_STATE}})};exports.getDataProviderFilter=getDataProviderFilter},7663:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useSavedQueryServices=void 0;var _react=__webpack_require__(0);var _public=__webpack_require__(11);var _kibana=__webpack_require__(7013);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useSavedQueryServices=function useSavedQueryServices(){var kibana=(0,_kibana.useKibana)();var client=kibana.services.savedObjects.client;var _useState=(0,_react.useState)((0,_public.createSavedQueryService)(client)),_useState2=_slicedToArray(_useState,2),savedQueryService=_useState2[0],setSavedQueryService=_useState2[1];(0,_react.useEffect)((function(){setSavedQueryService((0,_public.createSavedQueryService)(client))}),[client]);return savedQueryService};exports.useSavedQueryServices=useSavedQueryServices},7664:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QueryBar=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _public=__webpack_require__(11);var _public2=__webpack_require__(31);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var QueryBar=(0,_react.memo)((function(_ref){var dateRangeFrom=_ref.dateRangeFrom,dateRangeTo=_ref.dateRangeTo,_ref$hideSavedQuery=_ref.hideSavedQuery,hideSavedQuery=_ref$hideSavedQuery===void 0?false:_ref$hideSavedQuery,indexPattern=_ref.indexPattern,_ref$isLoading=_ref.isLoading,isLoading=_ref$isLoading===void 0?false:_ref$isLoading,isRefreshPaused=_ref.isRefreshPaused,filterQuery=_ref.filterQuery,filterManager=_ref.filterManager,filters=_ref.filters,onChangedQuery=_ref.onChangedQuery,onSubmitQuery=_ref.onSubmitQuery,refreshInterval=_ref.refreshInterval,savedQuery=_ref.savedQuery,onSavedQuery=_ref.onSavedQuery,dataTestSubj=_ref.dataTestSubj;var _useState=(0,_react.useState)(filterQuery),_useState2=_slicedToArray(_useState,2),draftQuery=_useState2[0],setDraftQuery=_useState2[1];(0,_react.useEffect)((function(){setDraftQuery(filterQuery)}),[filterQuery]);var onQuerySubmit=(0,_react.useCallback)((function(payload){if(payload.query!=null&&!(0,_fp.isEqual)(payload.query,filterQuery)){onSubmitQuery(payload.query)}}),[filterQuery,onSubmitQuery]);var onQueryChange=(0,_react.useCallback)((function(payload){if(payload.query!=null&&!(0,_fp.isEqual)(payload.query,draftQuery)){setDraftQuery(payload.query);onChangedQuery(payload.query)}}),[draftQuery,onChangedQuery,setDraftQuery]);var onSaved=(0,_react.useCallback)((function(newSavedQuery){onSavedQuery(newSavedQuery)}),[onSavedQuery]);var onSavedQueryUpdated=(0,_react.useCallback)((function(savedQueryUpdated){var _savedQueryUpdated$at=savedQueryUpdated.attributes,newQuery=_savedQueryUpdated$at.query,newFilters=_savedQueryUpdated$at.filters,timefilter=_savedQueryUpdated$at.timefilter;onSubmitQuery(newQuery,timefilter);filterManager.setFilters(newFilters||[]);onSavedQuery(savedQueryUpdated)}),[filterManager,onSubmitQuery,onSavedQuery]);var onClearSavedQuery=(0,_react.useCallback)((function(){if(savedQuery!=null){onSubmitQuery({query:"",language:savedQuery.attributes.query.language});filterManager.setFilters([]);onSavedQuery(null)}}),[filterManager,onSubmitQuery,onSavedQuery,savedQuery]);var onFiltersUpdated=(0,_react.useCallback)((function(newFilters){filterManager.setFilters(newFilters)}),[filterManager]);var CustomButton=_react.default.createElement(_react.default.Fragment,null,null);var indexPatterns=(0,_react.useMemo)((function(){return[indexPattern]}),[indexPattern]);var searchBarProps=savedQuery!=null?{savedQuery:savedQuery}:{};return _react.default.createElement(_public.SearchBar,_extends({customSubmitButton:CustomButton,dateRangeFrom:dateRangeFrom,dateRangeTo:dateRangeTo,filters:filters,indexPatterns:indexPatterns,isLoading:isLoading,isRefreshPaused:isRefreshPaused,query:draftQuery,onClearSavedQuery:onClearSavedQuery,onFiltersUpdated:onFiltersUpdated,onQueryChange:onQueryChange,onQuerySubmit:onQuerySubmit,onSaved:onSaved,onSavedQueryUpdated:onSavedQueryUpdated,refreshInterval:refreshInterval,showAutoRefreshOnly:false,showFilterBar:!hideSavedQuery,showDatePicker:false,showQueryBar:true,showQueryInput:true,showSaveQuery:true,timeHistory:new _public.TimeHistory(new _public2.Storage(localStorage)),dataTestSubj:dataTestSubj},searchBarProps))}));exports.QueryBar=QueryBar},7665:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddItem=exports.MyAddItemButton=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var RuleI18n=_interopRequireWildcard(__webpack_require__(7031));var _shared_imports=__webpack_require__(7073);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var MyEuiFormRow=(0,_styledComponents.default)(_eui.EuiFormRow).withConfig({displayName:"MyEuiFormRow",componentId:"sc-15ldfjw-0"})([".euiFormRow__labelWrapper{.euiText{padding-right:32px;}}"]);var MyAddItemButton=(0,_styledComponents.default)(_eui.EuiButtonEmpty).withConfig({displayName:"MyAddItemButton",componentId:"sc-15ldfjw-1"})(["margin-top:4px;&.euiButtonEmpty--xSmall{font-size:12px;}.euiIcon{width:12px;height:12px;}"]);exports.MyAddItemButton=MyAddItemButton;MyAddItemButton.defaultProps={flush:"left",iconType:"plusInCircle",size:"xs"};var AddItem=function AddItem(_ref){var addText=_ref.addText,dataTestSubj=_ref.dataTestSubj,field=_ref.field,idAria=_ref.idAria,isDisabled=_ref.isDisabled,validate=_ref.validate;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),showValidation=_useState2[0],setShowValidation=_useState2[1];var _getFieldValidityAndE=(0,_shared_imports.getFieldValidityAndErrorMessage)(field),isInvalid=_getFieldValidityAndE.isInvalid,errorMessage=_getFieldValidityAndE.errorMessage;var _useState3=(0,_react.useState)(-1),_useState4=_slicedToArray(_useState3,2),haveBeenKeyboardDeleted=_useState4[0],setHaveBeenKeyboardDeleted=_useState4[1];var inputsRef=(0,_react.useRef)([]);var removeItem=(0,_react.useCallback)((function(index){var values=field.value;var newValues=[].concat(_toConsumableArray(values.slice(0,index)),_toConsumableArray(values.slice(index+1)));field.setValue(newValues.length===0?[""]:newValues);inputsRef.current=[].concat(_toConsumableArray(inputsRef.current.slice(0,index)),_toConsumableArray(inputsRef.current.slice(index+1)));inputsRef.current=inputsRef.current.map((function(ref,i){if(i>=index&&inputsRef.current[index]!=null){ref.value="re-render"}return ref}))}),[field]);var addItem=(0,_react.useCallback)((function(){var values=field.value;field.setValue([].concat(_toConsumableArray(values),[""]))}),[field]);var updateItem=(0,_react.useCallback)((function(event,index){event.persist();var values=field.value;var value=event.target.value;field.setValue([].concat(_toConsumableArray(values.slice(0,index)),[value],_toConsumableArray(values.slice(index+1))))}),[field]);var handleLastInputRef=(0,_react.useCallback)((function(index,element){if(element!=null){inputsRef.current=[].concat(_toConsumableArray(inputsRef.current.slice(0,index)),[element],_toConsumableArray(inputsRef.current.slice(index+1)))}}),[inputsRef]);(0,_react.useEffect)((function(){if(haveBeenKeyboardDeleted!==-1&&!(0,_fp.isEmpty)(inputsRef.current)&&inputsRef.current[haveBeenKeyboardDeleted]!=null){inputsRef.current[haveBeenKeyboardDeleted].focus();setHaveBeenKeyboardDeleted(-1)}}),[haveBeenKeyboardDeleted,inputsRef.current]);var values=field.value;return _react.default.createElement(MyEuiFormRow,{label:field.label,labelAppend:field.labelAppend,error:showValidation?errorMessage:null,isInvalid:showValidation&&isInvalid,fullWidth:true,"data-test-subj":dataTestSubj,describedByIds:idAria?[idAria]:undefined},_react.default.createElement(_react.default.Fragment,null,values.map((function(item,index){var euiFieldProps=_objectSpread({disabled:isDisabled},index===values.length-1?{inputRef:handleLastInputRef.bind(null,index)}:{},{},inputsRef.current[index]!=null&&inputsRef.current[index].value!==item||inputsRef.current[index]==null?{value:item}:{},{isInvalid:validate==null?false:showValidation&&validate(item)});return _react.default.createElement("div",{key:index},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_eui.EuiFieldText,_extends({onBlur:function onBlur(){return setShowValidation(true)},onChange:function onChange(e){return updateItem(e,index)},fullWidth:true},euiFieldProps))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonIcon,{color:"danger",iconType:"trash",isDisabled:isDisabled||(0,_fp.isEmpty)(item)&&values.length===1,onClick:function onClick(){return removeItem(index)},"aria-label":RuleI18n.DELETE}))),values.length-1!==index&&_react.default.createElement(_eui.EuiSpacer,{size:"s"}))})),_react.default.createElement(MyAddItemButton,{onClick:addItem,isDisabled:isDisabled},addText)))};exports.AddItem=AddItem},7666:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.techniquesOptions=exports.technique=exports.tacticsOptions=exports.tactics=void 0;var _i18n=__webpack_require__(2);var tactics=[{name:"Collection",id:"TA0009",reference:"https://attack.mitre.org/tactics/TA0009"},{name:"Command and Control",id:"TA0011",reference:"https://attack.mitre.org/tactics/TA0011"},{name:"Credential Access",id:"TA0006",reference:"https://attack.mitre.org/tactics/TA0006"},{name:"Defense Evasion",id:"TA0005",reference:"https://attack.mitre.org/tactics/TA0005"},{name:"Discovery",id:"TA0007",reference:"https://attack.mitre.org/tactics/TA0007"},{name:"Execution",id:"TA0002",reference:"https://attack.mitre.org/tactics/TA0002"},{name:"Exfiltration",id:"TA0010",reference:"https://attack.mitre.org/tactics/TA0010"},{name:"Impact",id:"TA0040",reference:"https://attack.mitre.org/tactics/TA0040"},{name:"Initial Access",id:"TA0001",reference:"https://attack.mitre.org/tactics/TA0001"},{name:"Lateral Movement",id:"TA0008",reference:"https://attack.mitre.org/tactics/TA0008"},{name:"Persistence",id:"TA0003",reference:"https://attack.mitre.org/tactics/TA0003"},{name:"Privilege Escalation",id:"TA0004",reference:"https://attack.mitre.org/tactics/TA0004"}];exports.tactics=tactics;var tacticsOptions=[{id:"TA0009",name:"Collection",reference:"https://attack.mitre.org/tactics/TA0009",text:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTactics.collectionDescription",{defaultMessage:"Collection (TA0009)"}),value:"collection"},{id:"TA0011",name:"Command and Control",reference:"https://attack.mitre.org/tactics/TA0011",text:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTactics.commandAndControlDescription",{defaultMessage:"Command and Control (TA0011)"}),value:"commandAndControl"},{id:"TA0006",name:"Credential Access",reference:"https://attack.mitre.org/tactics/TA0006",text:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTactics.credentialAccessDescription",{defaultMessage:"Credential Access (TA0006)"}),value:"credentialAccess"},{id:"TA0005",name:"Defense Evasion",reference:"https://attack.mitre.org/tactics/TA0005",text:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTactics.defenseEvasionDescription",{defaultMessage:"Defense Evasion (TA0005)"}),value:"defenseEvasion"},{id:"TA0007",name:"Discovery",reference:"https://attack.mitre.org/tactics/TA0007",text:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTactics.discoveryDescription",{defaultMessage:"Discovery (TA0007)"}),value:"discovery"},{id:"TA0002",name:"Execution",reference:"https://attack.mitre.org/tactics/TA0002",text:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTactics.executionDescription",{defaultMessage:"Execution (TA0002)"}),value:"execution"},{id:"TA0010",name:"Exfiltration",reference:"https://attack.mitre.org/tactics/TA0010",text:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTactics.exfiltrationDescription",{defaultMessage:"Exfiltration (TA0010)"}),value:"exfiltration"},{id:"TA0040",name:"Impact",reference:"https://attack.mitre.org/tactics/TA0040",text:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTactics.impactDescription",{defaultMessage:"Impact (TA0040)"}),value:"impact"},{id:"TA0001",name:"Initial Access",reference:"https://attack.mitre.org/tactics/TA0001",text:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTactics.initialAccessDescription",{defaultMessage:"Initial Access (TA0001)"}),value:"initialAccess"},{id:"TA0008",name:"Lateral Movement",reference:"https://attack.mitre.org/tactics/TA0008",text:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTactics.lateralMovementDescription",{defaultMessage:"Lateral Movement (TA0008)"}),value:"lateralMovement"},{id:"TA0003",name:"Persistence",reference:"https://attack.mitre.org/tactics/TA0003",text:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTactics.persistenceDescription",{defaultMessage:"Persistence (TA0003)"}),value:"persistence"},{id:"TA0004",name:"Privilege Escalation",reference:"https://attack.mitre.org/tactics/TA0004",text:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTactics.privilegeEscalationDescription",{defaultMessage:"Privilege Escalation (TA0004)"}),value:"privilegeEscalation"}];exports.tacticsOptions=tacticsOptions;var technique=[{name:".bash_profile and .bashrc",id:"T1156",reference:"https://attack.mitre.org/techniques/T1156",tactics:["persistence"]},{name:"Access Token Manipulation",id:"T1134",reference:"https://attack.mitre.org/techniques/T1134",tactics:["defense-evasion","privilege-escalation"]},{name:"Accessibility Features",id:"T1015",reference:"https://attack.mitre.org/techniques/T1015",tactics:["persistence","privilege-escalation"]},{name:"Account Access Removal",id:"T1531",reference:"https://attack.mitre.org/techniques/T1531",tactics:["impact"]},{name:"Account Discovery",id:"T1087",reference:"https://attack.mitre.org/techniques/T1087",tactics:["discovery"]},{name:"Account Manipulation",id:"T1098",reference:"https://attack.mitre.org/techniques/T1098",tactics:["credential-access","persistence"]},{name:"AppCert DLLs",id:"T1182",reference:"https://attack.mitre.org/techniques/T1182",tactics:["persistence","privilege-escalation"]},{name:"AppInit DLLs",id:"T1103",reference:"https://attack.mitre.org/techniques/T1103",tactics:["persistence","privilege-escalation"]},{name:"AppleScript",id:"T1155",reference:"https://attack.mitre.org/techniques/T1155",tactics:["execution","lateral-movement"]},{name:"Application Access Token",id:"T1527",reference:"https://attack.mitre.org/techniques/T1527",tactics:["defense-evasion","lateral-movement"]},{name:"Application Deployment Software",id:"T1017",reference:"https://attack.mitre.org/techniques/T1017",tactics:["lateral-movement"]},{name:"Application Shimming",id:"T1138",reference:"https://attack.mitre.org/techniques/T1138",tactics:["persistence","privilege-escalation"]},{name:"Application Window Discovery",id:"T1010",reference:"https://attack.mitre.org/techniques/T1010",tactics:["discovery"]},{name:"Audio Capture",id:"T1123",reference:"https://attack.mitre.org/techniques/T1123",tactics:["collection"]},{name:"Authentication Package",id:"T1131",reference:"https://attack.mitre.org/techniques/T1131",tactics:["persistence"]},{name:"Automated Collection",id:"T1119",reference:"https://attack.mitre.org/techniques/T1119",tactics:["collection"]},{name:"Automated Exfiltration",id:"T1020",reference:"https://attack.mitre.org/techniques/T1020",tactics:["exfiltration"]},{name:"BITS Jobs",id:"T1197",reference:"https://attack.mitre.org/techniques/T1197",tactics:["defense-evasion","persistence"]},{name:"Bash History",id:"T1139",reference:"https://attack.mitre.org/techniques/T1139",tactics:["credential-access"]},{name:"Binary Padding",id:"T1009",reference:"https://attack.mitre.org/techniques/T1009",tactics:["defense-evasion"]},{name:"Bootkit",id:"T1067",reference:"https://attack.mitre.org/techniques/T1067",tactics:["persistence"]},{name:"Browser Bookmark Discovery",id:"T1217",reference:"https://attack.mitre.org/techniques/T1217",tactics:["discovery"]},{name:"Browser Extensions",id:"T1176",reference:"https://attack.mitre.org/techniques/T1176",tactics:["persistence"]},{name:"Brute Force",id:"T1110",reference:"https://attack.mitre.org/techniques/T1110",tactics:["credential-access"]},{name:"Bypass User Account Control",id:"T1088",reference:"https://attack.mitre.org/techniques/T1088",tactics:["defense-evasion","privilege-escalation"]},{name:"CMSTP",id:"T1191",reference:"https://attack.mitre.org/techniques/T1191",tactics:["defense-evasion","execution"]},{name:"Change Default File Association",id:"T1042",reference:"https://attack.mitre.org/techniques/T1042",tactics:["persistence"]},{name:"Clear Command History",id:"T1146",reference:"https://attack.mitre.org/techniques/T1146",tactics:["defense-evasion"]},{name:"Clipboard Data",id:"T1115",reference:"https://attack.mitre.org/techniques/T1115",tactics:["collection"]},{name:"Cloud Instance Metadata API",id:"T1522",reference:"https://attack.mitre.org/techniques/T1522",tactics:["credential-access"]},{name:"Cloud Service Dashboard",id:"T1538",reference:"https://attack.mitre.org/techniques/T1538",tactics:["discovery"]},{name:"Cloud Service Discovery",id:"T1526",reference:"https://attack.mitre.org/techniques/T1526",tactics:["discovery"]},{name:"Code Signing",id:"T1116",reference:"https://attack.mitre.org/techniques/T1116",tactics:["defense-evasion"]},{name:"Command-Line Interface",id:"T1059",reference:"https://attack.mitre.org/techniques/T1059",tactics:["execution"]},{name:"Commonly Used Port",id:"T1043",reference:"https://attack.mitre.org/techniques/T1043",tactics:["command-and-control"]},{name:"Communication Through Removable Media",id:"T1092",reference:"https://attack.mitre.org/techniques/T1092",tactics:["command-and-control"]},{name:"Compile After Delivery",id:"T1500",reference:"https://attack.mitre.org/techniques/T1500",tactics:["defense-evasion"]},{name:"Compiled HTML File",id:"T1223",reference:"https://attack.mitre.org/techniques/T1223",tactics:["defense-evasion","execution"]},{name:"Component Firmware",id:"T1109",reference:"https://attack.mitre.org/techniques/T1109",tactics:["defense-evasion","persistence"]},{name:"Component Object Model Hijacking",id:"T1122",reference:"https://attack.mitre.org/techniques/T1122",tactics:["defense-evasion","persistence"]},{name:"Component Object Model and Distributed COM",id:"T1175",reference:"https://attack.mitre.org/techniques/T1175",tactics:["lateral-movement","execution"]},{name:"Connection Proxy",id:"T1090",reference:"https://attack.mitre.org/techniques/T1090",tactics:["command-and-control","defense-evasion"]},{name:"Control Panel Items",id:"T1196",reference:"https://attack.mitre.org/techniques/T1196",tactics:["defense-evasion","execution"]},{name:"Create Account",id:"T1136",reference:"https://attack.mitre.org/techniques/T1136",tactics:["persistence"]},{name:"Credential Dumping",id:"T1003",reference:"https://attack.mitre.org/techniques/T1003",tactics:["credential-access"]},{name:"Credentials from Web Browsers",id:"T1503",reference:"https://attack.mitre.org/techniques/T1503",tactics:["credential-access"]},{name:"Credentials in Files",id:"T1081",reference:"https://attack.mitre.org/techniques/T1081",tactics:["credential-access"]},{name:"Credentials in Registry",id:"T1214",reference:"https://attack.mitre.org/techniques/T1214",tactics:["credential-access"]},{name:"Custom Command and Control Protocol",id:"T1094",reference:"https://attack.mitre.org/techniques/T1094",tactics:["command-and-control"]},{name:"Custom Cryptographic Protocol",id:"T1024",reference:"https://attack.mitre.org/techniques/T1024",tactics:["command-and-control"]},{name:"DCShadow",id:"T1207",reference:"https://attack.mitre.org/techniques/T1207",tactics:["defense-evasion"]},{name:"DLL Search Order Hijacking",id:"T1038",reference:"https://attack.mitre.org/techniques/T1038",tactics:["persistence","privilege-escalation","defense-evasion"]},{name:"DLL Side-Loading",id:"T1073",reference:"https://attack.mitre.org/techniques/T1073",tactics:["defense-evasion"]},{name:"Data Compressed",id:"T1002",reference:"https://attack.mitre.org/techniques/T1002",tactics:["exfiltration"]},{name:"Data Destruction",id:"T1485",reference:"https://attack.mitre.org/techniques/T1485",tactics:["impact"]},{name:"Data Encoding",id:"T1132",reference:"https://attack.mitre.org/techniques/T1132",tactics:["command-and-control"]},{name:"Data Encrypted",id:"T1022",reference:"https://attack.mitre.org/techniques/T1022",tactics:["exfiltration"]},{name:"Data Encrypted for Impact",id:"T1486",reference:"https://attack.mitre.org/techniques/T1486",tactics:["impact"]},{name:"Data Obfuscation",id:"T1001",reference:"https://attack.mitre.org/techniques/T1001",tactics:["command-and-control"]},{name:"Data Staged",id:"T1074",reference:"https://attack.mitre.org/techniques/T1074",tactics:["collection"]},{name:"Data Transfer Size Limits",id:"T1030",reference:"https://attack.mitre.org/techniques/T1030",tactics:["exfiltration"]},{name:"Data from Cloud Storage Object",id:"T1530",reference:"https://attack.mitre.org/techniques/T1530",tactics:["collection"]},{name:"Data from Information Repositories",id:"T1213",reference:"https://attack.mitre.org/techniques/T1213",tactics:["collection"]},{name:"Data from Local System",id:"T1005",reference:"https://attack.mitre.org/techniques/T1005",tactics:["collection"]},{name:"Data from Network Shared Drive",id:"T1039",reference:"https://attack.mitre.org/techniques/T1039",tactics:["collection"]},{name:"Data from Removable Media",id:"T1025",reference:"https://attack.mitre.org/techniques/T1025",tactics:["collection"]},{name:"Defacement",id:"T1491",reference:"https://attack.mitre.org/techniques/T1491",tactics:["impact"]},{name:"Deobfuscate/Decode Files or Information",id:"T1140",reference:"https://attack.mitre.org/techniques/T1140",tactics:["defense-evasion"]},{name:"Disabling Security Tools",id:"T1089",reference:"https://attack.mitre.org/techniques/T1089",tactics:["defense-evasion"]},{name:"Disk Content Wipe",id:"T1488",reference:"https://attack.mitre.org/techniques/T1488",tactics:["impact"]},{name:"Disk Structure Wipe",id:"T1487",reference:"https://attack.mitre.org/techniques/T1487",tactics:["impact"]},{name:"Domain Fronting",id:"T1172",reference:"https://attack.mitre.org/techniques/T1172",tactics:["command-and-control"]},{name:"Domain Generation Algorithms",id:"T1483",reference:"https://attack.mitre.org/techniques/T1483",tactics:["command-and-control"]},{name:"Domain Trust Discovery",id:"T1482",reference:"https://attack.mitre.org/techniques/T1482",tactics:["discovery"]},{name:"Drive-by Compromise",id:"T1189",reference:"https://attack.mitre.org/techniques/T1189",tactics:["initial-access"]},{name:"Dylib Hijacking",id:"T1157",reference:"https://attack.mitre.org/techniques/T1157",tactics:["persistence","privilege-escalation"]},{name:"Dynamic Data Exchange",id:"T1173",reference:"https://attack.mitre.org/techniques/T1173",tactics:["execution"]},{name:"Elevated Execution with Prompt",id:"T1514",reference:"https://attack.mitre.org/techniques/T1514",tactics:["privilege-escalation"]},{name:"Email Collection",id:"T1114",reference:"https://attack.mitre.org/techniques/T1114",tactics:["collection"]},{name:"Emond",id:"T1519",reference:"https://attack.mitre.org/techniques/T1519",tactics:["persistence","privilege-escalation"]},{name:"Endpoint Denial of Service",id:"T1499",reference:"https://attack.mitre.org/techniques/T1499",tactics:["impact"]},{name:"Execution Guardrails",id:"T1480",reference:"https://attack.mitre.org/techniques/T1480",tactics:["defense-evasion"]},{name:"Execution through API",id:"T1106",reference:"https://attack.mitre.org/techniques/T1106",tactics:["execution"]},{name:"Execution through Module Load",id:"T1129",reference:"https://attack.mitre.org/techniques/T1129",tactics:["execution"]},{name:"Exfiltration Over Alternative Protocol",id:"T1048",reference:"https://attack.mitre.org/techniques/T1048",tactics:["exfiltration"]},{name:"Exfiltration Over Command and Control Channel",id:"T1041",reference:"https://attack.mitre.org/techniques/T1041",tactics:["exfiltration"]},{name:"Exfiltration Over Other Network Medium",id:"T1011",reference:"https://attack.mitre.org/techniques/T1011",tactics:["exfiltration"]},{name:"Exfiltration Over Physical Medium",id:"T1052",reference:"https://attack.mitre.org/techniques/T1052",tactics:["exfiltration"]},{name:"Exploit Public-Facing Application",id:"T1190",reference:"https://attack.mitre.org/techniques/T1190",tactics:["initial-access"]},{name:"Exploitation for Client Execution",id:"T1203",reference:"https://attack.mitre.org/techniques/T1203",tactics:["execution"]},{name:"Exploitation for Credential Access",id:"T1212",reference:"https://attack.mitre.org/techniques/T1212",tactics:["credential-access"]},{name:"Exploitation for Defense Evasion",id:"T1211",reference:"https://attack.mitre.org/techniques/T1211",tactics:["defense-evasion"]},{name:"Exploitation for Privilege Escalation",id:"T1068",reference:"https://attack.mitre.org/techniques/T1068",tactics:["privilege-escalation"]},{name:"Exploitation of Remote Services",id:"T1210",reference:"https://attack.mitre.org/techniques/T1210",tactics:["lateral-movement"]},{name:"External Remote Services",id:"T1133",reference:"https://attack.mitre.org/techniques/T1133",tactics:["persistence","initial-access"]},{name:"Extra Window Memory Injection",id:"T1181",reference:"https://attack.mitre.org/techniques/T1181",tactics:["defense-evasion","privilege-escalation"]},{name:"Fallback Channels",id:"T1008",reference:"https://attack.mitre.org/techniques/T1008",tactics:["command-and-control"]},{name:"File Deletion",id:"T1107",reference:"https://attack.mitre.org/techniques/T1107",tactics:["defense-evasion"]},{name:"File System Logical Offsets",id:"T1006",reference:"https://attack.mitre.org/techniques/T1006",tactics:["defense-evasion"]},{name:"File System Permissions Weakness",id:"T1044",reference:"https://attack.mitre.org/techniques/T1044",tactics:["persistence","privilege-escalation"]},{name:"File and Directory Discovery",id:"T1083",reference:"https://attack.mitre.org/techniques/T1083",tactics:["discovery"]},{name:"File and Directory Permissions Modification",id:"T1222",reference:"https://attack.mitre.org/techniques/T1222",tactics:["defense-evasion"]},{name:"Firmware Corruption",id:"T1495",reference:"https://attack.mitre.org/techniques/T1495",tactics:["impact"]},{name:"Forced Authentication",id:"T1187",reference:"https://attack.mitre.org/techniques/T1187",tactics:["credential-access"]},{name:"Gatekeeper Bypass",id:"T1144",reference:"https://attack.mitre.org/techniques/T1144",tactics:["defense-evasion"]},{name:"Graphical User Interface",id:"T1061",reference:"https://attack.mitre.org/techniques/T1061",tactics:["execution"]},{name:"Group Policy Modification",id:"T1484",reference:"https://attack.mitre.org/techniques/T1484",tactics:["defense-evasion"]},{name:"HISTCONTROL",id:"T1148",reference:"https://attack.mitre.org/techniques/T1148",tactics:["defense-evasion"]},{name:"Hardware Additions",id:"T1200",reference:"https://attack.mitre.org/techniques/T1200",tactics:["initial-access"]},{name:"Hidden Files and Directories",id:"T1158",reference:"https://attack.mitre.org/techniques/T1158",tactics:["defense-evasion","persistence"]},{name:"Hidden Users",id:"T1147",reference:"https://attack.mitre.org/techniques/T1147",tactics:["defense-evasion"]},{name:"Hidden Window",id:"T1143",reference:"https://attack.mitre.org/techniques/T1143",tactics:["defense-evasion"]},{name:"Hooking",id:"T1179",reference:"https://attack.mitre.org/techniques/T1179",tactics:["persistence","privilege-escalation","credential-access"]},{name:"Hypervisor",id:"T1062",reference:"https://attack.mitre.org/techniques/T1062",tactics:["persistence"]},{name:"Image File Execution Options Injection",id:"T1183",reference:"https://attack.mitre.org/techniques/T1183",tactics:["privilege-escalation","persistence","defense-evasion"]},{name:"Implant Container Image",id:"T1525",reference:"https://attack.mitre.org/techniques/T1525",tactics:["persistence"]},{name:"Indicator Blocking",id:"T1054",reference:"https://attack.mitre.org/techniques/T1054",tactics:["defense-evasion"]},{name:"Indicator Removal from Tools",id:"T1066",reference:"https://attack.mitre.org/techniques/T1066",tactics:["defense-evasion"]},{name:"Indicator Removal on Host",id:"T1070",reference:"https://attack.mitre.org/techniques/T1070",tactics:["defense-evasion"]},{name:"Indirect Command Execution",id:"T1202",reference:"https://attack.mitre.org/techniques/T1202",tactics:["defense-evasion"]},{name:"Inhibit System Recovery",id:"T1490",reference:"https://attack.mitre.org/techniques/T1490",tactics:["impact"]},{name:"Input Capture",id:"T1056",reference:"https://attack.mitre.org/techniques/T1056",tactics:["collection","credential-access"]},{name:"Input Prompt",id:"T1141",reference:"https://attack.mitre.org/techniques/T1141",tactics:["credential-access"]},{name:"Install Root Certificate",id:"T1130",reference:"https://attack.mitre.org/techniques/T1130",tactics:["defense-evasion"]},{name:"InstallUtil",id:"T1118",reference:"https://attack.mitre.org/techniques/T1118",tactics:["defense-evasion","execution"]},{name:"Internal Spearphishing",id:"T1534",reference:"https://attack.mitre.org/techniques/T1534",tactics:["lateral-movement"]},{name:"Kerberoasting",id:"T1208",reference:"https://attack.mitre.org/techniques/T1208",tactics:["credential-access"]},{name:"Kernel Modules and Extensions",id:"T1215",reference:"https://attack.mitre.org/techniques/T1215",tactics:["persistence"]},{name:"Keychain",id:"T1142",reference:"https://attack.mitre.org/techniques/T1142",tactics:["credential-access"]},{name:"LC_LOAD_DYLIB Addition",id:"T1161",reference:"https://attack.mitre.org/techniques/T1161",tactics:["persistence"]},{name:"LC_MAIN Hijacking",id:"T1149",reference:"https://attack.mitre.org/techniques/T1149",tactics:["defense-evasion"]},{name:"LLMNR/NBT-NS Poisoning and Relay",id:"T1171",reference:"https://attack.mitre.org/techniques/T1171",tactics:["credential-access"]},{name:"LSASS Driver",id:"T1177",reference:"https://attack.mitre.org/techniques/T1177",tactics:["execution","persistence"]},{name:"Launch Agent",id:"T1159",reference:"https://attack.mitre.org/techniques/T1159",tactics:["persistence"]},{name:"Launch Daemon",id:"T1160",reference:"https://attack.mitre.org/techniques/T1160",tactics:["persistence","privilege-escalation"]},{name:"Launchctl",id:"T1152",reference:"https://attack.mitre.org/techniques/T1152",tactics:["defense-evasion","execution","persistence"]},{name:"Local Job Scheduling",id:"T1168",reference:"https://attack.mitre.org/techniques/T1168",tactics:["persistence","execution"]},{name:"Login Item",id:"T1162",reference:"https://attack.mitre.org/techniques/T1162",tactics:["persistence"]},{name:"Logon Scripts",id:"T1037",reference:"https://attack.mitre.org/techniques/T1037",tactics:["lateral-movement","persistence"]},{name:"Man in the Browser",id:"T1185",reference:"https://attack.mitre.org/techniques/T1185",tactics:["collection"]},{name:"Masquerading",id:"T1036",reference:"https://attack.mitre.org/techniques/T1036",tactics:["defense-evasion"]},{name:"Modify Existing Service",id:"T1031",reference:"https://attack.mitre.org/techniques/T1031",tactics:["persistence"]},{name:"Modify Registry",id:"T1112",reference:"https://attack.mitre.org/techniques/T1112",tactics:["defense-evasion"]},{name:"Mshta",id:"T1170",reference:"https://attack.mitre.org/techniques/T1170",tactics:["defense-evasion","execution"]},{name:"Multi-Stage Channels",id:"T1104",reference:"https://attack.mitre.org/techniques/T1104",tactics:["command-and-control"]},{name:"Multi-hop Proxy",id:"T1188",reference:"https://attack.mitre.org/techniques/T1188",tactics:["command-and-control"]},{name:"Multiband Communication",id:"T1026",reference:"https://attack.mitre.org/techniques/T1026",tactics:["command-and-control"]},{name:"Multilayer Encryption",id:"T1079",reference:"https://attack.mitre.org/techniques/T1079",tactics:["command-and-control"]},{name:"NTFS File Attributes",id:"T1096",reference:"https://attack.mitre.org/techniques/T1096",tactics:["defense-evasion"]},{name:"Netsh Helper DLL",id:"T1128",reference:"https://attack.mitre.org/techniques/T1128",tactics:["persistence"]},{name:"Network Denial of Service",id:"T1498",reference:"https://attack.mitre.org/techniques/T1498",tactics:["impact"]},{name:"Network Service Scanning",id:"T1046",reference:"https://attack.mitre.org/techniques/T1046",tactics:["discovery"]},{name:"Network Share Connection Removal",id:"T1126",reference:"https://attack.mitre.org/techniques/T1126",tactics:["defense-evasion"]},{name:"Network Share Discovery",id:"T1135",reference:"https://attack.mitre.org/techniques/T1135",tactics:["discovery"]},{name:"Network Sniffing",id:"T1040",reference:"https://attack.mitre.org/techniques/T1040",tactics:["credential-access","discovery"]},{name:"New Service",id:"T1050",reference:"https://attack.mitre.org/techniques/T1050",tactics:["persistence","privilege-escalation"]},{name:"Obfuscated Files or Information",id:"T1027",reference:"https://attack.mitre.org/techniques/T1027",tactics:["defense-evasion"]},{name:"Office Application Startup",id:"T1137",reference:"https://attack.mitre.org/techniques/T1137",tactics:["persistence"]},{name:"Parent PID Spoofing",id:"T1502",reference:"https://attack.mitre.org/techniques/T1502",tactics:["defense-evasion","privilege-escalation"]},{name:"Pass the Hash",id:"T1075",reference:"https://attack.mitre.org/techniques/T1075",tactics:["lateral-movement"]},{name:"Pass the Ticket",id:"T1097",reference:"https://attack.mitre.org/techniques/T1097",tactics:["lateral-movement"]},{name:"Password Filter DLL",id:"T1174",reference:"https://attack.mitre.org/techniques/T1174",tactics:["credential-access"]},{name:"Password Policy Discovery",id:"T1201",reference:"https://attack.mitre.org/techniques/T1201",tactics:["discovery"]},{name:"Path Interception",id:"T1034",reference:"https://attack.mitre.org/techniques/T1034",tactics:["persistence","privilege-escalation"]},{name:"Peripheral Device Discovery",id:"T1120",reference:"https://attack.mitre.org/techniques/T1120",tactics:["discovery"]},{name:"Permission Groups Discovery",id:"T1069",reference:"https://attack.mitre.org/techniques/T1069",tactics:["discovery"]},{name:"Plist Modification",id:"T1150",reference:"https://attack.mitre.org/techniques/T1150",tactics:["defense-evasion","persistence","privilege-escalation"]},{name:"Port Knocking",id:"T1205",reference:"https://attack.mitre.org/techniques/T1205",tactics:["defense-evasion","persistence","command-and-control"]},{name:"Port Monitors",id:"T1013",reference:"https://attack.mitre.org/techniques/T1013",tactics:["persistence","privilege-escalation"]},{name:"PowerShell",id:"T1086",reference:"https://attack.mitre.org/techniques/T1086",tactics:["execution"]},{name:"PowerShell Profile",id:"T1504",reference:"https://attack.mitre.org/techniques/T1504",tactics:["persistence","privilege-escalation"]},{name:"Private Keys",id:"T1145",reference:"https://attack.mitre.org/techniques/T1145",tactics:["credential-access"]},{name:"Process Discovery",id:"T1057",reference:"https://attack.mitre.org/techniques/T1057",tactics:["discovery"]},{name:"Process Doppelgnging",id:"T1186",reference:"https://attack.mitre.org/techniques/T1186",tactics:["defense-evasion"]},{name:"Process Hollowing",id:"T1093",reference:"https://attack.mitre.org/techniques/T1093",tactics:["defense-evasion"]},{name:"Process Injection",id:"T1055",reference:"https://attack.mitre.org/techniques/T1055",tactics:["defense-evasion","privilege-escalation"]},{name:"Query Registry",id:"T1012",reference:"https://attack.mitre.org/techniques/T1012",tactics:["discovery"]},{name:"Rc.common",id:"T1163",reference:"https://attack.mitre.org/techniques/T1163",tactics:["persistence"]},{name:"Re-opened Applications",id:"T1164",reference:"https://attack.mitre.org/techniques/T1164",tactics:["persistence"]},{name:"Redundant Access",id:"T1108",reference:"https://attack.mitre.org/techniques/T1108",tactics:["defense-evasion","persistence"]},{name:"Registry Run Keys / Startup Folder",id:"T1060",reference:"https://attack.mitre.org/techniques/T1060",tactics:["persistence"]},{name:"Regsvcs/Regasm",id:"T1121",reference:"https://attack.mitre.org/techniques/T1121",tactics:["defense-evasion","execution"]},{name:"Regsvr32",id:"T1117",reference:"https://attack.mitre.org/techniques/T1117",tactics:["defense-evasion","execution"]},{name:"Remote Access Tools",id:"T1219",reference:"https://attack.mitre.org/techniques/T1219",tactics:["command-and-control"]},{name:"Remote Desktop Protocol",id:"T1076",reference:"https://attack.mitre.org/techniques/T1076",tactics:["lateral-movement"]},{name:"Remote File Copy",id:"T1105",reference:"https://attack.mitre.org/techniques/T1105",tactics:["command-and-control","lateral-movement"]},{name:"Remote Services",id:"T1021",reference:"https://attack.mitre.org/techniques/T1021",tactics:["lateral-movement"]},{name:"Remote System Discovery",id:"T1018",reference:"https://attack.mitre.org/techniques/T1018",tactics:["discovery"]},{name:"Replication Through Removable Media",id:"T1091",reference:"https://attack.mitre.org/techniques/T1091",tactics:["lateral-movement","initial-access"]},{name:"Resource Hijacking",id:"T1496",reference:"https://attack.mitre.org/techniques/T1496",tactics:["impact"]},{name:"Revert Cloud Instance",id:"T1536",reference:"https://attack.mitre.org/techniques/T1536",tactics:["defense-evasion"]},{name:"Rootkit",id:"T1014",reference:"https://attack.mitre.org/techniques/T1014",tactics:["defense-evasion"]},{name:"Rundll32",id:"T1085",reference:"https://attack.mitre.org/techniques/T1085",tactics:["defense-evasion","execution"]},{name:"Runtime Data Manipulation",id:"T1494",reference:"https://attack.mitre.org/techniques/T1494",tactics:["impact"]},{name:"SID-History Injection",id:"T1178",reference:"https://attack.mitre.org/techniques/T1178",tactics:["privilege-escalation"]},{name:"SIP and Trust Provider Hijacking",id:"T1198",reference:"https://attack.mitre.org/techniques/T1198",tactics:["defense-evasion","persistence"]},{name:"SSH Hijacking",id:"T1184",reference:"https://attack.mitre.org/techniques/T1184",tactics:["lateral-movement"]},{name:"Scheduled Task",id:"T1053",reference:"https://attack.mitre.org/techniques/T1053",tactics:["execution","persistence","privilege-escalation"]},{name:"Scheduled Transfer",id:"T1029",reference:"https://attack.mitre.org/techniques/T1029",tactics:["exfiltration"]},{name:"Screen Capture",id:"T1113",reference:"https://attack.mitre.org/techniques/T1113",tactics:["collection"]},{name:"Screensaver",id:"T1180",reference:"https://attack.mitre.org/techniques/T1180",tactics:["persistence"]},{name:"Scripting",id:"T1064",reference:"https://attack.mitre.org/techniques/T1064",tactics:["defense-evasion","execution"]},{name:"Security Software Discovery",id:"T1063",reference:"https://attack.mitre.org/techniques/T1063",tactics:["discovery"]},{name:"Security Support Provider",id:"T1101",reference:"https://attack.mitre.org/techniques/T1101",tactics:["persistence"]},{name:"Securityd Memory",id:"T1167",reference:"https://attack.mitre.org/techniques/T1167",tactics:["credential-access"]},{name:"Server Software Component",id:"T1505",reference:"https://attack.mitre.org/techniques/T1505",tactics:["persistence"]},{name:"Service Execution",id:"T1035",reference:"https://attack.mitre.org/techniques/T1035",tactics:["execution"]},{name:"Service Registry Permissions Weakness",id:"T1058",reference:"https://attack.mitre.org/techniques/T1058",tactics:["persistence","privilege-escalation"]},{name:"Service Stop",id:"T1489",reference:"https://attack.mitre.org/techniques/T1489",tactics:["impact"]},{name:"Setuid and Setgid",id:"T1166",reference:"https://attack.mitre.org/techniques/T1166",tactics:["privilege-escalation","persistence"]},{name:"Shared Webroot",id:"T1051",reference:"https://attack.mitre.org/techniques/T1051",tactics:["lateral-movement"]},{name:"Shortcut Modification",id:"T1023",reference:"https://attack.mitre.org/techniques/T1023",tactics:["persistence"]},{name:"Signed Binary Proxy Execution",id:"T1218",reference:"https://attack.mitre.org/techniques/T1218",tactics:["defense-evasion","execution"]},{name:"Signed Script Proxy Execution",id:"T1216",reference:"https://attack.mitre.org/techniques/T1216",tactics:["defense-evasion","execution"]},{name:"Software Discovery",id:"T1518",reference:"https://attack.mitre.org/techniques/T1518",tactics:["discovery"]},{name:"Software Packing",id:"T1045",reference:"https://attack.mitre.org/techniques/T1045",tactics:["defense-evasion"]},{name:"Source",id:"T1153",reference:"https://attack.mitre.org/techniques/T1153",tactics:["execution"]},{name:"Space after Filename",id:"T1151",reference:"https://attack.mitre.org/techniques/T1151",tactics:["defense-evasion","execution"]},{name:"Spearphishing Attachment",id:"T1193",reference:"https://attack.mitre.org/techniques/T1193",tactics:["initial-access"]},{name:"Spearphishing Link",id:"T1192",reference:"https://attack.mitre.org/techniques/T1192",tactics:["initial-access"]},{name:"Spearphishing via Service",id:"T1194",reference:"https://attack.mitre.org/techniques/T1194",tactics:["initial-access"]},{name:"Standard Application Layer Protocol",id:"T1071",reference:"https://attack.mitre.org/techniques/T1071",tactics:["command-and-control"]},{name:"Standard Cryptographic Protocol",id:"T1032",reference:"https://attack.mitre.org/techniques/T1032",tactics:["command-and-control"]},{name:"Standard Non-Application Layer Protocol",id:"T1095",reference:"https://attack.mitre.org/techniques/T1095",tactics:["command-and-control"]},{name:"Startup Items",id:"T1165",reference:"https://attack.mitre.org/techniques/T1165",tactics:["persistence","privilege-escalation"]},{name:"Steal Application Access Token",id:"T1528",reference:"https://attack.mitre.org/techniques/T1528",tactics:["credential-access"]},{name:"Steal Web Session Cookie",id:"T1539",reference:"https://attack.mitre.org/techniques/T1539",tactics:["credential-access"]},{name:"Stored Data Manipulation",id:"T1492",reference:"https://attack.mitre.org/techniques/T1492",tactics:["impact"]},{name:"Sudo",id:"T1169",reference:"https://attack.mitre.org/techniques/T1169",tactics:["privilege-escalation"]},{name:"Sudo Caching",id:"T1206",reference:"https://attack.mitre.org/techniques/T1206",tactics:["privilege-escalation"]},{name:"Supply Chain Compromise",id:"T1195",reference:"https://attack.mitre.org/techniques/T1195",tactics:["initial-access"]},{name:"System Firmware",id:"T1019",reference:"https://attack.mitre.org/techniques/T1019",tactics:["persistence"]},{name:"System Information Discovery",id:"T1082",reference:"https://attack.mitre.org/techniques/T1082",tactics:["discovery"]},{name:"System Network Configuration Discovery",id:"T1016",reference:"https://attack.mitre.org/techniques/T1016",tactics:["discovery"]},{name:"System Network Connections Discovery",id:"T1049",reference:"https://attack.mitre.org/techniques/T1049",tactics:["discovery"]},{name:"System Owner/User Discovery",id:"T1033",reference:"https://attack.mitre.org/techniques/T1033",tactics:["discovery"]},{name:"System Service Discovery",id:"T1007",reference:"https://attack.mitre.org/techniques/T1007",tactics:["discovery"]},{name:"System Shutdown/Reboot",id:"T1529",reference:"https://attack.mitre.org/techniques/T1529",tactics:["impact"]},{name:"System Time Discovery",id:"T1124",reference:"https://attack.mitre.org/techniques/T1124",tactics:["discovery"]},{name:"Systemd Service",id:"T1501",reference:"https://attack.mitre.org/techniques/T1501",tactics:["persistence"]},{name:"Taint Shared Content",id:"T1080",reference:"https://attack.mitre.org/techniques/T1080",tactics:["lateral-movement"]},{name:"Template Injection",id:"T1221",reference:"https://attack.mitre.org/techniques/T1221",tactics:["defense-evasion"]},{name:"Third-party Software",id:"T1072",reference:"https://attack.mitre.org/techniques/T1072",tactics:["execution","lateral-movement"]},{name:"Time Providers",id:"T1209",reference:"https://attack.mitre.org/techniques/T1209",tactics:["persistence"]},{name:"Timestomp",id:"T1099",reference:"https://attack.mitre.org/techniques/T1099",tactics:["defense-evasion"]},{name:"Transfer Data to Cloud Account",id:"T1537",reference:"https://attack.mitre.org/techniques/T1537",tactics:["exfiltration"]},{name:"Transmitted Data Manipulation",id:"T1493",reference:"https://attack.mitre.org/techniques/T1493",tactics:["impact"]},{name:"Trap",id:"T1154",reference:"https://attack.mitre.org/techniques/T1154",tactics:["execution","persistence"]},{name:"Trusted Developer Utilities",id:"T1127",reference:"https://attack.mitre.org/techniques/T1127",tactics:["defense-evasion","execution"]},{name:"Trusted Relationship",id:"T1199",reference:"https://attack.mitre.org/techniques/T1199",tactics:["initial-access"]},{name:"Two-Factor Authentication Interception",id:"T1111",reference:"https://attack.mitre.org/techniques/T1111",tactics:["credential-access"]},{name:"Uncommonly Used Port",id:"T1065",reference:"https://attack.mitre.org/techniques/T1065",tactics:["command-and-control"]},{name:"Unused/Unsupported Cloud Regions",id:"T1535",reference:"https://attack.mitre.org/techniques/T1535",tactics:["defense-evasion"]},{name:"User Execution",id:"T1204",reference:"https://attack.mitre.org/techniques/T1204",tactics:["execution"]},{name:"Valid Accounts",id:"T1078",reference:"https://attack.mitre.org/techniques/T1078",tactics:["defense-evasion","persistence","privilege-escalation","initial-access"]},{name:"Video Capture",id:"T1125",reference:"https://attack.mitre.org/techniques/T1125",tactics:["collection"]},{name:"Virtualization/Sandbox Evasion",id:"T1497",reference:"https://attack.mitre.org/techniques/T1497",tactics:["defense-evasion","discovery"]},{name:"Web Service",id:"T1102",reference:"https://attack.mitre.org/techniques/T1102",tactics:["command-and-control","defense-evasion"]},{name:"Web Session Cookie",id:"T1506",reference:"https://attack.mitre.org/techniques/T1506",tactics:["defense-evasion","lateral-movement"]},{name:"Web Shell",id:"T1100",reference:"https://attack.mitre.org/techniques/T1100",tactics:["persistence","privilege-escalation"]},{name:"Windows Admin Shares",id:"T1077",reference:"https://attack.mitre.org/techniques/T1077",tactics:["lateral-movement"]},{name:"Windows Management Instrumentation",id:"T1047",reference:"https://attack.mitre.org/techniques/T1047",tactics:["execution"]},{name:"Windows Management Instrumentation Event Subscription",id:"T1084",reference:"https://attack.mitre.org/techniques/T1084",tactics:["persistence"]},{name:"Windows Remote Management",id:"T1028",reference:"https://attack.mitre.org/techniques/T1028",tactics:["execution","lateral-movement"]},{name:"Winlogon Helper DLL",id:"T1004",reference:"https://attack.mitre.org/techniques/T1004",tactics:["persistence"]},{name:"XSL Script Processing",id:"T1220",reference:"https://attack.mitre.org/techniques/T1220",tactics:["defense-evasion","execution"]}];exports.technique=technique;var techniquesOptions=[{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.bashProfileAndBashrcDescription",{defaultMessage:".bash_profile and .bashrc (T1156)"}),id:"T1156",name:".bash_profile and .bashrc",reference:"https://attack.mitre.org/techniques/T1156",tactics:"persistence",value:"bashProfileAndBashrc"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.accessTokenManipulationDescription",{defaultMessage:"Access Token Manipulation (T1134)"}),id:"T1134",name:"Access Token Manipulation",reference:"https://attack.mitre.org/techniques/T1134",tactics:"defense-evasion,privilege-escalation",value:"accessTokenManipulation"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.accessibilityFeaturesDescription",{defaultMessage:"Accessibility Features (T1015)"}),id:"T1015",name:"Accessibility Features",reference:"https://attack.mitre.org/techniques/T1015",tactics:"persistence,privilege-escalation",value:"accessibilityFeatures"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.accountAccessRemovalDescription",{defaultMessage:"Account Access Removal (T1531)"}),id:"T1531",name:"Account Access Removal",reference:"https://attack.mitre.org/techniques/T1531",tactics:"impact",value:"accountAccessRemoval"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.accountDiscoveryDescription",{defaultMessage:"Account Discovery (T1087)"}),id:"T1087",name:"Account Discovery",reference:"https://attack.mitre.org/techniques/T1087",tactics:"discovery",value:"accountDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.accountManipulationDescription",{defaultMessage:"Account Manipulation (T1098)"}),id:"T1098",name:"Account Manipulation",reference:"https://attack.mitre.org/techniques/T1098",tactics:"credential-access,persistence",value:"accountManipulation"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.appCertDlLsDescription",{defaultMessage:"AppCert DLLs (T1182)"}),id:"T1182",name:"AppCert DLLs",reference:"https://attack.mitre.org/techniques/T1182",tactics:"persistence,privilege-escalation",value:"appCertDlLs"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.appInitDlLsDescription",{defaultMessage:"AppInit DLLs (T1103)"}),id:"T1103",name:"AppInit DLLs",reference:"https://attack.mitre.org/techniques/T1103",tactics:"persistence,privilege-escalation",value:"appInitDlLs"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.appleScriptDescription",{defaultMessage:"AppleScript (T1155)"}),id:"T1155",name:"AppleScript",reference:"https://attack.mitre.org/techniques/T1155",tactics:"execution,lateral-movement",value:"appleScript"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.applicationAccessTokenDescription",{defaultMessage:"Application Access Token (T1527)"}),id:"T1527",name:"Application Access Token",reference:"https://attack.mitre.org/techniques/T1527",tactics:"defense-evasion,lateral-movement",value:"applicationAccessToken"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.applicationDeploymentSoftwareDescription",{defaultMessage:"Application Deployment Software (T1017)"}),id:"T1017",name:"Application Deployment Software",reference:"https://attack.mitre.org/techniques/T1017",tactics:"lateral-movement",value:"applicationDeploymentSoftware"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.applicationShimmingDescription",{defaultMessage:"Application Shimming (T1138)"}),id:"T1138",name:"Application Shimming",reference:"https://attack.mitre.org/techniques/T1138",tactics:"persistence,privilege-escalation",value:"applicationShimming"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.applicationWindowDiscoveryDescription",{defaultMessage:"Application Window Discovery (T1010)"}),id:"T1010",name:"Application Window Discovery",reference:"https://attack.mitre.org/techniques/T1010",tactics:"discovery",value:"applicationWindowDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.audioCaptureDescription",{defaultMessage:"Audio Capture (T1123)"}),id:"T1123",name:"Audio Capture",reference:"https://attack.mitre.org/techniques/T1123",tactics:"collection",value:"audioCapture"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.authenticationPackageDescription",{defaultMessage:"Authentication Package (T1131)"}),id:"T1131",name:"Authentication Package",reference:"https://attack.mitre.org/techniques/T1131",tactics:"persistence",value:"authenticationPackage"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.automatedCollectionDescription",{defaultMessage:"Automated Collection (T1119)"}),id:"T1119",name:"Automated Collection",reference:"https://attack.mitre.org/techniques/T1119",tactics:"collection",value:"automatedCollection"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.automatedExfiltrationDescription",{defaultMessage:"Automated Exfiltration (T1020)"}),id:"T1020",name:"Automated Exfiltration",reference:"https://attack.mitre.org/techniques/T1020",tactics:"exfiltration",value:"automatedExfiltration"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.bitsJobsDescription",{defaultMessage:"BITS Jobs (T1197)"}),id:"T1197",name:"BITS Jobs",reference:"https://attack.mitre.org/techniques/T1197",tactics:"defense-evasion,persistence",value:"bitsJobs"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.bashHistoryDescription",{defaultMessage:"Bash History (T1139)"}),id:"T1139",name:"Bash History",reference:"https://attack.mitre.org/techniques/T1139",tactics:"credential-access",value:"bashHistory"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.binaryPaddingDescription",{defaultMessage:"Binary Padding (T1009)"}),id:"T1009",name:"Binary Padding",reference:"https://attack.mitre.org/techniques/T1009",tactics:"defense-evasion",value:"binaryPadding"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.bootkitDescription",{defaultMessage:"Bootkit (T1067)"}),id:"T1067",name:"Bootkit",reference:"https://attack.mitre.org/techniques/T1067",tactics:"persistence",value:"bootkit"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.browserBookmarkDiscoveryDescription",{defaultMessage:"Browser Bookmark Discovery (T1217)"}),id:"T1217",name:"Browser Bookmark Discovery",reference:"https://attack.mitre.org/techniques/T1217",tactics:"discovery",value:"browserBookmarkDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.browserExtensionsDescription",{defaultMessage:"Browser Extensions (T1176)"}),id:"T1176",name:"Browser Extensions",reference:"https://attack.mitre.org/techniques/T1176",tactics:"persistence",value:"browserExtensions"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.bruteForceDescription",{defaultMessage:"Brute Force (T1110)"}),id:"T1110",name:"Brute Force",reference:"https://attack.mitre.org/techniques/T1110",tactics:"credential-access",value:"bruteForce"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.bypassUserAccountControlDescription",{defaultMessage:"Bypass User Account Control (T1088)"}),id:"T1088",name:"Bypass User Account Control",reference:"https://attack.mitre.org/techniques/T1088",tactics:"defense-evasion,privilege-escalation",value:"bypassUserAccountControl"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.cmstpDescription",{defaultMessage:"CMSTP (T1191)"}),id:"T1191",name:"CMSTP",reference:"https://attack.mitre.org/techniques/T1191",tactics:"defense-evasion,execution",value:"cmstp"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.changeDefaultFileAssociationDescription",{defaultMessage:"Change Default File Association (T1042)"}),id:"T1042",name:"Change Default File Association",reference:"https://attack.mitre.org/techniques/T1042",tactics:"persistence",value:"changeDefaultFileAssociation"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.clearCommandHistoryDescription",{defaultMessage:"Clear Command History (T1146)"}),id:"T1146",name:"Clear Command History",reference:"https://attack.mitre.org/techniques/T1146",tactics:"defense-evasion",value:"clearCommandHistory"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.clipboardDataDescription",{defaultMessage:"Clipboard Data (T1115)"}),id:"T1115",name:"Clipboard Data",reference:"https://attack.mitre.org/techniques/T1115",tactics:"collection",value:"clipboardData"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.cloudInstanceMetadataApiDescription",{defaultMessage:"Cloud Instance Metadata API (T1522)"}),id:"T1522",name:"Cloud Instance Metadata API",reference:"https://attack.mitre.org/techniques/T1522",tactics:"credential-access",value:"cloudInstanceMetadataApi"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.cloudServiceDashboardDescription",{defaultMessage:"Cloud Service Dashboard (T1538)"}),id:"T1538",name:"Cloud Service Dashboard",reference:"https://attack.mitre.org/techniques/T1538",tactics:"discovery",value:"cloudServiceDashboard"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.cloudServiceDiscoveryDescription",{defaultMessage:"Cloud Service Discovery (T1526)"}),id:"T1526",name:"Cloud Service Discovery",reference:"https://attack.mitre.org/techniques/T1526",tactics:"discovery",value:"cloudServiceDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.codeSigningDescription",{defaultMessage:"Code Signing (T1116)"}),id:"T1116",name:"Code Signing",reference:"https://attack.mitre.org/techniques/T1116",tactics:"defense-evasion",value:"codeSigning"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.commandLineInterfaceDescription",{defaultMessage:"Command-Line Interface (T1059)"}),id:"T1059",name:"Command-Line Interface",reference:"https://attack.mitre.org/techniques/T1059",tactics:"execution",value:"commandLineInterface"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.commonlyUsedPortDescription",{defaultMessage:"Commonly Used Port (T1043)"}),id:"T1043",name:"Commonly Used Port",reference:"https://attack.mitre.org/techniques/T1043",tactics:"command-and-control",value:"commonlyUsedPort"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.communicationThroughRemovableMediaDescription",{defaultMessage:"Communication Through Removable Media (T1092)"}),id:"T1092",name:"Communication Through Removable Media",reference:"https://attack.mitre.org/techniques/T1092",tactics:"command-and-control",value:"communicationThroughRemovableMedia"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.compileAfterDeliveryDescription",{defaultMessage:"Compile After Delivery (T1500)"}),id:"T1500",name:"Compile After Delivery",reference:"https://attack.mitre.org/techniques/T1500",tactics:"defense-evasion",value:"compileAfterDelivery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.compiledHtmlFileDescription",{defaultMessage:"Compiled HTML File (T1223)"}),id:"T1223",name:"Compiled HTML File",reference:"https://attack.mitre.org/techniques/T1223",tactics:"defense-evasion,execution",value:"compiledHtmlFile"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.componentFirmwareDescription",{defaultMessage:"Component Firmware (T1109)"}),id:"T1109",name:"Component Firmware",reference:"https://attack.mitre.org/techniques/T1109",tactics:"defense-evasion,persistence",value:"componentFirmware"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.componentObjectModelHijackingDescription",{defaultMessage:"Component Object Model Hijacking (T1122)"}),id:"T1122",name:"Component Object Model Hijacking",reference:"https://attack.mitre.org/techniques/T1122",tactics:"defense-evasion,persistence",value:"componentObjectModelHijacking"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.componentObjectModelAndDistributedComDescription",{defaultMessage:"Component Object Model and Distributed COM (T1175)"}),id:"T1175",name:"Component Object Model and Distributed COM",reference:"https://attack.mitre.org/techniques/T1175",tactics:"lateral-movement,execution",value:"componentObjectModelAndDistributedCom"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.connectionProxyDescription",{defaultMessage:"Connection Proxy (T1090)"}),id:"T1090",name:"Connection Proxy",reference:"https://attack.mitre.org/techniques/T1090",tactics:"command-and-control,defense-evasion",value:"connectionProxy"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.controlPanelItemsDescription",{defaultMessage:"Control Panel Items (T1196)"}),id:"T1196",name:"Control Panel Items",reference:"https://attack.mitre.org/techniques/T1196",tactics:"defense-evasion,execution",value:"controlPanelItems"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.createAccountDescription",{defaultMessage:"Create Account (T1136)"}),id:"T1136",name:"Create Account",reference:"https://attack.mitre.org/techniques/T1136",tactics:"persistence",value:"createAccount"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.credentialDumpingDescription",{defaultMessage:"Credential Dumping (T1003)"}),id:"T1003",name:"Credential Dumping",reference:"https://attack.mitre.org/techniques/T1003",tactics:"credential-access",value:"credentialDumping"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.credentialsFromWebBrowsersDescription",{defaultMessage:"Credentials from Web Browsers (T1503)"}),id:"T1503",name:"Credentials from Web Browsers",reference:"https://attack.mitre.org/techniques/T1503",tactics:"credential-access",value:"credentialsFromWebBrowsers"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.credentialsInFilesDescription",{defaultMessage:"Credentials in Files (T1081)"}),id:"T1081",name:"Credentials in Files",reference:"https://attack.mitre.org/techniques/T1081",tactics:"credential-access",value:"credentialsInFiles"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.credentialsInRegistryDescription",{defaultMessage:"Credentials in Registry (T1214)"}),id:"T1214",name:"Credentials in Registry",reference:"https://attack.mitre.org/techniques/T1214",tactics:"credential-access",value:"credentialsInRegistry"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.customCommandAndControlProtocolDescription",{defaultMessage:"Custom Command and Control Protocol (T1094)"}),id:"T1094",name:"Custom Command and Control Protocol",reference:"https://attack.mitre.org/techniques/T1094",tactics:"command-and-control",value:"customCommandAndControlProtocol"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.customCryptographicProtocolDescription",{defaultMessage:"Custom Cryptographic Protocol (T1024)"}),id:"T1024",name:"Custom Cryptographic Protocol",reference:"https://attack.mitre.org/techniques/T1024",tactics:"command-and-control",value:"customCryptographicProtocol"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dcShadowDescription",{defaultMessage:"DCShadow (T1207)"}),id:"T1207",name:"DCShadow",reference:"https://attack.mitre.org/techniques/T1207",tactics:"defense-evasion",value:"dcShadow"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dllSearchOrderHijackingDescription",{defaultMessage:"DLL Search Order Hijacking (T1038)"}),id:"T1038",name:"DLL Search Order Hijacking",reference:"https://attack.mitre.org/techniques/T1038",tactics:"persistence,privilege-escalation,defense-evasion",value:"dllSearchOrderHijacking"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dllSideLoadingDescription",{defaultMessage:"DLL Side-Loading (T1073)"}),id:"T1073",name:"DLL Side-Loading",reference:"https://attack.mitre.org/techniques/T1073",tactics:"defense-evasion",value:"dllSideLoading"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dataCompressedDescription",{defaultMessage:"Data Compressed (T1002)"}),id:"T1002",name:"Data Compressed",reference:"https://attack.mitre.org/techniques/T1002",tactics:"exfiltration",value:"dataCompressed"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dataDestructionDescription",{defaultMessage:"Data Destruction (T1485)"}),id:"T1485",name:"Data Destruction",reference:"https://attack.mitre.org/techniques/T1485",tactics:"impact",value:"dataDestruction"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dataEncodingDescription",{defaultMessage:"Data Encoding (T1132)"}),id:"T1132",name:"Data Encoding",reference:"https://attack.mitre.org/techniques/T1132",tactics:"command-and-control",value:"dataEncoding"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dataEncryptedDescription",{defaultMessage:"Data Encrypted (T1022)"}),id:"T1022",name:"Data Encrypted",reference:"https://attack.mitre.org/techniques/T1022",tactics:"exfiltration",value:"dataEncrypted"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dataEncryptedForImpactDescription",{defaultMessage:"Data Encrypted for Impact (T1486)"}),id:"T1486",name:"Data Encrypted for Impact",reference:"https://attack.mitre.org/techniques/T1486",tactics:"impact",value:"dataEncryptedForImpact"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dataObfuscationDescription",{defaultMessage:"Data Obfuscation (T1001)"}),id:"T1001",name:"Data Obfuscation",reference:"https://attack.mitre.org/techniques/T1001",tactics:"command-and-control",value:"dataObfuscation"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dataStagedDescription",{defaultMessage:"Data Staged (T1074)"}),id:"T1074",name:"Data Staged",reference:"https://attack.mitre.org/techniques/T1074",tactics:"collection",value:"dataStaged"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dataTransferSizeLimitsDescription",{defaultMessage:"Data Transfer Size Limits (T1030)"}),id:"T1030",name:"Data Transfer Size Limits",reference:"https://attack.mitre.org/techniques/T1030",tactics:"exfiltration",value:"dataTransferSizeLimits"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dataFromCloudStorageObjectDescription",{defaultMessage:"Data from Cloud Storage Object (T1530)"}),id:"T1530",name:"Data from Cloud Storage Object",reference:"https://attack.mitre.org/techniques/T1530",tactics:"collection",value:"dataFromCloudStorageObject"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dataFromInformationRepositoriesDescription",{defaultMessage:"Data from Information Repositories (T1213)"}),id:"T1213",name:"Data from Information Repositories",reference:"https://attack.mitre.org/techniques/T1213",tactics:"collection",value:"dataFromInformationRepositories"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dataFromLocalSystemDescription",{defaultMessage:"Data from Local System (T1005)"}),id:"T1005",name:"Data from Local System",reference:"https://attack.mitre.org/techniques/T1005",tactics:"collection",value:"dataFromLocalSystem"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dataFromNetworkSharedDriveDescription",{defaultMessage:"Data from Network Shared Drive (T1039)"}),id:"T1039",name:"Data from Network Shared Drive",reference:"https://attack.mitre.org/techniques/T1039",tactics:"collection",value:"dataFromNetworkSharedDrive"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dataFromRemovableMediaDescription",{defaultMessage:"Data from Removable Media (T1025)"}),id:"T1025",name:"Data from Removable Media",reference:"https://attack.mitre.org/techniques/T1025",tactics:"collection",value:"dataFromRemovableMedia"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.defacementDescription",{defaultMessage:"Defacement (T1491)"}),id:"T1491",name:"Defacement",reference:"https://attack.mitre.org/techniques/T1491",tactics:"impact",value:"defacement"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.deobfuscateDecodeFilesOrInformationDescription",{defaultMessage:"Deobfuscate/Decode Files or Information (T1140)"}),id:"T1140",name:"Deobfuscate/Decode Files or Information",reference:"https://attack.mitre.org/techniques/T1140",tactics:"defense-evasion",value:"deobfuscateDecodeFilesOrInformation"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.disablingSecurityToolsDescription",{defaultMessage:"Disabling Security Tools (T1089)"}),id:"T1089",name:"Disabling Security Tools",reference:"https://attack.mitre.org/techniques/T1089",tactics:"defense-evasion",value:"disablingSecurityTools"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.diskContentWipeDescription",{defaultMessage:"Disk Content Wipe (T1488)"}),id:"T1488",name:"Disk Content Wipe",reference:"https://attack.mitre.org/techniques/T1488",tactics:"impact",value:"diskContentWipe"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.diskStructureWipeDescription",{defaultMessage:"Disk Structure Wipe (T1487)"}),id:"T1487",name:"Disk Structure Wipe",reference:"https://attack.mitre.org/techniques/T1487",tactics:"impact",value:"diskStructureWipe"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.domainFrontingDescription",{defaultMessage:"Domain Fronting (T1172)"}),id:"T1172",name:"Domain Fronting",reference:"https://attack.mitre.org/techniques/T1172",tactics:"command-and-control",value:"domainFronting"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.domainGenerationAlgorithmsDescription",{defaultMessage:"Domain Generation Algorithms (T1483)"}),id:"T1483",name:"Domain Generation Algorithms",reference:"https://attack.mitre.org/techniques/T1483",tactics:"command-and-control",value:"domainGenerationAlgorithms"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.domainTrustDiscoveryDescription",{defaultMessage:"Domain Trust Discovery (T1482)"}),id:"T1482",name:"Domain Trust Discovery",reference:"https://attack.mitre.org/techniques/T1482",tactics:"discovery",value:"domainTrustDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.driveByCompromiseDescription",{defaultMessage:"Drive-by Compromise (T1189)"}),id:"T1189",name:"Drive-by Compromise",reference:"https://attack.mitre.org/techniques/T1189",tactics:"initial-access",value:"driveByCompromise"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dylibHijackingDescription",{defaultMessage:"Dylib Hijacking (T1157)"}),id:"T1157",name:"Dylib Hijacking",reference:"https://attack.mitre.org/techniques/T1157",tactics:"persistence,privilege-escalation",value:"dylibHijacking"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.dynamicDataExchangeDescription",{defaultMessage:"Dynamic Data Exchange (T1173)"}),id:"T1173",name:"Dynamic Data Exchange",reference:"https://attack.mitre.org/techniques/T1173",tactics:"execution",value:"dynamicDataExchange"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.elevatedExecutionWithPromptDescription",{defaultMessage:"Elevated Execution with Prompt (T1514)"}),id:"T1514",name:"Elevated Execution with Prompt",reference:"https://attack.mitre.org/techniques/T1514",tactics:"privilege-escalation",value:"elevatedExecutionWithPrompt"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.emailCollectionDescription",{defaultMessage:"Email Collection (T1114)"}),id:"T1114",name:"Email Collection",reference:"https://attack.mitre.org/techniques/T1114",tactics:"collection",value:"emailCollection"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.emondDescription",{defaultMessage:"Emond (T1519)"}),id:"T1519",name:"Emond",reference:"https://attack.mitre.org/techniques/T1519",tactics:"persistence,privilege-escalation",value:"emond"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.endpointDenialOfServiceDescription",{defaultMessage:"Endpoint Denial of Service (T1499)"}),id:"T1499",name:"Endpoint Denial of Service",reference:"https://attack.mitre.org/techniques/T1499",tactics:"impact",value:"endpointDenialOfService"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.executionGuardrailsDescription",{defaultMessage:"Execution Guardrails (T1480)"}),id:"T1480",name:"Execution Guardrails",reference:"https://attack.mitre.org/techniques/T1480",tactics:"defense-evasion",value:"executionGuardrails"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.executionThroughApiDescription",{defaultMessage:"Execution through API (T1106)"}),id:"T1106",name:"Execution through API",reference:"https://attack.mitre.org/techniques/T1106",tactics:"execution",value:"executionThroughApi"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.executionThroughModuleLoadDescription",{defaultMessage:"Execution through Module Load (T1129)"}),id:"T1129",name:"Execution through Module Load",reference:"https://attack.mitre.org/techniques/T1129",tactics:"execution",value:"executionThroughModuleLoad"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.exfiltrationOverAlternativeProtocolDescription",{defaultMessage:"Exfiltration Over Alternative Protocol (T1048)"}),id:"T1048",name:"Exfiltration Over Alternative Protocol",reference:"https://attack.mitre.org/techniques/T1048",tactics:"exfiltration",value:"exfiltrationOverAlternativeProtocol"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.exfiltrationOverCommandAndControlChannelDescription",{defaultMessage:"Exfiltration Over Command and Control Channel (T1041)"}),id:"T1041",name:"Exfiltration Over Command and Control Channel",reference:"https://attack.mitre.org/techniques/T1041",tactics:"exfiltration",value:"exfiltrationOverCommandAndControlChannel"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.exfiltrationOverOtherNetworkMediumDescription",{defaultMessage:"Exfiltration Over Other Network Medium (T1011)"}),id:"T1011",name:"Exfiltration Over Other Network Medium",reference:"https://attack.mitre.org/techniques/T1011",tactics:"exfiltration",value:"exfiltrationOverOtherNetworkMedium"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.exfiltrationOverPhysicalMediumDescription",{defaultMessage:"Exfiltration Over Physical Medium (T1052)"}),id:"T1052",name:"Exfiltration Over Physical Medium",reference:"https://attack.mitre.org/techniques/T1052",tactics:"exfiltration",value:"exfiltrationOverPhysicalMedium"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.exploitPublicFacingApplicationDescription",{defaultMessage:"Exploit Public-Facing Application (T1190)"}),id:"T1190",name:"Exploit Public-Facing Application",reference:"https://attack.mitre.org/techniques/T1190",tactics:"initial-access",value:"exploitPublicFacingApplication"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.exploitationForClientExecutionDescription",{defaultMessage:"Exploitation for Client Execution (T1203)"}),id:"T1203",name:"Exploitation for Client Execution",reference:"https://attack.mitre.org/techniques/T1203",tactics:"execution",value:"exploitationForClientExecution"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.exploitationForCredentialAccessDescription",{defaultMessage:"Exploitation for Credential Access (T1212)"}),id:"T1212",name:"Exploitation for Credential Access",reference:"https://attack.mitre.org/techniques/T1212",tactics:"credential-access",value:"exploitationForCredentialAccess"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.exploitationForDefenseEvasionDescription",{defaultMessage:"Exploitation for Defense Evasion (T1211)"}),id:"T1211",name:"Exploitation for Defense Evasion",reference:"https://attack.mitre.org/techniques/T1211",tactics:"defense-evasion",value:"exploitationForDefenseEvasion"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.exploitationForPrivilegeEscalationDescription",{defaultMessage:"Exploitation for Privilege Escalation (T1068)"}),id:"T1068",name:"Exploitation for Privilege Escalation",reference:"https://attack.mitre.org/techniques/T1068",tactics:"privilege-escalation",value:"exploitationForPrivilegeEscalation"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.exploitationOfRemoteServicesDescription",{defaultMessage:"Exploitation of Remote Services (T1210)"}),id:"T1210",name:"Exploitation of Remote Services",reference:"https://attack.mitre.org/techniques/T1210",tactics:"lateral-movement",value:"exploitationOfRemoteServices"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.externalRemoteServicesDescription",{defaultMessage:"External Remote Services (T1133)"}),id:"T1133",name:"External Remote Services",reference:"https://attack.mitre.org/techniques/T1133",tactics:"persistence,initial-access",value:"externalRemoteServices"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.extraWindowMemoryInjectionDescription",{defaultMessage:"Extra Window Memory Injection (T1181)"}),id:"T1181",name:"Extra Window Memory Injection",reference:"https://attack.mitre.org/techniques/T1181",tactics:"defense-evasion,privilege-escalation",value:"extraWindowMemoryInjection"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.fallbackChannelsDescription",{defaultMessage:"Fallback Channels (T1008)"}),id:"T1008",name:"Fallback Channels",reference:"https://attack.mitre.org/techniques/T1008",tactics:"command-and-control",value:"fallbackChannels"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.fileDeletionDescription",{defaultMessage:"File Deletion (T1107)"}),id:"T1107",name:"File Deletion",reference:"https://attack.mitre.org/techniques/T1107",tactics:"defense-evasion",value:"fileDeletion"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.fileSystemLogicalOffsetsDescription",{defaultMessage:"File System Logical Offsets (T1006)"}),id:"T1006",name:"File System Logical Offsets",reference:"https://attack.mitre.org/techniques/T1006",tactics:"defense-evasion",value:"fileSystemLogicalOffsets"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.fileSystemPermissionsWeaknessDescription",{defaultMessage:"File System Permissions Weakness (T1044)"}),id:"T1044",name:"File System Permissions Weakness",reference:"https://attack.mitre.org/techniques/T1044",tactics:"persistence,privilege-escalation",value:"fileSystemPermissionsWeakness"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.fileAndDirectoryDiscoveryDescription",{defaultMessage:"File and Directory Discovery (T1083)"}),id:"T1083",name:"File and Directory Discovery",reference:"https://attack.mitre.org/techniques/T1083",tactics:"discovery",value:"fileAndDirectoryDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.fileAndDirectoryPermissionsModificationDescription",{defaultMessage:"File and Directory Permissions Modification (T1222)"}),id:"T1222",name:"File and Directory Permissions Modification",reference:"https://attack.mitre.org/techniques/T1222",tactics:"defense-evasion",value:"fileAndDirectoryPermissionsModification"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.firmwareCorruptionDescription",{defaultMessage:"Firmware Corruption (T1495)"}),id:"T1495",name:"Firmware Corruption",reference:"https://attack.mitre.org/techniques/T1495",tactics:"impact",value:"firmwareCorruption"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.forcedAuthenticationDescription",{defaultMessage:"Forced Authentication (T1187)"}),id:"T1187",name:"Forced Authentication",reference:"https://attack.mitre.org/techniques/T1187",tactics:"credential-access",value:"forcedAuthentication"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.gatekeeperBypassDescription",{defaultMessage:"Gatekeeper Bypass (T1144)"}),id:"T1144",name:"Gatekeeper Bypass",reference:"https://attack.mitre.org/techniques/T1144",tactics:"defense-evasion",value:"gatekeeperBypass"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.graphicalUserInterfaceDescription",{defaultMessage:"Graphical User Interface (T1061)"}),id:"T1061",name:"Graphical User Interface",reference:"https://attack.mitre.org/techniques/T1061",tactics:"execution",value:"graphicalUserInterface"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.groupPolicyModificationDescription",{defaultMessage:"Group Policy Modification (T1484)"}),id:"T1484",name:"Group Policy Modification",reference:"https://attack.mitre.org/techniques/T1484",tactics:"defense-evasion",value:"groupPolicyModification"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.histcontrolDescription",{defaultMessage:"HISTCONTROL (T1148)"}),id:"T1148",name:"HISTCONTROL",reference:"https://attack.mitre.org/techniques/T1148",tactics:"defense-evasion",value:"histcontrol"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.hardwareAdditionsDescription",{defaultMessage:"Hardware Additions (T1200)"}),id:"T1200",name:"Hardware Additions",reference:"https://attack.mitre.org/techniques/T1200",tactics:"initial-access",value:"hardwareAdditions"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.hiddenFilesAndDirectoriesDescription",{defaultMessage:"Hidden Files and Directories (T1158)"}),id:"T1158",name:"Hidden Files and Directories",reference:"https://attack.mitre.org/techniques/T1158",tactics:"defense-evasion,persistence",value:"hiddenFilesAndDirectories"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.hiddenUsersDescription",{defaultMessage:"Hidden Users (T1147)"}),id:"T1147",name:"Hidden Users",reference:"https://attack.mitre.org/techniques/T1147",tactics:"defense-evasion",value:"hiddenUsers"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.hiddenWindowDescription",{defaultMessage:"Hidden Window (T1143)"}),id:"T1143",name:"Hidden Window",reference:"https://attack.mitre.org/techniques/T1143",tactics:"defense-evasion",value:"hiddenWindow"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.hookingDescription",{defaultMessage:"Hooking (T1179)"}),id:"T1179",name:"Hooking",reference:"https://attack.mitre.org/techniques/T1179",tactics:"persistence,privilege-escalation,credential-access",value:"hooking"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.hypervisorDescription",{defaultMessage:"Hypervisor (T1062)"}),id:"T1062",name:"Hypervisor",reference:"https://attack.mitre.org/techniques/T1062",tactics:"persistence",value:"hypervisor"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.imageFileExecutionOptionsInjectionDescription",{defaultMessage:"Image File Execution Options Injection (T1183)"}),id:"T1183",name:"Image File Execution Options Injection",reference:"https://attack.mitre.org/techniques/T1183",tactics:"privilege-escalation,persistence,defense-evasion",value:"imageFileExecutionOptionsInjection"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.implantContainerImageDescription",{defaultMessage:"Implant Container Image (T1525)"}),id:"T1525",name:"Implant Container Image",reference:"https://attack.mitre.org/techniques/T1525",tactics:"persistence",value:"implantContainerImage"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.indicatorBlockingDescription",{defaultMessage:"Indicator Blocking (T1054)"}),id:"T1054",name:"Indicator Blocking",reference:"https://attack.mitre.org/techniques/T1054",tactics:"defense-evasion",value:"indicatorBlocking"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.indicatorRemovalFromToolsDescription",{defaultMessage:"Indicator Removal from Tools (T1066)"}),id:"T1066",name:"Indicator Removal from Tools",reference:"https://attack.mitre.org/techniques/T1066",tactics:"defense-evasion",value:"indicatorRemovalFromTools"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.indicatorRemovalOnHostDescription",{defaultMessage:"Indicator Removal on Host (T1070)"}),id:"T1070",name:"Indicator Removal on Host",reference:"https://attack.mitre.org/techniques/T1070",tactics:"defense-evasion",value:"indicatorRemovalOnHost"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.indirectCommandExecutionDescription",{defaultMessage:"Indirect Command Execution (T1202)"}),id:"T1202",name:"Indirect Command Execution",reference:"https://attack.mitre.org/techniques/T1202",tactics:"defense-evasion",value:"indirectCommandExecution"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.inhibitSystemRecoveryDescription",{defaultMessage:"Inhibit System Recovery (T1490)"}),id:"T1490",name:"Inhibit System Recovery",reference:"https://attack.mitre.org/techniques/T1490",tactics:"impact",value:"inhibitSystemRecovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.inputCaptureDescription",{defaultMessage:"Input Capture (T1056)"}),id:"T1056",name:"Input Capture",reference:"https://attack.mitre.org/techniques/T1056",tactics:"collection,credential-access",value:"inputCapture"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.inputPromptDescription",{defaultMessage:"Input Prompt (T1141)"}),id:"T1141",name:"Input Prompt",reference:"https://attack.mitre.org/techniques/T1141",tactics:"credential-access",value:"inputPrompt"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.installRootCertificateDescription",{defaultMessage:"Install Root Certificate (T1130)"}),id:"T1130",name:"Install Root Certificate",reference:"https://attack.mitre.org/techniques/T1130",tactics:"defense-evasion",value:"installRootCertificate"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.installUtilDescription",{defaultMessage:"InstallUtil (T1118)"}),id:"T1118",name:"InstallUtil",reference:"https://attack.mitre.org/techniques/T1118",tactics:"defense-evasion,execution",value:"installUtil"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.internalSpearphishingDescription",{defaultMessage:"Internal Spearphishing (T1534)"}),id:"T1534",name:"Internal Spearphishing",reference:"https://attack.mitre.org/techniques/T1534",tactics:"lateral-movement",value:"internalSpearphishing"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.kerberoastingDescription",{defaultMessage:"Kerberoasting (T1208)"}),id:"T1208",name:"Kerberoasting",reference:"https://attack.mitre.org/techniques/T1208",tactics:"credential-access",value:"kerberoasting"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.kernelModulesAndExtensionsDescription",{defaultMessage:"Kernel Modules and Extensions (T1215)"}),id:"T1215",name:"Kernel Modules and Extensions",reference:"https://attack.mitre.org/techniques/T1215",tactics:"persistence",value:"kernelModulesAndExtensions"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.keychainDescription",{defaultMessage:"Keychain (T1142)"}),id:"T1142",name:"Keychain",reference:"https://attack.mitre.org/techniques/T1142",tactics:"credential-access",value:"keychain"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.lcLoadDylibAdditionDescription",{defaultMessage:"LC_LOAD_DYLIB Addition (T1161)"}),id:"T1161",name:"LC_LOAD_DYLIB Addition",reference:"https://attack.mitre.org/techniques/T1161",tactics:"persistence",value:"lcLoadDylibAddition"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.lcMainHijackingDescription",{defaultMessage:"LC_MAIN Hijacking (T1149)"}),id:"T1149",name:"LC_MAIN Hijacking",reference:"https://attack.mitre.org/techniques/T1149",tactics:"defense-evasion",value:"lcMainHijacking"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.llmnrNbtNsPoisoningAndRelayDescription",{defaultMessage:"LLMNR/NBT-NS Poisoning and Relay (T1171)"}),id:"T1171",name:"LLMNR/NBT-NS Poisoning and Relay",reference:"https://attack.mitre.org/techniques/T1171",tactics:"credential-access",value:"llmnrNbtNsPoisoningAndRelay"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.lsassDriverDescription",{defaultMessage:"LSASS Driver (T1177)"}),id:"T1177",name:"LSASS Driver",reference:"https://attack.mitre.org/techniques/T1177",tactics:"execution,persistence",value:"lsassDriver"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.launchAgentDescription",{defaultMessage:"Launch Agent (T1159)"}),id:"T1159",name:"Launch Agent",reference:"https://attack.mitre.org/techniques/T1159",tactics:"persistence",value:"launchAgent"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.launchDaemonDescription",{defaultMessage:"Launch Daemon (T1160)"}),id:"T1160",name:"Launch Daemon",reference:"https://attack.mitre.org/techniques/T1160",tactics:"persistence,privilege-escalation",value:"launchDaemon"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.launchctlDescription",{defaultMessage:"Launchctl (T1152)"}),id:"T1152",name:"Launchctl",reference:"https://attack.mitre.org/techniques/T1152",tactics:"defense-evasion,execution,persistence",value:"launchctl"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.localJobSchedulingDescription",{defaultMessage:"Local Job Scheduling (T1168)"}),id:"T1168",name:"Local Job Scheduling",reference:"https://attack.mitre.org/techniques/T1168",tactics:"persistence,execution",value:"localJobScheduling"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.loginItemDescription",{defaultMessage:"Login Item (T1162)"}),id:"T1162",name:"Login Item",reference:"https://attack.mitre.org/techniques/T1162",tactics:"persistence",value:"loginItem"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.logonScriptsDescription",{defaultMessage:"Logon Scripts (T1037)"}),id:"T1037",name:"Logon Scripts",reference:"https://attack.mitre.org/techniques/T1037",tactics:"lateral-movement,persistence",value:"logonScripts"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.manInTheBrowserDescription",{defaultMessage:"Man in the Browser (T1185)"}),id:"T1185",name:"Man in the Browser",reference:"https://attack.mitre.org/techniques/T1185",tactics:"collection",value:"manInTheBrowser"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.masqueradingDescription",{defaultMessage:"Masquerading (T1036)"}),id:"T1036",name:"Masquerading",reference:"https://attack.mitre.org/techniques/T1036",tactics:"defense-evasion",value:"masquerading"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.modifyExistingServiceDescription",{defaultMessage:"Modify Existing Service (T1031)"}),id:"T1031",name:"Modify Existing Service",reference:"https://attack.mitre.org/techniques/T1031",tactics:"persistence",value:"modifyExistingService"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.modifyRegistryDescription",{defaultMessage:"Modify Registry (T1112)"}),id:"T1112",name:"Modify Registry",reference:"https://attack.mitre.org/techniques/T1112",tactics:"defense-evasion",value:"modifyRegistry"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.mshtaDescription",{defaultMessage:"Mshta (T1170)"}),id:"T1170",name:"Mshta",reference:"https://attack.mitre.org/techniques/T1170",tactics:"defense-evasion,execution",value:"mshta"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.multiStageChannelsDescription",{defaultMessage:"Multi-Stage Channels (T1104)"}),id:"T1104",name:"Multi-Stage Channels",reference:"https://attack.mitre.org/techniques/T1104",tactics:"command-and-control",value:"multiStageChannels"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.multiHopProxyDescription",{defaultMessage:"Multi-hop Proxy (T1188)"}),id:"T1188",name:"Multi-hop Proxy",reference:"https://attack.mitre.org/techniques/T1188",tactics:"command-and-control",value:"multiHopProxy"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.multibandCommunicationDescription",{defaultMessage:"Multiband Communication (T1026)"}),id:"T1026",name:"Multiband Communication",reference:"https://attack.mitre.org/techniques/T1026",tactics:"command-and-control",value:"multibandCommunication"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.multilayerEncryptionDescription",{defaultMessage:"Multilayer Encryption (T1079)"}),id:"T1079",name:"Multilayer Encryption",reference:"https://attack.mitre.org/techniques/T1079",tactics:"command-and-control",value:"multilayerEncryption"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.ntfsFileAttributesDescription",{defaultMessage:"NTFS File Attributes (T1096)"}),id:"T1096",name:"NTFS File Attributes",reference:"https://attack.mitre.org/techniques/T1096",tactics:"defense-evasion",value:"ntfsFileAttributes"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.netshHelperDllDescription",{defaultMessage:"Netsh Helper DLL (T1128)"}),id:"T1128",name:"Netsh Helper DLL",reference:"https://attack.mitre.org/techniques/T1128",tactics:"persistence",value:"netshHelperDll"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.networkDenialOfServiceDescription",{defaultMessage:"Network Denial of Service (T1498)"}),id:"T1498",name:"Network Denial of Service",reference:"https://attack.mitre.org/techniques/T1498",tactics:"impact",value:"networkDenialOfService"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.networkServiceScanningDescription",{defaultMessage:"Network Service Scanning (T1046)"}),id:"T1046",name:"Network Service Scanning",reference:"https://attack.mitre.org/techniques/T1046",tactics:"discovery",value:"networkServiceScanning"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.networkShareConnectionRemovalDescription",{defaultMessage:"Network Share Connection Removal (T1126)"}),id:"T1126",name:"Network Share Connection Removal",reference:"https://attack.mitre.org/techniques/T1126",tactics:"defense-evasion",value:"networkShareConnectionRemoval"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.networkShareDiscoveryDescription",{defaultMessage:"Network Share Discovery (T1135)"}),id:"T1135",name:"Network Share Discovery",reference:"https://attack.mitre.org/techniques/T1135",tactics:"discovery",value:"networkShareDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.networkSniffingDescription",{defaultMessage:"Network Sniffing (T1040)"}),id:"T1040",name:"Network Sniffing",reference:"https://attack.mitre.org/techniques/T1040",tactics:"credential-access,discovery",value:"networkSniffing"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.newServiceDescription",{defaultMessage:"New Service (T1050)"}),id:"T1050",name:"New Service",reference:"https://attack.mitre.org/techniques/T1050",tactics:"persistence,privilege-escalation",value:"newService"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.obfuscatedFilesOrInformationDescription",{defaultMessage:"Obfuscated Files or Information (T1027)"}),id:"T1027",name:"Obfuscated Files or Information",reference:"https://attack.mitre.org/techniques/T1027",tactics:"defense-evasion",value:"obfuscatedFilesOrInformation"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.officeApplicationStartupDescription",{defaultMessage:"Office Application Startup (T1137)"}),id:"T1137",name:"Office Application Startup",reference:"https://attack.mitre.org/techniques/T1137",tactics:"persistence",value:"officeApplicationStartup"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.parentPidSpoofingDescription",{defaultMessage:"Parent PID Spoofing (T1502)"}),id:"T1502",name:"Parent PID Spoofing",reference:"https://attack.mitre.org/techniques/T1502",tactics:"defense-evasion,privilege-escalation",value:"parentPidSpoofing"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.passTheHashDescription",{defaultMessage:"Pass the Hash (T1075)"}),id:"T1075",name:"Pass the Hash",reference:"https://attack.mitre.org/techniques/T1075",tactics:"lateral-movement",value:"passTheHash"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.passTheTicketDescription",{defaultMessage:"Pass the Ticket (T1097)"}),id:"T1097",name:"Pass the Ticket",reference:"https://attack.mitre.org/techniques/T1097",tactics:"lateral-movement",value:"passTheTicket"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.passwordFilterDllDescription",{defaultMessage:"Password Filter DLL (T1174)"}),id:"T1174",name:"Password Filter DLL",reference:"https://attack.mitre.org/techniques/T1174",tactics:"credential-access",value:"passwordFilterDll"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.passwordPolicyDiscoveryDescription",{defaultMessage:"Password Policy Discovery (T1201)"}),id:"T1201",name:"Password Policy Discovery",reference:"https://attack.mitre.org/techniques/T1201",tactics:"discovery",value:"passwordPolicyDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.pathInterceptionDescription",{defaultMessage:"Path Interception (T1034)"}),id:"T1034",name:"Path Interception",reference:"https://attack.mitre.org/techniques/T1034",tactics:"persistence,privilege-escalation",value:"pathInterception"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.peripheralDeviceDiscoveryDescription",{defaultMessage:"Peripheral Device Discovery (T1120)"}),id:"T1120",name:"Peripheral Device Discovery",reference:"https://attack.mitre.org/techniques/T1120",tactics:"discovery",value:"peripheralDeviceDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.permissionGroupsDiscoveryDescription",{defaultMessage:"Permission Groups Discovery (T1069)"}),id:"T1069",name:"Permission Groups Discovery",reference:"https://attack.mitre.org/techniques/T1069",tactics:"discovery",value:"permissionGroupsDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.plistModificationDescription",{defaultMessage:"Plist Modification (T1150)"}),id:"T1150",name:"Plist Modification",reference:"https://attack.mitre.org/techniques/T1150",tactics:"defense-evasion,persistence,privilege-escalation",value:"plistModification"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.portKnockingDescription",{defaultMessage:"Port Knocking (T1205)"}),id:"T1205",name:"Port Knocking",reference:"https://attack.mitre.org/techniques/T1205",tactics:"defense-evasion,persistence,command-and-control",value:"portKnocking"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.portMonitorsDescription",{defaultMessage:"Port Monitors (T1013)"}),id:"T1013",name:"Port Monitors",reference:"https://attack.mitre.org/techniques/T1013",tactics:"persistence,privilege-escalation",value:"portMonitors"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.powerShellDescription",{defaultMessage:"PowerShell (T1086)"}),id:"T1086",name:"PowerShell",reference:"https://attack.mitre.org/techniques/T1086",tactics:"execution",value:"powerShell"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.powerShellProfileDescription",{defaultMessage:"PowerShell Profile (T1504)"}),id:"T1504",name:"PowerShell Profile",reference:"https://attack.mitre.org/techniques/T1504",tactics:"persistence,privilege-escalation",value:"powerShellProfile"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.privateKeysDescription",{defaultMessage:"Private Keys (T1145)"}),id:"T1145",name:"Private Keys",reference:"https://attack.mitre.org/techniques/T1145",tactics:"credential-access",value:"privateKeys"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.processDiscoveryDescription",{defaultMessage:"Process Discovery (T1057)"}),id:"T1057",name:"Process Discovery",reference:"https://attack.mitre.org/techniques/T1057",tactics:"discovery",value:"processDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.processDoppelgangingDescription",{defaultMessage:"Process Doppelgnging (T1186)"}),id:"T1186",name:"Process Doppelgnging",reference:"https://attack.mitre.org/techniques/T1186",tactics:"defense-evasion",value:"processDoppelganging"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.processHollowingDescription",{defaultMessage:"Process Hollowing (T1093)"}),id:"T1093",name:"Process Hollowing",reference:"https://attack.mitre.org/techniques/T1093",tactics:"defense-evasion",value:"processHollowing"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.processInjectionDescription",{defaultMessage:"Process Injection (T1055)"}),id:"T1055",name:"Process Injection",reference:"https://attack.mitre.org/techniques/T1055",tactics:"defense-evasion,privilege-escalation",value:"processInjection"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.queryRegistryDescription",{defaultMessage:"Query Registry (T1012)"}),id:"T1012",name:"Query Registry",reference:"https://attack.mitre.org/techniques/T1012",tactics:"discovery",value:"queryRegistry"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.rcCommonDescription",{defaultMessage:"Rc.common (T1163)"}),id:"T1163",name:"Rc.common",reference:"https://attack.mitre.org/techniques/T1163",tactics:"persistence",value:"rcCommon"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.reOpenedApplicationsDescription",{defaultMessage:"Re-opened Applications (T1164)"}),id:"T1164",name:"Re-opened Applications",reference:"https://attack.mitre.org/techniques/T1164",tactics:"persistence",value:"reOpenedApplications"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.redundantAccessDescription",{defaultMessage:"Redundant Access (T1108)"}),id:"T1108",name:"Redundant Access",reference:"https://attack.mitre.org/techniques/T1108",tactics:"defense-evasion,persistence",value:"redundantAccess"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.registryRunKeysStartupFolderDescription",{defaultMessage:"Registry Run Keys / Startup Folder (T1060)"}),id:"T1060",name:"Registry Run Keys / Startup Folder",reference:"https://attack.mitre.org/techniques/T1060",tactics:"persistence",value:"registryRunKeysStartupFolder"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.regsvcsRegasmDescription",{defaultMessage:"Regsvcs/Regasm (T1121)"}),id:"T1121",name:"Regsvcs/Regasm",reference:"https://attack.mitre.org/techniques/T1121",tactics:"defense-evasion,execution",value:"regsvcsRegasm"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.regsvr32Description",{defaultMessage:"Regsvr32 (T1117)"}),id:"T1117",name:"Regsvr32",reference:"https://attack.mitre.org/techniques/T1117",tactics:"defense-evasion,execution",value:"regsvr32"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.remoteAccessToolsDescription",{defaultMessage:"Remote Access Tools (T1219)"}),id:"T1219",name:"Remote Access Tools",reference:"https://attack.mitre.org/techniques/T1219",tactics:"command-and-control",value:"remoteAccessTools"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.remoteDesktopProtocolDescription",{defaultMessage:"Remote Desktop Protocol (T1076)"}),id:"T1076",name:"Remote Desktop Protocol",reference:"https://attack.mitre.org/techniques/T1076",tactics:"lateral-movement",value:"remoteDesktopProtocol"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.remoteFileCopyDescription",{defaultMessage:"Remote File Copy (T1105)"}),id:"T1105",name:"Remote File Copy",reference:"https://attack.mitre.org/techniques/T1105",tactics:"command-and-control,lateral-movement",value:"remoteFileCopy"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.remoteServicesDescription",{defaultMessage:"Remote Services (T1021)"}),id:"T1021",name:"Remote Services",reference:"https://attack.mitre.org/techniques/T1021",tactics:"lateral-movement",value:"remoteServices"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.remoteSystemDiscoveryDescription",{defaultMessage:"Remote System Discovery (T1018)"}),id:"T1018",name:"Remote System Discovery",reference:"https://attack.mitre.org/techniques/T1018",tactics:"discovery",value:"remoteSystemDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.replicationThroughRemovableMediaDescription",{defaultMessage:"Replication Through Removable Media (T1091)"}),id:"T1091",name:"Replication Through Removable Media",reference:"https://attack.mitre.org/techniques/T1091",tactics:"lateral-movement,initial-access",value:"replicationThroughRemovableMedia"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.resourceHijackingDescription",{defaultMessage:"Resource Hijacking (T1496)"}),id:"T1496",name:"Resource Hijacking",reference:"https://attack.mitre.org/techniques/T1496",tactics:"impact",value:"resourceHijacking"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.revertCloudInstanceDescription",{defaultMessage:"Revert Cloud Instance (T1536)"}),id:"T1536",name:"Revert Cloud Instance",reference:"https://attack.mitre.org/techniques/T1536",tactics:"defense-evasion",value:"revertCloudInstance"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.rootkitDescription",{defaultMessage:"Rootkit (T1014)"}),id:"T1014",name:"Rootkit",reference:"https://attack.mitre.org/techniques/T1014",tactics:"defense-evasion",value:"rootkit"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.rundll32Description",{defaultMessage:"Rundll32 (T1085)"}),id:"T1085",name:"Rundll32",reference:"https://attack.mitre.org/techniques/T1085",tactics:"defense-evasion,execution",value:"rundll32"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.runtimeDataManipulationDescription",{defaultMessage:"Runtime Data Manipulation (T1494)"}),id:"T1494",name:"Runtime Data Manipulation",reference:"https://attack.mitre.org/techniques/T1494",tactics:"impact",value:"runtimeDataManipulation"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.sidHistoryInjectionDescription",{defaultMessage:"SID-History Injection (T1178)"}),id:"T1178",name:"SID-History Injection",reference:"https://attack.mitre.org/techniques/T1178",tactics:"privilege-escalation",value:"sidHistoryInjection"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.sipAndTrustProviderHijackingDescription",{defaultMessage:"SIP and Trust Provider Hijacking (T1198)"}),id:"T1198",name:"SIP and Trust Provider Hijacking",reference:"https://attack.mitre.org/techniques/T1198",tactics:"defense-evasion,persistence",value:"sipAndTrustProviderHijacking"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.sshHijackingDescription",{defaultMessage:"SSH Hijacking (T1184)"}),id:"T1184",name:"SSH Hijacking",reference:"https://attack.mitre.org/techniques/T1184",tactics:"lateral-movement",value:"sshHijacking"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.scheduledTaskDescription",{defaultMessage:"Scheduled Task (T1053)"}),id:"T1053",name:"Scheduled Task",reference:"https://attack.mitre.org/techniques/T1053",tactics:"execution,persistence,privilege-escalation",value:"scheduledTask"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.scheduledTransferDescription",{defaultMessage:"Scheduled Transfer (T1029)"}),id:"T1029",name:"Scheduled Transfer",reference:"https://attack.mitre.org/techniques/T1029",tactics:"exfiltration",value:"scheduledTransfer"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.screenCaptureDescription",{defaultMessage:"Screen Capture (T1113)"}),id:"T1113",name:"Screen Capture",reference:"https://attack.mitre.org/techniques/T1113",tactics:"collection",value:"screenCapture"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.screensaverDescription",{defaultMessage:"Screensaver (T1180)"}),id:"T1180",name:"Screensaver",reference:"https://attack.mitre.org/techniques/T1180",tactics:"persistence",value:"screensaver"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.scriptingDescription",{defaultMessage:"Scripting (T1064)"}),id:"T1064",name:"Scripting",reference:"https://attack.mitre.org/techniques/T1064",tactics:"defense-evasion,execution",value:"scripting"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.securitySoftwareDiscoveryDescription",{defaultMessage:"Security Software Discovery (T1063)"}),id:"T1063",name:"Security Software Discovery",reference:"https://attack.mitre.org/techniques/T1063",tactics:"discovery",value:"securitySoftwareDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.securitySupportProviderDescription",{defaultMessage:"Security Support Provider (T1101)"}),id:"T1101",name:"Security Support Provider",reference:"https://attack.mitre.org/techniques/T1101",tactics:"persistence",value:"securitySupportProvider"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.securitydMemoryDescription",{defaultMessage:"Securityd Memory (T1167)"}),id:"T1167",name:"Securityd Memory",reference:"https://attack.mitre.org/techniques/T1167",tactics:"credential-access",value:"securitydMemory"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.serverSoftwareComponentDescription",{defaultMessage:"Server Software Component (T1505)"}),id:"T1505",name:"Server Software Component",reference:"https://attack.mitre.org/techniques/T1505",tactics:"persistence",value:"serverSoftwareComponent"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.serviceExecutionDescription",{defaultMessage:"Service Execution (T1035)"}),id:"T1035",name:"Service Execution",reference:"https://attack.mitre.org/techniques/T1035",tactics:"execution",value:"serviceExecution"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.serviceRegistryPermissionsWeaknessDescription",{defaultMessage:"Service Registry Permissions Weakness (T1058)"}),id:"T1058",name:"Service Registry Permissions Weakness",reference:"https://attack.mitre.org/techniques/T1058",tactics:"persistence,privilege-escalation",value:"serviceRegistryPermissionsWeakness"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.serviceStopDescription",{defaultMessage:"Service Stop (T1489)"}),id:"T1489",name:"Service Stop",reference:"https://attack.mitre.org/techniques/T1489",tactics:"impact",value:"serviceStop"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.setuidAndSetgidDescription",{defaultMessage:"Setuid and Setgid (T1166)"}),id:"T1166",name:"Setuid and Setgid",reference:"https://attack.mitre.org/techniques/T1166",tactics:"privilege-escalation,persistence",value:"setuidAndSetgid"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.sharedWebrootDescription",{defaultMessage:"Shared Webroot (T1051)"}),id:"T1051",name:"Shared Webroot",reference:"https://attack.mitre.org/techniques/T1051",tactics:"lateral-movement",value:"sharedWebroot"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.shortcutModificationDescription",{defaultMessage:"Shortcut Modification (T1023)"}),id:"T1023",name:"Shortcut Modification",reference:"https://attack.mitre.org/techniques/T1023",tactics:"persistence",value:"shortcutModification"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.signedBinaryProxyExecutionDescription",{defaultMessage:"Signed Binary Proxy Execution (T1218)"}),id:"T1218",name:"Signed Binary Proxy Execution",reference:"https://attack.mitre.org/techniques/T1218",tactics:"defense-evasion,execution",value:"signedBinaryProxyExecution"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.signedScriptProxyExecutionDescription",{defaultMessage:"Signed Script Proxy Execution (T1216)"}),id:"T1216",name:"Signed Script Proxy Execution",reference:"https://attack.mitre.org/techniques/T1216",tactics:"defense-evasion,execution",value:"signedScriptProxyExecution"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.softwareDiscoveryDescription",{defaultMessage:"Software Discovery (T1518)"}),id:"T1518",name:"Software Discovery",reference:"https://attack.mitre.org/techniques/T1518",tactics:"discovery",value:"softwareDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.softwarePackingDescription",{defaultMessage:"Software Packing (T1045)"}),id:"T1045",name:"Software Packing",reference:"https://attack.mitre.org/techniques/T1045",tactics:"defense-evasion",value:"softwarePacking"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.sourceDescription",{defaultMessage:"Source (T1153)"}),id:"T1153",name:"Source",reference:"https://attack.mitre.org/techniques/T1153",tactics:"execution",value:"source"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.spaceAfterFilenameDescription",{defaultMessage:"Space after Filename (T1151)"}),id:"T1151",name:"Space after Filename",reference:"https://attack.mitre.org/techniques/T1151",tactics:"defense-evasion,execution",value:"spaceAfterFilename"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.spearphishingAttachmentDescription",{defaultMessage:"Spearphishing Attachment (T1193)"}),id:"T1193",name:"Spearphishing Attachment",reference:"https://attack.mitre.org/techniques/T1193",tactics:"initial-access",value:"spearphishingAttachment"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.spearphishingLinkDescription",{defaultMessage:"Spearphishing Link (T1192)"}),id:"T1192",name:"Spearphishing Link",reference:"https://attack.mitre.org/techniques/T1192",tactics:"initial-access",value:"spearphishingLink"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.spearphishingViaServiceDescription",{defaultMessage:"Spearphishing via Service (T1194)"}),id:"T1194",name:"Spearphishing via Service",reference:"https://attack.mitre.org/techniques/T1194",tactics:"initial-access",value:"spearphishingViaService"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.standardApplicationLayerProtocolDescription",{defaultMessage:"Standard Application Layer Protocol (T1071)"}),id:"T1071",name:"Standard Application Layer Protocol",reference:"https://attack.mitre.org/techniques/T1071",tactics:"command-and-control",value:"standardApplicationLayerProtocol"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.standardCryptographicProtocolDescription",{defaultMessage:"Standard Cryptographic Protocol (T1032)"}),id:"T1032",name:"Standard Cryptographic Protocol",reference:"https://attack.mitre.org/techniques/T1032",tactics:"command-and-control",value:"standardCryptographicProtocol"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.standardNonApplicationLayerProtocolDescription",{defaultMessage:"Standard Non-Application Layer Protocol (T1095)"}),id:"T1095",name:"Standard Non-Application Layer Protocol",reference:"https://attack.mitre.org/techniques/T1095",tactics:"command-and-control",value:"standardNonApplicationLayerProtocol"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.startupItemsDescription",{defaultMessage:"Startup Items (T1165)"}),id:"T1165",name:"Startup Items",reference:"https://attack.mitre.org/techniques/T1165",tactics:"persistence,privilege-escalation",value:"startupItems"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.stealApplicationAccessTokenDescription",{defaultMessage:"Steal Application Access Token (T1528)"}),id:"T1528",name:"Steal Application Access Token",reference:"https://attack.mitre.org/techniques/T1528",tactics:"credential-access",value:"stealApplicationAccessToken"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.stealWebSessionCookieDescription",{defaultMessage:"Steal Web Session Cookie (T1539)"}),id:"T1539",name:"Steal Web Session Cookie",reference:"https://attack.mitre.org/techniques/T1539",tactics:"credential-access",value:"stealWebSessionCookie"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.storedDataManipulationDescription",{defaultMessage:"Stored Data Manipulation (T1492)"}),id:"T1492",name:"Stored Data Manipulation",reference:"https://attack.mitre.org/techniques/T1492",tactics:"impact",value:"storedDataManipulation"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.sudoDescription",{defaultMessage:"Sudo (T1169)"}),id:"T1169",name:"Sudo",reference:"https://attack.mitre.org/techniques/T1169",tactics:"privilege-escalation",value:"sudo"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.sudoCachingDescription",{defaultMessage:"Sudo Caching (T1206)"}),id:"T1206",name:"Sudo Caching",reference:"https://attack.mitre.org/techniques/T1206",tactics:"privilege-escalation",value:"sudoCaching"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.supplyChainCompromiseDescription",{defaultMessage:"Supply Chain Compromise (T1195)"}),id:"T1195",name:"Supply Chain Compromise",reference:"https://attack.mitre.org/techniques/T1195",tactics:"initial-access",value:"supplyChainCompromise"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.systemFirmwareDescription",{defaultMessage:"System Firmware (T1019)"}),id:"T1019",name:"System Firmware",reference:"https://attack.mitre.org/techniques/T1019",tactics:"persistence",value:"systemFirmware"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.systemInformationDiscoveryDescription",{defaultMessage:"System Information Discovery (T1082)"}),id:"T1082",name:"System Information Discovery",reference:"https://attack.mitre.org/techniques/T1082",tactics:"discovery",value:"systemInformationDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.systemNetworkConfigurationDiscoveryDescription",{defaultMessage:"System Network Configuration Discovery (T1016)"}),id:"T1016",name:"System Network Configuration Discovery",reference:"https://attack.mitre.org/techniques/T1016",tactics:"discovery",value:"systemNetworkConfigurationDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.systemNetworkConnectionsDiscoveryDescription",{defaultMessage:"System Network Connections Discovery (T1049)"}),id:"T1049",name:"System Network Connections Discovery",reference:"https://attack.mitre.org/techniques/T1049",tactics:"discovery",value:"systemNetworkConnectionsDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.systemOwnerUserDiscoveryDescription",{defaultMessage:"System Owner/User Discovery (T1033)"}),id:"T1033",name:"System Owner/User Discovery",reference:"https://attack.mitre.org/techniques/T1033",tactics:"discovery",value:"systemOwnerUserDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.systemServiceDiscoveryDescription",{defaultMessage:"System Service Discovery (T1007)"}),id:"T1007",name:"System Service Discovery",reference:"https://attack.mitre.org/techniques/T1007",tactics:"discovery",value:"systemServiceDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.systemShutdownRebootDescription",{defaultMessage:"System Shutdown/Reboot (T1529)"}),id:"T1529",name:"System Shutdown/Reboot",reference:"https://attack.mitre.org/techniques/T1529",tactics:"impact",value:"systemShutdownReboot"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.systemTimeDiscoveryDescription",{defaultMessage:"System Time Discovery (T1124)"}),id:"T1124",name:"System Time Discovery",reference:"https://attack.mitre.org/techniques/T1124",tactics:"discovery",value:"systemTimeDiscovery"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.systemdServiceDescription",{defaultMessage:"Systemd Service (T1501)"}),id:"T1501",name:"Systemd Service",reference:"https://attack.mitre.org/techniques/T1501",tactics:"persistence",value:"systemdService"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.taintSharedContentDescription",{defaultMessage:"Taint Shared Content (T1080)"}),id:"T1080",name:"Taint Shared Content",reference:"https://attack.mitre.org/techniques/T1080",tactics:"lateral-movement",value:"taintSharedContent"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.templateInjectionDescription",{defaultMessage:"Template Injection (T1221)"}),id:"T1221",name:"Template Injection",reference:"https://attack.mitre.org/techniques/T1221",tactics:"defense-evasion",value:"templateInjection"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.thirdPartySoftwareDescription",{defaultMessage:"Third-party Software (T1072)"}),id:"T1072",name:"Third-party Software",reference:"https://attack.mitre.org/techniques/T1072",tactics:"execution,lateral-movement",value:"thirdPartySoftware"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.timeProvidersDescription",{defaultMessage:"Time Providers (T1209)"}),id:"T1209",name:"Time Providers",reference:"https://attack.mitre.org/techniques/T1209",tactics:"persistence",value:"timeProviders"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.timestompDescription",{defaultMessage:"Timestomp (T1099)"}),id:"T1099",name:"Timestomp",reference:"https://attack.mitre.org/techniques/T1099",tactics:"defense-evasion",value:"timestomp"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.transferDataToCloudAccountDescription",{defaultMessage:"Transfer Data to Cloud Account (T1537)"}),id:"T1537",name:"Transfer Data to Cloud Account",reference:"https://attack.mitre.org/techniques/T1537",tactics:"exfiltration",value:"transferDataToCloudAccount"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.transmittedDataManipulationDescription",{defaultMessage:"Transmitted Data Manipulation (T1493)"}),id:"T1493",name:"Transmitted Data Manipulation",reference:"https://attack.mitre.org/techniques/T1493",tactics:"impact",value:"transmittedDataManipulation"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.trapDescription",{defaultMessage:"Trap (T1154)"}),id:"T1154",name:"Trap",reference:"https://attack.mitre.org/techniques/T1154",tactics:"execution,persistence",value:"trap"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.trustedDeveloperUtilitiesDescription",{defaultMessage:"Trusted Developer Utilities (T1127)"}),id:"T1127",name:"Trusted Developer Utilities",reference:"https://attack.mitre.org/techniques/T1127",tactics:"defense-evasion,execution",value:"trustedDeveloperUtilities"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.trustedRelationshipDescription",{defaultMessage:"Trusted Relationship (T1199)"}),id:"T1199",name:"Trusted Relationship",reference:"https://attack.mitre.org/techniques/T1199",tactics:"initial-access",value:"trustedRelationship"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.twoFactorAuthenticationInterceptionDescription",{defaultMessage:"Two-Factor Authentication Interception (T1111)"}),id:"T1111",name:"Two-Factor Authentication Interception",reference:"https://attack.mitre.org/techniques/T1111",tactics:"credential-access",value:"twoFactorAuthenticationInterception"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.uncommonlyUsedPortDescription",{defaultMessage:"Uncommonly Used Port (T1065)"}),id:"T1065",name:"Uncommonly Used Port",reference:"https://attack.mitre.org/techniques/T1065",tactics:"command-and-control",value:"uncommonlyUsedPort"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.unusedUnsupportedCloudRegionsDescription",{defaultMessage:"Unused/Unsupported Cloud Regions (T1535)"}),id:"T1535",name:"Unused/Unsupported Cloud Regions",reference:"https://attack.mitre.org/techniques/T1535",tactics:"defense-evasion",value:"unusedUnsupportedCloudRegions"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.userExecutionDescription",{defaultMessage:"User Execution (T1204)"}),id:"T1204",name:"User Execution",reference:"https://attack.mitre.org/techniques/T1204",tactics:"execution",value:"userExecution"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.validAccountsDescription",{defaultMessage:"Valid Accounts (T1078)"}),id:"T1078",name:"Valid Accounts",reference:"https://attack.mitre.org/techniques/T1078",tactics:"defense-evasion,persistence,privilege-escalation,initial-access",value:"validAccounts"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.videoCaptureDescription",{defaultMessage:"Video Capture (T1125)"}),id:"T1125",name:"Video Capture",reference:"https://attack.mitre.org/techniques/T1125",tactics:"collection",value:"videoCapture"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.virtualizationSandboxEvasionDescription",{defaultMessage:"Virtualization/Sandbox Evasion (T1497)"}),id:"T1497",name:"Virtualization/Sandbox Evasion",reference:"https://attack.mitre.org/techniques/T1497",tactics:"defense-evasion,discovery",value:"virtualizationSandboxEvasion"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.webServiceDescription",{defaultMessage:"Web Service (T1102)"}),id:"T1102",name:"Web Service",reference:"https://attack.mitre.org/techniques/T1102",tactics:"command-and-control,defense-evasion",value:"webService"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.webSessionCookieDescription",{defaultMessage:"Web Session Cookie (T1506)"}),id:"T1506",name:"Web Session Cookie",reference:"https://attack.mitre.org/techniques/T1506",tactics:"defense-evasion,lateral-movement",value:"webSessionCookie"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.webShellDescription",{defaultMessage:"Web Shell (T1100)"}),id:"T1100",name:"Web Shell",reference:"https://attack.mitre.org/techniques/T1100",tactics:"persistence,privilege-escalation",value:"webShell"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.windowsAdminSharesDescription",{defaultMessage:"Windows Admin Shares (T1077)"}),id:"T1077",name:"Windows Admin Shares",reference:"https://attack.mitre.org/techniques/T1077",tactics:"lateral-movement",value:"windowsAdminShares"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.windowsManagementInstrumentationDescription",{defaultMessage:"Windows Management Instrumentation (T1047)"}),id:"T1047",name:"Windows Management Instrumentation",reference:"https://attack.mitre.org/techniques/T1047",tactics:"execution",value:"windowsManagementInstrumentation"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.windowsManagementInstrumentationEventSubscriptionDescription",{defaultMessage:"Windows Management Instrumentation Event Subscription (T1084)"}),id:"T1084",name:"Windows Management Instrumentation Event Subscription",reference:"https://attack.mitre.org/techniques/T1084",tactics:"persistence",value:"windowsManagementInstrumentationEventSubscription"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.windowsRemoteManagementDescription",{defaultMessage:"Windows Remote Management (T1028)"}),id:"T1028",name:"Windows Remote Management",reference:"https://attack.mitre.org/techniques/T1028",tactics:"execution,lateral-movement",value:"windowsRemoteManagement"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.winlogonHelperDllDescription",{defaultMessage:"Winlogon Helper DLL (T1004)"}),id:"T1004",name:"Winlogon Helper DLL",reference:"https://attack.mitre.org/techniques/T1004",tactics:"persistence",value:"winlogonHelperDll"},{label:_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttackTechniques.xslScriptProcessingDescription",{defaultMessage:"XSL Script Processing (T1220)"}),id:"T1220",name:"XSL Script Processing",reference:"https://attack.mitre.org/techniques/T1220",tactics:"defense-evasion,execution",value:"xslScriptProcessing"}];exports.techniquesOptions=techniquesOptions},7667:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SeverityBadge=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _eui_theme_light=_interopRequireDefault(__webpack_require__(18));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SeverityBadgeComponent=function SeverityBadgeComponent(_ref){var value=_ref.value;return _react.default.createElement(_eui.EuiHealth,{color:value==="low"?_eui_theme_light.default.euiColorVis0:value==="medium"?_eui_theme_light.default.euiColorVis5:value==="high"?_eui_theme_light.default.euiColorVis7:_eui_theme_light.default.euiColorVis9},(0,_fp.upperFirst)(value))};var SeverityBadge=_react.default.memo(SeverityBadgeComponent);exports.SeverityBadge=SeverityBadge},7668:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.stepAboutDefaultValue=exports.threatDefault=void 0;var _translations=__webpack_require__(7350);var threatDefault=[{framework:"MITRE ATT&CK",tactic:{id:"none",name:"none",reference:"none"},technique:[]}];exports.threatDefault=threatDefault;var stepAboutDefaultValue={name:"",description:"",isNew:true,severity:"low",riskScore:50,references:[""],falsePositives:[""],tags:[],timeline:{id:null,title:_translations.DEFAULT_TIMELINE_TITLE},threat:threatDefault};exports.stepAboutDefaultValue=stepAboutDefaultValue},7669:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isMitreAttackInvalid=void 0;var _fp=__webpack_require__(223);var isMitreAttackInvalid=function isMitreAttackInvalid(tacticName,technique){if((0,_fp.isEmpty)(tacticName)||tacticName!=="none"&&(0,_fp.isEmpty)(technique)){return true}return false};exports.isMitreAttackInvalid=isMitreAttackInvalid},7670:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OptionalFieldLabel=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var RuleI18n=_interopRequireWildcard(__webpack_require__(7031));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var OptionalFieldLabel=_react.default.createElement(_eui.EuiText,{color:"subdued",size:"xs"},RuleI18n.OPTIONAL_FIELD);exports.OptionalFieldLabel=OptionalFieldLabel},7671:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IMPORT_TIMELINE_QUERY=exports.RESET_DEFAULT_INDEX=exports.INDEX_HELPER_TEXT=exports.CUSTOM_INDICES=exports.CONFIG_INDICES=exports.INVALID_CUSTOM_QUERY=exports.CUSTOM_QUERY_REQUIRED=void 0;var _i18n=__webpack_require__(2);var CUSTOM_QUERY_REQUIRED=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepDefineRule.customQueryFieldRequiredError",{defaultMessage:"A custom query is required."});exports.CUSTOM_QUERY_REQUIRED=CUSTOM_QUERY_REQUIRED;var INVALID_CUSTOM_QUERY=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepDefineRule.customQueryFieldInvalidError",{defaultMessage:"The KQL is invalid"});exports.INVALID_CUSTOM_QUERY=INVALID_CUSTOM_QUERY;var CONFIG_INDICES=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepDefineRule.indicesFromConfigDescription",{defaultMessage:"Use Elasticsearch indices from SIEM advanced settings"});exports.CONFIG_INDICES=CONFIG_INDICES;var CUSTOM_INDICES=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepDefineRule.indicesCustomDescription",{defaultMessage:"Provide custom list of indices"});exports.CUSTOM_INDICES=CUSTOM_INDICES;var INDEX_HELPER_TEXT=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepDefineRule.indicesHelperDescription",{defaultMessage:"Enter the pattern of Elasticsearch indices where you would like this rule to run. By default, these will include index patterns defined in SIEM advanced settings."});exports.INDEX_HELPER_TEXT=INDEX_HELPER_TEXT;var RESET_DEFAULT_INDEX=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepDefineRule.resetDefaultIndicesButton",{defaultMessage:"Reset to default index patterns"});exports.RESET_DEFAULT_INDEX=RESET_DEFAULT_INDEX;var IMPORT_TIMELINE_QUERY=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepDefineRule.importTimelineQueryButton",{defaultMessage:"Import query from saved timeline"});exports.IMPORT_TIMELINE_QUERY=IMPORT_TIMELINE_QUERY},7672:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatRule=void 0;var _fp=__webpack_require__(223);var _moment=_interopRequireDefault(__webpack_require__(13));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var getTimeTypeValue=function getTimeTypeValue(time){var timeObj={unit:"",value:0};var filterTimeVal=time.match(/\d+/g);var filterTimeType=time.match(/[a-zA-Z]+/g);if(!(0,_fp.isEmpty)(filterTimeVal)&&filterTimeVal!=null&&!isNaN(Number(filterTimeVal[0]))){timeObj.value=Number(filterTimeVal[0])}if(!(0,_fp.isEmpty)(filterTimeType)&&filterTimeType!=null&&["s","m","h"].includes(filterTimeType[0])){timeObj.unit=filterTimeType[0]}return timeObj};var formatDefineStepData=function formatDefineStepData(defineStepData){var queryBar=defineStepData.queryBar,isNew=defineStepData.isNew,rest=_objectWithoutProperties(defineStepData,["queryBar","isNew"]);var filters=queryBar.filters,query=queryBar.query,savedId=queryBar.saved_id;return _objectSpread({},rest,{language:query.language,filters:filters,query:query.query},savedId!=null&&savedId!==""?{saved_id:savedId}:{})};var formatScheduleStepData=function formatScheduleStepData(scheduleData){var isNew=scheduleData.isNew,formatScheduleData=_objectWithoutProperties(scheduleData,["isNew"]);if(!(0,_fp.isEmpty)(formatScheduleData.interval)&&!(0,_fp.isEmpty)(formatScheduleData.from)){var _getTimeTypeValue=getTimeTypeValue(formatScheduleData.interval),intervalUnit=_getTimeTypeValue.unit,intervalValue=_getTimeTypeValue.value;var _getTimeTypeValue2=getTimeTypeValue(formatScheduleData.from),fromUnit=_getTimeTypeValue2.unit,fromValue=_getTimeTypeValue2.value;var duration=_moment.default.duration(intervalValue,intervalUnit);duration.add(fromValue,fromUnit);formatScheduleData.from="now-".concat(duration.asSeconds(),"s");formatScheduleData.to="now"}return _objectSpread({},formatScheduleData,{meta:{from:scheduleData.from}})};var formatAboutStepData=function formatAboutStepData(aboutStepData){var falsePositives=aboutStepData.falsePositives,references=aboutStepData.references,riskScore=aboutStepData.riskScore,threat=aboutStepData.threat,timeline=aboutStepData.timeline,isNew=aboutStepData.isNew,rest=_objectWithoutProperties(aboutStepData,["falsePositives","references","riskScore","threat","timeline","isNew"]);return _objectSpread({false_positives:falsePositives.filter((function(item){return!(0,_fp.isEmpty)(item)})),references:references.filter((function(item){return!(0,_fp.isEmpty)(item)})),risk_score:riskScore},timeline.id!=null&&timeline.title!=null?{timeline_id:timeline.id,timeline_title:timeline.title}:{},{threat:threat.filter((function(singleThreat){return singleThreat.tactic.name!=="none"})).map((function(singleThreat){return _objectSpread({},singleThreat,{framework:"MITRE ATT&CK",technique:singleThreat.technique.map((function(technique){var id=technique.id,name=technique.name,reference=technique.reference;return{id:id,name:name,reference:reference}}))})}))},rest)};var formatRule=function formatRule(defineStepData,aboutStepData,scheduleData,ruleId){var type=!(0,_fp.isEmpty)(defineStepData.queryBar.saved_id)?"saved_query":"query";var persistData=_objectSpread({type:type},formatDefineStepData(defineStepData),{},formatAboutStepData(aboutStepData),{},formatScheduleStepData(scheduleData));return ruleId!=null?_objectSpread({id:ruleId},persistData):persistData};exports.formatRule=formatRule},7673:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertsTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _events_viewer=__webpack_require__(7331);var i18n=_interopRequireWildcard(__webpack_require__(7355));var _default_headers=__webpack_require__(7636);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var ALERTS_TABLE_ID="timeline-alerts-table";var defaultAlertsFilters=[{meta:{alias:null,negate:false,disabled:false,type:"phrase",key:"event.kind",params:{query:"alert"}},query:{bool:{filter:[{bool:{should:[{match:{"event.kind":"alert"}}],minimum_should_match:1}}]}}}];var AlertsTableComponent=function AlertsTableComponent(_ref){var endDate=_ref.endDate,startDate=_ref.startDate,_ref$pageFilters=_ref.pageFilters,pageFilters=_ref$pageFilters===void 0?[]:_ref$pageFilters;var alertsFilter=(0,_react.useMemo)((function(){return[].concat(defaultAlertsFilters,_toConsumableArray(pageFilters))}),[pageFilters]);var timelineTypeContext=(0,_react.useMemo)((function(){return{documentType:i18n.ALERTS_DOCUMENT_TYPE,footerText:i18n.TOTAL_COUNT_OF_ALERTS,title:i18n.ALERTS_TABLE_TITLE,unit:i18n.UNIT}}),[]);return _react.default.createElement(_events_viewer.StatefulEventsViewer,{pageFilters:alertsFilter,defaultModel:_default_headers.alertsDefaultModel,end:endDate,id:ALERTS_TABLE_ID,start:startDate,timelineTypeContext:timelineTypeContext})};var AlertsTable=_react.default.memo(AlertsTableComponent);exports.AlertsTable=AlertsTable},7674:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertsByCategory=void 0;var _eui=__webpack_require__(1);var _numeral=_interopRequireDefault(__webpack_require__(148));var _react=_interopRequireWildcard(__webpack_require__(0));var _constants=__webpack_require__(977);var _translations=__webpack_require__(7355);var _alerts_viewer=__webpack_require__(7356);var _redirect_to_detection_engine=__webpack_require__(7043);var _matrix_histogram=__webpack_require__(7109);var _index=__webpack_require__(7110);var _kibana=__webpack_require__(7013);var _keury=__webpack_require__(1885);var _public=__webpack_require__(11);var _model=__webpack_require__(504);var i18n=_interopRequireWildcard(__webpack_require__(7165));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ID="alertsByCategoryOverview";var NO_FILTERS=[];var DEFAULT_QUERY={query:"",language:"kuery"};var DEFAULT_STACK_BY="event.module";var AlertsByCategoryComponent=function AlertsByCategoryComponent(_ref){var _alertsStackByOptions;var deleteQuery=_ref.deleteQuery,_ref$filters=_ref.filters,filters=_ref$filters===void 0?NO_FILTERS:_ref$filters,from=_ref.from,_ref$hideHeaderChildr=_ref.hideHeaderChildren,hideHeaderChildren=_ref$hideHeaderChildr===void 0?false:_ref$hideHeaderChildr,indexPattern=_ref.indexPattern,_ref$query=_ref.query,query=_ref$query===void 0?DEFAULT_QUERY:_ref$query,setAbsoluteRangeDatePicker=_ref.setAbsoluteRangeDatePicker,setQuery=_ref.setQuery,to=_ref.to;(0,_react.useEffect)((function(){return function(){if(deleteQuery){deleteQuery({id:ID})}}}),[]);var kibana=(0,_kibana.useKibana)();var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_NUMBER_FORMAT),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),defaultNumberFormat=_useUiSetting$2[0];var updateDateRangeCallback=(0,_react.useCallback)((function(min,max){setAbsoluteRangeDatePicker({id:"global",from:min,to:max})}),[setAbsoluteRangeDatePicker]);var alertsCountViewAlertsButton=(0,_react.useMemo)((function(){return _react.default.createElement(_eui.EuiButton,{href:(0,_redirect_to_detection_engine.getDetectionEngineAlertUrl)()},i18n.VIEW_ALERTS)}),[]);var getSubtitle=(0,_react.useCallback)((function(totalCount){return"".concat(_translations.SHOWING,": ").concat((0,_numeral.default)(totalCount).format(defaultNumberFormat)," ").concat((0,_translations.UNIT)(totalCount))}),[]);var defaultStackByOption=(_alertsStackByOptions=_alerts_viewer.alertsStackByOptions.find((function(o){return o.text===DEFAULT_STACK_BY})))!==null&&_alertsStackByOptions!==void 0?_alertsStackByOptions:_alerts_viewer.alertsStackByOptions[0];return _react.default.createElement(_matrix_histogram.MatrixHistogramContainer,{dataKey:"AlertsHistogram",defaultStackByOption:defaultStackByOption,endDate:to,errorMessage:_translations.ERROR_FETCHING_ALERTS_DATA,filterQuery:(0,_keury.convertToBuildEsQuery)({config:_public.esQuery.getEsQueryConfig(kibana.services.uiSettings),indexPattern:indexPattern,queries:[query],filters:filters}),headerChildren:hideHeaderChildren?null:alertsCountViewAlertsButton,id:ID,isAlertsHistogram:true,legendPosition:"right",query:_index.MatrixHistogramGqlQuery,setQuery:setQuery,sourceId:"default",stackByOptions:_alerts_viewer.alertsStackByOptions,startDate:from,title:i18n.ALERTS_GRAPH_TITLE,subtitle:getSubtitle,type:_model.HostsType.page,updateDateRange:updateDateRangeCallback})};AlertsByCategoryComponent.displayName="AlertsByCategoryComponent";var AlertsByCategory=_react.default.memo(AlertsByCategoryComponent);exports.AlertsByCategory=AlertsByCategory},7675:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useSignalInfo=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireWildcard(__webpack_require__(0));var _use_query=__webpack_require__(7676);var _query=__webpack_require__(8922);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useSignalInfo=function useSignalInfo(_ref){var _ref$ruleId=_ref.ruleId,ruleId=_ref$ruleId===void 0?null:_ref$ruleId;var _useState=(0,_react2.useState)(_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_useState2=_slicedToArray(_useState,2),lastSignals=_useState2[0],setLastSignals=_useState2[1];var _useState3=(0,_react2.useState)(_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_useState4=_slicedToArray(_useState3,2),totalSignals=_useState4[0],setTotalSignals=_useState4[1];var _useQuerySignals=(0,_use_query.useQuerySignals)((0,_query.buildLastSignalsQuery)(ruleId)),loading=_useQuerySignals.loading,signals=_useQuerySignals.data;(0,_react2.useEffect)((function(){if(signals!=null){var _mySignals$aggregatio,_ref2,_mySignals$aggregatio2;var mySignals=signals;setLastSignals(((_mySignals$aggregatio=mySignals.aggregations)===null||_mySignals$aggregatio===void 0?void 0:_mySignals$aggregatio.lastSeen.value)!=null?_react2.default.createElement(_react.FormattedRelative,{value:new Date((_ref2=(_mySignals$aggregatio2=mySignals.aggregations)===null||_mySignals$aggregatio2===void 0?void 0:_mySignals$aggregatio2.lastSeen.value_as_string)!==null&&_ref2!==void 0?_ref2:"")}):null);setTotalSignals(_react2.default.createElement(_react2.default.Fragment,null,mySignals.hits.total.value))}else{setLastSignals(null);setTotalSignals(null)}}),[loading,signals]);return[lastSignals,totalSignals]};exports.useSignalInfo=useSignalInfo},7676:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useQuerySignals=void 0;var _react=__webpack_require__(0);var _api=__webpack_require__(7210);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useQuerySignals=function useQuerySignals(initialQuery,indexName){var _useState=(0,_react.useState)(initialQuery),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=(0,_react.useState)({data:null,response:"",request:"",setQuery:setQuery,refetch:null}),_useState4=_slicedToArray(_useState3,2),signals=_useState4[0],setSignals=_useState4[1];var _useState5=(0,_react.useState)(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;function fetchData(){var signalResponse,_ref;return regeneratorRuntime.async((function fetchData$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return regeneratorRuntime.awrap((0,_api.fetchQuerySignals)({query:query,signal:abortCtrl.signal}));case 4:signalResponse=_context.sent;if(isSubscribed){setSignals({data:signalResponse,response:JSON.stringify(signalResponse,null,2),request:JSON.stringify({index:(_ref=[indexName])!==null&&_ref!==void 0?_ref:[""],body:query},null,2),setQuery:setQuery,refetch:fetchData})}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);if(isSubscribed){setSignals({data:null,response:"",request:"",setQuery:setQuery,refetch:fetchData})}case 11:if(isSubscribed){setLoading(false)}case 12:case"end":return _context.stop()}}}),null,null,[[0,8]])}fetchData();return function(){isSubscribed=false;abortCtrl.abort()}}),[query,indexName]);return _objectSpread({loading:loading},signals)};exports.useQuerySignals=useQuerySignals},7677:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoWriteSignalsCallOut=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var i18n=_interopRequireWildcard(__webpack_require__(8925));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var NoWriteSignalsCallOutComponent=function NoWriteSignalsCallOutComponent(){var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),showCallOut=_useState2[0],setShowCallOut=_useState2[1];var handleCallOut=(0,_react.useCallback)((function(){return setShowCallOut(false)}),[setShowCallOut]);return showCallOut?_react.default.createElement(_eui.EuiCallOut,{title:i18n.NO_WRITE_SIGNALS_CALLOUT_TITLE,color:"warning",iconType:"alert"},_react.default.createElement("p",null,i18n.NO_WRITE_SIGNALS_CALLOUT_MSG),_react.default.createElement(_eui.EuiButton,{color:"warning",onClick:handleCallOut},i18n.DISMISS_CALLOUT)):null};var NoWriteSignalsCallOut=(0,_react.memo)(NoWriteSignalsCallOutComponent);exports.NoWriteSignalsCallOut=NoWriteSignalsCallOut},7678:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SHOWING_SIGNALS=exports.VIEW_SIGNALS=exports.ALL_OTHERS=exports.HISTOGRAM_HEADER=exports.STACK_BY_USERS=exports.STACK_BY_RULE_NAMES=exports.STACK_BY_RULE_TYPES=exports.STACK_BY_HOST_NAMES=exports.STACK_BY_CATEGORIES=exports.STACK_BY_ACTIONS=exports.STACK_BY_SOURCE_IPS=exports.STACK_BY_DESTINATION_IPS=exports.STACK_BY_SEVERITIES=exports.STACK_BY_RISK_SCORES=exports.STACK_BY_LABEL=void 0;var _i18n=__webpack_require__(2);var STACK_BY_LABEL=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.stackByOptions.stackByLabel",{defaultMessage:"Stack by"});exports.STACK_BY_LABEL=STACK_BY_LABEL;var STACK_BY_RISK_SCORES=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.stackByOptions.riskScoresDropDown",{defaultMessage:"Risk scores"});exports.STACK_BY_RISK_SCORES=STACK_BY_RISK_SCORES;var STACK_BY_SEVERITIES=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.stackByOptions.severitiesDropDown",{defaultMessage:"Severities"});exports.STACK_BY_SEVERITIES=STACK_BY_SEVERITIES;var STACK_BY_DESTINATION_IPS=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.stackByOptions.destinationIpsDropDown",{defaultMessage:"Top destination IPs"});exports.STACK_BY_DESTINATION_IPS=STACK_BY_DESTINATION_IPS;var STACK_BY_SOURCE_IPS=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.stackByOptions.sourceIpsDropDown",{defaultMessage:"Top source IPs"});exports.STACK_BY_SOURCE_IPS=STACK_BY_SOURCE_IPS;var STACK_BY_ACTIONS=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.stackByOptions.eventActionsDropDown",{defaultMessage:"Top event actions"});exports.STACK_BY_ACTIONS=STACK_BY_ACTIONS;var STACK_BY_CATEGORIES=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.stackByOptions.eventCategoriesDropDown",{defaultMessage:"Top event categories"});exports.STACK_BY_CATEGORIES=STACK_BY_CATEGORIES;var STACK_BY_HOST_NAMES=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.stackByOptions.hostNamesDropDown",{defaultMessage:"Top host names"});exports.STACK_BY_HOST_NAMES=STACK_BY_HOST_NAMES;var STACK_BY_RULE_TYPES=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.stackByOptions.ruleTypesDropDown",{defaultMessage:"Top rule types"});exports.STACK_BY_RULE_TYPES=STACK_BY_RULE_TYPES;var STACK_BY_RULE_NAMES=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.stackByOptions.rulesDropDown",{defaultMessage:"Top rules"});exports.STACK_BY_RULE_NAMES=STACK_BY_RULE_NAMES;var STACK_BY_USERS=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.stackByOptions.usersDropDown",{defaultMessage:"Top users"});exports.STACK_BY_USERS=STACK_BY_USERS;var HISTOGRAM_HEADER=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.headerTitle",{defaultMessage:"Signal count"});exports.HISTOGRAM_HEADER=HISTOGRAM_HEADER;var ALL_OTHERS=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.allOthersGroupingLabel",{defaultMessage:"All others"});exports.ALL_OTHERS=ALL_OTHERS;var VIEW_SIGNALS=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.viewSignalsButtonLabel",{defaultMessage:"View signals"});exports.VIEW_SIGNALS=VIEW_SIGNALS;var SHOWING_SIGNALS=function SHOWING_SIGNALS(totalSignalsFormatted,totalSignals,modifier){return _i18n.i18n.translate("xpack.siem.detectionEngine.signals.histogram.showingSignalsTitle",{values:{totalSignalsFormatted:totalSignalsFormatted,totalSignals:totalSignals,modifier:modifier},defaultMessage:"Showing: {modifier}{totalSignalsFormatted} {totalSignals, plural, =1 {signal} other {signals}}"})};exports.SHOWING_SIGNALS=SHOWING_SIGNALS},7679:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetectionEngineEmptyPage=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(8));var _kibana=__webpack_require__(7013);var _empty_page=__webpack_require__(7132);var i18n=_interopRequireWildcard(__webpack_require__(7206));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var basePath=_chrome.default.getBasePath();var DetectionEngineEmptyPage=_react.default.memo((function(){return _react.default.createElement(_empty_page.EmptyPage,{actionPrimaryIcon:"gear",actionPrimaryLabel:i18n.EMPTY_ACTION_PRIMARY,actionPrimaryUrl:"".concat(basePath,"/app/kibana#/home/tutorial_directory/siem"),actionSecondaryIcon:"popout",actionSecondaryLabel:i18n.EMPTY_ACTION_SECONDARY,actionSecondaryTarget:"_blank",actionSecondaryUrl:(0,_kibana.useKibana)().services.docLinks.links.siem.gettingStarted,"data-test-subj":"empty-page",message:i18n.EMPTY_MESSAGE,title:i18n.EMPTY_TITLE})}));exports.DetectionEngineEmptyPage=DetectionEngineEmptyPage;DetectionEngineEmptyPage.displayName="DetectionEngineEmptyPage"},7680:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepPanel=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _header_section=__webpack_require__(7050);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var MyPanel=(0,_styledComponents.default)(_eui.EuiPanel).withConfig({displayName:"MyPanel",componentId:"cwxpqk-0"})(["position:relative;"]);var StepPanelComponent=function StepPanelComponent(_ref){var children=_ref.children,loading=_ref.loading,title=_ref.title;return _react.default.createElement(MyPanel,null,loading&&_react.default.createElement(_eui.EuiProgress,{size:"xs",color:"accent",position:"absolute"}),_react.default.createElement(_header_section.HeaderSection,{title:title}),children)};var StepPanel=(0,_react.memo)(StepPanelComponent);exports.StepPanel=StepPanel},7681:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ReadOnlyCallOut=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var i18n=_interopRequireWildcard(__webpack_require__(8933));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ReadOnlyCallOutComponent=function ReadOnlyCallOutComponent(){var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),showCallOut=_useState2[0],setShowCallOut=_useState2[1];var handleCallOut=(0,_react.useCallback)((function(){return setShowCallOut(false)}),[setShowCallOut]);return showCallOut?_react.default.createElement(_eui.EuiCallOut,{title:i18n.READ_ONLY_CALLOUT_TITLE,color:"warning",iconType:"alert"},_react.default.createElement("p",null,i18n.READ_ONLY_CALLOUT_MSG),_react.default.createElement(_eui.EuiButton,{color:"warning",onClick:handleCallOut},i18n.DISMISS_CALLOUT)):null};var ReadOnlyCallOut=(0,_react.memo)(ReadOnlyCallOutComponent);exports.ReadOnlyCallOut=ReadOnlyCallOut},7682:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RuleSwitch=exports.RuleSwitchComponent=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _react=_interopRequireWildcard(__webpack_require__(0));var _rules=__webpack_require__(7059);var _actions=__webpack_require__(7218);var _toasters=__webpack_require__(7019);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var StaticSwitch=(0,_styledComponents.default)(_eui.EuiSwitch).withConfig({displayName:"StaticSwitch",componentId:"sc-9qwvlp-0"})([".euiSwitch__thumb,.euiSwitch__icon{transition:none;}"]);StaticSwitch.displayName="StaticSwitch";var RuleSwitchComponent=function RuleSwitchComponent(_ref){var dispatch=_ref.dispatch,id=_ref.id,isDisabled=_ref.isDisabled,isLoading=_ref.isLoading,enabled=_ref.enabled,optionLabel=_ref.optionLabel,onChange=_ref.onChange;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),myIsLoading=_useState2[0],setMyIsLoading=_useState2[1];var _useState3=(0,_react.useState)(enabled!==null&&enabled!==void 0?enabled:false),_useState4=_slicedToArray(_useState3,2),myEnabled=_useState4[0],setMyEnabled=_useState4[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];var onRuleStateChange=(0,_react.useCallback)((function _callee(event){var updatedRules;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setMyIsLoading(true);if(!(dispatch!=null)){_context.next=6;break}_context.next=4;return regeneratorRuntime.awrap((0,_actions.enableRulesAction)([id],event.target.checked,dispatch,dispatchToaster));case 4:_context.next=17;break;case 6:_context.prev=6;_context.next=9;return regeneratorRuntime.awrap((0,_rules.enableRules)({ids:[id],enabled:event.target.checked}));case 9:updatedRules=_context.sent;setMyEnabled(updatedRules[0].enabled);if(onChange!=null){onChange(updatedRules[0].enabled)}_context.next=17;break;case 14:_context.prev=14;_context.t0=_context["catch"](6);setMyIsLoading(false);case 17:setMyIsLoading(false);case 18:case"end":return _context.stop()}}}),null,null,[[6,14]])}),[dispatch,id]);(0,_react.useEffect)((function(){if(myEnabled!==enabled){setMyEnabled(enabled)}}),[enabled]);(0,_react.useEffect)((function(){if(myIsLoading!==isLoading){setMyIsLoading(isLoading!==null&&isLoading!==void 0?isLoading:false)}}),[isLoading]);return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceAround"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},myIsLoading?_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m","data-test-subj":"rule-switch-loader"}):_react.default.createElement(StaticSwitch,{"data-test-subj":"rule-switch",label:optionLabel!==null&&optionLabel!==void 0?optionLabel:"",showLabel:!(0,_fp.isEmpty)(optionLabel),disabled:isDisabled,checked:myEnabled,onChange:onRuleStateChange})))};exports.RuleSwitchComponent=RuleSwitchComponent;var RuleSwitch=_react.default.memo(RuleSwitchComponent);exports.RuleSwitch=RuleSwitch;RuleSwitch.displayName="RuleSwitch"},7683:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showRulesTable=exports.bucketRulesResponse=void 0;function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var bucketRulesResponse=function bucketRulesResponse(response){return response.reduce((function(acc,cv){return"error"in cv?{rules:_toConsumableArray(acc.rules),errors:[].concat(_toConsumableArray(acc.errors),[cv])}:{rules:[].concat(_toConsumableArray(acc.rules),[cv]),errors:_toConsumableArray(acc.errors)}}),{rules:[],errors:[]})};exports.bucketRulesResponse=bucketRulesResponse;var showRulesTable=function showRulesTable(_ref){var rulesCustomInstalled=_ref.rulesCustomInstalled,rulesInstalled=_ref.rulesInstalled;return rulesCustomInstalled!=null&&rulesCustomInstalled>0||rulesInstalled!=null&&rulesInstalled>0};exports.showRulesTable=showRulesTable},7684:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RuleDownloader=exports.RuleDownloaderComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _fp=__webpack_require__(223);var _rules=__webpack_require__(7059);var _toasters=__webpack_require__(7019);var i18n=_interopRequireWildcard(__webpack_require__(8936));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var InvisibleAnchor=_styledComponents.default.a.withConfig({displayName:"InvisibleAnchor",componentId:"vbd5m8-0"})(["display:none;"]);var RuleDownloaderComponent=function RuleDownloaderComponent(_ref){var filename=_ref.filename,ruleIds=_ref.ruleIds,onExportComplete=_ref.onExportComplete;var anchorRef=(0,_react.useRef)(null);var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;function exportData(){var exportResponse,objectURL;return regeneratorRuntime.async((function exportData$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(anchorRef&&anchorRef.current&&ruleIds!=null&&ruleIds.length>0)){_context.next=11;break}_context.prev=1;_context.next=4;return regeneratorRuntime.awrap((0,_rules.exportRules)({ruleIds:ruleIds,signal:abortCtrl.signal}));case 4:exportResponse=_context.sent;if(isSubscribed){if((0,_fp.isFunction)(window.navigator.msSaveOrOpenBlob)){window.navigator.msSaveBlob(exportResponse)}else{objectURL=window.URL.createObjectURL(exportResponse);anchorRef.current.href=objectURL;anchorRef.current.download=filename;anchorRef.current.click();window.URL.revokeObjectURL(objectURL)}onExportComplete(ruleIds.length)}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);if(isSubscribed){(0,_toasters.displayErrorToast)(i18n.EXPORT_FAILURE,[_context.t0.message],dispatchToaster)}case 11:case"end":return _context.stop()}}}),null,null,[[1,8]])}exportData();return function(){isSubscribed=false;abortCtrl.abort()}}),[ruleIds]);return _react.default.createElement(InvisibleAnchor,{ref:anchorRef})};exports.RuleDownloaderComponent=RuleDownloaderComponent;RuleDownloaderComponent.displayName="RuleDownloaderComponent";var RuleDownloader=_react.default.memo(RuleDownloaderComponent);exports.RuleDownloader=RuleDownloader;RuleDownloader.displayName="RuleDownloader"},7685:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getStatusColor=void 0;var getStatusColor=function getStatusColor(status){return status==null?"subdued":status==="succeeded"?"success":status==="failed"?"danger":status==="executing"||status==="going to run"?"warning":"subdued"};exports.getStatusColor=getStatusColor},7686:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UPDATE_PREPACKAGED_RULES=exports.UPDATE_PREPACKAGED_RULES_MSG=exports.UPDATE_PREPACKAGED_RULES_TITLE=exports.CREATE_RULE_ACTION=exports.PRE_BUILT_ACTION=exports.PRE_BUILT_MSG=exports.PRE_BUILT_TITLE=void 0;var _i18n=__webpack_require__(2);var PRE_BUILT_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.prePackagedRules.emptyPromptTitle",{defaultMessage:"Load Elastic prebuilt detection rules"});exports.PRE_BUILT_TITLE=PRE_BUILT_TITLE;var PRE_BUILT_MSG=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.prePackagedRules.emptyPromptMessage",{defaultMessage:"Elastic SIEM comes with prebuilt detection rules that run in the background and create signals when their conditions are met. By default, all prebuilt rules are disabled and you select which rules you want to activate."});exports.PRE_BUILT_MSG=PRE_BUILT_MSG;var PRE_BUILT_ACTION=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.prePackagedRules.loadPreBuiltButton",{defaultMessage:"Load prebuilt detection rules"});exports.PRE_BUILT_ACTION=PRE_BUILT_ACTION;var CREATE_RULE_ACTION=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.prePackagedRules.createOwnRuletButton",{defaultMessage:"Create your own rules"});exports.CREATE_RULE_ACTION=CREATE_RULE_ACTION;var UPDATE_PREPACKAGED_RULES_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.updatePrePackagedRulesTitle",{defaultMessage:"Update available for Elastic prebuilt rules"});exports.UPDATE_PREPACKAGED_RULES_TITLE=UPDATE_PREPACKAGED_RULES_TITLE;var UPDATE_PREPACKAGED_RULES_MSG=function UPDATE_PREPACKAGED_RULES_MSG(updateRules){return _i18n.i18n.translate("xpack.siem.detectionEngine.rules.updatePrePackagedRulesMsg",{values:{updateRules:updateRules},defaultMessage:"You can update {updateRules} Elastic prebuilt {updateRules, plural, =1 {rule} other {rules}}. Note that this will reload deleted Elastic prebuilt rules."})};exports.UPDATE_PREPACKAGED_RULES_MSG=UPDATE_PREPACKAGED_RULES_MSG;var UPDATE_PREPACKAGED_RULES=function UPDATE_PREPACKAGED_RULES(updateRules){return _i18n.i18n.translate("xpack.siem.detectionEngine.rules.updatePrePackagedRulesButton",{values:{updateRules:updateRules},defaultMessage:"Update {updateRules} Elastic prebuilt {updateRules, plural, =1 {rule} other {rules}} "})};exports.UPDATE_PREPACKAGED_RULES=UPDATE_PREPACKAGED_RULES},7687:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAuthenticationColumnsCurated=exports.AuthenticationTable=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _hosts=__webpack_require__(1896);var _store=__webpack_require__(7016);var _draggable_wrapper=__webpack_require__(7032);var _helpers=__webpack_require__(7021);var _empty_value=__webpack_require__(7017);var _formatted_date=__webpack_require__(7027);var _links=__webpack_require__(7034);var _paginated_table=__webpack_require__(7081);var _data_provider=__webpack_require__(7024);var _provider=__webpack_require__(7051);var i18n=_interopRequireWildcard(__webpack_require__(8956));var _helpers2=__webpack_require__(7065);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var tableType=_store.hostsModel.HostsTableType.authentications;var rowItems=[{text:i18n.ROWS_5,numberOfRow:5},{text:i18n.ROWS_10,numberOfRow:10}];var AuthenticationTableComponent=_react.default.memo((function(_ref){var activePage=_ref.activePage,data=_ref.data,fakeTotalCount=_ref.fakeTotalCount,id=_ref.id,isInspect=_ref.isInspect,limit=_ref.limit,loading=_ref.loading,loadPage=_ref.loadPage,showMorePagesIndicator=_ref.showMorePagesIndicator,totalCount=_ref.totalCount,type=_ref.type,updateTableActivePage=_ref.updateTableActivePage,updateTableLimit=_ref.updateTableLimit;var updateLimitPagination=(0,_react.useCallback)((function(newLimit){return updateTableLimit({hostsType:type,limit:newLimit,tableType:tableType})}),[type,updateTableLimit]);var updateActivePage=(0,_react.useCallback)((function(newPage){return updateTableActivePage({activePage:newPage,hostsType:type,tableType:tableType})}),[type,updateTableActivePage]);return _react.default.createElement(_paginated_table.PaginatedTable,{activePage:activePage,columns:getAuthenticationColumnsCurated(type),dataTestSubj:"table-".concat(tableType),headerCount:totalCount,headerTitle:i18n.AUTHENTICATIONS,headerUnit:i18n.UNIT(totalCount),id:id,isInspect:isInspect,itemsPerRow:rowItems,limit:limit,loading:loading,loadPage:loadPage,pageOfItems:data,showMorePagesIndicator:showMorePagesIndicator,totalCount:fakeTotalCount,updateLimitPagination:updateLimitPagination,updateActivePage:updateActivePage})}));AuthenticationTableComponent.displayName="AuthenticationTableComponent";var makeMapStateToProps=function makeMapStateToProps(){var getAuthenticationsSelector=_store.hostsSelectors.authenticationsSelector();return function(state,_ref2){var type=_ref2.type;return getAuthenticationsSelector(state,type)}};var AuthenticationTable=(0,_reactRedux.connect)(makeMapStateToProps,{updateTableActivePage:_hosts.hostsActions.updateTableActivePage,updateTableLimit:_hosts.hostsActions.updateTableLimit})(AuthenticationTableComponent);exports.AuthenticationTable=AuthenticationTable;var getAuthenticationColumns=function getAuthenticationColumns(){return[{name:i18n.USER,truncateText:false,hideForMobile:false,render:function render(_ref3){var node=_ref3.node;return(0,_helpers2.getRowItemDraggables)({rowItems:node.user.name,attrName:"user.name",idPrefix:"authentications-table-".concat(node._id,"-userName")})}},{name:i18n.SUCCESSES,truncateText:false,hideForMobile:false,render:function render(_ref4){var node=_ref4.node;var id=(0,_helpers.escapeDataProviderId)("authentications-table-".concat(node._id,"-node-successes-").concat(node.successes));return _react.default.createElement(_draggable_wrapper.DraggableWrapper,{key:id,dataProvider:{and:[],enabled:true,id:id,name:"authentication_success",excluded:false,kqlQuery:"",queryMatch:{field:"event.type",value:"authentication_success",operator:_data_provider.IS_OPERATOR}},render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:dataProvider})):node.successes}})},width:"8%"},{name:i18n.FAILURES,truncateText:false,hideForMobile:false,render:function render(_ref5){var node=_ref5.node;var id=(0,_helpers.escapeDataProviderId)("authentications-table-".concat(node._id,"-failures-").concat(node.failures));return _react.default.createElement(_draggable_wrapper.DraggableWrapper,{key:id,dataProvider:{and:[],enabled:true,id:id,name:"authentication_failure",excluded:false,kqlQuery:"",queryMatch:{field:"event.type",value:"authentication_failure",operator:_data_provider.IS_OPERATOR}},render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:dataProvider})):node.failures}})},width:"8%"},{name:i18n.LAST_SUCCESSFUL_TIME,truncateText:false,hideForMobile:false,render:function render(_ref6){var node=_ref6.node;return(0,_fp.has)("lastSuccess.timestamp",node)&&node.lastSuccess.timestamp!=null?_react.default.createElement(_formatted_date.FormattedRelativePreferenceDate,{value:node.lastSuccess.timestamp}):(0,_empty_value.getEmptyTagValue)()}},{name:i18n.LAST_SUCCESSFUL_SOURCE,truncateText:false,hideForMobile:false,render:function render(_ref7){var node=_ref7.node;return(0,_helpers2.getRowItemDraggables)({rowItems:node.lastSuccess!=null&&node.lastSuccess.source!=null&&node.lastSuccess.source.ip!=null?node.lastSuccess.source.ip:null,attrName:"source.ip",idPrefix:"authentications-table-".concat(node._id,"-lastSuccessSource"),render:function render(item){return _react.default.createElement(_links.IPDetailsLink,{ip:item})}})}},{name:i18n.LAST_SUCCESSFUL_DESTINATION,truncateText:false,hideForMobile:false,render:function render(_ref8){var node=_ref8.node;return(0,_helpers2.getRowItemDraggables)({rowItems:node.lastSuccess!=null&&node.lastSuccess.host!=null&&node.lastSuccess.host.name!=null?node.lastSuccess.host.name:null,attrName:"host.name",idPrefix:"authentications-table-".concat(node._id,"-lastSuccessfulDestination"),render:function render(item){return _react.default.createElement(_links.HostDetailsLink,{hostName:item})}})}},{name:i18n.LAST_FAILED_TIME,truncateText:false,hideForMobile:false,render:function render(_ref9){var node=_ref9.node;return(0,_fp.has)("lastFailure.timestamp",node)&&node.lastFailure.timestamp!=null?_react.default.createElement(_formatted_date.FormattedRelativePreferenceDate,{value:node.lastFailure.timestamp}):(0,_empty_value.getEmptyTagValue)()}},{name:i18n.LAST_FAILED_SOURCE,truncateText:false,hideForMobile:false,render:function render(_ref10){var node=_ref10.node;return(0,_helpers2.getRowItemDraggables)({rowItems:node.lastFailure!=null&&node.lastFailure.source!=null&&node.lastFailure.source.ip!=null?node.lastFailure.source.ip:null,attrName:"source.ip",idPrefix:"authentications-table-".concat(node._id,"-lastFailureSource"),render:function render(item){return _react.default.createElement(_links.IPDetailsLink,{ip:item})}})}},{name:i18n.LAST_FAILED_DESTINATION,truncateText:false,hideForMobile:false,render:function render(_ref11){var node=_ref11.node;return(0,_helpers2.getRowItemDraggables)({rowItems:node.lastFailure!=null&&node.lastFailure.host!=null&&node.lastFailure.host.name!=null?node.lastFailure.host.name:null,attrName:"host.name",idPrefix:"authentications-table-".concat(node._id,"-lastFailureDestination"),render:function render(item){return _react.default.createElement(_links.HostDetailsLink,{hostName:item})}})}}]};var getAuthenticationColumnsCurated=function getAuthenticationColumnsCurated(pageType){var columns=getAuthenticationColumns();if(pageType===_store.hostsModel.HostsType.details){return[i18n.LAST_FAILED_DESTINATION,i18n.LAST_SUCCESSFUL_DESTINATION].reduce((function(acc,name){acc.splice(acc.findIndex((function(column){return column.name===name})),1);return acc}),columns)}return columns};exports.getAuthenticationColumnsCurated=getAuthenticationColumnsCurated},7688:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={AddFilterToGlobalSearchBar:true,HoverActionsContainer:true};exports.HoverActionsContainer=exports.AddFilterToGlobalSearchBar=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _with_hover_actions=__webpack_require__(7128);var _search_bar=__webpack_require__(7079);var i18n=_interopRequireWildcard(__webpack_require__(8959));var _helpers=__webpack_require__(8960);Object.keys(_helpers).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _helpers[key]}})}));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AddFilterToGlobalSearchBar=_react.default.memo((function(_ref){var children=_ref.children,filter=_ref.filter,onFilterAdded=_ref.onFilterAdded;var addToKql=function addToKql(){_search_bar.siemFilterManager.addFilters(filter);if(onFilterAdded!=null){onFilterAdded()}};return _react.default.createElement(_with_hover_actions.WithHoverActions,{hoverContent:_react.default.createElement(HoverActionsContainer,{"data-test-subj":"hover-actions-container",paddingSize:"none"},_react.default.createElement(_eui.EuiToolTip,{content:i18n.FILTER_FOR_VALUE},_react.default.createElement(_eui.EuiIcon,{"data-test-subj":"add-to-filter",type:"filter",onClick:addToKql}))),render:function render(){return children}})}));exports.AddFilterToGlobalSearchBar=AddFilterToGlobalSearchBar;AddFilterToGlobalSearchBar.displayName="AddFilterToGlobalSearchBar";var HoverActionsContainer=(0,_styledComponents.default)(_eui.EuiPanel).withConfig({displayName:"HoverActionsContainer",componentId:"sc-1u162tv-0"})(["align-items:center;display:flex;flex-direction:row;height:34px;justify-content:center;left:5px;position:absolute;top:-10px;width:34px;cursor:pointer;"]);exports.HoverActionsContainer=HoverActionsContainer},7689:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROWS_10=exports.ROWS_5=exports.VERSION=exports.OS=exports.FIRST_LAST_SEEN_TOOLTIP=exports.LAST_SEEN=exports.NAME=exports.UNIT=exports.HOSTS=void 0;var _i18n=__webpack_require__(2);var HOSTS=_i18n.i18n.translate("xpack.siem.hostsTable.hostsTitle",{defaultMessage:"All hosts"});exports.HOSTS=HOSTS;var UNIT=function UNIT(totalCount){return _i18n.i18n.translate("xpack.siem.hostsTable.unit",{values:{totalCount:totalCount},defaultMessage:"{totalCount, plural, =1 {host} other {hosts}}"})};exports.UNIT=UNIT;var NAME=_i18n.i18n.translate("xpack.siem.hostsTable.nameTitle",{defaultMessage:"Host name"});exports.NAME=NAME;var LAST_SEEN=_i18n.i18n.translate("xpack.siem.hostsTable.lastSeenTitle",{defaultMessage:"Last seen"});exports.LAST_SEEN=LAST_SEEN;var FIRST_LAST_SEEN_TOOLTIP=_i18n.i18n.translate("xpack.siem.hostsTable.firstLastSeenToolTip",{defaultMessage:"Relative to the selected date range"});exports.FIRST_LAST_SEEN_TOOLTIP=FIRST_LAST_SEEN_TOOLTIP;var OS=_i18n.i18n.translate("xpack.siem.hostsTable.osTitle",{defaultMessage:"Operating system"});exports.OS=OS;var VERSION=_i18n.i18n.translate("xpack.siem.hostsTable.versionTitle",{defaultMessage:"Version"});exports.VERSION=VERSION;var ROWS_5=_i18n.i18n.translate("xpack.siem.hostsTable.rows",{values:{numRows:5},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_5=ROWS_5;var ROWS_10=_i18n.i18n.translate("xpack.siem.hostsTable.rows",{values:{numRows:10},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_10=ROWS_10},7690:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatItemsComponent=exports.useKpiMatrixStatus=exports.addValueToBarChart=exports.addValueToAreaChart=exports.addValueToFields=exports.barchartConfigs=exports.areachartConfigs=exports.numberFormatter=void 0;var _charts=__webpack_require__(42);var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _areachart=__webpack_require__(8964);var _barchart=__webpack_require__(7618);var _utils=__webpack_require__(7326);var _empty_value=__webpack_require__(7017);var _inspect=__webpack_require__(7063);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"FlexItem",componentId:"sc-1lhly6r-0"})(["min-width:0;"]);FlexItem.displayName="FlexItem";var StatValue=(0,_styledComponents.default)(_eui.EuiTitle).withConfig({displayName:"StatValue",componentId:"sc-1lhly6r-1"})(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"]);StatValue.displayName="StatValue";var numberFormatter=function numberFormatter(value){return value.toLocaleString()};exports.numberFormatter=numberFormatter;var statItemBarchartRotation=90;var statItemChartCustomHeight=74;var areachartConfigs=function areachartConfigs(config){return{series:{xScaleType:_charts.ScaleType.Time,yScaleType:_charts.ScaleType.Linear},axis:{xTickFormatter:(0,_fp.get)("xTickFormatter",config),yTickFormatter:numberFormatter},settings:{onBrushEnd:(0,_fp.getOr)((function(){}),"onBrushEnd",config)},customHeight:statItemChartCustomHeight}};exports.areachartConfigs=areachartConfigs;var barchartConfigs=function barchartConfigs(config){return{series:{xScaleType:_charts.ScaleType.Ordinal,yScaleType:_charts.ScaleType.Linear,stackAccessors:["y0"]},axis:{xTickFormatter:numberFormatter},settings:{onElementClick:(0,_fp.getOr)((function(){}),"onElementClick",config),rotation:statItemBarchartRotation},customHeight:statItemChartCustomHeight}};exports.barchartConfigs=barchartConfigs;var addValueToFields=function addValueToFields(fields,data){return fields.map((function(field){return _objectSpread({},field,{value:(0,_fp.get)(field.key,data)})}))};exports.addValueToFields=addValueToFields;var addValueToAreaChart=function addValueToAreaChart(fields,data){return fields.filter((function(field){return(0,_fp.get)("".concat(field.key,"Histogram"),data)!=null})).map((function(field){return _objectSpread({},field,{value:(0,_fp.get)("".concat(field.key,"Histogram"),data),key:"".concat(field.key,"Histogram")})}))};exports.addValueToAreaChart=addValueToAreaChart;var addValueToBarChart=function addValueToBarChart(fields,data){if(fields.length===0)return[];return fields.reduce((function(acc,field,idx){var key=field.key,color=field.color;var y=(0,_fp.getOr)(null,key,data);var x=(0,_fp.get)("".concat(idx,".name"),fields)||(0,_fp.getOr)("","".concat(idx,".description"),fields);var value=[{x:x,y:y,g:key,y0:0}];return[].concat(_toConsumableArray(acc),[{key:key,color:color,value:value}])}),[])};exports.addValueToBarChart=addValueToBarChart;var useKpiMatrixStatus=function useKpiMatrixStatus(mappings,data,id,from,to,narrowDateRange){var _useState=(0,_react.useState)(mappings),_useState2=_slicedToArray(_useState,2),statItemsProps=_useState2[0],setStatItemsProps=_useState2[1];(0,_react.useEffect)((function(){setStatItemsProps(mappings.map((function(stat){return _objectSpread({},stat,{areaChart:stat.enableAreaChart?addValueToAreaChart(stat.fields,data):undefined,barChart:stat.enableBarChart?addValueToBarChart(stat.fields,data):undefined,fields:addValueToFields(stat.fields,data),id:id,key:"kpi-summary-".concat(stat.key),statKey:"".concat(stat.key),from:from,to:to,narrowDateRange:narrowDateRange})})))}),[data]);return statItemsProps};exports.useKpiMatrixStatus=useKpiMatrixStatus;var StatItemsComponent=_react.default.memo((function(_ref){var areaChart=_ref.areaChart,barChart=_ref.barChart,description=_ref.description,enableAreaChart=_ref.enableAreaChart,enableBarChart=_ref.enableBarChart,fields=_ref.fields,from=_ref.from,grow=_ref.grow,id=_ref.id,index=_ref.index,narrowDateRange=_ref.narrowDateRange,_ref$statKey=_ref.statKey,statKey=_ref$statKey===void 0?"item":_ref$statKey,to=_ref.to;var isBarChartDataAvailable=barChart&&barChart.length&&barChart.every((function(item){return item.value!=null&&item.value.length>0}));var isAreaChartDataAvailable=areaChart&&areaChart.length&&areaChart.every((function(item){return item.value!=null&&item.value.length>0}));return _react.default.createElement(FlexItem,{grow:grow,"data-test-subj":"stat-".concat(statKey)},_react.default.createElement(_inspect.InspectButtonContainer,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"xxxs"},_react.default.createElement("h6",null,description))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_inspect.InspectButton,{queryId:id,title:"KPI ".concat(description),inspectIndex:index}))),_react.default.createElement(_eui.EuiFlexGroup,null,fields.map((function(field){return _react.default.createElement(FlexItem,{key:"stat-items-field-".concat(field.key)},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"m",responsive:false},(isAreaChartDataAvailable||isBarChartDataAvailable)&&field.icon&&_react.default.createElement(FlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:field.icon,color:field.color,size:"l","data-test-subj":"stat-icon"})),_react.default.createElement(FlexItem,null,_react.default.createElement(StatValue,null,_react.default.createElement("p",{"data-test-subj":"stat-title"},field.value!=null?field.value.toLocaleString():(0,_empty_value.getEmptyTagValue)()," ",field.description)))))}))),(enableAreaChart||enableBarChart)&&_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_eui.EuiFlexGroup,null,enableBarChart&&_react.default.createElement(FlexItem,null,_react.default.createElement(_barchart.BarChart,{barChart:barChart,configs:barchartConfigs()})),enableAreaChart&&from!=null&&to!=null&&_react.default.createElement(FlexItem,null,_react.default.createElement(_areachart.AreaChart,{areaChart:areaChart,configs:areachartConfigs({xTickFormatter:(0,_utils.histogramDateTimeFormatter)([from,to]),onBrushEnd:narrowDateRange})}))))))}));exports.StatItemsComponent=StatItemsComponent;StatItemsComponent.displayName="StatItemsComponent"},7691:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DESTINATION_CHART_LABEL=exports.SOURCE_CHART_LABEL=exports.DESTINATION_UNIT_LABEL=exports.SOURCE_UNIT_LABEL=exports.UNIQUE_IPS=exports.FAIL_CHART_LABEL=exports.SUCCESS_CHART_LABEL=exports.FAIL_UNIT_LABEL=exports.SUCCESS_UNIT_LABEL=exports.USER_AUTHENTICATIONS=exports.HOSTS=void 0;var _i18n=__webpack_require__(2);var HOSTS=_i18n.i18n.translate("xpack.siem.kpiHosts.hosts.title",{defaultMessage:"Hosts"});exports.HOSTS=HOSTS;var USER_AUTHENTICATIONS=_i18n.i18n.translate("xpack.siem.kpiHosts.userAuthentications.title",{defaultMessage:"User authentications"});exports.USER_AUTHENTICATIONS=USER_AUTHENTICATIONS;var SUCCESS_UNIT_LABEL=_i18n.i18n.translate("xpack.siem.kpiHosts.userAuthentications.successUnitLabel",{defaultMessage:"success"});exports.SUCCESS_UNIT_LABEL=SUCCESS_UNIT_LABEL;var FAIL_UNIT_LABEL=_i18n.i18n.translate("xpack.siem.kpiHosts.userAuthentications.failUnitLabel",{defaultMessage:"fail"});exports.FAIL_UNIT_LABEL=FAIL_UNIT_LABEL;var SUCCESS_CHART_LABEL=_i18n.i18n.translate("xpack.siem.kpiHosts.userAuthentications.successChartLabel",{defaultMessage:"Succ."});exports.SUCCESS_CHART_LABEL=SUCCESS_CHART_LABEL;var FAIL_CHART_LABEL=_i18n.i18n.translate("xpack.siem.kpiHosts.userAuthentications.failChartLabel",{defaultMessage:"Fail"});exports.FAIL_CHART_LABEL=FAIL_CHART_LABEL;var UNIQUE_IPS=_i18n.i18n.translate("xpack.siem.kpiHosts.uniqueIps.title",{defaultMessage:"Unique IPs"});exports.UNIQUE_IPS=UNIQUE_IPS;var SOURCE_UNIT_LABEL=_i18n.i18n.translate("xpack.siem.kpiHosts.uniqueIps.sourceUnitLabel",{defaultMessage:"source"});exports.SOURCE_UNIT_LABEL=SOURCE_UNIT_LABEL;var DESTINATION_UNIT_LABEL=_i18n.i18n.translate("xpack.siem.kpiHosts.uniqueIps.destinationUnitLabel",{defaultMessage:"destination"});exports.DESTINATION_UNIT_LABEL=DESTINATION_UNIT_LABEL;var SOURCE_CHART_LABEL=_i18n.i18n.translate("xpack.siem.kpiHosts.uniqueIps.sourceChartLabel",{defaultMessage:"Src."});exports.SOURCE_CHART_LABEL=SOURCE_CHART_LABEL;var DESTINATION_CHART_LABEL=_i18n.i18n.translate("xpack.siem.kpiHosts.uniqueIps.destinationChartLabel",{defaultMessage:"Dest."});exports.DESTINATION_CHART_LABEL=DESTINATION_CHART_LABEL},7692:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HostsEmptyPage=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(8));var _empty_page=__webpack_require__(7132);var _kibana=__webpack_require__(7013);var i18n=_interopRequireWildcard(__webpack_require__(7206));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var basePath=_chrome.default.getBasePath();var HostsEmptyPage=_react.default.memo((function(){var docLinks=(0,_kibana.useKibana)().services.docLinks;return _react.default.createElement(_empty_page.EmptyPage,{actionPrimaryIcon:"gear",actionPrimaryLabel:i18n.EMPTY_ACTION_PRIMARY,actionPrimaryUrl:"".concat(basePath,"/app/kibana#/home/tutorial_directory/siem"),actionSecondaryIcon:"popout",actionSecondaryLabel:i18n.EMPTY_ACTION_SECONDARY,actionSecondaryTarget:"_blank",actionSecondaryUrl:docLinks.links.siem.gettingStarted,"data-test-subj":"empty-page",message:i18n.EMPTY_MESSAGE,title:i18n.EMPTY_TITLE})}));exports.HostsEmptyPage=HostsEmptyPage;HostsEmptyPage.displayName="HostsEmptyPage"},7693:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnomaliesHostTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _use_anomalies_table_data=__webpack_require__(7321);var _header_section=__webpack_require__(7050);var i18n=_interopRequireWildcard(__webpack_require__(7204));var _get_anomalies_host_table_columns=__webpack_require__(8977);var _convert_anomalies_to_hosts=__webpack_require__(8978);var _loader=__webpack_require__(7091);var _get_interval_from_anomalies=__webpack_require__(8980);var _has_ml_user_permissions=__webpack_require__(7078);var _ml_capabilities_provider=__webpack_require__(7064);var _basic_table=__webpack_require__(7598);var _host_equality=__webpack_require__(8981);var _get_criteria_from_host_type=__webpack_require__(8982);var _panel=__webpack_require__(7154);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var sorting={sort:{field:"anomaly.severity",direction:"desc"}};var AnomaliesHostTableComponent=function AnomaliesHostTableComponent(_ref){var startDate=_ref.startDate,endDate=_ref.endDate,narrowDateRange=_ref.narrowDateRange,hostName=_ref.hostName,skip=_ref.skip,type=_ref.type;var capabilities=(0,_react.useContext)(_ml_capabilities_provider.MlCapabilitiesContext);var _useAnomaliesTableDat=(0,_use_anomalies_table_data.useAnomaliesTableData)({startDate:startDate,endDate:endDate,skip:skip,criteriaFields:(0,_get_criteria_from_host_type.getCriteriaFromHostType)(type,hostName)}),_useAnomaliesTableDat2=_slicedToArray(_useAnomaliesTableDat,2),loading=_useAnomaliesTableDat2[0],tableData=_useAnomaliesTableDat2[1];var hosts=(0,_convert_anomalies_to_hosts.convertAnomaliesToHosts)(tableData,hostName);var interval=(0,_get_interval_from_anomalies.getIntervalFromAnomalies)(tableData);var columns=(0,_get_anomalies_host_table_columns.getAnomaliesHostTableColumnsCurated)(type,startDate,endDate,interval,narrowDateRange);var pagination={initialPageIndex:0,initialPageSize:10,totalItemCount:hosts.length,pageSizeOptions:[5,10,20,50],hidePerPageOptions:false};if(!(0,_has_ml_user_permissions.hasMlUserPermissions)(capabilities)){return null}else{return _react.default.createElement(_panel.Panel,{loading:loading},_react.default.createElement(_header_section.HeaderSection,{subtitle:"".concat(i18n.SHOWING,": ").concat(pagination.totalItemCount.toLocaleString()," ").concat(i18n.UNIT(pagination.totalItemCount)),title:i18n.ANOMALIES,tooltip:i18n.TOOLTIP}),_react.default.createElement(_basic_table.BasicTable,{columns:columns,compressed:true,items:hosts,pagination:pagination,sorting:sorting}),loading&&_react.default.createElement(_loader.Loader,{"data-test-subj":"anomalies-host-table-loading-panel",overlay:true,size:"xl"}))}};var AnomaliesHostTable=_react.default.memo(AnomaliesHostTableComponent,_host_equality.hostEquality);exports.AnomaliesHostTable=AnomaliesHostTable},7695:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkDnsTable=exports.NetworkDnsTableComponent=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _actions=__webpack_require__(1882);var _store=__webpack_require__(7016);var _paginated_table=__webpack_require__(7081);var _columns=__webpack_require__(9018);var _is_ptr_included=__webpack_require__(9019);var i18n=_interopRequireWildcard(__webpack_require__(7362));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var tableType=_store.networkModel.NetworkTableType.dns;var rowItems=[{text:i18n.ROWS_5,numberOfRow:5},{text:i18n.ROWS_10,numberOfRow:10}];var NetworkDnsTableComponent=_react.default.memo((function(_ref){var activePage=_ref.activePage,data=_ref.data,fakeTotalCount=_ref.fakeTotalCount,id=_ref.id,isInspect=_ref.isInspect,isPtrIncluded=_ref.isPtrIncluded,limit=_ref.limit,loading=_ref.loading,loadPage=_ref.loadPage,showMorePagesIndicator=_ref.showMorePagesIndicator,sort=_ref.sort,totalCount=_ref.totalCount,type=_ref.type,updateNetworkTable=_ref.updateNetworkTable;var updateLimitPagination=(0,_react.useCallback)((function(newLimit){return updateNetworkTable({networkType:type,tableType:tableType,updates:{limit:newLimit}})}),[type,updateNetworkTable]);var updateActivePage=(0,_react.useCallback)((function(newPage){return updateNetworkTable({networkType:type,tableType:tableType,updates:{activePage:newPage}})}),[type,updateNetworkTable]);var onChange=(0,_react.useCallback)((function(criteria){if(criteria.sort!=null){var newDnsSortField={field:criteria.sort.field.split(".")[1],direction:criteria.sort.direction};if(!(0,_fp.isEqual)(newDnsSortField,sort)){updateNetworkTable({networkType:type,tableType:tableType,updates:{sort:newDnsSortField}})}}}),[sort,type,updateNetworkTable]);var onChangePtrIncluded=(0,_react.useCallback)((function(){return updateNetworkTable({networkType:type,tableType:tableType,updates:{isPtrIncluded:!isPtrIncluded}})}),[type,updateNetworkTable,isPtrIncluded]);return _react.default.createElement(_paginated_table.PaginatedTable,{activePage:activePage,columns:(0,_columns.getNetworkDnsColumns)(type),dataTestSubj:"table-".concat(tableType),headerCount:totalCount,headerSupplement:_react.default.createElement(_is_ptr_included.IsPtrIncluded,{isPtrIncluded:isPtrIncluded,onChange:onChangePtrIncluded}),headerTitle:i18n.TOP_DNS_DOMAINS,headerTooltip:i18n.TOOLTIP,headerUnit:i18n.UNIT(totalCount),id:id,itemsPerRow:rowItems,isInspect:isInspect,limit:limit,loading:loading,loadPage:loadPage,onChange:onChange,pageOfItems:data,showMorePagesIndicator:showMorePagesIndicator,sorting:{field:"node.".concat(sort.field),direction:sort.direction},totalCount:fakeTotalCount,updateActivePage:updateActivePage,updateLimitPagination:updateLimitPagination})}));exports.NetworkDnsTableComponent=NetworkDnsTableComponent;NetworkDnsTableComponent.displayName="NetworkDnsTableComponent";var makeMapStateToProps=function makeMapStateToProps(){var getNetworkDnsSelector=_store.networkSelectors.dnsSelector();var mapStateToProps=function mapStateToProps(state){return getNetworkDnsSelector(state)};return mapStateToProps};var NetworkDnsTable=(0,_reactRedux.connect)(makeMapStateToProps,{updateNetworkTable:_actions.networkActions.updateNetworkTable})(NetworkDnsTableComponent);exports.NetworkDnsTable=NetworkDnsTable},7696:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _network_routes=__webpack_require__(9022);Object.keys(_network_routes).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _network_routes[key]}})}));var _network_routes_loading=__webpack_require__(9030);Object.keys(_network_routes_loading).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _network_routes_loading[key]}})}));var _nav_tabs=__webpack_require__(9031);Object.keys(_nav_tabs).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _nav_tabs[key]}})}));var _utils=__webpack_require__(9032);Object.keys(_utils).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _utils[key]}})}))},7697:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatValue=void 0;var _eui=__webpack_require__(1);var _numeral=_interopRequireDefault(__webpack_require__(148));var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _constants=__webpack_require__(977);var _kibana=__webpack_require__(7013);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ProgressContainer=_styledComponents.default.div.withConfig({displayName:"ProgressContainer",componentId:"xzh8q4-0"})(["margin-left:8px;min-width:100px;"]);var LoadingContent=(0,_styledComponents.default)(_eui.EuiLoadingContent).withConfig({displayName:"LoadingContent",componentId:"xzh8q4-1"})([".euiLoadingContent__singleLine{margin-bottom:0px;}"]);var StatValueComponent=function StatValueComponent(_ref){var count=_ref.count,isGroupStat=_ref.isGroupStat,isLoading=_ref.isLoading,max=_ref.max;var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_NUMBER_FORMAT),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),defaultNumberFormat=_useUiSetting$2[0];var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),isInitialLoading=_useState2[0],setIsInitialLoading=_useState2[1];(0,_react.useEffect)((function(){if(isInitialLoading&&!isLoading){setIsInitialLoading(false)}}),[isLoading,isInitialLoading,setIsInitialLoading]);return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},!isInitialLoading&&_react.default.createElement(_eui.EuiText,{color:isGroupStat?"default":"subdued",size:isGroupStat?"m":"s"},(0,_numeral.default)(count).format(defaultNumberFormat))),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(ProgressContainer,null,isLoading?_react.default.createElement(LoadingContent,{"data-test-subj":"stat-value-loading-spinner",lines:1}):_react.default.createElement(_eui.EuiProgress,{color:isGroupStat?"primary":"subdued",max:max,size:"m",value:count}))))};StatValueComponent.displayName="StatValueComponent";var StatValue=_react.default.memo(StatValueComponent);exports.StatValue=StatValue},7698:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoadingPlaceholders=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var LoadingPlaceholdersComponent=function LoadingPlaceholdersComponent(_ref){var lines=_ref.lines,placeholders=_ref.placeholders;return _react.default.createElement(_react.default.Fragment,null,_toConsumableArray(Array(placeholders).keys()).map((function(_,i){return _react.default.createElement(_react.default.Fragment,{key:i},_react.default.createElement(_eui.EuiLoadingContent,{lines:lines}),i!==placeholders-1&&_react.default.createElement(_eui.EuiSpacer,{size:"l"}))})))};LoadingPlaceholdersComponent.displayName="LoadingPlaceholdersComponent";var LoadingPlaceholders=_react.default.memo(LoadingPlaceholdersComponent);exports.LoadingPlaceholders=LoadingPlaceholders},7699:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showNewsItem=exports.fetchNews=exports.getNewsItemsFromApiResponse=exports.getLocale=exports.NEWS_FEED_FALLBACK_LANGUAGE=exports.getNewsFeedUrl=exports.removeSnapshotFromVersion=void 0;var _fp=__webpack_require__(223);var _moment=_interopRequireDefault(__webpack_require__(13));var _uuid=_interopRequireDefault(__webpack_require__(86));var _api=__webpack_require__(7106);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var removeSnapshotFromVersion=function removeSnapshotFromVersion(kibanaVersion){var _ref;return(_ref=kibanaVersion===null||kibanaVersion===void 0?void 0:kibanaVersion.replace(/-SNAPSHOT/gi,""))!==null&&_ref!==void 0?_ref:kibanaVersion};exports.removeSnapshotFromVersion=removeSnapshotFromVersion;var getNewsFeedUrl=function getNewsFeedUrl(_ref2){var newsFeedUrlSetting=_ref2.newsFeedUrlSetting,getKibanaVersion=_ref2.getKibanaVersion;return[newsFeedUrlSetting===null||newsFeedUrlSetting===void 0?void 0:newsFeedUrlSetting.trim().replace(/\/$/,""),"v".concat(removeSnapshotFromVersion(getKibanaVersion()),".json")].join("/")};exports.getNewsFeedUrl=getNewsFeedUrl;var NEWS_FEED_FALLBACK_LANGUAGE="en";exports.NEWS_FEED_FALLBACK_LANGUAGE=NEWS_FEED_FALLBACK_LANGUAGE;var getLocale=function getLocale(fallback){var _document$documentEle;if(document.documentElement.lang===""){return fallback}return(_document$documentEle=document.documentElement.lang)!==null&&_document$documentEle!==void 0?_document$documentEle:fallback};exports.getLocale=getLocale;var NO_NEWS_ITEMS=[];var getNewsItemsFromApiResponse=function getNewsItemsFromApiResponse(response){var locale=getLocale(NEWS_FEED_FALLBACK_LANGUAGE);if(response==null||response.items==null){return NO_NEWS_ITEMS}return response.items.filter((function(x){return x!=null})).map((function(x){var _ref3,_get,_x$expire_on,_x$hash,_ref4,_get2,_ref5,_get3,_x$publish_on,_ref6,_get4;return{description:(_ref3=(_get=(0,_fp.get)(locale,x.description))!==null&&_get!==void 0?_get:(0,_fp.get)(NEWS_FEED_FALLBACK_LANGUAGE,x.description))!==null&&_ref3!==void 0?_ref3:"",expireOn:new Date((_x$expire_on=x.expire_on)!==null&&_x$expire_on!==void 0?_x$expire_on:""),hash:(_x$hash=x.hash)!==null&&_x$hash!==void 0?_x$hash:_uuid.default.v4(),imageUrl:(_ref4=(_get2=(0,_fp.get)(locale,x.image_url))!==null&&_get2!==void 0?_get2:(0,_fp.get)(NEWS_FEED_FALLBACK_LANGUAGE,x.image_url))!==null&&_ref4!==void 0?_ref4:null,linkUrl:(_ref5=(_get3=(0,_fp.get)(locale,x.link_url))!==null&&_get3!==void 0?_get3:(0,_fp.get)(NEWS_FEED_FALLBACK_LANGUAGE,x.link_url))!==null&&_ref5!==void 0?_ref5:"",publishOn:new Date((_x$publish_on=x.publish_on)!==null&&_x$publish_on!==void 0?_x$publish_on:""),title:(_ref6=(_get4=(0,_fp.get)(locale,x.title))!==null&&_get4!==void 0?_get4:(0,_fp.get)(NEWS_FEED_FALLBACK_LANGUAGE,x.title))!==null&&_ref6!==void 0?_ref6:""}}))};exports.getNewsItemsFromApiResponse=getNewsItemsFromApiResponse;var fetchNews=function fetchNews(_ref7){var newsFeedUrl,response;return regeneratorRuntime.async((function fetchNews$(_context){while(1){switch(_context.prev=_context.next){case 0:newsFeedUrl=_ref7.newsFeedUrl;_context.next=3;return regeneratorRuntime.awrap(fetch(newsFeedUrl,{credentials:"omit",method:"GET",mode:"cors"}));case 3:response=_context.sent;_context.next=6;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 6:return _context.abrupt("return",response.json());case 7:case"end":return _context.stop()}}}))};exports.fetchNews=fetchNews;var showNewsItem=function showNewsItem(_ref8){var publishOn=_ref8.publishOn,expireOn=_ref8.expireOn;return(0,_moment.default)(Date.now()).isAfter(publishOn)&&(0,_moment.default)(Date.now()).isBefore(expireOn)};exports.showNewsItem=showNewsItem},7700:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SidebarHeader=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SidebarHeader=_react.default.memo((function(_ref){var children=_ref.children,title=_ref.title;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h2",null,title))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},children)),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"s"}))}));exports.SidebarHeader=SidebarHeader;SidebarHeader.displayName="SidebarHeader"},8419:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SiemApp=void 0;var _history=__webpack_require__(276);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _styledComponents=__webpack_require__(30);var _eui=__webpack_require__(1);var _eui_theme_dark=_interopRequireDefault(__webpack_require__(50));var _eui_theme_light=_interopRequireDefault(__webpack_require__(18));var _rxjs=__webpack_require__(37);var _operators=__webpack_require__(47);var _i18n=__webpack_require__(19);var _kibana=__webpack_require__(7013);var _public=__webpack_require__(31);var _constants=__webpack_require__(977);var _error_toast_dispatcher=__webpack_require__(8438);var _kibana_compose=__webpack_require__(8451);var _routes=__webpack_require__(8457);var _store=__webpack_require__(7502);var _toasters=__webpack_require__(7019);var _ml_capabilities_provider=__webpack_require__(7064);var _apollo_context=__webpack_require__(7077);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AppPluginRootComponent=function AppPluginRootComponent(_ref){var theme=_ref.theme,store=_ref.store,apolloClient=_ref.apolloClient,history=_ref.history;return _react.default.createElement(_eui.EuiErrorBoundary,null,_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_toasters.ManageGlobalToaster,null,_react.default.createElement(_reactRedux.Provider,{store:store},_react.default.createElement(_reactApollo.ApolloProvider,{client:apolloClient},_react.default.createElement(_apollo_context.ApolloClientContext.Provider,{value:apolloClient},_react.default.createElement(_styledComponents.ThemeProvider,{theme:theme},_react.default.createElement(_ml_capabilities_provider.MlCapabilitiesProvider,null,_react.default.createElement(_routes.PageRouter,{history:history}))),_react.default.createElement(_error_toast_dispatcher.ErrorToastDispatcher,null),_react.default.createElement(_toasters.GlobalToaster,null)))))))};var AppPluginRoot=(0,_react.memo)(AppPluginRootComponent);var StartAppComponent=function StartAppComponent(libs){var history=(0,_history.createHashHistory)();var libs$=new _rxjs.BehaviorSubject(libs);var store=(0,_store.createStore)(undefined,libs$.pipe((0,_operators.pluck)("apolloClient")));var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_DARK_MODE),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),darkMode=_useUiSetting$2[0];var theme=(0,_react.useMemo)((function(){return{eui:darkMode?_eui_theme_dark.default:_eui_theme_light.default,darkMode:darkMode}}),[darkMode]);return _react.default.createElement(AppPluginRoot,{store:store,apolloClient:libs.apolloClient,history:history,theme:theme})};var StartApp=(0,_react.memo)(StartAppComponent);var SiemAppComponent=function SiemAppComponent(_ref2){var core=_ref2.core,plugins=_ref2.plugins;return _react.default.createElement(_kibana.KibanaContextProvider,{services:_objectSpread({appName:"siem",storage:new _public.Storage(localStorage)},core,{},plugins)},_react.default.createElement(StartApp,(0,_kibana_compose.compose)()))};var SiemApp=(0,_react.memo)(SiemAppComponent);exports.SiemApp=SiemApp},8424:function(module,exports,__webpack_require__){module.exports=__webpack_require__(17)(140)},8438:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ErrorToastDispatcher=void 0;var _react=__webpack_require__(0);var _reactRedux=__webpack_require__(7014);var _store=__webpack_require__(7016);var _app=__webpack_require__(1895);var _toasters=__webpack_require__(7019);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ErrorToastDispatcherComponent=function ErrorToastDispatcherComponent(_ref){var _ref$toastLifeTimeMs=_ref.toastLifeTimeMs,toastLifeTimeMs=_ref$toastLifeTimeMs===void 0?5e3:_ref$toastLifeTimeMs,_ref$errors=_ref.errors,errors=_ref$errors===void 0?[]:_ref$errors,removeError=_ref.removeError;var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),toasts=_useStateToaster2[0].toasts,dispatchToaster=_useStateToaster2[1];(0,_react.useEffect)((function(){errors.forEach((function(_ref2){var id=_ref2.id,title=_ref2.title,message=_ref2.message;if(!toasts.some((function(toast){return toast.id===id}))){dispatchToaster({type:"addToaster",toast:{color:"danger",id:id,iconType:"alert",title:title,errors:message,toastLifeTimeMs:toastLifeTimeMs}})}removeError({id:id})}))}));return null};var makeMapStateToProps=function makeMapStateToProps(){var getErrorSelector=_store.appSelectors.errorsSelector();return function(state){return getErrorSelector(state)}};var ErrorToastDispatcher=(0,_reactRedux.connect)(makeMapStateToProps,{removeError:_app.appActions.removeError})(ErrorToastDispatcherComponent);exports.ErrorToastDispatcher=ErrorToastDispatcher},8439:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"appModel",{enumerable:true,get:function get(){return _app.appModel}});Object.defineProperty(exports,"inputsModel",{enumerable:true,get:function get(){return _inputs.inputsModel}});Object.defineProperty(exports,"hostsModel",{enumerable:true,get:function get(){return _hosts.hostsModel}});Object.defineProperty(exports,"dragAndDropModel",{enumerable:true,get:function get(){return _drag_and_drop.dragAndDropModel}});Object.defineProperty(exports,"networkModel",{enumerable:true,get:function get(){return _network.networkModel}});var _app=__webpack_require__(1895);var _inputs=__webpack_require__(1887);var _hosts=__webpack_require__(1896);var _drag_and_drop=__webpack_require__(1920);var _network=__webpack_require__(1897)},8440:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.timelineReducer=exports.initialTimelineState=void 0;var _typescriptFsaReducers=__webpack_require__(333);var _actions=__webpack_require__(1890);var _helpers=__webpack_require__(7501);var _types=__webpack_require__(8441);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var initialTimelineState={timelineById:_types.EMPTY_TIMELINE_BY_ID,autoSavedWarningMsg:{timelineId:null,newTimelineModel:null},showCallOutUnauthorizedMsg:false};exports.initialTimelineState=initialTimelineState;var timelineReducer=(0,_typescriptFsaReducers.reducerWithInitialState)(initialTimelineState).case(_actions.addTimeline,(function(state,_ref){var id=_ref.id,timeline=_ref.timeline;return _objectSpread({},state,{timelineById:(0,_helpers.addTimelineToStore)({id:id,timeline:timeline,timelineById:state.timelineById})})})).case(_actions.createTimeline,(function(state,_ref2){var id=_ref2.id,dataProviders=_ref2.dataProviders,dateRange=_ref2.dateRange,show=_ref2.show,columns=_ref2.columns,itemsPerPage=_ref2.itemsPerPage,kqlQuery=_ref2.kqlQuery,sort=_ref2.sort,showCheckboxes=_ref2.showCheckboxes,showRowRenderers=_ref2.showRowRenderers,filters=_ref2.filters;return _objectSpread({},state,{timelineById:(0,_helpers.addNewTimeline)({columns:columns,dataProviders:dataProviders,dateRange:dateRange,filters:filters,id:id,itemsPerPage:itemsPerPage,kqlQuery:kqlQuery,sort:sort,show:show,showCheckboxes:showCheckboxes,showRowRenderers:showRowRenderers,timelineById:state.timelineById})})})).case(_actions.upsertColumn,(function(state,_ref3){var column=_ref3.column,id=_ref3.id,index=_ref3.index;return _objectSpread({},state,{timelineById:(0,_helpers.upsertTimelineColumn)({column:column,id:id,index:index,timelineById:state.timelineById})})})).case(_actions.addHistory,(function(state,_ref4){var id=_ref4.id,historyId=_ref4.historyId;return _objectSpread({},state,{timelineById:(0,_helpers.addTimelineHistory)({id:id,historyId:historyId,timelineById:state.timelineById})})})).case(_actions.addNote,(function(state,_ref5){var id=_ref5.id,noteId=_ref5.noteId;return _objectSpread({},state,{timelineById:(0,_helpers.addTimelineNote)({id:id,noteId:noteId,timelineById:state.timelineById})})})).case(_actions.addNoteToEvent,(function(state,_ref6){var id=_ref6.id,noteId=_ref6.noteId,eventId=_ref6.eventId;return _objectSpread({},state,{timelineById:(0,_helpers.addTimelineNoteToEvent)({id:id,noteId:noteId,eventId:eventId,timelineById:state.timelineById})})})).case(_actions.addProvider,(function(state,_ref7){var id=_ref7.id,provider=_ref7.provider;return _objectSpread({},state,{timelineById:(0,_helpers.addTimelineProvider)({id:id,provider:provider,timelineById:state.timelineById})})})).case(_actions.applyKqlFilterQuery,(function(state,_ref8){var id=_ref8.id,filterQuery=_ref8.filterQuery;return _objectSpread({},state,{timelineById:(0,_helpers.applyKqlFilterQueryDraft)({id:id,filterQuery:filterQuery,timelineById:state.timelineById})})})).case(_actions.setKqlFilterQueryDraft,(function(state,_ref9){var id=_ref9.id,filterQueryDraft=_ref9.filterQueryDraft;return _objectSpread({},state,{timelineById:(0,_helpers.updateKqlFilterQueryDraft)({id:id,filterQueryDraft:filterQueryDraft,timelineById:state.timelineById})})})).case(_actions.showTimeline,(function(state,_ref10){var id=_ref10.id,show=_ref10.show;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineShowTimeline)({id:id,show:show,timelineById:state.timelineById})})})).case(_actions.applyDeltaToColumnWidth,(function(state,_ref11){var id=_ref11.id,columnId=_ref11.columnId,delta=_ref11.delta;return _objectSpread({},state,{timelineById:(0,_helpers.applyDeltaToTimelineColumnWidth)({id:id,columnId:columnId,delta:delta,timelineById:state.timelineById})})})).case(_actions.applyDeltaToWidth,(function(state,_ref12){var id=_ref12.id,delta=_ref12.delta,bodyClientWidthPixels=_ref12.bodyClientWidthPixels,minWidthPixels=_ref12.minWidthPixels,maxWidthPercent=_ref12.maxWidthPercent;return _objectSpread({},state,{timelineById:(0,_helpers.applyDeltaToCurrentWidth)({id:id,delta:delta,bodyClientWidthPixels:bodyClientWidthPixels,minWidthPixels:minWidthPixels,maxWidthPercent:maxWidthPercent,timelineById:state.timelineById})})})).case(_actions.pinEvent,(function(state,_ref13){var id=_ref13.id,eventId=_ref13.eventId;return _objectSpread({},state,{timelineById:(0,_helpers.pinTimelineEvent)({id:id,eventId:eventId,timelineById:state.timelineById})})})).case(_actions.removeColumn,(function(state,_ref14){var id=_ref14.id,columnId=_ref14.columnId;return _objectSpread({},state,{timelineById:(0,_helpers.removeTimelineColumn)({id:id,columnId:columnId,timelineById:state.timelineById})})})).case(_actions.removeProvider,(function(state,_ref15){var id=_ref15.id,providerId=_ref15.providerId,andProviderId=_ref15.andProviderId;return _objectSpread({},state,{timelineById:(0,_helpers.removeTimelineProvider)({id:id,providerId:providerId,timelineById:state.timelineById,andProviderId:andProviderId})})})).case(_actions.startTimelineSaving,(function(state,_ref16){var id=_ref16.id;return _objectSpread({},state,{timelineById:_objectSpread({},state.timelineById,_defineProperty({},id,_objectSpread({},state.timelineById[id],{isSaving:true})))})})).case(_actions.endTimelineSaving,(function(state,_ref17){var id=_ref17.id;return _objectSpread({},state,{timelineById:_objectSpread({},state.timelineById,_defineProperty({},id,_objectSpread({},state.timelineById[id],{isSaving:false})))})})).case(_actions.setEventsDeleted,(function(state,_ref18){var id=_ref18.id,eventIds=_ref18.eventIds,isDeleted=_ref18.isDeleted;return _objectSpread({},state,{timelineById:(0,_helpers.setDeletedTimelineEvents)({id:id,eventIds:eventIds,timelineById:state.timelineById,isDeleted:isDeleted})})})).case(_actions.clearEventsDeleted,(function(state,_ref19){var id=_ref19.id;return _objectSpread({},state,{timelineById:_objectSpread({},state.timelineById,_defineProperty({},id,_objectSpread({},state.timelineById[id],{deletedEventIds:[]})))})})).case(_actions.setEventsLoading,(function(state,_ref20){var id=_ref20.id,eventIds=_ref20.eventIds,isLoading=_ref20.isLoading;return _objectSpread({},state,{timelineById:(0,_helpers.setLoadingTimelineEvents)({id:id,eventIds:eventIds,timelineById:state.timelineById,isLoading:isLoading})})})).case(_actions.clearEventsLoading,(function(state,_ref21){var id=_ref21.id;return _objectSpread({},state,{timelineById:_objectSpread({},state.timelineById,_defineProperty({},id,_objectSpread({},state.timelineById[id],{loadingEventIds:[]})))})})).case(_actions.setSelected,(function(state,_ref22){var id=_ref22.id,eventIds=_ref22.eventIds,isSelected=_ref22.isSelected,isSelectAllChecked=_ref22.isSelectAllChecked;return _objectSpread({},state,{timelineById:(0,_helpers.setSelectedTimelineEvents)({id:id,eventIds:eventIds,timelineById:state.timelineById,isSelected:isSelected,isSelectAllChecked:isSelectAllChecked})})})).case(_actions.clearSelected,(function(state,_ref23){var id=_ref23.id;return _objectSpread({},state,{timelineById:_objectSpread({},state.timelineById,_defineProperty({},id,_objectSpread({},state.timelineById[id],{selectedEventIds:{},isSelectAllChecked:false})))})})).case(_actions.updateIsLoading,(function(state,_ref24){var id=_ref24.id,isLoading=_ref24.isLoading;return _objectSpread({},state,{timelineById:_objectSpread({},state.timelineById,_defineProperty({},id,_objectSpread({},state.timelineById[id],{isLoading:isLoading})))})})).case(_actions.updateTimeline,(function(state,_ref25){var id=_ref25.id,timeline=_ref25.timeline;return _objectSpread({},state,{timelineById:_objectSpread({},state.timelineById,_defineProperty({},id,timeline))})})).case(_actions.unPinEvent,(function(state,_ref26){var id=_ref26.id,eventId=_ref26.eventId;return _objectSpread({},state,{timelineById:(0,_helpers.unPinTimelineEvent)({id:id,eventId:eventId,timelineById:state.timelineById})})})).case(_actions.updateColumns,(function(state,_ref27){var id=_ref27.id,columns=_ref27.columns;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineColumns)({id:id,columns:columns,timelineById:state.timelineById})})})).case(_actions.updateDescription,(function(state,_ref28){var id=_ref28.id,description=_ref28.description;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineDescription)({id:id,description:description,timelineById:state.timelineById})})})).case(_actions.updateEventType,(function(state,_ref29){var id=_ref29.id,eventType=_ref29.eventType;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineEventType)({id:id,eventType:eventType,timelineById:state.timelineById})})})).case(_actions.updateIsFavorite,(function(state,_ref30){var id=_ref30.id,isFavorite=_ref30.isFavorite;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineIsFavorite)({id:id,isFavorite:isFavorite,timelineById:state.timelineById})})})).case(_actions.updateIsLive,(function(state,_ref31){var id=_ref31.id,isLive=_ref31.isLive;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineIsLive)({id:id,isLive:isLive,timelineById:state.timelineById})})})).case(_actions.updateKqlMode,(function(state,_ref32){var id=_ref32.id,kqlMode=_ref32.kqlMode;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineKqlMode)({id:id,kqlMode:kqlMode,timelineById:state.timelineById})})})).case(_actions.updateTitle,(function(state,_ref33){var id=_ref33.id,title=_ref33.title;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineTitle)({id:id,title:title,timelineById:state.timelineById})})})).case(_actions.updateProviders,(function(state,_ref34){var id=_ref34.id,providers=_ref34.providers;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineProviders)({id:id,providers:providers,timelineById:state.timelineById})})})).case(_actions.updateRange,(function(state,_ref35){var id=_ref35.id,start=_ref35.start,end=_ref35.end;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineRange)({id:id,start:start,end:end,timelineById:state.timelineById})})})).case(_actions.updateSort,(function(state,_ref36){var id=_ref36.id,sort=_ref36.sort;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineSort)({id:id,sort:sort,timelineById:state.timelineById})})})).case(_actions.updateDataProviderEnabled,(function(state,_ref37){var id=_ref37.id,enabled=_ref37.enabled,providerId=_ref37.providerId,andProviderId=_ref37.andProviderId;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineProviderEnabled)({id:id,enabled:enabled,providerId:providerId,timelineById:state.timelineById,andProviderId:andProviderId})})})).case(_actions.updateDataProviderExcluded,(function(state,_ref38){var id=_ref38.id,excluded=_ref38.excluded,providerId=_ref38.providerId,andProviderId=_ref38.andProviderId;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineProviderExcluded)({id:id,excluded:excluded,providerId:providerId,timelineById:state.timelineById,andProviderId:andProviderId})})})).case(_actions.dataProviderEdited,(function(state,_ref39){var andProviderId=_ref39.andProviderId,excluded=_ref39.excluded,field=_ref39.field,id=_ref39.id,operator=_ref39.operator,providerId=_ref39.providerId,value=_ref39.value;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineProviderProperties)({andProviderId:andProviderId,excluded:excluded,field:field,id:id,operator:operator,providerId:providerId,timelineById:state.timelineById,value:value})})})).case(_actions.updateDataProviderKqlQuery,(function(state,_ref40){var id=_ref40.id,kqlQuery=_ref40.kqlQuery,providerId=_ref40.providerId;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineProviderKqlQuery)({id:id,kqlQuery:kqlQuery,providerId:providerId,timelineById:state.timelineById})})})).case(_actions.updateItemsPerPage,(function(state,_ref41){var id=_ref41.id,itemsPerPage=_ref41.itemsPerPage;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelineItemsPerPage)({id:id,itemsPerPage:itemsPerPage,timelineById:state.timelineById})})})).case(_actions.updatePageIndex,(function(state,_ref42){var id=_ref42.id,activePage=_ref42.activePage;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelinePageIndex)({id:id,activePage:activePage,timelineById:state.timelineById})})})).case(_actions.updateItemsPerPageOptions,(function(state,_ref43){var id=_ref43.id,itemsPerPageOptions=_ref43.itemsPerPageOptions;return _objectSpread({},state,{timelineById:(0,_helpers.updateTimelinePerPageOptions)({id:id,itemsPerPageOptions:itemsPerPageOptions,timelineById:state.timelineById})})})).case(_actions.updateHighlightedDropAndProviderId,(function(state,_ref44){var id=_ref44.id,providerId=_ref44.providerId;return _objectSpread({},state,{timelineById:(0,_helpers.updateHighlightedDropAndProvider)({id:id,providerId:providerId,timelineById:state.timelineById})})})).case(_actions.updateAutoSaveMsg,(function(state,_ref45){var timelineId=_ref45.timelineId,newTimelineModel=_ref45.newTimelineModel;return _objectSpread({},state,{autoSavedWarningMsg:{timelineId:timelineId,newTimelineModel:newTimelineModel}})})).case(_actions.showCallOutUnauthorizedMsg,(function(state){return _objectSpread({},state,{showCallOutUnauthorizedMsg:true})})).case(_actions.setSavedQueryId,(function(state,_ref46){var id=_ref46.id,savedQueryId=_ref46.savedQueryId;return _objectSpread({},state,{timelineById:(0,_helpers.updateSavedQuery)({id:id,savedQueryId:savedQueryId,timelineById:state.timelineById})})})).case(_actions.setFilters,(function(state,_ref47){var id=_ref47.id,filters=_ref47.filters;return _objectSpread({},state,{timelineById:(0,_helpers.updateFilters)({id:id,filters:filters,timelineById:state.timelineById})})})).build();exports.timelineReducer=timelineReducer},8441:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EMPTY_TIMELINE_BY_ID=void 0;var EMPTY_TIMELINE_BY_ID={};exports.EMPTY_TIMELINE_BY_ID=EMPTY_TIMELINE_BY_ID},8442:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"appSelectors",{enumerable:true,get:function get(){return _app.appSelectors}});Object.defineProperty(exports,"dragAndDropSelectors",{enumerable:true,get:function get(){return _drag_and_drop.dragAndDropSelectors}});Object.defineProperty(exports,"hostsSelectors",{enumerable:true,get:function get(){return _hosts.hostsSelectors}});Object.defineProperty(exports,"inputsSelectors",{enumerable:true,get:function get(){return _inputs.inputsSelectors}});Object.defineProperty(exports,"networkSelectors",{enumerable:true,get:function get(){return _network.networkSelectors}});Object.defineProperty(exports,"timelineSelectors",{enumerable:true,get:function get(){return _timeline.timelineSelectors}});var _app=__webpack_require__(1895);var _drag_and_drop=__webpack_require__(1920);var _hosts=__webpack_require__(1896);var _inputs=__webpack_require__(1887);var _network=__webpack_require__(1897);var _timeline=__webpack_require__(1915)},8443:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createRootEpic=void 0;var _reduxObservable=__webpack_require__(699);var _epic=__webpack_require__(8444);var _epic_favorite=__webpack_require__(7506);var _epic_note=__webpack_require__(7503);var _epic_pinned_event=__webpack_require__(7505);var createRootEpic=function createRootEpic(){return(0,_reduxObservable.combineEpics)((0,_epic.createTimelineEpic)(),(0,_epic_favorite.createTimelineFavoriteEpic)(),(0,_epic_note.createTimelineNoteEpic)(),(0,_epic_pinned_event.createTimelinePinnedEventEpic)())};exports.createRootEpic=createRootEpic},8444:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.convertTimelineAsInput=exports.createTimelineEpic=void 0;var _fp=__webpack_require__(223);var _rxjs=__webpack_require__(37);var _operators=__webpack_require__(47);var _public=__webpack_require__(11);var _persist=__webpack_require__(8445);var _actions=__webpack_require__(991);var _actions2=__webpack_require__(1890);var _epic_note=__webpack_require__(7503);var _epic_pinned_event=__webpack_require__(7505);var _epic_favorite=__webpack_require__(7506);var _helpers=__webpack_require__(7501);var _epic_dispatcher_timeline_persistence_queue=__webpack_require__(7184);var _refetch_queries=__webpack_require__(7183);var _my_epic_timeline_id=__webpack_require__(7182);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var timelineActionsType=[_actions2.applyKqlFilterQuery.type,_actions2.addProvider.type,_actions2.dataProviderEdited.type,_actions2.removeColumn.type,_actions2.removeProvider.type,_actions2.setFilters.type,_actions2.setSavedQueryId.type,_actions2.updateColumns.type,_actions2.updateDataProviderEnabled.type,_actions2.updateDataProviderExcluded.type,_actions2.updateDataProviderKqlQuery.type,_actions2.updateDescription.type,_actions2.updateEventType.type,_actions2.updateKqlMode.type,_actions2.updateProviders.type,_actions2.updateSort.type,_actions2.updateTitle.type,_actions2.updateRange.type,_actions2.upsertColumn.type];var isItAtimelineAction=function isItAtimelineAction(timelineId){return timelineId&&timelineId.toLowerCase().startsWith("timeline")};var createTimelineEpic=function createTimelineEpic(){return function(action$,state$,_ref){var selectNotesByIdSelector=_ref.selectNotesByIdSelector,timelineByIdSelector=_ref.timelineByIdSelector,timelineTimeRangeSelector=_ref.timelineTimeRangeSelector,apolloClient$=_ref.apolloClient$;var timeline$=state$.pipe((0,_operators.map)(timelineByIdSelector),(0,_operators.filter)(_helpers.isNotNull));var notes$=state$.pipe((0,_operators.map)(selectNotesByIdSelector),(0,_operators.filter)(_helpers.isNotNull));var timelineTimeRange$=state$.pipe((0,_operators.map)(timelineTimeRangeSelector),(0,_operators.filter)(_helpers.isNotNull));return(0,_rxjs.merge)(action$.pipe((0,_operators.withLatestFrom)(timeline$),(0,_operators.filter)((function(_ref2){var _ref3=_slicedToArray(_ref2,2),action=_ref3[0],timeline=_ref3[1];var timelineId=(0,_fp.get)("payload.id",action);var timelineObj=timeline[timelineId];if(action.type===_actions.addError.type){return true}if(action.type===_actions2.createTimeline.type&&isItAtimelineAction(timelineId)){_my_epic_timeline_id.myEpicTimelineId.setTimelineId(null);_my_epic_timeline_id.myEpicTimelineId.setTimelineVersion(null)}else if(action.type===_actions2.addTimeline.type&&isItAtimelineAction(timelineId)){var addNewTimeline=(0,_fp.get)("payload.timeline",action);_my_epic_timeline_id.myEpicTimelineId.setTimelineId(addNewTimeline.savedObjectId);_my_epic_timeline_id.myEpicTimelineId.setTimelineVersion(addNewTimeline.version);return true}else if(timelineActionsType.includes(action.type)&&!timelineObj.isLoading&&isItAtimelineAction(timelineId)){return true}return false})),(0,_operators.debounceTime)(500),(0,_operators.mergeMap)((function(_ref4){var _ref5=_slicedToArray(_ref4,1),action=_ref5[0];_epic_dispatcher_timeline_persistence_queue.dispatcherTimelinePersistQueue.next({action:action});return(0,_rxjs.empty)()}))),_epic_dispatcher_timeline_persistence_queue.dispatcherTimelinePersistQueue.pipe((0,_operators.delay)(500),(0,_operators.withLatestFrom)(timeline$,apolloClient$,notes$,timelineTimeRange$),(0,_operators.concatMap)((function(_ref6){var _ref7=_slicedToArray(_ref6,5),objAction=_ref7[0],timeline=_ref7[1],apolloClient=_ref7[2],notes=_ref7[3],timelineTimeRange=_ref7[4];var action=(0,_fp.get)("action",objAction);var timelineId=_my_epic_timeline_id.myEpicTimelineId.getTimelineId();var version=_my_epic_timeline_id.myEpicTimelineId.getTimelineVersion();if(_epic_note.timelineNoteActionsType.includes(action.type)){return(0,_epic_note.epicPersistNote)(apolloClient,action,timeline,notes,action$,timeline$,notes$)}else if(_epic_pinned_event.timelinePinnedEventActionsType.includes(action.type)){return(0,_epic_pinned_event.epicPersistPinnedEvent)(apolloClient,action,timeline,action$,timeline$)}else if(_epic_favorite.timelineFavoriteActionsType.includes(action.type)){return(0,_epic_favorite.epicPersistTimelineFavorite)(apolloClient,action,timeline,action$,timeline$)}else if(timelineActionsType.includes(action.type)){return(0,_rxjs.from)(apolloClient.mutate({mutation:_persist.persistTimelineMutation,fetchPolicy:"no-cache",variables:{timelineId:timelineId,version:version,timeline:convertTimelineAsInput(timeline[action.payload.id],timelineTimeRange)},refetchQueries:_refetch_queries.refetchQueries})).pipe((0,_operators.withLatestFrom)(timeline$),(0,_operators.mergeMap)((function(_ref8){var _ref9=_slicedToArray(_ref8,2),result=_ref9[0],recentTimeline=_ref9[1];var savedTimeline=recentTimeline[action.payload.id];var response=(0,_fp.get)("data.persistTimeline",result);var callOutMsg=response.code===403?[(0,_actions2.showCallOutUnauthorizedMsg)()]:[];return[response.code===409?(0,_actions2.updateAutoSaveMsg)({timelineId:action.payload.id,newTimelineModel:omitTypenameInTimeline(savedTimeline,response.timeline)}):(0,_actions2.updateTimeline)({id:action.payload.id,timeline:_objectSpread({},savedTimeline,{savedObjectId:response.timeline.savedObjectId,version:response.timeline.version,isSaving:false})})].concat(callOutMsg,[(0,_actions2.endTimelineSaving)({id:action.payload.id})])})),(0,_operators.startWith)((0,_actions2.startTimelineSaving)({id:action.payload.id})),(0,_operators.takeUntil)(action$.pipe((0,_operators.withLatestFrom)(timeline$),(0,_operators.filter)((function(_ref10){var _ref11=_slicedToArray(_ref10,2),checkAction=_ref11[0],updatedTimeline=_ref11[1];if(checkAction.type===_actions2.endTimelineSaving.type&&updatedTimeline[(0,_fp.get)("payload.id",checkAction)].savedObjectId!=null){_my_epic_timeline_id.myEpicTimelineId.setTimelineId(updatedTimeline[(0,_fp.get)("payload.id",checkAction)].savedObjectId);_my_epic_timeline_id.myEpicTimelineId.setTimelineVersion(updatedTimeline[(0,_fp.get)("payload.id",checkAction)].version);return true}return false})))))}return(0,_rxjs.empty)()}))))}};exports.createTimelineEpic=createTimelineEpic;var timelineInput={columns:null,dataProviders:null,description:null,eventType:null,filters:null,kqlMode:null,kqlQuery:null,title:null,dateRange:null,savedQueryId:null,sort:null};var convertTimelineAsInput=function convertTimelineAsInput(timeline,timelineTimeRange){return Object.keys(timelineInput).reduce((function(acc,key){if((0,_fp.has)(key,timeline)){if(key==="kqlQuery"){return(0,_fp.set)("".concat(key,".filterQuery"),(0,_fp.get)("".concat(key,".filterQuery"),timeline),acc)}else if(key==="dateRange"){return(0,_fp.set)("".concat(key),{start:timelineTimeRange.from,end:timelineTimeRange.to},acc)}else if(key==="columns"&&(0,_fp.get)(key,timeline)!=null){return(0,_fp.set)(key,(0,_fp.get)(key,timeline).map((function(col){return(0,_fp.omit)(["width","__typename"],col)})),acc)}else if(key==="filters"&&(0,_fp.get)(key,timeline)!=null){var filters=(0,_fp.get)(key,timeline);return(0,_fp.set)(key,filters!=null?filters.map((function(myFilter){var basicFilter=(0,_fp.omit)(["$state"],myFilter);return _objectSpread({},basicFilter,{meta:_objectSpread({},basicFilter.meta,{field:(_public.esFilters.isMatchAllFilter(basicFilter)||_public.esFilters.isPhraseFilter(basicFilter)||_public.esFilters.isPhrasesFilter(basicFilter)||_public.esFilters.isRangeFilter(basicFilter))&&basicFilter.meta.field!=null?convertToString(basicFilter.meta.field):null,value:basicFilter.meta.value!=null?convertToString(basicFilter.meta.value):null,params:basicFilter.meta.params!=null?convertToString(basicFilter.meta.params):null})},_public.esFilters.isMatchAllFilter(basicFilter)?{match_all:convertToString(basicFilter.match_all)}:{match_all:null},{},_public.esFilters.isMissingFilter(basicFilter)&&basicFilter.missing!=null?{missing:convertToString(basicFilter.missing)}:{missing:null},{},_public.esFilters.isExistsFilter(basicFilter)&&basicFilter.exists!=null?{exists:convertToString(basicFilter.exists)}:{exists:null},{},(_public.esFilters.isQueryStringFilter(basicFilter)||(0,_fp.get)("query",basicFilter)!=null)&&basicFilter.query!=null?{query:convertToString(basicFilter.query)}:{query:null},{},_public.esFilters.isRangeFilter(basicFilter)&&basicFilter.range!=null?{range:convertToString(basicFilter.range)}:{range:null},{},_public.esFilters.isRangeFilter(basicFilter)&&basicFilter.script!=null?{script:convertToString(basicFilter.script)}:{script:null})})):[],acc)}return(0,_fp.set)(key,(0,_fp.get)(key,timeline),acc)}return acc}),timelineInput)};exports.convertTimelineAsInput=convertTimelineAsInput;var omitTypename=function omitTypename(key,value){return key==="__typename"?undefined:value};var omitTypenameInTimeline=function omitTypenameInTimeline(oldTimeline,newTimeline){return JSON.parse(JSON.stringify((0,_fp.merge)(oldTimeline,newTimeline)),omitTypename)};var convertToString=function convertToString(obj){try{if((0,_fp.isObject)(obj)){return JSON.stringify(obj)}return(0,_fp.toString)(obj)}catch(_unused){return""}}},8445:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.persistTimelineMutation=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  mutation PersistTimelineMutation($timelineId: ID, $version: String, $timeline: TimelineInput!) {\n    persistTimeline(id: $timelineId, version: $version, timeline: $timeline) {\n      code\n      message\n      timeline {\n        savedObjectId\n        version\n        columns {\n          aggregatable\n          category\n          columnHeaderType\n          description\n          example\n          indexes\n          id\n          name\n          searchable\n          type\n        }\n        dataProviders {\n          id\n          name\n          enabled\n          excluded\n          kqlQuery\n          queryMatch {\n            field\n            displayField\n            value\n            displayValue\n            operator\n          }\n          and {\n            id\n            name\n            enabled\n            excluded\n            kqlQuery\n            queryMatch {\n              field\n              displayField\n              value\n              displayValue\n              operator\n            }\n          }\n        }\n        description\n        eventType\n        favorite {\n          fullName\n          userName\n          favoriteDate\n        }\n        filters {\n          meta {\n            alias\n            controlledBy\n            disabled\n            field\n            formattedValue\n            index\n            key\n            negate\n            params\n            type\n            value\n          }\n          query\n          exists\n          match_all\n          missing\n          range\n          script\n        }\n        kqlMode\n        kqlQuery {\n          filterQuery {\n            kuery {\n              kind\n              expression\n            }\n            serializedQuery\n          }\n        }\n        title\n        dateRange {\n          start\n          end\n        }\n        savedQueryId\n        sort {\n          columnId\n          sortDirection\n        }\n        created\n        createdBy\n        updated\n        updatedBy\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var persistTimelineMutation=(0,_graphqlTag.default)(_templateObject());exports.persistTimelineMutation=persistTimelineMutation},8446:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.persistTimelineNoteMutation=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  mutation PersistTimelineNoteMutation($noteId: ID, $version: String, $note: NoteInput!) {\n    persistNote(noteId: $noteId, version: $version, note: $note) {\n      code\n      message\n      note {\n        eventId\n        note\n        timelineId\n        timelineVersion\n        noteId\n        created\n        createdBy\n        updated\n        updatedBy\n        version\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var persistTimelineNoteMutation=(0,_graphqlTag.default)(_templateObject());exports.persistTimelineNoteMutation=persistTimelineNoteMutation},8447:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ManageEpicTimelineId=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ManageEpicTimelineId=function(){function ManageEpicTimelineId(){_classCallCheck(this,ManageEpicTimelineId);_defineProperty(this,"timelineId",null);_defineProperty(this,"version",null)}_createClass(ManageEpicTimelineId,[{key:"getTimelineId",value:function getTimelineId(){return this.timelineId}},{key:"getTimelineVersion",value:function getTimelineVersion(){return this.version}},{key:"setTimelineId",value:function setTimelineId(timelineId){this.timelineId=timelineId}},{key:"setTimelineVersion",value:function setTimelineVersion(version){this.version=version}}]);return ManageEpicTimelineId}();exports.ManageEpicTimelineId=ManageEpicTimelineId},8448:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.persistTimelinePinnedEventMutation=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  mutation PersistTimelinePinnedEventMutation($pinnedEventId: ID, $eventId: ID!, $timelineId: ID) {\n    persistPinnedEventOnTimeline(\n      pinnedEventId: $pinnedEventId\n      eventId: $eventId\n      timelineId: $timelineId\n    ) {\n      pinnedEventId\n      eventId\n      timelineId\n      timelineVersion\n      created\n      createdBy\n      updated\n      updatedBy\n      version\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var persistTimelinePinnedEventMutation=(0,_graphqlTag.default)(_templateObject());exports.persistTimelinePinnedEventMutation=persistTimelinePinnedEventMutation},8449:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.persistTimelineFavoriteMutation=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  mutation PersistTimelineFavoriteMutation($timelineId: ID) {\n    persistFavorite(timelineId: $timelineId) {\n      savedObjectId\n      version\n      favorite {\n        fullName\n        userName\n        favoriteDate\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var persistTimelineFavoriteMutation=(0,_graphqlTag.default)(_templateObject());exports.persistTimelineFavoriteMutation=persistTimelineFavoriteMutation},8450:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ModalAllErrors=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var i18n=_interopRequireWildcard(__webpack_require__(7507));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ModalAllErrors=function ModalAllErrors(_ref){var isShowing=_ref.isShowing,toast=_ref.toast,toggle=_ref.toggle;return isShowing&&toast!=null?_react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiModal,{onClose:function onClose(){return toggle(toast)}},_react.default.createElement(_eui.EuiModalHeader,null,_react.default.createElement(_eui.EuiModalHeaderTitle,null,i18n.TITLE_ERROR_MODAL)),_react.default.createElement(_eui.EuiModalBody,null,_react.default.createElement(_eui.EuiCallOut,{title:toast.title,color:"danger",size:"s",iconType:"alert"}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),toast.errors!=null&&toast.errors.map((function(error,index){return _react.default.createElement(_eui.EuiAccordion,{key:"".concat(toast.id,"-").concat(index),id:"accordion1",initialIsOpen:index===0?true:false,buttonContent:error.length>100?"".concat(error.substring(0,100)," ..."):error,"data-test-subj":"modal-all-errors-accordion"},_react.default.createElement(MyEuiCodeBlock,null,error))}))),_react.default.createElement(_eui.EuiModalFooter,null,_react.default.createElement(_eui.EuiButton,{onClick:function onClick(){return toggle(toast)},fill:true,"data-test-subj":"modal-all-errors-close"},i18n.CLOSE_ERROR_MODAL)))):null};exports.ModalAllErrors=ModalAllErrors;var MyEuiCodeBlock=(0,_styledComponents.default)(_eui.EuiCodeBlock).withConfig({displayName:"MyEuiCodeBlock",componentId:"sc-1u2ev1h-0"})(["margin-top:4px;"]);MyEuiCodeBlock.displayName="MyEuiCodeBlock"},8451:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.compose=compose;var _apolloCacheInmemory=__webpack_require__(1117);var _apolloClient=_interopRequireDefault(__webpack_require__(1072));var _apolloLink=__webpack_require__(2295);__webpack_require__(205);var _introspection=_interopRequireDefault(__webpack_require__(8452));var _helpers=__webpack_require__(8453);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function compose(){var cache=new _apolloCacheInmemory.InMemoryCache({dataIdFromObject:function dataIdFromObject(){return null},fragmentMatcher:new _apolloCacheInmemory.IntrospectionFragmentMatcher({introspectionQueryResultData:_introspection.default})});var graphQLOptions={connectToDevTools:"production"!=="production",cache:cache,link:_apolloLink.ApolloLink.from((0,_helpers.getLinks)(cache))};var apolloClient=new _apolloClient.default(graphQLOptions);var libs={apolloClient:apolloClient};return libs}},8452:function(module){module.exports=JSON.parse('{"__schema":{"queryType":{"name":"Query"},"mutationType":{"name":"Mutation"},"subscriptionType":null,"types":[{"kind":"OBJECT","name":"Query","description":"","fields":[{"name":"getNote","description":"","args":[{"name":"id","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NoteResult","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"getNotesByTimelineId","description":"","args":[{"name":"timelineId","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NoteResult","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"getNotesByEventId","description":"","args":[{"name":"eventId","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NoteResult","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"getAllNotes","description":"","args":[{"name":"pageInfo","description":"","type":{"kind":"INPUT_OBJECT","name":"PageInfoNote","ofType":null},"defaultValue":null},{"name":"search","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"sort","description":"","type":{"kind":"INPUT_OBJECT","name":"SortNote","ofType":null},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"ResponseNotes","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"getAllPinnedEventsByTimelineId","description":"","args":[{"name":"timelineId","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"PinnedEvent","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"source","description":"Get a security data source by id","args":[{"name":"id","description":"The id of the source","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"Source","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"allSources","description":"Get a list of all security data sources","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"Source","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"getOneTimeline","description":"","args":[{"name":"id","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"TimelineResult","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"getAllTimeline","description":"","args":[{"name":"pageInfo","description":"","type":{"kind":"INPUT_OBJECT","name":"PageInfoTimeline","ofType":null},"defaultValue":null},{"name":"search","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"sort","description":"","type":{"kind":"INPUT_OBJECT","name":"SortTimeline","ofType":null},"defaultValue":null},{"name":"onlyUserFavorite","description":"","type":{"kind":"SCALAR","name":"Boolean","ofType":null},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"ResponseTimelines","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"SCALAR","name":"ID","description":"The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `\\"4\\"`) or integer (such as `4`) input value will be accepted as an ID.","fields":null,"inputFields":null,"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"NoteResult","description":"","fields":[{"name":"eventId","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"note","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"timelineId","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"noteId","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"created","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"createdBy","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"timelineVersion","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"updated","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"updatedBy","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"version","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"SCALAR","name":"String","description":"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.","fields":null,"inputFields":null,"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"SCALAR","name":"Float","description":"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point). ","fields":null,"inputFields":null,"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"PageInfoNote","description":"","fields":null,"inputFields":[{"name":"pageIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"defaultValue":null},{"name":"pageSize","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"SortNote","description":"","fields":null,"inputFields":[{"name":"sortField","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"SortFieldNote","ofType":null}},"defaultValue":null},{"name":"sortOrder","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"Direction","ofType":null}},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"ENUM","name":"SortFieldNote","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"updatedBy","description":"","isDeprecated":false,"deprecationReason":null},{"name":"updated","description":"","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"ENUM","name":"Direction","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"asc","description":"","isDeprecated":false,"deprecationReason":null},{"name":"desc","description":"","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"OBJECT","name":"ResponseNotes","description":"","fields":[{"name":"notes","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NoteResult","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"PinnedEvent","description":"","fields":[{"name":"code","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"message","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"pinnedEventId","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"eventId","description":"","args":[],"type":{"kind":"SCALAR","name":"ID","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"timelineId","description":"","args":[],"type":{"kind":"SCALAR","name":"ID","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"timelineVersion","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"created","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"createdBy","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"updated","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"updatedBy","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"version","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"Source","description":"","fields":[{"name":"id","description":"The id of the source","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"configuration","description":"The raw configuration of the source","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"SourceConfiguration","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"status","description":"The status of the source","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"SourceStatus","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"AlertsHistogram","description":"","args":[{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"stackByField","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"AlertsOverTimeData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"AnomaliesHistogram","description":"","args":[{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null},{"name":"stackByField","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"AnomaliesOverTimeData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"Authentications","description":"Gets Authentication success and failures based on a timerange","args":[{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"pagination","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"PaginationInputPaginated","ofType":null}},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"AuthenticationsData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"AuthenticationsHistogram","description":"","args":[{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null},{"name":"stackByField","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"AuthenticationsOverTimeData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"Timeline","description":"","args":[{"name":"pagination","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"PaginationInput","ofType":null}},"defaultValue":null},{"name":"sortField","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"SortField","ofType":null}},"defaultValue":null},{"name":"fieldRequested","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"TimelineData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"TimelineDetails","description":"","args":[{"name":"eventId","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null},{"name":"indexName","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"TimelineDetailsData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"LastEventTime","description":"","args":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"indexKey","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"LastEventIndexKey","ofType":null}},"defaultValue":null},{"name":"details","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"LastTimeDetails","ofType":null}},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"LastEventTimeData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"EventsHistogram","description":"","args":[{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null},{"name":"stackByField","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"EventsOverTimeData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"Hosts","description":"Gets Hosts based on timerange and specified criteria, or all events in the timerange if no criteria is specified","args":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"pagination","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"PaginationInputPaginated","ofType":null}},"defaultValue":null},{"name":"sort","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"HostsSortField","ofType":null}},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"HostsData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"HostOverview","description":"","args":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"hostName","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"HostItem","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"HostFirstLastSeen","description":"","args":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"hostName","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"FirstLastSeenHost","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"IpOverview","description":"","args":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"ip","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"OBJECT","name":"IpOverviewData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"Users","description":"","args":[{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"ip","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null},{"name":"pagination","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"PaginationInputPaginated","ofType":null}},"defaultValue":null},{"name":"sort","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"UsersSortField","ofType":null}},"defaultValue":null},{"name":"flowTarget","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"FlowTarget","ofType":null}},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"UsersData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"KpiNetwork","description":"","args":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"OBJECT","name":"KpiNetworkData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"KpiHosts","description":"","args":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"KpiHostsData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"KpiHostDetails","description":"","args":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"KpiHostDetailsData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"NetworkTopCountries","description":"","args":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"ip","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"flowTarget","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"FlowTargetSourceDest","ofType":null}},"defaultValue":null},{"name":"pagination","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"PaginationInputPaginated","ofType":null}},"defaultValue":null},{"name":"sort","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"NetworkTopTablesSortField","ofType":null}},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NetworkTopCountriesData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"NetworkTopNFlow","description":"","args":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"ip","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"flowTarget","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"FlowTargetSourceDest","ofType":null}},"defaultValue":null},{"name":"pagination","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"PaginationInputPaginated","ofType":null}},"defaultValue":null},{"name":"sort","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"NetworkTopTablesSortField","ofType":null}},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NetworkTopNFlowData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"NetworkDns","description":"","args":[{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"isPtrIncluded","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null},{"name":"pagination","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"PaginationInputPaginated","ofType":null}},"defaultValue":null},{"name":"sort","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"NetworkDnsSortField","ofType":null}},"defaultValue":null},{"name":"stackByField","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NetworkDnsData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"NetworkDnsHistogram","description":"","args":[{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"stackByField","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NetworkDsOverTimeData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"NetworkHttp","description":"","args":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"ip","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"pagination","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"PaginationInputPaginated","ofType":null}},"defaultValue":null},{"name":"sort","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"NetworkHttpSortField","ofType":null}},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NetworkHttpData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"OverviewNetwork","description":"","args":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"OBJECT","name":"OverviewNetworkData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"OverviewHost","description":"","args":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"OBJECT","name":"OverviewHostData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"Tls","description":"","args":[{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"ip","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null},{"name":"pagination","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"PaginationInputPaginated","ofType":null}},"defaultValue":null},{"name":"sort","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TlsSortField","ofType":null}},"defaultValue":null},{"name":"flowTarget","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"FlowTargetSourceDest","ofType":null}},"defaultValue":null},{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"TlsData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"UncommonProcesses","description":"Gets UncommonProcesses based on a timerange, or all UncommonProcesses if no criteria is specified","args":[{"name":"timerange","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimerangeInput","ofType":null}},"defaultValue":null},{"name":"pagination","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"PaginationInputPaginated","ofType":null}},"defaultValue":null},{"name":"filterQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"UncommonProcessesData","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"whoAmI","description":"Just a simple example to get the app name","args":[],"type":{"kind":"OBJECT","name":"SayMyName","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"SourceConfiguration","description":"A set of configuration options for a security data source","fields":[{"name":"fields","description":"The field mapping to use for this source","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"SourceFields","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"SourceFields","description":"A mapping of semantic fields to their document counterparts","fields":[{"name":"container","description":"The field to identify a container by","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"host","description":"The fields to identify a host by","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"message","description":"The fields that may contain the log event message. The first field found win.","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"pod","description":"The field to identify a pod by","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"tiebreaker","description":"The field to use as a tiebreaker for log events that have identical timestamps","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"timestamp","description":"The field to use as a timestamp for metrics and logs","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"SourceStatus","description":"The status of an infrastructure data source","fields":[{"name":"indicesExist","description":"Whether the configured alias or wildcard pattern resolve to any auditbeat indices","args":[{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"indexFields","description":"The list of fields defined in the index mappings","args":[{"name":"defaultIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"IndexField","ofType":null}}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"SCALAR","name":"Boolean","description":"The `Boolean` scalar type represents `true` or `false`.","fields":null,"inputFields":null,"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"IndexField","description":"A descriptor of a field in an index","fields":[{"name":"category","description":"Where the field belong","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"example","description":"Example of field\'s value","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"indexes","description":"whether the field\'s belong to an alias index","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"The name of the field","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"type","description":"The type of the field\'s values as recognized by Kibana","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"searchable","description":"Whether the field\'s values can be efficiently searched for","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"aggregatable","description":"Whether the field\'s values can be aggregated","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"description","description":"Description of the field","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"format","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"TimerangeInput","description":"","fields":null,"inputFields":[{"name":"interval","description":"The interval string to use for last bucket. The format is \'{value}{unit}\'. For example \'5m\' would return the metrics for the last 5 minutes of the timespan.","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null},{"name":"to","description":"The end of the timerange","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"defaultValue":null},{"name":"from","description":"The beginning of the timerange","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"AlertsOverTimeData","description":"","fields":[{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"matrixHistogramData","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"MatrixOverTimeHistogramData","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"Inspect","description":"","fields":[{"name":"dsl","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"response","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"MatrixOverTimeHistogramData","description":"","fields":[{"name":"x","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"y","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"g","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"AnomaliesOverTimeData","description":"","fields":[{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"matrixHistogramData","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"MatrixOverTimeHistogramData","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"PaginationInputPaginated","description":"","fields":null,"inputFields":[{"name":"activePage","description":"The activePage parameter defines the page of results you want to fetch","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"defaultValue":null},{"name":"cursorStart","description":"The cursorStart parameter defines the start of the results to be displayed","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"defaultValue":null},{"name":"fakePossibleCount","description":"The fakePossibleCount parameter determines the total count in order to show 5 additional pages","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"defaultValue":null},{"name":"querySize","description":"The querySize parameter is the number of items to be returned","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"AuthenticationsData","description":"","fields":[{"name":"edges","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"AuthenticationsEdges","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"pageInfo","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"PageInfoPaginated","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"AuthenticationsEdges","description":"","fields":[{"name":"node","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"AuthenticationItem","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"cursor","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"CursorType","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"AuthenticationItem","description":"","fields":[{"name":"_id","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"failures","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"successes","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"user","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"UserEcsFields","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"lastSuccess","description":"","args":[],"type":{"kind":"OBJECT","name":"LastSourceHost","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"lastFailure","description":"","args":[],"type":{"kind":"OBJECT","name":"LastSourceHost","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"UserEcsFields","description":"","fields":[{"name":"domain","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"full_name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"email","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"hash","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"group","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"SCALAR","name":"ToStringArray","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"LastSourceHost","description":"","fields":[{"name":"timestamp","description":"","args":[],"type":{"kind":"SCALAR","name":"Date","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"source","description":"","args":[],"type":{"kind":"OBJECT","name":"SourceEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"host","description":"","args":[],"type":{"kind":"OBJECT","name":"HostEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"SCALAR","name":"Date","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"SourceEcsFields","description":"","fields":[{"name":"bytes","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"ip","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"port","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"domain","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"geo","description":"","args":[],"type":{"kind":"OBJECT","name":"GeoEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"packets","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"SCALAR","name":"ToNumberArray","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"GeoEcsFields","description":"","fields":[{"name":"city_name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"continent_name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"country_iso_code","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"country_name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"location","description":"","args":[],"type":{"kind":"OBJECT","name":"Location","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"region_iso_code","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"region_name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"Location","description":"","fields":[{"name":"lon","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"lat","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"HostEcsFields","description":"","fields":[{"name":"architecture","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"ip","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"mac","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"os","description":"","args":[],"type":{"kind":"OBJECT","name":"OsEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"type","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"OsEcsFields","description":"","fields":[{"name":"platform","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"full","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"family","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"version","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"kernel","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"CursorType","description":"","fields":[{"name":"value","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"tiebreaker","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"PageInfoPaginated","description":"","fields":[{"name":"activePage","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"fakeTotalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"showMorePagesIndicator","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"AuthenticationsOverTimeData","description":"","fields":[{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"matrixHistogramData","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"MatrixOverTimeHistogramData","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"PaginationInput","description":"","fields":null,"inputFields":[{"name":"limit","description":"The limit parameter allows you to configure the maximum amount of items to be returned","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"defaultValue":null},{"name":"cursor","description":"The cursor parameter defines the next result you want to fetch","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"tiebreaker","description":"The tiebreaker parameter allow to be more precise to fetch the next item","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"SortField","description":"","fields":null,"inputFields":[{"name":"sortFieldId","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null},{"name":"direction","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"Direction","ofType":null}},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TimelineData","description":"","fields":[{"name":"edges","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"TimelineEdges","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"pageInfo","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"PageInfo","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TimelineEdges","description":"","fields":[{"name":"node","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"TimelineItem","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"cursor","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"CursorType","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TimelineItem","description":"","fields":[{"name":"_id","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"_index","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"data","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"TimelineNonEcsData","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"ecs","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"ECS","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TimelineNonEcsData","description":"","fields":[{"name":"field","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"value","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"ECS","description":"","fields":[{"name":"_id","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"_index","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"auditd","description":"","args":[],"type":{"kind":"OBJECT","name":"AuditdEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"destination","description":"","args":[],"type":{"kind":"OBJECT","name":"DestinationEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"dns","description":"","args":[],"type":{"kind":"OBJECT","name":"DnsEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"endgame","description":"","args":[],"type":{"kind":"OBJECT","name":"EndgameEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"event","description":"","args":[],"type":{"kind":"OBJECT","name":"EventEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"geo","description":"","args":[],"type":{"kind":"OBJECT","name":"GeoEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"host","description":"","args":[],"type":{"kind":"OBJECT","name":"HostEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"network","description":"","args":[],"type":{"kind":"OBJECT","name":"NetworkEcsField","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"rule","description":"","args":[],"type":{"kind":"OBJECT","name":"RuleEcsField","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"signal","description":"","args":[],"type":{"kind":"OBJECT","name":"SignalField","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"source","description":"","args":[],"type":{"kind":"OBJECT","name":"SourceEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"suricata","description":"","args":[],"type":{"kind":"OBJECT","name":"SuricataEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"tls","description":"","args":[],"type":{"kind":"OBJECT","name":"TlsEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"zeek","description":"","args":[],"type":{"kind":"OBJECT","name":"ZeekEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"http","description":"","args":[],"type":{"kind":"OBJECT","name":"HttpEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"url","description":"","args":[],"type":{"kind":"OBJECT","name":"UrlEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"timestamp","description":"","args":[],"type":{"kind":"SCALAR","name":"Date","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"message","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"user","description":"","args":[],"type":{"kind":"OBJECT","name":"UserEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"winlog","description":"","args":[],"type":{"kind":"OBJECT","name":"WinlogEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"process","description":"","args":[],"type":{"kind":"OBJECT","name":"ProcessEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"file","description":"","args":[],"type":{"kind":"OBJECT","name":"FileFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"system","description":"","args":[],"type":{"kind":"OBJECT","name":"SystemEcsField","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"AuditdEcsFields","description":"","fields":[{"name":"result","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"session","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"data","description":"","args":[],"type":{"kind":"OBJECT","name":"AuditdData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"summary","description":"","args":[],"type":{"kind":"OBJECT","name":"Summary","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"sequence","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"AuditdData","description":"","fields":[{"name":"acct","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"terminal","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"op","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"Summary","description":"","fields":[{"name":"actor","description":"","args":[],"type":{"kind":"OBJECT","name":"PrimarySecondary","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"object","description":"","args":[],"type":{"kind":"OBJECT","name":"PrimarySecondary","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"how","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"message_type","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"sequence","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"PrimarySecondary","description":"","fields":[{"name":"primary","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"secondary","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"type","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"DestinationEcsFields","description":"","fields":[{"name":"bytes","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"ip","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"port","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"domain","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"geo","description":"","args":[],"type":{"kind":"OBJECT","name":"GeoEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"packets","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"DnsEcsFields","description":"","fields":[{"name":"question","description":"","args":[],"type":{"kind":"OBJECT","name":"DnsQuestionData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"resolved_ip","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"response_code","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"DnsQuestionData","description":"","fields":[{"name":"name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"type","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"EndgameEcsFields","description":"","fields":[{"name":"exit_code","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"file_name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"file_path","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"logon_type","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"parent_process_name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"pid","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"process_name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"subject_domain_name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"subject_logon_id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"subject_user_name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"target_domain_name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"target_logon_id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"target_user_name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"EventEcsFields","description":"","fields":[{"name":"action","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"category","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"code","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"created","description":"","args":[],"type":{"kind":"SCALAR","name":"ToDateArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"dataset","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"duration","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"end","description":"","args":[],"type":{"kind":"SCALAR","name":"ToDateArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"hash","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"kind","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"module","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"original","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"outcome","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"risk_score","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"risk_score_norm","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"severity","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"start","description":"","args":[],"type":{"kind":"SCALAR","name":"ToDateArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"timezone","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"type","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"SCALAR","name":"ToDateArray","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"NetworkEcsField","description":"","fields":[{"name":"bytes","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"community_id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"direction","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"packets","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"protocol","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"transport","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"RuleEcsField","description":"","fields":[{"name":"reference","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"SignalField","description":"","fields":[{"name":"rule","description":"","args":[],"type":{"kind":"OBJECT","name":"RuleField","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"original_time","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"RuleField","description":"","fields":[{"name":"id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"rule_id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"false_positives","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"saved_id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"timeline_id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"timeline_title","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"max_signals","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"risk_score","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"output_index","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"description","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"from","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"immutable","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"index","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"interval","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"language","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"query","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"references","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"severity","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"tags","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"threat","description":"","args":[],"type":{"kind":"SCALAR","name":"ToAny","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"type","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"size","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"to","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"enabled","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"filters","description":"","args":[],"type":{"kind":"SCALAR","name":"ToAny","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"created_at","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"updated_at","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"created_by","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"updated_by","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"version","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"SCALAR","name":"ToBooleanArray","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"SCALAR","name":"ToAny","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"SuricataEcsFields","description":"","fields":[{"name":"eve","description":"","args":[],"type":{"kind":"OBJECT","name":"SuricataEveData","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"SuricataEveData","description":"","fields":[{"name":"alert","description":"","args":[],"type":{"kind":"OBJECT","name":"SuricataAlertData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"flow_id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"proto","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"SuricataAlertData","description":"","fields":[{"name":"signature","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"signature_id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TlsEcsFields","description":"","fields":[{"name":"client_certificate","description":"","args":[],"type":{"kind":"OBJECT","name":"TlsClientCertificateData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"fingerprints","description":"","args":[],"type":{"kind":"OBJECT","name":"TlsFingerprintsData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"server_certificate","description":"","args":[],"type":{"kind":"OBJECT","name":"TlsServerCertificateData","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TlsClientCertificateData","description":"","fields":[{"name":"fingerprint","description":"","args":[],"type":{"kind":"OBJECT","name":"FingerprintData","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"FingerprintData","description":"","fields":[{"name":"sha1","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TlsFingerprintsData","description":"","fields":[{"name":"ja3","description":"","args":[],"type":{"kind":"OBJECT","name":"TlsJa3Data","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TlsJa3Data","description":"","fields":[{"name":"hash","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TlsServerCertificateData","description":"","fields":[{"name":"fingerprint","description":"","args":[],"type":{"kind":"OBJECT","name":"FingerprintData","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"ZeekEcsFields","description":"","fields":[{"name":"session_id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"connection","description":"","args":[],"type":{"kind":"OBJECT","name":"ZeekConnectionData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"notice","description":"","args":[],"type":{"kind":"OBJECT","name":"ZeekNoticeData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"dns","description":"","args":[],"type":{"kind":"OBJECT","name":"ZeekDnsData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"http","description":"","args":[],"type":{"kind":"OBJECT","name":"ZeekHttpData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"files","description":"","args":[],"type":{"kind":"OBJECT","name":"ZeekFileData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"ssl","description":"","args":[],"type":{"kind":"OBJECT","name":"ZeekSslData","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"ZeekConnectionData","description":"","fields":[{"name":"local_resp","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"local_orig","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"missed_bytes","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"state","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"history","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"ZeekNoticeData","description":"","fields":[{"name":"suppress_for","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"msg","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"note","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"sub","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"dst","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"dropped","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"peer_descr","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"ZeekDnsData","description":"","fields":[{"name":"AA","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"qclass_name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"RD","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"qtype_name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"rejected","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"qtype","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"query","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"trans_id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"qclass","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"RA","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"TC","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"ZeekHttpData","description":"","fields":[{"name":"resp_mime_types","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"trans_depth","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"status_msg","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"resp_fuids","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"tags","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"ZeekFileData","description":"","fields":[{"name":"session_ids","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"timedout","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"local_orig","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"tx_host","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"source","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"is_orig","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"overflow_bytes","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"sha1","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"duration","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"depth","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"analyzers","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"mime_type","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"rx_host","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"total_bytes","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"fuid","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"seen_bytes","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"missing_bytes","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"md5","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"ZeekSslData","description":"","fields":[{"name":"cipher","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"established","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"resumed","description":"","args":[],"type":{"kind":"SCALAR","name":"ToBooleanArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"version","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"HttpEcsFields","description":"","fields":[{"name":"version","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"request","description":"","args":[],"type":{"kind":"OBJECT","name":"HttpRequestData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"response","description":"","args":[],"type":{"kind":"OBJECT","name":"HttpResponseData","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"HttpRequestData","description":"","fields":[{"name":"method","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"body","description":"","args":[],"type":{"kind":"OBJECT","name":"HttpBodyData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"referrer","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"bytes","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"HttpBodyData","description":"","fields":[{"name":"content","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"bytes","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"HttpResponseData","description":"","fields":[{"name":"status_code","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"body","description":"","args":[],"type":{"kind":"OBJECT","name":"HttpBodyData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"bytes","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"UrlEcsFields","description":"","fields":[{"name":"domain","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"original","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"username","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"password","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"WinlogEcsFields","description":"","fields":[{"name":"event_id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"ProcessEcsFields","description":"","fields":[{"name":"hash","description":"","args":[],"type":{"kind":"OBJECT","name":"ProcessHashData","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"pid","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"ppid","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"args","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"executable","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"title","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"thread","description":"","args":[],"type":{"kind":"OBJECT","name":"Thread","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"working_directory","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"ProcessHashData","description":"","fields":[{"name":"md5","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"sha1","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"sha256","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"Thread","description":"","fields":[{"name":"id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"start","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"FileFields","description":"","fields":[{"name":"name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"path","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"target_path","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"extension","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"type","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"device","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"inode","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"uid","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"owner","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"gid","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"group","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"mode","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"size","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"mtime","description":"","args":[],"type":{"kind":"SCALAR","name":"ToDateArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"ctime","description":"","args":[],"type":{"kind":"SCALAR","name":"ToDateArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"SystemEcsField","description":"","fields":[{"name":"audit","description":"","args":[],"type":{"kind":"OBJECT","name":"AuditEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"auth","description":"","args":[],"type":{"kind":"OBJECT","name":"AuthEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"AuditEcsFields","description":"","fields":[{"name":"package","description":"","args":[],"type":{"kind":"OBJECT","name":"PackageEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"PackageEcsFields","description":"","fields":[{"name":"arch","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"entity_id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"size","description":"","args":[],"type":{"kind":"SCALAR","name":"ToNumberArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"summary","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"version","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"AuthEcsFields","description":"","fields":[{"name":"ssh","description":"","args":[],"type":{"kind":"OBJECT","name":"SshEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"SshEcsFields","description":"","fields":[{"name":"method","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"signature","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"PageInfo","description":"","fields":[{"name":"endCursor","description":"","args":[],"type":{"kind":"OBJECT","name":"CursorType","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"hasNextPage","description":"","args":[],"type":{"kind":"SCALAR","name":"Boolean","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TimelineDetailsData","description":"","fields":[{"name":"data","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"DetailItem","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"DetailItem","description":"","fields":[{"name":"field","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"values","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"originalValue","description":"","args":[],"type":{"kind":"SCALAR","name":"EsValue","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"SCALAR","name":"EsValue","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"ENUM","name":"LastEventIndexKey","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"hostDetails","description":"","isDeprecated":false,"deprecationReason":null},{"name":"hosts","description":"","isDeprecated":false,"deprecationReason":null},{"name":"ipDetails","description":"","isDeprecated":false,"deprecationReason":null},{"name":"network","description":"","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"LastTimeDetails","description":"","fields":null,"inputFields":[{"name":"hostName","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"ip","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"LastEventTimeData","description":"","fields":[{"name":"lastSeen","description":"","args":[],"type":{"kind":"SCALAR","name":"Date","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"EventsOverTimeData","description":"","fields":[{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"matrixHistogramData","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"MatrixOverTimeHistogramData","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"HostsSortField","description":"","fields":null,"inputFields":[{"name":"field","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"HostsFields","ofType":null}},"defaultValue":null},{"name":"direction","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"Direction","ofType":null}},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"ENUM","name":"HostsFields","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"hostName","description":"","isDeprecated":false,"deprecationReason":null},{"name":"lastSeen","description":"","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"OBJECT","name":"HostsData","description":"","fields":[{"name":"edges","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"HostsEdges","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"pageInfo","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"PageInfoPaginated","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"HostsEdges","description":"","fields":[{"name":"node","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"HostItem","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"cursor","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"CursorType","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"HostItem","description":"","fields":[{"name":"_id","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"lastSeen","description":"","args":[],"type":{"kind":"SCALAR","name":"Date","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"host","description":"","args":[],"type":{"kind":"OBJECT","name":"HostEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"cloud","description":"","args":[],"type":{"kind":"OBJECT","name":"CloudFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"CloudFields","description":"","fields":[{"name":"instance","description":"","args":[],"type":{"kind":"OBJECT","name":"CloudInstance","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"machine","description":"","args":[],"type":{"kind":"OBJECT","name":"CloudMachine","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"provider","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"region","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"CloudInstance","description":"","fields":[{"name":"id","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"CloudMachine","description":"","fields":[{"name":"type","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"FirstLastSeenHost","description":"","fields":[{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"firstSeen","description":"","args":[],"type":{"kind":"SCALAR","name":"Date","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"lastSeen","description":"","args":[],"type":{"kind":"SCALAR","name":"Date","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"IpOverviewData","description":"","fields":[{"name":"client","description":"","args":[],"type":{"kind":"OBJECT","name":"Overview","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"destination","description":"","args":[],"type":{"kind":"OBJECT","name":"Overview","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"host","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"HostEcsFields","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"server","description":"","args":[],"type":{"kind":"OBJECT","name":"Overview","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"source","description":"","args":[],"type":{"kind":"OBJECT","name":"Overview","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"Overview","description":"","fields":[{"name":"firstSeen","description":"","args":[],"type":{"kind":"SCALAR","name":"Date","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"lastSeen","description":"","args":[],"type":{"kind":"SCALAR","name":"Date","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"autonomousSystem","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"AutonomousSystem","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"geo","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"GeoEcsFields","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"AutonomousSystem","description":"","fields":[{"name":"number","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"organization","description":"","args":[],"type":{"kind":"OBJECT","name":"AutonomousSystemOrganization","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"AutonomousSystemOrganization","description":"","fields":[{"name":"name","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"UsersSortField","description":"","fields":null,"inputFields":[{"name":"field","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"UsersFields","ofType":null}},"defaultValue":null},{"name":"direction","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"Direction","ofType":null}},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"ENUM","name":"UsersFields","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"name","description":"","isDeprecated":false,"deprecationReason":null},{"name":"count","description":"","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"ENUM","name":"FlowTarget","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"client","description":"","isDeprecated":false,"deprecationReason":null},{"name":"destination","description":"","isDeprecated":false,"deprecationReason":null},{"name":"server","description":"","isDeprecated":false,"deprecationReason":null},{"name":"source","description":"","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"OBJECT","name":"UsersData","description":"","fields":[{"name":"edges","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"UsersEdges","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"pageInfo","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"PageInfoPaginated","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"UsersEdges","description":"","fields":[{"name":"node","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"UsersNode","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"cursor","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"CursorType","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"UsersNode","description":"","fields":[{"name":"_id","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"timestamp","description":"","args":[],"type":{"kind":"SCALAR","name":"Date","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"user","description":"","args":[],"type":{"kind":"OBJECT","name":"UsersItem","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"UsersItem","description":"","fields":[{"name":"name","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"id","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"groupId","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"groupName","description":"","args":[],"type":{"kind":"SCALAR","name":"ToStringArray","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"count","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"KpiNetworkData","description":"","fields":[{"name":"networkEvents","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"uniqueFlowId","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"uniqueSourcePrivateIps","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"uniqueSourcePrivateIpsHistogram","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"KpiNetworkHistogramData","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"uniqueDestinationPrivateIps","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"uniqueDestinationPrivateIpsHistogram","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"KpiNetworkHistogramData","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"dnsQueries","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"tlsHandshakes","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"KpiNetworkHistogramData","description":"","fields":[{"name":"x","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"y","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"KpiHostsData","description":"","fields":[{"name":"hosts","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"hostsHistogram","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"KpiHostHistogramData","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"authSuccess","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"authSuccessHistogram","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"KpiHostHistogramData","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"authFailure","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"authFailureHistogram","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"KpiHostHistogramData","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"uniqueSourceIps","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"uniqueSourceIpsHistogram","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"KpiHostHistogramData","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"uniqueDestinationIps","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"uniqueDestinationIpsHistogram","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"KpiHostHistogramData","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"KpiHostHistogramData","description":"","fields":[{"name":"x","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"y","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"KpiHostDetailsData","description":"","fields":[{"name":"authSuccess","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"authSuccessHistogram","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"KpiHostHistogramData","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"authFailure","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"authFailureHistogram","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"KpiHostHistogramData","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"uniqueSourceIps","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"uniqueSourceIpsHistogram","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"KpiHostHistogramData","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"uniqueDestinationIps","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"uniqueDestinationIpsHistogram","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"KpiHostHistogramData","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"ENUM","name":"FlowTargetSourceDest","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"destination","description":"","isDeprecated":false,"deprecationReason":null},{"name":"source","description":"","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"NetworkTopTablesSortField","description":"","fields":null,"inputFields":[{"name":"field","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"NetworkTopTablesFields","ofType":null}},"defaultValue":null},{"name":"direction","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"Direction","ofType":null}},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"ENUM","name":"NetworkTopTablesFields","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"bytes_in","description":"","isDeprecated":false,"deprecationReason":null},{"name":"bytes_out","description":"","isDeprecated":false,"deprecationReason":null},{"name":"flows","description":"","isDeprecated":false,"deprecationReason":null},{"name":"destination_ips","description":"","isDeprecated":false,"deprecationReason":null},{"name":"source_ips","description":"","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"OBJECT","name":"NetworkTopCountriesData","description":"","fields":[{"name":"edges","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NetworkTopCountriesEdges","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"pageInfo","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"PageInfoPaginated","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"NetworkTopCountriesEdges","description":"","fields":[{"name":"node","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NetworkTopCountriesItem","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"cursor","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"CursorType","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"NetworkTopCountriesItem","description":"","fields":[{"name":"_id","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"source","description":"","args":[],"type":{"kind":"OBJECT","name":"TopCountriesItemSource","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"destination","description":"","args":[],"type":{"kind":"OBJECT","name":"TopCountriesItemDestination","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"network","description":"","args":[],"type":{"kind":"OBJECT","name":"TopNetworkTablesEcsField","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TopCountriesItemSource","description":"","fields":[{"name":"country","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"destination_ips","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"flows","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"location","description":"","args":[],"type":{"kind":"OBJECT","name":"GeoItem","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"source_ips","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"GeoItem","description":"","fields":[{"name":"geo","description":"","args":[],"type":{"kind":"OBJECT","name":"GeoEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"flowTarget","description":"","args":[],"type":{"kind":"ENUM","name":"FlowTargetSourceDest","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TopCountriesItemDestination","description":"","fields":[{"name":"country","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"destination_ips","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"flows","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"location","description":"","args":[],"type":{"kind":"OBJECT","name":"GeoItem","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"source_ips","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TopNetworkTablesEcsField","description":"","fields":[{"name":"bytes_in","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"bytes_out","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"NetworkTopNFlowData","description":"","fields":[{"name":"edges","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NetworkTopNFlowEdges","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"pageInfo","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"PageInfoPaginated","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"NetworkTopNFlowEdges","description":"","fields":[{"name":"node","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NetworkTopNFlowItem","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"cursor","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"CursorType","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"NetworkTopNFlowItem","description":"","fields":[{"name":"_id","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"source","description":"","args":[],"type":{"kind":"OBJECT","name":"TopNFlowItemSource","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"destination","description":"","args":[],"type":{"kind":"OBJECT","name":"TopNFlowItemDestination","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"network","description":"","args":[],"type":{"kind":"OBJECT","name":"TopNetworkTablesEcsField","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TopNFlowItemSource","description":"","fields":[{"name":"autonomous_system","description":"","args":[],"type":{"kind":"OBJECT","name":"AutonomousSystemItem","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"domain","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"ip","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"location","description":"","args":[],"type":{"kind":"OBJECT","name":"GeoItem","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"flows","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"destination_ips","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"AutonomousSystemItem","description":"","fields":[{"name":"name","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"number","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TopNFlowItemDestination","description":"","fields":[{"name":"autonomous_system","description":"","args":[],"type":{"kind":"OBJECT","name":"AutonomousSystemItem","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"domain","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"ip","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"location","description":"","args":[],"type":{"kind":"OBJECT","name":"GeoItem","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"flows","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"source_ips","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"NetworkDnsSortField","description":"","fields":null,"inputFields":[{"name":"field","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"NetworkDnsFields","ofType":null}},"defaultValue":null},{"name":"direction","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"Direction","ofType":null}},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"ENUM","name":"NetworkDnsFields","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"dnsName","description":"","isDeprecated":false,"deprecationReason":null},{"name":"queryCount","description":"","isDeprecated":false,"deprecationReason":null},{"name":"uniqueDomains","description":"","isDeprecated":false,"deprecationReason":null},{"name":"dnsBytesIn","description":"","isDeprecated":false,"deprecationReason":null},{"name":"dnsBytesOut","description":"","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"OBJECT","name":"NetworkDnsData","description":"","fields":[{"name":"edges","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NetworkDnsEdges","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"pageInfo","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"PageInfoPaginated","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"histogram","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"MatrixOverOrdinalHistogramData","ofType":null}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"NetworkDnsEdges","description":"","fields":[{"name":"node","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NetworkDnsItem","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"cursor","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"CursorType","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"NetworkDnsItem","description":"","fields":[{"name":"_id","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"dnsBytesIn","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"dnsBytesOut","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"dnsName","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"queryCount","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"uniqueDomains","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"MatrixOverOrdinalHistogramData","description":"","fields":[{"name":"x","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"y","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"g","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"NetworkDsOverTimeData","description":"","fields":[{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"matrixHistogramData","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"MatrixOverTimeHistogramData","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"NetworkHttpSortField","description":"","fields":null,"inputFields":[{"name":"direction","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"Direction","ofType":null}},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"NetworkHttpData","description":"","fields":[{"name":"edges","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NetworkHttpEdges","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"pageInfo","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"PageInfoPaginated","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"NetworkHttpEdges","description":"","fields":[{"name":"node","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NetworkHttpItem","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"cursor","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"CursorType","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"NetworkHttpItem","description":"","fields":[{"name":"_id","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"domains","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"lastHost","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"lastSourceIp","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"methods","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"path","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"requestCount","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"statuses","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"OverviewNetworkData","description":"","fields":[{"name":"auditbeatSocket","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"filebeatCisco","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"filebeatNetflow","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"filebeatPanw","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"filebeatSuricata","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"filebeatZeek","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"packetbeatDNS","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"packetbeatFlow","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"packetbeatTLS","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"OverviewHostData","description":"","fields":[{"name":"auditbeatAuditd","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"auditbeatFIM","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"auditbeatLogin","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"auditbeatPackage","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"auditbeatProcess","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"auditbeatUser","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"endgameDns","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"endgameFile","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"endgameImageLoad","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"endgameNetwork","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"endgameProcess","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"endgameRegistry","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"endgameSecurity","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"filebeatSystemModule","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"winlogbeatSecurity","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"winlogbeatMWSysmonOperational","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"TlsSortField","description":"","fields":null,"inputFields":[{"name":"field","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"TlsFields","ofType":null}},"defaultValue":null},{"name":"direction","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"Direction","ofType":null}},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"ENUM","name":"TlsFields","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"_id","description":"","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"OBJECT","name":"TlsData","description":"","fields":[{"name":"edges","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"TlsEdges","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"pageInfo","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"PageInfoPaginated","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TlsEdges","description":"","fields":[{"name":"node","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"TlsNode","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"cursor","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"CursorType","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TlsNode","description":"","fields":[{"name":"_id","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"timestamp","description":"","args":[],"type":{"kind":"SCALAR","name":"Date","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"alternativeNames","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"notAfter","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"commonNames","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"ja3","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"issuerNames","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"UncommonProcessesData","description":"","fields":[{"name":"edges","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"UncommonProcessesEdges","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"pageInfo","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"PageInfoPaginated","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"UncommonProcessesEdges","description":"","fields":[{"name":"node","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"UncommonProcessItem","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"cursor","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"CursorType","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"UncommonProcessItem","description":"","fields":[{"name":"_id","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"instances","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"process","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"ProcessEcsFields","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"hosts","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"HostEcsFields","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"user","description":"","args":[],"type":{"kind":"OBJECT","name":"UserEcsFields","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"SayMyName","description":"","fields":[{"name":"appName","description":"The id of the source","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"TimelineResult","description":"","fields":[{"name":"columns","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"ColumnHeaderResult","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"created","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"createdBy","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"dataProviders","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"DataProviderResult","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"dateRange","description":"","args":[],"type":{"kind":"OBJECT","name":"DateRangePickerResult","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"description","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"eventIdToNoteIds","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NoteResult","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"eventType","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"favorite","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"FavoriteTimelineResult","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"filters","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"FilterTimelineResult","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"kqlMode","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"kqlQuery","description":"","args":[],"type":{"kind":"OBJECT","name":"SerializedFilterQueryResult","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"notes","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NoteResult","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"noteIds","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"pinnedEventIds","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"pinnedEventsSaveObject","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"PinnedEvent","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"savedQueryId","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"savedObjectId","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"sort","description":"","args":[],"type":{"kind":"OBJECT","name":"SortTimelineResult","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"title","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"updated","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"updatedBy","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"version","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"ColumnHeaderResult","description":"","fields":[{"name":"aggregatable","description":"","args":[],"type":{"kind":"SCALAR","name":"Boolean","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"category","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"columnHeaderType","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"description","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"example","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"indexes","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"id","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"placeholder","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"searchable","description":"","args":[],"type":{"kind":"SCALAR","name":"Boolean","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"type","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"DataProviderResult","description":"","fields":[{"name":"id","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"enabled","description":"","args":[],"type":{"kind":"SCALAR","name":"Boolean","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"excluded","description":"","args":[],"type":{"kind":"SCALAR","name":"Boolean","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"kqlQuery","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"queryMatch","description":"","args":[],"type":{"kind":"OBJECT","name":"QueryMatchResult","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"and","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"DataProviderResult","ofType":null}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"QueryMatchResult","description":"","fields":[{"name":"field","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"displayField","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"value","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"displayValue","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"operator","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"DateRangePickerResult","description":"","fields":[{"name":"start","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"end","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"FavoriteTimelineResult","description":"","fields":[{"name":"fullName","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"userName","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"favoriteDate","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"FilterTimelineResult","description":"","fields":[{"name":"exists","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"meta","description":"","args":[],"type":{"kind":"OBJECT","name":"FilterMetaTimelineResult","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"match_all","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"missing","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"query","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"range","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"script","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"FilterMetaTimelineResult","description":"","fields":[{"name":"alias","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"controlledBy","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"disabled","description":"","args":[],"type":{"kind":"SCALAR","name":"Boolean","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"field","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"formattedValue","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"index","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"key","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"negate","description":"","args":[],"type":{"kind":"SCALAR","name":"Boolean","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"params","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"type","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"value","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"SerializedFilterQueryResult","description":"","fields":[{"name":"filterQuery","description":"","args":[],"type":{"kind":"OBJECT","name":"SerializedKueryQueryResult","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"SerializedKueryQueryResult","description":"","fields":[{"name":"kuery","description":"","args":[],"type":{"kind":"OBJECT","name":"KueryFilterQueryResult","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"serializedQuery","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"KueryFilterQueryResult","description":"","fields":[{"name":"kind","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"expression","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"SortTimelineResult","description":"","fields":[{"name":"columnId","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"sortDirection","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"PageInfoTimeline","description":"","fields":null,"inputFields":[{"name":"pageIndex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"defaultValue":null},{"name":"pageSize","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"SortTimeline","description":"","fields":null,"inputFields":[{"name":"sortField","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"SortFieldTimeline","ofType":null}},"defaultValue":null},{"name":"sortOrder","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"Direction","ofType":null}},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"ENUM","name":"SortFieldTimeline","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"title","description":"","isDeprecated":false,"deprecationReason":null},{"name":"description","description":"","isDeprecated":false,"deprecationReason":null},{"name":"updated","description":"","isDeprecated":false,"deprecationReason":null},{"name":"created","description":"","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"OBJECT","name":"ResponseTimelines","description":"","fields":[{"name":"timeline","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"OBJECT","name":"TimelineResult","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"Mutation","description":"","fields":[{"name":"persistNote","description":"Persists a note","args":[{"name":"noteId","description":"","type":{"kind":"SCALAR","name":"ID","ofType":null},"defaultValue":null},{"name":"version","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"note","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"NoteInput","ofType":null}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"ResponseNote","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"deleteNote","description":"","args":[{"name":"id","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}}}},"defaultValue":null}],"type":{"kind":"SCALAR","name":"Boolean","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"deleteNoteByTimelineId","description":"","args":[{"name":"timelineId","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null},{"name":"version","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"type":{"kind":"SCALAR","name":"Boolean","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"persistPinnedEventOnTimeline","description":"Persists a pinned event in a timeline","args":[{"name":"pinnedEventId","description":"","type":{"kind":"SCALAR","name":"ID","ofType":null},"defaultValue":null},{"name":"eventId","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null},{"name":"timelineId","description":"","type":{"kind":"SCALAR","name":"ID","ofType":null},"defaultValue":null}],"type":{"kind":"OBJECT","name":"PinnedEvent","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"deletePinnedEventOnTimeline","description":"Remove a pinned events in a timeline","args":[{"name":"id","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"deleteAllPinnedEventsOnTimeline","description":"Remove all pinned events in a timeline","args":[{"name":"timelineId","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"persistTimeline","description":"Persists a timeline","args":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"ID","ofType":null},"defaultValue":null},{"name":"version","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"timeline","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"TimelineInput","ofType":null}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"ResponseTimeline","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"persistFavorite","description":"","args":[{"name":"timelineId","description":"","type":{"kind":"SCALAR","name":"ID","ofType":null},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"ResponseFavoriteTimeline","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"deleteTimeline","description":"","args":[{"name":"id","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}}}},"defaultValue":null}],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"NoteInput","description":"","fields":null,"inputFields":[{"name":"eventId","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"note","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"timelineId","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"ResponseNote","description":"","fields":[{"name":"code","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"message","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"note","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"NoteResult","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"TimelineInput","description":"","fields":null,"inputFields":[{"name":"columns","description":"","type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"ColumnHeaderInput","ofType":null}}},"defaultValue":null},{"name":"dataProviders","description":"","type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"DataProviderInput","ofType":null}}},"defaultValue":null},{"name":"description","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"eventType","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"filters","description":"","type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"FilterTimelineInput","ofType":null}}},"defaultValue":null},{"name":"kqlMode","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"kqlQuery","description":"","type":{"kind":"INPUT_OBJECT","name":"SerializedFilterQueryInput","ofType":null},"defaultValue":null},{"name":"title","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"dateRange","description":"","type":{"kind":"INPUT_OBJECT","name":"DateRangePickerInput","ofType":null},"defaultValue":null},{"name":"savedQueryId","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"sort","description":"","type":{"kind":"INPUT_OBJECT","name":"SortTimelineInput","ofType":null},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"ColumnHeaderInput","description":"","fields":null,"inputFields":[{"name":"aggregatable","description":"","type":{"kind":"SCALAR","name":"Boolean","ofType":null},"defaultValue":null},{"name":"category","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"columnHeaderType","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"description","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"example","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"indexes","description":"","type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}}},"defaultValue":null},{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"name","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"placeholder","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"searchable","description":"","type":{"kind":"SCALAR","name":"Boolean","ofType":null},"defaultValue":null},{"name":"type","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"DataProviderInput","description":"","fields":null,"inputFields":[{"name":"id","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"name","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"enabled","description":"","type":{"kind":"SCALAR","name":"Boolean","ofType":null},"defaultValue":null},{"name":"excluded","description":"","type":{"kind":"SCALAR","name":"Boolean","ofType":null},"defaultValue":null},{"name":"kqlQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"queryMatch","description":"","type":{"kind":"INPUT_OBJECT","name":"QueryMatchInput","ofType":null},"defaultValue":null},{"name":"and","description":"","type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"DataProviderInput","ofType":null}}},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"QueryMatchInput","description":"","fields":null,"inputFields":[{"name":"field","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"displayField","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"value","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"displayValue","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"operator","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"FilterTimelineInput","description":"","fields":null,"inputFields":[{"name":"exists","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"meta","description":"","type":{"kind":"INPUT_OBJECT","name":"FilterMetaTimelineInput","ofType":null},"defaultValue":null},{"name":"match_all","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"missing","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"query","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"range","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"script","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"FilterMetaTimelineInput","description":"","fields":null,"inputFields":[{"name":"alias","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"controlledBy","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"disabled","description":"","type":{"kind":"SCALAR","name":"Boolean","ofType":null},"defaultValue":null},{"name":"field","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"formattedValue","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"index","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"key","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"negate","description":"","type":{"kind":"SCALAR","name":"Boolean","ofType":null},"defaultValue":null},{"name":"params","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"type","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"value","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"SerializedFilterQueryInput","description":"","fields":null,"inputFields":[{"name":"filterQuery","description":"","type":{"kind":"INPUT_OBJECT","name":"SerializedKueryQueryInput","ofType":null},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"SerializedKueryQueryInput","description":"","fields":null,"inputFields":[{"name":"kuery","description":"","type":{"kind":"INPUT_OBJECT","name":"KueryFilterQueryInput","ofType":null},"defaultValue":null},{"name":"serializedQuery","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"KueryFilterQueryInput","description":"","fields":null,"inputFields":[{"name":"kind","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"expression","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"DateRangePickerInput","description":"","fields":null,"inputFields":[{"name":"start","description":"","type":{"kind":"SCALAR","name":"Float","ofType":null},"defaultValue":null},{"name":"end","description":"","type":{"kind":"SCALAR","name":"Float","ofType":null},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"SortTimelineInput","description":"","fields":null,"inputFields":[{"name":"columnId","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"sortDirection","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"ResponseTimeline","description":"","fields":[{"name":"code","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"message","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"timeline","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"TimelineResult","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"ResponseFavoriteTimeline","description":"","fields":[{"name":"code","description":"","args":[],"type":{"kind":"SCALAR","name":"Float","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"message","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"savedObjectId","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"version","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"favorite","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"FavoriteTimelineResult","ofType":null}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"__Schema","description":"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.","fields":[{"name":"types","description":"A list of all types supported by this server.","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"__Type","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"queryType","description":"The type that query operations will be rooted at.","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"__Type","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"mutationType","description":"If this server supports mutation, the type that mutation operations will be rooted at.","args":[],"type":{"kind":"OBJECT","name":"__Type","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"subscriptionType","description":"If this server support subscription, the type that subscription operations will be rooted at.","args":[],"type":{"kind":"OBJECT","name":"__Type","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"directives","description":"A list of all directives supported by this server.","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"__Directive","ofType":null}}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"__Type","description":"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\\n\\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name and description, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.","fields":[{"name":"kind","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"__TypeKind","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":null,"args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"description","description":null,"args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"fields","description":null,"args":[{"name":"includeDeprecated","description":null,"type":{"kind":"SCALAR","name":"Boolean","ofType":null},"defaultValue":"false"}],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"__Field","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"interfaces","description":null,"args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"__Type","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"possibleTypes","description":null,"args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"__Type","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"enumValues","description":null,"args":[{"name":"includeDeprecated","description":null,"type":{"kind":"SCALAR","name":"Boolean","ofType":null},"defaultValue":"false"}],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"__EnumValue","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"inputFields","description":null,"args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"__InputValue","ofType":null}}},"isDeprecated":false,"deprecationReason":null},{"name":"ofType","description":null,"args":[],"type":{"kind":"OBJECT","name":"__Type","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"ENUM","name":"__TypeKind","description":"An enum describing what kind of type a given `__Type` is.","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"SCALAR","description":"Indicates this type is a scalar.","isDeprecated":false,"deprecationReason":null},{"name":"OBJECT","description":"Indicates this type is an object. `fields` and `interfaces` are valid fields.","isDeprecated":false,"deprecationReason":null},{"name":"INTERFACE","description":"Indicates this type is an interface. `fields` and `possibleTypes` are valid fields.","isDeprecated":false,"deprecationReason":null},{"name":"UNION","description":"Indicates this type is a union. `possibleTypes` is a valid field.","isDeprecated":false,"deprecationReason":null},{"name":"ENUM","description":"Indicates this type is an enum. `enumValues` is a valid field.","isDeprecated":false,"deprecationReason":null},{"name":"INPUT_OBJECT","description":"Indicates this type is an input object. `inputFields` is a valid field.","isDeprecated":false,"deprecationReason":null},{"name":"LIST","description":"Indicates this type is a list. `ofType` is a valid field.","isDeprecated":false,"deprecationReason":null},{"name":"NON_NULL","description":"Indicates this type is a non-null. `ofType` is a valid field.","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"OBJECT","name":"__Field","description":"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.","fields":[{"name":"name","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"description","description":null,"args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"args","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"__InputValue","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"type","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"__Type","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"isDeprecated","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"deprecationReason","description":null,"args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"__InputValue","description":"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.","fields":[{"name":"name","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"description","description":null,"args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"type","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"__Type","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"defaultValue","description":"A GraphQL-formatted string representing the default value for this input value.","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"__EnumValue","description":"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.","fields":[{"name":"name","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"description","description":null,"args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"isDeprecated","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"deprecationReason","description":null,"args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"__Directive","description":"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\\n\\nIn some cases, you need to provide options to alter GraphQL\'s execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.","fields":[{"name":"name","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"description","description":null,"args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"locations","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"ENUM","name":"__DirectiveLocation","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"args","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"__InputValue","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"onOperation","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"isDeprecated":true,"deprecationReason":"Use `locations`."},{"name":"onFragment","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"isDeprecated":true,"deprecationReason":"Use `locations`."},{"name":"onField","description":null,"args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"isDeprecated":true,"deprecationReason":"Use `locations`."}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"ENUM","name":"__DirectiveLocation","description":"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"QUERY","description":"Location adjacent to a query operation.","isDeprecated":false,"deprecationReason":null},{"name":"MUTATION","description":"Location adjacent to a mutation operation.","isDeprecated":false,"deprecationReason":null},{"name":"SUBSCRIPTION","description":"Location adjacent to a subscription operation.","isDeprecated":false,"deprecationReason":null},{"name":"FIELD","description":"Location adjacent to a field.","isDeprecated":false,"deprecationReason":null},{"name":"FRAGMENT_DEFINITION","description":"Location adjacent to a fragment definition.","isDeprecated":false,"deprecationReason":null},{"name":"FRAGMENT_SPREAD","description":"Location adjacent to a fragment spread.","isDeprecated":false,"deprecationReason":null},{"name":"INLINE_FRAGMENT","description":"Location adjacent to an inline fragment.","isDeprecated":false,"deprecationReason":null},{"name":"SCHEMA","description":"Location adjacent to a schema definition.","isDeprecated":false,"deprecationReason":null},{"name":"SCALAR","description":"Location adjacent to a scalar definition.","isDeprecated":false,"deprecationReason":null},{"name":"OBJECT","description":"Location adjacent to an object type definition.","isDeprecated":false,"deprecationReason":null},{"name":"FIELD_DEFINITION","description":"Location adjacent to a field definition.","isDeprecated":false,"deprecationReason":null},{"name":"ARGUMENT_DEFINITION","description":"Location adjacent to an argument definition.","isDeprecated":false,"deprecationReason":null},{"name":"INTERFACE","description":"Location adjacent to an interface definition.","isDeprecated":false,"deprecationReason":null},{"name":"UNION","description":"Location adjacent to a union definition.","isDeprecated":false,"deprecationReason":null},{"name":"ENUM","description":"Location adjacent to an enum definition.","isDeprecated":false,"deprecationReason":null},{"name":"ENUM_VALUE","description":"Location adjacent to an enum value definition.","isDeprecated":false,"deprecationReason":null},{"name":"INPUT_OBJECT","description":"Location adjacent to an input object type definition.","isDeprecated":false,"deprecationReason":null},{"name":"INPUT_FIELD_DEFINITION","description":"Location adjacent to an input object field definition.","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"OBJECT","name":"EcsEdges","description":"","fields":[{"name":"node","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"ECS","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"cursor","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"CursorType","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"EventsTimelineData","description":"","fields":[{"name":"edges","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"EcsEdges","ofType":null}}}},"isDeprecated":false,"deprecationReason":null},{"name":"totalCount","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Float","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"pageInfo","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"PageInfo","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"inspect","description":"","args":[],"type":{"kind":"OBJECT","name":"Inspect","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"OsFields","description":"","fields":[{"name":"platform","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"full","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"family","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"version","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"kernel","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"OBJECT","name":"HostFields","description":"","fields":[{"name":"architecture","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"id","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"ip","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"mac","description":"","args":[],"type":{"kind":"LIST","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"os","description":"","args":[],"type":{"kind":"OBJECT","name":"OsFields","ofType":null},"isDeprecated":false,"deprecationReason":null},{"name":"type","description":"","args":[],"type":{"kind":"SCALAR","name":"String","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":null,"interfaces":[],"enumValues":null,"possibleTypes":null},{"kind":"ENUM","name":"NetworkDirectionEcs","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"inbound","description":"","isDeprecated":false,"deprecationReason":null},{"name":"outbound","description":"","isDeprecated":false,"deprecationReason":null},{"name":"internal","description":"","isDeprecated":false,"deprecationReason":null},{"name":"external","description":"","isDeprecated":false,"deprecationReason":null},{"name":"incoming","description":"","isDeprecated":false,"deprecationReason":null},{"name":"outgoing","description":"","isDeprecated":false,"deprecationReason":null},{"name":"listening","description":"","isDeprecated":false,"deprecationReason":null},{"name":"unknown","description":"","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"ENUM","name":"NetworkHttpFields","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"domains","description":"","isDeprecated":false,"deprecationReason":null},{"name":"lastHost","description":"","isDeprecated":false,"deprecationReason":null},{"name":"lastSourceIp","description":"","isDeprecated":false,"deprecationReason":null},{"name":"methods","description":"","isDeprecated":false,"deprecationReason":null},{"name":"path","description":"","isDeprecated":false,"deprecationReason":null},{"name":"requestCount","description":"","isDeprecated":false,"deprecationReason":null},{"name":"statuses","description":"","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"ENUM","name":"FlowDirection","description":"","fields":null,"inputFields":null,"interfaces":null,"enumValues":[{"name":"uniDirectional","description":"","isDeprecated":false,"deprecationReason":null},{"name":"biDirectional","description":"","isDeprecated":false,"deprecationReason":null}],"possibleTypes":null},{"kind":"INPUT_OBJECT","name":"FavoriteTimelineInput","description":"","fields":null,"inputFields":[{"name":"fullName","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"userName","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":null},{"name":"favoriteDate","description":"","type":{"kind":"SCALAR","name":"Float","ofType":null},"defaultValue":null}],"interfaces":null,"enumValues":null,"possibleTypes":null}],"directives":[{"name":"skip","description":"Directs the executor to skip this field or fragment when the `if` argument is true.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"Skipped when true.","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]},{"name":"include","description":"Directs the executor to include this field or fragment only when the `if` argument is true.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"Included when true.","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]},{"name":"deprecated","description":"Marks an element of a GraphQL schema as no longer supported.","locations":["FIELD_DEFINITION","ENUM_VALUE"],"args":[{"name":"reason","description":"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted in [Markdown](https://daringfireball.net/projects/markdown/).","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":"\\"No longer supported\\""}]}]}}')},8453:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLinks=void 0;var _apolloLinkHttp=__webpack_require__(1263);var _apolloLinkState=__webpack_require__(2296);var _chrome=_interopRequireDefault(__webpack_require__(8));var _errors=__webpack_require__(8454);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getLinks=function getLinks(cache){return[_errors.errorLink,_errors.reTryOneTimeOnErrorLink,(0,_apolloLinkState.withClientState)({cache:cache,resolvers:{}}),new _apolloLinkHttp.HttpLink({credentials:"same-origin",headers:{"kbn-xsrf":"true"},uri:"".concat(_chrome.default.getBasePath(),"/api/siem/graphql")})]};exports.getLinks=getLinks},8454:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.reTryOneTimeOnErrorLink=exports.reTryOneTimeOnErrorHandler=exports.errorLink=exports.errorLinkHandler=void 0;var _apolloLinkError=__webpack_require__(9255);var _fp=__webpack_require__(223);var _uuid=_interopRequireDefault(__webpack_require__(86));var i18n=_interopRequireWildcard(__webpack_require__(8456));var _store=__webpack_require__(7016);var _actions=__webpack_require__(1882);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var errorLinkHandler=function errorLinkHandler(_ref){var graphQLErrors=_ref.graphQLErrors,networkError=_ref.networkError;var store=(0,_store.getStore)();var dispatch=(0,_fp.throttle)(50,store!=null?store.dispatch:_fp.noop);if(graphQLErrors!=null&&store!=null){dispatch(_actions.appActions.addError({id:_uuid.default.v4(),title:i18n.DATA_FETCH_FAILURE,message:graphQLErrors.map((function(_ref2){var message=_ref2.message;return message}))}))}if(networkError!=null&&store!=null){dispatch(_actions.appActions.addError({id:_uuid.default.v4(),title:i18n.NETWORK_FAILURE,message:[networkError.message]}))}};exports.errorLinkHandler=errorLinkHandler;var errorLink=(0,_apolloLinkError.onError)(errorLinkHandler);exports.errorLink=errorLink;var reTryOneTimeOnErrorHandler=function reTryOneTimeOnErrorHandler(_ref3){var networkError=_ref3.networkError,operation=_ref3.operation,forward=_ref3.forward;if(networkError!=null){var statusCode=(0,_fp.get)("statusCode",networkError);if(statusCode!=null&&statusCode===503){return forward(operation)}}};exports.reTryOneTimeOnErrorHandler=reTryOneTimeOnErrorHandler;var reTryOneTimeOnErrorLink=(0,_apolloLinkError.onError)(reTryOneTimeOnErrorHandler);exports.reTryOneTimeOnErrorLink=reTryOneTimeOnErrorLink},8456:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NETWORK_FAILURE=exports.DATA_FETCH_FAILURE=void 0;var _i18n=__webpack_require__(2);var DATA_FETCH_FAILURE=_i18n.i18n.translate("xpack.siem.containers.errors.dataFetchFailureTitle",{defaultMessage:"Data Fetch Failure"});exports.DATA_FETCH_FAILURE=DATA_FETCH_FAILURE;var NETWORK_FAILURE=_i18n.i18n.translate("xpack.siem.containers.errors.networkFailureTitle",{defaultMessage:"Network Failure"});exports.NETWORK_FAILURE=NETWORK_FAILURE},8457:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PageRouter=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _=__webpack_require__(7508);var _home=__webpack_require__(8458);var _manage_spy_routes=__webpack_require__(9063);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var PageRouterComponent=function PageRouterComponent(_ref){var history=_ref.history;return _react.default.createElement(_manage_spy_routes.ManageRoutesSpy,null,_react.default.createElement(_reactRouterDom.Router,{history:history},_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:"/",render:function render(){return _react.default.createElement(_home.HomePage,null)}}),_react.default.createElement(_reactRouterDom.Route,{render:function render(){return _react.default.createElement(_.NotFoundPage,null)}}))))};var PageRouter=(0,_react.memo)(PageRouterComponent);exports.PageRouter=PageRouter},8458:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HomePage=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _auto_sizer=__webpack_require__(7144);var _drag_drop_context_wrapper=__webpack_require__(8580);var _flyout=__webpack_require__(8627);var _header_global=__webpack_require__(8674);var _help_menu=__webpack_require__(8754);var _link_to=__webpack_require__(7090);var _ml_host_conditional_container=__webpack_require__(8755);var _ml_network_conditional_container=__webpack_require__(8758);var _timeline=__webpack_require__(8759);var _auto_save_warning=__webpack_require__(8882);var _url_state=__webpack_require__(8884);var _source=__webpack_require__(7042);var _spy_routes=__webpack_require__(7057);var _=__webpack_require__(7508);var _detection_engine=__webpack_require__(8888);var _hosts=__webpack_require__(8953);var _network=__webpack_require__(9002);var _overview=__webpack_require__(9033);var _timelines=__webpack_require__(9060);var _home_navigations=__webpack_require__(7579);var _types=__webpack_require__(7030);__webpack_require__(413);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var WrappedByAutoSizer=_styledComponents.default.div.withConfig({displayName:"WrappedByAutoSizer",componentId:"b8skib-0"})(["height:100%;"]);WrappedByAutoSizer.displayName="WrappedByAutoSizer";var usersViewing=["elastic"];var globalHeaderHeightPx=48;var calculateFlyoutHeight=function calculateFlyoutHeight(_ref){var globalHeaderSize=_ref.globalHeaderSize,windowHeight=_ref.windowHeight;return Math.max(0,windowHeight-globalHeaderSize)};var HomePage=function HomePage(){return _react.default.createElement(_auto_sizer.AutoSizer,{detectAnyWindowResize:true,content:true},(function(_ref2){var measureRef=_ref2.measureRef,_ref2$windowMeasureme=_ref2.windowMeasurement.height,windowHeight=_ref2$windowMeasureme===void 0?0:_ref2$windowMeasureme;return _react.default.createElement(WrappedByAutoSizer,{"data-test-subj":"wrapped-by-auto-sizer",ref:measureRef},_react.default.createElement(_header_global.HeaderGlobal,null),_react.default.createElement("main",{"data-test-subj":"pageContainer"},_react.default.createElement(_source.WithSource,{sourceId:"default"},(function(_ref3){var browserFields=_ref3.browserFields,indexPattern=_ref3.indexPattern,indicesExist=_ref3.indicesExist;return _react.default.createElement(_drag_drop_context_wrapper.DragDropContextWrapper,{browserFields:browserFields},_react.default.createElement(_url_state.UseUrlState,{indexPattern:indexPattern,navTabs:_home_navigations.navTabs}),(0,_source.indicesExistOrDataTemporarilyUnavailable)(indicesExist)&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_auto_save_warning.AutoSaveWarningMsg,null),_react.default.createElement(_flyout.Flyout,{flyoutHeight:calculateFlyoutHeight({globalHeaderSize:globalHeaderHeightPx,windowHeight:windowHeight}),headerHeight:_flyout.flyoutHeaderHeight,timelineId:"timeline-1",usersViewing:usersViewing},_react.default.createElement(_timeline.StatefulTimeline,{flyoutHeaderHeight:_flyout.flyoutHeaderHeight,flyoutHeight:calculateFlyoutHeight({globalHeaderSize:globalHeaderHeightPx,windowHeight:windowHeight}),id:"timeline-1"}))),_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Redirect,{exact:true,from:"/",to:"/".concat(_types.SiemPageName.overview)}),_react.default.createElement(_reactRouterDom.Route,{path:"/:pageName(".concat(_types.SiemPageName.overview,")"),render:function render(){return _react.default.createElement(_overview.Overview,null)}}),_react.default.createElement(_reactRouterDom.Route,{path:"/:pageName(".concat(_types.SiemPageName.hosts,")"),render:function render(_ref4){var location=_ref4.location,match=_ref4.match;return _react.default.createElement(_hosts.HostsContainer,{location:location,url:match.url})}}),_react.default.createElement(_reactRouterDom.Route,{path:"/:pageName(".concat(_types.SiemPageName.network,")"),render:function render(_ref5){var location=_ref5.location,match=_ref5.match;return _react.default.createElement(_network.NetworkContainer,{location:location,url:match.url})}}),_react.default.createElement(_reactRouterDom.Route,{path:"/:pageName(".concat(_types.SiemPageName.detections,")"),render:function render(_ref6){var location=_ref6.location,match=_ref6.match;return _react.default.createElement(_detection_engine.DetectionEngineContainer,{location:location,url:match.url})}}),_react.default.createElement(_reactRouterDom.Route,{path:"/:pageName(".concat(_types.SiemPageName.timelines,")"),render:function render(){return _react.default.createElement(_timelines.Timelines,null)}}),_react.default.createElement(_reactRouterDom.Route,{path:"/link-to",render:function render(props){return _react.default.createElement(_link_to.LinkToPage,props)}}),_react.default.createElement(_reactRouterDom.Route,{path:"/ml-hosts",render:function render(_ref7){var location=_ref7.location,match=_ref7.match;return _react.default.createElement(_ml_host_conditional_container.MlHostConditionalContainer,{location:location,url:match.url})}}),_react.default.createElement(_reactRouterDom.Route,{path:"/ml-network",render:function render(_ref8){var location=_ref8.location,match=_ref8.match;return _react.default.createElement(_ml_network_conditional_container.MlNetworkConditionalContainer,{location:location,url:match.url})}}),_react.default.createElement(_reactRouterDom.Route,{render:function render(){return _react.default.createElement(_.NotFoundPage,null)}})))}))),_react.default.createElement(_help_menu.HelpMenu,null),_react.default.createElement(_spy_routes.SpyRoute,null))}))};exports.HomePage=HomePage;HomePage.displayName="HomePage"},8580:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DragDropContextWrapper=exports.DragDropContextWrapperComponent=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactBeautifulDnd=__webpack_require__(7089);var _reactRedux=__webpack_require__(7014);var _store=__webpack_require__(7016);var _helpers=__webpack_require__(7021);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var onDragEndHandler=function onDragEndHandler(_ref){var browserFields=_ref.browserFields,dataProviders=_ref.dataProviders,dispatch=_ref.dispatch,result=_ref.result;if((0,_helpers.providerWasDroppedOnTimeline)(result)){(0,_helpers.addProviderToTimeline)({dataProviders:dataProviders,result:result,dispatch:dispatch})}else if((0,_helpers.providerWasDroppedOnTimelineButton)(result)){(0,_helpers.addProviderToTimeline)({dataProviders:dataProviders,result:result,dispatch:dispatch})}else if((0,_helpers.fieldWasDroppedOnTimelineColumns)(result)){(0,_helpers.addFieldToTimelineColumns)({browserFields:browserFields,dispatch:dispatch,result:result})}};var DragDropContextWrapperComponent=_react.default.memo((function(_ref2){var browserFields=_ref2.browserFields,children=_ref2.children,dataProviders=_ref2.dataProviders,dispatch=_ref2.dispatch;var onDragEnd=(0,_react.useCallback)((function(result){enableScrolling();if(dataProviders!=null){onDragEndHandler({browserFields:browserFields,result:result,dataProviders:dataProviders,dispatch:dispatch})}if(!(0,_helpers.draggableIsField)(result)){document.body.classList.remove(_helpers.IS_DRAGGING_CLASS_NAME)}if((0,_helpers.draggableIsField)(result)){document.body.classList.remove(_helpers.IS_TIMELINE_FIELD_DRAGGING_CLASS_NAME)}}),[browserFields,dataProviders]);return(_react.default.createElement(_reactBeautifulDnd.DragDropContext,{onDragEnd:onDragEnd,onBeforeCapture:onBeforeCapture},children))}),(function(prevProps,nextProps){return prevProps.children===nextProps.children&&prevProps.dataProviders===nextProps.dataProviders}));exports.DragDropContextWrapperComponent=DragDropContextWrapperComponent;DragDropContextWrapperComponent.displayName="DragDropContextWrapperComponent";var emptyDataProviders={};var mapStateToProps=function mapStateToProps(state){var dataProviders=(0,_fp.defaultTo)(emptyDataProviders,_store.dragAndDropSelectors.dataProvidersSelector(state));return{dataProviders:dataProviders}};var DragDropContextWrapper=(0,_reactRedux.connect)(mapStateToProps)(DragDropContextWrapperComponent);exports.DragDropContextWrapper=DragDropContextWrapper;DragDropContextWrapper.displayName="DragDropContextWrapper";var onBeforeCapture=function onBeforeCapture(before){var x=window.pageXOffset!==undefined?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft;var y=window.pageYOffset!==undefined?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;window.onscroll=function(){return window.scrollTo(x,y)};if(!(0,_helpers.draggableIsField)(before)){document.body.classList.add(_helpers.IS_DRAGGING_CLASS_NAME)}if((0,_helpers.draggableIsField)(before)){document.body.classList.add(_helpers.IS_TIMELINE_FIELD_DRAGGING_CLASS_NAME)}};var enableScrolling=function enableScrolling(){return window.onscroll=function(){return _fp.noop}}},8581:function(module,exports,__webpack_require__){module.exports=__webpack_require__(26)(574)},8626:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sourceQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(['\n  query SourceQuery($sourceId: ID = "default", $defaultIndex: [String!]!) {\n    source(id: $sourceId) {\n      id\n      status {\n        indicesExist(defaultIndex: $defaultIndex)\n        indexFields(defaultIndex: $defaultIndex) {\n          category\n          description\n          example\n          indexes\n          name\n          searchable\n          type\n          aggregatable\n          format\n        }\n      }\n    }\n  }\n']);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var sourceQuery=(0,_graphqlTag.default)(_templateObject());exports.sourceQuery=sourceQuery},8627:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Flyout=exports.FlyoutComponent=exports.Badge=exports.flyoutHeaderHeight=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _store=__webpack_require__(7016);var _button=__webpack_require__(8628);var _pane=__webpack_require__(8630);var _actions=__webpack_require__(1882);var _constants=__webpack_require__(7047);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var flyoutHeaderHeight=60;exports.flyoutHeaderHeight=flyoutHeaderHeight;var Badge=(0,_styledComponents.default)(_eui.EuiBadge).withConfig({displayName:"Badge",componentId:"egiy76-0"})(["position:absolute;padding-left:4px;padding-right:4px;right:0%;top:0%;border-bottom-left-radius:5px;"]);exports.Badge=Badge;Badge.displayName="Badge";var Visible=_styledComponents.default.div.withConfig({displayName:"Visible",componentId:"egiy76-1"})(["visibility:",";"],(function(_ref){var show=_ref.show;return show?"visible":"hidden"}));Visible.displayName="Visible";var FlyoutComponent=_react.default.memo((function(_ref2){var children=_ref2.children,dataProviders=_ref2.dataProviders,flyoutHeight=_ref2.flyoutHeight,headerHeight=_ref2.headerHeight,show=_ref2.show,showTimeline=_ref2.showTimeline,timelineId=_ref2.timelineId,usersViewing=_ref2.usersViewing,width=_ref2.width;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(Visible,{show:show},_react.default.createElement(_pane.Pane,{flyoutHeight:flyoutHeight,headerHeight:headerHeight,onClose:function onClose(){return showTimeline({id:timelineId,show:false})},timelineId:timelineId,usersViewing:usersViewing,width:width},children)),_react.default.createElement(_button.FlyoutButton,{dataProviders:dataProviders,show:!show,timelineId:timelineId,onOpen:function onOpen(){return showTimeline({id:timelineId,show:true})}}))}));exports.FlyoutComponent=FlyoutComponent;FlyoutComponent.displayName="FlyoutComponent";var mapStateToProps=function mapStateToProps(state,_ref3){var timelineId=_ref3.timelineId;var timelineById=(0,_fp.defaultTo)({},_store.timelineSelectors.timelineByIdSelector(state));var dataProviders=(0,_fp.getOr)([],"".concat(timelineId,".dataProviders"),timelineById);var show=(0,_fp.getOr)("false","".concat(timelineId,".show"),timelineById);var width=(0,_fp.getOr)(_constants.DEFAULT_TIMELINE_WIDTH,"".concat(timelineId,".width"),timelineById);return{dataProviders:dataProviders,show:show,width:width}};var Flyout=(0,_reactRedux.connect)(mapStateToProps,{showTimeline:_actions.timelineActions.showTimeline})(FlyoutComponent);exports.Flyout=Flyout;Flyout.displayName="Flyout"},8628:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FlyoutButton=exports.READY_TO_DROP_CLASS_NAME=exports.NOT_READY_TO_DROP_CLASS_NAME=void 0;var _eui=__webpack_require__(1);var _polished=__webpack_require__(91);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _droppable_wrapper=__webpack_require__(7198);var _helpers=__webpack_require__(7021);var i18n=_interopRequireWildcard(__webpack_require__(8629));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NOT_READY_TO_DROP_CLASS_NAME="not-ready-to-drop";exports.NOT_READY_TO_DROP_CLASS_NAME=NOT_READY_TO_DROP_CLASS_NAME;var READY_TO_DROP_CLASS_NAME="ready-to-drop";exports.READY_TO_DROP_CLASS_NAME=READY_TO_DROP_CLASS_NAME;var Container=_styledComponents.default.div.withConfig({displayName:"Container",componentId:"sc-6z02we-0"})(["overflow-x:auto;overflow-y:hidden;padding-top:8px;position:fixed;top:40%;right:-51px;z-index:",";transform:rotate(-90deg);user-select:none;button{border-radius:4px 4px 0 0;box-shadow:none;height:46px;margin:1px 0 1px 1px;width:136px;}.euiButton:hover:not(:disabled){transform:none;}.euiButton--primary:enabled{background:",";box-shadow:none;}.euiButton--primary:enabled:hover,.euiButton--primary:enabled:focus{animation:none;background:",";box-shadow:none;}."," & .","{color:",";background:"," !important;border:1px solid ",";border-bottom:none;text-decoration:none;}.","{color:",";background:"," !important;border:1px solid ",";border-bottom:none;text-decoration:none;}"],(function(_ref){var theme=_ref.theme;return theme.eui.euiZLevel9}),(function(_ref2){var theme=_ref2.theme;return theme.eui.euiColorEmptyShade}),(function(_ref3){var theme=_ref3.theme;return theme.eui.euiColorEmptyShade}),_helpers.IS_DRAGGING_CLASS_NAME,NOT_READY_TO_DROP_CLASS_NAME,(function(_ref4){var theme=_ref4.theme;return theme.eui.euiColorSuccess}),(function(_ref5){var theme=_ref5.theme;return(0,_polished.rgba)(theme.eui.euiColorSuccess,.1)}),(function(_ref6){var theme=_ref6.theme;return theme.eui.euiColorSuccess}),READY_TO_DROP_CLASS_NAME,(function(_ref7){var theme=_ref7.theme;return theme.eui.euiColorSuccess}),(function(_ref8){var theme=_ref8.theme;return(0,_polished.rgba)(theme.eui.euiColorSuccess,.2)}),(function(_ref9){var theme=_ref9.theme;return theme.eui.euiColorSuccess}));Container.displayName="Container";var BadgeButtonContainer=_styledComponents.default.div.withConfig({displayName:"BadgeButtonContainer",componentId:"sc-6z02we-1"})(["align-items:flex-start;display:flex;flex-direction:row;"]);BadgeButtonContainer.displayName="BadgeButtonContainer";var FlyoutButton=_react.default.memo((function(_ref10){var onOpen=_ref10.onOpen,show=_ref10.show,dataProviders=_ref10.dataProviders,timelineId=_ref10.timelineId;return show?_react.default.createElement(Container,{onClick:onOpen},_react.default.createElement(_droppable_wrapper.DroppableWrapper,{"data-test-subj":"flyout-droppable-wrapper",droppableId:"".concat(_helpers.droppableTimelineFlyoutButtonPrefix).concat(timelineId),render:function render(_ref11){var isDraggingOver=_ref11.isDraggingOver;return _react.default.createElement(BadgeButtonContainer,{className:"flyout-overlay","data-test-subj":"flyoutOverlay",onClick:onOpen},!isDraggingOver?_react.default.createElement(_eui.EuiButton,{className:NOT_READY_TO_DROP_CLASS_NAME,"data-test-subj":"flyout-button-not-ready-to-drop",fill:false,iconSide:"right",iconType:"arrowUp"},i18n.FLYOUT_BUTTON):_react.default.createElement(_eui.EuiButton,{className:READY_TO_DROP_CLASS_NAME,"data-test-subj":"flyout-button-ready-to-drop",fill:false},_react.default.createElement(_eui.EuiIcon,{"data-test-subj":"flyout-button-plus-icon",type:"plusInCircleFilled"})),_react.default.createElement(_eui.EuiNotificationBadge,{color:"accent","data-test-subj":"badge",style:{left:"-9px",position:"relative",top:"-6px",transform:"rotate(90deg)",visibility:dataProviders.length!==0?"inherit":"hidden",zIndex:10}},dataProviders.length))}})):null}),(function(prevProps,nextProps){return prevProps.show===nextProps.show&&prevProps.dataProviders===nextProps.dataProviders&&prevProps.timelineId===nextProps.timelineId}));exports.FlyoutButton=FlyoutButton;FlyoutButton.displayName="FlyoutButton"},8629:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FLYOUT_BUTTON=exports.TIMELINE=void 0;var _i18n=__webpack_require__(2);var TIMELINE=_i18n.i18n.translate("xpack.siem.flyout.button.timeline",{defaultMessage:"timeline"});exports.TIMELINE=TIMELINE;var FLYOUT_BUTTON=_i18n.i18n.translate("xpack.siem.flyout.button.text",{defaultMessage:"Timeline"});exports.FLYOUT_BUTTON=FLYOUT_BUTTON},8630:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Pane=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _reResizable=__webpack_require__(9245);var _fp=__webpack_require__(223);var _timeline_resize_handle=__webpack_require__(8631);var _header=__webpack_require__(8632);var i18n=_interopRequireWildcard(__webpack_require__(8673));var _actions=__webpack_require__(1882);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var minWidthPixels=550;var maxWidthPercent=95;var EuiFlyoutContainer=_styledComponents.default.div.withConfig({displayName:"EuiFlyoutContainer",componentId:"tp3pa6-0"})([".timeline-flyout{min-width:150px;width:auto;}.timeline-flyout-header{align-items:center;box-shadow:none;display:flex;flex-direction:row;height:",";max-height:",";overflow:hidden;padding:5px 0 0 10px;}.timeline-flyout-body{overflow-y:hidden;padding:0;.euiFlyoutBody__overflow{padding:0;}}"],(function(_ref){var headerHeight=_ref.headerHeight;return"".concat(headerHeight,"px")}),(function(_ref2){var headerHeight=_ref2.headerHeight;return"".concat(headerHeight,"px")}));var FlyoutHeaderContainer=_styledComponents.default.div.withConfig({displayName:"FlyoutHeaderContainer",componentId:"tp3pa6-1"})(["align-items:center;display:flex;flex-direction:row;justify-content:space-between;width:100%;"]);var WrappedCloseButton=_styledComponents.default.div.withConfig({displayName:"WrappedCloseButton",componentId:"tp3pa6-2"})(["margin-right:5px;"]);var FlyoutHeaderWithCloseButtonComponent=function FlyoutHeaderWithCloseButtonComponent(_ref3){var onClose=_ref3.onClose,timelineId=_ref3.timelineId,usersViewing=_ref3.usersViewing;return _react.default.createElement(FlyoutHeaderContainer,null,_react.default.createElement(WrappedCloseButton,null,_react.default.createElement(_eui.EuiToolTip,{content:i18n.CLOSE_TIMELINE},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.CLOSE_TIMELINE,"data-test-subj":"close-timeline",iconType:"cross",onClick:onClose}))),_react.default.createElement(_header.FlyoutHeader,{timelineId:timelineId,usersViewing:usersViewing}))};var FlyoutHeaderWithCloseButton=_react.default.memo(FlyoutHeaderWithCloseButtonComponent,(function(prevProps,nextProps){return prevProps.timelineId===nextProps.timelineId&&prevProps.usersViewing===nextProps.usersViewing}));var FlyoutPaneComponent=function FlyoutPaneComponent(_ref4){var applyDeltaToWidth=_ref4.applyDeltaToWidth,children=_ref4.children,flyoutHeight=_ref4.flyoutHeight,headerHeight=_ref4.headerHeight,onClose=_ref4.onClose,timelineId=_ref4.timelineId,usersViewing=_ref4.usersViewing,width=_ref4.width;var _useState=(0,_react.useState)(0),_useState2=_slicedToArray(_useState,2),lastDelta=_useState2[0],setLastDelta=_useState2[1];var onResizeStop=(0,_react.useCallback)((function(e,direction,ref,delta){var bodyClientWidthPixels=document.body.clientWidth;if(delta.width){applyDeltaToWidth({bodyClientWidthPixels:bodyClientWidthPixels,delta:-(delta.width-lastDelta),id:timelineId,maxWidthPercent:maxWidthPercent,minWidthPixels:minWidthPixels});setLastDelta(delta.width)}}),[applyDeltaToWidth,maxWidthPercent,minWidthPixels,lastDelta]);var resetLastDelta=(0,_react.useCallback)((function(){return setLastDelta(0)}),[setLastDelta]);var throttledResize=(0,_fp.throttle)(100,onResizeStop);return _react.default.createElement(EuiFlyoutContainer,{headerHeight:headerHeight,"data-test-subj":"flyout-pane"},_react.default.createElement(_eui.EuiFlyout,{"aria-label":i18n.TIMELINE_DESCRIPTION,className:"timeline-flyout","data-test-subj":"eui-flyout",hideCloseButton:true,onClose:onClose,size:"l"},_react.default.createElement(_reResizable.Resizable,{enable:{left:true},defaultSize:{width:width,height:"auto"},minWidth:minWidthPixels,maxWidth:"".concat(maxWidthPercent,"vw"),handleComponent:{left:_react.default.createElement(_timeline_resize_handle.TimelineResizeHandle,{"data-test-subj":"flyout-resize-handle",height:flyoutHeight})},onResizeStart:resetLastDelta,onResize:throttledResize},_react.default.createElement(_eui.EuiFlyoutHeader,{className:"timeline-flyout-header","data-test-subj":"eui-flyout-header",hasBorder:false},_react.default.createElement(FlyoutHeaderWithCloseButton,{onClose:onClose,timelineId:timelineId,usersViewing:usersViewing})),_react.default.createElement(_eui.EuiFlyoutBody,{"data-test-subj":"eui-flyout-body",className:"timeline-flyout-body"},children))))};var Pane=(0,_reactRedux.connect)(null,{applyDeltaToWidth:_actions.timelineActions.applyDeltaToWidth})(_react.default.memo(FlyoutPaneComponent));exports.Pane=Pane;Pane.displayName="Pane"},8631:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimelineResizeHandle=exports.TIMELINE_RESIZE_HANDLE_WIDTH=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TIMELINE_RESIZE_HANDLE_WIDTH=2;exports.TIMELINE_RESIZE_HANDLE_WIDTH=TIMELINE_RESIZE_HANDLE_WIDTH;var TimelineResizeHandle=_styledComponents.default.div.withConfig({displayName:"TimelineResizeHandle",componentId:"sc-16v01wj-0"})(["cursor:col-resize;height:100%;min-height:20px;width:0;border:","px solid ",";z-index:2;height:",";position:absolute;"],TIMELINE_RESIZE_HANDLE_WIDTH,(function(props){return props.theme.eui.euiColorLightShade}),(function(_ref){var height=_ref.height;return"".concat(height,"px")}));exports.TimelineResizeHandle=TimelineResizeHandle},8632:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FlyoutHeader=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _fp=__webpack_require__(223);var _store=__webpack_require__(7016);var _default_headers=__webpack_require__(7038);var _properties=__webpack_require__(8633);var _app=__webpack_require__(1895);var _inputs=__webpack_require__(1887);var _actions=__webpack_require__(1882);var _defaults=__webpack_require__(7053);var _constants=__webpack_require__(7047);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var StatefulFlyoutHeader=_react.default.memo((function(_ref){var associateNote=_ref.associateNote,createTimeline=_ref.createTimeline,description=_ref.description,isFavorite=_ref.isFavorite,isDataInTimeline=_ref.isDataInTimeline,isDatepickerLocked=_ref.isDatepickerLocked,title=_ref.title,_ref$width=_ref.width,width=_ref$width===void 0?_constants.DEFAULT_TIMELINE_WIDTH:_ref$width,noteIds=_ref.noteIds,notesById=_ref.notesById,timelineId=_ref.timelineId,toggleLock=_ref.toggleLock,updateDescription=_ref.updateDescription,updateIsFavorite=_ref.updateIsFavorite,updateNote=_ref.updateNote,updateTitle=_ref.updateTitle,usersViewing=_ref.usersViewing;var getNotesByIds=(0,_react.useCallback)((function(noteIdsVar){return _store.appSelectors.getNotes(notesById,noteIdsVar)}),[notesById]);return _react.default.createElement(_properties.Properties,{associateNote:associateNote,createTimeline:createTimeline,description:description,getNotesByIds:getNotesByIds,isDataInTimeline:isDataInTimeline,isDatepickerLocked:isDatepickerLocked,isFavorite:isFavorite,title:title,noteIds:noteIds,timelineId:timelineId,toggleLock:toggleLock,updateDescription:updateDescription,updateIsFavorite:updateIsFavorite,updateTitle:updateTitle,updateNote:updateNote,usersViewing:usersViewing,width:width})}));StatefulFlyoutHeader.displayName="StatefulFlyoutHeader";var emptyHistory=[];var emptyNotesId=[];var makeMapStateToProps=function makeMapStateToProps(){var getTimeline=_store.timelineSelectors.getTimelineByIdSelector();var getNotesByIds=_store.appSelectors.notesByIdsSelector();var getGlobalInput=_store.inputsSelectors.globalSelector();var mapStateToProps=function mapStateToProps(state,_ref2){var _getTimeline;var timelineId=_ref2.timelineId;var timeline=(_getTimeline=getTimeline(state,timelineId))!==null&&_getTimeline!==void 0?_getTimeline:_defaults.timelineDefaults;var globalInput=getGlobalInput(state);var dataProviders=timeline.dataProviders,_timeline$description=timeline.description,description=_timeline$description===void 0?"":_timeline$description,_timeline$isFavorite=timeline.isFavorite,isFavorite=_timeline$isFavorite===void 0?false:_timeline$isFavorite,kqlQuery=timeline.kqlQuery,_timeline$title=timeline.title,title=_timeline$title===void 0?"":_timeline$title,_timeline$noteIds=timeline.noteIds,noteIds=_timeline$noteIds===void 0?emptyNotesId:_timeline$noteIds,_timeline$width=timeline.width,width=_timeline$width===void 0?_constants.DEFAULT_TIMELINE_WIDTH:_timeline$width;var history=emptyHistory;return{description:description,notesById:getNotesByIds(state),history:history,isDataInTimeline:!(0,_fp.isEmpty)(dataProviders)||!(0,_fp.isEmpty)((0,_fp.get)("filterQuery.kuery.expression",kqlQuery)),isFavorite:isFavorite,isDatepickerLocked:globalInput.linkTo.includes("timeline"),noteIds:noteIds,title:title,width:width}};return mapStateToProps};var mapDispatchToProps=function mapDispatchToProps(dispatch,_ref3){var timelineId=_ref3.timelineId;return{associateNote:function associateNote(noteId){dispatch(_actions.timelineActions.addNote({id:timelineId,noteId:noteId}))},applyDeltaToWidth:function applyDeltaToWidth(_ref4){var id=_ref4.id,delta=_ref4.delta,bodyClientWidthPixels=_ref4.bodyClientWidthPixels,maxWidthPercent=_ref4.maxWidthPercent,minWidthPixels=_ref4.minWidthPixels;dispatch(_actions.timelineActions.applyDeltaToWidth({id:id,delta:delta,bodyClientWidthPixels:bodyClientWidthPixels,maxWidthPercent:maxWidthPercent,minWidthPixels:minWidthPixels}))},createTimeline:function createTimeline(_ref5){var id=_ref5.id,show=_ref5.show;dispatch(_actions.timelineActions.createTimeline({id:id,columns:_default_headers.defaultHeaders,show:show}))},updateDescription:function updateDescription(_ref6){var id=_ref6.id,description=_ref6.description;dispatch(_actions.timelineActions.updateDescription({id:id,description:description}))},updateIsFavorite:function updateIsFavorite(_ref7){var id=_ref7.id,isFavorite=_ref7.isFavorite;dispatch(_actions.timelineActions.updateIsFavorite({id:id,isFavorite:isFavorite}))},updateIsLive:function updateIsLive(_ref8){var id=_ref8.id,isLive=_ref8.isLive;dispatch(_actions.timelineActions.updateIsLive({id:id,isLive:isLive}))},updateNote:function updateNote(note){dispatch(_app.appActions.updateNote({note:note}))},updateTitle:function updateTitle(_ref9){var id=_ref9.id,title=_ref9.title;dispatch(_actions.timelineActions.updateTitle({id:id,title:title}))},toggleLock:function toggleLock(_ref10){var linkToId=_ref10.linkToId;dispatch(_inputs.inputsActions.toggleTimelineLinkTo({linkToId:linkToId}))}}};var FlyoutHeader=(0,_reactRedux.connect)(makeMapStateToProps,mapDispatchToProps)(StatefulFlyoutHeader);exports.FlyoutHeader=FlyoutHeader},8633:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Properties=exports.showDescriptionThreshold=exports.showNotesThreshold=exports.datePickerThreshold=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _styles=__webpack_require__(7564);var _properties_right=__webpack_require__(8634);var _properties_left=__webpack_require__(8672);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var rightGutter=60;var datePickerThreshold=600;exports.datePickerThreshold=datePickerThreshold;var showNotesThreshold=810;exports.showNotesThreshold=showNotesThreshold;var showDescriptionThreshold=970;exports.showDescriptionThreshold=showDescriptionThreshold;var starIconWidth=30;var nameWidth=155;var descriptionWidth=165;var noteWidth=130;var settingsWidth=50;var Properties=_react.default.memo((function(_ref){var associateNote=_ref.associateNote,createTimeline=_ref.createTimeline,description=_ref.description,getNotesByIds=_ref.getNotesByIds,isDataInTimeline=_ref.isDataInTimeline,isDatepickerLocked=_ref.isDatepickerLocked,isFavorite=_ref.isFavorite,noteIds=_ref.noteIds,timelineId=_ref.timelineId,title=_ref.title,_toggleLock=_ref.toggleLock,updateDescription=_ref.updateDescription,updateIsFavorite=_ref.updateIsFavorite,updateNote=_ref.updateNote,updateTitle=_ref.updateTitle,usersViewing=_ref.usersViewing,width=_ref.width;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),showActions=_useState2[0],setShowActions=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),showNotes=_useState4[0],setShowNotes=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),showTimelineModal=_useState6[0],setShowTimelineModal=_useState6[1];var onButtonClick=(0,_react.useCallback)((function(){setShowActions(!showActions)}),[showActions]);var onToggleShowNotes=(0,_react.useCallback)((function(){setShowNotes(!showNotes)}),[showNotes]);var onClosePopover=(0,_react.useCallback)((function(){setShowActions(false)}),[]);var onOpenTimelineModal=(0,_react.useCallback)((function(){onClosePopover();setShowTimelineModal(true)}),[]);var onCloseTimelineModal=(0,_react.useCallback)((function(){setShowTimelineModal(false)}),[]);var datePickerWidth=width-rightGutter-starIconWidth-nameWidth-(width>=showDescriptionThreshold?descriptionWidth:0)-noteWidth-settingsWidth;return _react.default.createElement(_styles.TimelineProperties,{style:{width:width},"data-test-subj":"timeline-properties"},_react.default.createElement(_properties_left.PropertiesLeft,{associateNote:associateNote,datePickerWidth:datePickerWidth>datePickerThreshold?datePickerThreshold:datePickerWidth,description:description,getNotesByIds:getNotesByIds,isDatepickerLocked:isDatepickerLocked,isFavorite:isFavorite,noteIds:noteIds,onToggleShowNotes:onToggleShowNotes,showDescription:width>=showDescriptionThreshold,showNotes:showNotes,showNotesFromWidth:width>=showNotesThreshold,timelineId:timelineId,title:title,toggleLock:function toggleLock(){_toggleLock({linkToId:"timeline"})},updateDescription:updateDescription,updateIsFavorite:updateIsFavorite,updateNote:updateNote,updateTitle:updateTitle}),_react.default.createElement(_properties_right.PropertiesRight,{associateNote:associateNote,createTimeline:createTimeline,description:description,getNotesByIds:getNotesByIds,isDataInTimeline:isDataInTimeline,noteIds:noteIds,onButtonClick:onButtonClick,onClosePopover:onClosePopover,onCloseTimelineModal:onCloseTimelineModal,onOpenTimelineModal:onOpenTimelineModal,onToggleShowNotes:onToggleShowNotes,showActions:showActions,showDescription:width<showDescriptionThreshold,showNotes:showNotes,showNotesFromWidth:width<showNotesThreshold,showTimelineModal:showTimelineModal,showUsersView:title.length>0,timelineId:timelineId,updateDescription:updateDescription,updateNote:updateNote,usersViewing:usersViewing}))}));exports.Properties=Properties;Properties.displayName="Properties"},8634:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PropertiesRight=exports.PropertiesRightStyle=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _eui=__webpack_require__(1);var _helpers=__webpack_require__(7306);var _open_timeline_modal_button=__webpack_require__(8657);var _open_timeline_modal=__webpack_require__(7569);var _inspect=__webpack_require__(7063);var i18n=_interopRequireWildcard(__webpack_require__(7312));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PropertiesRightStyle=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"PropertiesRightStyle",componentId:"sc-1n0aqkw-0"})(["margin-right:5px;"]);exports.PropertiesRightStyle=PropertiesRightStyle;PropertiesRightStyle.displayName="PropertiesRightStyle";var DescriptionPopoverMenuContainer=_styledComponents.default.div.withConfig({displayName:"DescriptionPopoverMenuContainer",componentId:"sc-1n0aqkw-1"})(["margin-top:15px;"]);DescriptionPopoverMenuContainer.displayName="DescriptionPopoverMenuContainer";var SettingsIcon=(0,_styledComponents.default)(_eui.EuiIcon).withConfig({displayName:"SettingsIcon",componentId:"sc-1n0aqkw-2"})(["margin-left:4px;cursor:pointer;"]);SettingsIcon.displayName="SettingsIcon";var HiddenFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"HiddenFlexItem",componentId:"sc-1n0aqkw-3"})(["display:none;"]);HiddenFlexItem.displayName="HiddenFlexItem";var Avatar=(0,_styledComponents.default)(_eui.EuiAvatar).withConfig({displayName:"Avatar",componentId:"sc-1n0aqkw-4"})(["margin-left:5px;"]);Avatar.displayName="Avatar";var PropertiesRightComponent=function PropertiesRightComponent(_ref){var onButtonClick=_ref.onButtonClick,showActions=_ref.showActions,onClosePopover=_ref.onClosePopover,createTimeline=_ref.createTimeline,timelineId=_ref.timelineId,isDataInTimeline=_ref.isDataInTimeline,showNotesFromWidth=_ref.showNotesFromWidth,showNotes=_ref.showNotes,showDescription=_ref.showDescription,showUsersView=_ref.showUsersView,usersViewing=_ref.usersViewing,description=_ref.description,updateDescription=_ref.updateDescription,associateNote=_ref.associateNote,getNotesByIds=_ref.getNotesByIds,noteIds=_ref.noteIds,onToggleShowNotes=_ref.onToggleShowNotes,updateNote=_ref.updateNote,showTimelineModal=_ref.showTimelineModal,onCloseTimelineModal=_ref.onCloseTimelineModal,onOpenTimelineModal=_ref.onOpenTimelineModal;return _react.default.createElement(PropertiesRightStyle,{alignItems:"flexStart","data-test-subj":"properties-right",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_inspect.InspectButtonContainer,null,_react.default.createElement(_eui.EuiPopover,{anchorPosition:"downRight",button:_react.default.createElement(SettingsIcon,{"data-test-subj":"settings-gear",type:"gear",size:"l",onClick:onButtonClick}),id:"timelineSettingsPopover",isOpen:showActions,closePopover:onClosePopover},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"flexStart",direction:"column",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_helpers.NewTimeline,{createTimeline:createTimeline,onClosePopover:onClosePopover,timelineId:timelineId})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_open_timeline_modal_button.OpenTimelineModalButton,{onClick:onOpenTimelineModal})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_inspect.InspectButton,{queryId:timelineId,inputId:"timeline",inspectIndex:0,isDisabled:!isDataInTimeline,onCloseInspect:onClosePopover,title:i18n.INSPECT_TIMELINE_TITLE})),showNotesFromWidth?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_helpers.NotesButton,{animate:true,associateNote:associateNote,getNotesByIds:getNotesByIds,noteIds:noteIds,showNotes:showNotes,size:"l",text:i18n.NOTES,toggleShowNotes:onToggleShowNotes,toolTip:i18n.NOTES_TOOL_TIP,updateNote:updateNote})):null,showDescription?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(DescriptionPopoverMenuContainer,null,_react.default.createElement(_helpers.Description,{description:description,timelineId:timelineId,updateDescription:updateDescription}))):null)))),showUsersView?usersViewing.map((function(user){return _react.default.createElement(HiddenFlexItem,{key:user},_react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"timeline-action-pin-tool-tip",content:"".concat(user," ").concat(i18n.IS_VIEWING)},_react.default.createElement(Avatar,{"data-test-subj":"avatar",size:"s",name:user})))})):null,showTimelineModal?_react.default.createElement(_open_timeline_modal.OpenTimelineModal,{onClose:onCloseTimelineModal}):null)};var PropertiesRight=_react.default.memo(PropertiesRightComponent);exports.PropertiesRight=PropertiesRight},8635:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Notes=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _add_note=__webpack_require__(7565);var _columns=__webpack_require__(8651);var _helpers=__webpack_require__(7566);var _notes_size=__webpack_require__(7568);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var NotesPanel=(0,_styledComponents.default)(_eui.EuiPanel).withConfig({displayName:"NotesPanel",componentId:"sc-1iapdth-0"})(["height:","px;width:","px;& thead{display:none;}"],_notes_size.NOTES_PANEL_HEIGHT,_notes_size.NOTES_PANEL_WIDTH);NotesPanel.displayName="NotesPanel";var InMemoryTable=(0,_styledComponents.default)(_eui.EuiInMemoryTable).withConfig({displayName:"InMemoryTable",componentId:"sc-1iapdth-1"})(["overflow-x:hidden;overflow-y:auto;height:220px;"]);InMemoryTable.displayName="InMemoryTable";var Notes=_react.default.memo((function(_ref){var associateNote=_ref.associateNote,getNotesByIds=_ref.getNotesByIds,getNewNoteId=_ref.getNewNoteId,noteIds=_ref.noteIds,updateNote=_ref.updateNote;var _useState=(0,_react.useState)(""),_useState2=_slicedToArray(_useState,2),newNote=_useState2[0],setNewNote=_useState2[1];return _react.default.createElement(NotesPanel,null,_react.default.createElement(_eui.EuiModalHeader,null,_react.default.createElement(_helpers.NotesCount,{noteIds:noteIds})),_react.default.createElement(_eui.EuiModalBody,null,_react.default.createElement(_add_note.AddNote,{associateNote:associateNote,getNewNoteId:getNewNoteId,newNote:newNote,updateNewNote:setNewNote,updateNote:updateNote}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(InMemoryTable,{"data-test-subj":"notes-table",items:getNotesByIds(noteIds),columns:_columns.columns,search:_helpers.search,sorting:true})))}));exports.Notes=Notes;Notes.displayName="Notes"},8636:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MarkdownHint=exports.MarkdownHintComponent=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var i18n=_interopRequireWildcard(__webpack_require__(8637));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Heading=_styledComponents.default.span.withConfig({displayName:"Heading",componentId:"xilab6-0"})(["margin-right:5px;"]);Heading.displayName="Heading";var Bold=_styledComponents.default.span.withConfig({displayName:"Bold",componentId:"xilab6-1"})(["font-weight:bold;margin-right:5px;"]);Bold.displayName="Bold";var MarkdownHintContainer=(0,_styledComponents.default)(_eui.EuiText).withConfig({displayName:"MarkdownHintContainer",componentId:"xilab6-2"})(["visibility:",";"],(function(_ref){var visibility=_ref.visibility;return visibility}));MarkdownHintContainer.displayName="MarkdownHintContainer";var ImageUrl=_styledComponents.default.span.withConfig({displayName:"ImageUrl",componentId:"xilab6-3"})(["margin-left:5px;"]);ImageUrl.displayName="ImageUrl";var Italic=_styledComponents.default.span.withConfig({displayName:"Italic",componentId:"xilab6-4"})(["font-style:italic;margin-right:5px;"]);Italic.displayName="Italic";var Strikethrough=_styledComponents.default.span.withConfig({displayName:"Strikethrough",componentId:"xilab6-5"})(["text-decoration:line-through;"]);Strikethrough.displayName="Strikethrough";var Code=_styledComponents.default.span.withConfig({displayName:"Code",componentId:"xilab6-6"})(["font-family:monospace;margin-right:5px;"]);Code.displayName="Code";var TrailingWhitespace=_styledComponents.default.span.withConfig({displayName:"TrailingWhitespace",componentId:"xilab6-7"})(["margin-right:5px;"]);TrailingWhitespace.displayName="TrailingWhitespace";var MarkdownHintComponent=function MarkdownHintComponent(_ref2){var show=_ref2.show;return _react.default.createElement(MarkdownHintContainer,{color:"subdued","data-test-subj":"markdown-hint",size:"xs",visibility:show?"inline":"hidden"},_react.default.createElement(Heading,{"data-test-subj":"heading-hint"},i18n.MARKDOWN_HINT_HEADING),_react.default.createElement(Bold,{"data-test-subj":"bold-hint"},i18n.MARKDOWN_HINT_BOLD),_react.default.createElement(Italic,{"data-test-subj":"italic-hint"},i18n.MARKDOWN_HINT_ITALICS),_react.default.createElement(Code,{"data-test-subj":"code-hint"},i18n.MARKDOWN_HINT_CODE),_react.default.createElement(TrailingWhitespace,null,i18n.MARKDOWN_HINT_URL),_react.default.createElement(TrailingWhitespace,null,i18n.MARKDOWN_HINT_BULLET),_react.default.createElement(Code,{"data-test-subj":"preformatted-hint"},i18n.MARKDOWN_HINT_PREFORMATTED),_react.default.createElement(TrailingWhitespace,null,i18n.MARKDOWN_HINT_QUOTE),"~~",_react.default.createElement(Strikethrough,{"data-test-subj":"strikethrough-hint"},i18n.MARKDOWN_HINT_STRIKETHROUGH),"~~",_react.default.createElement(ImageUrl,null,i18n.MARKDOWN_HINT_IMAGE_URL))};exports.MarkdownHintComponent=MarkdownHintComponent;MarkdownHintComponent.displayName="MarkdownHintComponent";var MarkdownHint=_react.default.memo(MarkdownHintComponent);exports.MarkdownHint=MarkdownHint;MarkdownHint.displayName="MarkdownHint"},8637:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MARKDOWN_HINT_IMAGE_URL=exports.MARKDOWN_HINT_STRIKETHROUGH=exports.MARKDOWN_HINT_QUOTE=exports.MARKDOWN_HINT_PREFORMATTED=exports.MARKDOWN_HINT_BULLET=exports.MARKDOWN_HINT_URL=exports.MARKDOWN_HINT_CODE=exports.MARKDOWN_HINT_ITALICS=exports.MARKDOWN_HINT_BOLD=exports.MARKDOWN_HINT_HEADING=void 0;var _i18n=__webpack_require__(2);var MARKDOWN_HINT_HEADING=_i18n.i18n.translate("xpack.siem.markdown.hint.headingLabel",{defaultMessage:"# heading"});exports.MARKDOWN_HINT_HEADING=MARKDOWN_HINT_HEADING;var MARKDOWN_HINT_BOLD=_i18n.i18n.translate("xpack.siem.markdown.hint.boldLabel",{defaultMessage:"**bold**"});exports.MARKDOWN_HINT_BOLD=MARKDOWN_HINT_BOLD;var MARKDOWN_HINT_ITALICS=_i18n.i18n.translate("xpack.siem.markdown.hint.italicsLabel",{defaultMessage:"_italics_"});exports.MARKDOWN_HINT_ITALICS=MARKDOWN_HINT_ITALICS;var MARKDOWN_HINT_CODE=_i18n.i18n.translate("xpack.siem.markdown.hint.codeLabel",{defaultMessage:"`code`"});exports.MARKDOWN_HINT_CODE=MARKDOWN_HINT_CODE;var MARKDOWN_HINT_URL=_i18n.i18n.translate("xpack.siem.markdown.hint.urlLabel",{defaultMessage:"[link](url)"});exports.MARKDOWN_HINT_URL=MARKDOWN_HINT_URL;var MARKDOWN_HINT_BULLET=_i18n.i18n.translate("xpack.siem.markdown.hint.bulletLabel",{defaultMessage:"* bullet"});exports.MARKDOWN_HINT_BULLET=MARKDOWN_HINT_BULLET;var MARKDOWN_HINT_PREFORMATTED=_i18n.i18n.translate("xpack.siem.markdown.hint.preformattedLabel",{defaultMessage:"```preformatted```"});exports.MARKDOWN_HINT_PREFORMATTED=MARKDOWN_HINT_PREFORMATTED;var MARKDOWN_HINT_QUOTE=_i18n.i18n.translate("xpack.siem.markdown.hint.quoteLabel",{defaultMessage:">quote"});exports.MARKDOWN_HINT_QUOTE=MARKDOWN_HINT_QUOTE;var MARKDOWN_HINT_STRIKETHROUGH=_i18n.i18n.translate("xpack.siem.markdown.hint.strikethroughLabel",{defaultMessage:"strikethrough"});exports.MARKDOWN_HINT_STRIKETHROUGH=MARKDOWN_HINT_STRIKETHROUGH;var MARKDOWN_HINT_IMAGE_URL=_i18n.i18n.translate("xpack.siem.markdown.hint.imageUrlLabel",{defaultMessage:"![image](url)"});exports.MARKDOWN_HINT_IMAGE_URL=MARKDOWN_HINT_IMAGE_URL},8638:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NewNote=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _markdown=__webpack_require__(7307);var i18n=_interopRequireWildcard(__webpack_require__(7127));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NewNoteTabs=(0,_styledComponents.default)(_eui.EuiTabbedContent).withConfig({displayName:"NewNoteTabs",componentId:"pd4xte-0"})(["width:100%;"]);NewNoteTabs.displayName="NewNoteTabs";var MarkdownContainer=(0,_styledComponents.default)(_eui.EuiPanel).withConfig({displayName:"MarkdownContainer",componentId:"pd4xte-1"})(["height:","px;overflow:auto;"],(function(_ref){var height=_ref.height;return height}));MarkdownContainer.displayName="MarkdownContainer";var TextArea=(0,_styledComponents.default)(_eui.EuiTextArea).withConfig({displayName:"TextArea",componentId:"pd4xte-2"})(["min-height:",";width:100%;"],(function(_ref2){var height=_ref2.height;return"".concat(height,"px")}));TextArea.displayName="TextArea";TextArea.displayName="TextArea";var NewNote=_react.default.memo((function(_ref3){var note=_ref3.note,noteInputHeight=_ref3.noteInputHeight,updateNewNote=_ref3.updateNewNote;var tabs=[{id:"note",name:i18n.NOTE,content:_react.default.createElement(TextArea,{autoFocus:true,"aria-label":i18n.NOTE,"data-test-subj":"add-a-note",fullWidth:true,height:noteInputHeight,onChange:function onChange(e){return updateNewNote(e.target.value)},placeholder:i18n.ADD_A_NOTE,spellCheck:true,value:note})},{id:"preview",name:i18n.PREVIEW_MARKDOWN,content:_react.default.createElement(MarkdownContainer,{"data-test-subj":"markdown-container",height:noteInputHeight,paddingSize:"s"},_react.default.createElement(_markdown.Markdown,{raw:note}))}];return _react.default.createElement(NewNoteTabs,{"data-test-subj":"new-note-tabs",tabs:tabs,initialSelectedTab:tabs[0]})}));exports.NewNote=NewNote;NewNote.displayName="NewNote"},8640:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(807)},8641:function(module,exports,__webpack_require__){module.exports=__webpack_require__(26)(918)},8642:function(module,exports,__webpack_require__){module.exports=__webpack_require__(17)(225)},8651:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.columns=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _note_card=__webpack_require__(7567);var i18n=_interopRequireWildcard(__webpack_require__(7127));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Column=_react.default.memo((function(_ref){var text=_ref.text;return _react.default.createElement("span",null,text)}));Column.displayName="Column";var columns=[{field:"note",dataType:"string",name:i18n.NOTE,sortable:true,truncateText:false,render:function render(_,_ref2){var created=_ref2.created,note=_ref2.note,user=_ref2.user;return _react.default.createElement(_note_card.NoteCard,{created:created,rawNote:note,user:user})}}];exports.columns=columns},8652:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoteCardBody=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _with_copy_to_clipboard=__webpack_require__(7310);var _markdown=__webpack_require__(7307);var _with_hover_actions=__webpack_require__(7128);var i18n=_interopRequireWildcard(__webpack_require__(7127));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var BodyContainer=(0,_styledComponents.default)(_eui.EuiPanel).withConfig({displayName:"BodyContainer",componentId:"sc-1qdnlu5-0"})(["border:none;"]);BodyContainer.displayName="BodyContainer";var HoverActionsContainer=(0,_styledComponents.default)(_eui.EuiPanel).withConfig({displayName:"HoverActionsContainer",componentId:"sc-1qdnlu5-1"})(["align-items:center;display:flex;flex-direction:row;height:25px;justify-content:center;left:5px;position:absolute;top:-5px;width:30px;"]);HoverActionsContainer.displayName="HoverActionsContainer";var NoteCardBody=_react.default.memo((function(_ref){var rawNote=_ref.rawNote;return _react.default.createElement(BodyContainer,{"data-test-subj":"note-card-body",hasShadow:false,paddingSize:"s"},_react.default.createElement(_with_hover_actions.WithHoverActions,{hoverContent:_react.default.createElement(HoverActionsContainer,{"data-test-subj":"hover-actions-container"},_react.default.createElement(_eui.EuiToolTip,{content:i18n.COPY_TO_CLIPBOARD},_react.default.createElement(_with_copy_to_clipboard.WithCopyToClipboard,{text:rawNote,titleSummary:i18n.NOTE.toLowerCase()}))),render:function render(){return _react.default.createElement(_markdown.Markdown,{raw:rawNote})}}))}));exports.NoteCardBody=NoteCardBody;NoteCardBody.displayName="NoteCardBody"},8653:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Clipboard=void 0;var _eui=__webpack_require__(1);var _copyToClipboard=_interopRequireDefault(__webpack_require__(2170));var _react=_interopRequireDefault(__webpack_require__(0));var _uuid=_interopRequireDefault(__webpack_require__(86));var i18n=_interopRequireWildcard(__webpack_require__(8654));var _toasters=__webpack_require__(7019);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getSuccessToast=function getSuccessToast(_ref){var titleSummary=_ref.titleSummary;return{id:"copy-success-".concat(_uuid.default.v4()),color:"success",iconType:"copyClipboard",title:"".concat(i18n.COPIED," ").concat(titleSummary," ").concat(i18n.TO_THE_CLIPBOARD)}};var Clipboard=function Clipboard(_ref2){var children=_ref2.children,content=_ref2.content,onCopy=_ref2.onCopy,titleSummary=_ref2.titleSummary,toastLifeTimeMs=_ref2.toastLifeTimeMs;var dispatchToaster=(0,_toasters.useStateToaster)()[1];var onClick=function onClick(event){event.preventDefault();event.stopPropagation();var isSuccess=(0,_copyToClipboard.default)("".concat(content),{debug:true});if(onCopy!=null){onCopy({content:content,isSuccess:isSuccess})}if(isSuccess){dispatchToaster({type:"addToaster",toast:_objectSpread({toastLifeTimeMs:toastLifeTimeMs},getSuccessToast({titleSummary:titleSummary}))})}};return _react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.COPY_TO_THE_CLIPBOARD,color:"text","data-test-subj":"clipboard",iconType:"copyClipboard",onClick:onClick},children)};exports.Clipboard=Clipboard},8654:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.COPY_TO_THE_CLIPBOARD=exports.TO_THE_CLIPBOARD=exports.COPIED=exports.COPY=void 0;var _i18n=__webpack_require__(2);var COPY=_i18n.i18n.translate("xpack.siem.clipboard.copy",{defaultMessage:"Copy"});exports.COPY=COPY;var COPIED=_i18n.i18n.translate("xpack.siem.clipboard.copied",{defaultMessage:"Copied"});exports.COPIED=COPIED;var TO_THE_CLIPBOARD=_i18n.i18n.translate("xpack.siem.clipboard.to.the.clipboard",{defaultMessage:"to the clipboard"});exports.TO_THE_CLIPBOARD=TO_THE_CLIPBOARD;var COPY_TO_THE_CLIPBOARD=_i18n.i18n.translate("xpack.siem.clipboard.copy.to.the.clipboard",{defaultMessage:"Copy to the clipboard"});exports.COPY_TO_THE_CLIPBOARD=COPY_TO_THE_CLIPBOARD},8655:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoteCardHeader=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var i18n=_interopRequireWildcard(__webpack_require__(7127));var _note_created=__webpack_require__(8656);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Action=_styledComponents.default.span.withConfig({displayName:"Action",componentId:"c7wyfp-0"})(["margin-right:5px;"]);Action.displayName="Action";var Avatar=(0,_styledComponents.default)(_eui.EuiAvatar).withConfig({displayName:"Avatar",componentId:"c7wyfp-1"})(["margin-right:5px;"]);Avatar.displayName="Avatar";var HeaderContainer=_styledComponents.default.div.withConfig({displayName:"HeaderContainer",componentId:"c7wyfp-2"})(["align-items:center;display:flex;user-select:none;"]);HeaderContainer.displayName="HeaderContainer";var User=_styledComponents.default.span.withConfig({displayName:"User",componentId:"c7wyfp-3"})(["font-weight:700;margin:5px;"]);var NoteCardHeader=_react.default.memo((function(_ref){var created=_ref.created,user=_ref.user;return _react.default.createElement(_eui.EuiPanel,{"data-test-subj":"note-card-header",hasShadow:false,paddingSize:"s"},_react.default.createElement(HeaderContainer,null,_react.default.createElement(Avatar,{"data-test-subj":"avatar",size:"s",name:user}),_react.default.createElement(User,{"data-test-subj":"user"},user),_react.default.createElement(Action,{"data-test-subj":"action"},i18n.ADDED_A_NOTE),_react.default.createElement(_note_created.NoteCreated,{"data-test-subj":"created",created:created})))}));exports.NoteCardHeader=NoteCardHeader;NoteCardHeader.displayName="NoteCardHeader"},8656:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoteCreated=void 0;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _localized_date_tooltip=__webpack_require__(7311);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NoteCreatedContainer=_styledComponents.default.span.withConfig({displayName:"NoteCreatedContainer",componentId:"uhvru2-0"})(["user-select:none;"]);NoteCreatedContainer.displayName="NoteCreatedContainer";var NoteCreated=_react2.default.memo((function(_ref){var created=_ref.created;return _react2.default.createElement(NoteCreatedContainer,{"data-test-subj":"note-created"},_react2.default.createElement(_localized_date_tooltip.LocalizedDateTooltip,{date:created},_react2.default.createElement(_react.FormattedRelative,{value:created})))}));exports.NoteCreated=NoteCreated;NoteCreated.displayName="NoteCreated"},8657:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OpenTimelineModalButton=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var i18n=_interopRequireWildcard(__webpack_require__(7049));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var OpenTimelineModalButton=_react.default.memo((function(_ref){var onClick=_ref.onClick;return _react.default.createElement(_eui.EuiButtonEmpty,{color:"text","data-test-subj":"open-timeline-button",iconSide:"left",iconType:"folderOpen",onClick:onClick},i18n.OPEN_TIMELINE)}));exports.OpenTimelineModalButton=OpenTimelineModalButton;OpenTimelineModalButton.displayName="OpenTimelineModalButton"},8658:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.deleteTimelineMutation=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  mutation DeleteTimelineMutation($id: [ID!]!) {\n    deleteTimeline(id: $id)\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var deleteTimelineMutation=(0,_graphqlTag.default)(_templateObject());exports.deleteTimelineMutation=deleteTimelineMutation},8659:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OpenTimeline=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _helpers=__webpack_require__(7056);var _search_row=__webpack_require__(7572);var _timelines_table=__webpack_require__(7573);var _title_row=__webpack_require__(7575);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var OpenTimeline=_react.default.memo((function(_ref){var deleteTimelines=_ref.deleteTimelines,defaultPageSize=_ref.defaultPageSize,isLoading=_ref.isLoading,itemIdToExpandedNotesRowMap=_ref.itemIdToExpandedNotesRowMap,onAddTimelinesToFavorites=_ref.onAddTimelinesToFavorites,onDeleteSelected=_ref.onDeleteSelected,onlyFavorites=_ref.onlyFavorites,onOpenTimeline=_ref.onOpenTimeline,onQueryChange=_ref.onQueryChange,onSelectionChange=_ref.onSelectionChange,onTableChange=_ref.onTableChange,onToggleOnlyFavorites=_ref.onToggleOnlyFavorites,onToggleShowNotes=_ref.onToggleShowNotes,pageIndex=_ref.pageIndex,pageSize=_ref.pageSize,query=_ref.query,searchResults=_ref.searchResults,selectedItems=_ref.selectedItems,sortDirection=_ref.sortDirection,sortField=_ref.sortField,title=_ref.title,totalSearchResultsCount=_ref.totalSearchResultsCount;return _react.default.createElement(_eui.EuiPanel,{className:_helpers.OPEN_TIMELINE_CLASS_NAME},_react.default.createElement(_title_row.TitleRow,{"data-test-subj":"title-row",onDeleteSelected:onDeleteSelected,onAddTimelinesToFavorites:onAddTimelinesToFavorites,selectedTimelinesCount:selectedItems.length,title:title}),_react.default.createElement(_search_row.SearchRow,{"data-test-subj":"search-row",onlyFavorites:onlyFavorites,onQueryChange:onQueryChange,onToggleOnlyFavorites:onToggleOnlyFavorites,query:query,totalSearchResultsCount:totalSearchResultsCount}),_react.default.createElement(_timelines_table.TimelinesTable,{actionTimelineToShow:onDeleteSelected!=null&&deleteTimelines!=null?["delete","duplicate","selectable"]:["duplicate","selectable"],"data-test-subj":"timelines-table",deleteTimelines:deleteTimelines,defaultPageSize:defaultPageSize,loading:isLoading,itemIdToExpandedNotesRowMap:itemIdToExpandedNotesRowMap,onOpenTimeline:onOpenTimeline,onSelectionChange:onSelectionChange,onTableChange:onTableChange,onToggleShowNotes:onToggleShowNotes,pageIndex:pageIndex,pageSize:pageSize,searchResults:searchResults,showExtendedColumns:true,sortDirection:sortDirection,sortField:sortField,totalSearchResultsCount:totalSearchResultsCount}))}));exports.OpenTimeline=OpenTimeline;OpenTimeline.displayName="OpenTimeline"},8660:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getActionsColumns=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _common_styles=__webpack_require__(7314);var _delete_timeline_modal=__webpack_require__(8661);var i18n=_interopRequireWildcard(__webpack_require__(7049));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getActionsColumns=function getActionsColumns(_ref){var actionTimelineToShow=_ref.actionTimelineToShow,onOpenTimeline=_ref.onOpenTimeline,deleteTimelines=_ref.deleteTimelines;var openAsDuplicateColumn={align:"center",field:"savedObjectId",name:"",render:function render(savedObjectId,timelineResult){return _react.default.createElement(_eui.EuiToolTip,{content:i18n.OPEN_AS_DUPLICATE},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.OPEN_AS_DUPLICATE,"data-test-subj":"open-duplicate",isDisabled:savedObjectId==null,iconSize:"s",iconType:"copy",onClick:function onClick(){return onOpenTimeline({duplicate:true,timelineId:"".concat(timelineResult.savedObjectId)})},size:"s"}))},sortable:false,width:_common_styles.ACTION_COLUMN_WIDTH};var deleteTimelineColumn={align:"center",field:"savedObjectId",name:"",render:function render(savedObjectId,_ref2){var title=_ref2.title;return _react.default.createElement(_delete_timeline_modal.DeleteTimelineModalButton,{deleteTimelines:deleteTimelines,savedObjectId:savedObjectId,title:title})},sortable:false,width:_common_styles.ACTION_COLUMN_WIDTH};return[actionTimelineToShow.includes("duplicate")?openAsDuplicateColumn:null,actionTimelineToShow.includes("delete")&&deleteTimelines!=null?deleteTimelineColumn:null].filter((function(action){return action!=null}))};exports.getActionsColumns=getActionsColumns},8661:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DeleteTimelineModalButton=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _delete_timeline_modal=__webpack_require__(8662);var i18n=_interopRequireWildcard(__webpack_require__(7049));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var DeleteTimelineModalButton=_react.default.memo((function(_ref){var deleteTimelines=_ref.deleteTimelines,savedObjectId=_ref.savedObjectId,title=_ref.title;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var openModal=function openModal(){return setShowModal(true)};var closeModal=function closeModal(){return setShowModal(false)};var onDelete=function onDelete(){if(deleteTimelines!=null&&savedObjectId!=null){deleteTimelines([savedObjectId])}closeModal()};return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiToolTip,{content:i18n.DELETE},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.DELETE,color:"danger","data-test-subj":"delete-timeline",iconSize:"s",iconType:"trash",isDisabled:deleteTimelines==null||savedObjectId==null||savedObjectId==="",onClick:openModal,size:"s"})),showModal?_react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiModal,{maxWidth:_delete_timeline_modal.DELETE_TIMELINE_MODAL_WIDTH,onClose:closeModal},_react.default.createElement(_delete_timeline_modal.DeleteTimelineModal,{"data-test-subj":"delete-timeline-modal",onDelete:onDelete,title:title,closeModal:closeModal}))):null)}));exports.DeleteTimelineModalButton=DeleteTimelineModalButton;DeleteTimelineModalButton.displayName="DeleteTimelineModalButton"},8662:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DeleteTimelineModal=exports.DELETE_TIMELINE_MODAL_WIDTH=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireDefault(__webpack_require__(0));var i18n=_interopRequireWildcard(__webpack_require__(7049));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DELETE_TIMELINE_MODAL_WIDTH=600;exports.DELETE_TIMELINE_MODAL_WIDTH=DELETE_TIMELINE_MODAL_WIDTH;var DeleteTimelineModal=_react2.default.memo((function(_ref){var title=_ref.title,closeModal=_ref.closeModal,onDelete=_ref.onDelete;return _react2.default.createElement(_eui.EuiConfirmModal,{title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.open.timeline.deleteTimelineModalTitle","data-test-subj":"title",defaultMessage:'Delete "{title}"?',values:{title:title!=null&&title.trim().length>0?title.trim():i18n.UNTITLED_TIMELINE}}),onCancel:closeModal,onConfirm:onDelete,cancelButtonText:i18n.CANCEL,confirmButtonText:i18n.DELETE,buttonColor:"danger",defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON},_react2.default.createElement("div",{"data-test-subj":"warning"},i18n.DELETE_WARNING))}));exports.DeleteTimelineModal=DeleteTimelineModal;DeleteTimelineModal.displayName="DeleteTimelineModal"},8663:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getCommonColumns=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _common_styles=__webpack_require__(7314);var _helpers=__webpack_require__(7056);var _note_previews=__webpack_require__(8664);var i18n=_interopRequireWildcard(__webpack_require__(7049));var _empty_value=__webpack_require__(7017);var _formatted_date=__webpack_require__(7027);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getCommonColumns=function getCommonColumns(_ref){var itemIdToExpandedNotesRowMap=_ref.itemIdToExpandedNotesRowMap,onOpenTimeline=_ref.onOpenTimeline,onToggleShowNotes=_ref.onToggleShowNotes;return[{isExpander:true,render:function render(_ref2){var notes=_ref2.notes,savedObjectId=_ref2.savedObjectId;return notes!=null&&notes.length>0&&savedObjectId!=null?_react.default.createElement(_eui.EuiButtonIcon,{"data-test-subj":"expand-notes",onClick:function onClick(){return itemIdToExpandedNotesRowMap[savedObjectId]!=null?onToggleShowNotes((0,_fp.omit)(savedObjectId,itemIdToExpandedNotesRowMap)):onToggleShowNotes(_objectSpread({},itemIdToExpandedNotesRowMap,_defineProperty({},savedObjectId,_react.default.createElement(_note_previews.NotePreviews,{notes:notes}))))},"aria-label":itemIdToExpandedNotesRowMap[savedObjectId]?i18n.COLLAPSE:i18n.EXPAND,iconType:itemIdToExpandedNotesRowMap[savedObjectId]?"arrowDown":"arrowRight"}):null},width:_common_styles.ACTION_COLUMN_WIDTH},{dataType:"string",field:"title",name:i18n.TIMELINE_NAME,render:function render(title,timelineResult){return timelineResult.savedObjectId!=null?_react.default.createElement(_eui.EuiLink,{"data-test-subj":"title-".concat(timelineResult.savedObjectId),onClick:function onClick(){return onOpenTimeline({duplicate:false,timelineId:"".concat(timelineResult.savedObjectId)})}},(0,_helpers.isUntitled)(timelineResult)?i18n.UNTITLED_TIMELINE:title):_react.default.createElement("div",{"data-test-subj":"title-no-saved-object-id-".concat(title||"no-title")},(0,_helpers.isUntitled)(timelineResult)?i18n.UNTITLED_TIMELINE:title)},sortable:false},{dataType:"string",field:"description",name:i18n.DESCRIPTION,render:function render(description){return _react.default.createElement("span",{"data-test-subj":"description"},description!=null&&description.trim().length>0?description:(0,_empty_value.getEmptyTagValue)())},sortable:false},{dataType:"date",field:"updated",name:i18n.LAST_MODIFIED,render:function render(date,timelineResult){return _react.default.createElement("div",{"data-test-subj":"updated"},timelineResult.updated!=null?_react.default.createElement(_formatted_date.FormattedRelativePreferenceDate,{value:date}):(0,_empty_value.getEmptyTagValue)())},sortable:true}]};exports.getCommonColumns=getCommonColumns},8664:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NotePreviews=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _note_preview=__webpack_require__(8665);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NotePreviewsContainer=_styledComponents.default.section.withConfig({displayName:"NotePreviewsContainer",componentId:"sc-2w116k-0"})(["padding:",";"],(function(props){return"".concat(props.theme.eui.euiSizeS," 0 ").concat(props.theme.eui.euiSizeS," ").concat(props.theme.eui.euiSizeXXL)}));NotePreviewsContainer.displayName="NotePreviewsContainer";var NotePreviews=_react.default.memo((function(_ref){var notes=_ref.notes;if(notes==null||notes.length===0){return null}var uniqueNotes=(0,_fp.uniqBy)("savedObjectId",notes);return _react.default.createElement(NotePreviewsContainer,{"data-test-subj":"note-previews-container"},uniqueNotes.map((function(_ref2){var note=_ref2.note,savedObjectId=_ref2.savedObjectId,updated=_ref2.updated,updatedBy=_ref2.updatedBy;return savedObjectId!=null?_react.default.createElement(_note_preview.NotePreview,{"data-test-subj":"note-preview-".concat(savedObjectId),key:savedObjectId,note:note,updated:updated,updatedBy:updatedBy}):null})))}));exports.NotePreviews=NotePreviews;NotePreviews.displayName="NotePreviews"},8665:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NotePreview=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _empty_value=__webpack_require__(7017);var _formatted_date=__webpack_require__(7027);var _markdown=__webpack_require__(7307);var i18n=_interopRequireWildcard(__webpack_require__(7049));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NotePreviewGroup=_styledComponents.default.article.withConfig({displayName:"NotePreviewGroup",componentId:"pm8761-0"})(["& + &{margin-top:",";}"],(function(props){return props.theme.eui.euiSizeL}));NotePreviewGroup.displayName="NotePreviewGroup";var NotePreviewHeader=_styledComponents.default.header.withConfig({displayName:"NotePreviewHeader",componentId:"pm8761-1"})(["margin-bottom:",";"],(function(props){return props.theme.eui.euiSizeS}));NotePreviewHeader.displayName="NotePreviewHeader";var NotePreview=_react2.default.memo((function(_ref){var note=_ref.note,updated=_ref.updated,updatedBy=_ref.updatedBy;return _react2.default.createElement(NotePreviewGroup,null,_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",responsive:false},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiAvatar,{"data-test-subj":"avatar",name:updatedBy!=null?updatedBy:"?",size:"l"})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(NotePreviewHeader,null,_react2.default.createElement(_eui.EuiTitle,{"data-test-subj":"updated-by",size:"xxs"},_react2.default.createElement("h6",null,(0,_empty_value.defaultToEmptyTag)(updatedBy))),_react2.default.createElement(_eui.EuiText,{color:"subdued","data-test-subj":"posted",size:"xs"},_react2.default.createElement("p",null,i18n.POSTED," ",updated!=null?_react2.default.createElement(_eui.EuiToolTip,{content:_react2.default.createElement(_formatted_date.FormattedDate,{fieldName:"",value:updated})},_react2.default.createElement(_react.FormattedRelative,{"data-test-subj":"updated",value:new Date(updated)})):(0,_empty_value.getEmptyValue)()))),_react2.default.createElement(_markdown.Markdown,{raw:note||"",size:"s"}))))}));exports.NotePreview=NotePreview;NotePreview.displayName="NotePreview"},8666:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EMPTY_STRING=void 0;var _i18n=__webpack_require__(2);var EMPTY_STRING=_i18n.i18n.translate("xpack.siem.emptyString.emptyStringDescription",{defaultMessage:"Empty String"});exports.EMPTY_STRING=EMPTY_STRING},8667:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useTimeZone=exports.useDateFormat=void 0;var _momentTimezone=_interopRequireDefault(__webpack_require__(35));var _constants=__webpack_require__(977);var _kibana=__webpack_require__(7013);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var useDateFormat=function useDateFormat(){return(0,_kibana.useUiSetting)(_constants.DEFAULT_DATE_FORMAT)};exports.useDateFormat=useDateFormat;var useTimeZone=function useTimeZone(){var timeZone=(0,_kibana.useUiSetting)(_constants.DEFAULT_DATE_FORMAT_TZ);return timeZone==="Browser"?_momentTimezone.default.tz.guess():timeZone};exports.useTimeZone=useTimeZone},8668:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getExtendedColumns=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _empty_value=__webpack_require__(7017);var i18n=_interopRequireWildcard(__webpack_require__(7049));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getExtendedColumns=function getExtendedColumns(){return[{dataType:"string",field:"updatedBy",name:i18n.MODIFIED_BY,render:function render(updatedBy){return _react.default.createElement("div",{"data-test-subj":"username"},(0,_empty_value.defaultToEmptyTag)(updatedBy))},sortable:false}]};exports.getExtendedColumns=getExtendedColumns},8669:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIconHeaderColumns=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _common_styles=__webpack_require__(7314);var _helpers=__webpack_require__(7056);var i18n=_interopRequireWildcard(__webpack_require__(7049));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getIconHeaderColumns=function getIconHeaderColumns(){return[{align:"center",field:"pinnedEventIds",name:_react.default.createElement(_eui.EuiToolTip,{content:i18n.PINNED_EVENTS},_react.default.createElement(_eui.EuiIcon,{"data-test-subj":"pinned-event-header-icon",size:"m",type:"pin"})),render:function render(_,timelineResult){return _react.default.createElement("span",{"data-test-subj":"pinned-event-count"},"".concat((0,_helpers.getPinnedEventCount)(timelineResult)))},sortable:false,width:_common_styles.ACTION_COLUMN_WIDTH},{align:"center",field:"eventIdToNoteIds",name:_react.default.createElement(_eui.EuiToolTip,{content:i18n.NOTES},_react.default.createElement(_eui.EuiIcon,{"data-test-subj":"notes-count-header-icon",size:"m",type:"editorComment"})),render:function render(_,timelineResult){return _react.default.createElement("span",{"data-test-subj":"notes-count"},(0,_helpers.getNotesCount)(timelineResult))},sortable:false,width:_common_styles.ACTION_COLUMN_WIDTH},{align:"center",field:"favorite",name:_react.default.createElement(_eui.EuiToolTip,{content:i18n.FAVORITES},_react.default.createElement(_eui.EuiIcon,{"data-test-subj":"favorites-header-icon",size:"m",type:"starEmpty"})),render:function render(favorite){var isFavorite=favorite!=null&&favorite.length>0;var fill=isFavorite?"starFilled":"starEmpty";return _react.default.createElement(_eui.EuiIcon,{"data-test-subj":"favorite-".concat(fill,"-star"),type:fill,size:"m"})},sortable:false,width:_common_styles.ACTION_COLUMN_WIDTH}]};exports.getIconHeaderColumns=getIconHeaderColumns},8670:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ModalInspectQuery=void 0;var _eui=__webpack_require__(1);var _numeral=_interopRequireDefault(__webpack_require__(148));var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var i18n=_interopRequireWildcard(__webpack_require__(7576));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DescriptionListStyled=(0,_styledComponents.default)(_eui.EuiDescriptionList).withConfig({displayName:"DescriptionListStyled",componentId:"sc-1p60x8n-0"})(["@media only screen and (min-width:","){.euiDescriptionList__title{width:30% !important;}.euiDescriptionList__description{width:70% !important;}}"],(function(props){return props.theme.eui.euiBreakpoints.s}));DescriptionListStyled.displayName="DescriptionListStyled";var MyEuiModal=(0,_styledComponents.default)(_eui.EuiModal).withConfig({displayName:"MyEuiModal",componentId:"sc-1p60x8n-1"})([".euiModal__flex{width:60vw;}.euiCodeBlock{height:auto !important;max-width:718px;}"]);MyEuiModal.displayName="MyEuiModal";var parseInspectString=function parseInspectString(objectStringify){try{return JSON.parse(objectStringify)}catch(_unused){return null}};var manageStringify=function manageStringify(object){try{return JSON.stringify(object,null,2)}catch(_unused2){return i18n.SOMETHING_WENT_WRONG}};var ModalInspectQuery=function ModalInspectQuery(_ref){var closeModal=_ref.closeModal,_ref$isShowing=_ref.isShowing,isShowing=_ref$isShowing===void 0?false:_ref$isShowing,request=_ref.request,response=_ref.response,title=_ref.title;if(!isShowing||request==null||response==null){return null}var inspectRequest=parseInspectString(request);var inspectResponse=parseInspectString(response);var statistics=[{title:_react.default.createElement("span",{"data-test-subj":"index-pattern-title"},i18n.INDEX_PATTERN," ",_react.default.createElement(_eui.EuiIconTip,{color:"subdued",content:i18n.INDEX_PATTERN_DESC,type:"iInCircle"})),description:_react.default.createElement("span",{"data-test-subj":"index-pattern-description"},inspectRequest!=null?inspectRequest.index.join(", "):i18n.SOMETHING_WENT_WRONG)},{title:_react.default.createElement("span",{"data-test-subj":"query-time-title"},i18n.QUERY_TIME," ",_react.default.createElement(_eui.EuiIconTip,{color:"subdued",content:i18n.QUERY_TIME_DESC,type:"iInCircle"})),description:_react.default.createElement("span",{"data-test-subj":"query-time-description"},inspectResponse!=null?"".concat((0,_numeral.default)(inspectResponse.took).format("0,0"),"ms"):i18n.SOMETHING_WENT_WRONG)},{title:_react.default.createElement("span",{"data-test-subj":"request-timestamp-title"},i18n.REQUEST_TIMESTAMP," ",_react.default.createElement(_eui.EuiIconTip,{color:"subdued",content:i18n.REQUEST_TIMESTAMP_DESC,type:"iInCircle"})),description:_react.default.createElement("span",{"data-test-subj":"request-timestamp-description"},(new Date).toISOString())}];var tabs=[{id:"statistics",name:"Statistics",content:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(DescriptionListStyled,{listItems:statistics,type:"column"}))},{id:"request",name:"Request",content:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiCodeBlock,{language:"js",fontSize:"m",paddingSize:"m",color:"dark",overflowHeight:300,isCopyable:true},inspectRequest!=null?manageStringify(inspectRequest.body):i18n.SOMETHING_WENT_WRONG))},{id:"response",name:"Response",content:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiCodeBlock,{language:"js",fontSize:"m",paddingSize:"m",color:"dark",overflowHeight:300,isCopyable:true},response))}];return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(MyEuiModal,{onClose:closeModal,"data-test-subj":"modal-inspect-euiModal"},_react.default.createElement(_eui.EuiModalHeader,null,_react.default.createElement(_eui.EuiModalHeaderTitle,null,i18n.INSPECT," ",title)),_react.default.createElement(_eui.EuiModalBody,null,_react.default.createElement(_eui.EuiTabbedContent,{tabs:tabs,initialSelectedTab:tabs[0],autoFocus:"selected"})),_react.default.createElement(_eui.EuiModalFooter,null,_react.default.createElement(_eui.EuiButton,{onClick:closeModal,fill:true,"data-test-subj":"modal-inspect-close"},i18n.CLOSE))))};exports.ModalInspectQuery=ModalInspectQuery},8671:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OpenTimelineModalBody=exports.HeaderContainer=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _search_row=__webpack_require__(7572);var _timelines_table=__webpack_require__(7573);var _title_row=__webpack_require__(7575);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var HeaderContainer=_styledComponents.default.div.withConfig({displayName:"HeaderContainer",componentId:"sc-1p38tvz-0"})(["width:100%;"]);exports.HeaderContainer=HeaderContainer;HeaderContainer.displayName="HeaderContainer";var OpenTimelineModalBody=(0,_react.memo)((function(_ref){var deleteTimelines=_ref.deleteTimelines,defaultPageSize=_ref.defaultPageSize,_ref$hideActions=_ref.hideActions,hideActions=_ref$hideActions===void 0?[]:_ref$hideActions,isLoading=_ref.isLoading,itemIdToExpandedNotesRowMap=_ref.itemIdToExpandedNotesRowMap,onAddTimelinesToFavorites=_ref.onAddTimelinesToFavorites,onDeleteSelected=_ref.onDeleteSelected,onlyFavorites=_ref.onlyFavorites,onOpenTimeline=_ref.onOpenTimeline,onQueryChange=_ref.onQueryChange,onSelectionChange=_ref.onSelectionChange,onTableChange=_ref.onTableChange,onToggleOnlyFavorites=_ref.onToggleOnlyFavorites,onToggleShowNotes=_ref.onToggleShowNotes,pageIndex=_ref.pageIndex,pageSize=_ref.pageSize,query=_ref.query,searchResults=_ref.searchResults,selectedItems=_ref.selectedItems,sortDirection=_ref.sortDirection,sortField=_ref.sortField,title=_ref.title,totalSearchResultsCount=_ref.totalSearchResultsCount;var actionsToShow=(0,_react.useMemo)((function(){var actions=onDeleteSelected!=null&&deleteTimelines!=null?["delete","duplicate"]:["duplicate"];return actions.filter((function(action){return!hideActions.includes(action)}))}),[onDeleteSelected,deleteTimelines,hideActions]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiModalHeader,null,_react.default.createElement(HeaderContainer,null,_react.default.createElement(_title_row.TitleRow,{"data-test-subj":"title-row",onDeleteSelected:onDeleteSelected,onAddTimelinesToFavorites:onAddTimelinesToFavorites,selectedTimelinesCount:selectedItems.length,title:title}),_react.default.createElement(_search_row.SearchRow,{"data-test-subj":"search-row",onlyFavorites:onlyFavorites,onQueryChange:onQueryChange,onToggleOnlyFavorites:onToggleOnlyFavorites,query:query,totalSearchResultsCount:totalSearchResultsCount}))),_react.default.createElement(_eui.EuiModalBody,null,_react.default.createElement(_timelines_table.TimelinesTable,{actionTimelineToShow:actionsToShow,"data-test-subj":"timelines-table",deleteTimelines:deleteTimelines,defaultPageSize:defaultPageSize,loading:isLoading,itemIdToExpandedNotesRowMap:itemIdToExpandedNotesRowMap,onOpenTimeline:onOpenTimeline,onSelectionChange:onSelectionChange,onTableChange:onTableChange,onToggleShowNotes:onToggleShowNotes,pageIndex:pageIndex,pageSize:pageSize,searchResults:searchResults,showExtendedColumns:false,sortDirection:sortDirection,sortField:sortField,totalSearchResultsCount:totalSearchResultsCount})))}));exports.OpenTimelineModalBody=OpenTimelineModalBody;OpenTimelineModalBody.displayName="OpenTimelineModalBody"},8672:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PropertiesLeft=exports.DatePicker=exports.LockIconContainer=exports.PropertiesLeftStyle=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _helpers=__webpack_require__(7306);var _super_date_picker=__webpack_require__(7200);var i18n=_interopRequireWildcard(__webpack_require__(7312));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PropertiesLeftStyle=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"PropertiesLeftStyle",componentId:"sc-14zwx7n-0"})(["width:100%;"]);exports.PropertiesLeftStyle=PropertiesLeftStyle;PropertiesLeftStyle.displayName="PropertiesLeftStyle";var LockIconContainer=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"LockIconContainer",componentId:"sc-14zwx7n-1"})(["margin-right:2px;"]);exports.LockIconContainer=LockIconContainer;LockIconContainer.displayName="LockIconContainer";var DatePicker=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"DatePicker",componentId:"sc-14zwx7n-2"})([".euiSuperDatePicker__flexWrapper{max-width:none;width:auto;}"]);exports.DatePicker=DatePicker;DatePicker.displayName="DatePicker";var PropertiesLeft=_react.default.memo((function(_ref){var isFavorite=_ref.isFavorite,timelineId=_ref.timelineId,updateIsFavorite=_ref.updateIsFavorite,showDescription=_ref.showDescription,description=_ref.description,title=_ref.title,updateTitle=_ref.updateTitle,updateDescription=_ref.updateDescription,showNotes=_ref.showNotes,showNotesFromWidth=_ref.showNotesFromWidth,associateNote=_ref.associateNote,getNotesByIds=_ref.getNotesByIds,noteIds=_ref.noteIds,onToggleShowNotes=_ref.onToggleShowNotes,updateNote=_ref.updateNote,isDatepickerLocked=_ref.isDatepickerLocked,toggleLock=_ref.toggleLock,datePickerWidth=_ref.datePickerWidth;return _react.default.createElement(PropertiesLeftStyle,{alignItems:"center","data-test-subj":"properties-left",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_helpers.StarIcon,{isFavorite:isFavorite,timelineId:timelineId,updateIsFavorite:updateIsFavorite})),_react.default.createElement(_helpers.Name,{timelineId:timelineId,title:title,updateTitle:updateTitle}),showDescription?_react.default.createElement(_eui.EuiFlexItem,{grow:2},_react.default.createElement(_helpers.Description,{description:description,timelineId:timelineId,updateDescription:updateDescription})):null,showNotesFromWidth?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_helpers.NotesButton,{animate:true,associateNote:associateNote,getNotesByIds:getNotesByIds,noteIds:noteIds,showNotes:showNotes,size:"l",text:i18n.NOTES,toggleShowNotes:onToggleShowNotes,toolTip:i18n.NOTES_TOOL_TIP,updateNote:updateNote})):null,_react.default.createElement(_eui.EuiFlexItem,{grow:1},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none","data-test-subj":"timeline-date-picker-container"},_react.default.createElement(LockIconContainer,{grow:false},_react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"timeline-date-picker-lock-tooltip",position:"top",content:isDatepickerLocked?i18n.LOCK_SYNC_MAIN_DATE_PICKER_TOOL_TIP:i18n.UNLOCK_SYNC_MAIN_DATE_PICKER_TOOL_TIP},_react.default.createElement(_eui.EuiButtonIcon,{"data-test-subj":"timeline-date-picker-".concat(isDatepickerLocked?"lock":"unlock","-button"),color:"primary",onClick:toggleLock,iconType:isDatepickerLocked?"lock":"lockOpen","aria-label":isDatepickerLocked?i18n.UNLOCK_SYNC_MAIN_DATE_PICKER_ARIA:i18n.LOCK_SYNC_MAIN_DATE_PICKER_ARIA}))),_react.default.createElement(DatePicker,{grow:1,style:{width:datePickerWidth}},_react.default.createElement(_super_date_picker.SuperDatePicker,{id:"timeline",timelineId:timelineId})))))}));exports.PropertiesLeft=PropertiesLeft;PropertiesLeft.displayName="PropertiesLeft"},8673:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CLOSE_TIMELINE=exports.TIMELINE_DESCRIPTION=void 0;var _i18n=__webpack_require__(2);var TIMELINE_DESCRIPTION=_i18n.i18n.translate("xpack.siem.timeline.flyout.pane.timelinePropertiesAriaLabel",{defaultMessage:"Timeline Properties"});exports.TIMELINE_DESCRIPTION=TIMELINE_DESCRIPTION;var CLOSE_TIMELINE=_i18n.i18n.translate("xpack.siem.timeline.flyout.pane.closeTimelineButtonLabel",{defaultMessage:"Close timeline"});exports.CLOSE_TIMELINE=CLOSE_TIMELINE},8674:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HeaderGlobal=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireWildcard(__webpack_require__(30));var _helpers=__webpack_require__(7061);var _home_navigations=__webpack_require__(7579);var _types=__webpack_require__(7030);var _link_to=__webpack_require__(7090);var _ml_popover=__webpack_require__(8678);var _navigation=__webpack_require__(7149);var i18n=_interopRequireWildcard(__webpack_require__(8753));var _source=__webpack_require__(7042);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Wrapper=_styledComponents.default.header.withConfig({displayName:"Wrapper",componentId:"sc-9ius3h-0"})(["",""],(function(_ref){var theme=_ref.theme;return(0,_styledComponents.css)(["background:",";border-bottom:",";padding:"," "," "," ",";"],theme.eui.euiColorEmptyShade,theme.eui.euiBorderThin,theme.eui.paddingSizes.m,_helpers.gutterTimeline,theme.eui.paddingSizes.m,theme.eui.paddingSizes.l)}));Wrapper.displayName="Wrapper";var FlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"FlexItem",componentId:"sc-9ius3h-1"})(["min-width:0;"]);FlexItem.displayName="FlexItem";var HeaderGlobal=_react.default.memo((function(_ref2){var _ref2$hideDetectionEn=_ref2.hideDetectionEngine,hideDetectionEngine=_ref2$hideDetectionEn===void 0?false:_ref2$hideDetectionEn;return _react.default.createElement(Wrapper,{className:"siemHeaderGlobal"},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",wrap:true},_react.default.createElement(_source.WithSource,{sourceId:"default"},(function(_ref3){var indicesExist=_ref3.indicesExist;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(FlexItem,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",responsive:false},_react.default.createElement(FlexItem,{grow:false},_react.default.createElement(_eui.EuiLink,{href:(0,_link_to.getOverviewUrl)()},_react.default.createElement(_eui.EuiIcon,{"aria-label":i18n.SIEM,type:"securityAnalyticsApp",size:"l"}))),_react.default.createElement(FlexItem,{component:"nav"},(0,_source.indicesExistOrDataTemporarilyUnavailable)(indicesExist)?_react.default.createElement(_navigation.SiemNavigation,{display:"condensed",navTabs:hideDetectionEngine?(0,_fp.pickBy)((function(_,key){return key!==_types.SiemPageName.detections}),_home_navigations.navTabs):_home_navigations.navTabs}):_react.default.createElement(_navigation.SiemNavigation,{display:"condensed",navTabs:(0,_fp.pickBy)((function(_,key){return key===_types.SiemPageName.overview}),_home_navigations.navTabs)})))),_react.default.createElement(FlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:false,wrap:true},(0,_source.indicesExistOrDataTemporarilyUnavailable)(indicesExist)&&_react.default.createElement(FlexItem,{grow:false},_react.default.createElement(_ml_popover.MlPopover,null)),_react.default.createElement(FlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"add-data",href:"kibana#home/tutorial_directory/siem",iconType:"plusInCircle"},i18n.BUTTON_ADD_DATA)))))}))))}));exports.HeaderGlobal=HeaderGlobal;HeaderGlobal.displayName="HeaderGlobal"},8675:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LinkToPage=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _types=__webpack_require__(7030);var _model=__webpack_require__(504);var _redirect_to_detection_engine=__webpack_require__(7043);var _redirect_to_hosts=__webpack_require__(7202);var _redirect_to_network=__webpack_require__(7315);var _redirect_to_overview=__webpack_require__(7580);var _redirect_to_timelines=__webpack_require__(7581);var _types2=__webpack_require__(7201);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LinkToPage=_react.default.memo((function(_ref){var match=_ref.match;return _react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{component:_redirect_to_overview.RedirectToOverviewPage,path:"".concat(match.url,"/:pageName(").concat(_types.SiemPageName.overview,")")}),_react.default.createElement(_reactRouterDom.Route,{component:_redirect_to_hosts.RedirectToHostsPage,exact:true,path:"".concat(match.url,"/:pageName(").concat(_types.SiemPageName.hosts,")")}),_react.default.createElement(_reactRouterDom.Route,{component:_redirect_to_hosts.RedirectToHostsPage,path:"".concat(match.url,"/:pageName(").concat(_types.SiemPageName.hosts,")/:tabName(").concat(_model.HostsTableType.hosts,"|").concat(_model.HostsTableType.authentications,"|").concat(_model.HostsTableType.uncommonProcesses,"|").concat(_model.HostsTableType.anomalies,"|").concat(_model.HostsTableType.events,"|").concat(_model.HostsTableType.alerts,")")}),_react.default.createElement(_reactRouterDom.Route,{component:_redirect_to_hosts.RedirectToHostDetailsPage,path:"".concat(match.url,"/:pageName(").concat(_types.SiemPageName.hosts,")/:detailName/:tabName(").concat(_model.HostsTableType.authentications,"|").concat(_model.HostsTableType.uncommonProcesses,"|").concat(_model.HostsTableType.anomalies,"|").concat(_model.HostsTableType.events,"|").concat(_model.HostsTableType.alerts,")")}),_react.default.createElement(_reactRouterDom.Route,{component:_redirect_to_hosts.RedirectToHostDetailsPage,path:"".concat(match.url,"/:pageName(").concat(_types.SiemPageName.hosts,")/:detailName")}),_react.default.createElement(_reactRouterDom.Route,{component:_redirect_to_network.RedirectToNetworkPage,exact:true,path:"".concat(match.url,"/:pageName(").concat(_types.SiemPageName.network,")")}),_react.default.createElement(_reactRouterDom.Route,{component:_redirect_to_network.RedirectToNetworkPage,path:"".concat(match.url,"/:pageName(").concat(_types.SiemPageName.network,")/ip/:detailName/:flowTarget")}),_react.default.createElement(_reactRouterDom.Route,{component:_redirect_to_detection_engine.RedirectToDetectionEnginePage,exact:true,path:"".concat(match.url,"/:pageName(").concat(_types.SiemPageName.detections,")")}),_react.default.createElement(_reactRouterDom.Route,{component:_redirect_to_detection_engine.RedirectToDetectionEnginePage,exact:true,path:"".concat(match.url,"/:pageName(").concat(_types.SiemPageName.detections,")/:tabName(").concat(_types2.DetectionEngineTab.alerts,"|").concat(_types2.DetectionEngineTab.signals,")")}),_react.default.createElement(_reactRouterDom.Route,{component:_redirect_to_detection_engine.RedirectToRulesPage,exact:true,path:"".concat(match.url,"/:pageName(").concat(_types.SiemPageName.detections,")/rules")}),_react.default.createElement(_reactRouterDom.Route,{component:_redirect_to_detection_engine.RedirectToCreateRulePage,path:"".concat(match.url,"/:pageName(").concat(_types.SiemPageName.detections,")/rules/create")}),_react.default.createElement(_reactRouterDom.Route,{component:_redirect_to_detection_engine.RedirectToRuleDetailsPage,exact:true,path:"".concat(match.url,"/:pageName(").concat(_types.SiemPageName.detections,")/rules/id/:detailName")}),_react.default.createElement(_reactRouterDom.Route,{component:_redirect_to_detection_engine.RedirectToEditRulePage,path:"".concat(match.url,"/:pageName(").concat(_types.SiemPageName.detections,")/rules/id/:detailName/edit")}),_react.default.createElement(_reactRouterDom.Route,{component:_redirect_to_timelines.RedirectToTimelinesPage,path:"".concat(match.url,"/:pageName(").concat(_types.SiemPageName.timelines,")")}),_react.default.createElement(_reactRouterDom.Redirect,{to:"/"}))}));exports.LinkToPage=LinkToPage;LinkToPage.displayName="LinkToPage"},8676:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useScrollToTop=void 0;var _react=__webpack_require__(0);var useScrollToTop=function useScrollToTop(){(0,_react.useEffect)((function(){if(window.scroll){window.scroll(0,0)}else{window.scrollTo(0,0)}}));return null};exports.useScrollToTop=useScrollToTop},8677:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TIMELINES=exports.DETECTION_ENGINE=exports.NETWORK=exports.HOSTS=exports.OVERVIEW=void 0;var _i18n=__webpack_require__(2);var OVERVIEW=_i18n.i18n.translate("xpack.siem.navigation.overview",{defaultMessage:"Overview"});exports.OVERVIEW=OVERVIEW;var HOSTS=_i18n.i18n.translate("xpack.siem.navigation.hosts",{defaultMessage:"Hosts"});exports.HOSTS=HOSTS;var NETWORK=_i18n.i18n.translate("xpack.siem.navigation.network",{defaultMessage:"Network"});exports.NETWORK=NETWORK;var DETECTION_ENGINE=_i18n.i18n.translate("xpack.siem.navigation.detectionEngine",{defaultMessage:"Detections"});exports.DETECTION_ENGINE=DETECTION_ENGINE;var TIMELINES=_i18n.i18n.translate("xpack.siem.navigation.timelines",{defaultMessage:"Timelines"});exports.TIMELINES=TIMELINES},8678:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MlPopover=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _moment=_interopRequireDefault(__webpack_require__(13));var _react2=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _kibana=__webpack_require__(7013);var _telemetry=__webpack_require__(995);var _error_to_toaster=__webpack_require__(7039);var _has_ml_admin_permissions=__webpack_require__(8680);var _ml_capabilities_provider=__webpack_require__(7064);var _toasters=__webpack_require__(7019);var _api=__webpack_require__(7584);var _helpers=__webpack_require__(8684);var _use_siem_jobs=__webpack_require__(7317);var _jobs_table_filters=__webpack_require__(8688);var _jobs_table=__webpack_require__(8690);var _showing_count=__webpack_require__(8693);var _popover_description=__webpack_require__(8694);var i18n=_interopRequireWildcard(__webpack_require__(7587));var _upgrade_contents=__webpack_require__(8695);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var PopoverContentsDiv=_styledComponents.default.div.withConfig({displayName:"PopoverContentsDiv",componentId:"sc-1kqieep-0"})(["max-width:684px;"]);PopoverContentsDiv.displayName="PopoverContentsDiv";function mlPopoverReducer(state,action){switch(action.type){case"refresh":{return _objectSpread({},state,{refreshToggle:!state.refreshToggle})}case"loading":{return _objectSpread({},state,{isLoading:true})}case"success":{return _objectSpread({},state,{isLoading:false,jobs:action.results})}case"failure":{return _objectSpread({},state,{isLoading:false,jobs:[]})}default:return state}}var initialState={isLoading:false,jobs:[],refreshToggle:true};var defaultFilterProps={filterQuery:"",showCustomJobs:false,showElasticJobs:false,selectedGroups:[]};var MlPopover=_react2.default.memo((function(){var _useReducer=(0,_react2.useReducer)(mlPopoverReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),refreshToggle=_useReducer2[0].refreshToggle,dispatch=_useReducer2[1];var _useState=(0,_react2.useState)(false),_useState2=_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setIsPopoverOpen=_useState2[1];var _useState3=(0,_react2.useState)(defaultFilterProps),_useState4=_slicedToArray(_useState3,2),filterProperties=_useState4[0],setFilterProperties=_useState4[1];var _useSiemJobs=(0,_use_siem_jobs.useSiemJobs)(refreshToggle),_useSiemJobs2=_slicedToArray(_useSiemJobs,2),isLoadingSiemJobs=_useSiemJobs2[0],siemJobs=_useSiemJobs2[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];var capabilities=(0,_react2.useContext)(_ml_capabilities_provider.MlCapabilitiesContext);var docLinks=(0,_kibana.useKibana)().services.docLinks;var enableDatafeed=function enableDatafeed(job,latestTimestampMs,enable){var maxStartTime,startTime;return regeneratorRuntime.async((function enableDatafeed$(_context){while(1){switch(_context.prev=_context.next){case 0:submitTelemetry(job,enable);if(job.isInstalled){_context.next=12;break}_context.prev=2;_context.next=5;return regeneratorRuntime.awrap((0,_api.setupMlJob)({configTemplate:job.moduleId,indexPatternName:job.defaultIndexPattern,jobIdErrorFilter:[job.id],groups:job.groups}));case 5:_context.next=12;break;case 7:_context.prev=7;_context.t0=_context["catch"](2);(0,_error_to_toaster.errorToToaster)({title:i18n.CREATE_JOB_FAILURE,error:_context.t0,dispatchToaster:dispatchToaster});dispatch({type:"refresh"});return _context.abrupt("return");case 12:maxStartTime=_moment.default.utc().subtract(14,"days").valueOf();if(!enable){_context.next=26;break}startTime=Math.max(latestTimestampMs,maxStartTime);_context.prev=15;_context.next=18;return regeneratorRuntime.awrap((0,_api.startDatafeeds)({datafeedIds:["datafeed-".concat(job.id)],start:startTime}));case 18:_context.next=24;break;case 20:_context.prev=20;_context.t1=_context["catch"](15);(0,_telemetry.track)(_telemetry.METRIC_TYPE.COUNT,_telemetry.TELEMETRY_EVENT.JOB_ENABLE_FAILURE);(0,_error_to_toaster.errorToToaster)({title:i18n.START_JOB_FAILURE,error:_context.t1,dispatchToaster:dispatchToaster});case 24:_context.next=35;break;case 26:_context.prev=26;_context.next=29;return regeneratorRuntime.awrap((0,_api.stopDatafeeds)({datafeedIds:["datafeed-".concat(job.id)]}));case 29:_context.next=35;break;case 31:_context.prev=31;_context.t2=_context["catch"](26);(0,_telemetry.track)(_telemetry.METRIC_TYPE.COUNT,_telemetry.TELEMETRY_EVENT.JOB_DISABLE_FAILURE);(0,_error_to_toaster.errorToToaster)({title:i18n.STOP_JOB_FAILURE,error:_context.t2,dispatchToaster:dispatchToaster});case 35:dispatch({type:"refresh"});case 36:case"end":return _context.stop()}}}),null,null,[[2,7],[15,20],[26,31]])};var filteredJobs=(0,_helpers.filterJobs)(_objectSpread({jobs:siemJobs},filterProperties));var incompatibleJobCount=siemJobs.filter((function(j){return!j.isCompatible})).length;if(!capabilities.isPlatinumOrTrialLicense){return _react2.default.createElement(_eui.EuiPopover,{anchorPosition:"downRight",id:"integrations-popover",button:_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"integrations-button",iconType:"arrowDown",iconSide:"right",onClick:function onClick(){return setIsPopoverOpen(!isPopoverOpen)}},i18n.ANOMALY_DETECTION),isOpen:isPopoverOpen,closePopover:function closePopover(){return setIsPopoverOpen(!isPopoverOpen)}},_react2.default.createElement(_upgrade_contents.UpgradeContents,null))}else if((0,_has_ml_admin_permissions.hasMlAdminPermissions)(capabilities)){return _react2.default.createElement(_eui.EuiPopover,{anchorPosition:"downRight",id:"integrations-popover",button:_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"integrations-button",iconType:"arrowDown",iconSide:"right",onClick:function onClick(){setIsPopoverOpen(!isPopoverOpen);dispatch({type:"refresh"})}},i18n.ANOMALY_DETECTION),isOpen:isPopoverOpen,closePopover:function closePopover(){return setIsPopoverOpen(!isPopoverOpen)}},_react2.default.createElement(PopoverContentsDiv,{"data-test-subj":"ml-popover-contents"},_react2.default.createElement(_eui.EuiPopoverTitle,null,i18n.ANOMALY_DETECTION_TITLE),_react2.default.createElement(_popover_description.PopoverDescription,null),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_jobs_table_filters.JobsTableFilters,{siemJobs:siemJobs,onFilterChanged:setFilterProperties}),_react2.default.createElement(_showing_count.ShowingCount,{filterResultsLength:filteredJobs.length}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),incompatibleJobCount>0&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:i18n.MODULE_NOT_COMPATIBLE_TITLE(incompatibleJobCount),color:"warning",iconType:"alert",size:"s"},_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{defaultMessage:"We could not find any data, see {mlDocs} for more information on Machine Learning job requirements.",id:"xpack.siem.components.mlPopup.moduleNotCompatibleDescription",values:{mlDocs:_react2.default.createElement("a",{href:"".concat(docLinks.ELASTIC_WEBSITE_URL,"guide/en/siem/guide/").concat(docLinks.DOC_LINK_VERSION,"/machine-learning.html"),rel:"noopener noreferrer",target:"_blank"},"Anomaly Detection with Machine Learning")}}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"})),_react2.default.createElement(_jobs_table.JobsTable,{isLoading:isLoadingSiemJobs,jobs:filteredJobs,onJobStateChange:enableDatafeed})))}else{return null}}));exports.MlPopover=MlPopover;var submitTelemetry=function submitTelemetry(job,enabled){(0,_telemetry.track)(_telemetry.METRIC_TYPE.COUNT,job.isElasticJob?enabled?_telemetry.TELEMETRY_EVENT.SIEM_JOB_ENABLED:_telemetry.TELEMETRY_EVENT.SIEM_JOB_DISABLED:enabled?_telemetry.TELEMETRY_EVENT.CUSTOM_JOB_ENABLED:_telemetry.TELEMETRY_EVENT.CUSTOM_JOB_DISABLED)};MlPopover.displayName="MlPopover"},8679:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.STATUS_CODE=void 0;var _i18n=__webpack_require__(2);var STATUS_CODE=_i18n.i18n.translate("xpack.siem.components.ml.api.errors.statusCodeFailureTitle",{defaultMessage:"Status Code:"});exports.STATUS_CODE=STATUS_CODE},8680:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasMlAdminPermissions=void 0;var hasMlAdminPermissions=function hasMlAdminPermissions(capabilities){return getDataFeedPermissions(capabilities)&&getJobPermissions(capabilities)&&getFilterPermissions(capabilities)&&getCalendarPermissions(capabilities)};exports.hasMlAdminPermissions=hasMlAdminPermissions;var getDataFeedPermissions=function getDataFeedPermissions(_ref){var capabilities=_ref.capabilities;return capabilities.canGetDatafeeds&&capabilities.canStartStopDatafeed&&capabilities.canUpdateDatafeed&&capabilities.canPreviewDatafeed};var getJobPermissions=function getJobPermissions(_ref2){var capabilities=_ref2.capabilities;return capabilities.canCreateJob&&capabilities.canGetJobs&&capabilities.canUpdateJob&&capabilities.canDeleteJob&&capabilities.canOpenJob&&capabilities.canCloseJob&&capabilities.canForecastJob};var getFilterPermissions=function getFilterPermissions(_ref3){var capabilities=_ref3.capabilities;return capabilities.canGetFilters&&capabilities.canCreateFilter&&capabilities.canDeleteFilter};var getCalendarPermissions=function getCalendarPermissions(_ref4){var capabilities=_ref4.capabilities;return capabilities.canCreateCalendar&&capabilities.canGetCalendars&&capabilities.canDeleteCalendar}},8681:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMlCapabilities=void 0;var _chrome=_interopRequireDefault(__webpack_require__(8));var _api=__webpack_require__(7106);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getMlCapabilities=function getMlCapabilities(signal){var response;return regeneratorRuntime.async((function getMlCapabilities$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath(),"/api/ml/ml_capabilities"),{method:"GET",credentials:"same-origin",headers:{"content-Type":"application/json","kbn-system-api":"true","kbn-xsrf":"true"},signal:signal}));case 2:response=_context.sent;_context.next=5;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 5:return _context.abrupt("return",response.json());case 6:case"end":return _context.stop()}}}))};exports.getMlCapabilities=getMlCapabilities},8682:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.emptyMlCapabilities=void 0;var emptyMlCapabilities={capabilities:{canGetJobs:false,canCreateJob:false,canDeleteJob:false,canOpenJob:false,canCloseJob:false,canForecastJob:false,canGetDatafeeds:false,canStartStopDatafeed:false,canUpdateJob:false,canUpdateDatafeed:false,canPreviewDatafeed:false,canGetCalendars:false,canCreateCalendar:false,canDeleteCalendar:false,canGetFilters:false,canCreateFilter:false,canDeleteFilter:false,canFindFileStructure:false,canGetDataFrame:false,canDeleteDataFrame:false,canPreviewDataFrame:false,canCreateDataFrame:false,canStartStopDataFrame:false,canGetDataFrameAnalytics:false,canDeleteDataFrameAnalytics:false,canCreateDataFrameAnalytics:false,canStartStopDataFrameAnalytics:false},isPlatinumOrTrialLicense:false,mlFeatureEnabledInSpace:false,upgradeInProgress:false};exports.emptyMlCapabilities=emptyMlCapabilities},8683:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MACHINE_LEARNING_PERMISSIONS_FAILURE=void 0;var _i18n=__webpack_require__(2);var MACHINE_LEARNING_PERMISSIONS_FAILURE=_i18n.i18n.translate("xpack.siem.components.ml.permissions.errors.machineLearningPermissionsFailureTitle",{defaultMessage:"Machine learning permissions failure"});exports.MACHINE_LEARNING_PERMISSIONS_FAILURE=MACHINE_LEARNING_PERMISSIONS_FAILURE},8684:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getStablePatternTitles=exports.searchFilter=exports.filterJobs=void 0;var filterJobs=function filterJobs(_ref){var jobs=_ref.jobs,selectedGroups=_ref.selectedGroups,showCustomJobs=_ref.showCustomJobs,showElasticJobs=_ref.showElasticJobs,filterQuery=_ref.filterQuery;return searchFilter(jobs.filter((function(job){return!showCustomJobs||showCustomJobs&&!job.isElasticJob})).filter((function(job){return!showElasticJobs||showElasticJobs&&job.isElasticJob})).filter((function(job){return selectedGroups.length===0||selectedGroups.some((function(g){return job.groups.includes(g)}))})),filterQuery)};exports.filterJobs=filterJobs;var searchFilter=function searchFilter(jobs,filterQuery){return jobs.filter((function(job){return filterQuery==null?true:job.id.includes(filterQuery)||job.description.includes(filterQuery)}))};exports.searchFilter=searchFilter;var getStablePatternTitles=function getStablePatternTitles(patterns){return patterns.sort().join()};exports.getStablePatternTitles=getStablePatternTitles},8685:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SIEM_JOB_FETCH_FAILURE=void 0;var _i18n=__webpack_require__(2);var SIEM_JOB_FETCH_FAILURE=_i18n.i18n.translate("xpack.siem.components.mlPopup.hooks.errors.siemJobFetchFailureTitle",{defaultMessage:"SIEM job fetch failure"});exports.SIEM_JOB_FETCH_FAILURE=SIEM_JOB_FETCH_FAILURE},8686:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createSiemJobs=exports.composeModuleAndInstalledJobs=exports.getInstalledJobs=exports.getModuleJobs=exports.getAugmentedFields=exports.moduleToSiemJob=void 0;var _ml_modules=__webpack_require__(8687);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var moduleToSiemJob=function moduleToSiemJob(module,moduleJob,isCompatible){return{datafeedId:"",datafeedIndices:[],datafeedState:"",hasDatafeed:false,isSingleMetricViewerJob:false,jobState:"",memory_status:"",processed_record_count:0,id:moduleJob.id,description:moduleJob.config.description,groups:_toConsumableArray(moduleJob.config.groups).sort(),defaultIndexPattern:module.defaultIndexPattern,moduleId:module.id,isCompatible:isCompatible,isInstalled:false,isElasticJob:true}};exports.moduleToSiemJob=moduleToSiemJob;var getAugmentedFields=function getAugmentedFields(jobId,moduleJobs,compatibleModuleIds){var moduleJob=moduleJobs.find((function(mj){return mj.id===jobId}));return moduleJob!==undefined?{moduleId:moduleJob.moduleId,defaultIndexPattern:moduleJob.defaultIndexPattern,isCompatible:compatibleModuleIds.includes(moduleJob.moduleId),isElasticJob:true}:{moduleId:"",defaultIndexPattern:"",isCompatible:true,isElasticJob:false}};exports.getAugmentedFields=getAugmentedFields;var getModuleJobs=function getModuleJobs(modulesData,compatibleModuleIds){return modulesData.filter((function(module){return _ml_modules.mlModules.includes(module.id)})).map((function(module){return _toConsumableArray(module.jobs.map((function(moduleJob){return moduleToSiemJob(module,moduleJob,compatibleModuleIds.includes(module.id))})))})).flat()};exports.getModuleJobs=getModuleJobs;var getInstalledJobs=function getInstalledJobs(jobSummaryData,moduleJobs,compatibleModuleIds){return jobSummaryData.filter((function(_ref){var groups=_ref.groups;return groups.includes("siem")})).map((function(jobSummary){return _objectSpread({},jobSummary,{},getAugmentedFields(jobSummary.id,moduleJobs,compatibleModuleIds),{isInstalled:true})}))};exports.getInstalledJobs=getInstalledJobs;var composeModuleAndInstalledJobs=function composeModuleAndInstalledJobs(installedJobs,moduleSiemJobs){var installedJobsIds=installedJobs.map((function(installedJob){return installedJob.id}));return[].concat(_toConsumableArray(installedJobs),_toConsumableArray(moduleSiemJobs.filter((function(mj){return!installedJobsIds.includes(mj.id)})))).sort((function(a,b){return a.id.localeCompare(b.id)}))};exports.composeModuleAndInstalledJobs=composeModuleAndInstalledJobs;var createSiemJobs=function createSiemJobs(jobSummaryData,modulesData,compatibleModules){var compatibleModuleIds=compatibleModules.map((function(module){return module.id}));var moduleSiemJobs=getModuleJobs(modulesData,compatibleModuleIds);var installedJobs=getInstalledJobs(jobSummaryData,moduleSiemJobs,compatibleModuleIds);return composeModuleAndInstalledJobs(installedJobs,moduleSiemJobs)};exports.createSiemJobs=createSiemJobs},8687:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.mlModules=void 0;var mlModules=["siem_auditbeat","siem_auditbeat_auth","siem_packetbeat","siem_winlogbeat","siem_winlogbeat_auth"];exports.mlModules=mlModules},8688:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobsTableFilters=exports.JobsTableFiltersComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var i18n=_interopRequireWildcard(__webpack_require__(7585));var _groups_filter_popover=__webpack_require__(8689);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var JobsTableFiltersComponent=function JobsTableFiltersComponent(_ref){var siemJobs=_ref.siemJobs,onFilterChanged=_ref.onFilterChanged;var _useState=(0,_react.useState)(""),_useState2=_slicedToArray(_useState,2),filterQuery=_useState2[0],setFilterQuery=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=_slicedToArray(_useState3,2),selectedGroups=_useState4[0],setSelectedGroups=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),showCustomJobs=_useState6[0],setShowCustomJobs=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=_slicedToArray(_useState7,2),showElasticJobs=_useState8[0],setShowElasticJobs=_useState8[1];(0,_react.useEffect)((function(){onFilterChanged({filterQuery:filterQuery,showCustomJobs:showCustomJobs,showElasticJobs:showElasticJobs,selectedGroups:selectedGroups})}),[filterQuery,selectedGroups,showCustomJobs,showElasticJobs,onFilterChanged]);var handleChange=(0,_react.useCallback)((function(query){return setFilterQuery(query.queryText.trim())}),[setFilterQuery]);var handleElasticJobsClick=(0,_react.useCallback)((function(){setShowElasticJobs(!showElasticJobs);setShowCustomJobs(false)}),[setShowElasticJobs,showElasticJobs,setShowCustomJobs]);var handleCustomJobsClick=(0,_react.useCallback)((function(){setShowCustomJobs(!showCustomJobs);setShowElasticJobs(false)}),[setShowElasticJobs,showCustomJobs,setShowCustomJobs]);return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_eui.EuiSearchBar,{"data-test-subj":"jobs-filter-bar",box:{placeholder:i18n.FILTER_PLACEHOLDER,incremental:true},onChange:handleChange})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFilterGroup,null,_react.default.createElement(_groups_filter_popover.GroupsFilterPopover,{siemJobs:siemJobs,onSelectedGroupsChanged:setSelectedGroups}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFilterGroup,null,_react.default.createElement(_eui.EuiFilterButton,{hasActiveFilters:showElasticJobs,onClick:handleElasticJobsClick,"data-test-subj":"show-elastic-jobs-filter-button",withNext:true},i18n.SHOW_ELASTIC_JOBS),_react.default.createElement(_eui.EuiFilterButton,{hasActiveFilters:showCustomJobs,onClick:handleCustomJobsClick,"data-test-subj":"show-custom-jobs-filter-button"},i18n.SHOW_CUSTOM_JOBS))))};exports.JobsTableFiltersComponent=JobsTableFiltersComponent;JobsTableFiltersComponent.displayName="JobsTableFiltersComponent";var JobsTableFilters=_react.default.memo(JobsTableFiltersComponent);exports.JobsTableFilters=JobsTableFilters;JobsTableFilters.displayName="JobsTableFilters"},8689:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GroupsFilterPopover=exports.GroupsFilterPopoverComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var i18n=_interopRequireWildcard(__webpack_require__(7585));var _toggle_selected_group=__webpack_require__(7586);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var GroupsFilterPopoverComponent=function GroupsFilterPopoverComponent(_ref){var siemJobs=_ref.siemJobs,onSelectedGroupsChanged=_ref.onSelectedGroupsChanged;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isGroupPopoverOpen=_useState2[0],setIsGroupPopoverOpen=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=_slicedToArray(_useState3,2),selectedGroups=_useState4[0],setSelectedGroups=_useState4[1];var groups=siemJobs.map((function(j){return j.groups})).flat().filter((function(g){return g!=="siem"}));var uniqueGroups=Array.from(new Set(groups));(0,_react.useEffect)((function(){onSelectedGroupsChanged(selectedGroups)}),[selectedGroups.sort().join()]);return _react.default.createElement(_eui.EuiPopover,{ownFocus:true,button:_react.default.createElement(_eui.EuiFilterButton,{"data-test-subj":"groups-filter-popover-button",iconType:"arrowDown",onClick:function onClick(){return setIsGroupPopoverOpen(!isGroupPopoverOpen)},isSelected:isGroupPopoverOpen,hasActiveFilters:selectedGroups.length>0,numActiveFilters:selectedGroups.length},i18n.GROUPS),isOpen:isGroupPopoverOpen,closePopover:function closePopover(){return setIsGroupPopoverOpen(!isGroupPopoverOpen)},panelPaddingSize:"none"},uniqueGroups.map((function(group,index){return _react.default.createElement(_eui.EuiFilterSelectItem,{checked:selectedGroups.includes(group)?"on":undefined,key:"".concat(index,"-").concat(group),onClick:function onClick(){return(0,_toggle_selected_group.toggleSelectedGroup)(group,selectedGroups,setSelectedGroups)}},"".concat(group," (").concat(groups.filter((function(g){return g===group})).length,")"))})),uniqueGroups.length===0&&_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",justifyContent:"spaceAround"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_eui.EuiIcon,{type:"minusInCircle"}),_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react.default.createElement("p",null,i18n.NO_GROUPS_AVAILABLE))))};exports.GroupsFilterPopoverComponent=GroupsFilterPopoverComponent;GroupsFilterPopoverComponent.displayName="GroupsFilterPopoverComponent";var GroupsFilterPopover=_react.default.memo(GroupsFilterPopoverComponent);exports.GroupsFilterPopover=GroupsFilterPopover;GroupsFilterPopover.displayName="GroupsFilterPopover"},8690:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoItemsMessage=exports.JobsTable=exports.JobsTableComponent=void 0;var _chrome=_interopRequireDefault(__webpack_require__(8));var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var i18n=_interopRequireWildcard(__webpack_require__(8691));var _job_switch=__webpack_require__(8692);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var JobNameWrapper=_styledComponents.default.div.withConfig({displayName:"JobNameWrapper",componentId:"sc-11hcpw8-0"})(["margin:5px 0;"]);JobNameWrapper.displayName="JobNameWrapper";var truncateThreshold=200;var getJobsTableColumns=function getJobsTableColumns(isLoading,onJobStateChange){return[{name:i18n.COLUMN_JOB_NAME,render:function render(_ref){var id=_ref.id,description=_ref.description;return _react.default.createElement(JobNameWrapper,null,_react.default.createElement(_eui.EuiLink,{"data-test-subj":"jobs-table-link",href:"".concat(_chrome.default.getBasePath(),"/app/ml#/jobs?mlManagement=(jobId:").concat(encodeURI(id),")"),target:"_blank"},_react.default.createElement(_eui.EuiText,{size:"s"},id)),_react.default.createElement(_eui.EuiText,{color:"subdued",size:"xs"},description.length>truncateThreshold?"".concat(description.substring(0,truncateThreshold),"..."):description))}},{name:i18n.COLUMN_GROUPS,render:function render(_ref2){var groups=_ref2.groups;return _react.default.createElement(_eui.EuiFlexGroup,{wrap:true,responsive:true,gutterSize:"xs"},groups.map((function(group){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:group},_react.default.createElement(_eui.EuiBadge,{color:"hollow"},group))})))},width:"140px"},{name:i18n.COLUMN_RUN_JOB,render:function render(job){return job.isCompatible?_react.default.createElement(_job_switch.JobSwitch,{job:job,isSiemJobsLoading:isLoading,onJobStateChange:onJobStateChange}):_react.default.createElement(_eui.EuiIcon,{"aria-label":"Warning",size:"s",type:"alert",color:"warning"})},align:_eui.CENTER_ALIGNMENT,width:"80px"}]};var getPaginatedItems=function getPaginatedItems(items,pageIndex,pageSize){return items.slice(pageIndex*pageSize,pageIndex*pageSize+pageSize)};var JobsTableComponent=function JobsTableComponent(_ref3){var isLoading=_ref3.isLoading,jobs=_ref3.jobs,onJobStateChange=_ref3.onJobStateChange;var _useState=(0,_react.useState)(0),_useState2=_slicedToArray(_useState,2),pageIndex=_useState2[0],setPageIndex=_useState2[1];var pageSize=5;var pagination={hidePerPageOptions:true,pageIndex:pageIndex,pageSize:pageSize,totalItemCount:jobs.length};(0,_react.useEffect)((function(){setPageIndex(0)}),[jobs.length]);return _react.default.createElement(_eui.EuiBasicTable,{"data-test-subj":"jobs-table",compressed:true,columns:getJobsTableColumns(isLoading,onJobStateChange),items:getPaginatedItems(jobs,pageIndex,pageSize),loading:isLoading,noItemsMessage:_react.default.createElement(NoItemsMessage,null),pagination:pagination,responsive:false,onChange:function onChange(_ref4){var page=_ref4.page;setPageIndex(page.index)}})};exports.JobsTableComponent=JobsTableComponent;JobsTableComponent.displayName="JobsTableComponent";var JobsTable=_react.default.memo(JobsTableComponent);exports.JobsTable=JobsTable;JobsTable.displayName="JobsTable";var NoItemsMessage=_react.default.memo((function(){return _react.default.createElement(_eui.EuiEmptyPrompt,{title:_react.default.createElement("h3",null,i18n.NO_ITEMS_TEXT),titleSize:"xs",actions:_react.default.createElement(_eui.EuiButton,{href:"ml#/jobs/new_job/step/index_or_search",iconType:"popout",iconSide:"right",size:"s",target:"_blank"},i18n.CREATE_CUSTOM_JOB)})}));exports.NoItemsMessage=NoItemsMessage;NoItemsMessage.displayName="NoItemsMessage"},8691:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CREATE_CUSTOM_JOB=exports.NO_ITEMS_TEXT=exports.COLUMN_RUN_JOB=exports.COLUMN_GROUPS=exports.COLUMN_JOB_NAME=void 0;var _i18n=__webpack_require__(2);var COLUMN_JOB_NAME=_i18n.i18n.translate("xpack.siem.components.mlPopup.jobsTable.jobNameColumn",{defaultMessage:"Job name"});exports.COLUMN_JOB_NAME=COLUMN_JOB_NAME;var COLUMN_GROUPS=_i18n.i18n.translate("xpack.siem.components.mlPopup.jobsTable.tagsColumn",{defaultMessage:"Groups"});exports.COLUMN_GROUPS=COLUMN_GROUPS;var COLUMN_RUN_JOB=_i18n.i18n.translate("xpack.siem.components.mlPopup.jobsTable.runJobColumn",{defaultMessage:"Run job"});exports.COLUMN_RUN_JOB=COLUMN_RUN_JOB;var NO_ITEMS_TEXT=_i18n.i18n.translate("xpack.siem.components.mlPopup.jobsTable.noItemsDescription",{defaultMessage:"No SIEM Machine Learning jobs found"});exports.NO_ITEMS_TEXT=NO_ITEMS_TEXT;var CREATE_CUSTOM_JOB=_i18n.i18n.translate("xpack.siem.components.mlPopup.jobsTable.createCustomJobButtonLabel",{defaultMessage:"Create custom job"});exports.CREATE_CUSTOM_JOB=CREATE_CUSTOM_JOB},8692:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobSwitch=exports.JobSwitchComponent=exports.isFailure=exports.isJobLoading=exports.isChecked=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var StaticSwitch=(0,_styledComponents.default)(_eui.EuiSwitch).withConfig({displayName:"StaticSwitch",componentId:"bkss9i-0"})([".euiSwitch__thumb,.euiSwitch__icon{transition:none;}"]);StaticSwitch.displayName="StaticSwitch";var enabledStates=["started","opened"];var loadingStates=["starting","stopping","opening","closing"];var failureStates=["deleted","failed"];var isChecked=function isChecked(jobState,datafeedState){return enabledStates.includes(jobState)&&enabledStates.includes(datafeedState)};exports.isChecked=isChecked;var isJobLoading=function isJobLoading(jobState,datafeedState){return loadingStates.includes(jobState)||loadingStates.includes(datafeedState)};exports.isJobLoading=isJobLoading;var isFailure=function isFailure(jobState,datafeedState){return failureStates.includes(jobState)||failureStates.includes(datafeedState)};exports.isFailure=isFailure;var JobSwitchComponent=function JobSwitchComponent(_ref){var job=_ref.job,isSiemJobsLoading=_ref.isSiemJobsLoading,onJobStateChange=_ref.onJobStateChange;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var handleChange=(0,_react.useCallback)((function _callee(e){return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.next=3;return regeneratorRuntime.awrap(onJobStateChange(job,job.latestTimestampMs||0,e.target.checked));case 3:setIsLoading(false);case 4:case"end":return _context.stop()}}}))}),[job,setIsLoading,onJobStateChange]);return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},isSiemJobsLoading||isLoading||isJobLoading(job.jobState,job.datafeedState)?_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m","data-test-subj":"job-switch-loader"}):_react.default.createElement(StaticSwitch,{"data-test-subj":"job-switch",disabled:isFailure(job.jobState,job.datafeedState),checked:isChecked(job.jobState,job.datafeedState),onChange:handleChange,showLabel:false,label:""})))};exports.JobSwitchComponent=JobSwitchComponent;JobSwitchComponent.displayName="JobSwitchComponent";var JobSwitch=_react.default.memo(JobSwitchComponent);exports.JobSwitch=JobSwitch;JobSwitch.displayName="JobSwitch"},8693:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShowingCount=exports.ShowingCountComponent=void 0;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ShowingContainer=_styledComponents.default.div.withConfig({displayName:"ShowingContainer",componentId:"vaiucl-0"})(["user-select:none;margin-top:5px;"]);ShowingContainer.displayName="ShowingContainer";var ShowingCountComponent=function ShowingCountComponent(_ref){var filterResultsLength=_ref.filterResultsLength;return _react2.default.createElement(ShowingContainer,{"data-test-subj":"showing"},_react2.default.createElement(_eui.EuiText,{color:"subdued",size:"xs"},_react2.default.createElement(_react.FormattedMessage,{"data-test-subj":"query-message",id:"xpack.siem.components.mlPopup.showingLabel",defaultMessage:"Showing: {filterResultsLength} {filterResultsLength, plural, one {job} other {jobs}}",values:{filterResultsLength:filterResultsLength}})))};exports.ShowingCountComponent=ShowingCountComponent;ShowingCountComponent.displayName="ShowingCountComponent";var ShowingCount=_react2.default.memo(ShowingCountComponent);exports.ShowingCount=ShowingCount;ShowingCount.displayName="ShowingCount"},8694:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PopoverDescription=exports.PopoverDescriptionComponent=void 0;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _chrome=_interopRequireDefault(__webpack_require__(8));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PopoverDescriptionComponent=function PopoverDescriptionComponent(){return _react2.default.createElement(_eui.EuiText,{size:"s"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.components.mlPopup.anomalyDetectionDescription",defaultMessage:"Run any of the Machine Learning jobs below to view anomalous events throughout the SIEM application. Weve provided a few common detection jobs to get you started. If you wish to add your own custom jobs, simply create and tag them with SIEM from the {machineLearning} application for inclusion here.",values:{machineLearning:_react2.default.createElement(_eui.EuiLink,{href:"".concat(_chrome.default.getBasePath(),"/app/ml"),target:"_blank"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.components.mlPopup.machineLearningLink",defaultMessage:"Machine Learning"}))}}))};exports.PopoverDescriptionComponent=PopoverDescriptionComponent;PopoverDescriptionComponent.displayName="PopoverDescriptionComponent";var PopoverDescription=_react2.default.memo(PopoverDescriptionComponent);exports.PopoverDescription=PopoverDescription;PopoverDescription.displayName="PopoverDescription"},8695:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpgradeContents=exports.UpgradeContentsComponent=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(8));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);var i18n=_interopRequireWildcard(__webpack_require__(7587));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PopoverContentsDiv=_styledComponents.default.div.withConfig({displayName:"PopoverContentsDiv",componentId:"sc-1x9oz32-0"})(["width:384px;"]);PopoverContentsDiv.displayName="PopoverContentsDiv";var UpgradeContentsComponent=function UpgradeContentsComponent(){return _react.default.createElement(PopoverContentsDiv,{"data-test-subj":"ml-popover-upgrade-contents"},_react.default.createElement(_eui.EuiPopoverTitle,null,i18n.UPGRADE_TITLE),_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.siem.components.mlPopup.upgradeDescription",defaultMessage:"To access SIEMs anomaly detection features, you must update your license to Platinum, start a free 30-day trial, or spin up a {cloudLink} on AWS, GCP, or Azure. You can then run Machine Learning jobs and view anomalies.",values:{cloudLink:_react.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/cloud/",target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.siem.components.mlPopup.cloudLink",defaultMessage:"cloud deployment"}))}})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",wrap:true},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{href:"https://www.elastic.co/subscriptions",iconType:"popout",iconSide:"right",target:"_blank"},i18n.UPGRADE_BUTTON)),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{href:"".concat(_chrome.default.getBasePath(),"/app/kibana#/management/elasticsearch/license_management"),iconType:"gear",target:"_blank"},i18n.LICENSE_BUTTON))))};exports.UpgradeContentsComponent=UpgradeContentsComponent;var UpgradeContents=_react.default.memo(UpgradeContentsComponent);exports.UpgradeContents=UpgradeContents;UpgradeContents.displayName="UpgradeContents"},8696:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getBreadcrumbsForRoute=exports.siemRootBreadcrumb=exports.setBreadcrumbs=void 0;var _chrome=_interopRequireDefault(__webpack_require__(8));var _fp=__webpack_require__(223);var _constants=__webpack_require__(977);var _utils=__webpack_require__(7319);var _ip_details=__webpack_require__(7589);var _utils2=__webpack_require__(8751);var _types=__webpack_require__(7030);var _link_to=__webpack_require__(7090);var _helpers=__webpack_require__(7621);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var setBreadcrumbs=function setBreadcrumbs(spyState){var breadcrumbs=getBreadcrumbsForRoute(spyState);if(breadcrumbs){_chrome.default.breadcrumbs.set(breadcrumbs)}};exports.setBreadcrumbs=setBreadcrumbs;var siemRootBreadcrumb=[{text:_constants.APP_NAME,href:(0,_link_to.getOverviewUrl)()}];exports.siemRootBreadcrumb=siemRootBreadcrumb;var isNetworkRoutes=function isNetworkRoutes(spyState){return spyState!=null&&spyState.pageName===_types.SiemPageName.network};var isHostsRoutes=function isHostsRoutes(spyState){return spyState!=null&&spyState.pageName===_types.SiemPageName.hosts};var isDetectionsRoutes=function isDetectionsRoutes(spyState){return spyState!=null&&spyState.pageName===_types.SiemPageName.detections};var getBreadcrumbsForRoute=function getBreadcrumbsForRoute(object){var spyState=(0,_fp.omit)("navTabs",object);if(isHostsRoutes(spyState)&&object.navTabs){var tempNav={urlKey:"host",isDetailPage:false};var urlStateKeys=[(0,_fp.getOr)(tempNav,spyState.pageName,object.navTabs)];if(spyState.tabName!=null){urlStateKeys=[].concat(_toConsumableArray(urlStateKeys),[(0,_fp.getOr)(tempNav,spyState.tabName,object.navTabs)])}return[].concat(siemRootBreadcrumb,_toConsumableArray((0,_utils.getBreadcrumbs)(spyState,urlStateKeys.reduce((function(acc,item){return[].concat(_toConsumableArray(acc),[(0,_helpers.getSearch)(item,object)])}),[]))))}if(isNetworkRoutes(spyState)&&object.navTabs){var _tempNav={urlKey:"network",isDetailPage:false};var _urlStateKeys=[(0,_fp.getOr)(_tempNav,spyState.pageName,object.navTabs)];if(spyState.tabName!=null){_urlStateKeys=[].concat(_toConsumableArray(_urlStateKeys),[(0,_fp.getOr)(_tempNav,spyState.tabName,object.navTabs)])}return[].concat(siemRootBreadcrumb,_toConsumableArray((0,_ip_details.getBreadcrumbs)(spyState,_urlStateKeys.reduce((function(acc,item){return[].concat(_toConsumableArray(acc),[(0,_helpers.getSearch)(item,object)])}),[]))))}if(isDetectionsRoutes(spyState)&&object.navTabs){var _tempNav2={urlKey:"detections",isDetailPage:false};var _urlStateKeys2=[(0,_fp.getOr)(_tempNav2,spyState.pageName,object.navTabs)];if(spyState.tabName!=null){_urlStateKeys2=[].concat(_toConsumableArray(_urlStateKeys2),[(0,_fp.getOr)(_tempNav2,spyState.tabName,object.navTabs)])}return[].concat(siemRootBreadcrumb,_toConsumableArray((0,_utils2.getBreadcrumbs)(spyState,_urlStateKeys2.reduce((function(acc,item){return[].concat(_toConsumableArray(acc),[(0,_helpers.getSearch)(item,object)])}),[]))))}if(spyState!=null&&object.navTabs&&spyState.pageName&&object.navTabs[spyState.pageName]){return[].concat(siemRootBreadcrumb,[{text:object.navTabs[spyState.pageName].name,href:""}])}return null};exports.getBreadcrumbsForRoute=getBreadcrumbsForRoute},8697:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FiltersGlobal=void 0;var _eui_theme_light=_interopRequireDefault(__webpack_require__(18));var _react=_interopRequireDefault(__webpack_require__(0));var _reactSticky=__webpack_require__(1001);var _styledComponents=_interopRequireWildcard(__webpack_require__(30));var _helpers=__webpack_require__(7061);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var offsetChrome=49;var disableSticky="screen and (max-width: ".concat(_eui_theme_light.default.euiBreakpoints.s,")");var disableStickyMq=window.matchMedia(disableSticky);var Wrapper=_styledComponents.default.aside.withConfig({displayName:"Wrapper",componentId:"anvqrs-0"})(["position:relative;z-index:",";background:",";border-bottom:",";padding:"," "," "," ",";"," @media only ","{position:static !important;z-index:"," !important;}"],(function(_ref){var theme=_ref.theme;return theme.eui.euiZNavigation}),(function(_ref2){var theme=_ref2.theme;return theme.eui.euiColorEmptyShade}),(function(_ref3){var theme=_ref3.theme;return theme.eui.euiBorderThin}),(function(_ref4){var theme=_ref4.theme;return theme.eui.paddingSizes.m}),_helpers.gutterTimeline,(function(_ref5){var theme=_ref5.theme;return theme.eui.paddingSizes.m}),(function(_ref6){var theme=_ref6.theme;return theme.eui.paddingSizes.l}),(function(_ref7){var isSticky=_ref7.isSticky;return isSticky&&(0,_styledComponents.css)(["top:","px !important;"],offsetChrome)}),disableSticky,(function(_ref8){var theme=_ref8.theme;return theme.eui.euiZContent}));Wrapper.displayName="Wrapper";var FiltersGlobal=_react.default.memo((function(_ref9){var children=_ref9.children;return _react.default.createElement(_reactSticky.Sticky,{disableCompensation:disableStickyMq.matches,topOffset:-offsetChrome},(function(_ref10){var style=_ref10.style,isSticky=_ref10.isSticky;return _react.default.createElement(Wrapper,{className:"siemFiltersGlobal",isSticky:isSticky,style:style},children)}))}));exports.FiltersGlobal=FiltersGlobal;FiltersGlobal.displayName="FiltersGlobal"},8698:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProviderContainer=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireWildcard(__webpack_require__(30));var _helpers=__webpack_require__(7108);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ProviderContainerComponent=_styledComponents.default.div.withConfig({displayName:"ProviderContainerComponent",componentId:"sc-1geoc-0"})(["&,&::before,&::after{transition:background "," ease,color "," ease;}"," ",""],(function(_ref){var theme=_ref.theme;return theme.eui.euiAnimSpeedFast}),(function(_ref2){var theme=_ref2.theme;return theme.eui.euiAnimSpeedFast}),(function(_ref3){var isDragging=_ref3.isDragging;return!isDragging&&(0,_styledComponents.css)(["&{border-radius:2px;padding:0 4px 0 8px;position:relative;z-index:"," !important;&::before{background-image:linear-gradient( 135deg,"," 25%,transparent 25% ),linear-gradient( -135deg,"," 25%,transparent 25% ),linear-gradient( 135deg,transparent 75%,"," 75% ),linear-gradient( -135deg,transparent 75%,"," 75% );background-position:0 0,1px 0,1px -1px,0px 1px;background-size:2px 2px;bottom:2px;content:'';display:block;left:2px;position:absolute;top:2px;width:4px;}}&:hover{&,& .euiBadge,& .euiBadge__text{cursor:move;cursor:grab;}}.",":hover &,tr:hover &{background-color:",";&::before{background-image:linear-gradient( 135deg,"," 25%,transparent 25% ),linear-gradient( -135deg,"," 25%,transparent 25% ),linear-gradient( 135deg,transparent 75%,"," 75% ),linear-gradient( -135deg,transparent 75%,"," 75% );}}&:hover,&:focus,.",":hover &:hover,.",":focus &:focus,tr:hover &:hover,tr:hover &:focus{background-color:",";&,& a,& a:hover{color:",";}&::before{background-image:linear-gradient( 135deg,"," 25%,transparent 25% ),linear-gradient( -135deg,"," 25%,transparent 25% ),linear-gradient( 135deg,transparent 75%,"," 75% ),linear-gradient( -135deg,transparent 75%,"," 75% );}}"],(function(_ref4){var theme=_ref4.theme;return theme.eui.euiZLevel0}),(function(_ref5){var theme=_ref5.theme;return theme.eui.euiColorMediumShade}),(function(_ref6){var theme=_ref6.theme;return theme.eui.euiColorMediumShade}),(function(_ref7){var theme=_ref7.theme;return theme.eui.euiColorMediumShade}),(function(_ref8){var theme=_ref8.theme;return theme.eui.euiColorMediumShade}),_helpers.STATEFUL_EVENT_CSS_CLASS_NAME,(function(_ref9){var theme=_ref9.theme;return theme.eui.euiColorLightShade}),(function(_ref10){var theme=_ref10.theme;return theme.eui.euiColorDarkShade}),(function(_ref11){var theme=_ref11.theme;return theme.eui.euiColorDarkShade}),(function(_ref12){var theme=_ref12.theme;return theme.eui.euiColorDarkShade}),(function(_ref13){var theme=_ref13.theme;return theme.eui.euiColorDarkShade}),_helpers.STATEFUL_EVENT_CSS_CLASS_NAME,_helpers.STATEFUL_EVENT_CSS_CLASS_NAME,(function(_ref14){var theme=_ref14.theme;return theme.eui.euiColorPrimary}),(function(_ref15){var theme=_ref15.theme;return theme.eui.euiColorEmptyShade}),(function(_ref16){var theme=_ref16.theme;return theme.eui.euiColorEmptyShade}),(function(_ref17){var theme=_ref17.theme;return theme.eui.euiColorEmptyShade}),(function(_ref18){var theme=_ref18.theme;return theme.eui.euiColorEmptyShade}),(function(_ref19){var theme=_ref19.theme;return theme.eui.euiColorEmptyShade}))}),(function(_ref20){var isDragging=_ref20.isDragging;return isDragging&&(0,_styledComponents.css)(["&{z-index:9999 !important;}"])}));ProviderContainerComponent.displayName="ProviderContainerComponent";var ProviderContainer=_react.default.memo(ProviderContainerComponent);exports.ProviderContainer=ProviderContainer;ProviderContainer.displayName="ProviderContainer"},8699:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProviderBadge=void 0;var _eui=__webpack_require__(1);var _classnames=_interopRequireDefault(__webpack_require__(63));var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _empty_value=__webpack_require__(7017);var _data_provider=__webpack_require__(7024);var i18n=_interopRequireWildcard(__webpack_require__(7151));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ProviderBadgeStyled=(0,_styledComponents.default)(_eui.EuiBadge).withConfig({displayName:"ProviderBadgeStyled",componentId:"ookgsb-0"})([".euiToolTipAnchor{&::after{font-style:normal;content:'|';padding:0px 3px;}}&.globalFilterItem{white-space:nowrap;&.globalFilterItem-isDisabled{text-decoration:line-through;font-weight:400;font-style:italic;}}.euiBadge.euiBadge--iconLeft &.euiBadge.euiBadge--iconRight .euiBadge__content{flex-direction:row;}.euiBadge.euiBadge--iconLeft &.euiBadge.euiBadge--iconRight .euiBadge__content .euiBadge__iconButton{margin-right:0;margin-left:4px;}"]);ProviderBadgeStyled.displayName="ProviderBadgeStyled";var ProviderBadge=_react.default.memo((function(_ref){var deleteProvider=_ref.deleteProvider,field=_ref.field,isEnabled=_ref.isEnabled,isExcluded=_ref.isExcluded,operator=_ref.operator,providerId=_ref.providerId,togglePopover=_ref.togglePopover,val=_ref.val;var deleteFilter=function deleteFilter(event){if(event.stopPropagation){event.stopPropagation()}deleteProvider()};var classes=(0,_classnames.default)("globalFilterItem",{"globalFilterItem-isDisabled":!isEnabled,"globalFilterItem-isExcluded":isExcluded});var formattedValue=(0,_fp.isString)(val)&&val===""?(0,_empty_value.getEmptyString)():val;var prefix=isExcluded?_react.default.createElement("span",null,i18n.NOT," "):null;var title="".concat(field,': "').concat(formattedValue,'"');return _react.default.createElement(ProviderBadgeStyled,{id:"".concat(providerId,"-").concat(field,"-").concat(val),className:classes,color:"hollow",title:title,iconOnClick:deleteFilter,iconOnClickAriaLabel:i18n.REMOVE_DATA_PROVIDER,iconType:"cross",iconSide:"right",onClick:togglePopover,onClickAriaLabel:"".concat(i18n.SHOW_OPTIONS_DATA_PROVIDER," ").concat(formattedValue),closeButtonProps:{tabIndex:-1},"data-test-subj":"providerBadge"},prefix,operator!==_data_provider.EXISTS_OPERATOR?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement("span",{className:"field-value"},"".concat(field,": ")),_react.default.createElement("span",{className:"field-value"},'"'.concat(formattedValue,'"'))):_react.default.createElement("span",{className:"field-value"},field," ",i18n.EXISTS_LABEL))}));exports.ProviderBadge=ProviderBadge;ProviderBadge.displayName="ProviderBadge"},8700:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.ProviderItemActions=exports.getProviderActions=exports.DELETE_CLASS_NAME=exports.FILTER_FOR_FIELD_PRESENT_CLASS_NAME=exports.ENABLE_CLASS_NAME=exports.EXCLUDE_CLASS_NAME=exports.EDIT_CLASS_NAME=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _data_provider=__webpack_require__(7024);var _edit_data_provider=__webpack_require__(8701);var i18n=_interopRequireWildcard(__webpack_require__(7151));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EDIT_CLASS_NAME="edit-data-provider";exports.EDIT_CLASS_NAME=EDIT_CLASS_NAME;var EXCLUDE_CLASS_NAME="exclude-data-provider";exports.EXCLUDE_CLASS_NAME=EXCLUDE_CLASS_NAME;var ENABLE_CLASS_NAME="enable-data-provider";exports.ENABLE_CLASS_NAME=ENABLE_CLASS_NAME;var FILTER_FOR_FIELD_PRESENT_CLASS_NAME="filter-for-field-present-data-provider";exports.FILTER_FOR_FIELD_PRESENT_CLASS_NAME=FILTER_FOR_FIELD_PRESENT_CLASS_NAME;var DELETE_CLASS_NAME="delete-data-provider";exports.DELETE_CLASS_NAME=DELETE_CLASS_NAME;var MyEuiPopover=(0,_styledComponents.default)(_eui.EuiPopover).withConfig({displayName:"MyEuiPopover",componentId:"sc-1hmt32j-0"})(["height:100%;user-select:none;"]);MyEuiPopover.displayName="MyEuiPopover";var getProviderActions=function getProviderActions(_ref){var andProviderId=_ref.andProviderId,browserFields=_ref.browserFields,deleteItem=_ref.deleteItem,field=_ref.field,isEnabled=_ref.isEnabled,isExcluded=_ref.isExcluded,isLoading=_ref.isLoading,operator=_ref.operator,onDataProviderEdited=_ref.onDataProviderEdited,onFilterForFieldPresent=_ref.onFilterForFieldPresent,providerId=_ref.providerId,timelineId=_ref.timelineId,toggleEnabled=_ref.toggleEnabled,toggleExcluded=_ref.toggleExcluded,value=_ref.value;return[{id:0,items:[{className:EDIT_CLASS_NAME,disabled:isLoading,icon:"pencil",name:i18n.EDIT_MENU_ITEM,panel:1},{className:EXCLUDE_CLASS_NAME,disabled:isLoading,icon:"".concat(isExcluded?"plusInCircle":"minusInCircle"),name:isExcluded?i18n.INCLUDE_DATA_PROVIDER:i18n.EXCLUDE_DATA_PROVIDER,onClick:toggleExcluded},{className:ENABLE_CLASS_NAME,disabled:isLoading,icon:"".concat(isEnabled?"eyeClosed":"eye"),name:isEnabled?i18n.TEMPORARILY_DISABLE_DATA_PROVIDER:i18n.RE_ENABLE_DATA_PROVIDER,onClick:toggleEnabled},{className:FILTER_FOR_FIELD_PRESENT_CLASS_NAME,disabled:isLoading,icon:"logstashFilter",name:i18n.FILTER_FOR_FIELD_PRESENT,onClick:onFilterForFieldPresent},{className:DELETE_CLASS_NAME,disabled:isLoading,icon:"trash",name:i18n.DELETE_DATA_PROVIDER,onClick:deleteItem}]},{content:browserFields!=null&&timelineId!=null&&onDataProviderEdited!=null?_react.default.createElement(_edit_data_provider.StatefulEditDataProvider,{andProviderId:andProviderId,browserFields:browserFields,field:field,isExcluded:isExcluded,onDataProviderEdited:onDataProviderEdited,operator:operator,providerId:providerId,timelineId:timelineId,value:value}):null,id:1,title:i18n.EDIT_TITLE,width:400}]};exports.getProviderActions=getProviderActions;var ProviderItemActions=function(_React$PureComponent){_inherits(ProviderItemActions,_React$PureComponent);function ProviderItemActions(){var _getPrototypeOf2;var _this;_classCallCheck(this,ProviderItemActions);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ProviderItemActions)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"onDataProviderEdited",(function(_ref2){var andProviderId=_ref2.andProviderId,excluded=_ref2.excluded,field=_ref2.field,id=_ref2.id,operator=_ref2.operator,providerId=_ref2.providerId,value=_ref2.value;if(_this.props.onDataProviderEdited!=null){_this.props.onDataProviderEdited({andProviderId:andProviderId,excluded:excluded,field:field,id:id,operator:operator,providerId:providerId,value:value})}_this.props.closePopover()}));_defineProperty(_assertThisInitialized(_this),"onFilterForFieldPresent",(function(){var _this$props=_this.props,andProviderId=_this$props.andProviderId,field=_this$props.field,timelineId=_this$props.timelineId,providerId=_this$props.providerId,value=_this$props.value;if(_this.props.onDataProviderEdited!=null){_this.props.onDataProviderEdited({andProviderId:andProviderId,excluded:false,field:field,id:"".concat(timelineId),operator:_data_provider.EXISTS_OPERATOR,providerId:providerId,value:value})}_this.props.closePopover()}));return _this}_createClass(ProviderItemActions,[{key:"render",value:function render(){var _this$props2=this.props,andProviderId=_this$props2.andProviderId,browserFields=_this$props2.browserFields,button=_this$props2.button,closePopover=_this$props2.closePopover,deleteProvider=_this$props2.deleteProvider,field=_this$props2.field,isEnabled=_this$props2.isEnabled,isExcluded=_this$props2.isExcluded,isLoading=_this$props2.isLoading,isOpen=_this$props2.isOpen,operator=_this$props2.operator,providerId=_this$props2.providerId,timelineId=_this$props2.timelineId,toggleEnabledProvider=_this$props2.toggleEnabledProvider,toggleExcludedProvider=_this$props2.toggleExcludedProvider,value=_this$props2.value;var panelTree=getProviderActions({andProviderId:andProviderId,browserFields:browserFields,deleteItem:deleteProvider,field:field,isEnabled:isEnabled,isExcluded:isExcluded,isLoading:isLoading,onDataProviderEdited:this.onDataProviderEdited,onFilterForFieldPresent:this.onFilterForFieldPresent,operator:operator,providerId:providerId,timelineId:timelineId,toggleEnabled:toggleEnabledProvider,toggleExcluded:toggleExcludedProvider,value:value});return _react.default.createElement(MyEuiPopover,{id:"popoverFor_".concat(providerId,"-").concat(field,"-").concat(value),isOpen:isOpen,closePopover:closePopover,button:button,anchorPosition:"downCenter",panelPaddingSize:"none"},_react.default.createElement("div",{style:{userSelect:"none"}},_react.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:panelTree,"data-test-subj":"providerActions"})))}}]);return ProviderItemActions}(_react.default.PureComponent);exports.ProviderItemActions=ProviderItemActions},8701:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatefulEditDataProvider=exports.getInitialOperatorLabel=exports.HeaderContainer=void 0;var _fp=__webpack_require__(223);var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _helpers=__webpack_require__(8702);var i18n=_interopRequireWildcard(__webpack_require__(7590));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var EDIT_DATA_PROVIDER_WIDTH=400;var FIELD_COMBO_BOX_WIDTH=195;var OPERATOR_COMBO_BOX_WIDTH=160;var SAVE_CLASS_NAME="edit-data-provider-save";var VALUE_INPUT_CLASS_NAME="edit-data-provider-value";var HeaderContainer=_styledComponents.default.div.withConfig({displayName:"HeaderContainer",componentId:"sc-13z6yv0-0"})(["width:",";"],EDIT_DATA_PROVIDER_WIDTH);exports.HeaderContainer=HeaderContainer;HeaderContainer.displayName="HeaderContainer";var sanatizeValue=function sanatizeValue(value){return Array.isArray(value)?"".concat(value[0]):"".concat(value)};var getInitialOperatorLabel=function getInitialOperatorLabel(isExcluded,operator){if(operator===":"){return isExcluded?[{label:i18n.IS_NOT}]:[{label:i18n.IS}]}else{return isExcluded?[{label:i18n.DOES_NOT_EXIST}]:[{label:i18n.EXISTS}]}};exports.getInitialOperatorLabel=getInitialOperatorLabel;var StatefulEditDataProvider=_react.default.memo((function(_ref){var andProviderId=_ref.andProviderId,browserFields=_ref.browserFields,field=_ref.field,isExcluded=_ref.isExcluded,onDataProviderEdited=_ref.onDataProviderEdited,operator=_ref.operator,providerId=_ref.providerId,timelineId=_ref.timelineId,value=_ref.value;var _useState=(0,_react.useState)([{label:field}]),_useState2=_slicedToArray(_useState,2),updatedField=_useState2[0],setUpdatedField=_useState2[1];var _useState3=(0,_react.useState)(getInitialOperatorLabel(isExcluded,operator)),_useState4=_slicedToArray(_useState3,2),updatedOperator=_useState4[0],setUpdatedOperator=_useState4[1];var _useState5=(0,_react.useState)(value),_useState6=_slicedToArray(_useState5,2),updatedValue=_useState6[0],setUpdatedValue=_useState6[1];var focusInput=function focusInput(){var elements=document.getElementsByClassName(VALUE_INPUT_CLASS_NAME);if(elements.length>0){elements[0].focus()}else{var saveElements=document.getElementsByClassName(SAVE_CLASS_NAME);if(saveElements.length>0){saveElements[0].focus()}}};var onFieldSelected=(0,_react.useCallback)((function(selectedField){setUpdatedField(selectedField);focusInput()}),[]);var onOperatorSelected=(0,_react.useCallback)((function(operatorSelected){setUpdatedOperator(operatorSelected);focusInput()}),[]);var onValueChange=(0,_react.useCallback)((function(e){setUpdatedValue(e.target.value)}),[]);var disableScrolling=function disableScrolling(){var x=window.pageXOffset!==undefined?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft;var y=window.pageYOffset!==undefined?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;window.onscroll=function(){return window.scrollTo(x,y)}};var enableScrolling=function enableScrolling(){window.onscroll=function(){return _fp.noop}};(0,_react.useEffect)((function(){disableScrolling();focusInput();return function(){enableScrolling()}}),[]);return _react.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{direction:"row",gutterSize:"none",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFormRow,{label:i18n.FIELD},_react.default.createElement(_eui.EuiToolTip,{content:updatedField.length>0?updatedField[0].label:null},_react.default.createElement(_eui.EuiComboBox,{"data-test-subj":"field",isClearable:false,onChange:onFieldSelected,options:(0,_helpers.getCategorizedFieldNames)(browserFields),placeholder:i18n.FIELD_PLACEHOLDER,selectedOptions:updatedField,singleSelection:{asPlainText:true},style:{width:"".concat(FIELD_COMBO_BOX_WIDTH,"px")}})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFormRow,{label:i18n.OPERATOR},_react.default.createElement(_eui.EuiComboBox,{"data-test-subj":"operator",isClearable:false,onChange:onOperatorSelected,options:_helpers.operatorLabels,placeholder:i18n.SELECT_AN_OPERATOR,selectedOptions:updatedOperator,singleSelection:{asPlainText:true},style:{width:"".concat(OPERATOR_COMBO_BOX_WIDTH,"px")}}))))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSpacer,null)),updatedOperator.length>0&&updatedOperator[0].label!==i18n.EXISTS&&updatedOperator[0].label!==i18n.DOES_NOT_EXIST?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFormRow,{label:i18n.VALUE_LABEL},_react.default.createElement(_eui.EuiFieldText,{className:VALUE_INPUT_CLASS_NAME,"data-test-subj":"value",onChange:onValueChange,placeholder:i18n.VALUE,value:sanatizeValue(updatedValue)}))):null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSpacer,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{autoFocus:true,className:SAVE_CLASS_NAME,color:"primary","data-test-subj":"save",fill:true,isDisabled:!(0,_helpers.selectionsAreValid)({browserFields:browserFields,selectedField:updatedField,selectedOperator:updatedOperator}),onClick:function onClick(){onDataProviderEdited({andProviderId:andProviderId,excluded:(0,_helpers.getExcludedFromSelection)(updatedOperator),field:updatedField.length>0?updatedField[0].label:"",id:timelineId,operator:(0,_helpers.getQueryOperatorFromSelection)(updatedOperator),providerId:providerId,value:updatedValue})},size:"s"},i18n.SAVE))))))}));exports.StatefulEditDataProvider=StatefulEditDataProvider;StatefulEditDataProvider.displayName="StatefulEditDataProvider"},8702:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getExcludedFromSelection=exports.getQueryOperatorFromSelection=exports.selectionsAreValid=exports.getCategorizedFieldNames=exports.getFieldNames=exports.operatorLabels=void 0;var _fp=__webpack_require__(223);var _source=__webpack_require__(7042);var _data_provider=__webpack_require__(7024);var i18n=_interopRequireWildcard(__webpack_require__(7590));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var operatorLabels=[{label:i18n.IS},{label:i18n.IS_NOT},{label:i18n.EXISTS},{label:i18n.DOES_NOT_EXIST}];exports.operatorLabels=operatorLabels;var getFieldNames=function getFieldNames(category){return category.fields!=null&&Object.keys(category.fields).length>0?Object.keys(category.fields):[]};exports.getFieldNames=getFieldNames;var getCategorizedFieldNames=function getCategorizedFieldNames(browserFields){return Object.keys(browserFields).sort().map((function(categoryId){return{label:categoryId,options:getFieldNames(browserFields[categoryId]).map((function(fieldId){return{label:fieldId}}))}}))};exports.getCategorizedFieldNames=getCategorizedFieldNames;var selectionsAreValid=function selectionsAreValid(_ref){var browserFields=_ref.browserFields,selectedField=_ref.selectedField,selectedOperator=_ref.selectedOperator;var fieldId=selectedField.length>0?selectedField[0].label:"";var operator=selectedOperator.length>0?selectedOperator[0].label:"";var fieldIsValid=(0,_source.getAllFieldsByName)(browserFields)[fieldId]!=null;var operatorIsValid=(0,_fp.findIndex)((function(o){return o.label===operator}),operatorLabels)!==-1;return fieldIsValid&&operatorIsValid};exports.selectionsAreValid=selectionsAreValid;var getQueryOperatorFromSelection=function getQueryOperatorFromSelection(selectedOperator){var selection=selectedOperator.length>0?selectedOperator[0].label:"";switch(selection){case i18n.IS:case i18n.IS_NOT:return _data_provider.IS_OPERATOR;case i18n.EXISTS:case i18n.DOES_NOT_EXIST:return _data_provider.EXISTS_OPERATOR;default:return _data_provider.IS_OPERATOR}};exports.getQueryOperatorFromSelection=getQueryOperatorFromSelection;var getExcludedFromSelection=function getExcludedFromSelection(selectedOperator){var selection=selectedOperator.length>0?selectedOperator[0].label:"";switch(selection){case i18n.IS_NOT:case i18n.DOES_NOT_EXIST:return true;default:return false}};exports.getExcludedFromSelection=getExcludedFromSelection},8703:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLastEventTimeQuery=useLastEventTimeQuery;var _fp=__webpack_require__(223);var _react=__webpack_require__(0);var _constants=__webpack_require__(977);var _kibana=__webpack_require__(7013);var _last_event_time=__webpack_require__(8704);var _apollo_context=__webpack_require__(7077);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function useLastEventTimeQuery(indexKey,details,sourceId){var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],updateLoading=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),lastSeen=_useState4[0],updateLastSeen=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],updateErrorMessage=_useState6[1];var _useState7=(0,_react.useState)(null),_useState8=_slicedToArray(_useState7,2),currentIndexKey=_useState8[0],updateCurrentIndexKey=_useState8[1];var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_INDEX_KEY),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),defaultIndex=_useUiSetting$2[0];var apolloClient=(0,_apollo_context.useApolloClient)();function fetchLastEventTime(signal){return regeneratorRuntime.async((function fetchLastEventTime$(_context){while(1){switch(_context.prev=_context.next){case 0:updateLoading(true);if(apolloClient){apolloClient.query({query:_last_event_time.LastEventTimeGqlQuery,fetchPolicy:"cache-first",variables:{sourceId:sourceId,indexKey:indexKey,details:details,defaultIndex:defaultIndex},context:{fetchOptions:{signal:signal}}}).then((function(result){updateLoading(false);updateLastSeen((0,_fp.get)("data.source.LastEventTime.lastSeen",result));updateErrorMessage(null);updateCurrentIndexKey(currentIndexKey)}),(function(error){updateLoading(false);updateLastSeen(null);updateErrorMessage(error.message)}))}case 2:case"end":return _context.stop()}}}))}(0,_react.useEffect)((function(){var abortCtrl=new AbortController;var signal=abortCtrl.signal;fetchLastEventTime(signal);return function(){return abortCtrl.abort()}}),[apolloClient,indexKey,details.hostName,details.ip]);return{lastSeen:lastSeen,loading:loading,errorMessage:errorMessage}}},8704:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LastEventTimeGqlQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetLastEventTimeQuery(\n    $sourceId: ID!\n    $indexKey: LastEventIndexKey!\n    $details: LastTimeDetails!\n    $defaultIndex: [String!]!\n  ) {\n    source(id: $sourceId) {\n      id\n      LastEventTime(indexKey: $indexKey, details: $details, defaultIndex: $defaultIndex) {\n        lastSeen\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var LastEventTimeGqlQuery=(0,_graphqlTag.default)(_templateObject());exports.LastEventTimeGqlQuery=LastEventTimeGqlQuery},8705:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.anomaliesTableData=void 0;var _chrome=_interopRequireDefault(__webpack_require__(8));var _api=__webpack_require__(7106);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var anomaliesTableData=function anomaliesTableData(body,signal){var response;return regeneratorRuntime.async((function anomaliesTableData$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(fetch("".concat(_chrome.default.getBasePath(),"/api/ml/results/anomalies_table_data"),{method:"POST",credentials:"same-origin",body:JSON.stringify(body),headers:{"content-Type":"application/json","kbn-system-api":"true","kbn-xsrf":"true"},signal:signal}));case 2:response=_context.sent;_context.next=5;return regeneratorRuntime.awrap((0,_api.throwIfNotOk)(response));case 5:return _context.abrupt("return",response.json());case 6:case"end":return _context.stop()}}}))};exports.anomaliesTableData=anomaliesTableData},8706:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SIEM_TABLE_FETCH_FAILURE=void 0;var _i18n=__webpack_require__(2);var SIEM_TABLE_FETCH_FAILURE=_i18n.i18n.translate("xpack.siem.components.ml.anomaly.errors.anomaliesTableFetchFailureTitle",{defaultMessage:"Anomalies table fetch failure"});exports.SIEM_TABLE_FETCH_FAILURE=SIEM_TABLE_FETCH_FAILURE},8707:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.networkToCriteria=void 0;var _types=__webpack_require__(671);var networkToCriteria=function networkToCriteria(ip,flowTarget){if(flowTarget===_types.FlowTarget.source){return[{fieldName:"source.ip",fieldValue:ip}]}else if(flowTarget===_types.FlowTarget.destination){return[{fieldName:"destination.ip",fieldValue:ip}]}else{return[]}};exports.networkToCriteria=networkToCriteria},8708:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getNetworkFromEntity=exports.convertAnomaliesToNetwork=void 0;var _types=__webpack_require__(7594);var _get_network_from_influencers=__webpack_require__(8709);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var convertAnomaliesToNetwork=function convertAnomaliesToNetwork(anomalies,ip){if(anomalies==null){return[]}else{return anomalies.anomalies.reduce((function(accum,item){if((0,_types.isDestinationOrSource)(item.entityName)&&getNetworkFromEntity(item,ip)){return[].concat(_toConsumableArray(accum),[{ip:item.entityValue,type:item.entityName,anomaly:item}])}else{var network=(0,_get_network_from_influencers.getNetworkFromInfluencers)(item.influencers,ip);if(network!=null){return[].concat(_toConsumableArray(accum),[{ip:network.ip,type:network.type,anomaly:item}])}else{return accum}}}),[])}};exports.convertAnomaliesToNetwork=convertAnomaliesToNetwork;var getNetworkFromEntity=function getNetworkFromEntity(anomaly,ip){if((0,_types.isDestinationOrSource)(anomaly.entityName)){if(ip==null){return true}else{return anomaly.entityValue===ip}}else{return false}};exports.getNetworkFromEntity=getNetworkFromEntity},8709:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getNetworkFromInfluencers=void 0;var _types=__webpack_require__(7594);var _get_entries=__webpack_require__(7153);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var getNetworkFromInfluencers=function getNetworkFromInfluencers(){var influencers=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var ip=arguments.length>1?arguments[1]:undefined;var recordFound=influencers.find((function(influencer){var _getEntries=(0,_get_entries.getEntries)(influencer),_getEntries2=_slicedToArray(_getEntries,2),influencerName=_getEntries2[0],influencerValue=_getEntries2[1];if((0,_types.isDestinationOrSource)(influencerName)){if(ip==null){return true}else{return influencerValue===ip}}else{return false}}));if(recordFound!=null){var _getEntries3=(0,_get_entries.getEntries)(recordFound),_getEntries4=_slicedToArray(_getEntries3,1),influencerName=_getEntries4[0];if((0,_types.isDestinationOrSource)(influencerName)){return{ip:Object.values(recordFound)[0],type:influencerName}}else{return{ip:Object.values(recordFound)[0],type:"destination.ip"}}}else{return null}};exports.getNetworkFromInfluencers=getNetworkFromInfluencers},8710:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAnomaliesNetworkTableColumnsCurated=exports.getAnomaliesNetworkTableColumns=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _helpers=__webpack_require__(7065);var _entity_draggable=__webpack_require__(7595);var _create_compound_key=__webpack_require__(7596);var _links=__webpack_require__(7034);var i18n=_interopRequireWildcard(__webpack_require__(7204));var _get_entries=__webpack_require__(7153);var _draggable_score=__webpack_require__(7322);var _create_explorer_link=__webpack_require__(7323);var _formatted_date=__webpack_require__(7027);var _model=__webpack_require__(528);var _helpers2=__webpack_require__(7021);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var getAnomaliesNetworkTableColumns=function getAnomaliesNetworkTableColumns(startDate,endDate,flowTarget){return[{name:i18n.NETWORK_NAME,field:"ip",sortable:true,render:function render(ip,anomaliesByNetwork){return(0,_helpers.getRowItemDraggable)({rowItem:ip,attrName:anomaliesByNetwork.type,idPrefix:"anomalies-network-table-ip-".concat((0,_create_compound_key.createCompoundNetworkKey)(anomaliesByNetwork)),render:function render(item){return _react.default.createElement(_links.IPDetailsLink,{ip:item,flowTarget:flowTarget})}})}},{name:i18n.DETECTOR,field:"anomaly.jobId",sortable:true,render:function render(jobId,anomaliesByHost){return _react.default.createElement(_eui.EuiLink,{href:"".concat((0,_create_explorer_link.createExplorerLink)(anomaliesByHost.anomaly,startDate,endDate)),target:"_blank"},jobId)}},{name:i18n.SCORE,field:"anomaly.severity",sortable:true,render:function render(_,anomaliesByNetwork){return _react.default.createElement(_draggable_score.DraggableScore,{id:(0,_helpers2.escapeDataProviderId)("anomalies-network-table-severity-".concat((0,_create_compound_key.createCompoundNetworkKey)(anomaliesByNetwork))),score:anomaliesByNetwork.anomaly})}},{name:i18n.ENTITY,field:"anomaly.entityValue",sortable:true,render:function render(entityValue,anomaliesByNetwork){return _react.default.createElement(_entity_draggable.EntityDraggable,{idPrefix:"anomalies-network-table-entityValue-".concat((0,_create_compound_key.createCompoundNetworkKey)(anomaliesByNetwork)),entityName:anomaliesByNetwork.anomaly.entityName,entityValue:entityValue})}},{name:i18n.INFLUENCED_BY,field:"anomaly.influencers",render:function render(influencers,anomaliesByNetwork){return _react.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"none",responsive:false},influencers&&influencers.map((function(influencer){var _getEntries=(0,_get_entries.getEntries)(influencer),_getEntries2=_slicedToArray(_getEntries,2),key=_getEntries2[0],value=_getEntries2[1];var entityName=key!=null?key:"";var entityValue=value!=null?value:"";return _react.default.createElement(_eui.EuiFlexItem,{key:"".concat(entityName,"-").concat(entityValue,"-").concat((0,_create_compound_key.createCompoundNetworkKey)(anomaliesByNetwork)),grow:false},_react.default.createElement(_entity_draggable.EntityDraggable,{idPrefix:"anomalies-network-table-influencers-".concat(entityName,"-").concat(entityValue,"-").concat((0,_create_compound_key.createCompoundNetworkKey)(anomaliesByNetwork)),entityName:entityName,entityValue:entityValue}))})))}},{name:i18n.TIME_STAMP,field:"anomaly.time",sortable:true,render:function render(time){return _react.default.createElement(_formatted_date.FormattedRelativePreferenceDate,{value:time})}}]};exports.getAnomaliesNetworkTableColumns=getAnomaliesNetworkTableColumns;var getAnomaliesNetworkTableColumnsCurated=function getAnomaliesNetworkTableColumnsCurated(pageType,startDate,endDate,flowTarget){var columns=getAnomaliesNetworkTableColumns(startDate,endDate,flowTarget);if(pageType===_model.NetworkType.details){return columns.filter((function(column){return column.name!==i18n.NETWORK_NAME}))}else{return columns}};exports.getAnomaliesNetworkTableColumnsCurated=getAnomaliesNetworkTableColumnsCurated},8711:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.networkEquality=void 0;var networkEquality=function networkEquality(prevProps,nextProps){return prevProps.startDate===nextProps.startDate&&prevProps.endDate===nextProps.endDate&&prevProps.skip===nextProps.skip&&prevProps.flowTarget===nextProps.flowTarget};exports.networkEquality=networkEquality},8712:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getCriteriaFromNetworkType=void 0;var _model=__webpack_require__(528);var _types=__webpack_require__(671);var getCriteriaFromNetworkType=function getCriteriaFromNetworkType(type,ip,flowTarget){if(type===_model.NetworkType.details&&ip!=null){if(flowTarget===_types.FlowTarget.source){return[{fieldName:"source.ip",fieldValue:ip}]}else if(flowTarget===_types.FlowTarget.destination){return[{fieldName:"destination.ip",fieldValue:ip}]}else{return[]}}else{return[]}};exports.getCriteriaFromNetworkType=getCriteriaFromNetworkType},8713:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FlowTargetSelectConnected=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _types=__webpack_require__(671);var i18nIp=_interopRequireWildcard(__webpack_require__(7324));var _flow_target_select=__webpack_require__(8714);var _field_renderers=__webpack_require__(7205);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var SelectTypeItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"SelectTypeItem",componentId:"xmyyfs-0"})(["min-width:180px;"]);SelectTypeItem.displayName="SelectTypeItem";var getUpdatedFlowTargetPath=function getUpdatedFlowTargetPath(location,currentFlowTarget,newFlowTarget){var newPathame=location.pathname.replace(currentFlowTarget,newFlowTarget);return"".concat(newPathame).concat(location.search)};var FlowTargetSelectConnectedComponent=function FlowTargetSelectConnectedComponent(_ref){var flowTarget=_ref.flowTarget;var history=(0,_reactRouterDom.useHistory)();var location=(0,_reactRouterDom.useLocation)();var updateIpDetailsFlowTarget=(0,_react.useCallback)((function(newFlowTarget){var newPath=getUpdatedFlowTargetPath(location,flowTarget,newFlowTarget);history.push(newPath)}),[history,location,flowTarget]);return _react.default.createElement(SelectTypeItem,{grow:false,"data-test-subj":"".concat(_field_renderers.IpOverviewId,"-select-flow-target")},_react.default.createElement(_flow_target_select.FlowTargetSelect,{id:_field_renderers.IpOverviewId,isLoading:!flowTarget,selectedDirection:_types.FlowDirection.uniDirectional,selectedTarget:flowTarget,displayTextOverride:[i18nIp.AS_SOURCE,i18nIp.AS_DESTINATION],updateFlowTargetAction:updateIpDetailsFlowTarget}))};var FlowTargetSelectConnected=_react.default.memo(FlowTargetSelectConnectedComponent);exports.FlowTargetSelectConnected=FlowTargetSelectConnected},8714:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FlowTargetSelect=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _types=__webpack_require__(671);var i18n=_interopRequireWildcard(__webpack_require__(8715));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var toggleTargetOptions=function toggleTargetOptions(id,displayText){return[{id:"".concat(id,"-select-flow-target-").concat(_types.FlowTarget.source),value:_types.FlowTarget.source,inputDisplay:displayText[0]||i18n.SOURCE,directions:[_types.FlowDirection.uniDirectional,_types.FlowDirection.biDirectional]},{id:"".concat(id,"-select-flow-target-").concat(_types.FlowTarget.destination),value:_types.FlowTarget.destination,inputDisplay:displayText[1]||i18n.DESTINATION,directions:[_types.FlowDirection.uniDirectional,_types.FlowDirection.biDirectional]},{id:"".concat(id,"-select-flow-target-").concat(_types.FlowTarget.client),value:_types.FlowTarget.client,inputDisplay:displayText[2]||i18n.CLIENT,directions:[_types.FlowDirection.biDirectional]},{id:"".concat(id,"-select-flow-target-").concat(_types.FlowTarget.server),value:_types.FlowTarget.server,inputDisplay:displayText[3]||i18n.SERVER,directions:[_types.FlowDirection.biDirectional]}]};var FlowTargetSelectComponent=function FlowTargetSelectComponent(_ref){var id=_ref.id,_ref$isLoading=_ref.isLoading,isLoading=_ref$isLoading===void 0?false:_ref$isLoading,selectedDirection=_ref.selectedDirection,selectedTarget=_ref.selectedTarget,_ref$displayTextOverr=_ref.displayTextOverride,displayTextOverride=_ref$displayTextOverr===void 0?[]:_ref$displayTextOverr,updateFlowTargetAction=_ref.updateFlowTargetAction;return _react.default.createElement(_eui.EuiSuperSelect,{options:selectedDirection?toggleTargetOptions(id,displayTextOverride).filter((function(option){return option.directions.includes(selectedDirection)})):toggleTargetOptions(id,displayTextOverride),valueOfSelected:selectedTarget,onChange:updateFlowTargetAction,isLoading:isLoading})};var FlowTargetSelect=_react.default.memo(FlowTargetSelectComponent);exports.FlowTargetSelect=FlowTargetSelect},8715:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BIDIRECTIONAL=exports.UNIDIRECTIONAL=exports.SERVER=exports.CLIENT=exports.DESTINATION=exports.SOURCE=void 0;var _i18n=__webpack_require__(2);var SOURCE=_i18n.i18n.translate("xpack.siem.components.flowControls.selectFlowTarget.sourceDropDownOptionLabel",{defaultMessage:"Source"});exports.SOURCE=SOURCE;var DESTINATION=_i18n.i18n.translate("xpack.siem.components.flowControls.selectFlowTarget.destinationDropDownOptionLabel",{defaultMessage:"Destination"});exports.DESTINATION=DESTINATION;var CLIENT=_i18n.i18n.translate("xpack.siem.components.flowControls.selectFlowTarget.clientDropDownOptionLabel",{defaultMessage:"CLIENT"});exports.CLIENT=CLIENT;var SERVER=_i18n.i18n.translate("xpack.siem.components.flowControls.selectFlowTarget.serverDropDownOptionLabel",{defaultMessage:"SERVER"});exports.SERVER=SERVER;var UNIDIRECTIONAL=_i18n.i18n.translate("xpack.siem.components.flowControls.selectFlowDirection.unidirectionalButtonLabel",{defaultMessage:"Unidirectional"});exports.UNIDIRECTIONAL=UNIDIRECTIONAL;var BIDIRECTIONAL=_i18n.i18n.translate("xpack.siem.components.flowControls.selectFlowDirection.bidirectionalButtonLabel",{defaultMessage:"Bidirectional"});exports.BIDIRECTIONAL=BIDIRECTIONAL},8716:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTopSeverityJobs=void 0;var _fp=__webpack_require__(223);var getTopSeverityJobs=function getTopSeverityJobs(anomalies,limit){var reduced=anomalies.reduce((function(accum,item){var jobId=item.jobId;var severity=item.severity;if(accum[jobId]==null||accum[jobId].severity<severity){accum[jobId]=item}return accum}),{});var sortedArray=(0,_fp.toArray)(reduced).sort((function(anomalyA,anomalyB){return anomalyB.severity-anomalyA.severity}));if(limit==null){return sortedArray}else{return sortedArray.slice(0,limit)}};exports.getTopSeverityJobs=getTopSeverityJobs},8717:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnomalyScore=exports.AnomalyScoreComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _draggable_score=__webpack_require__(7322);var _helpers=__webpack_require__(7021);var _create_description_list=__webpack_require__(8718);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var Icon=(0,_styledComponents.default)(_eui.EuiIcon).withConfig({displayName:"Icon",componentId:"k49fvp-0"})(["vertical-align:text-bottom;cursor:pointer;"]);Icon.displayName="Icon";var AnomalyScoreComponent=function AnomalyScoreComponent(_ref){var jobKey=_ref.jobKey,startDate=_ref.startDate,endDate=_ref.endDate,_ref$index=_ref.index,index=_ref$index===void 0?0:_ref$index,score=_ref.score,interval=_ref.interval,narrowDateRange=_ref.narrowDateRange;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_draggable_score.DraggableScore,{id:(0,_helpers.escapeDataProviderId)("anomaly-scores-".concat(jobKey)),index:index,score:score})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiPopover,{"data-test-subj":"anomaly-score-popover",id:"anomaly-score-popover",isOpen:isOpen,onClick:function onClick(){return setIsOpen(!isOpen)},closePopover:function closePopover(){return setIsOpen(!isOpen)},button:_react.default.createElement(Icon,{type:"iInCircle"})},_react.default.createElement(_eui.EuiDescriptionList,{"data-test-subj":"anomaly-description-list",listItems:(0,_create_description_list.createDescriptionList)(score,startDate,endDate,interval,narrowDateRange)}))))};exports.AnomalyScoreComponent=AnomalyScoreComponent;AnomalyScoreComponent.displayName="AnomalyScoreComponent";var AnomalyScore=_react.default.memo(AnomalyScoreComponent);exports.AnomalyScore=AnomalyScore;AnomalyScore.displayName="AnomalyScore"},8718:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createDescriptionList=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _score_health=__webpack_require__(7597);var _formatted_date=__webpack_require__(7027);var _create_influencers=__webpack_require__(8719);var i18n=_interopRequireWildcard(__webpack_require__(8720));var _create_explorer_link=__webpack_require__(7323);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LargeScore=(0,_styledComponents.default)(_eui.EuiText).withConfig({displayName:"LargeScore",componentId:"czaf4q-0"})(["font-size:45px;font-weight:lighter;"]);LargeScore.displayName="LargeScore";var createDescriptionList=function createDescriptionList(score,startDate,endDate,interval,narrowDateRange){var descriptionList=[{title:i18n.MAX_ANOMALY_SCORE,description:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(LargeScore,null,(0,_score_health.getScoreString)(score.severity)))},{title:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),i18n.ANOMALY_JOB),description:_react.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"none",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},score.jobId),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLink,{href:(0,_create_explorer_link.createExplorerLink)(score,startDate,endDate),target:"_blank"},i18n.VIEW_IN_MACHINE_LEARNING)))},{title:i18n.DETECTED,description:_react.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"none",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_formatted_date.PreferenceFormattedDate,{value:new Date(score.time)})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLink,{"data-test-subj":"anomaly-description-narrow-range-link",onClick:function onClick(){narrowDateRange(score,interval)},target:"_blank"},i18n.NARROW_TO_THIS_DATE_RANGE)))},{title:i18n.ANOMALOUS_ENTITY,description:_react.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"none",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},"".concat(score.entityName,': "').concat(score.entityValue,'"')))},{title:i18n.INFLUENCED_BY,description:_react.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"none",responsive:false},(0,_create_influencers.createInfluencers)(score.influencers))}];return descriptionList};exports.createDescriptionList=createDescriptionList},8719:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createInfluencers=exports.createKeyAndValue=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _fp=__webpack_require__(223);var _get_entries=__webpack_require__(7153);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var createKeyAndValue=function createKeyAndValue(influencer){var _getEntries=(0,_get_entries.getEntries)(influencer),_getEntries2=_slicedToArray(_getEntries,2),key=_getEntries2[0],value=_getEntries2[1];if(key!=null&&value!=null){return"".concat(key,': "').concat(value,'"')}else{return""}};exports.createKeyAndValue=createKeyAndValue;var createInfluencers=function createInfluencers(){var influencers=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return influencers.filter((function(influencer){return!(0,_fp.isEmpty)(influencer)})).map((function(influencer){var keyAndValue=createKeyAndValue(influencer);return _react.default.createElement(_eui.EuiFlexItem,{key:keyAndValue,grow:false},keyAndValue)}))};exports.createInfluencers=createInfluencers},8720:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ANOMALOUS_ENTITY=exports.NARROW_TO_THIS_DATE_RANGE=exports.DETECTED=exports.VIEW_IN_MACHINE_LEARNING=exports.ANOMALY_JOB=exports.MAX_ANOMALY_SCORE=exports.INFLUENCED_BY=void 0;var _i18n=__webpack_require__(2);var INFLUENCED_BY=_i18n.i18n.translate("xpack.siem.ml.score.influencedByTitle",{defaultMessage:"Influenced By"});exports.INFLUENCED_BY=INFLUENCED_BY;var MAX_ANOMALY_SCORE=_i18n.i18n.translate("xpack.siem.ml.score.maxAnomalyScoreTitle",{defaultMessage:"Max Anomaly Score"});exports.MAX_ANOMALY_SCORE=MAX_ANOMALY_SCORE;var ANOMALY_JOB=_i18n.i18n.translate("xpack.siem.ml.score.anomalyJobTitle",{defaultMessage:"Job"});exports.ANOMALY_JOB=ANOMALY_JOB;var VIEW_IN_MACHINE_LEARNING=_i18n.i18n.translate("xpack.siem.ml.score.viewInMachineLearningLink",{defaultMessage:"View in Machine Learning"});exports.VIEW_IN_MACHINE_LEARNING=VIEW_IN_MACHINE_LEARNING;var DETECTED=_i18n.i18n.translate("xpack.siem.ml.score.detectedTitle",{defaultMessage:"Detected"});exports.DETECTED=DETECTED;var NARROW_TO_THIS_DATE_RANGE=_i18n.i18n.translate("xpack.siem.ml.score.narrowToThisDateRangeLink",{defaultMessage:"Narrow to this date range"});exports.NARROW_TO_THIS_DATE_RANGE=NARROW_TO_THIS_DATE_RANGE;var ANOMALOUS_ENTITY=_i18n.i18n.translate("xpack.siem.ml.score.anomalousEntityTitle",{defaultMessage:"Anomalous Entity"});exports.ANOMALOUS_ENTITY=ANOMALOUS_ENTITY},8721:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"endSelector",{enumerable:true,get:function get(){return _selectors.endSelector}});Object.defineProperty(exports,"fromStrSelector",{enumerable:true,get:function get(){return _selectors.fromStrSelector}});Object.defineProperty(exports,"isLoadingSelector",{enumerable:true,get:function get(){return _selectors.isLoadingSelector}});Object.defineProperty(exports,"kindSelector",{enumerable:true,get:function get(){return _selectors.kindSelector}});Object.defineProperty(exports,"queriesSelector",{enumerable:true,get:function get(){return _selectors.queriesSelector}});Object.defineProperty(exports,"startSelector",{enumerable:true,get:function get(){return _selectors.startSelector}});Object.defineProperty(exports,"toStrSelector",{enumerable:true,get:function get(){return _selectors.toStrSelector}});exports.savedQuerySelector=exports.filterQuerySelector=exports.getSavedQuery=exports.getFilterQuery=void 0;var _reselect=__webpack_require__(151);var _selectors=__webpack_require__(7578);var getFilterQuery=function getFilterQuery(inputState){return inputState.query};exports.getFilterQuery=getFilterQuery;var getSavedQuery=function getSavedQuery(inputState){return inputState.savedQuery};exports.getSavedQuery=getSavedQuery;var filterQuerySelector=function filterQuerySelector(){return(0,_reselect.createSelector)(getFilterQuery,(function(filterQuery){return filterQuery}))};exports.filterQuerySelector=filterQuerySelector;var savedQuerySelector=function savedQuerySelector(){return(0,_reselect.createSelector)(getSavedQuery,(function(savedQuery){return savedQuery}))};exports.savedQuerySelector=savedQuerySelector},8722:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IpOverviewQuery=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _constants=__webpack_require__(977);var _store=__webpack_require__(7016);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(7029);var _index=__webpack_require__(8723);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ID="ipOverviewQuery";var IpOverviewComponentQuery=_react.default.memo((function(_ref){var _ref$id=_ref.id,id=_ref$id===void 0?ID:_ref$id,isInspected=_ref.isInspected,children=_ref.children,filterQuery=_ref.filterQuery,skip=_ref.skip,sourceId=_ref.sourceId,ip=_ref.ip;return _react.default.createElement(_reactApollo.Query,{query:_index.ipOverviewQuery,fetchPolicy:(0,_helpers.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,skip:skip,variables:{sourceId:sourceId,filterQuery:(0,_helpers.createFilter)(filterQuery),ip:ip,defaultIndex:(0,_kibana.useUiSetting)(_constants.DEFAULT_INDEX_KEY),inspect:isInspected}},(function(_ref2){var data=_ref2.data,loading=_ref2.loading,refetch=_ref2.refetch;var init={host:{}};var ipOverviewData=(0,_fp.getOr)(init,"source.IpOverview",data);return children({id:id,inspect:(0,_fp.getOr)(null,"source.IpOverview.inspect",data),ipOverviewData:ipOverviewData,loading:loading,refetch:refetch})}))}));IpOverviewComponentQuery.displayName="IpOverviewComponentQuery";var makeMapStateToProps=function makeMapStateToProps(){var getQuery=_store.inputsSelectors.globalQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref3){var _ref3$id=_ref3.id,id=_ref3$id===void 0?ID:_ref3$id;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return{isInspected:isInspected}};return mapStateToProps};var IpOverviewQuery=(0,_reactRedux.connect)(makeMapStateToProps)(IpOverviewComponentQuery);exports.IpOverviewQuery=IpOverviewQuery},8723:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ipOverviewQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetIpOverviewQuery(\n    $sourceId: ID!\n    $filterQuery: String\n    $ip: String!\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      IpOverview(filterQuery: $filterQuery, ip: $ip, defaultIndex: $defaultIndex) {\n        source {\n          firstSeen\n          lastSeen\n          autonomousSystem {\n            number\n            organization {\n              name\n            }\n          }\n          geo {\n            continent_name\n            city_name\n            country_iso_code\n            country_name\n            location {\n              lat\n              lon\n            }\n            region_iso_code\n            region_name\n          }\n        }\n        destination {\n          firstSeen\n          lastSeen\n          autonomousSystem {\n            number\n            organization {\n              name\n            }\n          }\n          geo {\n            continent_name\n            city_name\n            country_iso_code\n            country_name\n            location {\n              lat\n              lon\n            }\n            region_iso_code\n            region_name\n          }\n        }\n        host {\n          architecture\n          id\n          ip\n          mac\n          name\n          os {\n            family\n            name\n            platform\n            version\n          }\n          type\n        }\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var ipOverviewQuery=(0,_graphqlTag.default)(_templateObject());exports.ipOverviewQuery=ipOverviewQuery},8724:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkHttpQueryTable=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _fp=__webpack_require__(223);var _manage_query=__webpack_require__(7028);var _network_http=__webpack_require__(7603);var _network_http_table=__webpack_require__(7604);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NetworkHttpTableManage=(0,_manage_query.manageQuery)(_network_http_table.NetworkHttpTable);var NetworkHttpQueryTable=function NetworkHttpQueryTable(_ref){var endDate=_ref.endDate,filterQuery=_ref.filterQuery,ip=_ref.ip,setQuery=_ref.setQuery,skip=_ref.skip,startDate=_ref.startDate,type=_ref.type;return _react.default.createElement(_network_http.NetworkHttpQuery,{endDate:endDate,filterQuery:filterQuery,ip:ip,skip:skip,sourceId:"default",startDate:startDate,type:type},(function(_ref2){var id=_ref2.id,inspect=_ref2.inspect,isInspected=_ref2.isInspected,loading=_ref2.loading,loadPage=_ref2.loadPage,networkHttp=_ref2.networkHttp,pageInfo=_ref2.pageInfo,refetch=_ref2.refetch,totalCount=_ref2.totalCount;return _react.default.createElement(NetworkHttpTableManage,{data:networkHttp,fakeTotalCount:(0,_fp.getOr)(50,"fakeTotalCount",pageInfo),id:id,inspect:inspect,isInspect:isInspected,loading:loading,loadPage:loadPage,refetch:refetch,setQuery:setQuery,showMorePagesIndicator:(0,_fp.getOr)(false,"showMorePagesIndicator",pageInfo),totalCount:totalCount,type:type})}))};exports.NetworkHttpQueryTable=NetworkHttpQueryTable;NetworkHttpQueryTable.displayName="NetworkHttpQueryTable"},8725:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.networkHttpQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetNetworkHttpQuery(\n    $sourceId: ID!\n    $ip: String\n    $filterQuery: String\n    $pagination: PaginationInputPaginated!\n    $sort: NetworkHttpSortField!\n    $timerange: TimerangeInput!\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      NetworkHttp(\n        filterQuery: $filterQuery\n        ip: $ip\n        pagination: $pagination\n        sort: $sort\n        timerange: $timerange\n        defaultIndex: $defaultIndex\n      ) {\n        totalCount\n        edges {\n          node {\n            domains\n            lastHost\n            lastSourceIp\n            methods\n            path\n            requestCount\n            statuses\n          }\n          cursor {\n            value\n          }\n        }\n        pageInfo {\n          activePage\n          fakeTotalCount\n          showMorePagesIndicator\n        }\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var networkHttpQuery=(0,_graphqlTag.default)(_templateObject());exports.networkHttpQuery=networkHttpQuery},8726:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TOAST_TEXT=exports.TOAST_TITLE=exports.ROWS=exports.SHOWING=void 0;var _i18n=__webpack_require__(2);var SHOWING=_i18n.i18n.translate("xpack.siem.paginatedTable.showingSubtitle",{defaultMessage:"Showing"});exports.SHOWING=SHOWING;var ROWS=_i18n.i18n.translate("xpack.siem.paginatedTable.rowsButtonLabel",{defaultMessage:"Rows per page"});exports.ROWS=ROWS;var TOAST_TITLE=_i18n.i18n.translate("xpack.siem.paginatedTable.tooManyResultsToastTitle",{defaultMessage:" - too many results"});exports.TOAST_TITLE=TOAST_TITLE;var TOAST_TEXT=_i18n.i18n.translate("xpack.siem.paginatedTable.tooManyResultsToastText",{defaultMessage:"Narrow your query to better filter the results"});exports.TOAST_TEXT=TOAST_TEXT},8727:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getNetworkHttpColumns=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _numeral=_interopRequireDefault(__webpack_require__(148));var _types=__webpack_require__(671);var _helpers=__webpack_require__(7021);var _empty_value=__webpack_require__(7017);var _links=__webpack_require__(7034);var i18n=_interopRequireWildcard(__webpack_require__(7605));var _helpers2=__webpack_require__(7065);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getNetworkHttpColumns=function getNetworkHttpColumns(tableId){return[{name:i18n.METHOD,render:function render(_ref){var _ref$node=_ref.node,methods=_ref$node.methods,path=_ref$node.path;return Array.isArray(methods)&&methods.length>0?(0,_helpers2.getRowItemDraggables)({attrName:"http.request.method",displayCount:3,idPrefix:(0,_helpers.escapeDataProviderId)("".concat(tableId,"-table-methods-").concat(path)),rowItems:methods}):(0,_empty_value.getEmptyTagValue)()}},{name:i18n.DOMAIN,render:function render(_ref2){var _ref2$node=_ref2.node,domains=_ref2$node.domains,path=_ref2$node.path;return Array.isArray(domains)&&domains.length>0?(0,_helpers2.getRowItemDraggables)({attrName:"url.domain",displayCount:3,idPrefix:(0,_helpers.escapeDataProviderId)("".concat(tableId,"-table-domains-").concat(path)),rowItems:domains}):(0,_empty_value.getEmptyTagValue)()}},{field:"node.".concat(_types.NetworkHttpFields.path),name:i18n.PATH,render:function render(path){return path!=null?(0,_helpers2.getRowItemDraggable)({attrName:"url.path",idPrefix:(0,_helpers.escapeDataProviderId)("".concat(tableId,"-table-path-").concat(path)),rowItem:path}):(0,_empty_value.getEmptyTagValue)()}},{name:i18n.STATUS,render:function render(_ref3){var _ref3$node=_ref3.node,statuses=_ref3$node.statuses,path=_ref3$node.path;return Array.isArray(statuses)&&statuses.length>0?(0,_helpers2.getRowItemDraggables)({attrName:"http.response.status_code",displayCount:3,idPrefix:(0,_helpers.escapeDataProviderId)("".concat(tableId,"-table-statuses-").concat(path)),rowItems:statuses}):(0,_empty_value.getEmptyTagValue)()}},{name:i18n.LAST_HOST,render:function render(_ref4){var _ref4$node=_ref4.node,lastHost=_ref4$node.lastHost,path=_ref4$node.path;return lastHost!=null?(0,_helpers2.getRowItemDraggable)({attrName:"host.name",idPrefix:(0,_helpers.escapeDataProviderId)("".concat(tableId,"-table-lastHost-").concat(path)),rowItem:lastHost}):(0,_empty_value.getEmptyTagValue)()}},{name:i18n.LAST_SOURCE_IP,render:function render(_ref5){var _ref5$node=_ref5.node,lastSourceIp=_ref5$node.lastSourceIp,path=_ref5$node.path;return lastSourceIp!=null?(0,_helpers2.getRowItemDraggable)({attrName:"source.ip",idPrefix:(0,_helpers.escapeDataProviderId)("".concat(tableId,"-table-lastSourceIp-").concat(path)),rowItem:lastSourceIp,render:function render(){return _react.default.createElement(_links.IPDetailsLink,{ip:lastSourceIp})}}):(0,_empty_value.getEmptyTagValue)()}},{align:"right",field:"node.".concat(_types.NetworkHttpFields.requestCount),name:i18n.REQUESTS,sortable:true,render:function render(requestCount){if(requestCount!=null){return(0,_numeral.default)(requestCount).format("0,000")}else{return(0,_empty_value.getEmptyTagValue)()}}}]};exports.getNetworkHttpColumns=getNetworkHttpColumns},8728:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkTopCountriesQueryTable=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _fp=__webpack_require__(223);var _manage_query=__webpack_require__(7028);var _network_top_countries=__webpack_require__(7606);var _network_top_countries_table=__webpack_require__(7607);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NetworkTopCountriesTableManage=(0,_manage_query.manageQuery)(_network_top_countries_table.NetworkTopCountriesTable);var NetworkTopCountriesQueryTable=function NetworkTopCountriesQueryTable(_ref){var endDate=_ref.endDate,filterQuery=_ref.filterQuery,flowTarget=_ref.flowTarget,ip=_ref.ip,setQuery=_ref.setQuery,skip=_ref.skip,startDate=_ref.startDate,type=_ref.type,indexPattern=_ref.indexPattern;return _react.default.createElement(_network_top_countries.NetworkTopCountriesQuery,{endDate:endDate,flowTarget:flowTarget,filterQuery:filterQuery,ip:ip,skip:skip,sourceId:"default",startDate:startDate,type:type},(function(_ref2){var id=_ref2.id,inspect=_ref2.inspect,isInspected=_ref2.isInspected,loading=_ref2.loading,loadPage=_ref2.loadPage,networkTopCountries=_ref2.networkTopCountries,pageInfo=_ref2.pageInfo,refetch=_ref2.refetch,totalCount=_ref2.totalCount;return _react.default.createElement(NetworkTopCountriesTableManage,{data:networkTopCountries,fakeTotalCount:(0,_fp.getOr)(50,"fakeTotalCount",pageInfo),flowTargeted:flowTarget,id:id,indexPattern:indexPattern,inspect:inspect,isInspect:isInspected,loading:loading,loadPage:loadPage,refetch:refetch,setQuery:setQuery,showMorePagesIndicator:(0,_fp.getOr)(false,"showMorePagesIndicator",pageInfo),totalCount:totalCount,type:type})}))};exports.NetworkTopCountriesQueryTable=NetworkTopCountriesQueryTable;NetworkTopCountriesQueryTable.displayName="NetworkTopCountriesQueryTable"},8729:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.networkTopCountriesQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetNetworkTopCountriesQuery(\n    $sourceId: ID!\n    $ip: String\n    $filterQuery: String\n    $pagination: PaginationInputPaginated!\n    $sort: NetworkTopTablesSortField!\n    $flowTarget: FlowTargetSourceDest!\n    $timerange: TimerangeInput!\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      NetworkTopCountries(\n        filterQuery: $filterQuery\n        flowTarget: $flowTarget\n        ip: $ip\n        pagination: $pagination\n        sort: $sort\n        timerange: $timerange\n        defaultIndex: $defaultIndex\n      ) {\n        totalCount\n        edges {\n          node {\n            source {\n              country\n              destination_ips\n              flows\n              source_ips\n            }\n            destination {\n              country\n              destination_ips\n              flows\n              source_ips\n            }\n            network {\n              bytes_in\n              bytes_out\n            }\n          }\n          cursor {\n            value\n          }\n        }\n        pageInfo {\n          activePage\n          fakeTotalCount\n          showMorePagesIndicator\n        }\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var networkTopCountriesQuery=(0,_graphqlTag.default)(_templateObject());exports.networkTopCountriesQuery=networkTopCountriesQuery},8730:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getCountriesColumnsCurated=exports.getNetworkTopCountriesColumns=void 0;var _fp=__webpack_require__(223);var _numeral=_interopRequireDefault(__webpack_require__(148));var _react=_interopRequireDefault(__webpack_require__(0));var _country_flag=__webpack_require__(7325);var _types=__webpack_require__(671);var _store=__webpack_require__(7016);var _draggable_wrapper=__webpack_require__(7032);var _helpers=__webpack_require__(7021);var _empty_value=__webpack_require__(7017);var _data_provider=__webpack_require__(7024);var _provider=__webpack_require__(7051);var i18n=_interopRequireWildcard(__webpack_require__(7608));var _formatted_bytes=__webpack_require__(7133);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getNetworkTopCountriesColumns=function getNetworkTopCountriesColumns(indexPattern,flowTarget,type,tableId){return[{name:i18n.COUNTRY,render:function render(_ref){var node=_ref.node;var geo=(0,_fp.get)("".concat(flowTarget,".country"),node);var geoAttr="".concat(flowTarget,".geo.country_iso_code");var id=(0,_helpers.escapeDataProviderId)("".concat(tableId,"-table-").concat(flowTarget,"-country-").concat(geo));if(geo!=null){return _react.default.createElement(_draggable_wrapper.DraggableWrapper,{key:id,dataProvider:{and:[],enabled:true,id:id,name:geo,excluded:false,kqlQuery:"",queryMatch:{field:geoAttr,value:geo,operator:_data_provider.IS_OPERATOR}},render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:dataProvider})):_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_country_flag.CountryFlagAndName,{countryCode:geo}))}})}else{return(0,_empty_value.getEmptyTagValue)()}},width:"20%"},{align:"right",field:"node.network.bytes_in",name:i18n.BYTES_IN,sortable:true,render:function render(bytes){if(bytes!=null){return _react.default.createElement(_formatted_bytes.PreferenceFormattedBytes,{value:bytes})}else{return(0,_empty_value.getEmptyTagValue)()}}},{align:"right",field:"node.network.bytes_out",name:i18n.BYTES_OUT,sortable:true,render:function render(bytes){if(bytes!=null){return _react.default.createElement(_formatted_bytes.PreferenceFormattedBytes,{value:bytes})}else{return(0,_empty_value.getEmptyTagValue)()}}},{align:"right",field:"node.".concat(flowTarget,".flows"),name:i18n.FLOWS,sortable:true,render:function render(flows){if(flows!=null){return(0,_numeral.default)(flows).format("0,000")}else{return(0,_empty_value.getEmptyTagValue)()}}},{align:"right",field:"node.".concat(flowTarget,".").concat(flowTarget,"_ips"),name:flowTarget===_types.FlowTargetSourceDest.source?i18n.SOURCE_IPS:i18n.DESTINATION_IPS,sortable:true,render:function render(ips){if(ips!=null){return(0,_numeral.default)(ips).format("0,000")}else{return(0,_empty_value.getEmptyTagValue)()}}},{align:"right",field:"node.".concat(flowTarget,".").concat(getOppositeField(flowTarget),"_ips"),name:getOppositeField(flowTarget)===_types.FlowTargetSourceDest.source?i18n.SOURCE_IPS:i18n.DESTINATION_IPS,sortable:true,render:function render(ips){if(ips!=null){return(0,_numeral.default)(ips).format("0,000")}else{return(0,_empty_value.getEmptyTagValue)()}}}]};exports.getNetworkTopCountriesColumns=getNetworkTopCountriesColumns;var getCountriesColumnsCurated=function getCountriesColumnsCurated(indexPattern,flowTarget,type,tableId){var columns=getNetworkTopCountriesColumns(indexPattern,flowTarget,type,tableId);if(type===_store.networkModel.NetworkType.details){columns.pop();return columns}return columns};exports.getCountriesColumnsCurated=getCountriesColumnsCurated;var getOppositeField=function getOppositeField(flowTarget){return flowTarget===_types.FlowTargetSourceDest.source?_types.FlowTargetSourceDest.destination:_types.FlowTargetSourceDest.source}},8731:function(module,exports,__webpack_require__){module.exports=__webpack_require__(26)(752)},8733:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkTopNFlowQueryTable=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _manage_query=__webpack_require__(7028);var _network_top_n_flow_table=__webpack_require__(7609);var _network_top_n_flow=__webpack_require__(7611);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NetworkTopNFlowTableManage=(0,_manage_query.manageQuery)(_network_top_n_flow_table.NetworkTopNFlowTable);var NetworkTopNFlowQueryTable=function NetworkTopNFlowQueryTable(_ref){var endDate=_ref.endDate,filterQuery=_ref.filterQuery,flowTarget=_ref.flowTarget,ip=_ref.ip,setQuery=_ref.setQuery,skip=_ref.skip,startDate=_ref.startDate,type=_ref.type;return _react.default.createElement(_network_top_n_flow.NetworkTopNFlowQuery,{endDate:endDate,filterQuery:filterQuery,flowTarget:flowTarget,ip:ip,skip:skip,sourceId:"default",startDate:startDate,type:type},(function(_ref2){var id=_ref2.id,inspect=_ref2.inspect,isInspected=_ref2.isInspected,loading=_ref2.loading,loadPage=_ref2.loadPage,networkTopNFlow=_ref2.networkTopNFlow,pageInfo=_ref2.pageInfo,refetch=_ref2.refetch,totalCount=_ref2.totalCount;return _react.default.createElement(NetworkTopNFlowTableManage,{data:networkTopNFlow,fakeTotalCount:(0,_fp.getOr)(50,"fakeTotalCount",pageInfo),flowTargeted:flowTarget,id:id,inspect:inspect,isInspect:isInspected,loading:loading,loadPage:loadPage,refetch:refetch,setQuery:setQuery,showMorePagesIndicator:(0,_fp.getOr)(false,"showMorePagesIndicator",pageInfo),totalCount:totalCount,type:type})}))};exports.NetworkTopNFlowQueryTable=NetworkTopNFlowQueryTable;NetworkTopNFlowQueryTable.displayName="NetworkTopNFlowQueryTable"},8734:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getNFlowColumnsCurated=exports.getNetworkTopNFlowColumns=void 0;var _fp=__webpack_require__(223);var _numeral=_interopRequireDefault(__webpack_require__(148));var _react=_interopRequireDefault(__webpack_require__(0));var _country_flag=__webpack_require__(7325);var _types=__webpack_require__(671);var _store=__webpack_require__(7016);var _draggable_wrapper=__webpack_require__(7032);var _helpers=__webpack_require__(7021);var _empty_value=__webpack_require__(7017);var _links=__webpack_require__(7034);var _data_provider=__webpack_require__(7024);var _provider=__webpack_require__(7051);var i18n=_interopRequireWildcard(__webpack_require__(7610));var _helpers2=__webpack_require__(7065);var _formatted_bytes=__webpack_require__(7133);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getNetworkTopNFlowColumns=function getNetworkTopNFlowColumns(flowTarget,tableId){return[{name:i18n.IP_TITLE,render:function render(_ref){var node=_ref.node;var ipAttr="".concat(flowTarget,".ip");var ip=(0,_fp.get)(ipAttr,node);var geoAttr="".concat(flowTarget,".location.geo.country_iso_code[0]");var geoAttrName="".concat(flowTarget,".geo.country_iso_code");var geo=(0,_fp.get)(geoAttr,node);var id=(0,_helpers.escapeDataProviderId)("".concat(tableId,"-table-").concat(flowTarget,"-ip-").concat(ip));if(ip!=null){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_draggable_wrapper.DraggableWrapper,{key:id,dataProvider:{and:[],enabled:true,id:id,name:ip,excluded:false,kqlQuery:"",queryMatch:{field:ipAttr,value:ip,operator:_data_provider.IS_OPERATOR}},render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:dataProvider})):_react.default.createElement(_links.IPDetailsLink,{ip:ip,flowTarget:flowTarget})}}),geo&&_react.default.createElement(_draggable_wrapper.DraggableWrapper,{key:"".concat(id,"-").concat(geo),dataProvider:{and:[],enabled:true,id:"".concat(id,"-").concat(geo),name:geo,excluded:false,kqlQuery:"",queryMatch:{field:geoAttrName,value:geo,operator:_data_provider.IS_OPERATOR}},render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:dataProvider})):_react.default.createElement(_react.default.Fragment,null," ",_react.default.createElement(_country_flag.CountryFlag,{countryCode:geo})," ",geo)}}))}else{return(0,_empty_value.getEmptyTagValue)()}},width:"20%"},{name:i18n.DOMAIN,render:function render(_ref2){var node=_ref2.node;var domainAttr="".concat(flowTarget,".domain");var ipAttr="".concat(flowTarget,".ip");var domains=(0,_fp.get)(domainAttr,node);var ip=(0,_fp.get)(ipAttr,node);if(Array.isArray(domains)&&domains.length>0){var id=(0,_helpers.escapeDataProviderId)("".concat(tableId,"-table-").concat(ip));return(0,_helpers2.getRowItemDraggables)({rowItems:domains,attrName:domainAttr,idPrefix:id,displayCount:1})}else{return(0,_empty_value.getEmptyTagValue)()}},width:"20%"},{name:i18n.AUTONOMOUS_SYSTEM,render:function render(_ref3){var node=_ref3.node,ipAddress=_ref3.cursor.value;var asAttr="".concat(flowTarget,".autonomous_system");var as=(0,_fp.get)(asAttr,node);if(as!=null){var id=(0,_helpers.escapeDataProviderId)("".concat(tableId,"-table-").concat(flowTarget,"-ip-").concat(ipAddress));return _react.default.createElement(_react.default.Fragment,null,as.name&&(0,_helpers2.getRowItemDraggable)({rowItem:as.name,attrName:"".concat(flowTarget,".as.organization.name"),idPrefix:"".concat(id,"-name")}),as.number&&_react.default.createElement(_react.default.Fragment,null," ",(0,_helpers2.getRowItemDraggable)({rowItem:"".concat(as.number),attrName:"".concat(flowTarget,".as.number"),idPrefix:"".concat(id,"-number")})))}else{return(0,_empty_value.getEmptyTagValue)()}},width:"20%"},{align:"right",field:"node.network.bytes_in",name:i18n.BYTES_IN,sortable:true,render:function render(bytes){if(bytes!=null){return _react.default.createElement(_formatted_bytes.PreferenceFormattedBytes,{value:bytes})}else{return(0,_empty_value.getEmptyTagValue)()}}},{align:"right",field:"node.network.bytes_out",name:i18n.BYTES_OUT,sortable:true,render:function render(bytes){if(bytes!=null){return _react.default.createElement(_formatted_bytes.PreferenceFormattedBytes,{value:bytes})}else{return(0,_empty_value.getEmptyTagValue)()}}},{align:"right",field:"node.".concat(flowTarget,".flows"),name:i18n.FLOWS,sortable:true,render:function render(flows){if(flows!=null){return(0,_numeral.default)(flows).format("0,000")}else{return(0,_empty_value.getEmptyTagValue)()}}},{align:"right",field:"node.".concat(flowTarget,".").concat(getOppositeField(flowTarget),"_ips"),name:flowTarget===_types.FlowTargetSourceDest.source?i18n.DESTINATION_IPS:i18n.SOURCE_IPS,sortable:true,render:function render(ips){if(ips!=null){return(0,_numeral.default)(ips).format("0,000")}else{return(0,_empty_value.getEmptyTagValue)()}}}]};exports.getNetworkTopNFlowColumns=getNetworkTopNFlowColumns;var getNFlowColumnsCurated=function getNFlowColumnsCurated(flowTarget,type,tableId){var columns=getNetworkTopNFlowColumns(flowTarget,tableId);if(type===_store.networkModel.NetworkType.details){columns.pop();return columns}return columns};exports.getNFlowColumnsCurated=getNFlowColumnsCurated;var getOppositeField=function getOppositeField(flowTarget){return flowTarget===_types.FlowTargetSourceDest.source?_types.FlowTargetSourceDest.destination:_types.FlowTargetSourceDest.source}},8735:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.networkTopNFlowQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetNetworkTopNFlowQuery(\n    $sourceId: ID!\n    $ip: String\n    $filterQuery: String\n    $pagination: PaginationInputPaginated!\n    $sort: NetworkTopTablesSortField!\n    $flowTarget: FlowTargetSourceDest!\n    $timerange: TimerangeInput!\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      NetworkTopNFlow(\n        filterQuery: $filterQuery\n        flowTarget: $flowTarget\n        ip: $ip\n        pagination: $pagination\n        sort: $sort\n        timerange: $timerange\n        defaultIndex: $defaultIndex\n      ) {\n        totalCount\n        edges {\n          node {\n            source {\n              autonomous_system {\n                name\n                number\n              }\n              domain\n              ip\n              location {\n                geo {\n                  continent_name\n                  country_name\n                  country_iso_code\n                  city_name\n                  region_iso_code\n                  region_name\n                }\n                flowTarget\n              }\n              flows\n              destination_ips\n            }\n            destination {\n              autonomous_system {\n                name\n                number\n              }\n              domain\n              ip\n              location {\n                geo {\n                  continent_name\n                  country_name\n                  country_iso_code\n                  city_name\n                  region_iso_code\n                  region_name\n                }\n                flowTarget\n              }\n              flows\n              source_ips\n            }\n            network {\n              bytes_in\n              bytes_out\n            }\n          }\n          cursor {\n            value\n          }\n        }\n        pageInfo {\n          activePage\n          fakeTotalCount\n          showMorePagesIndicator\n        }\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var networkTopNFlowQuery=(0,_graphqlTag.default)(_templateObject());exports.networkTopNFlowQuery=networkTopNFlowQuery},8736:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TlsQueryTable=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _manage_query=__webpack_require__(7028);var _tls_table=__webpack_require__(7612);var _tls=__webpack_require__(7614);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TlsTableManage=(0,_manage_query.manageQuery)(_tls_table.TlsTable);var TlsQueryTable=function TlsQueryTable(_ref){var endDate=_ref.endDate,filterQuery=_ref.filterQuery,flowTarget=_ref.flowTarget,ip=_ref.ip,setQuery=_ref.setQuery,skip=_ref.skip,startDate=_ref.startDate,type=_ref.type;return _react.default.createElement(_tls.TlsQuery,{endDate:endDate,filterQuery:filterQuery,flowTarget:flowTarget,ip:ip,skip:skip,sourceId:"default",startDate:startDate,type:type},(function(_ref2){var id=_ref2.id,inspect=_ref2.inspect,isInspected=_ref2.isInspected,tls=_ref2.tls,totalCount=_ref2.totalCount,pageInfo=_ref2.pageInfo,loading=_ref2.loading,loadPage=_ref2.loadPage,refetch=_ref2.refetch;return _react.default.createElement(TlsTableManage,{data:tls,id:id,inspect:inspect,isInspect:isInspected,fakeTotalCount:(0,_fp.getOr)(50,"fakeTotalCount",pageInfo),loading:loading,loadPage:loadPage,showMorePagesIndicator:(0,_fp.getOr)(false,"showMorePagesIndicator",pageInfo),refetch:refetch,setQuery:setQuery,totalCount:totalCount,type:type})}))};exports.TlsQueryTable=TlsQueryTable;TlsQueryTable.displayName="TlsQueryTable"},8737:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTlsColumns=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _moment=_interopRequireDefault(__webpack_require__(13));var _helpers=__webpack_require__(7065);var _localized_date_tooltip=__webpack_require__(7311);var _formatted_date=__webpack_require__(7027);var i18n=_interopRequireWildcard(__webpack_require__(7613));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getTlsColumns=function getTlsColumns(tableId){return[{field:"node",name:i18n.ISSUER,truncateText:false,hideForMobile:false,sortable:false,render:function render(_ref){var _id=_ref._id,issuerNames=_ref.issuerNames;return(0,_helpers.getRowItemDraggables)({rowItems:issuerNames,attrName:"tls.server_certificate.issuer.common_name",idPrefix:"".concat(tableId,"-").concat(_id,"-table-issuerNames")})}},{field:"node",name:i18n.SUBJECT,truncateText:false,hideForMobile:false,sortable:false,render:function render(_ref2){var _id=_ref2._id,alternativeNames=_ref2.alternativeNames,commonNames=_ref2.commonNames;return alternativeNames!=null&&alternativeNames.length>0?(0,_helpers.getRowItemDraggables)({rowItems:alternativeNames,attrName:"tls.server_certificate.alternative_names",idPrefix:"".concat(tableId,"-").concat(_id,"-table-alternative-name")}):(0,_helpers.getRowItemDraggables)({rowItems:commonNames,attrName:"tls.server_certificate.subject.common_name",idPrefix:"".concat(tableId,"-").concat(_id,"-table-common-name")})}},{field:"node._id",name:i18n.SHA1_FINGERPRINT,truncateText:false,hideForMobile:false,sortable:true,render:function render(sha1){return(0,_helpers.getRowItemDraggable)({rowItem:sha1,attrName:"tls.server_certificate.fingerprint.sha1",idPrefix:"".concat(tableId,"-").concat(sha1,"-table-sha1")})}},{field:"node",name:i18n.JA3_FINGERPRINT,truncateText:false,hideForMobile:false,sortable:false,render:function render(_ref3){var _id=_ref3._id,ja3=_ref3.ja3;return(0,_helpers.getRowItemDraggables)({rowItems:ja3,attrName:"tls.fingerprints.ja3.hash",idPrefix:"".concat(tableId,"-").concat(_id,"-table-ja3")})}},{field:"node",name:i18n.VALID_UNTIL,truncateText:false,hideForMobile:false,sortable:false,render:function render(_ref4){var _id=_ref4._id,notAfter=_ref4.notAfter;return(0,_helpers.getRowItemDraggables)({rowItems:notAfter,attrName:"tls.server_certificate.not_after",idPrefix:"".concat(tableId,"-").concat(_id,"-table-notAfter"),render:function render(validUntil){return _react.default.createElement(_localized_date_tooltip.LocalizedDateTooltip,{date:(0,_moment.default)(new Date(validUntil)).toDate()},_react.default.createElement(_formatted_date.PreferenceFormattedDate,{value:new Date(validUntil)}))}})}}]};exports.getTlsColumns=getTlsColumns},8738:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.tlsQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetTlsQuery(\n    $sourceId: ID!\n    $filterQuery: String\n    $flowTarget: FlowTargetSourceDest!\n    $ip: String!\n    $pagination: PaginationInputPaginated!\n    $sort: TlsSortField!\n    $timerange: TimerangeInput!\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      Tls(\n        filterQuery: $filterQuery\n        flowTarget: $flowTarget\n        ip: $ip\n        pagination: $pagination\n        sort: $sort\n        timerange: $timerange\n        defaultIndex: $defaultIndex\n      ) {\n        totalCount\n        edges {\n          node {\n            _id\n            alternativeNames\n            commonNames\n            ja3\n            issuerNames\n            notAfter\n          }\n          cursor {\n            value\n          }\n        }\n        pageInfo {\n          activePage\n          fakeTotalCount\n          showMorePagesIndicator\n        }\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var tlsQuery=(0,_graphqlTag.default)(_templateObject());exports.tlsQuery=tlsQuery},8739:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UsersQueryTable=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _fp=__webpack_require__(223);var _manage_query=__webpack_require__(7028);var _users=__webpack_require__(8740);var _users_table=__webpack_require__(8742);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UsersTableManage=(0,_manage_query.manageQuery)(_users_table.UsersTable);var UsersQueryTable=function UsersQueryTable(_ref){var endDate=_ref.endDate,filterQuery=_ref.filterQuery,flowTarget=_ref.flowTarget,ip=_ref.ip,setQuery=_ref.setQuery,skip=_ref.skip,startDate=_ref.startDate,type=_ref.type;return _react.default.createElement(_users.UsersQuery,{endDate:endDate,filterQuery:filterQuery,flowTarget:flowTarget,ip:ip,skip:skip,sourceId:"default",startDate:startDate,type:type},(function(_ref2){var id=_ref2.id,inspect=_ref2.inspect,isInspected=_ref2.isInspected,users=_ref2.users,totalCount=_ref2.totalCount,pageInfo=_ref2.pageInfo,loading=_ref2.loading,loadPage=_ref2.loadPage,refetch=_ref2.refetch;return _react.default.createElement(UsersTableManage,{data:users,id:id,inspect:inspect,isInspect:isInspected,flowTarget:flowTarget,fakeTotalCount:(0,_fp.getOr)(50,"fakeTotalCount",pageInfo),loading:loading,loadPage:loadPage,showMorePagesIndicator:(0,_fp.getOr)(false,"showMorePagesIndicator",pageInfo),refetch:refetch,setQuery:setQuery,totalCount:totalCount,type:type})}))};exports.UsersQueryTable=UsersQueryTable;UsersQueryTable.displayName="UsersQueryTable"},8740:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.UsersQuery=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _constants=__webpack_require__(977);var _store=__webpack_require__(7016);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(7029);var _helpers2=__webpack_require__(7071);var _query_template_paginated=__webpack_require__(7080);var _index=__webpack_require__(8741);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ID="usersQuery";var UsersComponentQuery=function(_QueryTemplatePaginat){_inherits(UsersComponentQuery,_QueryTemplatePaginat);function UsersComponentQuery(){_classCallCheck(this,UsersComponentQuery);return _possibleConstructorReturn(this,_getPrototypeOf(UsersComponentQuery).apply(this,arguments))}_createClass(UsersComponentQuery,[{key:"render",value:function render(){var _this=this;var _this$props=this.props,activePage=_this$props.activePage,children=_this$props.children,endDate=_this$props.endDate,filterQuery=_this$props.filterQuery,flowTarget=_this$props.flowTarget,_this$props$id=_this$props.id,id=_this$props$id===void 0?ID:_this$props$id,ip=_this$props.ip,isInspected=_this$props.isInspected,kibana=_this$props.kibana,limit=_this$props.limit,skip=_this$props.skip,sourceId=_this$props.sourceId,startDate=_this$props.startDate,sort=_this$props.sort;var variables={defaultIndex:kibana.services.uiSettings.get(_constants.DEFAULT_INDEX_KEY),filterQuery:(0,_helpers.createFilter)(filterQuery),flowTarget:flowTarget,inspect:isInspected,ip:ip,pagination:(0,_helpers2.generateTablePaginationOptions)(activePage,limit),sort:sort,sourceId:sourceId,timerange:{interval:"12h",from:startDate,to:endDate}};return _react.default.createElement(_reactApollo.Query,{query:_index.usersQuery,fetchPolicy:(0,_helpers.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,skip:skip,variables:variables},(function(_ref){var data=_ref.data,loading=_ref.loading,fetchMore=_ref.fetchMore,networkStatus=_ref.networkStatus,refetch=_ref.refetch;var users=(0,_fp.getOr)([],"source.Users.edges",data);_this.setFetchMore(fetchMore);_this.setFetchMoreOptions((function(newActivePage){return{variables:{pagination:(0,_helpers2.generateTablePaginationOptions)(newActivePage,limit)},updateQuery:function updateQuery(prev,_ref2){var fetchMoreResult=_ref2.fetchMoreResult;if(!fetchMoreResult){return prev}return _objectSpread({},fetchMoreResult,{source:_objectSpread({},fetchMoreResult.source,{Users:_objectSpread({},fetchMoreResult.source.Users,{edges:_toConsumableArray(fetchMoreResult.source.Users.edges)})})})}}}));var isLoading=_this.isItAValidLoading(loading,variables,networkStatus);return children({id:id,inspect:(0,_fp.getOr)(null,"source.Users.inspect",data),isInspected:isInspected,loading:isLoading,loadPage:_this.wrappedLoadMore,pageInfo:(0,_fp.getOr)({},"source.Users.pageInfo",data),refetch:_this.memoizedRefetchQuery(variables,limit,refetch),totalCount:(0,_fp.getOr)(-1,"source.Users.totalCount",data),users:users})}))}}]);return UsersComponentQuery}(_query_template_paginated.QueryTemplatePaginated);var makeMapStateToProps=function makeMapStateToProps(){var getUsersSelector=_store.networkSelectors.usersSelector();var getQuery=_store.inputsSelectors.globalQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref3){var _ref3$id=_ref3.id,id=_ref3$id===void 0?ID:_ref3$id;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return _objectSpread({},getUsersSelector(state),{isInspected:isInspected})};return mapStateToProps};var UsersQuery=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps),_kibana.withKibana)(UsersComponentQuery);exports.UsersQuery=UsersQuery},8741:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.usersQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetUsersQuery(\n    $sourceId: ID!\n    $filterQuery: String\n    $flowTarget: FlowTarget!\n    $ip: String!\n    $pagination: PaginationInputPaginated!\n    $sort: UsersSortField!\n    $timerange: TimerangeInput!\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      Users(\n        filterQuery: $filterQuery\n        flowTarget: $flowTarget\n        ip: $ip\n        pagination: $pagination\n        sort: $sort\n        timerange: $timerange\n        defaultIndex: $defaultIndex\n      ) {\n        totalCount\n        edges {\n          node {\n            user {\n              name\n              id\n              groupId\n              groupName\n              count\n            }\n          }\n          cursor {\n            value\n          }\n        }\n        pageInfo {\n          activePage\n          fakeTotalCount\n          showMorePagesIndicator\n        }\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var usersQuery=(0,_graphqlTag.default)(_templateObject());exports.usersQuery=usersQuery},8742:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UsersTable=exports.usersTableId=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _network=__webpack_require__(1897);var _types=__webpack_require__(671);var _store=__webpack_require__(7016);var _paginated_table=__webpack_require__(7081);var _columns=__webpack_require__(8743);var i18n=_interopRequireWildcard(__webpack_require__(7615));var _helpers=__webpack_require__(7061);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var tableType=_store.networkModel.IpDetailsTableType.users;var rowItems=[{text:i18n.ROWS_5,numberOfRow:5},{text:i18n.ROWS_10,numberOfRow:10}];var usersTableId="users-table";exports.usersTableId=usersTableId;var UsersTableComponent=_react.default.memo((function(_ref){var activePage=_ref.activePage,data=_ref.data,fakeTotalCount=_ref.fakeTotalCount,flowTarget=_ref.flowTarget,id=_ref.id,isInspect=_ref.isInspect,limit=_ref.limit,loading=_ref.loading,loadPage=_ref.loadPage,showMorePagesIndicator=_ref.showMorePagesIndicator,totalCount=_ref.totalCount,type=_ref.type,updateNetworkTable=_ref.updateNetworkTable,sort=_ref.sort;var updateLimitPagination=(0,_react.useCallback)((function(newLimit){return updateNetworkTable({networkType:type,tableType:tableType,updates:{limit:newLimit}})}),[type,updateNetworkTable]);var updateActivePage=(0,_react.useCallback)((function(newPage){return updateNetworkTable({networkType:type,tableType:tableType,updates:{activePage:newPage}})}),[type,updateNetworkTable]);var onChange=(0,_react.useCallback)((function(criteria){if(criteria.sort!=null){var splitField=criteria.sort.field.split(".");var newUsersSort={field:getSortFromString(splitField[splitField.length-1]),direction:criteria.sort.direction};if(!(0,_fp.isEqual)(newUsersSort,sort)){updateNetworkTable({networkType:type,tableType:tableType,updates:{sort:newUsersSort}})}}}),[sort,type,updateNetworkTable]);return _react.default.createElement(_paginated_table.PaginatedTable,{activePage:activePage,columns:(0,_columns.getUsersColumns)(flowTarget,usersTableId),dataTestSubj:"table-".concat(tableType),showMorePagesIndicator:showMorePagesIndicator,headerCount:totalCount,headerTitle:i18n.USERS,headerUnit:i18n.UNIT(totalCount),id:id,isInspect:isInspect,itemsPerRow:rowItems,limit:limit,loading:loading,loadPage:loadPage,onChange:onChange,pageOfItems:data,sorting:getSortField(sort),totalCount:fakeTotalCount,updateActivePage:updateActivePage,updateLimitPagination:updateLimitPagination})}));UsersTableComponent.displayName="UsersTableComponent";var makeMapStateToProps=function makeMapStateToProps(){var getUsersSelector=_store.networkSelectors.usersSelector();return function(state){return _objectSpread({},getUsersSelector(state))}};var UsersTable=(0,_reactRedux.connect)(makeMapStateToProps,{updateNetworkTable:_network.networkActions.updateNetworkTable})(UsersTableComponent);exports.UsersTable=UsersTable;var getSortField=function getSortField(sortField){switch(sortField.field){case _types.UsersFields.name:return{field:"node.user.".concat(sortField.field),direction:sortField.direction};case _types.UsersFields.count:return{field:"node.user.".concat(sortField.field),direction:sortField.direction}}return(0,_helpers.assertUnreachable)(sortField.field)};var getSortFromString=function getSortFromString(sortField){switch(sortField){case _types.UsersFields.name.valueOf():return _types.UsersFields.name;case _types.UsersFields.count.valueOf():return _types.UsersFields.count;default:return _types.UsersFields.name}}},8743:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getUsersColumns=void 0;var _empty_value=__webpack_require__(7017);var i18n=_interopRequireWildcard(__webpack_require__(7615));var _helpers=__webpack_require__(7065);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var getUsersColumns=function getUsersColumns(flowTarget,tableId){return[{field:"node.user.name",name:i18n.USER_NAME,truncateText:false,hideForMobile:false,sortable:true,render:function render(userName){return(0,_helpers.getRowItemDraggable)({rowItem:userName,attrName:"user.name",idPrefix:"".concat(tableId,"-table-").concat(flowTarget,"-user")})}},{field:"node.user.id",name:i18n.USER_ID,truncateText:false,hideForMobile:false,sortable:false,render:function render(userIds){return(0,_helpers.getRowItemDraggables)({rowItems:userIds,attrName:"user.id",idPrefix:"".concat(tableId,"-table-").concat(flowTarget)})}},{field:"node.user.groupName",name:i18n.GROUP_NAME,truncateText:false,hideForMobile:false,sortable:false,render:function render(groupNames){return(0,_helpers.getRowItemDraggables)({rowItems:groupNames,attrName:"user.group.name",idPrefix:"".concat(tableId,"-table-").concat(flowTarget)})}},{field:"node.user.groupId",name:i18n.GROUP_ID,truncateText:false,hideForMobile:false,sortable:false,render:function render(groupId){return(0,_helpers.getRowItemDraggables)({rowItems:groupId,attrName:"user.group.id",idPrefix:"".concat(tableId,"-table-").concat(flowTarget)})}},{align:"right",field:"node.user.count",name:i18n.DOCUMENT_COUNT,truncateText:false,hideForMobile:false,sortable:true,render:function render(docCount){return(0,_empty_value.defaultToEmptyTag)(docCount)}}]};exports.getUsersColumns=getUsersColumns},8744:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ERROR_FETCHING_ANOMALIES_DATA=exports.ANOMALIES_TITLE=exports.ANOMALIES_STACK_BY_JOB_ID=void 0;var _i18n=__webpack_require__(2);var ANOMALIES_STACK_BY_JOB_ID=_i18n.i18n.translate("xpack.siem.containers.anomalies.stackByJobId",{defaultMessage:"job"});exports.ANOMALIES_STACK_BY_JOB_ID=ANOMALIES_STACK_BY_JOB_ID;var ANOMALIES_TITLE=_i18n.i18n.translate("xpack.siem.containers.anomalies.title",{defaultMessage:"Anomalies"});exports.ANOMALIES_TITLE=ANOMALIES_TITLE;var ERROR_FETCHING_ANOMALIES_DATA=_i18n.i18n.translate("xpack.siem.containers.anomalies.errorFetchingAnomaliesData",{defaultMessage:"Failed to query anomalies data"});exports.ERROR_FETCHING_ANOMALIES_DATA=ERROR_FETCHING_ANOMALIES_DATA},8745:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAnomaliesFilterQuery=void 0;var _deepmerge=_interopRequireDefault(__webpack_require__(9246));var _helpers=__webpack_require__(7029);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getAnomaliesFilterQuery=function getAnomaliesFilterQuery(filterQuery){var anomaliesFilterQuery=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var siemJobs=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var anomalyScore=arguments.length>3?arguments[3]:undefined;var flowTarget=arguments.length>4?arguments[4]:undefined;var ip=arguments.length>5?arguments[5]:undefined;var siemJobIds=siemJobs.filter((function(job){return job.isInstalled})).map((function(job){return job.id})).map((function(jobId){return{match_phrase:{job_id:jobId}}}));var filterQueryString=(0,_helpers.createFilter)(filterQuery);var filterQueryObject=filterQueryString?JSON.parse(filterQueryString):{};var mergedFilterQuery=_deepmerge.default.all([filterQueryObject,anomaliesFilterQuery,{bool:{filter:[{bool:{should:siemJobIds,minimum_should_match:1}},{match_phrase:{result_type:"record"}},flowTarget&&ip&&{match_phrase:_defineProperty({},"".concat(flowTarget,".ip"),ip)},{range:{record_score:{gte:anomalyScore}}}]}}]);return JSON.stringify(mergedFilterQuery)};exports.getAnomaliesFilterQuery=getAnomaliesFilterQuery},8746:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.STACK_BY=void 0;var _i18n=__webpack_require__(2);var STACK_BY=_i18n.i18n.translate("xpack.siem.components.histogram.stackByOptions.stackByLabel",{defaultMessage:"Stack by"});exports.STACK_BY=STACK_BY},8747:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DATA_NOT_AVAILABLE_TITLE=exports.ALL_VALUES_ZEROS_TITLE=void 0;var _i18n=__webpack_require__(2);var ALL_VALUES_ZEROS_TITLE=_i18n.i18n.translate("xpack.siem.chart.dataAllValuesZerosTitle",{defaultMessage:"All values returned zero"});exports.ALL_VALUES_ZEROS_TITLE=ALL_VALUES_ZEROS_TITLE;var DATA_NOT_AVAILABLE_TITLE=_i18n.i18n.translate("xpack.siem.chart.dataNotAvailableTitle",{defaultMessage:"Chart Data Not Available"});exports.DATA_NOT_AVAILABLE_TITLE=DATA_NOT_AVAILABLE_TITLE},8748:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getCustomChartData=exports.formatToChartDataItem=exports.getBarchartConfigs=exports.DEFAULT_CHART_HEIGHT=void 0;var _charts=__webpack_require__(42);var _fp=__webpack_require__(223);var _utils=__webpack_require__(7326);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var DEFAULT_CHART_HEIGHT=174;exports.DEFAULT_CHART_HEIGHT=DEFAULT_CHART_HEIGHT;var getBarchartConfigs=function getBarchartConfigs(_ref){var chartHeight=_ref.chartHeight,from=_ref.from,legendPosition=_ref.legendPosition,to=_ref.to,scaleType=_ref.scaleType,onBrushEnd=_ref.onBrushEnd,yTickFormatter=_ref.yTickFormatter,showLegend=_ref.showLegend;return{series:{xScaleType:scaleType||_charts.ScaleType.Time,yScaleType:_charts.ScaleType.Linear,stackAccessors:["g"]},axis:{xTickFormatter:scaleType===_charts.ScaleType.Time?(0,_utils.histogramDateTimeFormatter)([from,to]):undefined,yTickFormatter:yTickFormatter!=null?yTickFormatter:function(value){return value.toLocaleString()},tickSize:8},settings:{legendPosition:legendPosition!==null&&legendPosition!==void 0?legendPosition:_charts.Position.Bottom,onBrushEnd:onBrushEnd,showLegend:showLegend!==null&&showLegend!==void 0?showLegend:true,theme:{scales:{barsPadding:.08},chartMargins:{left:0,right:0,top:0,bottom:0},chartPaddings:{left:0,right:0,top:0,bottom:0}}},customHeight:chartHeight!==null&&chartHeight!==void 0?chartHeight:DEFAULT_CHART_HEIGHT}};exports.getBarchartConfigs=getBarchartConfigs;var formatToChartDataItem=function formatToChartDataItem(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1];return{key:key,value:value}};exports.formatToChartDataItem=formatToChartDataItem;var getCustomChartData=function getCustomChartData(data,mapping){if(!data)return[];var dataGroupedByEvent=(0,_fp.groupBy)("g",data);var dataGroupedEntries=(0,_fp.toPairs)(dataGroupedByEvent);var formattedChartData=(0,_fp.map)(formatToChartDataItem,dataGroupedEntries);if(mapping)return(0,_fp.map)((function(item){var mapItem=(0,_fp.get)(item.key,mapping);return _objectSpread({},item,{color:mapItem.color})}),formattedChartData);else return formattedChartData};exports.getCustomChartData=getCustomChartData},8749:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useQuery=void 0;var _fp=__webpack_require__(223);var _react=__webpack_require__(0);var _constants=__webpack_require__(977);var _toasters=__webpack_require__(7019);var _error_to_toaster=__webpack_require__(7039);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(7029);var _apollo_context=__webpack_require__(7077);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useQuery=function useQuery(_ref){var dataKey=_ref.dataKey,endDate=_ref.endDate,errorMessage=_ref.errorMessage,filterQuery=_ref.filterQuery,_ref$isAlertsHistogra=_ref.isAlertsHistogram,isAlertsHistogram=_ref$isAlertsHistogra===void 0?false:_ref$isAlertsHistogra,_ref$isAnomaliesHisto=_ref.isAnomaliesHistogram,isAnomaliesHistogram=_ref$isAnomaliesHisto===void 0?false:_ref$isAnomaliesHisto,_ref$isAuthentication=_ref.isAuthenticationsHistogram,isAuthenticationsHistogram=_ref$isAuthentication===void 0?false:_ref$isAuthentication,_ref$isEventsHistogra=_ref.isEventsHistogram,isEventsHistogram=_ref$isEventsHistogra===void 0?false:_ref$isEventsHistogra,_ref$isDnsHistogram=_ref.isDnsHistogram,isDnsHistogram=_ref$isDnsHistogram===void 0?false:_ref$isDnsHistogram,isInspected=_ref.isInspected,query=_ref.query,stackByField=_ref.stackByField,startDate=_ref.startDate;var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_INDEX_KEY),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),defaultIndex=_useUiSetting$2[0];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];var refetch=(0,_react.useRef)();var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),inspect=_useState6[0],setInspect=_useState6[1];var _useState7=(0,_react.useState)(-1),_useState8=_slicedToArray(_useState7,2),totalCount=_useState8[0],setTotalCount=_useState8[1];var apolloClient=(0,_apollo_context.useApolloClient)();var matrixHistogramVariables={filterQuery:(0,_helpers.createFilter)(filterQuery),sourceId:"default",timerange:{interval:"12h",from:startDate,to:endDate},defaultIndex:defaultIndex,inspect:isInspected,stackByField:stackByField,isAlertsHistogram:isAlertsHistogram,isAnomaliesHistogram:isAnomaliesHistogram,isAuthenticationsHistogram:isAuthenticationsHistogram,isDnsHistogram:isDnsHistogram,isEventsHistogram:isEventsHistogram};(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;var abortSignal=abortCtrl.signal;function fetchData(){return regeneratorRuntime.async((function fetchData$(_context){while(1){switch(_context.prev=_context.next){case 0:if(apolloClient){_context.next=2;break}return _context.abrupt("return",null);case 2:setLoading(true);return _context.abrupt("return",apolloClient.query({query:query,fetchPolicy:"network-only",variables:matrixHistogramVariables,context:{fetchOptions:{abortSignal:abortSignal}}}).then((function(result){if(isSubscribed){var isDataKeyAnArray=Array.isArray(dataKey);var rootDataKey=isDataKeyAnArray?dataKey[0]:"".concat(dataKey);var histogramDataKey=isDataKeyAnArray?dataKey[1]:"matrixHistogramData";var source=(0,_fp.getOr)({},"data.source.".concat(rootDataKey),result);setData((0,_fp.getOr)([],histogramDataKey,source));setTotalCount((0,_fp.getOr)(-1,"totalCount",source));setInspect((0,_fp.getOr)(null,"inspect",source));setLoading(false)}}),(function(error){if(isSubscribed){setData(null);setTotalCount(-1);setInspect(null);(0,_error_to_toaster.errorToToaster)({title:errorMessage,error:error,dispatchToaster:dispatchToaster});setLoading(false)}})));case 4:case"end":return _context.stop()}}}))}refetch.current=fetchData;fetchData();return function(){isSubscribed=false;abortCtrl.abort()}}),[defaultIndex,query,filterQuery,isInspected,isDnsHistogram,stackByField,startDate,endDate]);return{data:data,loading:loading,inspect:inspect,totalCount:totalCount,refetch:refetch.current}};exports.useQuery=useQuery},8750:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getBreadcrumbs=exports.type=void 0;var _fp=__webpack_require__(223);var _helpers=__webpack_require__(7061);var _redirect_to_network=__webpack_require__(7315);var _network=__webpack_require__(1897);var i18n=_interopRequireWildcard(__webpack_require__(7209));var _types=__webpack_require__(7134);var _TabNameMappedToI18nK;function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var type=_network.networkModel.NetworkType.details;exports.type=type;var TabNameMappedToI18nKey=(_TabNameMappedToI18nK={},_defineProperty(_TabNameMappedToI18nK,_types.NetworkRouteType.alerts,i18n.NAVIGATION_ALERTS_TITLE),_defineProperty(_TabNameMappedToI18nK,_types.NetworkRouteType.anomalies,i18n.NAVIGATION_ANOMALIES_TITLE),_defineProperty(_TabNameMappedToI18nK,_types.NetworkRouteType.flows,i18n.NAVIGATION_FLOWS_TITLE),_defineProperty(_TabNameMappedToI18nK,_types.NetworkRouteType.dns,i18n.NAVIGATION_DNS_TITLE),_defineProperty(_TabNameMappedToI18nK,_types.NetworkRouteType.http,i18n.NAVIGATION_HTTP_TITLE),_defineProperty(_TabNameMappedToI18nK,_types.NetworkRouteType.tls,i18n.NAVIGATION_TLS_TITLE),_TabNameMappedToI18nK);var getBreadcrumbs=function getBreadcrumbs(params,search){var breadcrumb=[{text:i18n.PAGE_TITLE,href:"".concat((0,_redirect_to_network.getNetworkUrl)()).concat(!(0,_fp.isEmpty)(search[0])?search[0]:"")}];if(params.detailName!=null){breadcrumb=[].concat(_toConsumableArray(breadcrumb),[{text:(0,_helpers.decodeIpv6)(params.detailName),href:"".concat((0,_redirect_to_network.getIPDetailsUrl)(params.detailName,params.flowTarget)).concat(!(0,_fp.isEmpty)(search[1])?search[1]:"")}])}var tabName=(0,_fp.get)("tabName",params);if(!tabName)return breadcrumb;breadcrumb=[].concat(_toConsumableArray(breadcrumb),[{text:TabNameMappedToI18nKey[tabName],href:""}]);return breadcrumb};exports.getBreadcrumbs=getBreadcrumbs},8751:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getBreadcrumbs=void 0;var _fp=__webpack_require__(223);var _redirect_to_detection_engine=__webpack_require__(7043);var i18nDetections=_interopRequireWildcard(__webpack_require__(7155));var i18nRules=_interopRequireWildcard(__webpack_require__(7031));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var getTabBreadcrumb=function getTabBreadcrumb(pathname,search){var tabPath=pathname.split("/")[2];if(tabPath==="alerts"){return{text:i18nDetections.ALERT,href:"".concat((0,_redirect_to_detection_engine.getDetectionEngineTabUrl)(tabPath)).concat(!(0,_fp.isEmpty)(search[0])?search[0]:"")}}if(tabPath==="signals"){return{text:i18nDetections.SIGNAL,href:"".concat((0,_redirect_to_detection_engine.getDetectionEngineTabUrl)(tabPath)).concat(!(0,_fp.isEmpty)(search[0])?search[0]:"")}}if(tabPath==="rules"){return{text:i18nRules.PAGE_TITLE,href:"".concat((0,_redirect_to_detection_engine.getRulesUrl)()).concat(!(0,_fp.isEmpty)(search[0])?search[0]:"")}}};var isRuleCreatePage=function isRuleCreatePage(pathname){return pathname.includes("/rules")&&pathname.includes("/create")};var isRuleEditPage=function isRuleEditPage(pathname){return pathname.includes("/rules")&&pathname.includes("/edit")};var getBreadcrumbs=function getBreadcrumbs(params,search){var _params$state,_params$state2;var breadcrumb=[{text:i18nDetections.PAGE_TITLE,href:"".concat((0,_redirect_to_detection_engine.getDetectionEngineUrl)()).concat(!(0,_fp.isEmpty)(search[0])?search[0]:"")}];var tabBreadcrumb=getTabBreadcrumb(params.pathName,search);if(tabBreadcrumb){breadcrumb=[].concat(_toConsumableArray(breadcrumb),[tabBreadcrumb])}if(params.detailName&&((_params$state=params.state)===null||_params$state===void 0?void 0:_params$state.ruleName)){breadcrumb=[].concat(_toConsumableArray(breadcrumb),[{text:params.state.ruleName,href:"".concat((0,_redirect_to_detection_engine.getRuleDetailsUrl)(params.detailName)).concat(!(0,_fp.isEmpty)(search[1])?search[1]:"")}])}if(isRuleCreatePage(params.pathName)){breadcrumb=[].concat(_toConsumableArray(breadcrumb),[{text:i18nRules.ADD_PAGE_TITLE,href:"".concat((0,_redirect_to_detection_engine.getCreateRuleUrl)()).concat(!(0,_fp.isEmpty)(search[1])?search[1]:"")}])}if(isRuleEditPage(params.pathName)&&params.detailName&&((_params$state2=params.state)===null||_params$state2===void 0?void 0:_params$state2.ruleName)){breadcrumb=[].concat(_toConsumableArray(breadcrumb),[{text:i18nRules.EDIT_PAGE_TITLE,href:"".concat((0,_redirect_to_detection_engine.getEditRuleUrl)(params.detailName)).concat(!(0,_fp.isEmpty)(search[1])?search[1]:"")}])}return breadcrumb};exports.getBreadcrumbs=getBreadcrumbs},8752:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabNavigation=exports.TabNavigationComponent=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _telemetry=__webpack_require__(995);var _helpers=__webpack_require__(7621);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var TabNavigationItemComponent=function TabNavigationItemComponent(_ref){var href=_ref.href,hrefWithSearch=_ref.hrefWithSearch,id=_ref.id,disabled=_ref.disabled,name=_ref.name,isSelected=_ref.isSelected;var handleClick=(0,_react.useCallback)((function(){(0,_telemetry.track)(_telemetry.METRIC_TYPE.CLICK,"".concat(_telemetry.TELEMETRY_EVENT.TAB_CLICKED).concat(id))}),[id]);return _react.default.createElement(_eui.EuiTab,{"data-href":href,"data-test-subj":"navigation-".concat(id),disabled:disabled,href:hrefWithSearch,isSelected:isSelected,onClick:handleClick},name)};var TabNavigationItem=_react.default.memo(TabNavigationItemComponent);var TabNavigationComponent=function TabNavigationComponent(props){var display=props.display,navTabs=props.navTabs,pageName=props.pageName,tabName=props.tabName;var mapLocationToTab=(0,_react.useCallback)((function(){return(0,_fp.getOr)("","id",Object.values(navTabs).find((function(item){return tabName===item.id||pageName===item.id})))}),[pageName,tabName,navTabs]);var _useState=(0,_react.useState)(mapLocationToTab()),_useState2=_slicedToArray(_useState,2),selectedTabId=_useState2[0],setSelectedTabId=_useState2[1];(0,_react.useEffect)((function(){var currentTabSelected=mapLocationToTab();if(currentTabSelected!==selectedTabId){setSelectedTabId(currentTabSelected)}}),[pageName,tabName,navTabs,mapLocationToTab,selectedTabId]);var renderTabs=(0,_react.useMemo)((function(){return Object.values(navTabs).map((function(tab){var isSelected=selectedTabId===tab.id;var hrefWithSearch=tab.href+(0,_helpers.getSearch)(tab,props);return _react.default.createElement(TabNavigationItem,{key:"navigation-".concat(tab.id),id:tab.id,href:tab.href,name:tab.name,disabled:tab.disabled,hrefWithSearch:hrefWithSearch,isSelected:isSelected})}))}),[navTabs,selectedTabId,props]);return _react.default.createElement(_eui.EuiTabs,{display:display},renderTabs)};exports.TabNavigationComponent=TabNavigationComponent;TabNavigationComponent.displayName="TabNavigationComponent";var TabNavigation=_react.default.memo(TabNavigationComponent);exports.TabNavigation=TabNavigation;TabNavigation.displayName="TabNavigation"},8753:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BUTTON_ADD_DATA=exports.SIEM=void 0;var _i18n=__webpack_require__(2);var SIEM=_i18n.i18n.translate("xpack.siem.headerGlobal.siem",{defaultMessage:"SIEM"});exports.SIEM=SIEM;var BUTTON_ADD_DATA=_i18n.i18n.translate("xpack.siem.headerGlobal.buttonAddData",{defaultMessage:"Add data"});exports.BUTTON_ADD_DATA=BUTTON_ADD_DATA},8754:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HelpMenu=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(8));var _i18n=__webpack_require__(2);var _documentation_links=__webpack_require__(83);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var HelpMenu=_react.default.memo((function(){(0,_react.useEffect)((function(){_chrome.default.helpExtension.set({appName:_i18n.i18n.translate("xpack.siem.chrome.help.appName",{defaultMessage:"SIEM"}),links:[{content:_i18n.i18n.translate("xpack.siem.chrome.helpMenu.documentation",{defaultMessage:"SIEM documentation"}),href:_documentation_links.documentationLinks.siem.guide,iconType:"documents",linkType:"custom",target:"_blank",rel:"noopener"},{content:_i18n.i18n.translate("xpack.siem.chrome.helpMenu.documentation.ecs",{defaultMessage:"ECS documentation"}),href:"https://www.elastic.co/guide/en/ecs/current/index.html",iconType:"documents",linkType:"custom",target:"_blank",rel:"noopener"},{linkType:"discuss",href:"https://discuss.elastic.co/c/siem",target:"_blank",rel:"noopener"}]})}),[]);return null}));exports.HelpMenu=HelpMenu;HelpMenu.displayName="HelpMenu"},8755:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MlHostConditionalContainer=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _query_string=__webpack_require__(332);var _add_entities_to_kql=__webpack_require__(7623);var _replace_kql_parts=__webpack_require__(7624);var _entity_helpers=__webpack_require__(7625);var _types=__webpack_require__(7030);var _model=__webpack_require__(504);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MlHostConditionalContainer=_react.default.memo((function(_ref){var url=_ref.url;return _react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{strict:true,exact:true,path:url,render:function render(_ref2){var location=_ref2.location;var queryStringDecoded=_query_string.QueryString.decode(location.search.substring(1));if(queryStringDecoded.query!=null){queryStringDecoded.query=(0,_replace_kql_parts.replaceKQLParts)(queryStringDecoded.query)}var reEncoded=_query_string.QueryString.encode(queryStringDecoded);return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_types.SiemPageName.hosts,"?").concat(reEncoded)})}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(url,"/:hostName"),render:function render(_ref3){var location=_ref3.location,hostName=_ref3.match.params.hostName;var queryStringDecoded=_query_string.QueryString.decode(location.search.substring(1));if(queryStringDecoded.query!=null){queryStringDecoded.query=(0,_replace_kql_parts.replaceKQLParts)(queryStringDecoded.query)}if((0,_entity_helpers.emptyEntity)(hostName)){var reEncoded=_query_string.QueryString.encode(queryStringDecoded);return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_types.SiemPageName.hosts,"/").concat(_model.HostsTableType.anomalies,"?").concat(reEncoded)})}else if((0,_entity_helpers.multipleEntities)(hostName)){var hosts=(0,_entity_helpers.getMultipleEntities)(hostName);queryStringDecoded.query=(0,_add_entities_to_kql.addEntitiesToKql)(["host.name"],hosts,queryStringDecoded.query||"");var _reEncoded=_query_string.QueryString.encode(queryStringDecoded);return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_types.SiemPageName.hosts,"/").concat(_model.HostsTableType.anomalies,"?").concat(_reEncoded)})}else{var _reEncoded2=_query_string.QueryString.encode(queryStringDecoded);return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_types.SiemPageName.hosts,"/").concat(hostName,"/").concat(_model.HostsTableType.anomalies,"?").concat(_reEncoded2)})}}}),_react.default.createElement(_reactRouterDom.Route,{path:"/ml-hosts/",render:function render(_ref4){var _ref4$location$search=_ref4.location.search,search=_ref4$location$search===void 0?"":_ref4$location$search;return _react.default.createElement(_reactRouterDom.Redirect,{from:"/ml-hosts/",to:"/ml-hosts".concat(search)})}}))}));exports.MlHostConditionalContainer=MlHostConditionalContainer;MlHostConditionalContainer.displayName="MlHostConditionalContainer"},8756:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceKqlCommasWithOr=exports.replaceKqlCommasWithOrUsingRegex=exports.replacement=void 0;var _risonNode=__webpack_require__(163);var _rison_helpers=__webpack_require__(7327);var replacement=function replacement(match,p1,p2){var split=p2.split(",");var newQuery=split.reduce((function(accum,item,index){if(index===0){return"".concat(p1,': "').concat(item,'"')}else{return"".concat(accum," or ").concat(p1,': "').concat(item,'"')}}),"");return"(".concat(newQuery,")")};exports.replacement=replacement;var replaceKqlCommasWithOrUsingRegex=function replaceKqlCommasWithOrUsingRegex(expression){var myRegexp=/([\w\.\-\[\]]+)\s*:\s*"(([\w\.\-\(\)\[\]]+,[\w\.\-\(\)\[\]]+){1,})"/g;return expression.replace(myRegexp,replacement)};exports.replaceKqlCommasWithOrUsingRegex=replaceKqlCommasWithOrUsingRegex;var replaceKqlCommasWithOr=function replaceKqlCommasWithOr(kqlQuery){var value=(0,_rison_helpers.decodeRison)(kqlQuery);if((0,_rison_helpers.isRisonObject)(value)){var appQuery=value;if((0,_rison_helpers.isRisonObject)(appQuery)){if((0,_rison_helpers.isRegularString)(appQuery.query)){appQuery.query=replaceKqlCommasWithOrUsingRegex(appQuery.query);return(0,_risonNode.encode)(value)}}}return kqlQuery};exports.replaceKqlCommasWithOr=replaceKqlCommasWithOr},8757:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.removeKqlVariables=exports.replacer=exports.removeKqlVariablesUsingRegex=exports.operators=void 0;var _risonNode=__webpack_require__(163);var _rison_helpers=__webpack_require__(7327);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var operators=["and","or","not"];exports.operators=operators;var removeKqlVariablesUsingRegex=function removeKqlVariablesUsingRegex(expression){var myRegexp=/(\s+)*(and|or|not){0,1}(\s+)*([\w\.\-\[\]]+)\s*:\s*"(\$[\w\.\-\(\)\[\]]+\$)"(\s+)*(and|or|not){0,1}(\s+)*/g;return expression.replace(myRegexp,replacer)};exports.removeKqlVariablesUsingRegex=removeKqlVariablesUsingRegex;var replacer=function replacer(match){for(var _len=arguments.length,parts=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){parts[_key-1]=arguments[_key]}if(parts==null){return""}var operatorsMatched=parts.reduce((function(accum,part){return part!=null&&operators.includes(part)?[].concat(_toConsumableArray(accum),[part]):accum}),[]);if(operatorsMatched.length>1){return" ".concat(operatorsMatched[operatorsMatched.length-1].trim()," ")}else{return""}};exports.replacer=replacer;var removeKqlVariables=function removeKqlVariables(kqlQuery){var value=(0,_rison_helpers.decodeRison)(kqlQuery);if((0,_rison_helpers.isRisonObject)(value)){var appQuery=value;if((0,_rison_helpers.isRisonObject)(appQuery)){if((0,_rison_helpers.isRegularString)(appQuery.query)){appQuery.query=removeKqlVariablesUsingRegex(appQuery.query);return(0,_risonNode.encode)(value)}}}return kqlQuery};exports.removeKqlVariables=removeKqlVariables},8758:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MlNetworkConditionalContainer=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _query_string=__webpack_require__(332);var _add_entities_to_kql=__webpack_require__(7623);var _replace_kql_parts=__webpack_require__(7624);var _entity_helpers=__webpack_require__(7625);var _types=__webpack_require__(7030);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MlNetworkConditionalContainer=_react.default.memo((function(_ref){var url=_ref.url;return _react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{strict:true,exact:true,path:url,render:function render(_ref2){var location=_ref2.location;var queryStringDecoded=_query_string.QueryString.decode(location.search.substring(1));if(queryStringDecoded.query!=null){queryStringDecoded.query=(0,_replace_kql_parts.replaceKQLParts)(queryStringDecoded.query)}var reEncoded=_query_string.QueryString.encode(queryStringDecoded);return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_types.SiemPageName.network,"?").concat(reEncoded)})}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(url,"/ip/:ip"),render:function render(_ref3){var location=_ref3.location,ip=_ref3.match.params.ip;var queryStringDecoded=_query_string.QueryString.decode(location.search.substring(1));if(queryStringDecoded.query!=null){queryStringDecoded.query=(0,_replace_kql_parts.replaceKQLParts)(queryStringDecoded.query)}if((0,_entity_helpers.emptyEntity)(ip)){var reEncoded=_query_string.QueryString.encode(queryStringDecoded);return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_types.SiemPageName.network,"?").concat(reEncoded)})}else if((0,_entity_helpers.multipleEntities)(ip)){var ips=(0,_entity_helpers.getMultipleEntities)(ip);queryStringDecoded.query=(0,_add_entities_to_kql.addEntitiesToKql)(["source.ip","destination.ip"],ips,queryStringDecoded.query||"");var _reEncoded=_query_string.QueryString.encode(queryStringDecoded);return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_types.SiemPageName.network,"?").concat(_reEncoded)})}else{var _reEncoded2=_query_string.QueryString.encode(queryStringDecoded);return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_types.SiemPageName.network,"/ip/").concat(ip,"?").concat(_reEncoded2)})}}}),_react.default.createElement(_reactRouterDom.Route,{path:"/ml-network/",render:function render(_ref4){var _ref4$location$search=_ref4.location.search,search=_ref4$location$search===void 0?"":_ref4$location$search;return _react.default.createElement(_reactRouterDom.Redirect,{from:"/ml-network/",to:"/ml-network".concat(search)})}}))}));exports.MlNetworkConditionalContainer=MlNetworkConditionalContainer;MlNetworkConditionalContainer.displayName="MlNetworkConditionalContainer"},8759:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatefulTimeline=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _source=__webpack_require__(7042);var _use_signal_index=__webpack_require__(7328);var _store=__webpack_require__(7016);var _actions=__webpack_require__(1882);var _defaults=__webpack_require__(7053);var _default_headers=__webpack_require__(7038);var _timeline=__webpack_require__(7628);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var StatefulTimelineComponent=_react.default.memo((function(_ref){var columns=_ref.columns,createTimeline=_ref.createTimeline,dataProviders=_ref.dataProviders,eventType=_ref.eventType,end=_ref.end,filters=_ref.filters,flyoutHeaderHeight=_ref.flyoutHeaderHeight,flyoutHeight=_ref.flyoutHeight,id=_ref.id,isLive=_ref.isLive,itemsPerPage=_ref.itemsPerPage,itemsPerPageOptions=_ref.itemsPerPageOptions,kqlMode=_ref.kqlMode,kqlQueryExpression=_ref.kqlQueryExpression,onDataProviderEdited=_ref.onDataProviderEdited,removeColumn=_ref.removeColumn,removeProvider=_ref.removeProvider,show=_ref.show,showCallOutUnauthorizedMsg=_ref.showCallOutUnauthorizedMsg,sort=_ref.sort,start=_ref.start,updateDataProviderEnabled=_ref.updateDataProviderEnabled,updateDataProviderExcluded=_ref.updateDataProviderExcluded,updateDataProviderKqlQuery=_ref.updateDataProviderKqlQuery,updateHighlightedDropAndProviderId=_ref.updateHighlightedDropAndProviderId,updateItemsPerPage=_ref.updateItemsPerPage,upsertColumn=_ref.upsertColumn;var _useSignalIndex=(0,_use_signal_index.useSignalIndex)(),loading=_useSignalIndex.loading,signalIndexExists=_useSignalIndex.signalIndexExists,signalIndexName=_useSignalIndex.signalIndexName;var indexToAdd=(0,_react.useMemo)((function(){if(signalIndexExists&&signalIndexName!=null&&["signal","all"].includes(eventType)){return[signalIndexName]}return[]}),[eventType,signalIndexExists,signalIndexName]);var onDataProviderRemoved=(0,_react.useCallback)((function(providerId,andProviderId){return removeProvider({id:id,providerId:providerId,andProviderId:andProviderId})}),[id]);var onToggleDataProviderEnabled=(0,_react.useCallback)((function(_ref2){var providerId=_ref2.providerId,enabled=_ref2.enabled,andProviderId=_ref2.andProviderId;return updateDataProviderEnabled({id:id,enabled:enabled,providerId:providerId,andProviderId:andProviderId})}),[id]);var onToggleDataProviderExcluded=(0,_react.useCallback)((function(_ref3){var providerId=_ref3.providerId,excluded=_ref3.excluded,andProviderId=_ref3.andProviderId;return updateDataProviderExcluded({id:id,excluded:excluded,providerId:providerId,andProviderId:andProviderId})}),[id]);var onDataProviderEditedLocal=(0,_react.useCallback)((function(_ref4){var andProviderId=_ref4.andProviderId,excluded=_ref4.excluded,field=_ref4.field,operator=_ref4.operator,providerId=_ref4.providerId,value=_ref4.value;return onDataProviderEdited({andProviderId:andProviderId,excluded:excluded,field:field,id:id,operator:operator,providerId:providerId,value:value})}),[id]);var onChangeDataProviderKqlQuery=(0,_react.useCallback)((function(_ref5){var providerId=_ref5.providerId,kqlQuery=_ref5.kqlQuery;return updateDataProviderKqlQuery({id:id,kqlQuery:kqlQuery,providerId:providerId})}),[id]);var onChangeItemsPerPage=(0,_react.useCallback)((function(itemsChangedPerPage){return updateItemsPerPage({id:id,itemsPerPage:itemsChangedPerPage})}),[id]);var onChangeDroppableAndProvider=(0,_react.useCallback)((function(providerId){return updateHighlightedDropAndProviderId({id:id,providerId:providerId})}),[id]);var toggleColumn=(0,_react.useCallback)((function(column){var exists=columns.findIndex((function(c){return c.id===column.id}))!==-1;if(!exists&&upsertColumn!=null){upsertColumn({column:column,id:id,index:1})}if(exists&&removeColumn!=null){removeColumn({columnId:column.id,id:id})}}),[columns,id]);(0,_react.useEffect)((function(){if(createTimeline!=null){createTimeline({id:id,columns:_default_headers.defaultHeaders,show:false})}}),[]);return _react.default.createElement(_source.WithSource,{sourceId:"default",indexToAdd:indexToAdd},(function(_ref6){var indexPattern=_ref6.indexPattern,browserFields=_ref6.browserFields;return _react.default.createElement(_timeline.Timeline,{browserFields:browserFields,columns:columns,dataProviders:dataProviders,end:end,eventType:eventType,filters:filters,flyoutHeaderHeight:flyoutHeaderHeight,flyoutHeight:flyoutHeight,id:id,indexPattern:indexPattern,indexToAdd:indexToAdd,isLive:isLive,itemsPerPage:itemsPerPage,itemsPerPageOptions:itemsPerPageOptions,kqlMode:kqlMode,kqlQueryExpression:kqlQueryExpression,loadingIndexName:loading,onChangeDataProviderKqlQuery:onChangeDataProviderKqlQuery,onChangeDroppableAndProvider:onChangeDroppableAndProvider,onChangeItemsPerPage:onChangeItemsPerPage,onDataProviderEdited:onDataProviderEditedLocal,onDataProviderRemoved:onDataProviderRemoved,onToggleDataProviderEnabled:onToggleDataProviderEnabled,onToggleDataProviderExcluded:onToggleDataProviderExcluded,show:show,showCallOutUnauthorizedMsg:showCallOutUnauthorizedMsg,sort:sort,start:start,toggleColumn:toggleColumn})}))}),(function(prevProps,nextProps){return prevProps.activePage===nextProps.activePage&&prevProps.eventType===nextProps.eventType&&prevProps.end===nextProps.end&&prevProps.flyoutHeaderHeight===nextProps.flyoutHeaderHeight&&prevProps.flyoutHeight===nextProps.flyoutHeight&&prevProps.id===nextProps.id&&prevProps.isLive===nextProps.isLive&&prevProps.itemsPerPage===nextProps.itemsPerPage&&prevProps.kqlMode===nextProps.kqlMode&&prevProps.kqlQueryExpression===nextProps.kqlQueryExpression&&prevProps.pageCount===nextProps.pageCount&&prevProps.show===nextProps.show&&prevProps.showCallOutUnauthorizedMsg===nextProps.showCallOutUnauthorizedMsg&&prevProps.start===nextProps.start&&(0,_fp.isEqual)(prevProps.columns,nextProps.columns)&&(0,_fp.isEqual)(prevProps.dataProviders,nextProps.dataProviders)&&(0,_fp.isEqual)(prevProps.filters,nextProps.filters)&&(0,_fp.isEqual)(prevProps.itemsPerPageOptions,nextProps.itemsPerPageOptions)&&(0,_fp.isEqual)(prevProps.sort,nextProps.sort)}));StatefulTimelineComponent.displayName="StatefulTimelineComponent";var makeMapStateToProps=function makeMapStateToProps(){var getShowCallOutUnauthorizedMsg=_store.timelineSelectors.getShowCallOutUnauthorizedMsg();var getTimeline=_store.timelineSelectors.getTimelineByIdSelector();var getKqlQueryTimeline=_store.timelineSelectors.getKqlFilterQuerySelector();var getInputsTimeline=_store.inputsSelectors.getTimelineSelector();var mapStateToProps=function mapStateToProps(state,_ref7){var _getTimeline;var id=_ref7.id;var timeline=(_getTimeline=getTimeline(state,id))!==null&&_getTimeline!==void 0?_getTimeline:_defaults.timelineDefaults;var input=getInputsTimeline(state);var columns=timeline.columns,dataProviders=timeline.dataProviders,eventType=timeline.eventType,filters=timeline.filters,itemsPerPage=timeline.itemsPerPage,itemsPerPageOptions=timeline.itemsPerPageOptions,kqlMode=timeline.kqlMode,show=timeline.show,sort=timeline.sort;var kqlQueryExpression=getKqlQueryTimeline(state,id);var timelineFilter=kqlMode==="filter"?filters||[]:[];return{columns:columns,dataProviders:dataProviders,eventType:eventType,end:input.timerange.to,filters:timelineFilter,id:id,isLive:input.policy.kind==="interval",itemsPerPage:itemsPerPage,itemsPerPageOptions:itemsPerPageOptions,kqlMode:kqlMode,kqlQueryExpression:kqlQueryExpression,show:show,showCallOutUnauthorizedMsg:getShowCallOutUnauthorizedMsg(state),sort:sort,start:input.timerange.from}};return mapStateToProps};var StatefulTimeline=(0,_reactRedux.connect)(makeMapStateToProps,{addProvider:_actions.timelineActions.addProvider,createTimeline:_actions.timelineActions.createTimeline,onDataProviderEdited:_actions.timelineActions.dataProviderEdited,removeColumn:_actions.timelineActions.removeColumn,removeProvider:_actions.timelineActions.removeProvider,updateColumns:_actions.timelineActions.updateColumns,updateDataProviderEnabled:_actions.timelineActions.updateDataProviderEnabled,updateDataProviderExcluded:_actions.timelineActions.updateDataProviderExcluded,updateDataProviderKqlQuery:_actions.timelineActions.updateDataProviderKqlQuery,updateHighlightedDropAndProviderId:_actions.timelineActions.updateHighlightedDropAndProviderId,updateItemsPerPage:_actions.timelineActions.updateItemsPerPage,updateItemsPerPageOptions:_actions.timelineActions.updateItemsPerPageOptions,updateSort:_actions.timelineActions.updateSort,upsertColumn:_actions.timelineActions.upsertColumn})(StatefulTimelineComponent);exports.StatefulTimeline=StatefulTimeline},8760:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_index_error=__webpack_require__(8761);Object.keys(_get_index_error).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_index_error[key]}})}));var _post_index_error=__webpack_require__(8762);Object.keys(_post_index_error).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _post_index_error[key]}})}));var _privilege_user_error=__webpack_require__(8763);Object.keys(_privilege_user_error).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _privilege_user_error[key]}})}))},8761:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SignalIndexError=void 0;function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map:undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class)};return _wrapNativeSuper(Class)}function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SignalIndexError=function(_Error){_inherits(SignalIndexError,_Error);function SignalIndexError(errObj){var _errObj$message,_errObj$status_code,_errObj$error;var _this;_classCallCheck(this,SignalIndexError);_this=_possibleConstructorReturn(this,_getPrototypeOf(SignalIndexError).call(this,errObj.message));_defineProperty(_assertThisInitialized(_this),"message","");_defineProperty(_assertThisInitialized(_this),"status_code",-1);_defineProperty(_assertThisInitialized(_this),"error","");_this.message=(_errObj$message=errObj.message)!==null&&_errObj$message!==void 0?_errObj$message:"";_this.status_code=(_errObj$status_code=errObj.status_code)!==null&&_errObj$status_code!==void 0?_errObj$status_code:-1;_this.error=(_errObj$error=errObj.error)!==null&&_errObj$error!==void 0?_errObj$error:"";_this.name="SignalIndexError";Object.setPrototypeOf(_assertThisInitialized(_this),SignalIndexError.prototype);return _this}return SignalIndexError}(_wrapNativeSuper(Error));exports.SignalIndexError=SignalIndexError},8762:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.PostSignalError=void 0;function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map:undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class)};return _wrapNativeSuper(Class)}function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var PostSignalError=function(_Error){_inherits(PostSignalError,_Error);function PostSignalError(errObj){var _errObj$message,_errObj$statusCode,_errObj$error;var _this;_classCallCheck(this,PostSignalError);_this=_possibleConstructorReturn(this,_getPrototypeOf(PostSignalError).call(this,errObj.message));_defineProperty(_assertThisInitialized(_this),"message","");_defineProperty(_assertThisInitialized(_this),"statusCode",-1);_defineProperty(_assertThisInitialized(_this),"error","");_this.message=(_errObj$message=errObj.message)!==null&&_errObj$message!==void 0?_errObj$message:"";_this.statusCode=(_errObj$statusCode=errObj.statusCode)!==null&&_errObj$statusCode!==void 0?_errObj$statusCode:-1;_this.error=(_errObj$error=errObj.error)!==null&&_errObj$error!==void 0?_errObj$error:"";_this.name="PostSignalError";Object.setPrototypeOf(_assertThisInitialized(_this),PostSignalError.prototype);return _this}return PostSignalError}(_wrapNativeSuper(Error));exports.PostSignalError=PostSignalError},8763:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.PrivilegeUserError=void 0;function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map:undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class)};return _wrapNativeSuper(Class)}function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var PrivilegeUserError=function(_Error){_inherits(PrivilegeUserError,_Error);function PrivilegeUserError(errObj){var _errObj$message,_errObj$statusCode,_errObj$error;var _this;_classCallCheck(this,PrivilegeUserError);_this=_possibleConstructorReturn(this,_getPrototypeOf(PrivilegeUserError).call(this,errObj.message));_defineProperty(_assertThisInitialized(_this),"message","");_defineProperty(_assertThisInitialized(_this),"statusCode",-1);_defineProperty(_assertThisInitialized(_this),"error","");_this.message=(_errObj$message=errObj.message)!==null&&_errObj$message!==void 0?_errObj$message:"";_this.statusCode=(_errObj$statusCode=errObj.statusCode)!==null&&_errObj$statusCode!==void 0?_errObj$statusCode:-1;_this.error=(_errObj$error=errObj.error)!==null&&_errObj$error!==void 0?_errObj$error:"";_this.name="PrivilegeUserError";Object.setPrototypeOf(_assertThisInitialized(_this),PrivilegeUserError.prototype);return _this}return PrivilegeUserError}(_wrapNativeSuper(Error));exports.PrivilegeUserError=PrivilegeUserError},8764:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.timelineQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetTimelineQuery(\n    $sourceId: ID!\n    $fieldRequested: [String!]!\n    $pagination: PaginationInput!\n    $sortField: SortField!\n    $filterQuery: String\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      Timeline(\n        fieldRequested: $fieldRequested\n        pagination: $pagination\n        sortField: $sortField\n        filterQuery: $filterQuery\n        defaultIndex: $defaultIndex\n      ) {\n        totalCount\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n        pageInfo {\n          endCursor {\n            value\n            tiebreaker\n          }\n          hasNextPage\n        }\n        edges {\n          node {\n            _id\n            _index\n            data {\n              field\n              value\n            }\n            ecs {\n              _id\n              _index\n              timestamp\n              message\n              system {\n                auth {\n                  ssh {\n                    signature\n                    method\n                  }\n                }\n                audit {\n                  package {\n                    arch\n                    entity_id\n                    name\n                    size\n                    summary\n                    version\n                  }\n                }\n              }\n              event {\n                action\n                category\n                code\n                created\n                dataset\n                duration\n                end\n                hash\n                id\n                kind\n                module\n                original\n                outcome\n                risk_score\n                risk_score_norm\n                severity\n                start\n                timezone\n                type\n              }\n              auditd {\n                result\n                session\n                data {\n                  acct\n                  terminal\n                  op\n                }\n                summary {\n                  actor {\n                    primary\n                    secondary\n                  }\n                  object {\n                    primary\n                    secondary\n                    type\n                  }\n                  how\n                  message_type\n                  sequence\n                }\n              }\n              file {\n                name\n                path\n                target_path\n                extension\n                type\n                device\n                inode\n                uid\n                owner\n                gid\n                group\n                mode\n                size\n                mtime\n                ctime\n              }\n              host {\n                id\n                name\n                ip\n              }\n              rule {\n                reference\n              }\n              source {\n                bytes\n                ip\n                packets\n                port\n                geo {\n                  continent_name\n                  country_name\n                  country_iso_code\n                  city_name\n                  region_iso_code\n                  region_name\n                }\n              }\n              destination {\n                bytes\n                ip\n                packets\n                port\n                geo {\n                  continent_name\n                  country_name\n                  country_iso_code\n                  city_name\n                  region_iso_code\n                  region_name\n                }\n              }\n              dns {\n                question {\n                  name\n                  type\n                }\n                resolved_ip\n                response_code\n              }\n              endgame {\n                exit_code\n                file_name\n                file_path\n                logon_type\n                parent_process_name\n                pid\n                process_name\n                subject_domain_name\n                subject_logon_id\n                subject_user_name\n                target_domain_name\n                target_logon_id\n                target_user_name\n              }\n              geo {\n                region_name\n                country_iso_code\n              }\n              signal {\n                original_time\n                rule {\n                  id\n                  saved_id\n                  timeline_id\n                  timeline_title\n                  output_index\n                  from\n                  index\n                  language\n                  query\n                  to\n                  filters\n                }\n              }\n              suricata {\n                eve {\n                  proto\n                  flow_id\n                  alert {\n                    signature\n                    signature_id\n                  }\n                }\n              }\n              network {\n                bytes\n                community_id\n                direction\n                packets\n                protocol\n                transport\n              }\n              http {\n                version\n                request {\n                  method\n                  body {\n                    bytes\n                    content\n                  }\n                  referrer\n                }\n                response {\n                  status_code\n                  body {\n                    bytes\n                    content\n                  }\n                }\n              }\n              tls {\n                client_certificate {\n                  fingerprint {\n                    sha1\n                  }\n                }\n                fingerprints {\n                  ja3 {\n                    hash\n                  }\n                }\n                server_certificate {\n                  fingerprint {\n                    sha1\n                  }\n                }\n              }\n              url {\n                original\n                domain\n                username\n                password\n              }\n              user {\n                domain\n                name\n              }\n              winlog {\n                event_id\n              }\n              process {\n                hash {\n                  md5\n                  sha1\n                  sha256\n                }\n                pid\n                name\n                ppid\n                args\n                executable\n                title\n                working_directory\n              }\n              zeek {\n                session_id\n                connection {\n                  local_resp\n                  local_orig\n                  missed_bytes\n                  state\n                  history\n                }\n                notice {\n                  suppress_for\n                  msg\n                  note\n                  sub\n                  dst\n                  dropped\n                  peer_descr\n                }\n                dns {\n                  AA\n                  qclass_name\n                  RD\n                  qtype_name\n                  rejected\n                  qtype\n                  query\n                  trans_id\n                  qclass\n                  RA\n                  TC\n                }\n                http {\n                  resp_mime_types\n                  trans_depth\n                  status_msg\n                  resp_fuids\n                  tags\n                }\n                files {\n                  session_ids\n                  timedout\n                  local_orig\n                  tx_host\n                  source\n                  is_orig\n                  overflow_bytes\n                  sha1\n                  duration\n                  depth\n                  analyzers\n                  mime_type\n                  rx_host\n                  total_bytes\n                  fuid\n                  seen_bytes\n                  missing_bytes\n                  md5\n                }\n                ssl {\n                  cipher\n                  established\n                  resumed\n                  version\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var timelineQuery=(0,_graphqlTag.default)(_templateObject());exports.timelineQuery=timelineQuery},8765:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventsViewer=void 0;var _eui=__webpack_require__(1);var _fastDeepEqual=_interopRequireDefault(__webpack_require__(1005));var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _timeline=__webpack_require__(7629);var _kibana=__webpack_require__(7013);var _auto_sizer=__webpack_require__(7144);var _header_section=__webpack_require__(7050);var _default_headers=__webpack_require__(7038);var _stateful_body=__webpack_require__(7631);var _footer=__webpack_require__(7657);var _helpers=__webpack_require__(7108);var _refetch_timeline=__webpack_require__(7659);var _timeline2=__webpack_require__(7628);var _timeline_context=__webpack_require__(7033);var i18n=_interopRequireWildcard(__webpack_require__(7346));var _public=__webpack_require__(11);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DEFAULT_EVENTS_VIEWER_HEIGHT=500;var WrappedByAutoSizer=_styledComponents.default.div.withConfig({displayName:"WrappedByAutoSizer",componentId:"sc-12k1fgv-0"})(["width:100%;"]);WrappedByAutoSizer.displayName="WrappedByAutoSizer";var StyledEuiPanel=(0,_styledComponents.default)(_eui.EuiPanel).withConfig({displayName:"StyledEuiPanel",componentId:"sc-12k1fgv-1"})(["max-width:100%;"]);var EventsViewerComponent=function EventsViewerComponent(_ref){var browserFields=_ref.browserFields,columns=_ref.columns,dataProviders=_ref.dataProviders,deletedEventIds=_ref.deletedEventIds,end=_ref.end,filters=_ref.filters,headerFilterGroup=_ref.headerFilterGroup,_ref$height=_ref.height,height=_ref$height===void 0?DEFAULT_EVENTS_VIEWER_HEIGHT:_ref$height,id=_ref.id,indexPattern=_ref.indexPattern,isLive=_ref.isLive,itemsPerPage=_ref.itemsPerPage,itemsPerPageOptions=_ref.itemsPerPageOptions,kqlMode=_ref.kqlMode,onChangeItemsPerPage=_ref.onChangeItemsPerPage,query=_ref.query,start=_ref.start,sort=_ref.sort,timelineTypeContext=_ref.timelineTypeContext,toggleColumn=_ref.toggleColumn,utilityBar=_ref.utilityBar;var columnsHeader=(0,_fp.isEmpty)(columns)?_default_headers.defaultHeaders:columns;var kibana=(0,_kibana.useKibana)();var combinedQueries=(0,_helpers.combineQueries)({config:_public.esQuery.getEsQueryConfig(kibana.services.uiSettings),dataProviders:dataProviders,indexPattern:indexPattern,browserFields:browserFields,filters:filters,kqlQuery:query,kqlMode:kqlMode,start:start,end:end,isEventViewer:true});var queryFields=(0,_react.useMemo)((function(){var _timelineTypeContext$;return(0,_fp.union)(columnsHeader.map((function(c){return c.id})),(_timelineTypeContext$=timelineTypeContext.queryFields)!==null&&_timelineTypeContext$!==void 0?_timelineTypeContext$:[])}),[columnsHeader,timelineTypeContext.queryFields]);return _react.default.createElement(StyledEuiPanel,{"data-test-subj":"events-viewer-panel"},_react.default.createElement(_auto_sizer.AutoSizer,{detectAnyWindowResize:true,content:true},(function(_ref2){var measureRef=_ref2.measureRef,_ref2$content$width=_ref2.content.width,width=_ref2$content$width===void 0?0:_ref2$content$width;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(WrappedByAutoSizer,{ref:measureRef},_react.default.createElement("div",{"data-test-subj":"events-viewer-measured",style:{height:"0px",width:"100%"}})),combinedQueries!=null?_react.default.createElement(_timeline.TimelineQuery,{fields:queryFields,filterQuery:combinedQueries.filterQuery,id:id,indexPattern:indexPattern,limit:itemsPerPage,sortField:{sortFieldId:sort.columnId,direction:sort.sortDirection},sourceId:"default"},(function(_ref3){var _ref4,_timelineTypeContext$2,_ref5;var events=_ref3.events,getUpdatedAt=_ref3.getUpdatedAt,inspect=_ref3.inspect,loading=_ref3.loading,loadMore=_ref3.loadMore,pageInfo=_ref3.pageInfo,refetch=_ref3.refetch,_ref3$totalCount=_ref3.totalCount,totalCount=_ref3$totalCount===void 0?0:_ref3$totalCount;var totalCountMinusDeleted=totalCount>0?totalCount-deletedEventIds.length:0;var subtitle="".concat(i18n.SHOWING,": ").concat(totalCountMinusDeleted.toLocaleString()," ").concat((_ref4=(_timelineTypeContext$2=timelineTypeContext.unit)===null||_timelineTypeContext$2===void 0?void 0:_timelineTypeContext$2.call(timelineTypeContext,totalCountMinusDeleted))!==null&&_ref4!==void 0?_ref4:i18n.UNIT(totalCountMinusDeleted));return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_header_section.HeaderSection,{id:id,subtitle:utilityBar?undefined:subtitle,title:(_ref5=timelineTypeContext===null||timelineTypeContext===void 0?void 0:timelineTypeContext.title)!==null&&_ref5!==void 0?_ref5:i18n.EVENTS},headerFilterGroup),utilityBar===null||utilityBar===void 0?void 0:utilityBar(refetch,totalCountMinusDeleted),_react.default.createElement("div",{"data-test-subj":"events-container-loading-".concat(loading),style:{width:"".concat(width,"px")}},_react.default.createElement(_timeline_context.ManageTimelineContext,{loading:loading,width:width,type:timelineTypeContext},_react.default.createElement(_refetch_timeline.TimelineRefetch,{id:id,inputId:"global",inspect:inspect,loading:loading,refetch:refetch}),_react.default.createElement(_stateful_body.StatefulBody,{browserFields:browserFields,data:events.filter((function(e){return!deletedEventIds.includes(e._id)})),id:id,isEventViewer:true,height:height,sort:sort,toggleColumn:toggleColumn}),_react.default.createElement(_footer.Footer,{compact:(0,_timeline2.isCompactFooter)(width),getUpdatedAt:getUpdatedAt,hasNextPage:(0,_fp.getOr)(false,"hasNextPage",pageInfo),height:_footer.footerHeight,isEventViewer:true,isLive:isLive,isLoading:loading,itemsCount:events.length,itemsPerPage:itemsPerPage,itemsPerPageOptions:itemsPerPageOptions,onChangeItemsPerPage:onChangeItemsPerPage,onLoadMore:loadMore,nextCursor:(0,_fp.getOr)(null,"endCursor.value",pageInfo),serverSideEventCount:totalCountMinusDeleted,tieBreaker:(0,_fp.getOr)(null,"endCursor.tiebreaker",pageInfo)}))))})):null)})))};var EventsViewer=_react.default.memo(EventsViewerComponent,(function(prevProps,nextProps){return(0,_fp.isEqual)(prevProps.browserFields,nextProps.browserFields)&&prevProps.columns===nextProps.columns&&prevProps.dataProviders===nextProps.dataProviders&&prevProps.deletedEventIds===nextProps.deletedEventIds&&prevProps.end===nextProps.end&&(0,_fastDeepEqual.default)(prevProps.filters,nextProps.filters)&&prevProps.height===nextProps.height&&prevProps.id===nextProps.id&&(0,_fastDeepEqual.default)(prevProps.indexPattern,nextProps.indexPattern)&&prevProps.isLive===nextProps.isLive&&prevProps.itemsPerPage===nextProps.itemsPerPage&&prevProps.itemsPerPageOptions===nextProps.itemsPerPageOptions&&prevProps.kqlMode===nextProps.kqlMode&&(0,_fp.isEqual)(prevProps.query,nextProps.query)&&prevProps.start===nextProps.start&&prevProps.sort===nextProps.sort&&(0,_fp.isEqual)(prevProps.timelineTypeContext,nextProps.timelineTypeContext)&&prevProps.utilityBar===nextProps.utilityBar}));exports.EventsViewer=EventsViewer},8766:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Body=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _styles=__webpack_require__(7058);var _column_headers=__webpack_require__(8767);var _helpers=__webpack_require__(7277);var _events=__webpack_require__(8789);var _timeline_context=__webpack_require__(7033);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var Body=_react.default.memo((function(_ref){var _ref2,_timelineTypeContext$;var addNoteToEvent=_ref.addNoteToEvent,browserFields=_ref.browserFields,columnHeaders=_ref.columnHeaders,columnRenderers=_ref.columnRenderers,data=_ref.data,eventIdToNoteIds=_ref.eventIdToNoteIds,getNotesByIds=_ref.getNotesByIds,height=_ref.height,id=_ref.id,_ref$isEventViewer=_ref.isEventViewer,isEventViewer=_ref$isEventViewer===void 0?false:_ref$isEventViewer,isSelectAllChecked=_ref.isSelectAllChecked,loadingEventIds=_ref.loadingEventIds,onColumnRemoved=_ref.onColumnRemoved,onColumnResized=_ref.onColumnResized,onColumnSorted=_ref.onColumnSorted,onRowSelected=_ref.onRowSelected,onSelectAll=_ref.onSelectAll,onFilterChange=_ref.onFilterChange,onPinEvent=_ref.onPinEvent,onUpdateColumns=_ref.onUpdateColumns,onUnPinEvent=_ref.onUnPinEvent,pinnedEventIds=_ref.pinnedEventIds,rowRenderers=_ref.rowRenderers,selectedEventIds=_ref.selectedEventIds,showCheckboxes=_ref.showCheckboxes,sort=_ref.sort,toggleColumn=_ref.toggleColumn,updateNote=_ref.updateNote;var containerElementRef=(0,_react.useRef)(null);var timelineTypeContext=(0,_timeline_context.useTimelineTypeContext)();var additionalActionWidth=(_ref2=(_timelineTypeContext$=timelineTypeContext.timelineActions)===null||_timelineTypeContext$===void 0?void 0:_timelineTypeContext$.reduce((function(acc,v){return acc+v.width}),0))!==null&&_ref2!==void 0?_ref2:0;var actionsColumnWidth=(0,_react.useMemo)((function(){return(0,_helpers.getActionsColumnWidth)(isEventViewer,showCheckboxes,additionalActionWidth)}),[isEventViewer,showCheckboxes,additionalActionWidth]);var columnWidths=(0,_react.useMemo)((function(){return columnHeaders.reduce((function(totalWidth,header){return totalWidth+header.width}),actionsColumnWidth)}),[actionsColumnWidth,columnHeaders]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_styles.TimelineBody,{"data-test-subj":"timeline-body",bodyHeight:height,ref:containerElementRef},_react.default.createElement(_styles.EventsTable,{"data-test-subj":"events-table",style:{minWidth:"".concat(columnWidths,"px")}},_react.default.createElement(_column_headers.ColumnHeaders,{actionsColumnWidth:actionsColumnWidth,browserFields:browserFields,columnHeaders:columnHeaders,isEventViewer:isEventViewer,isSelectAllChecked:isSelectAllChecked,onColumnRemoved:onColumnRemoved,onColumnResized:onColumnResized,onColumnSorted:onColumnSorted,onFilterChange:onFilterChange,onSelectAll:onSelectAll,onUpdateColumns:onUpdateColumns,showEventsSelect:false,showSelectAllCheckbox:showCheckboxes,sort:sort,timelineId:id,toggleColumn:toggleColumn}),_react.default.createElement(_events.Events,{containerElementRef:containerElementRef.current,actionsColumnWidth:actionsColumnWidth,addNoteToEvent:addNoteToEvent,browserFields:browserFields,columnHeaders:columnHeaders,columnRenderers:columnRenderers,data:data,eventIdToNoteIds:eventIdToNoteIds,getNotesByIds:getNotesByIds,id:id,isEventViewer:isEventViewer,loadingEventIds:loadingEventIds,onColumnResized:onColumnResized,onPinEvent:onPinEvent,onRowSelected:onRowSelected,onUpdateColumns:onUpdateColumns,onUnPinEvent:onUnPinEvent,pinnedEventIds:pinnedEventIds,rowRenderers:rowRenderers,selectedEventIds:selectedEventIds,showCheckboxes:showCheckboxes,toggleColumn:toggleColumn,updateNote:updateNote}))),_react.default.createElement(_styles.TimelineBodyGlobalStyle,null))}));exports.Body=Body;Body.displayName="Body"},8767:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColumnHeaders=exports.ColumnHeadersComponent=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactBeautifulDnd=__webpack_require__(7089);var _helpers=__webpack_require__(7021);var _fields_browser=__webpack_require__(8768);var _helpers2=__webpack_require__(7072);var _styles=__webpack_require__(7058);var _events_select=__webpack_require__(8777);var _column_header=__webpack_require__(8780);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var ColumnHeadersComponent=function ColumnHeadersComponent(_ref){var actionsColumnWidth=_ref.actionsColumnWidth,browserFields=_ref.browserFields,columnHeaders=_ref.columnHeaders,_ref$isEventViewer=_ref.isEventViewer,isEventViewer=_ref$isEventViewer===void 0?false:_ref$isEventViewer,isSelectAllChecked=_ref.isSelectAllChecked,onColumnRemoved=_ref.onColumnRemoved,onColumnResized=_ref.onColumnResized,onColumnSorted=_ref.onColumnSorted,onSelectAll=_ref.onSelectAll,onUpdateColumns=_ref.onUpdateColumns,_ref$onFilterChange=_ref.onFilterChange,onFilterChange=_ref$onFilterChange===void 0?_fp.noop:_ref$onFilterChange,showEventsSelect=_ref.showEventsSelect,showSelectAllCheckbox=_ref.showSelectAllCheckbox,sort=_ref.sort,timelineId=_ref.timelineId,toggleColumn=_ref.toggleColumn;return _react.default.createElement(_styles.EventsThead,{"data-test-subj":"column-headers"},_react.default.createElement(_styles.EventsTrHeader,null,_react.default.createElement(_styles.EventsThGroupActions,{actionsColumnWidth:actionsColumnWidth,justifyContent:showSelectAllCheckbox?"flexStart":"space-between","data-test-subj":"actions-container"},showEventsSelect&&_react.default.createElement(_styles.EventsTh,null,_react.default.createElement(_styles.EventsThContent,{textAlign:"center"},_react.default.createElement(_events_select.EventsSelect,{checkState:"unchecked",timelineId:timelineId}))),showSelectAllCheckbox&&_react.default.createElement(_styles.EventsTh,null,_react.default.createElement(_styles.EventsThContent,{textAlign:"center"},_react.default.createElement(_eui.EuiCheckbox,{"data-test-subj":"select-all-events",id:"select-all-events",checked:isSelectAllChecked,onChange:function onChange(event){onSelectAll({isSelected:event.currentTarget.checked})}}))),_react.default.createElement(_styles.EventsTh,null,_react.default.createElement(_styles.EventsThContent,{textAlign:showSelectAllCheckbox?"left":"center"},_react.default.createElement(_fields_browser.StatefulFieldsBrowser,{browserFields:browserFields,columnHeaders:columnHeaders,"data-test-subj":"field-browser",height:_helpers2.FIELD_BROWSER_HEIGHT,isEventViewer:isEventViewer,onUpdateColumns:onUpdateColumns,timelineId:timelineId,toggleColumn:toggleColumn,width:_helpers2.FIELD_BROWSER_WIDTH})))),_react.default.createElement(_reactBeautifulDnd.Droppable,{direction:"horizontal",droppableId:"".concat(_helpers.droppableTimelineColumnsPrefix).concat(timelineId),isDropDisabled:false,type:_helpers.DRAG_TYPE_FIELD},(function(dropProvided,snapshot){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_styles.EventsThGroupData,_extends({"data-test-subj":"headers-group",ref:dropProvided.innerRef,isDragging:snapshot.isDraggingOver},dropProvided.droppableProps),columnHeaders.map((function(header,draggableIndex){return _react.default.createElement(_column_header.ColumnHeader,{key:header.id,draggableIndex:draggableIndex,timelineId:timelineId,header:header,onColumnRemoved:onColumnRemoved,onColumnSorted:onColumnSorted,onFilterChange:onFilterChange,onColumnResized:onColumnResized,sort:sort})}))),dropProvided.placeholder)}))))};exports.ColumnHeadersComponent=ColumnHeadersComponent;var ColumnHeaders=_react.default.memo(ColumnHeadersComponent);exports.ColumnHeaders=ColumnHeaders},8768:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatefulFieldsBrowser=exports.StatefulFieldsBrowserComponent=exports.INPUT_TIMEOUT=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _actions=__webpack_require__(1882);var _default_headers=__webpack_require__(7038);var _field_browser=__webpack_require__(8769);var _helpers=__webpack_require__(7072);var i18n=_interopRequireWildcard(__webpack_require__(7112));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var fieldsButtonClassName="fields-button";var INPUT_TIMEOUT=250;exports.INPUT_TIMEOUT=INPUT_TIMEOUT;var FieldsBrowserButtonContainer=_styledComponents.default.div.withConfig({displayName:"FieldsBrowserButtonContainer",componentId:"sc-1mz0lp1-0"})(["position:relative;"]);FieldsBrowserButtonContainer.displayName="FieldsBrowserButtonContainer";var StatefulFieldsBrowserComponent=_react.default.memo((function(_ref){var columnHeaders=_ref.columnHeaders,browserFields=_ref.browserFields,height=_ref.height,_ref$isEventViewer=_ref.isEventViewer,isEventViewer=_ref$isEventViewer===void 0?false:_ref$isEventViewer,onFieldSelected=_ref.onFieldSelected,onUpdateColumns=_ref.onUpdateColumns,timelineId=_ref.timelineId,toggleColumn=_ref.toggleColumn,width=_ref.width;var inputTimeoutId=(0,_react.useRef)(0);var _useState=(0,_react.useState)(""),_useState2=_slicedToArray(_useState,2),filterInput=_useState2[0],setFilterInput=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),filteredBrowserFields=_useState4[0],setFilteredBrowserFields=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),isSearching=_useState6[0],setIsSearching=_useState6[1];var _useState7=(0,_react.useState)(_default_headers.DEFAULT_CATEGORY_NAME),_useState8=_slicedToArray(_useState7,2),selectedCategoryId=_useState8[0],setSelectedCategoryId=_useState8[1];var _useState9=(0,_react.useState)(false),_useState10=_slicedToArray(_useState9,2),show=_useState10[0],setShow=_useState10[1];(0,_react.useEffect)((function(){return function(){if(inputTimeoutId.current!==0){clearTimeout(inputTimeoutId.current);inputTimeoutId.current=0}}}),[]);var toggleShow=(0,_react.useCallback)((function(){setShow(!show)}),[show]);var updateFilter=(0,_react.useCallback)((function(newFilterInput){setFilterInput(newFilterInput);setIsSearching(true);if(inputTimeoutId.current!==0){clearTimeout(inputTimeoutId.current)}inputTimeoutId.current=window.setTimeout((function(){var newFilteredBrowserFields=(0,_helpers.filterBrowserFieldsByFieldName)({browserFields:(0,_helpers.mergeBrowserFieldsWithDefaultCategory)(browserFields),substring:newFilterInput});setFilteredBrowserFields(newFilteredBrowserFields);setIsSearching(false);var newSelectedCategoryId=newFilterInput===""||Object.keys(newFilteredBrowserFields).length===0?_default_headers.DEFAULT_CATEGORY_NAME:Object.keys(newFilteredBrowserFields).sort().reduce((function(selected,category){return newFilteredBrowserFields[category].fields!=null&&newFilteredBrowserFields[selected].fields!=null&&Object.keys(newFilteredBrowserFields[category].fields).length>Object.keys(newFilteredBrowserFields[selected].fields).length?category:selected}),Object.keys(newFilteredBrowserFields)[0]);setSelectedCategoryId(newSelectedCategoryId)}),INPUT_TIMEOUT)}),[browserFields,filterInput,inputTimeoutId.current]);var updateSelectedCategoryId=(0,_react.useCallback)((function(categoryId){setSelectedCategoryId(categoryId)}),[]);var updateColumnsAndSelectCategoryId=(0,_react.useCallback)((function(columns){onUpdateColumns(columns)}),[]);var hideFieldBrowser=(0,_react.useCallback)((function(){setFilterInput("");setFilterInput("");setFilteredBrowserFields(null);setIsSearching(false);setSelectedCategoryId(_default_headers.DEFAULT_CATEGORY_NAME);setShow(false)}),[]);var browserFieldsWithDefaultCategory=(0,_react.useMemo)((function(){return show?(0,_helpers.mergeBrowserFieldsWithDefaultCategory)(browserFields):{}}),[show,browserFields]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(FieldsBrowserButtonContainer,{"data-test-subj":"fields-browser-button-container"},_react.default.createElement(_eui.EuiToolTip,{content:i18n.CUSTOMIZE_COLUMNS},isEventViewer?_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.CUSTOMIZE_COLUMNS,className:fieldsButtonClassName,"data-test-subj":"show-field-browser-gear",iconType:"list",onClick:toggleShow}):_react.default.createElement(_eui.EuiButtonEmpty,{className:fieldsButtonClassName,"data-test-subj":"show-field-browser",iconType:"list",onClick:toggleShow,size:"xs"},i18n.FIELDS)),show&&_react.default.createElement(_field_browser.FieldsBrowser,{browserFields:browserFieldsWithDefaultCategory,columnHeaders:columnHeaders,filteredBrowserFields:filteredBrowserFields!=null?filteredBrowserFields:browserFieldsWithDefaultCategory,height:height,isEventViewer:isEventViewer,isSearching:isSearching,onCategorySelected:updateSelectedCategoryId,onFieldSelected:onFieldSelected,onHideFieldBrowser:hideFieldBrowser,onOutsideClick:show?hideFieldBrowser:_fp.noop,onSearchInputChange:updateFilter,onUpdateColumns:updateColumnsAndSelectCategoryId,searchInput:filterInput,selectedCategoryId:selectedCategoryId,timelineId:timelineId,toggleColumn:toggleColumn,width:width})))}));exports.StatefulFieldsBrowserComponent=StatefulFieldsBrowserComponent;var StatefulFieldsBrowser=(0,_reactRedux.connect)(null,{removeColumn:_actions.timelineActions.removeColumn,upsertColumn:_actions.timelineActions.upsertColumn})(_react.default.memo(StatefulFieldsBrowserComponent));exports.StatefulFieldsBrowser=StatefulFieldsBrowser},8769:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldsBrowser=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _fp=__webpack_require__(223);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _categories_pane=__webpack_require__(8770);var _fields_pane=__webpack_require__(8772);var _header=__webpack_require__(8775);var _helpers=__webpack_require__(7072);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var FieldsBrowserContainer=_styledComponents.default.div.withConfig({displayName:"FieldsBrowserContainer",componentId:"sc-14w4fm4-0"})(["background-color:",";border:"," solid ",";border-radius:",";left:0;padding:"," "," ",";position:absolute;top:calc(100% + ",");width:","px;z-index:9990;"],(function(_ref){var theme=_ref.theme;return theme.eui.euiColorLightestShade}),(function(_ref2){var theme=_ref2.theme;return theme.eui.euiBorderWidthThin}),(function(_ref3){var theme=_ref3.theme;return theme.eui.euiColorMediumShade}),(function(_ref4){var theme=_ref4.theme;return theme.eui.euiBorderRadius}),(function(_ref5){var theme=_ref5.theme;return theme.eui.paddingSizes.s}),(function(_ref6){var theme=_ref6.theme;return theme.eui.paddingSizes.s}),(function(_ref7){var theme=_ref7.theme;return theme.eui.paddingSizes.m}),(function(_ref8){var theme=_ref8.theme;return theme.eui.euiSize}),(function(_ref9){var width=_ref9.width;return width}));FieldsBrowserContainer.displayName="FieldsBrowserContainer";var PanesFlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"PanesFlexGroup",componentId:"sc-14w4fm4-1"})(["width:","px;"],_helpers.PANES_FLEX_GROUP_WIDTH);PanesFlexGroup.displayName="PanesFlexGroup";var FieldsBrowserComponent=function FieldsBrowserComponent(_ref10){var browserFields=_ref10.browserFields,columnHeaders=_ref10.columnHeaders,filteredBrowserFields=_ref10.filteredBrowserFields,isEventViewer=_ref10.isEventViewer,isSearching=_ref10.isSearching,onCategorySelected=_ref10.onCategorySelected,onFieldSelected=_ref10.onFieldSelected,onHideFieldBrowser=_ref10.onHideFieldBrowser,onSearchInputChange=_ref10.onSearchInputChange,onOutsideClick=_ref10.onOutsideClick,onUpdateColumns=_ref10.onUpdateColumns,searchInput=_ref10.searchInput,selectedCategoryId=_ref10.selectedCategoryId,timelineId=_ref10.timelineId,toggleColumn=_ref10.toggleColumn,width=_ref10.width;var focusInput=function focusInput(){var elements=document.getElementsByClassName((0,_helpers.getFieldBrowserSearchInputClassName)(timelineId));if(elements.length>0){elements[0].focus()}};var onInputChange=(0,_react.useCallback)((function(event){onSearchInputChange(event.target.value)}),[onSearchInputChange]);var selectFieldAndHide=(0,_react.useCallback)((function(fieldId){if(onFieldSelected!=null){onFieldSelected(fieldId)}onHideFieldBrowser()}),[onFieldSelected,onHideFieldBrowser]);var scrollViews=function scrollViews(){if(selectedCategoryId!==""){var categoryPaneTitles=document.getElementsByClassName((0,_helpers.getCategoryPaneCategoryClassName)({categoryId:selectedCategoryId,timelineId:timelineId}));if(categoryPaneTitles.length>0){categoryPaneTitles[0].scrollIntoView()}var fieldPaneTitles=document.getElementsByClassName((0,_helpers.getFieldBrowserCategoryTitleClassName)({categoryId:selectedCategoryId,timelineId:timelineId}));if(fieldPaneTitles.length>0){fieldPaneTitles[0].scrollIntoView()}}focusInput()};(0,_react.useEffect)((function(){scrollViews()}),[selectedCategoryId,timelineId]);return _react.default.createElement(_eui.EuiOutsideClickDetector,{"data-test-subj":"outside-click-detector",onOutsideClick:onFieldSelected!=null?_fp.noop:onOutsideClick,isDisabled:false},_react.default.createElement(FieldsBrowserContainer,{"data-test-subj":"fields-browser-container",width:width},_react.default.createElement(_header.Header,{"data-test-subj":"header",filteredBrowserFields:filteredBrowserFields,isEventViewer:isEventViewer,isSearching:isSearching,onOutsideClick:onOutsideClick,onSearchInputChange:onInputChange,onUpdateColumns:onUpdateColumns,searchInput:searchInput,timelineId:timelineId}),_react.default.createElement(PanesFlexGroup,{alignItems:"flexStart",gutterSize:"none",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_categories_pane.CategoriesPane,{browserFields:browserFields,"data-test-subj":"left-categories-pane",filteredBrowserFields:filteredBrowserFields,width:_helpers.CATEGORY_PANE_WIDTH,onCategorySelected:onCategorySelected,onUpdateColumns:onUpdateColumns,selectedCategoryId:selectedCategoryId,timelineId:timelineId})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_fields_pane.FieldsPane,{columnHeaders:columnHeaders,"data-test-subj":"fields-pane",filteredBrowserFields:filteredBrowserFields,onCategorySelected:onCategorySelected,onFieldSelected:selectFieldAndHide,onUpdateColumns:onUpdateColumns,searchInput:searchInput,selectedCategoryId:selectedCategoryId,timelineId:timelineId,toggleColumn:toggleColumn,width:_helpers.FIELDS_PANE_WIDTH})))))};var FieldsBrowser=_react.default.memo(FieldsBrowserComponent);exports.FieldsBrowser=FieldsBrowser},8770:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CategoriesPane=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _category_columns=__webpack_require__(8771);var _helpers=__webpack_require__(7072);var i18n=_interopRequireWildcard(__webpack_require__(7112));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CategoryNames=_styledComponents.default.div.withConfig({displayName:"CategoryNames",componentId:"sc-3gi5zq-0"})(["",";overflow:auto;padding:5px;",";thead{display:none;}"],(function(_ref){var height=_ref.height;return"height: ".concat(height,"px")}),(function(_ref2){var width=_ref2.width;return"width: ".concat(width,"px")}));CategoryNames.displayName="CategoryNames";var Title=(0,_styledComponents.default)(_eui.EuiTitle).withConfig({displayName:"Title",componentId:"sc-3gi5zq-1"})(["padding-left:5px;"]);Title.displayName="Title";var CategoriesPane=_react.default.memo((function(_ref3){var browserFields=_ref3.browserFields,filteredBrowserFields=_ref3.filteredBrowserFields,onCategorySelected=_ref3.onCategorySelected,onUpdateColumns=_ref3.onUpdateColumns,selectedCategoryId=_ref3.selectedCategoryId,timelineId=_ref3.timelineId,width=_ref3.width;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(Title,{size:"xxs"},_react.default.createElement("h5",{"data-test-subj":"categories-pane-title"},i18n.CATEGORIES)),_react.default.createElement(CategoryNames,{className:"euiTable--compressed","data-test-subj":"categories-container",height:_helpers.TABLE_HEIGHT,width:width},_react.default.createElement(_eui.EuiInMemoryTable,{columns:(0,_category_columns.getCategoryColumns)({browserFields:browserFields,filteredBrowserFields:filteredBrowserFields,onCategorySelected:onCategorySelected,onUpdateColumns:onUpdateColumns,selectedCategoryId:selectedCategoryId,timelineId:timelineId}),items:Object.keys(filteredBrowserFields).sort().map((function(categoryId){return{categoryId:categoryId}})),message:i18n.NO_FIELDS_MATCH,pagination:false,sorting:false})))}));exports.CategoriesPane=CategoriesPane;CategoriesPane.displayName="CategoriesPane"},8771:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getCategoryColumns=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _helpers=__webpack_require__(7156);var _page=__webpack_require__(7055);var _timeline_context=__webpack_require__(7033);var _with_hover_actions=__webpack_require__(7128);var _helpers2=__webpack_require__(7072);var i18n=_interopRequireWildcard(__webpack_require__(7112));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var CategoryName=_styledComponents.default.span.withConfig({displayName:"CategoryName",componentId:"tv866n-0"})([".euiText{font-weight:",";}"],(function(_ref){var bold=_ref.bold;return bold?"bold":"normal"}));CategoryName.displayName="CategoryName";var HoverActionsContainer=(0,_styledComponents.default)(_eui.EuiPanel).withConfig({displayName:"HoverActionsContainer",componentId:"tv866n-1"})(["cursor:default;left:5px;padding:8px;position:absolute;top:-8px;"]);HoverActionsContainer.displayName="HoverActionsContainer";var HoverActionsFlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"HoverActionsFlexGroup",componentId:"tv866n-2"})(["cursor:pointer;"]);HoverActionsFlexGroup.displayName="HoverActionsFlexGroup";var LinkContainer=_styledComponents.default.div.withConfig({displayName:"LinkContainer",componentId:"tv866n-3"})(["width:100%;.euiLink{width:100%;}"]);LinkContainer.displayName="LinkContainer";var ToolTip=_react.default.memo((function(_ref2){var categoryId=_ref2.categoryId,browserFields=_ref2.browserFields,onUpdateColumns=_ref2.onUpdateColumns;var isLoading=(0,_react.useContext)(_timeline_context.TimelineContext);return _react.default.createElement(_eui.EuiToolTip,{content:i18n.VIEW_CATEGORY(categoryId)},!isLoading?_react.default.createElement(_eui.EuiIcon,{"aria-label":i18n.VIEW_CATEGORY(categoryId),color:"text",onClick:function onClick(){onUpdateColumns((0,_helpers.getColumnsWithTimestamp)({browserFields:browserFields,category:categoryId}))},type:"visTable"}):_react.default.createElement(_helpers2.LoadingSpinner,{size:"m"}))}));ToolTip.displayName="ToolTip";var getCategoryColumns=function getCategoryColumns(_ref3){var browserFields=_ref3.browserFields,filteredBrowserFields=_ref3.filteredBrowserFields,onCategorySelected=_ref3.onCategorySelected,onUpdateColumns=_ref3.onUpdateColumns,selectedCategoryId=_ref3.selectedCategoryId,timelineId=_ref3.timelineId;return[{field:"categoryId",name:"",sortable:true,truncateText:false,render:function render(categoryId,_){return _react.default.createElement(LinkContainer,null,_react.default.createElement(_eui.EuiLink,{"data-test-subj":"category-link",onClick:function onClick(){return onCategorySelected(categoryId)}},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_with_hover_actions.WithHoverActions,{hoverContent:_react.default.createElement(HoverActionsContainer,{"data-test-subj":"hover-actions-container",paddingSize:"none"},_react.default.createElement(HoverActionsFlexGroup,{alignItems:"center",direction:"row",gutterSize:"none",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(ToolTip,{categoryId:categoryId,browserFields:browserFields,onUpdateColumns:onUpdateColumns})))),render:function render(){return _react.default.createElement(CategoryName,{bold:categoryId===selectedCategoryId,className:(0,_helpers2.getCategoryPaneCategoryClassName)({categoryId:categoryId,timelineId:timelineId})},_react.default.createElement(_eui.EuiText,{size:"xs"},categoryId))}})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_page.CountBadge,{"data-test-subj":"".concat(categoryId,"-category-count"),color:"hollow"},(0,_helpers2.getFieldCount)(filteredBrowserFields[categoryId]))))))}}]};exports.getCategoryColumns=getCategoryColumns},8772:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldsPane=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _category=__webpack_require__(8773);var _field_items=__webpack_require__(7632);var _helpers=__webpack_require__(7072);var i18n=_interopRequireWildcard(__webpack_require__(7112));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NoFieldsPanel=_styledComponents.default.div.withConfig({displayName:"NoFieldsPanel",componentId:"vzij45-0"})(["background-color:",";width:","px;height:","px;"],(function(props){return props.theme.eui.euiColorLightestShade}),_helpers.FIELDS_PANE_WIDTH,_helpers.TABLE_HEIGHT);NoFieldsPanel.displayName="NoFieldsPanel";var NoFieldsFlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"NoFieldsFlexGroup",componentId:"vzij45-1"})(["height:100%;"]);NoFieldsFlexGroup.displayName="NoFieldsFlexGroup";var FieldsPane=_react.default.memo((function(_ref){var columnHeaders=_ref.columnHeaders,filteredBrowserFields=_ref.filteredBrowserFields,onCategorySelected=_ref.onCategorySelected,onUpdateColumns=_ref.onUpdateColumns,searchInput=_ref.searchInput,selectedCategoryId=_ref.selectedCategoryId,timelineId=_ref.timelineId,toggleColumn=_ref.toggleColumn,width=_ref.width;return _react.default.createElement(_react.default.Fragment,null,Object.keys(filteredBrowserFields).length>0?_react.default.createElement(_category.Category,{categoryId:selectedCategoryId,"data-test-subj":"category",filteredBrowserFields:filteredBrowserFields,fieldItems:(0,_field_items.getFieldItems)({browserFields:filteredBrowserFields,category:filteredBrowserFields[selectedCategoryId],categoryId:selectedCategoryId,columnHeaders:columnHeaders,highlight:searchInput,onUpdateColumns:onUpdateColumns,timelineId:timelineId,toggleColumn:toggleColumn}),width:width,onCategorySelected:onCategorySelected,timelineId:timelineId}):_react.default.createElement(NoFieldsPanel,null,_react.default.createElement(NoFieldsFlexGroup,{alignItems:"center",gutterSize:"none",justifyContent:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement("h3",{"data-test-subj":"no-fields-match"},i18n.NO_FIELDS_MATCH_INPUT(searchInput))))))}));exports.FieldsPane=FieldsPane;FieldsPane.displayName="FieldsPane"},8773:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Category=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _category_title=__webpack_require__(8774);var _field_items=__webpack_require__(7632);var _helpers=__webpack_require__(7072);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TableContainer=_styledComponents.default.div.withConfig({displayName:"TableContainer",componentId:"joosk6-0"})(["",";overflow-x:hidden;overflow-y:auto;",";"],(function(_ref){var height=_ref.height;return"height: ".concat(height,"px")}),(function(_ref2){var width=_ref2.width;return"width: ".concat(width,"px")}));TableContainer.displayName="TableContainer";var Category=_react.default.memo((function(_ref3){var categoryId=_ref3.categoryId,filteredBrowserFields=_ref3.filteredBrowserFields,fieldItems=_ref3.fieldItems,timelineId=_ref3.timelineId,width=_ref3.width;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_category_title.CategoryTitle,{categoryId:categoryId,filteredBrowserFields:filteredBrowserFields,timelineId:timelineId}),_react.default.createElement(TableContainer,{className:"euiTable--compressed","data-test-subj":"category-table-container",height:_helpers.TABLE_HEIGHT,width:width},_react.default.createElement(_eui.EuiInMemoryTable,{items:fieldItems,columns:(0,_field_items.getFieldColumns)(),pagination:false,sorting:true})))}));exports.Category=Category;Category.displayName="Category"},8774:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CategoryTitle=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _helpers=__webpack_require__(7072);var _page=__webpack_require__(7055);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CountBadgeContainer=_styledComponents.default.div.withConfig({displayName:"CountBadgeContainer",componentId:"bai2wm-0"})(["position:relative;top:-3px;"]);CountBadgeContainer.displayName="CountBadgeContainer";var CategoryTitle=_react.default.memo((function(_ref){var filteredBrowserFields=_ref.filteredBrowserFields,categoryId=_ref.categoryId,timelineId=_ref.timelineId;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center","data-test-subj":"category-title-container",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{className:(0,_helpers.getFieldBrowserCategoryTitleClassName)({categoryId:categoryId,timelineId:timelineId}),"data-test-subj":"selected-category-title",size:"xxs"},_react.default.createElement("h5",null,categoryId))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(CountBadgeContainer,null,_react.default.createElement(_page.CountBadge,{"data-test-subj":"selected-category-count-badge",color:"hollow"},(0,_helpers.getFieldCount)(filteredBrowserFields[categoryId])))))}));exports.CategoryTitle=CategoryTitle;CategoryTitle.displayName="CategoryTitle"},8775:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _default_config=__webpack_require__(7335);var _default_headers=__webpack_require__(7636);var _default_headers2=__webpack_require__(7637);var _default_headers3=__webpack_require__(7038);var _timeline_context=__webpack_require__(7033);var _helpers=__webpack_require__(7072);var i18n=_interopRequireWildcard(__webpack_require__(7112));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var CountsFlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"CountsFlexGroup",componentId:"dtbl28-0"})(["margin-top:5px;"]);CountsFlexGroup.displayName="CountsFlexGroup";var CountFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"CountFlexItem",componentId:"dtbl28-1"})(["margin-right:5px;"]);CountFlexItem.displayName="CountFlexItem";var HeaderContainer=_styledComponents.default.div.withConfig({displayName:"HeaderContainer",componentId:"dtbl28-2"})(["padding:16px;margin-bottom:8px;"]);HeaderContainer.displayName="HeaderContainer";var SearchContainer=_styledComponents.default.div.withConfig({displayName:"SearchContainer",componentId:"dtbl28-3"})(["input{max-width:","px;width:","px;}"],_helpers.SEARCH_INPUT_WIDTH,_helpers.SEARCH_INPUT_WIDTH);SearchContainer.displayName="SearchContainer";var CountRow=_react.default.memo((function(_ref){var filteredBrowserFields=_ref.filteredBrowserFields;return _react.default.createElement(CountsFlexGroup,{alignItems:"center","data-test-subj":"counts-flex-group",direction:"row",gutterSize:"none"},_react.default.createElement(CountFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,{color:"subdued","data-test-subj":"categories-count",size:"xs"},i18n.CATEGORIES_COUNT(Object.keys(filteredBrowserFields).length))),_react.default.createElement(CountFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,{color:"subdued","data-test-subj":"fields-count",size:"xs"},i18n.FIELDS_COUNT(Object.keys(filteredBrowserFields).reduce((function(fieldsCount,category){return(0,_helpers.getFieldCount)(filteredBrowserFields[category])+fieldsCount}),0)))))}));CountRow.displayName="CountRow";var TitleRow=_react.default.memo((function(_ref2){var isEventViewer=_ref2.isEventViewer,onOutsideClick=_ref2.onOutsideClick,onUpdateColumns=_ref2.onUpdateColumns;var timelineTypeContext=(0,_timeline_context.useTimelineTypeContext)();var handleResetColumns=(0,_react.useCallback)((function(){var resetDefaultHeaders=_default_headers3.defaultHeaders;if(isEventViewer){var _timelineTypeContext$,_timelineTypeContext$2;if(((_timelineTypeContext$=timelineTypeContext.documentType)===null||_timelineTypeContext$===void 0?void 0:_timelineTypeContext$.toLocaleLowerCase())==="alerts"){resetDefaultHeaders=_default_headers.alertsHeaders}else if(((_timelineTypeContext$2=timelineTypeContext.documentType)===null||_timelineTypeContext$2===void 0?void 0:_timelineTypeContext$2.toLocaleLowerCase())==="signals"){resetDefaultHeaders=_default_config.signalsHeaders}else{resetDefaultHeaders=_default_headers2.defaultHeaders}}onUpdateColumns(resetDefaultHeaders);onOutsideClick()}),[isEventViewer,onOutsideClick,onUpdateColumns,timelineTypeContext]);return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",direction:"row",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{"data-test-subj":"field-browser-title",size:"s"},_react.default.createElement("h2",null,i18n.CUSTOMIZE_COLUMNS))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"reset-fields",onClick:handleResetColumns},i18n.RESET_FIELDS)))}));TitleRow.displayName="TitleRow";var Header=_react.default.memo((function(_ref3){var isEventViewer=_ref3.isEventViewer,isSearching=_ref3.isSearching,filteredBrowserFields=_ref3.filteredBrowserFields,onOutsideClick=_ref3.onOutsideClick,onSearchInputChange=_ref3.onSearchInputChange,onUpdateColumns=_ref3.onUpdateColumns,searchInput=_ref3.searchInput,timelineId=_ref3.timelineId;return _react.default.createElement(HeaderContainer,null,_react.default.createElement(TitleRow,{isEventViewer:isEventViewer,onUpdateColumns:onUpdateColumns,onOutsideClick:onOutsideClick}),_react.default.createElement(SearchContainer,null,_react.default.createElement(_eui.EuiFieldSearch,{className:(0,_helpers.getFieldBrowserSearchInputClassName)(timelineId),"data-test-subj":"field-search",isLoading:isSearching,onChange:onSearchInputChange,placeholder:i18n.FILTER_PLACEHOLDER,value:searchInput})),_react.default.createElement(CountRow,{filteredBrowserFields:filteredBrowserFields}))}));exports.Header=Header;Header.displayName="Header"},8776:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceTemplateFieldFromDataProviders=exports.reformatDataProviderWithNewValue=exports.replaceTemplateFieldFromMatchFilters=exports.replaceTemplateFieldFromQuery=exports.findValueToChangeInQuery=void 0;var _fp=__webpack_require__(223);var _common=__webpack_require__(59);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var templateFields=["host.name","host.hostname","host.domain","host.id","host.ip","client.ip","destination.ip","server.ip","source.ip","network.community_id","user.name","process.name"];var findValueToChangeInQuery=function findValueToChangeInQuery(keuryNode){var valueToChange=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var localValueToChange=valueToChange;if(keuryNode.function==="is"&&templateFields.includes(keuryNode.arguments[0].value)){localValueToChange=[].concat(_toConsumableArray(localValueToChange),[{field:keuryNode.arguments[0].value,valueToChange:keuryNode.arguments[1].value}])}return keuryNode.arguments.reduce((function(addValueToChange,ast){if(ast.function==="is"&&templateFields.includes(ast.arguments[0].value)){return[].concat(_toConsumableArray(addValueToChange),[{field:ast.arguments[0].value,valueToChange:ast.arguments[1].value}])}if(ast.arguments){return findValueToChangeInQuery(ast,addValueToChange)}return addValueToChange}),localValueToChange)};exports.findValueToChangeInQuery=findValueToChangeInQuery;var replaceTemplateFieldFromQuery=function replaceTemplateFieldFromQuery(query,ecsData){if(query.trim()!==""){var valueToChange=findValueToChangeInQuery(_common.esKuery.fromKueryExpression(query));return valueToChange.reduce((function(newQuery,vtc){var newValue=(0,_fp.get)(vtc.field,ecsData);if(newValue!=null){return newQuery.replace(vtc.valueToChange,newValue)}return newQuery}),query)}return""};exports.replaceTemplateFieldFromQuery=replaceTemplateFieldFromQuery;var replaceTemplateFieldFromMatchFilters=function replaceTemplateFieldFromMatchFilters(filters,ecsData){return filters.map((function(filter){if(filter.meta.type==="phrase"&&filter.meta.key!=null&&templateFields.includes(filter.meta.key)){var newValue=(0,_fp.get)(filter.meta.key,ecsData);if(newValue!=null){filter.meta.params={query:newValue};filter.query={match_phrase:_defineProperty({},filter.meta.key,newValue)}}}return filter}))};exports.replaceTemplateFieldFromMatchFilters=replaceTemplateFieldFromMatchFilters;var reformatDataProviderWithNewValue=function reformatDataProviderWithNewValue(dataProvider,ecsData){if(templateFields.includes(dataProvider.queryMatch.field)){var newValue=(0,_fp.get)(dataProvider.queryMatch.field,ecsData);if(newValue!=null){dataProvider.id=dataProvider.id.replace(dataProvider.name,newValue);dataProvider.name=newValue;dataProvider.queryMatch.value=newValue;dataProvider.queryMatch.displayField=undefined;dataProvider.queryMatch.displayValue=undefined}}return dataProvider};exports.reformatDataProviderWithNewValue=reformatDataProviderWithNewValue;var replaceTemplateFieldFromDataProviders=function replaceTemplateFieldFromDataProviders(dataProviders,ecsData){return dataProviders.map((function(dataProvider){var newDataProvider=reformatDataProviderWithNewValue(dataProvider,ecsData);if(newDataProvider.and!=null&&!(0,_fp.isEmpty)(newDataProvider.and)){newDataProvider.and=newDataProvider.and.map((function(andDataProvider){return reformatDataProviderWithNewValue(andDataProvider,ecsData)}))}return newDataProvider}))};exports.replaceTemplateFieldFromDataProviders=replaceTemplateFieldFromDataProviders},8777:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventsSelect=exports.EVENTS_SELECT_WIDTH=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireWildcard(__webpack_require__(30));var _helpers=__webpack_require__(8778);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  .eventsSelectItem {\n    width: 100% !important;\n\n    .euiContextMenu__icon {\n      display: none !important;\n    }\n  }\n\n  .eventsSelectDropdown {\n    width: ","px;\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var EVENTS_SELECT_WIDTH=60;exports.EVENTS_SELECT_WIDTH=EVENTS_SELECT_WIDTH;var EventsSelectGlobalStyle=(0,_styledComponents.createGlobalStyle)(_templateObject(),EVENTS_SELECT_WIDTH);var CheckboxContainer=_styledComponents.default.div.withConfig({displayName:"CheckboxContainer",componentId:"bvbq5a-0"})(["position:relative;"]);CheckboxContainer.displayName="CheckboxContainer";var PositionedCheckbox=_styledComponents.default.div.withConfig({displayName:"PositionedCheckbox",componentId:"bvbq5a-1"})(["left:7px;position:absolute;top:-28px;"]);PositionedCheckbox.displayName="PositionedCheckbox";var EventsSelect=_react.default.memo((function(_ref){var checkState=_ref.checkState,timelineId=_ref.timelineId;return _react.default.createElement("div",{"data-test-subj":"events-select"},_react.default.createElement(_eui.EuiSuperSelect,{className:"eventsSelectDropdown","data-test-subj":"events-select-dropdown",itemClassName:"eventsSelectItem",onChange:_fp.noop,options:(0,_helpers.getEventsSelectOptions)()}),_react.default.createElement(CheckboxContainer,{"data-test-subj":"timeline-events-select-checkbox-container"},_react.default.createElement(PositionedCheckbox,{"data-test-subj":"timeline-events-select-positioned-checkbox"},_react.default.createElement(_eui.EuiCheckbox,{checked:checkState==="checked","data-test-subj":"events-select-checkbox",disabled:true,id:"timeline-".concat(timelineId,"-events-select"),indeterminate:checkState==="indeterminate",onChange:_fp.noop}))),_react.default.createElement(EventsSelectGlobalStyle,null))}));exports.EventsSelect=EventsSelect;EventsSelect.displayName="EventsSelect"},8778:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getEventsSelectOptions=exports.DropdownDisplay=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _pin=__webpack_require__(7638);var i18n=_interopRequireWildcard(__webpack_require__(8779));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var InputDisplay=_styledComponents.default.div.withConfig({displayName:"InputDisplay",componentId:"sc-15pp4t2-0"})(["width:5px;"]);InputDisplay.displayName="InputDisplay";var PinIconContainer=_styledComponents.default.div.withConfig({displayName:"PinIconContainer",componentId:"sc-15pp4t2-1"})(["margin-right:5px;"]);PinIconContainer.displayName="PinIconContainer";var PinActionItem=_styledComponents.default.div.withConfig({displayName:"PinActionItem",componentId:"sc-15pp4t2-2"})(["display:flex;flex-direction:row;"]);PinActionItem.displayName="PinActionItem";var DropdownDisplay=_react.default.memo((function(_ref){var text=_ref.text;return _react.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},text)}));exports.DropdownDisplay=DropdownDisplay;DropdownDisplay.displayName="DropdownDisplay";var getEventsSelectOptions=function getEventsSelectOptions(){return[{inputDisplay:_react.default.createElement(InputDisplay,null),disabled:true,dropdownDisplay:_react.default.createElement(DropdownDisplay,{text:i18n.SELECT_ALL}),value:"select-all"},{inputDisplay:_react.default.createElement(InputDisplay,null),disabled:true,dropdownDisplay:_react.default.createElement(DropdownDisplay,{text:i18n.SELECT_NONE}),value:"select-none"},{inputDisplay:_react.default.createElement(InputDisplay,null),disabled:true,dropdownDisplay:_react.default.createElement(DropdownDisplay,{text:i18n.SELECT_PINNED}),value:"select-pinned"},{inputDisplay:_react.default.createElement(InputDisplay,null),disabled:true,dropdownDisplay:_react.default.createElement(DropdownDisplay,{text:i18n.SELECT_UNPINNED}),value:"select-unpinned"},{inputDisplay:_react.default.createElement(InputDisplay,null),disabled:true,dropdownDisplay:_react.default.createElement(PinActionItem,null,_react.default.createElement(PinIconContainer,null,_react.default.createElement(_pin.Pin,{allowUnpinning:true,pinned:true})),_react.default.createElement(DropdownDisplay,{text:i18n.PIN_SELECTED})),value:"pin-selected"},{inputDisplay:_react.default.createElement(InputDisplay,null),disabled:true,dropdownDisplay:_react.default.createElement(PinActionItem,null,_react.default.createElement(PinIconContainer,null,_react.default.createElement(_pin.Pin,{allowUnpinning:true,pinned:false})),_react.default.createElement(DropdownDisplay,{text:i18n.UNPIN_SELECTED})),value:"unpin-selected"}]};exports.getEventsSelectOptions=getEventsSelectOptions},8779:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UNPIN_SELECTED=exports.SELECT_UNPINNED=exports.SELECT_PINNED=exports.SELECT_NONE=exports.SELECT_ALL=exports.PIN_SELECTED=void 0;var _i18n=__webpack_require__(2);var PIN_SELECTED=_i18n.i18n.translate("xpack.siem.timeline.eventsSelect.actions.pinSelected",{defaultMessage:"Pin selected"});exports.PIN_SELECTED=PIN_SELECTED;var SELECT_ALL=_i18n.i18n.translate("xpack.siem.timeline.eventsSelect.actions.selectAll",{defaultMessage:"All"});exports.SELECT_ALL=SELECT_ALL;var SELECT_NONE=_i18n.i18n.translate("xpack.siem.timeline.eventsSelect.actions.selectNone",{defaultMessage:"None"});exports.SELECT_NONE=SELECT_NONE;var SELECT_PINNED=_i18n.i18n.translate("xpack.siem.timeline.eventsSelect.actions.selectPinned",{defaultMessage:"Pinned"});exports.SELECT_PINNED=SELECT_PINNED;var SELECT_UNPINNED=_i18n.i18n.translate("xpack.siem.timeline.eventsSelect.actions.selectUnpinned",{defaultMessage:"Unpinned"});exports.SELECT_UNPINNED=SELECT_UNPINNED;var UNPIN_SELECTED=_i18n.i18n.translate("xpack.siem.timeline.eventsSelect.actions.unpinSelected",{defaultMessage:"Unpin selected"});exports.UNPIN_SELECTED=UNPIN_SELECTED},8780:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColumnHeader=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactBeautifulDnd=__webpack_require__(7089);var _reResizable=__webpack_require__(9245);var _draggable_wrapper=__webpack_require__(7032);var _helpers=__webpack_require__(7021);var _field_badge=__webpack_require__(7334);var _styles=__webpack_require__(7058);var _dragging_container=__webpack_require__(8781);var _header=__webpack_require__(8782);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ColumnHeaderComponent=function ColumnHeaderComponent(_ref){var draggableIndex=_ref.draggableIndex,header=_ref.header,timelineId=_ref.timelineId,onColumnRemoved=_ref.onColumnRemoved,onColumnResized=_ref.onColumnResized,onColumnSorted=_ref.onColumnSorted,onFilterChange=_ref.onFilterChange,sort=_ref.sort;var _React$useState=_react.default.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isDragging=_React$useState2[0],setIsDragging=_React$useState2[1];var handleResizeStop=function handleResizeStop(e,direction,ref,delta){onColumnResized({columnId:header.id,delta:delta.width})};return _react.default.createElement(_reResizable.Resizable,{enable:{right:true},size:{width:header.width,height:"auto"},style:{position:isDragging?"absolute":"relative"},handleComponent:{right:_react.default.createElement(_styles.EventsHeadingHandle,null)},onResizeStop:handleResizeStop},_react.default.createElement(_reactBeautifulDnd.Draggable,{"data-test-subj":"draggable",disableInteractiveElementBlocking:true,draggableId:(0,_helpers.getDraggableFieldId)({contextId:"timeline-column-headers-".concat(timelineId),fieldId:header.id}),index:draggableIndex,key:header.id,type:_helpers.DRAG_TYPE_FIELD},(function(dragProvided,dragSnapshot){return _react.default.createElement(_styles.EventsTh,_extends({"data-test-subj":"draggable-header"},dragProvided.draggableProps,dragProvided.dragHandleProps,{ref:dragProvided.innerRef}),!dragSnapshot.isDragging?_react.default.createElement(_styles.EventsThContent,null,_react.default.createElement(_header.Header,{timelineId:timelineId,header:header,onColumnRemoved:onColumnRemoved,onColumnSorted:onColumnSorted,onFilterChange:onFilterChange,sort:sort})):_react.default.createElement(_dragging_container.DraggingContainer,{onDragging:setIsDragging},_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_field_badge.DraggableFieldBadge,{fieldId:header.id,fieldWidth:"".concat(header.width,"px")}))))})))};var ColumnHeader=_react.default.memo(ColumnHeaderComponent);exports.ColumnHeader=ColumnHeader},8781:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DraggingContainer=void 0;var _react=__webpack_require__(0);var DraggingContainerComponent=function DraggingContainerComponent(_ref){var children=_ref.children,onDragging=_ref.onDragging;(0,_react.useEffect)((function(){onDragging(true);return function(){return onDragging(false)}}));return children};var DraggingContainer=(0,_react.memo)(DraggingContainerComponent);exports.DraggingContainer=DraggingContainer},8782:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=exports.HeaderComponent=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _actions=__webpack_require__(8783);var _filter=__webpack_require__(8784);var _helpers=__webpack_require__(7640);var _header_content=__webpack_require__(8786);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var HeaderComponent=function HeaderComponent(_ref){var header=_ref.header,onColumnRemoved=_ref.onColumnRemoved,onColumnSorted=_ref.onColumnSorted,_ref$onFilterChange=_ref.onFilterChange,onFilterChange=_ref$onFilterChange===void 0?_fp.noop:_ref$onFilterChange,sort=_ref.sort;var onClick=(0,_react.useCallback)((function(){onColumnSorted({columnId:header.id,sortDirection:(0,_helpers.getNewSortDirectionOnClick)({clickedHeader:header,currentSort:sort})})}),[onColumnSorted,header,sort]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_header_content.HeaderContent,{header:header,isResizing:false,onClick:onClick,sort:sort},_react.default.createElement(_actions.Actions,{header:header,onColumnRemoved:onColumnRemoved,sort:sort})),_react.default.createElement(_filter.Filter,{header:header,onFilterChange:onFilterChange}))};exports.HeaderComponent=HeaderComponent;var Header=_react.default.memo(HeaderComponent);exports.Header=Header},8783:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Actions=exports.CloseButton=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styles=__webpack_require__(7058);var _timeline_context=__webpack_require__(7033);var i18n=_interopRequireWildcard(__webpack_require__(7639));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CloseButton=_react.default.memo((function(_ref){var columnId=_ref.columnId,onColumnRemoved=_ref.onColumnRemoved;return _react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.REMOVE_COLUMN,color:"text","data-test-subj":"remove-column",iconType:"cross",onClick:function onClick(event){event.preventDefault();event.stopPropagation();onColumnRemoved(columnId)}})}));exports.CloseButton=CloseButton;CloseButton.displayName="CloseButton";var Actions=_react.default.memo((function(_ref2){var header=_ref2.header,onColumnRemoved=_ref2.onColumnRemoved,sort=_ref2.sort;var isLoading=(0,_timeline_context.useTimelineContext)();return _react.default.createElement(_react.default.Fragment,null,sort.columnId===header.id&&isLoading?_react.default.createElement(_styles.EventsHeadingExtra,{className:"siemEventsHeading__extra--loading"},_react.default.createElement(_styles.EventsLoading,null)):_react.default.createElement(_styles.EventsHeadingExtra,{className:"siemEventsHeading__extra--close"},_react.default.createElement(CloseButton,{columnId:header.id,onColumnRemoved:onColumnRemoved})))}));exports.Actions=Actions;Actions.displayName="Actions"},8784:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Filter=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _text_filter=__webpack_require__(8785);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Filter=_react.default.memo((function(_ref){var header=_ref.header,_ref$onFilterChange=_ref.onFilterChange,onFilterChange=_ref$onFilterChange===void 0?_fp.noop:_ref$onFilterChange;switch(header.columnHeaderType){case"text-filter":return _react.default.createElement(_text_filter.TextFilter,{columnId:header.id,minWidth:header.width,onFilterChange:onFilterChange,placeholder:header.placeholder});case"not-filtered":default:return null}}));exports.Filter=Filter;Filter.displayName="Filter"},8785:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TextFilter=exports.DEFAULT_PLACEHOLDER=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DEFAULT_PLACEHOLDER="Filter";exports.DEFAULT_PLACEHOLDER=DEFAULT_PLACEHOLDER;var FieldText=(0,_styledComponents.default)(_eui.EuiFieldText).withConfig({displayName:"FieldText",componentId:"sc-16p8knq-0"})(["min-width:",";"],(function(props){return props.minwidth}));FieldText.displayName="FieldText";var TextFilter=_react.default.memo((function(_ref){var columnId=_ref.columnId,minWidth=_ref.minWidth,_ref$filter=_ref.filter,filter=_ref$filter===void 0?"":_ref$filter,_ref$onFilterChange=_ref.onFilterChange,onFilterChange=_ref$onFilterChange===void 0?_fp.noop:_ref$onFilterChange,_ref$placeholder=_ref.placeholder,placeholder=_ref$placeholder===void 0?DEFAULT_PLACEHOLDER:_ref$placeholder;var onChange=function onChange(event){onFilterChange({columnId:columnId,filter:event.target.value})};return _react.default.createElement(FieldText,{"data-test-subj":"textFilter",minwidth:"".concat(minWidth,"px"),placeholder:placeholder,value:filter,onChange:onChange})}));exports.TextFilter=TextFilter;TextFilter.displayName="TextFilter"},8786:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HeaderContent=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _truncatable_text=__webpack_require__(7131);var _styles=__webpack_require__(7058);var _timeline_context=__webpack_require__(7033);var _sort_indicator=__webpack_require__(8787);var _header_tooltip_content=__webpack_require__(8788);var _helpers=__webpack_require__(7640);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HeaderContentComponent=function HeaderContentComponent(_ref){var _header$label,_header$label2;var children=_ref.children,header=_ref.header,isResizing=_ref.isResizing,onClick=_ref.onClick,sort=_ref.sort;var isLoading=(0,_timeline_context.useTimelineContext)();return _react.default.createElement(_styles.EventsHeading,{"data-test-subj":"header",isLoading:isLoading},header.aggregatable?_react.default.createElement(_styles.EventsHeadingTitleButton,{"data-test-subj":"header-sort-button",onClick:!isResizing&&!isLoading?onClick:_fp.noop},_react.default.createElement(_truncatable_text.TruncatableText,{"data-test-subj":"header-text-".concat(header.id)},_react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"header-tooltip",content:_react.default.createElement(_header_tooltip_content.HeaderToolTipContent,{header:header})},_react.default.createElement(_react.default.Fragment,null,(_header$label=header.label)!==null&&_header$label!==void 0?_header$label:header.id))),_react.default.createElement(_sort_indicator.SortIndicator,{"data-test-subj":"header-sort-indicator",sortDirection:(0,_helpers.getSortDirection)({header:header,sort:sort})})):_react.default.createElement(_styles.EventsHeadingTitleSpan,null,_react.default.createElement(_truncatable_text.TruncatableText,{"data-test-subj":"header-text-".concat(header.id)},_react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"header-tooltip",content:_react.default.createElement(_header_tooltip_content.HeaderToolTipContent,{header:header})},_react.default.createElement(_react.default.Fragment,null,(_header$label2=header.label)!==null&&_header$label2!==void 0?_header$label2:header.id)))),children)};var HeaderContent=_react.default.memo(HeaderContentComponent);exports.HeaderContent=HeaderContent},8787:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SortIndicator=exports.getDirection=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _types=__webpack_require__(671);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SortDirectionIndicatorEnum;(function(SortDirectionIndicatorEnum){SortDirectionIndicatorEnum["SORT_UP"]="sortUp";SortDirectionIndicatorEnum["SORT_DOWN"]="sortDown"})(SortDirectionIndicatorEnum||(SortDirectionIndicatorEnum={}));var getDirection=function getDirection(sortDirection){switch(sortDirection){case _types.Direction.asc:return SortDirectionIndicatorEnum.SORT_UP;case _types.Direction.desc:return SortDirectionIndicatorEnum.SORT_DOWN;case"none":return undefined;default:throw new Error("Unhandled sort direction")}};exports.getDirection=getDirection;var SortIndicator=_react.default.memo((function(_ref){var sortDirection=_ref.sortDirection;return _react.default.createElement(_eui.EuiIcon,{"data-test-subj":"sortIndicator",type:getDirection(sortDirection)||"empty"})}));exports.SortIndicator=SortIndicator;SortIndicator.displayName="SortIndicator"},8788:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HeaderToolTipContent=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _helpers=__webpack_require__(7156);var i18n=_interopRequireWildcard(__webpack_require__(7639));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var IconType=(0,_styledComponents.default)(_eui.EuiIcon).withConfig({displayName:"IconType",componentId:"sc-1mrqkae-0"})(["margin-right:3px;position:relative;top:-2px;"]);IconType.displayName="IconType";var P=_styledComponents.default.p.withConfig({displayName:"P",componentId:"sc-1mrqkae-1"})(["margin-bottom:5px;"]);P.displayName="P";var ToolTipTableMetadata=_styledComponents.default.span.withConfig({displayName:"ToolTipTableMetadata",componentId:"sc-1mrqkae-2"})(["margin-right:5px;"]);ToolTipTableMetadata.displayName="ToolTipTableMetadata";var ToolTipTableValue=_styledComponents.default.span.withConfig({displayName:"ToolTipTableValue",componentId:"sc-1mrqkae-3"})(["word-wrap:break-word;"]);ToolTipTableValue.displayName="ToolTipTableValue";var HeaderToolTipContent=_react.default.memo((function(_ref){var header=_ref.header;return _react.default.createElement(_react.default.Fragment,null,!(0,_fp.isEmpty)(header.category)&&_react.default.createElement(P,null,_react.default.createElement(ToolTipTableMetadata,{"data-test-subj":"category"},i18n.CATEGORY,":"),_react.default.createElement(ToolTipTableValue,{"data-test-subj":"category-value"},header.category)),_react.default.createElement(P,null,_react.default.createElement(ToolTipTableMetadata,{"data-test-subj":"field"},i18n.FIELD,":"),_react.default.createElement(ToolTipTableValue,{"data-test-subj":"field-value"},header.id)),_react.default.createElement(P,null,_react.default.createElement(ToolTipTableMetadata,{"data-test-subj":"type"},i18n.TYPE,":"),_react.default.createElement(ToolTipTableValue,null,_react.default.createElement(IconType,{"data-test-subj":"type-icon",type:(0,_helpers.getIconFromType)(header.type)}),_react.default.createElement("span",{"data-test-subj":"type-value"},header.type))),!(0,_fp.isEmpty)(header.description)&&_react.default.createElement(P,null,_react.default.createElement(ToolTipTableMetadata,{"data-test-subj":"description"},i18n.DESCRIPTION,":"),_react.default.createElement(ToolTipTableValue,{"data-test-subj":"description-value"},header.description)))}));exports.HeaderToolTipContent=HeaderToolTipContent;HeaderToolTipContent.displayName="HeaderToolTipContent"},8789:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Events=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _scheduler=__webpack_require__(7641);var _styles=__webpack_require__(7058);var _stateful_event=__webpack_require__(8790);var _helpers=__webpack_require__(7135);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EventsComponent=function EventsComponent(_ref){var actionsColumnWidth=_ref.actionsColumnWidth,addNoteToEvent=_ref.addNoteToEvent,browserFields=_ref.browserFields,columnHeaders=_ref.columnHeaders,columnRenderers=_ref.columnRenderers,containerElementRef=_ref.containerElementRef,data=_ref.data,eventIdToNoteIds=_ref.eventIdToNoteIds,getNotesByIds=_ref.getNotesByIds,id=_ref.id,_ref$isEventViewer=_ref.isEventViewer,isEventViewer=_ref$isEventViewer===void 0?false:_ref$isEventViewer,loadingEventIds=_ref.loadingEventIds,onColumnResized=_ref.onColumnResized,onPinEvent=_ref.onPinEvent,onRowSelected=_ref.onRowSelected,onUpdateColumns=_ref.onUpdateColumns,onUnPinEvent=_ref.onUnPinEvent,pinnedEventIds=_ref.pinnedEventIds,rowRenderers=_ref.rowRenderers,selectedEventIds=_ref.selectedEventIds,showCheckboxes=_ref.showCheckboxes,toggleColumn=_ref.toggleColumn,updateNote=_ref.updateNote;return _react.default.createElement(_styles.EventsTbody,{"data-test-subj":"events"},data.map((function(event,i){return _react.default.createElement(_stateful_event.StatefulEvent,{containerElementRef:containerElementRef,actionsColumnWidth:actionsColumnWidth,addNoteToEvent:addNoteToEvent,browserFields:browserFields,columnHeaders:columnHeaders,columnRenderers:columnRenderers,event:event,eventIdToNoteIds:eventIdToNoteIds,getNotesByIds:getNotesByIds,isEventPinned:(0,_helpers.eventIsPinned)({eventId:event._id,pinnedEventIds:pinnedEventIds}),isEventViewer:isEventViewer,key:event._id,loadingEventIds:loadingEventIds,maxDelay:(0,_scheduler.maxDelay)(i),onColumnResized:onColumnResized,onPinEvent:onPinEvent,onRowSelected:onRowSelected,onUnPinEvent:onUnPinEvent,onUpdateColumns:onUpdateColumns,rowRenderers:rowRenderers,selectedEventIds:selectedEventIds,showCheckboxes:showCheckboxes,timelineId:id,toggleColumn:toggleColumn,updateNote:updateNote})})))};var Events=_react.default.memo(EventsComponent);exports.Events=Events},8790:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatefulEvent=exports.getNewNoteId=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _uuid=_interopRequireDefault(__webpack_require__(86));var _reactVisibilitySensor=_interopRequireDefault(__webpack_require__(9262));var _details=__webpack_require__(8792);var _scheduler=__webpack_require__(7641);var _skeleton_row=__webpack_require__(8794);var _expandable_event=__webpack_require__(8795);var _helpers=__webpack_require__(7108);var _styles=__webpack_require__(7058);var _timeline_context=__webpack_require__(7033);var _get_row_renderer=__webpack_require__(8808);var _helpers2=__webpack_require__(7135);var _stateful_event_child=__webpack_require__(8809);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var getNewNoteId=function getNewNoteId(){return _uuid.default.v4()};exports.getNewNoteId=getNewNoteId;var emptyDetails=[];var DEFAULT_ROW_HEIGHT="32px";var TOP_OFFSET=50;var BOTTOM_OFFSET=-500;var AttributesComponent=function AttributesComponent(_ref){var children=_ref.children;var width=(0,_timeline_context.useTimelineWidthContext)();return _react.default.createElement(_styles.EventsTrSupplement,{className:"siemEventsTable__trSupplement--attributes","data-test-subj":"event-details",style:{width:"".concat(width-_styles.OFFSET_SCROLLBAR,"px")}},children)};var Attributes=_react.default.memo(AttributesComponent);var StatefulEventComponent=function StatefulEventComponent(_ref2){var actionsColumnWidth=_ref2.actionsColumnWidth,addNoteToEvent=_ref2.addNoteToEvent,browserFields=_ref2.browserFields,containerElementRef=_ref2.containerElementRef,columnHeaders=_ref2.columnHeaders,columnRenderers=_ref2.columnRenderers,event=_ref2.event,eventIdToNoteIds=_ref2.eventIdToNoteIds,getNotesByIds=_ref2.getNotesByIds,_ref2$isEventViewer=_ref2.isEventViewer,isEventViewer=_ref2$isEventViewer===void 0?false:_ref2$isEventViewer,_ref2$isEventPinned=_ref2.isEventPinned,isEventPinned=_ref2$isEventPinned===void 0?false:_ref2$isEventPinned,loadingEventIds=_ref2.loadingEventIds,_ref2$maxDelay=_ref2.maxDelay,maxDelay=_ref2$maxDelay===void 0?0:_ref2$maxDelay,onColumnResized=_ref2.onColumnResized,onPinEvent=_ref2.onPinEvent,onRowSelected=_ref2.onRowSelected,onUnPinEvent=_ref2.onUnPinEvent,onUpdateColumns=_ref2.onUpdateColumns,rowRenderers=_ref2.rowRenderers,selectedEventIds=_ref2.selectedEventIds,showCheckboxes=_ref2.showCheckboxes,timelineId=_ref2.timelineId,toggleColumn=_ref2.toggleColumn,updateNote=_ref2.updateNote;var _useState=(0,_react.useState)({}),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),initialRender=_useState4[0],setInitialRender=_useState4[1];var _useState5=(0,_react.useState)({}),_useState6=_slicedToArray(_useState5,2),showNotes=_useState6[0],setShowNotes=_useState6[1];var divElement=(0,_react.useRef)(null);var onToggleShowNotes=(0,_react.useCallback)((function(){var eventId=event._id;setShowNotes(_objectSpread({},showNotes,_defineProperty({},eventId,!showNotes[eventId])))}),[event,showNotes]);var onToggleExpanded=(0,_react.useCallback)((function(){var eventId=event._id;setExpanded(_objectSpread({},expanded,_defineProperty({},eventId,!expanded[eventId])))}),[event,expanded]);var associateNote=(0,_react.useCallback)((function(noteId){addNoteToEvent({eventId:event._id,noteId:noteId});if(!isEventPinned){onPinEvent(event._id)}}),[addNoteToEvent,event,isEventPinned,onPinEvent]);(0,_react.useEffect)((function(){var _isMounted=true;(0,_scheduler.requestIdleCallbackViaScheduler)((function(){if(!initialRender&&_isMounted){setInitialRender(true)}}),{timeout:maxDelay});return function(){_isMounted=false}}),[]);var columnCount=columnHeaders.length+1;if(!initialRender){return _react.default.createElement(_skeleton_row.SkeletonRow,{cellCount:columnCount})}return _react.default.createElement(_reactVisibilitySensor.default,{partialVisibility:true,scrollCheck:true,containment:containerElementRef,offset:{top:TOP_OFFSET,bottom:BOTTOM_OFFSET}},(function(_ref3){var isVisible=_ref3.isVisible;if(isVisible){return _react.default.createElement(_details.TimelineDetailsQuery,{sourceId:"default",indexName:event._index,eventId:event._id,executeQuery:!!expanded[event._id]},(function(_ref4){var detailsData=_ref4.detailsData,loading=_ref4.loading;return _react.default.createElement(_styles.EventsTrGroup,{className:_helpers.STATEFUL_EVENT_CSS_CLASS_NAME,"data-test-subj":"event",eventType:(0,_helpers2.getEventType)(event.ecs),showLeftBorder:!isEventViewer,ref:function ref(c){if(c!=null){divElement.current=c}}},(0,_get_row_renderer.getRowRenderer)(event.ecs,rowRenderers).renderRow({browserFields:browserFields,data:event.ecs,children:_react.default.createElement(_stateful_event_child.StatefulEventChild,{actionsColumnWidth:actionsColumnWidth,addNoteToEvent:addNoteToEvent,associateNote:associateNote,columnHeaders:columnHeaders,columnRenderers:columnRenderers,data:event.data,ecsData:event.ecs,eventIdToNoteIds:eventIdToNoteIds,expanded:!!expanded[event._id],getNotesByIds:getNotesByIds,id:event._id,isEventPinned:isEventPinned,isEventViewer:isEventViewer,loading:loading,loadingEventIds:loadingEventIds,onColumnResized:onColumnResized,onPinEvent:onPinEvent,onRowSelected:onRowSelected,onToggleExpanded:onToggleExpanded,onToggleShowNotes:onToggleShowNotes,onUnPinEvent:onUnPinEvent,selectedEventIds:selectedEventIds,showCheckboxes:showCheckboxes,showNotes:!!showNotes[event._id],timelineId:timelineId,updateNote:updateNote}),timelineId:timelineId}),_react.default.createElement(Attributes,null,_react.default.createElement(_expandable_event.ExpandableEvent,{browserFields:browserFields,columnHeaders:columnHeaders,event:detailsData||emptyDetails,forceExpand:!!expanded[event._id]&&!loading,id:event._id,onUpdateColumns:onUpdateColumns,timelineId:timelineId,toggleColumn:toggleColumn})))}))}else{var height=divElement.current!=null&&divElement.current.clientHeight?"".concat(divElement.current.clientHeight,"px"):DEFAULT_ROW_HEIGHT;return _react.default.createElement(_skeleton_row.SkeletonRow,{cellCount:columnCount,style:{height:height}})}}))};var StatefulEvent=_react.default.memo(StatefulEventComponent);exports.StatefulEvent=StatefulEvent},8792:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimelineDetailsQuery=void 0;var _fp=__webpack_require__(223);var _memoizeOne=_interopRequireDefault(__webpack_require__(1889));var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _constants=__webpack_require__(977);var _kibana=__webpack_require__(7013);var _index=__webpack_require__(8793);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getDetailsEvent=(0,_memoizeOne.default)((function(variables,detail){return detail}));var TimelineDetailsQueryComponent=function TimelineDetailsQueryComponent(_ref){var children=_ref.children,indexName=_ref.indexName,eventId=_ref.eventId,executeQuery=_ref.executeQuery,sourceId=_ref.sourceId;var variables={sourceId:sourceId,indexName:indexName,eventId:eventId,defaultIndex:(0,_kibana.useUiSetting)(_constants.DEFAULT_INDEX_KEY)};return executeQuery?_react.default.createElement(_reactApollo.Query,{query:_index.timelineDetailsQuery,fetchPolicy:"network-only",notifyOnNetworkStatusChange:true,variables:variables},(function(_ref2){var data=_ref2.data,loading=_ref2.loading,refetch=_ref2.refetch;return children({loading:loading,detailsData:getDetailsEvent(JSON.stringify(variables),(0,_fp.getOr)([],"source.TimelineDetails.data",data))})})):children({loading:false,detailsData:null})};var TimelineDetailsQuery=_react.default.memo(TimelineDetailsQueryComponent);exports.TimelineDetailsQuery=TimelineDetailsQuery},8793:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.timelineDetailsQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetTimelineDetailsQuery(\n    $sourceId: ID!\n    $eventId: String!\n    $indexName: String!\n    $defaultIndex: [String!]!\n  ) {\n    source(id: $sourceId) {\n      id\n      TimelineDetails(eventId: $eventId, indexName: $indexName, defaultIndex: $defaultIndex) {\n        data {\n          field\n          values\n          originalValue\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var timelineDetailsQuery=(0,_graphqlTag.default)(_templateObject());exports.timelineDetailsQuery=timelineDetailsQuery},8794:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SkeletonRow=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var RowComponent=_styledComponents.default.div.attrs((function(_ref){var rowHeight=_ref.rowHeight,rowPadding=_ref.rowPadding,theme=_ref.theme;return{className:"siemSkeletonRow",rowHeight:rowHeight||theme.eui.euiSizeXL,rowPadding:rowPadding||"".concat(theme.eui.paddingSizes.s," ").concat(theme.eui.paddingSizes.xs)}})).withConfig({displayName:"RowComponent",componentId:"d6u3rc-0"})(["border-bottom:",";display:flex;height:",";padding:",";"],(function(_ref2){var theme=_ref2.theme;return theme.eui.euiBorderThin}),(function(_ref3){var rowHeight=_ref3.rowHeight;return rowHeight}),(function(_ref4){var rowPadding=_ref4.rowPadding;return rowPadding}));RowComponent.displayName="RowComponent";var Row=_react.default.memo(RowComponent);Row.displayName="Row";var CellComponent=_styledComponents.default.div.attrs((function(_ref5){var cellColor=_ref5.cellColor,cellMargin=_ref5.cellMargin,theme=_ref5.theme;return{className:"siemSkeletonRow__cell",cellColor:cellColor||theme.eui.euiColorLightestShade,cellMargin:cellMargin||theme.eui.gutterTypes.gutterSmall}})).withConfig({displayName:"CellComponent",componentId:"d6u3rc-1"})(["background-color:",";border-radius:2px;flex:1;& + &{margin-left:",";}"],(function(_ref6){var cellColor=_ref6.cellColor;return cellColor}),(function(_ref7){var cellMargin=_ref7.cellMargin;return cellMargin}));CellComponent.displayName="CellComponent";var Cell=_react.default.memo(CellComponent);Cell.displayName="Cell";var SkeletonRow=_react.default.memo((function(_ref8){var cellColor=_ref8.cellColor,_ref8$cellCount=_ref8.cellCount,cellCount=_ref8$cellCount===void 0?4:_ref8$cellCount,cellMargin=_ref8.cellMargin,rowHeight=_ref8.rowHeight,rowPadding=_ref8.rowPadding,style=_ref8.style;var cells=(0,_react.useMemo)((function(){return _toConsumableArray(Array(cellCount)).map((function(_,i){return _react.default.createElement(Cell,{cellColor:cellColor,cellMargin:cellMargin,key:i})}),[cellCount])}),[cellCount,cellColor,cellMargin]);return _react.default.createElement(Row,{rowHeight:rowHeight,rowPadding:rowPadding,style:style},cells)}));exports.SkeletonRow=SkeletonRow;SkeletonRow.displayName="SkeletonRow"},8795:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExpandableEvent=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _stateful_event_details=__webpack_require__(8796);var _lazy_accordion=__webpack_require__(8807);var _timeline_context=__webpack_require__(7033);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ExpandableDetails=_styledComponents.default.div.withConfig({displayName:"ExpandableDetails",componentId:"sc-1x0up5l-0"})(["",";"],(function(_ref){var hideExpandButton=_ref.hideExpandButton;return hideExpandButton?"\n  .euiAccordion__button {\n    display: none;\n  }\n  ":""}));ExpandableDetails.displayName="ExpandableDetails";var ExpandableEvent=_react.default.memo((function(_ref2){var browserFields=_ref2.browserFields,columnHeaders=_ref2.columnHeaders,event=_ref2.event,_ref2$forceExpand=_ref2.forceExpand,forceExpand=_ref2$forceExpand===void 0?false:_ref2$forceExpand,id=_ref2.id,timelineId=_ref2.timelineId,toggleColumn=_ref2.toggleColumn,onUpdateColumns=_ref2.onUpdateColumns;var width=(0,_timeline_context.useTimelineWidthContext)();return _react.default.createElement(ExpandableDetails,{hideExpandButton:true},_react.default.createElement(_lazy_accordion.LazyAccordion,{style:{width:"".concat(width,"px")},id:"timeline-".concat(timelineId,"-row-").concat(id),renderExpandedContent:function renderExpandedContent(){return _react.default.createElement(_stateful_event_details.StatefulEventDetails,{browserFields:browserFields,columnHeaders:columnHeaders,data:event,id:id,onUpdateColumns:onUpdateColumns,timelineId:timelineId,toggleColumn:toggleColumn})},forceExpand:forceExpand,paddingSize:"none"}))}));exports.ExpandableEvent=ExpandableEvent;ExpandableEvent.displayName="ExpandableEvent"},8796:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatefulEventDetails=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _event_details=__webpack_require__(8797);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var StatefulEventDetails=_react.default.memo((function(_ref){var browserFields=_ref.browserFields,columnHeaders=_ref.columnHeaders,data=_ref.data,id=_ref.id,onUpdateColumns=_ref.onUpdateColumns,timelineId=_ref.timelineId,toggleColumn=_ref.toggleColumn;var _useState=(0,_react.useState)("table-view"),_useState2=_slicedToArray(_useState,2),view=_useState2[0],setView=_useState2[1];var handleSetView=(0,_react.useCallback)((function(newView){return setView(newView)}),[]);return _react.default.createElement(_event_details.EventDetails,{browserFields:browserFields,columnHeaders:columnHeaders,data:data,id:id,onUpdateColumns:onUpdateColumns,onViewSelected:handleSetView,timelineId:timelineId,toggleColumn:toggleColumn,view:view})}));exports.StatefulEventDetails=StatefulEventDetails;StatefulEventDetails.displayName="StatefulEventDetails"},8797:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventDetails=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _event_fields_browser=__webpack_require__(8798);var _json_view=__webpack_require__(8806);var i18n=_interopRequireWildcard(__webpack_require__(7333));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Details=_styledComponents.default.div.withConfig({displayName:"Details",componentId:"sc-19h2nku-0"})(["user-select:none;"]);Details.displayName="Details";var EventDetails=_react.default.memo((function(_ref){var browserFields=_ref.browserFields,columnHeaders=_ref.columnHeaders,data=_ref.data,id=_ref.id,view=_ref.view,onUpdateColumns=_ref.onUpdateColumns,onViewSelected=_ref.onViewSelected,timelineId=_ref.timelineId,toggleColumn=_ref.toggleColumn;var tabs=[{id:"table-view",name:i18n.TABLE,content:_react.default.createElement(_event_fields_browser.EventFieldsBrowser,{browserFields:browserFields,columnHeaders:columnHeaders,data:data,eventId:id,onUpdateColumns:onUpdateColumns,timelineId:timelineId,toggleColumn:toggleColumn})},{id:"json-view",name:i18n.JSON_VIEW,content:_react.default.createElement(_json_view.JsonView,{data:data})}];return _react.default.createElement(Details,{"data-test-subj":"eventDetails"},_react.default.createElement(_eui.EuiTabbedContent,{tabs:tabs,selectedTab:view==="table-view"?tabs[0]:tabs[1],onTabClick:function onTabClick(e){return onViewSelected(e.id)}}))}));exports.EventDetails=EventDetails;EventDetails.displayName="EventDetails"},8798:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventFieldsBrowser=void 0;var _lodash=__webpack_require__(7562);var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _source=__webpack_require__(7042);var _columns=__webpack_require__(8799);var _helpers=__webpack_require__(7156);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EventFieldsBrowser=_react.default.memo((function(_ref){var browserFields=_ref.browserFields,columnHeaders=_ref.columnHeaders,data=_ref.data,eventId=_ref.eventId,onUpdateColumns=_ref.onUpdateColumns,timelineId=_ref.timelineId,toggleColumn=_ref.toggleColumn;var fieldsByName=(0,_react.useMemo)((function(){return(0,_source.getAllFieldsByName)(browserFields)}),[browserFields]);var items=(0,_react.useMemo)((function(){return(0,_lodash.sortBy)(data,["field"]).map((function(item){return _objectSpread({},item,{},fieldsByName[item.field],{valuesConcatenated:item.values!=null?item.values.join():""})}))}),[data,fieldsByName]);var columns=(0,_react.useMemo)((function(){return(0,_columns.getColumns)({browserFields:browserFields,columnHeaders:columnHeaders,eventId:eventId,onUpdateColumns:onUpdateColumns,contextId:timelineId,toggleColumn:toggleColumn})}),[browserFields,columnHeaders,eventId,onUpdateColumns,timelineId,toggleColumn]);return _react.default.createElement("div",{className:"euiTable--compressed"},_react.default.createElement(_eui.EuiInMemoryTable,{items:items,columns:columns,pagination:false,search:_helpers.search,sorting:true}))}));exports.EventFieldsBrowser=EventFieldsBrowser;EventFieldsBrowser.displayName="EventFieldsBrowser"},8799:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getColumns=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _reactBeautifulDnd=__webpack_require__(7089);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _with_copy_to_clipboard=__webpack_require__(7310);var _draggable_wrapper=__webpack_require__(7032);var _droppable_wrapper=__webpack_require__(7198);var _helpers=__webpack_require__(7021);var _field_badge=__webpack_require__(7334);var _field_name=__webpack_require__(7634);var _selectable_text=__webpack_require__(7633);var _helpers2=__webpack_require__(7065);var _default_headers=__webpack_require__(7038);var _constants=__webpack_require__(7047);var _constants2=__webpack_require__(7642);var _formatted_field=__webpack_require__(7338);var _with_hover_actions=__webpack_require__(7128);var _helpers3=__webpack_require__(7156);var i18n=_interopRequireWildcard(__webpack_require__(7333));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var HoverActionsContainer=(0,_styledComponents.default)(_eui.EuiPanel).withConfig({displayName:"HoverActionsContainer",componentId:"sc-17m2rvl-0"})(["align-items:center;display:flex;flex-direction:row;height:25px;justify-content:center;left:5px;position:absolute;top:-10px;width:30px;"]);HoverActionsContainer.displayName="HoverActionsContainer";var getColumns=function getColumns(_ref){var browserFields=_ref.browserFields,columnHeaders=_ref.columnHeaders,eventId=_ref.eventId,onUpdateColumns=_ref.onUpdateColumns,contextId=_ref.contextId,toggleColumn=_ref.toggleColumn;return[{field:"field",name:"",sortable:false,truncateText:false,width:"30px",render:function render(field){return _react.default.createElement(_eui.EuiToolTip,{content:i18n.TOGGLE_COLUMN_TOOLTIP},_react.default.createElement(_eui.EuiCheckbox,{checked:columnHeaders.findIndex((function(c){return c.id===field}))!==-1,"data-test-subj":"toggle-field-".concat(field),id:field,onChange:function onChange(){return toggleColumn({columnHeaderType:_default_headers.defaultColumnHeaderType,id:field,width:_constants.DEFAULT_COLUMN_MIN_WIDTH})}}))}},{field:"field",name:i18n.FIELD,sortable:true,truncateText:false,render:function render(field,data){return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{content:data.type},_react.default.createElement(_eui.EuiIcon,{"data-test-subj":"field-type-icon",type:(0,_helpers3.getIconFromType)(data.type)}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_droppable_wrapper.DroppableWrapper,{droppableId:(0,_helpers.getDroppableId)("event-details-field-droppable-wrapper-".concat(contextId,"-").concat(eventId,"-").concat(data.category,"-").concat(field)),key:(0,_helpers.getDroppableId)("event-details-field-droppable-wrapper-".concat(contextId,"-").concat(eventId,"-").concat(data.category,"-").concat(field)),isDropDisabled:true,type:_helpers.DRAG_TYPE_FIELD},_react.default.createElement(_reactBeautifulDnd.Draggable,{draggableId:(0,_helpers.getDraggableFieldId)({contextId:"event-details-field-draggable-".concat(contextId,"-").concat(eventId,"-").concat(data.category,"-").concat(field),fieldId:field}),index:0,type:_helpers.DRAG_TYPE_FIELD},(function(provided,snapshot){return _react.default.createElement("div",_extends({},provided.draggableProps,provided.dragHandleProps,{ref:provided.innerRef}),!snapshot.isDragging?_react.default.createElement(_field_name.FieldName,{categoryId:data.category,categoryColumns:(0,_helpers3.getColumnsWithTimestamp)({browserFields:browserFields,category:data.category}),"data-test-subj":"field-name",fieldId:field,onUpdateColumns:onUpdateColumns}):_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_field_badge.DraggableFieldBadge,{fieldId:field})))})))))}},{field:"values",name:i18n.VALUE,sortable:true,truncateText:false,render:function render(values,data){return _react.default.createElement(_eui.EuiFlexGroup,{direction:"column",alignItems:"flexStart",component:"span",gutterSize:"none"},values!=null&&values.map((function(value,i){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,component:"span",key:"event-details-value-flex-item-".concat(contextId,"-").concat(eventId,"-").concat(data.field,"-").concat(i,"-").concat(value)},_react.default.createElement(_with_hover_actions.WithHoverActions,{hoverContent:_react.default.createElement(HoverActionsContainer,{"data-test-subj":"hover-actions-container"},_react.default.createElement(_eui.EuiToolTip,{content:i18n.COPY_TO_CLIPBOARD},_react.default.createElement(_with_copy_to_clipboard.WithCopyToClipboard,{text:value,titleSummary:i18n.VALUE.toLowerCase()}))),render:function render(){return data.field===_constants2.MESSAGE_FIELD_NAME?_react.default.createElement(_helpers2.OverflowField,{value:value}):_react.default.createElement(_formatted_field.FormattedFieldValue,{contextId:"event-details-value-formatted-field-value-".concat(contextId,"-").concat(eventId,"-").concat(data.field,"-").concat(i,"-").concat(value),eventId:eventId,fieldFormat:data.format,fieldName:data.field,fieldType:data.type,value:value})}}))})))}},{field:"description",name:i18n.DESCRIPTION,render:function render(description,data){return _react.default.createElement(_selectable_text.SelectableText,null,_react.default.createElement(_eui.EuiText,{size:"xs"},"".concat(description||""," ").concat((0,_helpers3.getExampleText)(data.example))))},sortable:true,truncateText:true,width:"50%"},{field:"valuesConcatenated",name:i18n.BLANK,render:function render(){return null},sortable:false,truncateText:true,width:"1px"}]};exports.getColumns=getColumns},8800:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Bytes=exports.BYTES_FORMAT=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _formatted_bytes=__webpack_require__(7133);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var BYTES_FORMAT="bytes";exports.BYTES_FORMAT=BYTES_FORMAT;var Bytes=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,fieldName=_ref.fieldName,value=_ref.value;return _react.default.createElement(_draggables.DefaultDraggable,{id:"bytes-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(fieldName,"-").concat(value),name:name,field:fieldName,tooltipContent:null,value:value},_react.default.createElement(_formatted_bytes.PreferenceFormattedBytes,{value:"".concat(value)}))}));exports.Bytes=Bytes;Bytes.displayName="Bytes"},8801:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ZERO_NANOSECONDS=exports.A_SECOND=exports.A_FEW_MILLISECONDS=exports.A_MILLISECOND=exports.A_FEW_NANOSECONDS=exports.A_NANOSECOND=exports.INVALID_DURATION=exports.NO_DURATION=void 0;var _i18n=__webpack_require__(2);var NO_DURATION=_i18n.i18n.translate("xpack.siem.formatted.duration.noDurationTooltip",{defaultMessage:"no duration"});exports.NO_DURATION=NO_DURATION;var INVALID_DURATION=_i18n.i18n.translate("xpack.siem.formatted.duration.invalidDurationTooltip",{defaultMessage:"invalid duration"});exports.INVALID_DURATION=INVALID_DURATION;var A_NANOSECOND=_i18n.i18n.translate("xpack.siem.formatted.duration.aNanosecondTooltip",{defaultMessage:"a nanosecond"});exports.A_NANOSECOND=A_NANOSECOND;var A_FEW_NANOSECONDS=_i18n.i18n.translate("xpack.siem.formatted.duration.aFewNanosecondsTooltip",{defaultMessage:"a few nanoseconds"});exports.A_FEW_NANOSECONDS=A_FEW_NANOSECONDS;var A_MILLISECOND=_i18n.i18n.translate("xpack.siem.formatted.duration.aMillisecondTooltip",{defaultMessage:"a millisecond"});exports.A_MILLISECOND=A_MILLISECOND;var A_FEW_MILLISECONDS=_i18n.i18n.translate("xpack.siem.formatted.duration.aFewMillisecondsTooltip",{defaultMessage:"a few milliseconds"});exports.A_FEW_MILLISECONDS=A_FEW_MILLISECONDS;var A_SECOND=_i18n.i18n.translate("xpack.siem.formatted.duration.aSecondTooltip",{defaultMessage:"a second"});exports.A_SECOND=A_SECOND;var ZERO_NANOSECONDS=_i18n.i18n.translate("xpack.siem.formatted.duration.zeroNanosecondsTooltip",{defaultMessage:"zero nanoseconds"});exports.ZERO_NANOSECONDS=ZERO_NANOSECONDS},8802:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormattedDurationTooltip=exports.FormattedDurationTooltipContent=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(4);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _helpers=__webpack_require__(7644);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var P=_styledComponents.default.p.withConfig({displayName:"P",componentId:"sc-15dlwg0-0"})(["margin-bottom:5px;"]);P.displayName="P";var FormattedDurationTooltipContent=_react.default.memo((function(_ref){var maybeDurationNanoseconds=_ref.maybeDurationNanoseconds,tooltipTitle=_ref.tooltipTitle;return _react.default.createElement(_react.default.Fragment,null,tooltipTitle!=null?_react.default.createElement(P,{"data-test-subj":"title"},tooltipTitle):null,_react.default.createElement(P,{"data-test-subj":"humanized"},(0,_helpers.getHumanizedDuration)(maybeDurationNanoseconds)),_react.default.createElement(P,{"data-test-subj":"raw-value"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.siem.formattedDuration.tooltipLabel",defaultMessage:"raw"}),": ",maybeDurationNanoseconds))}));exports.FormattedDurationTooltipContent=FormattedDurationTooltipContent;FormattedDurationTooltipContent.displayName="FormattedDurationTooltipContent";var FormattedDurationTooltip=_react.default.memo((function(_ref2){var children=_ref2.children,maybeDurationNanoseconds=_ref2.maybeDurationNanoseconds,tooltipTitle=_ref2.tooltipTitle;return _react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"formatted-duration-tooltip",content:_react.default.createElement(FormattedDurationTooltipContent,{maybeDurationNanoseconds:maybeDurationNanoseconds,tooltipTitle:tooltipTitle})},_react.default.createElement(_react.default.Fragment,null,children))}));exports.FormattedDurationTooltip=FormattedDurationTooltip;FormattedDurationTooltip.displayName="FormattedDurationTooltip"},8803:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.FormattedIp=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _draggable_wrapper=__webpack_require__(7032);var _helpers=__webpack_require__(7021);var _empty_value=__webpack_require__(7017);var _links=__webpack_require__(7034);var _parse_query_value=__webpack_require__(7645);var _data_provider=__webpack_require__(7024);var _provider=__webpack_require__(7051);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}var getUniqueId=function getUniqueId(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,fieldName=_ref.fieldName,address=_ref.address;return"formatted-ip-data-provider-".concat(contextId,"-").concat(fieldName,"-").concat(address,"-").concat(eventId)};var tryStringify=function tryStringify(value){try{return JSON.stringify(value)}catch(_){return"".concat(value)}};var getDataProvider=function getDataProvider(_ref2){var contextId=_ref2.contextId,eventId=_ref2.eventId,fieldName=_ref2.fieldName,address=_ref2.address;return{enabled:true,id:(0,_helpers.escapeDataProviderId)(getUniqueId({contextId:contextId,eventId:eventId,fieldName:fieldName,address:address})),name:"".concat(fieldName,": ").concat((0,_parse_query_value.parseQueryValue)(address)),queryMatch:{field:fieldName,value:(0,_parse_query_value.parseQueryValue)(address),operator:_data_provider.IS_OPERATOR},excluded:false,kqlQuery:"",and:[]}};var NonDecoratedIpComponent=function NonDecoratedIpComponent(_ref3){var contextId=_ref3.contextId,eventId=_ref3.eventId,fieldName=_ref3.fieldName,truncate=_ref3.truncate,value=_ref3.value;return _react.default.createElement(_draggable_wrapper.DraggableWrapper,{dataProvider:getDataProvider({contextId:contextId,eventId:eventId,fieldName:fieldName,address:value}),key:"non-decorated-ip-draggable-wrapper-".concat(getUniqueId({contextId:contextId,eventId:eventId,fieldName:fieldName,address:value})),render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:dataProvider})):_typeof(value)!=="object"?(0,_empty_value.getOrEmptyTagFromValue)(value):(0,_empty_value.getOrEmptyTagFromValue)(tryStringify(value))},truncate:truncate})};var NonDecoratedIp=_react.default.memo(NonDecoratedIpComponent);var AddressLinksComponent=function AddressLinksComponent(_ref4){var addresses=_ref4.addresses,contextId=_ref4.contextId,eventId=_ref4.eventId,fieldName=_ref4.fieldName,truncate=_ref4.truncate;return _react.default.createElement(_react.default.Fragment,null,(0,_fp.uniq)(addresses).map((function(address){return _react.default.createElement(_draggable_wrapper.DraggableWrapper,{dataProvider:getDataProvider({contextId:contextId,eventId:eventId,fieldName:fieldName,address:address}),key:"address-links-draggable-wrapper-".concat(getUniqueId({contextId:contextId,eventId:eventId,fieldName:fieldName,address:address})),render:function render(_,__,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:getDataProvider({contextId:contextId,eventId:eventId,fieldName:fieldName,address:address})})):_react.default.createElement(_links.IPDetailsLink,{"data-test-sub":"ip-details",ip:address})},truncate:truncate})})))};var AddressLinks=_react.default.memo(AddressLinksComponent);var FormattedIpComponent=function FormattedIpComponent(_ref5){var contextId=_ref5.contextId,eventId=_ref5.eventId,fieldName=_ref5.fieldName,truncate=_ref5.truncate,value=_ref5.value;if((0,_fp.isString)(value)&&!(0,_fp.isEmpty)(value)){try{var addresses=JSON.parse(value);if((0,_fp.isArray)(addresses)){return _react.default.createElement(AddressLinks,{addresses:addresses,contextId:contextId,eventId:eventId,fieldName:fieldName,truncate:truncate})}}catch(_){}return _react.default.createElement(AddressLinks,{addresses:[value],contextId:contextId,eventId:eventId,fieldName:fieldName,truncate:truncate})}else{return _react.default.createElement(NonDecoratedIp,{contextId:contextId,eventId:eventId,fieldName:fieldName,truncate:truncate,value:value})}};var FormattedIp=_react.default.memo(FormattedIpComponent);exports.FormattedIp=FormattedIp},8804:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.renderRulReference=exports.renderEventModule=exports.renderRuleName=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _empty_value=__webpack_require__(7017);var _redirect_to_detection_engine=__webpack_require__(7043);var _truncatable_text=__webpack_require__(7131);var _helpers=__webpack_require__(7339);var _color=_interopRequireDefault(__webpack_require__(8805));var i18n=_interopRequireWildcard(__webpack_require__(7158));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var renderRuleName=function renderRuleName(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,fieldName=_ref.fieldName,linkValue=_ref.linkValue,truncate=_ref.truncate,value=_ref.value;var ruleName="".concat(value);var ruleId=linkValue;var content=truncate?_react.default.createElement(_truncatable_text.TruncatableText,null,value):value;return(0,_fp.isString)(value)&&ruleName.length>0&&ruleId!=null?_react.default.createElement(_draggables.DefaultDraggable,{field:fieldName,id:"event-details-value-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(fieldName,"-").concat(value,"-").concat(ruleId),tooltipContent:value,value:value},_react.default.createElement(_eui.EuiLink,{href:(0,_redirect_to_detection_engine.getRuleDetailsUrl)(ruleId)},content)):(0,_empty_value.getEmptyTagValue)()};exports.renderRuleName=renderRuleName;var canYouAddEndpointLogo=function canYouAddEndpointLogo(moduleName,endpointUrl){return moduleName.trim().toLocaleLowerCase()==="endgame"&&endpointUrl!=null&&!(0,_fp.isEmpty)(endpointUrl)&&!(0,_helpers.isUrlInvalid)(endpointUrl)&&endpointUrl.includes("/alerts/")};var renderEventModule=function renderEventModule(_ref2){var contextId=_ref2.contextId,eventId=_ref2.eventId,fieldName=_ref2.fieldName,linkValue=_ref2.linkValue,truncate=_ref2.truncate,value=_ref2.value;var moduleName="".concat(value);var endpointRefUrl=linkValue;var content=truncate?_react.default.createElement(_truncatable_text.TruncatableText,null,value):value;return(0,_fp.isString)(value)&&moduleName.length>0?_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",alignItems:"center",justifyContent:endpointRefUrl!=null&&!(0,_fp.isEmpty)(endpointRefUrl)?"flexStart":"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_draggables.DefaultDraggable,{field:fieldName,id:"event-details-value-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(fieldName,"-").concat(value,"-").concat(moduleName),tooltipContent:value,value:value},content)),endpointRefUrl!=null&&canYouAddEndpointLogo(moduleName,endpointRefUrl)&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"event-module-link-to-elastic-endpoint-security",content:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement("p",null,i18n.LINK_ELASTIC_ENDPOINT_SECURITY),_react.default.createElement("p",null,endpointRefUrl))},_react.default.createElement(_eui.EuiLink,{href:endpointRefUrl,target:"_blank"},_react.default.createElement(_eui.EuiIcon,{type:_color.default,size:"m"}))))):(0,_empty_value.getEmptyTagValue)()};exports.renderEventModule=renderEventModule;var renderRulReference=function renderRulReference(_ref3){var contextId=_ref3.contextId,eventId=_ref3.eventId,fieldName=_ref3.fieldName,linkValue=_ref3.linkValue,truncate=_ref3.truncate,value=_ref3.value;var referenceUrlName="".concat(value);var content=truncate?_react.default.createElement(_truncatable_text.TruncatableText,null,value):value;return(0,_fp.isString)(value)&&referenceUrlName.length>0?_react.default.createElement(_draggables.DefaultDraggable,{field:fieldName,id:"event-details-value-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(fieldName,"-").concat(value,"-").concat(referenceUrlName),tooltipContent:value,value:value},!(0,_helpers.isUrlInvalid)(referenceUrlName)&&_react.default.createElement(_eui.EuiLink,{target:"_blank",href:referenceUrlName},content),(0,_helpers.isUrlInvalid)(referenceUrlName)&&_react.default.createElement(_react.default.Fragment,null,content)):(0,_empty_value.getEmptyTagValue)()};exports.renderRulReference=renderRulReference},8805:function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgdmlld0JveD0iMCAwIDY0IDY0Ij4KICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgPHBhdGggZmlsbD0iI0YwNEU5OCIgZD0iTTI5LDMyLjAwMDEgTDE1LjkzNSw5LjQzMjEgQzEzLjQ4LDUuMTk0MSA3LDYuOTM1MSA3LDExLjgzMjEgTDcsNTIuMTY4MSBDNyw1Ny4wNjUxIDEzLjQ4LDU4LjgwNjEgMTUuOTM1LDU0LjU2NzEgTDI5LDMyLjAwMDEgWiIvPgogICAgPHBhdGggZmlsbD0iI0ZBNzQ0RSIgZD0iTTM0Ljc3NzMsMzIuMDAwMSBMMzMuMzI3MywzNC41MDUxIEwyMC4yNjEzLDU3LjA3MzEgQzE5Ljg0NzMsNTcuNzg3MSAxOS4zNTMzLDU4LjQyNzEgMTguODAyMyw1OS4wMDAxIEwzNC45MjczLDU5LjAwMDEgQzM4LjcwNzMsNTkuMDAwMSA0Mi4yMjEzLDU3LjA2MDEgNDQuMjM2Myw1My44NjExIEw1OC4wMDAzLDMyLjAwMDEgTDM0Ljc3NzMsMzIuMDAwMSBaIi8+CiAgICA8cGF0aCBmaWxsPSIjMzQzNzQxIiBkPSJNNDQuMjM2MywxMC4xMzkyIEM0Mi4yMjEzLDYuOTQwMiAzOC43MDczLDUuMDAwMiAzNC45MjczLDUuMDAwMiBMMTguODAyMyw1LjAwMDIgQzE5LjM1MzMsNS41NzMyIDE5Ljg0NzMsNi4yMTIyIDIwLjI2MTMsNi45MjcyIEwzMy4zMjczLDI5LjQ5NDIgTDM0Ljc3NzMsMzIuMDAwMiBMNTguMDAwMywzMi4wMDAyIEw0NC4yMzYzLDEwLjEzOTIgWiIvPgogIDwvZz4KPC9zdmc+Cg=="},8806:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.buildJsonView=exports.JsonView=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _helpers=__webpack_require__(7135);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var JsonEditor=_styledComponents.default.div.withConfig({displayName:"JsonEditor",componentId:"sc-7p85ey-0"})(["width:100%;"]);JsonEditor.displayName="JsonEditor";var JsonView=_react.default.memo((function(_ref){var data=_ref.data;return _react.default.createElement(JsonEditor,{"data-test-subj":"jsonView"},_react.default.createElement(_eui.EuiCodeEditor,{isReadOnly:true,mode:"javascript",setOptions:{fontSize:"12px"},value:JSON.stringify(buildJsonView(data),_helpers.omitTypenameAndEmpty,2),width:"100%"}))}));exports.JsonView=JsonView;JsonView.displayName="JsonView";var buildJsonView=function buildJsonView(data){return data.reduce((function(accumulator,item){return(0,_fp.set)(item.field,item.originalValue,accumulator)}),{})};exports.buildJsonView=buildJsonView},8807:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LazyAccordion=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var LazyAccordion=_react.default.memo((function(_ref){var buttonContent=_ref.buttonContent,buttonContentClassName=_ref.buttonContentClassName,extraAction=_ref.extraAction,forceExpand=_ref.forceExpand,id=_ref.id,onCollapse=_ref.onCollapse,onExpand=_ref.onExpand,paddingSize=_ref.paddingSize,renderExpandedContent=_ref.renderExpandedContent;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];var onCollapsedClick=(0,_react.useCallback)((function(){setExpanded(true);if(onExpand!=null){onExpand()}}),[onExpand]);var onExpandedClick=(0,_react.useCallback)((function(){setExpanded(false);if(onCollapse!=null){onCollapse()}}),[onCollapse]);return _react.default.createElement(_react.default.Fragment,null,forceExpand||expanded?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiAccordion,{buttonContent:buttonContent,buttonContentClassName:buttonContentClassName,"data-test-subj":"lazy-accordion-expanded",extraAction:extraAction,id:id,initialIsOpen:true,onClick:onExpandedClick,paddingSize:paddingSize},_react.default.createElement(_react.default.Fragment,null)),renderExpandedContent(expanded)):_react.default.createElement(_eui.EuiAccordion,{buttonContent:buttonContent,buttonContentClassName:buttonContentClassName,"data-test-subj":"lazy-accordion-placeholder",extraAction:extraAction,id:id,onClick:onCollapsedClick,paddingSize:paddingSize}))}));exports.LazyAccordion=LazyAccordion;LazyAccordion.displayName="LazyAccordion"},8808:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getRowRenderer=void 0;var unhandledRowRenderer=function unhandledRowRenderer(){throw new Error("Unhandled Row Renderer")};var getRowRenderer=function getRowRenderer(ecs,rowRenderers){var renderer=rowRenderers.find((function(rowRenderer){return rowRenderer.isInstance(ecs)}));if(renderer==null){return unhandledRowRenderer()}else{return renderer}};exports.getRowRenderer=getRowRenderer},8809:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatefulEventChild=exports.getNewNoteId=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _uuid=_interopRequireDefault(__webpack_require__(86));var _note_cards=__webpack_require__(8810);var _styles=__webpack_require__(7058);var _timeline_context=__webpack_require__(7033);var _event_column_view=__webpack_require__(8811);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getNewNoteId=function getNewNoteId(){return _uuid.default.v4()};exports.getNewNoteId=getNewNoteId;var emptyNotes=[];var StatefulEventChild=_react.default.memo((function(_ref){var id=_ref.id,actionsColumnWidth=_ref.actionsColumnWidth,associateNote=_ref.associateNote,addNoteToEvent=_ref.addNoteToEvent,onPinEvent=_ref.onPinEvent,columnHeaders=_ref.columnHeaders,columnRenderers=_ref.columnRenderers,expanded=_ref.expanded,data=_ref.data,ecsData=_ref.ecsData,eventIdToNoteIds=_ref.eventIdToNoteIds,getNotesByIds=_ref.getNotesByIds,_ref$isEventViewer=_ref.isEventViewer,isEventViewer=_ref$isEventViewer===void 0?false:_ref$isEventViewer,_ref$isEventPinned=_ref.isEventPinned,isEventPinned=_ref$isEventPinned===void 0?false:_ref$isEventPinned,loading=_ref.loading,loadingEventIds=_ref.loadingEventIds,onColumnResized=_ref.onColumnResized,onRowSelected=_ref.onRowSelected,onToggleExpanded=_ref.onToggleExpanded,onUnPinEvent=_ref.onUnPinEvent,selectedEventIds=_ref.selectedEventIds,showCheckboxes=_ref.showCheckboxes,showNotes=_ref.showNotes,timelineId=_ref.timelineId,onToggleShowNotes=_ref.onToggleShowNotes,updateNote=_ref.updateNote;var width=(0,_timeline_context.useTimelineWidthContext)();return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_event_column_view.EventColumnView,{id:id,actionsColumnWidth:actionsColumnWidth,associateNote:associateNote,columnHeaders:columnHeaders,columnRenderers:columnRenderers,data:data,ecsData:ecsData,expanded:expanded,eventIdToNoteIds:eventIdToNoteIds,getNotesByIds:getNotesByIds,isEventPinned:isEventPinned,isEventViewer:isEventViewer,loading:loading,loadingEventIds:loadingEventIds,onColumnResized:onColumnResized,onEventToggled:onToggleExpanded,onPinEvent:onPinEvent,onRowSelected:onRowSelected,onUnPinEvent:onUnPinEvent,selectedEventIds:selectedEventIds,showCheckboxes:showCheckboxes,showNotes:showNotes,timelineId:timelineId,toggleShowNotes:onToggleShowNotes,updateNote:updateNote}),_react.default.createElement(_styles.EventsTrSupplement,{className:"siemEventsTable__trSupplement--notes","data-test-subj":"event-notes-flex-item",style:{width:"".concat(width-_styles.OFFSET_SCROLLBAR,"px")}},_react.default.createElement(_note_cards.NoteCards,{associateNote:associateNote,"data-test-subj":"note-cards",getNewNoteId:getNewNoteId,getNotesByIds:getNotesByIds,noteIds:eventIdToNoteIds[id]||emptyNotes,showAddNote:showNotes,toggleShowAddNote:onToggleShowNotes,updateNote:updateNote})))}));exports.StatefulEventChild=StatefulEventChild;StatefulEventChild.displayName="StatefulEventChild"},8810:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoteCards=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _add_note=__webpack_require__(7565);var _note_card=__webpack_require__(7567);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AddNoteContainer=_styledComponents.default.div.withConfig({displayName:"AddNoteContainer",componentId:"sc-1bwcc0y-0"})([""]);AddNoteContainer.displayName="AddNoteContainer";var NoteContainer=_styledComponents.default.div.withConfig({displayName:"NoteContainer",componentId:"sc-1bwcc0y-1"})(["margin-top:5px;"]);NoteContainer.displayName="NoteContainer";var NoteCardsComp=_react.default.memo((function(_ref){var children=_ref.children;return _react.default.createElement(_eui.EuiPanel,{"data-test-subj":"note-cards",hasShadow:false,paddingSize:"none",style:{border:"none"}},children)}));NoteCardsComp.displayName="NoteCardsComp";var NotesContainer=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"NotesContainer",componentId:"sc-1bwcc0y-2"})(["padding:0 5px;margin-bottom:5px;"]);NotesContainer.displayName="NotesContainer";var NoteCards=_react.default.memo((function(_ref2){var associateNote=_ref2.associateNote,getNotesByIds=_ref2.getNotesByIds,getNewNoteId=_ref2.getNewNoteId,noteIds=_ref2.noteIds,showAddNote=_ref2.showAddNote,toggleShowAddNote=_ref2.toggleShowAddNote,updateNote=_ref2.updateNote;var _useState=(0,_react.useState)(""),_useState2=_slicedToArray(_useState,2),newNote=_useState2[0],setNewNote=_useState2[1];var associateNoteAndToggleShow=(0,_react.useCallback)((function(noteId){associateNote(noteId);toggleShowAddNote()}),[associateNote,toggleShowAddNote]);return _react.default.createElement(NoteCardsComp,null,noteIds.length?_react.default.createElement(NotesContainer,{"data-test-subj":"notes",direction:"column",gutterSize:"none"},getNotesByIds(noteIds).map((function(note){return _react.default.createElement(NoteContainer,{"data-test-subj":"note-container",key:note.id},_react.default.createElement(_note_card.NoteCard,{created:note.created,rawNote:note.note,user:note.user}))}))):null,showAddNote?_react.default.createElement(AddNoteContainer,{"data-test-subj":"add-note-container"},_react.default.createElement(_add_note.AddNote,{associateNote:associateNoteAndToggleShow,getNewNoteId:getNewNoteId,newNote:newNote,onCancelAddNote:toggleShowAddNote,updateNewNote:setNewNote,updateNote:updateNote})):null)}));exports.NoteCards=NoteCards;NoteCards.displayName="NoteCards"},8811:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventColumnView=exports.getNewNoteId=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _uuid=_interopRequireDefault(__webpack_require__(86));var _styles=__webpack_require__(7058);var _actions=__webpack_require__(8812);var _data_driven_columns=__webpack_require__(8813);var _helpers=__webpack_require__(7135);var _timeline_context=__webpack_require__(7033);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var getNewNoteId=function getNewNoteId(){return _uuid.default.v4()};exports.getNewNoteId=getNewNoteId;var emptyNotes=[];var EventColumnView=_react.default.memo((function(_ref){var id=_ref.id,actionsColumnWidth=_ref.actionsColumnWidth,associateNote=_ref.associateNote,columnHeaders=_ref.columnHeaders,columnRenderers=_ref.columnRenderers,data=_ref.data,ecsData=_ref.ecsData,eventIdToNoteIds=_ref.eventIdToNoteIds,expanded=_ref.expanded,getNotesByIds=_ref.getNotesByIds,_ref$isEventPinned=_ref.isEventPinned,isEventPinned=_ref$isEventPinned===void 0?false:_ref$isEventPinned,_ref$isEventViewer=_ref.isEventViewer,isEventViewer=_ref$isEventViewer===void 0?false:_ref$isEventViewer,loading=_ref.loading,loadingEventIds=_ref.loadingEventIds,onColumnResized=_ref.onColumnResized,onEventToggled=_ref.onEventToggled,onPinEvent=_ref.onPinEvent,onRowSelected=_ref.onRowSelected,onUnPinEvent=_ref.onUnPinEvent,selectedEventIds=_ref.selectedEventIds,showCheckboxes=_ref.showCheckboxes,showNotes=_ref.showNotes,timelineId=_ref.timelineId,toggleShowNotes=_ref.toggleShowNotes,updateNote=_ref.updateNote;var timelineTypeContext=(0,_timeline_context.useTimelineTypeContext)();var additionalActions=(0,_react.useMemo)((function(){var _ref2,_timelineTypeContext$;return(_ref2=(_timelineTypeContext$=timelineTypeContext.timelineActions)===null||_timelineTypeContext$===void 0?void 0:_timelineTypeContext$.map((function(action){return _react.default.createElement(_styles.EventsTdContent,{key:action.id,textAlign:"center"},action.getAction({eventId:id,ecsData:ecsData}))})))!==null&&_ref2!==void 0?_ref2:[]}),[ecsData,timelineTypeContext.timelineActions]);return _react.default.createElement(_styles.EventsTrData,{"data-test-subj":"event-column-view"},_react.default.createElement(_actions.Actions,{actionsColumnWidth:actionsColumnWidth,additionalActions:additionalActions,associateNote:associateNote,checked:Object.keys(selectedEventIds).includes(id),onRowSelected:onRowSelected,expanded:expanded,"data-test-subj":"actions",eventId:id,eventIsPinned:isEventPinned,getNotesByIds:getNotesByIds,isEventViewer:isEventViewer,loading:loading,loadingEventIds:loadingEventIds,noteIds:eventIdToNoteIds[id]||emptyNotes,onEventToggled:onEventToggled,onPinClicked:(0,_helpers.getPinOnClick)({allowUnpinning:!(0,_helpers.eventHasNotes)(eventIdToNoteIds[id]),eventId:id,onPinEvent:onPinEvent,onUnPinEvent:onUnPinEvent,isEventPinned:isEventPinned}),showCheckboxes:showCheckboxes,showNotes:showNotes,toggleShowNotes:toggleShowNotes,updateNote:updateNote}),_react.default.createElement(_data_driven_columns.DataDrivenColumns,{_id:id,columnHeaders:columnHeaders,columnRenderers:columnRenderers,data:data,ecsData:ecsData,onColumnResized:onColumnResized,timelineId:timelineId}))}),(function(prevProps,nextProps){return prevProps.id===nextProps.id&&prevProps.actionsColumnWidth===nextProps.actionsColumnWidth&&prevProps.columnHeaders===nextProps.columnHeaders&&prevProps.columnRenderers===nextProps.columnRenderers&&prevProps.data===nextProps.data&&prevProps.eventIdToNoteIds===nextProps.eventIdToNoteIds&&prevProps.expanded===nextProps.expanded&&prevProps.loading===nextProps.loading&&prevProps.loadingEventIds===nextProps.loadingEventIds&&prevProps.isEventPinned===nextProps.isEventPinned&&prevProps.onRowSelected===nextProps.onRowSelected&&prevProps.selectedEventIds===nextProps.selectedEventIds&&prevProps.showCheckboxes===nextProps.showCheckboxes&&prevProps.showNotes===nextProps.showNotes&&prevProps.timelineId===nextProps.timelineId}));exports.EventColumnView=EventColumnView;EventColumnView.displayName="EventColumnView"},8812:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Actions=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _pin=__webpack_require__(7638);var _helpers=__webpack_require__(7306);var _styles=__webpack_require__(7058);var _helpers2=__webpack_require__(7135);var i18n=_interopRequireWildcard(__webpack_require__(7332));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var emptyNotes=[];var Actions=_react.default.memo((function(_ref){var actionsColumnWidth=_ref.actionsColumnWidth,additionalActions=_ref.additionalActions,associateNote=_ref.associateNote,checked=_ref.checked,expanded=_ref.expanded,eventId=_ref.eventId,eventIsPinned=_ref.eventIsPinned,getNotesByIds=_ref.getNotesByIds,_ref$isEventViewer=_ref.isEventViewer,isEventViewer=_ref$isEventViewer===void 0?false:_ref$isEventViewer,_ref$loading=_ref.loading,loading=_ref$loading===void 0?false:_ref$loading,loadingEventIds=_ref.loadingEventIds,noteIds=_ref.noteIds,onEventToggled=_ref.onEventToggled,onPinClicked=_ref.onPinClicked,onRowSelected=_ref.onRowSelected,showCheckboxes=_ref.showCheckboxes,showNotes=_ref.showNotes,toggleShowNotes=_ref.toggleShowNotes,updateNote=_ref.updateNote;return _react.default.createElement(_styles.EventsTdGroupActions,{actionsColumnWidth:actionsColumnWidth,"data-test-subj":"event-actions-container"},showCheckboxes&&_react.default.createElement(_styles.EventsTd,{"data-test-subj":"select-event-container"},_react.default.createElement(_styles.EventsTdContent,{textAlign:"center"},loadingEventIds.includes(eventId)?_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m","data-test-subj":"event-loader"}):_react.default.createElement(_eui.EuiCheckbox,{"data-test-subj":"select-event",id:eventId,checked:checked,onChange:function onChange(event){onRowSelected({eventIds:[eventId],isSelected:event.currentTarget.checked})}}))),_react.default.createElement(_react.default.Fragment,null,additionalActions),_react.default.createElement(_styles.EventsTd,null,_react.default.createElement(_styles.EventsTdContent,{textAlign:"center"},loading&&_react.default.createElement(_styles.EventsLoading,null),!loading&&_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":expanded?i18n.COLLAPSE:i18n.EXPAND,"data-test-subj":"expand-event",iconType:expanded?"arrowDown":"arrowRight",id:eventId,onClick:onEventToggled}))),!isEventViewer&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_styles.EventsTd,null,_react.default.createElement(_styles.EventsTdContent,{textAlign:"center"},_react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"timeline-action-pin-tool-tip",content:(0,_helpers2.getPinTooltip)({isPinned:eventIsPinned,eventHasNotes:(0,_helpers2.eventHasNotes)(noteIds)})},_react.default.createElement(_pin.Pin,{allowUnpinning:!(0,_helpers2.eventHasNotes)(noteIds),"data-test-subj":"pin-event",onClick:onPinClicked,pinned:eventIsPinned})))),_react.default.createElement(_styles.EventsTd,null,_react.default.createElement(_styles.EventsTdContent,{textAlign:"center"},_react.default.createElement(_helpers.NotesButton,{animate:false,associateNote:associateNote,"data-test-subj":"add-note",getNotesByIds:getNotesByIds,noteIds:noteIds||emptyNotes,showNotes:showNotes,size:"s",toggleShowNotes:toggleShowNotes,toolTip:i18n.NOTES_TOOLTIP,updateNote:updateNote})))))}),(function(nextProps,prevProps){return prevProps.actionsColumnWidth===nextProps.actionsColumnWidth&&prevProps.checked===nextProps.checked&&prevProps.expanded===nextProps.expanded&&prevProps.eventId===nextProps.eventId&&prevProps.eventIsPinned===nextProps.eventIsPinned&&prevProps.loading===nextProps.loading&&prevProps.loadingEventIds===nextProps.loadingEventIds&&prevProps.noteIds===nextProps.noteIds&&prevProps.onRowSelected===nextProps.onRowSelected&&prevProps.showCheckboxes===nextProps.showCheckboxes&&prevProps.showNotes===nextProps.showNotes}));exports.Actions=Actions;Actions.displayName="Actions"},8813:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DataDrivenColumns=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _fp=__webpack_require__(223);var _styles=__webpack_require__(7058);var _get_column_renderer=__webpack_require__(8814);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DataDrivenColumns=_react.default.memo((function(_ref){var _id=_ref._id,columnHeaders=_ref.columnHeaders,columnRenderers=_ref.columnRenderers,data=_ref.data,ecsData=_ref.ecsData,timelineId=_ref.timelineId;return _react.default.createElement(_styles.EventsTdGroupData,{"data-test-subj":"data-driven-columns"},columnHeaders.map((function(header,index){var _header$linkField;return _react.default.createElement(_styles.EventsTd,{key:header.id,style:{flexBasis:"".concat(header.width,"px")}},_react.default.createElement(_styles.EventsTdContent,{"data-test-subj":"cell-container"},(0,_get_column_renderer.getColumnRenderer)(header.id,columnRenderers,data).renderColumn({columnName:header.id,eventId:_id,field:header,linkValues:(0,_fp.getOr)([],(_header$linkField=header.linkField)!==null&&_header$linkField!==void 0?_header$linkField:"",ecsData),timelineId:timelineId,truncate:true,values:getMappedNonEcsValue({data:data,fieldName:header.id})})))})))}));exports.DataDrivenColumns=DataDrivenColumns;DataDrivenColumns.displayName="DataDrivenColumns";var getMappedNonEcsValue=function getMappedNonEcsValue(_ref2){var data=_ref2.data,fieldName=_ref2.fieldName;var item=data.find((function(d){return d.field===fieldName}));if(item!=null&&item.value!=null){return item.value}return undefined}},8814:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getColumnRenderer=void 0;var unhandledColumnRenderer=function unhandledColumnRenderer(){throw new Error("Unhandled Column Renderer")};var getColumnRenderer=function getColumnRenderer(columnName,columnRenderers,data){var renderer=columnRenderers.find((function(columnRenderer){return columnRenderer.isInstance(columnName,data)}));return renderer!=null?renderer:unhandledColumnRenderer()};exports.getColumnRenderer=getColumnRenderer},8815:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.columnRenderers=exports.rowRenderers=void 0;var _generic_row_renderer=__webpack_require__(8816);var _empty_column_renderer=__webpack_require__(8833);var _netflow_row_renderer=__webpack_require__(8834);var _plain_column_renderer=__webpack_require__(8835);var _plain_row_renderer=__webpack_require__(7652);var _suricata_row_renderer=__webpack_require__(8837);var _unknown_column_renderer=__webpack_require__(8842);var _zeek_row_renderer=__webpack_require__(8843);var _generic_row_renderer2=__webpack_require__(8847);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var rowRenderers=[].concat(_toConsumableArray(_generic_row_renderer.auditdRowRenderers),_toConsumableArray(_generic_row_renderer2.systemRowRenderers),[_suricata_row_renderer.suricataRowRenderer,_zeek_row_renderer.zeekRowRenderer,_netflow_row_renderer.netflowRowRenderer,_plain_row_renderer.plainRowRenderer]);exports.rowRenderers=rowRenderers;var columnRenderers=[_plain_column_renderer.plainColumnRenderer,_empty_column_renderer.emptyColumnRenderer,_unknown_column_renderer.unknownColumnRenderer];exports.columnRenderers=columnRenderers},8816:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.auditdRowRenderers=exports.createGenericFileRowRenderer=exports.createGenericAuditRowRenderer=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _row_renderer=__webpack_require__(7159);var _generic_details=__webpack_require__(8817);var _generic_file_details=__webpack_require__(8832);var i18n=_interopRequireWildcard(__webpack_require__(7160));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var createGenericAuditRowRenderer=function createGenericAuditRowRenderer(_ref){var actionName=_ref.actionName,text=_ref.text;return{isInstance:function isInstance(ecs){var module=(0,_fp.get)("event.module[0]",ecs);var action=(0,_fp.get)("event.action[0]",ecs);return module!=null&&module.toLowerCase()==="auditd"&&action!=null&&action.toLowerCase()===actionName},renderRow:function renderRow(_ref2){var browserFields=_ref2.browserFields,data=_ref2.data,children=_ref2.children,timelineId=_ref2.timelineId;return _react.default.createElement(_react.default.Fragment,null,children,_react.default.createElement(_row_renderer.RowRendererContainer,null,_react.default.createElement(_generic_details.AuditdGenericDetails,{browserFields:browserFields,data:data,contextId:"".concat(actionName,"-").concat(timelineId),text:text,timelineId:timelineId})))}}};exports.createGenericAuditRowRenderer=createGenericAuditRowRenderer;var createGenericFileRowRenderer=function createGenericFileRowRenderer(_ref3){var actionName=_ref3.actionName,text=_ref3.text,_ref3$fileIcon=_ref3.fileIcon,fileIcon=_ref3$fileIcon===void 0?"document":_ref3$fileIcon;return{isInstance:function isInstance(ecs){var module=(0,_fp.get)("event.module[0]",ecs);var action=(0,_fp.get)("event.action[0]",ecs);return module!=null&&module.toLowerCase()==="auditd"&&action!=null&&action.toLowerCase()===actionName},renderRow:function renderRow(_ref4){var browserFields=_ref4.browserFields,data=_ref4.data,children=_ref4.children,timelineId=_ref4.timelineId;return _react.default.createElement(_react.default.Fragment,null,children,_react.default.createElement(_row_renderer.RowRendererContainer,null,_react.default.createElement(_generic_file_details.AuditdGenericFileDetails,{browserFields:browserFields,data:data,contextId:"".concat(actionName,"-").concat(timelineId),text:text,fileIcon:fileIcon,timelineId:timelineId})))}}};exports.createGenericFileRowRenderer=createGenericFileRowRenderer;var auditdWasAuthorizedRowRenderer=createGenericAuditRowRenderer({actionName:"was-authorized",text:i18n.WAS_AUTHORIZED_TO_USE});var auditdStartedSessionRowRenderer=createGenericAuditRowRenderer({actionName:"started-session",text:i18n.STARTED});var auditdLoggedInDeprecatedRowRenderer=createGenericAuditRowRenderer({actionName:"logged-in",text:i18n.ATTEMPTED_LOGIN});var auditdLoggedInRowRenderer=createGenericAuditRowRenderer({actionName:"login",text:i18n.ATTEMPTED_LOGIN});var auditdExecutedRowRenderer=createGenericAuditRowRenderer({actionName:"executed",text:i18n.EXECUTED});var auditdEndedFromRowRenderer=createGenericAuditRowRenderer({actionName:"ended-session",text:i18n.ENDED_FROM});var auditdAcquiredCredentialsRowRenderer=createGenericAuditRowRenderer({actionName:"acquired-credentials",text:i18n.ACQUIRED_CREDENTIALS_TO});var auditdDisposedCredentialsRowRenderer=createGenericAuditRowRenderer({actionName:"disposed-credentials",text:i18n.DISPOSED_CREDENTIALS_TO});var auditdConnectedToRowRenderer=createGenericAuditRowRenderer({actionName:"connected-to",text:i18n.CONNECTED_USING});var auditdOpenedFileRowRenderer=createGenericFileRowRenderer({actionName:"opened-file",text:i18n.OPENED_FILE});var auditdChangedFileAttributeOfRowRenderer=createGenericAuditRowRenderer({actionName:"changed-file-attributes-of",text:i18n.CHANGED_FILE_ATTRIBUTES_OF});var auditdChangedFilePermissionsOfRowRenderer=createGenericFileRowRenderer({actionName:"changed-file-permissions-of",text:i18n.CHANGED_FILE_PERMISSIONS_OF});var auditdChangedFileOwnershipOfRowRenderer=createGenericFileRowRenderer({actionName:"changed-file-ownership-of",text:i18n.CHANGED_FILE_OWNERSHIP_OF});var auditdChangedKernelModuleRowRenderer=createGenericAuditRowRenderer({actionName:"loaded-kernel-module",text:i18n.LOADED_KERNEL_MODULE});var auditdUnloadedKernelModuleRowRenderer=createGenericAuditRowRenderer({actionName:"unloaded-kernel-module",text:i18n.UNLOADED_KERNEL_MODULE_OF});var auditdCreatedDirectoryRowRenderer=createGenericFileRowRenderer({actionName:"created-directory",text:i18n.CREATED_DIRECTORY,fileIcon:"folderOpen"});var auditdMountedRowRenderer=createGenericFileRowRenderer({actionName:"mounted",text:i18n.MOUNTED});var auditdRenamedRowRenderer=createGenericFileRowRenderer({actionName:"renamed",text:i18n.RENAMED});var auditdCheckedMetaDataRowRenderer=createGenericFileRowRenderer({actionName:"checked-metadata-of",text:i18n.CHECKED_METADATA_OF});var auditdCheckedFileSystemMetaDataRowRenderer=createGenericFileRowRenderer({actionName:"checked-filesystem-metadata-of",text:i18n.CHECKED_FILE_SYSTEM_METADATA_OF});var auditdSymLinkedDataRowRenderer=createGenericFileRowRenderer({actionName:"symlinked",text:i18n.SYMLINKED});var auditdUnmountedRowRenderer=createGenericFileRowRenderer({actionName:"unmounted",text:i18n.UNMOUNTED});var auditdDeletedRowRenderer=createGenericFileRowRenderer({actionName:"deleted",text:i18n.DELETED});var auditdChangedTimeStampOfRowRenderer=createGenericFileRowRenderer({actionName:"changed-timestamp-of",text:i18n.CHANGED_TIME_STAMP_OF});var auditdListenForConnectionsRowRenderer=createGenericAuditRowRenderer({actionName:"listen-for-connections",text:i18n.LISTEN_FOR_CONNECTIONS});var auditdBoundSocketRowRenderer=createGenericAuditRowRenderer({actionName:"bound-socket",text:i18n.BOUND_SOCKET_FROM});var auditdReceivedFromRowRenderer=createGenericAuditRowRenderer({actionName:"received-from",text:i18n.RECEIVED_FROM});var auditdSentToRowRenderer=createGenericAuditRowRenderer({actionName:"sent-to",text:i18n.SENT_TO});var auditdKilledPidRowRenderer=createGenericAuditRowRenderer({actionName:"killed-pid",text:i18n.KILLED_PROCESS_ID_OF});var auditdChangedIdentityRowRenderer=createGenericAuditRowRenderer({actionName:"changed-identity-of",text:i18n.CHANGED_IDENTITY_USING});var auditdChangedSystemTimeRowRenderer=createGenericAuditRowRenderer({actionName:"changed-system-time",text:i18n.CHANGED_SYSTEM_TIME_WITH});var auditdMakeDeviceRowRenderer=createGenericAuditRowRenderer({actionName:"make-device",text:i18n.MADE_DEVICE_WITH});var auditdChangedSystemNameRowRenderer=createGenericAuditRowRenderer({actionName:"changed-system-name",text:i18n.CHANGED_SYSTEM_NAME});var auditdAllocatedMemoryRowRenderer=createGenericAuditRowRenderer({actionName:"allocated-memory",text:i18n.ALLOCATED_MEMORY_FOR});var auditdSchedulingPolicyRowRenderer=createGenericAuditRowRenderer({actionName:"adjusted-scheduling-policy-of",text:i18n.SCHEDULED_POLICY_OF});var auditdAddedUserAccountRowRenderer=createGenericAuditRowRenderer({actionName:"added-user-account",text:i18n.ADDED_USER_ACCOUNT});var auditdCausedMacPolicyErrorRowRenderer=createGenericAuditRowRenderer({actionName:"caused-mac-policy-error",text:i18n.CAUSED_MAC_POLICY_ERROR});var auditdloadedFirewallRuleErrorRowRenderer=createGenericAuditRowRenderer({actionName:"loaded-firewall-rule-to",text:i18n.LOADED_FIREWALL_RULE});var auditdChangedPromiscuousModeRowRenderer=createGenericAuditRowRenderer({actionName:"changed-promiscuous-mode-on-device",text:i18n.CHANGED_PROMISCUOUS_MODE});var auditdLockedAccountModeRowRenderer=createGenericAuditRowRenderer({actionName:"locked-account",text:i18n.LOCKED_ACCOUNT});var auditdUnLockedAccountModeRowRenderer=createGenericAuditRowRenderer({actionName:"unlocked-account",text:i18n.UNLOCKED_ACCOUNT});var auditdAddedGroupAccountModeRowRenderer=createGenericAuditRowRenderer({actionName:"added-group-account-to",text:i18n.ADDED_GROUP_ACCOUNT_USING});var auditdCrashedProgramRowRenderer=createGenericAuditRowRenderer({actionName:"crashed-program",text:i18n.CRASHED_PROGRAM});var auditdAttemptedExecutionOfForbiddenProgramRowRenderer=createGenericAuditRowRenderer({actionName:"attempted-execution-of-forbidden-program",text:i18n.EXECUTION_OF_FORBIDDEN_PROGRAM});var auditdSuspiciousLinkDeprecatedRowRenderer=createGenericAuditRowRenderer({actionName:"used-suspcious-link",text:i18n.USED_SUSPICIOUS_PROGRAM});var auditdSuspiciousLinkRowRenderer=createGenericAuditRowRenderer({actionName:"used-suspicious-link",text:i18n.USED_SUSPICIOUS_PROGRAM});var auditdFailedLoginDeprecatedTooManyTimesRowRenderer=createGenericAuditRowRenderer({actionName:"failed-log-in-too-many-times-to",text:i18n.FAILED_LOGIN_TOO_MANY_TIMES});var auditdFailedLoginTooManyTimesRowRenderer=createGenericAuditRowRenderer({actionName:"failed-login-too-many-times-to",text:i18n.FAILED_LOGIN_TOO_MANY_TIMES});var auditdLoginFromUnusualDeprecatedPlaceToRowRenderer=createGenericAuditRowRenderer({actionName:"attempted-log-in-from-unusual-place-to",text:i18n.ATTEMPTED_LOGIN_FROM_UNUSUAL_PLACE});var auditdLoginFromUnusualPlaceToRowRenderer=createGenericAuditRowRenderer({actionName:"attempted-login-from-unusual-place-to",text:i18n.ATTEMPTED_LOGIN_FROM_UNUSUAL_PLACE});var auditdOpenTooManySessionsToRowRenderer=createGenericAuditRowRenderer({actionName:"opened-too-many-sessions-to",text:i18n.OPENED_TOO_MANY_SESSIONS});var auditdLoginFromDeprecatedUnusualHourRowRenderer=createGenericAuditRowRenderer({actionName:"attempted-log-in-during-unusual-hour-to",text:i18n.ATTEMPTED_LOGIN_FROM_UNUSUAL_HOUR});var auditdLoginFromUnusualHourRowRenderer=createGenericAuditRowRenderer({actionName:"attempted-login-during-unusual-hour-to",text:i18n.ATTEMPTED_LOGIN_FROM_UNUSUAL_HOUR});var auditdTestedFileSystemIntegoryOfRowRenderer=createGenericAuditRowRenderer({actionName:"tested-file-system-integrity-of",text:i18n.TESTED_FILE_SYSTEM_INTEGRITY});var auditdViolatedSelinuxPolicyRowRenderer=createGenericAuditRowRenderer({actionName:"violated-selinux-policy",text:i18n.VIOLATED_SELINUX_POLICY});var auditdViolatedAppArmorPolicyRowRenderer=createGenericAuditRowRenderer({actionName:"violated-apparmor-policy",text:i18n.VIOLATED_APP_ARMOR_POLICY_FROM});var auditdChangedGropuRowRenderer=createGenericAuditRowRenderer({actionName:"changed-group",text:i18n.CHANGED_GROUP});var auditdChangedUserIdRowRenderer=createGenericAuditRowRenderer({actionName:"changed-user-id",text:i18n.CHANGED_USER_ID});var auditdChangedAuditConfigurationDeprecatedRowRenderer=createGenericAuditRowRenderer({actionName:"changed-auditd-configuration",text:i18n.CHANGED_AUDIT_CONFIGURATION});var auditdChangedAuditConfigurationRowRenderer=createGenericAuditRowRenderer({actionName:"changed-audit-configuration",text:i18n.CHANGED_AUDIT_CONFIGURATION});var auditdRefreshedCredentialsRowRenderer=createGenericAuditRowRenderer({actionName:"refreshed-credentials",text:i18n.REFRESHED_CREDENTIALS_FOR});var auditdNegotiatedCryptoKeyRowRenderer=createGenericAuditRowRenderer({actionName:"negotiated-crypto-key",text:i18n.NEGOTIATED_CRYPTO_KEY});var auditdCryptoOfficerLoggednDeprecatedRowRenderer=createGenericAuditRowRenderer({actionName:"crypto-officer-logged-in",text:i18n.CRYPTO_OFFICER_LOGGED_IN});var auditdCryptoOfficerLoggednRowRenderer=createGenericAuditRowRenderer({actionName:"crypto-officer-login",text:i18n.CRYPTO_OFFICER_LOGGED_IN});var auditdCryptoOfficerLoggedoutDeprecatedRowRenderer=createGenericAuditRowRenderer({actionName:"crypto-officer-logged-out",text:i18n.CRYPTO_OFFICER_LOGGED_OUT});var auditdCryptoOfficerLoggedoutRowRenderer=createGenericAuditRowRenderer({actionName:"crypto-officer-logout",text:i18n.CRYPTO_OFFICER_LOGGED_OUT});var auditdStartedCryptoSessionRowRenderer=createGenericAuditRowRenderer({actionName:"started-crypto-session",text:i18n.STARTED_CRYPTO_SESSION});var auditdAccessResultRowRenderer=createGenericAuditRowRenderer({actionName:"access-result",text:i18n.ACCESS_RESULT});var auditdAbortedAuditDeprecatedStartupRowRenderer=createGenericAuditRowRenderer({actionName:"aborted-auditd-startup",text:i18n.ABORTED_AUDIT_STARTUP});var auditdAbortedAuditStartupRowRenderer=createGenericAuditRowRenderer({actionName:"aborted-audit-startup",text:i18n.ABORTED_AUDIT_STARTUP});var auditdRemoteAuditConnectedRowRenderer=createGenericAuditRowRenderer({actionName:"remote-audit-connected",text:i18n.REMOTE_AUDIT_CONNECTED});var auditdRemoteAuditDisconnectedRowRenderer=createGenericAuditRowRenderer({actionName:"remote-audit-disconnected",text:i18n.REMOTE_AUDIT_DISCONNECTED});var auditdShutdownAuditRowRenderer=createGenericAuditRowRenderer({actionName:"shutdown-audit",text:i18n.SHUTDOWN_AUDIT});var auditdAuditErrorRowRenderer=createGenericAuditRowRenderer({actionName:"audit-error",text:i18n.AUDIT_ERROR});var auditdReconfiguredAuditDeprecatedRowRenderer=createGenericAuditRowRenderer({actionName:"reconfigured-auditd",text:i18n.RECONFIGURED_AUDIT});var auditdReconfiguredAuditRowRenderer=createGenericAuditRowRenderer({actionName:"reconfigured-audit",text:i18n.RECONFIGURED_AUDIT});var auditdResumedAuditLoggingRowRenderer=createGenericAuditRowRenderer({actionName:"resumed-audit-logging",text:i18n.RESUMED_AUDIT_LOGGING});var auditdRotatedAuditLogsRowRenderer=createGenericAuditRowRenderer({actionName:"rotated-audit-logs",text:i18n.ROTATED_AUDIT_LOGS});var auditdStartedAuditRowRenderer=createGenericAuditRowRenderer({actionName:"started-audit",text:i18n.STARTED_AUDIT});var auditdDeletedGroupAccountFromRowRenderer=createGenericAuditRowRenderer({actionName:"deleted-group-account-from",text:i18n.DELETED_GROUP_ACCOUNT_USING});var auditdDeletedUserAccountRowRenderer=createGenericAuditRowRenderer({actionName:"deleted-user-account",text:i18n.DELETED_USER_ACCOUNT_USING});var auditdChangedAuditFeatureRowRenderer=createGenericAuditRowRenderer({actionName:"changed-audit-feature",text:i18n.CHANGED_AUDIT_FEATURE});var auditdRelabeledRowRenderer=createGenericAuditRowRenderer({actionName:"relabeled-filesystem",text:i18n.RELABELED_FILESYSTEM});var auditdAuthenticatedToGroupRowRenderer=createGenericAuditRowRenderer({actionName:"authenticated-to-group",text:i18n.AUTHENTICATED_TO_GROUP});var auditdChangedGroupPasswordRowRenderer=createGenericAuditRowRenderer({actionName:"changed-group-password",text:i18n.CHANGED_GROUP_PASSWORD});var auditdModifiedGroupAccountRowRenderer=createGenericAuditRowRenderer({actionName:"modified-group-account",text:i18n.MODIFIED_GROUP_ACCOUNT});var auditdInitializedAuditSubsystemRowRenderer=createGenericAuditRowRenderer({actionName:"initialized-audit-subsystem",text:i18n.INITIALIZED_AUDIT_SUBSYSTEM});var auditdModifiedLevelOfRowRenderer=createGenericAuditRowRenderer({actionName:"modified-level-of",text:i18n.MODIFIED_LEVEL_OF});var auditdOverrodeLabelOfRowRenderer=createGenericAuditRowRenderer({actionName:"overrode-label-of",text:i18n.OVERRODE_LABEL_OF});var auditdChangedLoginIdToRowRenderer=createGenericAuditRowRenderer({actionName:"changed-login-id-to",text:i18n.CHANGED_LOGIN_ID_TO});var auditdMacPermissionRowRenderer=createGenericAuditRowRenderer({actionName:"mac-permission",text:i18n.MAC_PERMISSION});var auditdChangedSelinuxBooleanRowRenderer=createGenericAuditRowRenderer({actionName:"changed-selinux-boolean",text:i18n.CHANGED_SELINUX_BOOLEAN});var auditdLoadedSelinuxPolicyRowRenderer=createGenericAuditRowRenderer({actionName:"loaded-selinux-policy",text:i18n.LOADED_SELINUX_POLICY});var auditdChangedSelinuxEnforcementRowRenderer=createGenericAuditRowRenderer({actionName:"changed-selinux-enforcement",text:i18n.CHANGED_SELINUX_ENFORCEMENT});var auditdAssignedUserRoleToRowRenderer=createGenericAuditRowRenderer({actionName:"assigned-user-role-to",text:i18n.ASSIGNED_USER_ROLE_TO});var auditdModifiedRoleRowRenderer=createGenericAuditRowRenderer({actionName:"modified-role",text:i18n.MODIFIED_ROLE});var auditdRemovedUserRoleDeprecatedFromRowRenderer=createGenericAuditRowRenderer({actionName:"removed-use-role-from",text:i18n.REMOVED_USER_ROLE_FROM});var auditdRemovedUserRoleFromRowRenderer=createGenericAuditRowRenderer({actionName:"removed-user-role-from",text:i18n.REMOVED_USER_ROLE_FROM});var auditdViolatedSeccompPolicyRowRenderer=createGenericAuditRowRenderer({actionName:"violated-seccomp-policy",text:i18n.VIOLATED_SECCOMP_POLICY_WITH});var auditdStartedServiceRowRenderer=createGenericAuditRowRenderer({actionName:"started-service",text:i18n.STARTED_SERVICE});var auditdStoppedServiceRowRenderer=createGenericAuditRowRenderer({actionName:"stopped-service",text:i18n.STOPPED_SERVICE});var auditdBootedSystemRowRenderer=createGenericAuditRowRenderer({actionName:"booted-system",text:i18n.BOOTED_SYSTEM});var auditdChangedToRunlevelRowRenderer=createGenericAuditRowRenderer({actionName:"changed-to-runlevel",text:i18n.CHANGED_TO_RUN_LEVEL_WITH});var auditdShutdownSystemRowRenderer=createGenericAuditRowRenderer({actionName:"shutdown-system",text:i18n.SHUTDOWN_SYSTEM});var auditdSentTestRowRenderer=createGenericAuditRowRenderer({actionName:"sent-test",text:i18n.SENT_TEST});var auditdUnknownRowRenderer=createGenericAuditRowRenderer({actionName:"unknown",text:i18n.UNKNOWN});var auditdSentMessageRowRenderer=createGenericAuditRowRenderer({actionName:"sent-message",text:i18n.SENT_MESSAGE});var auditdAccessPermissionRowRenderer=createGenericAuditRowRenderer({actionName:"access-permission",text:i18n.ACCESS_PERMISSION});var auditdAuthenticated=createGenericAuditRowRenderer({actionName:"authenticated",text:i18n.AUTHENTICATED_USING});var auditdChangedPasswordRowRenderer=createGenericAuditRowRenderer({actionName:"changed-password",text:i18n.CHANGED_PASSWORD_WITH});var auditdRanCommandRowRenderer=createGenericAuditRowRenderer({actionName:"ran-command",text:i18n.RAN_COMMAND});var auditdErrorRowRenderer=createGenericAuditRowRenderer({actionName:"error",text:i18n.ERROR_FROM});var auditdLoggedOutDeprecatedRowRenderer=createGenericAuditRowRenderer({actionName:"logged-out",text:i18n.LOGGED_OUT});var auditdLoggedOutRowRenderer=createGenericAuditRowRenderer({actionName:"logout",text:i18n.LOGGED_OUT});var auditdChangedMacConfigurationRowRenderer=createGenericAuditRowRenderer({actionName:"changed-mac-configuration",text:i18n.CHANGED_MAC_CONFIGURATION});var auditdLoadedMacPolicyRowRenderer=createGenericAuditRowRenderer({actionName:"loaded-mac-policy",text:i18n.LOADED_MAC_POLICY});var auditdModifiedUserAccountRowRenderer=createGenericAuditRowRenderer({actionName:"modified-user-account",text:i18n.MODIFIED_USER_ACCOUNT});var auditdChangedRoleToRowRenderer=createGenericAuditRowRenderer({actionName:"changed-role-to",text:i18n.CHANGED_ROLE_USING});var auditdAccessErrorRowRenderer=createGenericAuditRowRenderer({actionName:"access-error",text:i18n.ACCESS_ERROR});var auditdChangedConfigurationRowRenderer=createGenericAuditRowRenderer({actionName:"changed-configuration",text:i18n.CHANGED_CONFIGURATION_WITH});var auditdIssuedVmControlRowRenderer=createGenericAuditRowRenderer({actionName:"issued-vm-control",text:i18n.ISSUED_VM_CONTROL});var auditdCreatedVmImageRowRenderer=createGenericAuditRowRenderer({actionName:"created-vm-image",text:i18n.CREATED_VM_IMAGE});var auditdDeletedVmImageRowRenderer=createGenericAuditRowRenderer({actionName:"deleted-vm-image",text:i18n.DELETED_VM_IMAGE});var auditdCheckedIntegrityOfRowRenderer=createGenericAuditRowRenderer({actionName:"checked-integrity-of",text:i18n.CHECKED_INTEGRITY_OF});var auditdAssignedVmIdRowRenderer=createGenericAuditRowRenderer({actionName:"assigned-vm-id",text:i18n.ASSIGNED_VM_ID});var auditdMigratedVmFromRowRenderer=createGenericAuditRowRenderer({actionName:"migrated-vm-from",text:i18n.MIGRATED_VM_FROM});var auditdMigratedVmToRowRenderer=createGenericAuditRowRenderer({actionName:"migrated-vm-to",text:i18n.MIGRATED_VM_TO});var auditdAssignedVmResourceRowRenderer=createGenericAuditRowRenderer({actionName:"assigned-vm-resource",text:i18n.ASSIGNED_VM_RESOURCE});var auditdRowRenderers=[auditdExecutedRowRenderer,auditdLoggedInDeprecatedRowRenderer,auditdLoggedInRowRenderer,auditdWasAuthorizedRowRenderer,auditdAcquiredCredentialsRowRenderer,auditdEndedFromRowRenderer,auditdDisposedCredentialsRowRenderer,auditdStartedSessionRowRenderer,auditdConnectedToRowRenderer,auditdOpenedFileRowRenderer,auditdChangedFileAttributeOfRowRenderer,auditdChangedFilePermissionsOfRowRenderer,auditdChangedFileOwnershipOfRowRenderer,auditdChangedKernelModuleRowRenderer,auditdUnloadedKernelModuleRowRenderer,auditdCreatedDirectoryRowRenderer,auditdMountedRowRenderer,auditdRenamedRowRenderer,auditdCheckedMetaDataRowRenderer,auditdCheckedFileSystemMetaDataRowRenderer,auditdSymLinkedDataRowRenderer,auditdUnmountedRowRenderer,auditdDeletedRowRenderer,auditdChangedTimeStampOfRowRenderer,auditdListenForConnectionsRowRenderer,auditdBoundSocketRowRenderer,auditdReceivedFromRowRenderer,auditdSentToRowRenderer,auditdKilledPidRowRenderer,auditdChangedIdentityRowRenderer,auditdChangedSystemTimeRowRenderer,auditdMakeDeviceRowRenderer,auditdChangedSystemNameRowRenderer,auditdAllocatedMemoryRowRenderer,auditdSchedulingPolicyRowRenderer,auditdAddedUserAccountRowRenderer,auditdAddedGroupAccountModeRowRenderer,auditdAttemptedExecutionOfForbiddenProgramRowRenderer,auditdCausedMacPolicyErrorRowRenderer,auditdChangedPromiscuousModeRowRenderer,auditdCrashedProgramRowRenderer,auditdloadedFirewallRuleErrorRowRenderer,auditdLockedAccountModeRowRenderer,auditdSuspiciousLinkDeprecatedRowRenderer,auditdSuspiciousLinkRowRenderer,auditdUnLockedAccountModeRowRenderer,auditdFailedLoginDeprecatedTooManyTimesRowRenderer,auditdFailedLoginTooManyTimesRowRenderer,auditdLoginFromUnusualPlaceToRowRenderer,auditdOpenTooManySessionsToRowRenderer,auditdLoginFromUnusualDeprecatedPlaceToRowRenderer,auditdLoginFromDeprecatedUnusualHourRowRenderer,auditdLoginFromUnusualHourRowRenderer,auditdTestedFileSystemIntegoryOfRowRenderer,auditdViolatedSelinuxPolicyRowRenderer,auditdViolatedAppArmorPolicyRowRenderer,auditdChangedGropuRowRenderer,auditdChangedUserIdRowRenderer,auditdChangedAuditConfigurationRowRenderer,auditdRefreshedCredentialsRowRenderer,auditdNegotiatedCryptoKeyRowRenderer,auditdCryptoOfficerLoggednDeprecatedRowRenderer,auditdCryptoOfficerLoggednRowRenderer,auditdCryptoOfficerLoggedoutDeprecatedRowRenderer,auditdCryptoOfficerLoggedoutRowRenderer,auditdStartedCryptoSessionRowRenderer,auditdAccessResultRowRenderer,auditdAbortedAuditDeprecatedStartupRowRenderer,auditdAbortedAuditStartupRowRenderer,auditdRemoteAuditConnectedRowRenderer,auditdRemoteAuditDisconnectedRowRenderer,auditdShutdownAuditRowRenderer,auditdAuditErrorRowRenderer,auditdReconfiguredAuditDeprecatedRowRenderer,auditdReconfiguredAuditRowRenderer,auditdResumedAuditLoggingRowRenderer,auditdRotatedAuditLogsRowRenderer,auditdStartedAuditRowRenderer,auditdDeletedGroupAccountFromRowRenderer,auditdDeletedUserAccountRowRenderer,auditdChangedAuditFeatureRowRenderer,auditdRelabeledRowRenderer,auditdAuthenticatedToGroupRowRenderer,auditdChangedGroupPasswordRowRenderer,auditdModifiedGroupAccountRowRenderer,auditdInitializedAuditSubsystemRowRenderer,auditdModifiedLevelOfRowRenderer,auditdOverrodeLabelOfRowRenderer,auditdChangedLoginIdToRowRenderer,auditdMacPermissionRowRenderer,auditdChangedSelinuxBooleanRowRenderer,auditdLoadedSelinuxPolicyRowRenderer,auditdChangedSelinuxEnforcementRowRenderer,auditdAssignedUserRoleToRowRenderer,auditdModifiedRoleRowRenderer,auditdRemovedUserRoleDeprecatedFromRowRenderer,auditdRemovedUserRoleFromRowRenderer,auditdChangedAuditConfigurationDeprecatedRowRenderer,auditdViolatedSeccompPolicyRowRenderer,auditdStartedServiceRowRenderer,auditdStoppedServiceRowRenderer,auditdBootedSystemRowRenderer,auditdChangedToRunlevelRowRenderer,auditdShutdownSystemRowRenderer,auditdSentTestRowRenderer,auditdUnknownRowRenderer,auditdSentMessageRowRenderer,auditdAccessPermissionRowRenderer,auditdAuthenticated,auditdChangedPasswordRowRenderer,auditdRanCommandRowRenderer,auditdErrorRowRenderer,auditdLoggedOutDeprecatedRowRenderer,auditdLoggedOutRowRenderer,auditdChangedMacConfigurationRowRenderer,auditdLoadedMacPolicyRowRenderer,auditdModifiedUserAccountRowRenderer,auditdChangedRoleToRowRenderer,auditdAccessErrorRowRenderer,auditdChangedConfigurationRowRenderer,auditdIssuedVmControlRowRenderer,auditdCreatedVmImageRowRenderer,auditdDeletedVmImageRowRenderer,auditdCheckedIntegrityOfRowRenderer,auditdAssignedVmIdRowRenderer,auditdMigratedVmFromRowRenderer,auditdMigratedVmToRowRenderer,auditdAssignedVmResourceRowRenderer];exports.auditdRowRenderers=auditdRowRenderers},8817:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AuditdGenericDetails=exports.AuditdGenericLine=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var i18n=_interopRequireWildcard(__webpack_require__(7160));var _netflow=__webpack_require__(7092);var _helpers=__webpack_require__(7022);var _process_draggable=__webpack_require__(7137);var _args=__webpack_require__(7344);var _session_user_host_working_dir=__webpack_require__(7650);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AuditdGenericLine=_react.default.memo((function(_ref){var id=_ref.id,contextId=_ref.contextId,hostName=_ref.hostName,userName=_ref.userName,primary=_ref.primary,processName=_ref.processName,processPid=_ref.processPid,processExecutable=_ref.processExecutable,processTitle=_ref.processTitle,secondary=_ref.secondary,workingDirectory=_ref.workingDirectory,args=_ref.args,result=_ref.result,session=_ref.session,text=_ref.text;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"center",gutterSize:"none",wrap:true},_react.default.createElement(_session_user_host_working_dir.SessionUserHostWorkingDir,{eventId:id,contextId:contextId,hostName:hostName,userName:userName,primary:primary,secondary:secondary,workingDirectory:workingDirectory,session:session}),processExecutable!=null&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},text),_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_process_draggable.ProcessDraggable,{contextId:contextId,endgamePid:undefined,endgameProcessName:undefined,eventId:id,processPid:processPid,processName:processName,processExecutable:processExecutable})),_react.default.createElement(_args.Args,{eventId:id,args:args,contextId:contextId,processTitle:processTitle}),result!=null&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},i18n.WITH_RESULT),_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"auditd.result",queryValue:result,value:result})))}));exports.AuditdGenericLine=AuditdGenericLine;AuditdGenericLine.displayName="AuditdGenericLine";var AuditdGenericDetails=_react.default.memo((function(_ref2){var data=_ref2.data,contextId=_ref2.contextId,text=_ref2.text,timelineId=_ref2.timelineId;var id=data._id;var session=(0,_fp.get)("auditd.session[0]",data);var hostName=(0,_fp.get)("host.name[0]",data);var userName=(0,_fp.get)("user.name[0]",data);var result=(0,_fp.get)("auditd.result[0]",data);var processPid=(0,_fp.get)("process.pid[0]",data);var processName=(0,_fp.get)("process.name[0]",data);var processExecutable=(0,_fp.get)("process.executable[0]",data);var processTitle=(0,_fp.get)("process.title[0]",data);var workingDirectory=(0,_fp.get)("process.working_directory[0]",data);var primary=(0,_fp.get)("auditd.summary.actor.primary[0]",data);var secondary=(0,_fp.get)("auditd.summary.actor.secondary[0]",data);var args=(0,_fp.get)("process.args",data);if(data.process!=null){return _react.default.createElement(_helpers.Details,null,_react.default.createElement(AuditdGenericLine,{id:id,contextId:contextId,text:text,hostName:hostName,userName:userName,processName:processName,processPid:processPid,processExecutable:processExecutable,processTitle:processTitle,workingDirectory:workingDirectory,args:args,session:session,primary:primary,result:result,secondary:secondary}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_netflow.NetflowRenderer,{data:data,timelineId:timelineId}))}else{return null}}));exports.AuditdGenericDetails=AuditdGenericDetails;AuditdGenericDetails.displayName="AuditdGenericDetails"},8818:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SERVER_CERT=exports.CLIENT_CERT=void 0;var _i18n=__webpack_require__(2);var CLIENT_CERT=_i18n.i18n.translate("xpack.siem.certificate.fingerprint.clientCertLabel",{defaultMessage:"client cert"});exports.CLIENT_CERT=CLIENT_CERT;var SERVER_CERT=_i18n.i18n.translate("xpack.siem.certificate.fingerprint.serverCertLabel",{defaultMessage:"server cert"});exports.SERVER_CERT=SERVER_CERT},8819:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JA3_FINGERPRINT_LABEL=void 0;var _i18n=__webpack_require__(2);var JA3_FINGERPRINT_LABEL=_i18n.i18n.translate("xpack.siem.ja3.fingerprint.ja3.fingerprintLabel",{defaultMessage:"ja3"});exports.JA3_FINGERPRINT_LABEL=JA3_FINGERPRINT_LABEL},8820:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Fingerprints=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _certificate_fingerprint=__webpack_require__(7340);var _ja3_fingerprint=__webpack_require__(7341);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Fingerprints=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,tlsClientCertificateFingerprintSha1=_ref.tlsClientCertificateFingerprintSha1,tlsFingerprintsJa3Hash=_ref.tlsFingerprintsJa3Hash,tlsServerCertificateFingerprintSha1=_ref.tlsServerCertificateFingerprintSha1;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center","data-test-subj":"fingerprints-group",direction:"column",justifyContent:"center",gutterSize:"none"},tlsFingerprintsJa3Hash!=null?(0,_fp.uniq)(tlsFingerprintsJa3Hash).map((function(ja3){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:ja3},_react.default.createElement(_ja3_fingerprint.Ja3Fingerprint,{eventId:eventId,fieldName:_ja3_fingerprint.JA3_HASH_FIELD_NAME,contextId:contextId,value:ja3}))})):null,tlsClientCertificateFingerprintSha1!=null?(0,_fp.uniq)(tlsClientCertificateFingerprintSha1).map((function(clientCert){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:clientCert},_react.default.createElement(_certificate_fingerprint.CertificateFingerprint,{eventId:eventId,certificateType:"client",contextId:contextId,fieldName:_certificate_fingerprint.TLS_CLIENT_CERTIFICATE_FINGERPRINT_SHA1_FIELD_NAME,value:clientCert}))})):null,tlsServerCertificateFingerprintSha1!=null?(0,_fp.uniq)(tlsServerCertificateFingerprintSha1).map((function(serverCert){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:serverCert},_react.default.createElement(_certificate_fingerprint.CertificateFingerprint,{eventId:eventId,certificateType:"server",contextId:contextId,fieldName:_certificate_fingerprint.TLS_SERVER_CERTIFICATE_FINGERPRINT_SHA1_FIELD_NAME,value:serverCert}))})):null)}));exports.Fingerprints=Fingerprints;Fingerprints.displayName="Fingerprints"},8821:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetflowColumns=exports.EVENT_END=exports.EVENT_START=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _source_destination=__webpack_require__(8822);var _duration_event_start_end=__webpack_require__(7343);var _user_process=__webpack_require__(7649);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EVENT_START="event.start";exports.EVENT_START=EVENT_START;var EVENT_END="event.end";exports.EVENT_END=EVENT_END;var EuiFlexItemMarginRight=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"EuiFlexItemMarginRight",componentId:"sc-1lh4en2-0"})(["margin-right:10px;"]);EuiFlexItemMarginRight.displayName="EuiFlexItemMarginRight";var NetflowColumns=_react.default.memo((function(_ref){var contextId=_ref.contextId,destinationBytes=_ref.destinationBytes,destinationGeoContinentName=_ref.destinationGeoContinentName,destinationGeoCountryName=_ref.destinationGeoCountryName,destinationGeoCountryIsoCode=_ref.destinationGeoCountryIsoCode,destinationGeoRegionName=_ref.destinationGeoRegionName,destinationGeoCityName=_ref.destinationGeoCityName,destinationIp=_ref.destinationIp,destinationPackets=_ref.destinationPackets,destinationPort=_ref.destinationPort,eventDuration=_ref.eventDuration,eventId=_ref.eventId,eventEnd=_ref.eventEnd,eventStart=_ref.eventStart,networkBytes=_ref.networkBytes,networkCommunityId=_ref.networkCommunityId,networkDirection=_ref.networkDirection,networkPackets=_ref.networkPackets,networkProtocol=_ref.networkProtocol,processName=_ref.processName,sourceBytes=_ref.sourceBytes,sourceGeoContinentName=_ref.sourceGeoContinentName,sourceGeoCountryName=_ref.sourceGeoCountryName,sourceGeoCountryIsoCode=_ref.sourceGeoCountryIsoCode,sourceGeoRegionName=_ref.sourceGeoRegionName,sourceGeoCityName=_ref.sourceGeoCityName,sourceIp=_ref.sourceIp,sourcePackets=_ref.sourcePackets,sourcePort=_ref.sourcePort,transport=_ref.transport,userName=_ref.userName;return _react.default.createElement(_eui.EuiFlexGroup,{"data-test-subj":"netflow-columns",gutterSize:"none",justifyContent:"center",wrap:true},_react.default.createElement(EuiFlexItemMarginRight,{grow:false},_react.default.createElement(_user_process.UserProcess,{contextId:contextId,eventId:eventId,processName:processName,userName:userName})),_react.default.createElement(EuiFlexItemMarginRight,{grow:false},_react.default.createElement(_duration_event_start_end.DurationEventStartEnd,{contextId:contextId,eventDuration:eventDuration,eventId:eventId,eventEnd:eventEnd,eventStart:eventStart})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_source_destination.SourceDestination,{contextId:contextId,destinationBytes:destinationBytes,destinationGeoContinentName:destinationGeoContinentName,destinationGeoCountryName:destinationGeoCountryName,destinationGeoCountryIsoCode:destinationGeoCountryIsoCode,destinationGeoRegionName:destinationGeoRegionName,destinationGeoCityName:destinationGeoCityName,destinationIp:destinationIp,destinationPackets:destinationPackets,destinationPort:destinationPort,eventId:eventId,networkBytes:networkBytes,networkCommunityId:networkCommunityId,networkDirection:networkDirection,networkPackets:networkPackets,networkProtocol:networkProtocol,sourceBytes:sourceBytes,sourceGeoContinentName:sourceGeoContinentName,sourceGeoCountryName:sourceGeoCountryName,sourceGeoCountryIsoCode:sourceGeoCountryIsoCode,sourceGeoRegionName:sourceGeoRegionName,sourceGeoCityName:sourceGeoCityName,sourceIp:sourceIp,sourcePackets:sourcePackets,sourcePort:sourcePort,transport:transport})))}));exports.NetflowColumns=NetflowColumns;NetflowColumns.displayName="NetflowColumns"},8822:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceDestination=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _network=__webpack_require__(8823);var _source_destination_with_arrows=__webpack_require__(8825);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EuiFlexItemMarginTop=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"EuiFlexItemMarginTop",componentId:"xatag5-0"})(["margin-top:3px;"]);EuiFlexItemMarginTop.displayName="EuiFlexItemMarginTop";var SourceDestination=_react.default.memo((function(_ref){var contextId=_ref.contextId,destinationBytes=_ref.destinationBytes,destinationGeoContinentName=_ref.destinationGeoContinentName,destinationGeoCountryName=_ref.destinationGeoCountryName,destinationGeoCountryIsoCode=_ref.destinationGeoCountryIsoCode,destinationGeoRegionName=_ref.destinationGeoRegionName,destinationGeoCityName=_ref.destinationGeoCityName,destinationIp=_ref.destinationIp,destinationPackets=_ref.destinationPackets,destinationPort=_ref.destinationPort,eventId=_ref.eventId,networkBytes=_ref.networkBytes,networkCommunityId=_ref.networkCommunityId,networkDirection=_ref.networkDirection,networkPackets=_ref.networkPackets,networkProtocol=_ref.networkProtocol,sourceBytes=_ref.sourceBytes,sourceGeoContinentName=_ref.sourceGeoContinentName,sourceGeoCountryName=_ref.sourceGeoCountryName,sourceGeoCountryIsoCode=_ref.sourceGeoCountryIsoCode,sourceGeoRegionName=_ref.sourceGeoRegionName,sourceGeoCityName=_ref.sourceGeoCityName,sourceIp=_ref.sourceIp,sourcePackets=_ref.sourcePackets,sourcePort=_ref.sourcePort,transport=_ref.transport;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",direction:"column",justifyContent:"center",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_network.Network,{bytes:networkBytes,packets:networkPackets,communityId:networkCommunityId,contextId:contextId,eventId:eventId,direction:networkDirection,protocol:networkProtocol,transport:transport})),_react.default.createElement(EuiFlexItemMarginTop,{grow:false},_react.default.createElement(_source_destination_with_arrows.SourceDestinationWithArrows,{contextId:contextId,destinationBytes:destinationBytes,destinationGeoContinentName:destinationGeoContinentName,destinationGeoCountryName:destinationGeoCountryName,destinationGeoCountryIsoCode:destinationGeoCountryIsoCode,destinationGeoRegionName:destinationGeoRegionName,destinationGeoCityName:destinationGeoCityName,destinationIp:destinationIp,destinationPackets:destinationPackets,destinationPort:destinationPort,eventId:eventId,sourceBytes:sourceBytes,sourceGeoContinentName:sourceGeoContinentName,sourceGeoCountryName:sourceGeoCountryName,sourceGeoCountryIsoCode:sourceGeoCountryIsoCode,sourceGeoRegionName:sourceGeoRegionName,sourceGeoCityName:sourceGeoCityName,sourceIp:sourceIp,sourcePackets:sourcePackets,sourcePort:sourcePort})))}));exports.SourceDestination=SourceDestination;SourceDestination.displayName="SourceDestination"},8823:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Network=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _direction=__webpack_require__(8824);var _draggables=__webpack_require__(7018);var i18n=_interopRequireWildcard(__webpack_require__(7648));var _field_names=__webpack_require__(7213);var _formatted_bytes=__webpack_require__(7133);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EuiFlexItemMarginRight=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"EuiFlexItemMarginRight",componentId:"sc-1hu3r1e-0"})(["margin-right:3px;"]);EuiFlexItemMarginRight.displayName="EuiFlexItemMarginRight";var Stats=(0,_styledComponents.default)(_eui.EuiText).withConfig({displayName:"Stats",componentId:"sc-1hu3r1e-1"})(["margin:0 5px;"]);Stats.displayName="Stats";var Network=_react.default.memo((function(_ref){var bytes=_ref.bytes,communityId=_ref.communityId,contextId=_ref.contextId,direction=_ref.direction,eventId=_ref.eventId,packets=_ref.packets,protocol=_ref.protocol,transport=_ref.transport;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"center",gutterSize:"none"},direction!=null?(0,_fp.uniq)(direction).map((function(dir){return _react.default.createElement(EuiFlexItemMarginRight,{grow:false,key:dir},_react.default.createElement(_direction.DirectionBadge,{contextId:contextId,eventId:eventId,direction:dir}))})):null,protocol!=null?(0,_fp.uniq)(protocol).map((function(proto){return _react.default.createElement(EuiFlexItemMarginRight,{grow:false,key:proto},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,"data-test-subj":"network-protocol",eventId:eventId,field:_field_names.NETWORK_PROTOCOL_FIELD_NAME,value:proto}))})):null,bytes!=null?(0,_fp.uniq)(bytes).map((function(b){return!isNaN(Number(b))?_react.default.createElement(EuiFlexItemMarginRight,{grow:false,key:b},_react.default.createElement(_draggables.DefaultDraggable,{field:_field_names.NETWORK_BYTES_FIELD_NAME,id:"network-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(_field_names.NETWORK_BYTES_FIELD_NAME,"-").concat(b),value:b},_react.default.createElement(Stats,{size:"xs"},_react.default.createElement("span",{"data-test-subj":"network-bytes"},_react.default.createElement(_formatted_bytes.PreferenceFormattedBytes,{value:b}))))):null})):null,packets!=null?(0,_fp.uniq)(packets).map((function(p){return _react.default.createElement(EuiFlexItemMarginRight,{grow:false,key:p},_react.default.createElement(_draggables.DefaultDraggable,{field:_field_names.NETWORK_PACKETS_FIELD_NAME,id:"network-default-draggable-".concat(contextId,"-").concat(eventId,"-").concat(_field_names.NETWORK_PACKETS_FIELD_NAME,"-").concat(p),value:p},_react.default.createElement(Stats,{size:"xs"},_react.default.createElement("span",{"data-test-subj":"network-packets"},"".concat(p," ").concat(i18n.PACKETS)))))})):null,transport!=null?(0,_fp.uniq)(transport).map((function(trans){return _react.default.createElement(EuiFlexItemMarginRight,{grow:false,key:trans},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,"data-test-subj":"network-transport",eventId:eventId,field:_field_names.NETWORK_TRANSPORT_FIELD_NAME,value:trans}))})):null,communityId!=null?(0,_fp.uniq)(communityId).map((function(trans){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:trans},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,"data-test-subj":"network-community-id",eventId:eventId,field:_field_names.NETWORK_COMMUNITY_ID_FIELD_NAME,value:trans}))})):null)}));exports.Network=Network;Network.displayName="Network"},8824:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DirectionBadge=exports.getDirectionIcon=exports.DEFAULT_ICON=exports.UNKNOWN=exports.LISTENING=exports.OUTGOING=exports.INCOMING=exports.INTERNAL=exports.EXTERNAL=exports.OUTBOUND=exports.INBOUND=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _types=__webpack_require__(671);var _draggables=__webpack_require__(7018);var _field_names=__webpack_require__(7213);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var INBOUND="inbound";exports.INBOUND=INBOUND;var OUTBOUND="outbound";exports.OUTBOUND=OUTBOUND;var EXTERNAL="external";exports.EXTERNAL=EXTERNAL;var INTERNAL="internal";exports.INTERNAL=INTERNAL;var INCOMING="incoming";exports.INCOMING=INCOMING;var OUTGOING="outgoing";exports.OUTGOING=OUTGOING;var LISTENING="listening";exports.LISTENING=LISTENING;var UNKNOWN="unknown";exports.UNKNOWN=UNKNOWN;var DEFAULT_ICON="questionInCircle";exports.DEFAULT_ICON=DEFAULT_ICON;var getDirectionIcon=function getDirectionIcon(networkDirection){if(networkDirection==null){return DEFAULT_ICON}var direction="".concat(networkDirection).toLowerCase();switch(direction){case _types.NetworkDirectionEcs.outbound:case _types.NetworkDirectionEcs.outgoing:return"arrowUp";case _types.NetworkDirectionEcs.inbound:case _types.NetworkDirectionEcs.incoming:case _types.NetworkDirectionEcs.listening:return"arrowDown";case _types.NetworkDirectionEcs.external:return"globe";case _types.NetworkDirectionEcs.internal:return"bullseye";case _types.NetworkDirectionEcs.unknown:default:return DEFAULT_ICON}};exports.getDirectionIcon=getDirectionIcon;var DirectionBadge=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,direction=_ref.direction;return _react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,"data-test-subj":"network-direction",eventId:eventId,field:_field_names.NETWORK_DIRECTION_FIELD_NAME,iconType:getDirectionIcon(direction),value:direction})}));exports.DirectionBadge=DirectionBadge;DirectionBadge.displayName="DirectionBadge"},8825:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceDestinationWithArrows=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _source_destination_arrows=__webpack_require__(7214);var _source_destination_ip=__webpack_require__(8828);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SourceDestinationWithArrows=_react.default.memo((function(_ref){var contextId=_ref.contextId,destinationBytes=_ref.destinationBytes,destinationGeoContinentName=_ref.destinationGeoContinentName,destinationGeoCountryName=_ref.destinationGeoCountryName,destinationGeoCountryIsoCode=_ref.destinationGeoCountryIsoCode,destinationGeoRegionName=_ref.destinationGeoRegionName,destinationGeoCityName=_ref.destinationGeoCityName,destinationIp=_ref.destinationIp,destinationPackets=_ref.destinationPackets,destinationPort=_ref.destinationPort,eventId=_ref.eventId,sourceBytes=_ref.sourceBytes,sourceGeoContinentName=_ref.sourceGeoContinentName,sourceGeoCountryName=_ref.sourceGeoCountryName,sourceGeoCountryIsoCode=_ref.sourceGeoCountryIsoCode,sourceGeoRegionName=_ref.sourceGeoRegionName,sourceGeoCityName=_ref.sourceGeoCityName,sourcePackets=_ref.sourcePackets,sourceIp=_ref.sourceIp,sourcePort=_ref.sourcePort;return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_source_destination_ip.SourceDestinationIp,{contextId:contextId,destinationGeoContinentName:destinationGeoContinentName,destinationGeoCountryName:destinationGeoCountryName,destinationGeoCountryIsoCode:destinationGeoCountryIsoCode,destinationGeoRegionName:destinationGeoRegionName,destinationGeoCityName:destinationGeoCityName,destinationIp:destinationIp,destinationPort:destinationPort,eventId:eventId,sourceGeoContinentName:sourceGeoContinentName,sourceGeoCountryName:sourceGeoCountryName,sourceGeoCountryIsoCode:sourceGeoCountryIsoCode,sourceGeoRegionName:sourceGeoRegionName,sourceGeoCityName:sourceGeoCityName,sourceIp:sourceIp,sourcePort:sourcePort,type:"source"})),_react.default.createElement(_source_destination_arrows.SourceDestinationArrows,{contextId:contextId,destinationBytes:destinationBytes,destinationPackets:destinationPackets,eventId:eventId,sourceBytes:sourceBytes,sourcePackets:sourcePackets}),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_source_destination_ip.SourceDestinationIp,{contextId:contextId,destinationGeoContinentName:destinationGeoContinentName,destinationGeoCountryName:destinationGeoCountryName,destinationGeoCountryIsoCode:destinationGeoCountryIsoCode,destinationGeoRegionName:destinationGeoRegionName,destinationGeoCityName:destinationGeoCityName,destinationIp:destinationIp,destinationPort:destinationPort,eventId:eventId,sourceGeoContinentName:sourceGeoContinentName,sourceGeoCountryName:sourceGeoCountryName,sourceGeoCountryIsoCode:sourceGeoCountryIsoCode,sourceGeoRegionName:sourceGeoRegionName,sourceGeoCityName:sourceGeoCityName,sourceIp:sourceIp,sourcePort:sourcePort,type:"destination"})))}));exports.SourceDestinationWithArrows=SourceDestinationWithArrows;SourceDestinationWithArrows.displayName="SourceDestinationWithArrows"},8826:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ArrowHead=exports.ArrowBody=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ArrowBody=_styledComponents.default.span.withConfig({displayName:"ArrowBody",componentId:"vsjaxd-0"})(["background-color:",";height:",";width:25px;"],(function(props){return props.theme.eui.euiColorLightShade}),(function(_ref){var height=_ref.height;return"".concat(height,"px")}));exports.ArrowBody=ArrowBody;ArrowBody.displayName="ArrowBody";var ArrowHead=_react.default.memo((function(_ref2){var direction=_ref2.direction;return _react.default.createElement(_eui.EuiIcon,{color:"subdued","data-test-subj":"arrow-icon",size:"s",type:direction})}));exports.ArrowHead=ArrowHead;ArrowHead.displayName="ArrowHead"},8827:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasOneValue=exports.getPercent=exports.getArrowHeightFromPercent=exports.MAX_ARROW_HEIGHT=exports.DEFAULT_ARROW_HEIGHT=void 0;var _d3Scale=__webpack_require__(253);var DEFAULT_ARROW_HEIGHT=1;exports.DEFAULT_ARROW_HEIGHT=DEFAULT_ARROW_HEIGHT;var MAX_ARROW_HEIGHT=4;exports.MAX_ARROW_HEIGHT=MAX_ARROW_HEIGHT;var getArrowHeightFromPercent=(0,_d3Scale.scaleLinear)().domain([0,100]).range([DEFAULT_ARROW_HEIGHT,MAX_ARROW_HEIGHT]).clamp(true);exports.getArrowHeightFromPercent=getArrowHeightFromPercent;var getPercent=function getPercent(_ref){var numerator=_ref.numerator,denominator=_ref.denominator;if(Math.abs(denominator)<Number.EPSILON||!Number.isFinite(numerator)||!Number.isFinite(denominator)){return undefined}return numerator/denominator*100};exports.getPercent=getPercent;var hasOneValue=function hasOneValue(array){return Array.isArray(array)&&array.length===1};exports.hasOneValue=hasOneValue},8828:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceDestinationIp=exports.hasPorts=exports.getPorts=exports.isIpFieldPopulated=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _ip=__webpack_require__(7212);var _port=__webpack_require__(7157);var i18n=_interopRequireWildcard(__webpack_require__(7158));var _geo_fields=__webpack_require__(7342);var _ip_with_port=__webpack_require__(8829);var _label=__webpack_require__(8830);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isIpFieldPopulated=function isIpFieldPopulated(_ref){var destinationIp=_ref.destinationIp,sourceIp=_ref.sourceIp,type=_ref.type;return type==="source"&&sourceIp!=null&&sourceIp.some((function(ip){return!(0,_fp.isEmpty)(ip)}))||type==="destination"&&destinationIp!=null&&destinationIp.some((function(ip){return!(0,_fp.isEmpty)(ip)}))};exports.isIpFieldPopulated=isIpFieldPopulated;var getPorts=function getPorts(_ref2){var destinationPort=_ref2.destinationPort,sourcePort=_ref2.sourcePort,type=_ref2.type;var ports=type==="source"&&sourcePort!=null?sourcePort:type==="destination"&&destinationPort!=null?destinationPort:[];return ports.filter((function(p){return p!=null})).map((function(p){return"".concat(p)})).filter((function(p){return!(0,_fp.isEmpty)(p)}))};exports.getPorts=getPorts;var hasPorts=function hasPorts(_ref3){var destinationPort=_ref3.destinationPort,sourcePort=_ref3.sourcePort,type=_ref3.type;return getPorts({destinationPort:destinationPort,sourcePort:sourcePort,type:type}).length>0};exports.hasPorts=hasPorts;var IpAdressesWithPorts=_react.default.memo((function(_ref4){var contextId=_ref4.contextId,destinationIp=_ref4.destinationIp,destinationPort=_ref4.destinationPort,eventId=_ref4.eventId,sourceIp=_ref4.sourceIp,sourcePort=_ref4.sourcePort,type=_ref4.type;var ip=type==="source"?sourceIp:destinationIp;var ipFieldName=type==="source"?_ip.SOURCE_IP_FIELD_NAME:_ip.DESTINATION_IP_FIELD_NAME;var port=type==="source"?sourcePort:destinationPort;var portFieldName=type==="source"?_port.SOURCE_PORT_FIELD_NAME:_port.DESTINATION_PORT_FIELD_NAME;if(ip==null){return null}var ipPortPairs=port!=null&&ip.length===port.length?ip.map((function(address,i){return{ip:address,port:port[i]!=null?"".concat(port[i]):null}})):ip.map((function(address){return{ip:address,port:null}}));return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none"},(0,_fp.uniqWith)(_fp.isEqual,ipPortPairs).map((function(ipPortPair){return ipPortPair.ip!=null&&_react.default.createElement(_eui.EuiFlexItem,{grow:false,key:ipPortPair.ip},_react.default.createElement(_ip_with_port.IpWithPort,{contextId:contextId,"data-test-subj":"".concat(type,"-ip-and-port"),eventId:eventId,ip:ipPortPair.ip,ipFieldName:ipFieldName,port:ipPortPair.port,portFieldName:portFieldName}))})))}));IpAdressesWithPorts.displayName="IpAdressesWithPorts";var SourceDestinationIp=_react.default.memo((function(_ref5){var contextId=_ref5.contextId,destinationGeoContinentName=_ref5.destinationGeoContinentName,destinationGeoCountryName=_ref5.destinationGeoCountryName,destinationGeoCountryIsoCode=_ref5.destinationGeoCountryIsoCode,destinationGeoRegionName=_ref5.destinationGeoRegionName,destinationGeoCityName=_ref5.destinationGeoCityName,destinationIp=_ref5.destinationIp,destinationPort=_ref5.destinationPort,eventId=_ref5.eventId,sourceGeoContinentName=_ref5.sourceGeoContinentName,sourceGeoCountryName=_ref5.sourceGeoCountryName,sourceGeoCountryIsoCode=_ref5.sourceGeoCountryIsoCode,sourceGeoRegionName=_ref5.sourceGeoRegionName,sourceGeoCityName=_ref5.sourceGeoCityName,sourceIp=_ref5.sourceIp,sourcePort=_ref5.sourcePort,type=_ref5.type;var label=type==="source"?i18n.SOURCE:i18n.DESTINATION;return isIpFieldPopulated({destinationIp:destinationIp,sourceIp:sourceIp,type:type})||hasPorts({destinationPort:destinationPort,sourcePort:sourcePort,type:type})?_react.default.createElement(_eui.EuiBadge,{"data-test-subj":"".concat(type,"-ip-badge"),color:"hollow"},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center","data-test-subj":"".concat(type,"-ip-group"),direction:"column",gutterSize:"xs"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_label.Label,{"data-test-subj":"".concat(type,"-label")},label)),_react.default.createElement(_eui.EuiFlexItem,{grow:false},isIpFieldPopulated({destinationIp:destinationIp,sourceIp:sourceIp,type:type})?_react.default.createElement(IpAdressesWithPorts,{contextId:contextId,destinationIp:destinationIp,destinationPort:destinationPort,eventId:eventId,sourceIp:sourceIp,sourcePort:sourcePort,type:type}):_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none"},getPorts({destinationPort:destinationPort,sourcePort:sourcePort,type:type}).map((function(port,i){return _react.default.createElement(_eui.EuiFlexItem,{key:"port-".concat(port,"-").concat(i),grow:false},_react.default.createElement(_port.Port,{contextId:contextId,"data-test-subj":"port",eventId:eventId,fieldName:"".concat(type,".port"),value:port}))})))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_geo_fields.GeoFields,{contextId:contextId,destinationGeoContinentName:destinationGeoContinentName,destinationGeoCountryName:destinationGeoCountryName,destinationGeoCountryIsoCode:destinationGeoCountryIsoCode,destinationGeoRegionName:destinationGeoRegionName,destinationGeoCityName:destinationGeoCityName,eventId:eventId,sourceGeoContinentName:sourceGeoContinentName,sourceGeoCountryName:sourceGeoCountryName,sourceGeoCountryIsoCode:sourceGeoCountryIsoCode,sourceGeoRegionName:sourceGeoRegionName,sourceGeoCityName:sourceGeoCityName,type:type})))):null}));exports.SourceDestinationIp=SourceDestinationIp;SourceDestinationIp.displayName="SourceDestinationIp"},8829:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IpWithPort=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _ip=__webpack_require__(7212);var _port=__webpack_require__(7157);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var IpPortSeparator=_styledComponents.default.span.withConfig({displayName:"IpPortSeparator",componentId:"sc-8f7edl-0"})(["margin:0 3px;"]);IpPortSeparator.displayName="IpPortSeparator";var PortWithSeparator=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,port=_ref.port,portFieldName=_ref.portFieldName;return port!=null?_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(IpPortSeparator,{"data-test-subj":"ip-port-separator"},":")),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_port.Port,{contextId:contextId,"data-test-subj":"port",eventId:eventId,fieldName:portFieldName,value:port}))):null}));PortWithSeparator.displayName="PortWithSeparator";var IpWithPort=_react.default.memo((function(_ref2){var contextId=_ref2.contextId,eventId=_ref2.eventId,ip=_ref2.ip,ipFieldName=_ref2.ipFieldName,port=_ref2.port,portFieldName=_ref2.portFieldName;return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_ip.Ip,{contextId:contextId,"data-test-subj":"ip",eventId:eventId,fieldName:ipFieldName,value:ip})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(PortWithSeparator,{contextId:contextId,eventId:eventId,port:port,portFieldName:portFieldName})))}));exports.IpWithPort=IpWithPort;IpWithPort.displayName="IpWithPort"},8830:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Label=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Label=_styledComponents.default.div.withConfig({displayName:"Label",componentId:"sc-15zbfan-0"})(["font-weight:bold;margin-top:2px;"]);exports.Label=Label},8831:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PrimarySecondaryUserInfo=exports.PrimarySecondary=exports.nilOrUnSet=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var i18n=_interopRequireWildcard(__webpack_require__(7160));var _helpers=__webpack_require__(7022);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var nilOrUnSet=function nilOrUnSet(value){return value==null||value.toLowerCase()==="unset"};exports.nilOrUnSet=nilOrUnSet;var PrimarySecondary=_react.default.memo((function(_ref){var contextId=_ref.contextId,eventId=_ref.eventId,primary=_ref.primary,secondary=_ref.secondary;if(nilOrUnSet(primary)&&nilOrUnSet(secondary)){return null}else if(!nilOrUnSet(primary)&&nilOrUnSet(secondary)){return _react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"auditd.summary.actor.primary",value:primary,iconType:"user"})}else if(nilOrUnSet(primary)&&!nilOrUnSet(secondary)){return _react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"auditd.summary.actor.secondary",value:secondary,iconType:"user"})}else if(primary===secondary){return _react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"auditd.summary.actor.secondary",value:secondary,iconType:"user"})}else{return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none"},_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"auditd.summary.actor.primary",value:primary,iconType:"user"})),_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},i18n.AS),_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"auditd.summary.actor.secondary",value:secondary,iconType:"user"})))}}));exports.PrimarySecondary=PrimarySecondary;PrimarySecondary.displayName="PrimarySecondary";var PrimarySecondaryUserInfo=_react.default.memo((function(_ref2){var contextId=_ref2.contextId,eventId=_ref2.eventId,userName=_ref2.userName,primary=_ref2.primary,secondary=_ref2.secondary;if(nilOrUnSet(userName)&&nilOrUnSet(primary)&&nilOrUnSet(secondary)){return null}else if(!nilOrUnSet(userName)&&!nilOrUnSet(primary)&&!nilOrUnSet(secondary)&&userName===primary&&userName===secondary){return _react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"user.name",value:userName,iconType:"user"})}else if(!nilOrUnSet(userName)&&nilOrUnSet(primary)&&nilOrUnSet(secondary)){return _react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"user.name",value:userName,iconType:"user"})}else{return _react.default.createElement(PrimarySecondary,{contextId:contextId,eventId:eventId,primary:primary,secondary:secondary})}}));exports.PrimarySecondaryUserInfo=PrimarySecondaryUserInfo;PrimarySecondaryUserInfo.displayName="PrimarySecondaryUserInfo"},8832:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AuditdGenericFileDetails=exports.AuditdGenericFileLine=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var i18n=_interopRequireWildcard(__webpack_require__(7160));var _netflow=__webpack_require__(7092);var _helpers=__webpack_require__(7022);var _process_draggable=__webpack_require__(7137);var _args=__webpack_require__(7344);var _session_user_host_working_dir=__webpack_require__(7650);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AuditdGenericFileLine=_react.default.memo((function(_ref){var id=_ref.id,contextId=_ref.contextId,hostName=_ref.hostName,userName=_ref.userName,result=_ref.result,primary=_ref.primary,secondary=_ref.secondary,filePath=_ref.filePath,processName=_ref.processName,processPid=_ref.processPid,processExecutable=_ref.processExecutable,processTitle=_ref.processTitle,workingDirectory=_ref.workingDirectory,args=_ref.args,session=_ref.session,text=_ref.text,fileIcon=_ref.fileIcon;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"center",gutterSize:"none",wrap:true},_react.default.createElement(_session_user_host_working_dir.SessionUserHostWorkingDir,{eventId:id,contextId:contextId,hostName:hostName,userName:userName,primary:primary,secondary:secondary,workingDirectory:workingDirectory,session:session}),(filePath!=null||processExecutable!=null)&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},text),_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"file.path",value:filePath,iconType:fileIcon})),processExecutable!=null&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},i18n.USING),_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_process_draggable.ProcessDraggable,{contextId:contextId,endgamePid:undefined,endgameProcessName:undefined,eventId:id,processPid:processPid,processName:processName,processExecutable:processExecutable})),_react.default.createElement(_args.Args,{eventId:id,args:args,contextId:contextId,processTitle:processTitle}),result!=null&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},i18n.WITH_RESULT),_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"auditd.result",queryValue:result,value:result})))}));exports.AuditdGenericFileLine=AuditdGenericFileLine;AuditdGenericFileLine.displayName="AuditdGenericFileLine";var AuditdGenericFileDetails=_react.default.memo((function(_ref2){var data=_ref2.data,contextId=_ref2.contextId,text=_ref2.text,_ref2$fileIcon=_ref2.fileIcon,fileIcon=_ref2$fileIcon===void 0?"document":_ref2$fileIcon,timelineId=_ref2.timelineId;var id=data._id;var session=(0,_fp.get)("auditd.session[0]",data);var hostName=(0,_fp.get)("host.name[0]",data);var userName=(0,_fp.get)("user.name[0]",data);var result=(0,_fp.get)("auditd.result[0]",data);var processPid=(0,_fp.get)("process.pid[0]",data);var processName=(0,_fp.get)("process.name[0]",data);var processExecutable=(0,_fp.get)("process.executable[0]",data);var processTitle=(0,_fp.get)("process.title[0]",data);var workingDirectory=(0,_fp.get)("process.working_directory[0]",data);var filePath=(0,_fp.get)("file.path[0]",data);var primary=(0,_fp.get)("auditd.summary.actor.primary[0]",data);var secondary=(0,_fp.get)("auditd.summary.actor.secondary[0]",data);var args=(0,_fp.get)("process.args",data);if(data.process!=null){return _react.default.createElement(_helpers.Details,null,_react.default.createElement(AuditdGenericFileLine,{id:id,contextId:contextId,text:text,hostName:hostName,userName:userName,filePath:filePath,processName:processName,processPid:processPid,processExecutable:processExecutable,processTitle:processTitle,workingDirectory:workingDirectory,args:args,session:session,primary:primary,secondary:secondary,fileIcon:fileIcon,result:result}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_netflow.NetflowRenderer,{data:data,timelineId:timelineId}))}else{return null}}));exports.AuditdGenericFileDetails=AuditdGenericFileDetails;AuditdGenericFileDetails.displayName="AuditdGenericFileDetails"},8833:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.emptyColumnRenderer=exports.dataNotExistsAtColumn=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggable_wrapper=__webpack_require__(7032);var _helpers=__webpack_require__(7021);var _empty_value=__webpack_require__(7017);var _data_provider=__webpack_require__(7024);var _provider=__webpack_require__(7051);var _parse_query_value=__webpack_require__(7645);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var dataNotExistsAtColumn=function dataNotExistsAtColumn(columnName,data){return data.findIndex((function(item){return item.field===columnName}))===-1};exports.dataNotExistsAtColumn=dataNotExistsAtColumn;var emptyColumnRenderer={isInstance:function isInstance(columnName,data){return dataNotExistsAtColumn(columnName,data)},renderColumn:function renderColumn(_ref){var columnName=_ref.columnName,eventId=_ref.eventId,field=_ref.field,timelineId=_ref.timelineId,truncate=_ref.truncate;return _react.default.createElement(_draggable_wrapper.DraggableWrapper,{dataProvider:{enabled:true,id:(0,_helpers.escapeDataProviderId)("empty-column-renderer-draggable-wrapper-".concat(timelineId,"-").concat(columnName,"-").concat(eventId,"-").concat(field.id)),name:"".concat(columnName,": ").concat((0,_parse_query_value.parseQueryValue)(null)),queryMatch:{field:field.id,value:(0,_parse_query_value.parseQueryValue)(null),displayValue:(0,_empty_value.getEmptyValue)(),operator:_data_provider.EXISTS_OPERATOR},excluded:true,kqlQuery:"",and:[]},key:"empty-column-renderer-draggable-wrapper-".concat(timelineId,"-").concat(columnName,"-").concat(eventId,"-").concat(field.id),render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:dataProvider})):_react.default.createElement("span",null,(0,_empty_value.getEmptyValue)())},truncate:truncate})}};exports.emptyColumnRenderer=emptyColumnRenderer},8834:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.netflowRowRenderer=exports.eventActionMatches=exports.eventCategoryMatches=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _helpers=__webpack_require__(7061);var _certificate_fingerprint=__webpack_require__(7340);var _duration=__webpack_require__(7211);var _event_id=__webpack_require__(7646);var _ip=__webpack_require__(7212);var _ja3_fingerprint=__webpack_require__(7341);var _netflow=__webpack_require__(7647);var _duration_event_start_end=__webpack_require__(7343);var _user_process=__webpack_require__(7649);var _port=__webpack_require__(7157);var _field_names=__webpack_require__(7213);var _geo_fields=__webpack_require__(7342);var _source_destination_arrows=__webpack_require__(7214);var _row_renderer=__webpack_require__(7159);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Details=_styledComponents.default.div.withConfig({displayName:"Details",componentId:"sc-1r10t4t-0"})(["margin:5px 0;"]);Details.displayName="Details";var EVENT_CATEGORY_FIELD="event.category";var EVENT_ACTION_FIELD="event.action";var NETWORK_TRAFFIC="network_traffic";var NETWORK_FLOW="network_flow";var NETFLOW_FLOW="netflow_flow";var eventCategoryMatches=function eventCategoryMatches(eventCategory){return"".concat(eventCategory).toLowerCase()===NETWORK_TRAFFIC};exports.eventCategoryMatches=eventCategoryMatches;var eventActionMatches=function eventActionMatches(eventAction){var action="".concat(eventAction).toLowerCase();return action===NETWORK_FLOW||action===NETFLOW_FLOW};exports.eventActionMatches=eventActionMatches;var netflowRowRenderer={isInstance:function isInstance(ecs){return eventCategoryMatches((0,_fp.get)(EVENT_CATEGORY_FIELD,ecs))||eventActionMatches((0,_fp.get)(EVENT_ACTION_FIELD,ecs))},renderRow:function renderRow(_ref){var data=_ref.data,children=_ref.children,timelineId=_ref.timelineId;return _react.default.createElement(_react.default.Fragment,null,children,_react.default.createElement(_row_renderer.RowRendererContainer,null,_react.default.createElement(Details,null,_react.default.createElement(_netflow.Netflow,{contextId:"netflow-row-renderer-render-row-".concat(timelineId,"-").concat(data._id),destinationBytes:(0,_helpers.asArrayIfExists)((0,_fp.get)(_source_destination_arrows.DESTINATION_BYTES_FIELD_NAME,data)),destinationGeoContinentName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.DESTINATION_GEO_CONTINENT_NAME_FIELD_NAME,data)),destinationGeoCountryName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.DESTINATION_GEO_COUNTRY_NAME_FIELD_NAME,data)),destinationGeoCountryIsoCode:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.DESTINATION_GEO_COUNTRY_ISO_CODE_FIELD_NAME,data)),destinationGeoRegionName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.DESTINATION_GEO_REGION_NAME_FIELD_NAME,data)),destinationGeoCityName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.DESTINATION_GEO_CITY_NAME_FIELD_NAME,data)),destinationIp:(0,_helpers.asArrayIfExists)((0,_fp.get)(_ip.DESTINATION_IP_FIELD_NAME,data)),destinationPackets:(0,_helpers.asArrayIfExists)((0,_fp.get)(_source_destination_arrows.DESTINATION_PACKETS_FIELD_NAME,data)),destinationPort:(0,_helpers.asArrayIfExists)((0,_fp.get)(_port.DESTINATION_PORT_FIELD_NAME,data)),eventDuration:(0,_helpers.asArrayIfExists)((0,_fp.get)(_duration.EVENT_DURATION_FIELD_NAME,data)),eventId:(0,_fp.get)(_event_id.ID_FIELD_NAME,data),eventEnd:(0,_helpers.asArrayIfExists)((0,_fp.get)(_duration_event_start_end.EVENT_END_FIELD_NAME,data)),eventStart:(0,_helpers.asArrayIfExists)((0,_fp.get)(_duration_event_start_end.EVENT_START_FIELD_NAME,data)),networkBytes:(0,_helpers.asArrayIfExists)((0,_fp.get)(_field_names.NETWORK_BYTES_FIELD_NAME,data)),networkCommunityId:(0,_helpers.asArrayIfExists)((0,_fp.get)(_field_names.NETWORK_COMMUNITY_ID_FIELD_NAME,data)),networkDirection:(0,_helpers.asArrayIfExists)((0,_fp.get)(_field_names.NETWORK_DIRECTION_FIELD_NAME,data)),networkPackets:(0,_helpers.asArrayIfExists)((0,_fp.get)(_field_names.NETWORK_PACKETS_FIELD_NAME,data)),networkProtocol:(0,_helpers.asArrayIfExists)((0,_fp.get)(_field_names.NETWORK_PROTOCOL_FIELD_NAME,data)),processName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_user_process.PROCESS_NAME_FIELD_NAME,data)),sourceBytes:(0,_helpers.asArrayIfExists)((0,_fp.get)(_source_destination_arrows.SOURCE_BYTES_FIELD_NAME,data)),sourceGeoContinentName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.SOURCE_GEO_CONTINENT_NAME_FIELD_NAME,data)),sourceGeoCountryName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.SOURCE_GEO_COUNTRY_NAME_FIELD_NAME,data)),sourceGeoCountryIsoCode:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.SOURCE_GEO_COUNTRY_ISO_CODE_FIELD_NAME,data)),sourceGeoRegionName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.SOURCE_GEO_REGION_NAME_FIELD_NAME,data)),sourceGeoCityName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_geo_fields.SOURCE_GEO_CITY_NAME_FIELD_NAME,data)),sourceIp:(0,_helpers.asArrayIfExists)((0,_fp.get)(_ip.SOURCE_IP_FIELD_NAME,data)),sourcePackets:(0,_helpers.asArrayIfExists)((0,_fp.get)(_source_destination_arrows.SOURCE_PACKETS_FIELD_NAME,data)),sourcePort:(0,_helpers.asArrayIfExists)((0,_fp.get)(_port.SOURCE_PORT_FIELD_NAME,data)),tlsClientCertificateFingerprintSha1:(0,_helpers.asArrayIfExists)((0,_fp.get)(_certificate_fingerprint.TLS_CLIENT_CERTIFICATE_FINGERPRINT_SHA1_FIELD_NAME,data)),tlsFingerprintsJa3Hash:(0,_helpers.asArrayIfExists)((0,_fp.get)(_ja3_fingerprint.JA3_HASH_FIELD_NAME,data)),tlsServerCertificateFingerprintSha1:(0,_helpers.asArrayIfExists)((0,_fp.get)(_certificate_fingerprint.TLS_SERVER_CERTIFICATE_FINGERPRINT_SHA1_FIELD_NAME,data)),transport:(0,_helpers.asArrayIfExists)((0,_fp.get)(_field_names.NETWORK_TRANSPORT_FIELD_NAME,data)),userName:(0,_helpers.asArrayIfExists)((0,_fp.get)(_user_process.USER_NAME_FIELD_NAME,data))}))))}};exports.netflowRowRenderer=netflowRowRenderer},8835:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.plainColumnRenderer=exports.dataExistsAtColumn=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _empty_value=__webpack_require__(7017);var _formatted_field=__webpack_require__(7338);var _parse_value=__webpack_require__(8836);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var dataExistsAtColumn=function dataExistsAtColumn(columnName,data){return data.findIndex((function(item){return item.field===columnName}))!==-1};exports.dataExistsAtColumn=dataExistsAtColumn;var plainColumnRenderer={isInstance:function isInstance(columnName,data){return dataExistsAtColumn(columnName,data)},renderColumn:function renderColumn(_ref){var columnName=_ref.columnName,eventId=_ref.eventId,field=_ref.field,timelineId=_ref.timelineId,truncate=_ref.truncate,values=_ref.values,linkValues=_ref.linkValues;return values!=null?values.map((function(value){return _react.default.createElement(_formatted_field.FormattedFieldValue,{key:"plain-column-renderer-formatted-field-value-".concat(timelineId,"-").concat(columnName,"-").concat(eventId,"-").concat(field.id,"-").concat(value),contextId:"plain-column-renderer-formatted-field-value-".concat(timelineId),eventId:eventId,fieldFormat:field.format||"",fieldName:columnName,fieldType:field.type||"",value:(0,_parse_value.parseValue)(value),truncate:truncate,linkValue:(0,_fp.head)(linkValues)})})):(0,_empty_value.getEmptyTagValue)()}};exports.plainColumnRenderer=plainColumnRenderer},8836:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseValue=void 0;var _fp=__webpack_require__(223);var parseValue=function parseValue(value){if((0,_fp.isObject)(value)){return JSON.stringify(value)}return value};exports.parseValue=parseValue},8837:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.suricataRowRenderer=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _row_renderer=__webpack_require__(7159);var _suricata_details=__webpack_require__(8838);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var suricataRowRenderer={isInstance:function isInstance(ecs){var module=(0,_fp.get)("event.module[0]",ecs);return module!=null&&module.toLowerCase()==="suricata"},renderRow:function renderRow(_ref){var browserFields=_ref.browserFields,data=_ref.data,children=_ref.children,timelineId=_ref.timelineId;return _react.default.createElement(_react.default.Fragment,null,children,_react.default.createElement(_row_renderer.RowRendererContainer,null,_react.default.createElement(_suricata_details.SuricataDetails,{data:data,browserFields:browserFields,timelineId:timelineId})))}};exports.suricataRowRenderer=suricataRowRenderer},8838:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SuricataDetails=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _netflow=__webpack_require__(7092);var _suricata_signature=__webpack_require__(8839);var _suricata_refs=__webpack_require__(8841);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Details=_styledComponents.default.div.withConfig({displayName:"Details",componentId:"nhaahu-0"})(["margin:5px 0;"]);Details.displayName="Details";var SuricataDetails=_react.default.memo((function(_ref){var data=_ref.data,timelineId=_ref.timelineId;var signature=(0,_fp.get)("suricata.eve.alert.signature[0]",data);var signatureId=(0,_fp.get)("suricata.eve.alert.signature_id[0]",data);if(signatureId!=null&&signature!=null){return _react.default.createElement(Details,null,_react.default.createElement(_suricata_signature.SuricataSignature,{contextId:"suricata-signature-".concat(timelineId,"-").concat(data._id),id:data._id,signature:signature,signatureId:signatureId}),_react.default.createElement(_suricata_refs.SuricataRefs,{signatureId:signatureId}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_netflow.NetflowRenderer,{data:data,timelineId:timelineId}))}else{return null}}));exports.SuricataDetails=SuricataDetails;SuricataDetails.displayName="SuricataDetails"},8839:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SuricataSignature=exports.DraggableSignatureId=exports.Tokens=exports.SURICATA_SIGNATURE_ID_FIELD_NAME=exports.SURICATA_SIGNATURE_FIELD_NAME=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _draggable_wrapper=__webpack_require__(7032);var _helpers=__webpack_require__(7021);var _external_link_icon=__webpack_require__(7136);var _links=__webpack_require__(7034);var _provider=__webpack_require__(7051);var _helpers2=__webpack_require__(7022);var _suricata_links=__webpack_require__(7653);var _draggables=__webpack_require__(7018);var _data_provider=__webpack_require__(7024);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var SURICATA_SIGNATURE_FIELD_NAME="suricata.eve.alert.signature";exports.SURICATA_SIGNATURE_FIELD_NAME=SURICATA_SIGNATURE_FIELD_NAME;var SURICATA_SIGNATURE_ID_FIELD_NAME="suricata.eve.alert.signature_id";exports.SURICATA_SIGNATURE_ID_FIELD_NAME=SURICATA_SIGNATURE_ID_FIELD_NAME;var SignatureFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"SignatureFlexItem",componentId:"sc-1eyuffi-0"})(["min-width:77px;"]);SignatureFlexItem.displayName="SignatureFlexItem";var Badge=function Badge(props){return _react.default.createElement(_eui.EuiBadge,_extends({},props,{style:{verticalAlign:"top"}}))};Badge.displayName="Badge";var LinkFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"LinkFlexItem",componentId:"sc-1eyuffi-1"})(["margin-left:6px;"]);LinkFlexItem.displayName="LinkFlexItem";var Tokens=_react.default.memo((function(_ref){var tokens=_ref.tokens;return _react.default.createElement(_react.default.Fragment,null,tokens.map((function(token){return _react.default.createElement(_helpers2.TokensFlexItem,{key:token,grow:false},_react.default.createElement(_eui.EuiBadge,{iconType:"tag",color:"hollow"},token))})))}));exports.Tokens=Tokens;Tokens.displayName="Tokens";var DraggableSignatureId=_react.default.memo((function(_ref2){var id=_ref2.id,signatureId=_ref2.signatureId;return _react.default.createElement(SignatureFlexItem,{grow:false},_react.default.createElement(_draggable_wrapper.DraggableWrapper,{dataProvider:{and:[],enabled:true,id:(0,_helpers.escapeDataProviderId)("suricata-draggable-signature-id-".concat(id,"-sig-").concat(signatureId)),name:String(signatureId),excluded:false,kqlQuery:"",queryMatch:{field:SURICATA_SIGNATURE_ID_FIELD_NAME,value:signatureId,operator:_data_provider.IS_OPERATOR}},render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:dataProvider})):_react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"signature-id-tooltip",content:SURICATA_SIGNATURE_ID_FIELD_NAME},_react.default.createElement(Badge,{iconType:"number",color:"hollow"},signatureId))}}))}));exports.DraggableSignatureId=DraggableSignatureId;DraggableSignatureId.displayName="DraggableSignatureId";var SuricataSignature=_react.default.memo((function(_ref3){var contextId=_ref3.contextId,id=_ref3.id,signature=_ref3.signature,signatureId=_ref3.signatureId;var tokens=(0,_suricata_links.getBeginningTokens)(signature);return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",gutterSize:"none",wrap:true},_react.default.createElement(DraggableSignatureId,{id:"draggable-signature-id-".concat(contextId,"-").concat(id),signatureId:signatureId}),_react.default.createElement(Tokens,{tokens:tokens}),_react.default.createElement(LinkFlexItem,{grow:false},_react.default.createElement(_draggables.DefaultDraggable,{"data-test-subj":"draggable-signature-link",field:SURICATA_SIGNATURE_FIELD_NAME,id:"suricata-signature-default-draggable-".concat(contextId,"-").concat(id,"-").concat(SURICATA_SIGNATURE_FIELD_NAME),value:signature},_react.default.createElement("div",null,_react.default.createElement(_links.GoogleLink,{link:signature},signature.split(" ").splice(tokens.length).join(" ")),_react.default.createElement(_external_link_icon.ExternalLinkIcon,null)))))}));exports.SuricataSignature=SuricataSignature;SuricataSignature.displayName="SuricataSignature"},8841:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SuricataRefs=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _external_link_icon=__webpack_require__(7136);var _suricata_links=__webpack_require__(7653);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LinkEuiFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"LinkEuiFlexItem",componentId:"sc-1islbaw-0"})(["display:inline;"]);LinkEuiFlexItem.displayName="LinkEuiFlexItem";var SuricataRefs=_react.default.memo((function(_ref){var signatureId=_ref.signatureId;var links=(0,_suricata_links.getLinksFromSignature)(signatureId);return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"center",wrap:true},links.map((function(link){return _react.default.createElement(LinkEuiFlexItem,{key:link,grow:false},_react.default.createElement(_eui.EuiLink,{href:link,color:"subdued",target:"_blank"},link),_react.default.createElement(_external_link_icon.ExternalLinkIcon,null))})))}));exports.SuricataRefs=SuricataRefs;SuricataRefs.displayName="SuricataRefs"},8842:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.unknownColumnRenderer=void 0;var _empty_value=__webpack_require__(7017);var unknownColumnRenderer={isInstance:function isInstance(){return true},renderColumn:function renderColumn(){return(0,_empty_value.getEmptyTagValue)()}};exports.unknownColumnRenderer=unknownColumnRenderer},8843:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.zeekRowRenderer=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _row_renderer=__webpack_require__(7159);var _zeek_details=__webpack_require__(8844);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var zeekRowRenderer={isInstance:function isInstance(ecs){var module=(0,_fp.get)("event.module[0]",ecs);return module!=null&&module.toLowerCase()==="zeek"},renderRow:function renderRow(_ref){var browserFields=_ref.browserFields,data=_ref.data,children=_ref.children,timelineId=_ref.timelineId;return _react.default.createElement(_react.default.Fragment,null,children,_react.default.createElement(_row_renderer.RowRendererContainer,null,_react.default.createElement(_zeek_details.ZeekDetails,{data:data,browserFields:browserFields,timelineId:timelineId})))}};exports.zeekRowRenderer=zeekRowRenderer},8844:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ZeekDetails=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _netflow=__webpack_require__(7092);var _zeek_signature=__webpack_require__(8845);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Details=_styledComponents.default.div.withConfig({displayName:"Details",componentId:"e7cscz-0"})(["margin:5px 0;"]);Details.displayName="Details";var ZeekDetails=_react.default.memo((function(_ref){var data=_ref.data,timelineId=_ref.timelineId;return data.zeek!=null?_react.default.createElement(Details,null,_react.default.createElement(_zeek_signature.ZeekSignature,{data:data,timelineId:timelineId}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_netflow.NetflowRenderer,{data:data,timelineId:timelineId})):null}));exports.ZeekDetails=ZeekDetails;ZeekDetails.displayName="ZeekDetails"},8845:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ZeekSignature=exports.constructDroppedValue=exports.extractStateValue=exports.extractStateLink=exports.zeekConnLogDictionay=exports.TotalVirusLinkSha=exports.Link=exports.DraggableZeekElement=exports.sha1StringRenderer=exports.md5StringRenderer=exports.droppedStringRenderer=exports.moduleStringRenderer=exports.defaultStringRenderer=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _draggable_wrapper=__webpack_require__(7032);var _helpers=__webpack_require__(7021);var _external_link_icon=__webpack_require__(7136);var _links=__webpack_require__(7034);var _provider=__webpack_require__(7051);var _data_provider=__webpack_require__(7024);var i18n=_interopRequireWildcard(__webpack_require__(8846));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var Badge=function Badge(props){return _react.default.createElement(_eui.EuiBadge,_extends({},props,{style:{verticalAlign:"top"}}))};Badge.displayName="Badge";var TokensFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"TokensFlexItem",componentId:"sc-14gql1f-0"})(["margin-left:3px;"]);TokensFlexItem.displayName="TokensFlexItem";var LinkFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"LinkFlexItem",componentId:"sc-14gql1f-1"})(["margin-left:6px;"]);LinkFlexItem.displayName="LinkFlexItem";var defaultStringRenderer=function defaultStringRenderer(value){return value};exports.defaultStringRenderer=defaultStringRenderer;var moduleStringRenderer=function moduleStringRenderer(value){var split=value.split(".");if(split.length>=2&&split[1]!=null){if(split[1]!==""){return split[1]}else{return split[0]}}else{return value}};exports.moduleStringRenderer=moduleStringRenderer;var droppedStringRenderer=function droppedStringRenderer(value){return"Dropped:".concat(value)};exports.droppedStringRenderer=droppedStringRenderer;var md5StringRenderer=function md5StringRenderer(value){return"md5: ".concat(value.substr(0,7),"...")};exports.md5StringRenderer=md5StringRenderer;var sha1StringRenderer=function sha1StringRenderer(value){return"sha1: ".concat(value.substr(0,7),"...")};exports.sha1StringRenderer=sha1StringRenderer;var DraggableZeekElement=_react.default.memo((function(_ref){var id=_ref.id,field=_ref.field,value=_ref.value,_ref$stringRenderer=_ref.stringRenderer,stringRenderer=_ref$stringRenderer===void 0?defaultStringRenderer:_ref$stringRenderer;return value!=null?_react.default.createElement(TokensFlexItem,{grow:false},_react.default.createElement(_draggable_wrapper.DraggableWrapper,{dataProvider:{and:[],enabled:true,id:(0,_helpers.escapeDataProviderId)("draggable-zeek-element-draggable-wrapper-".concat(id,"-").concat(field,"-").concat(value)),name:value,excluded:false,kqlQuery:"",queryMatch:{field:field,value:value,operator:_data_provider.IS_OPERATOR}},render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:dataProvider})):_react.default.createElement(_eui.EuiToolTip,{"data-test-subj":"badge-tooltip",content:field},_react.default.createElement(Badge,{iconType:"tag",color:"hollow"},stringRenderer(value)))}})):null}));exports.DraggableZeekElement=DraggableZeekElement;DraggableZeekElement.displayName="DraggableZeekElement";var Link=_react.default.memo((function(_ref2){var value=_ref2.value,link=_ref2.link;if(value!=null){if(link!=null){return _react.default.createElement(LinkFlexItem,{grow:false},_react.default.createElement("div",null,_react.default.createElement(_links.GoogleLink,{link:link},value),_react.default.createElement(_external_link_icon.ExternalLinkIcon,null)))}else{return _react.default.createElement(LinkFlexItem,{grow:false},_react.default.createElement("div",null,_react.default.createElement(_links.GoogleLink,{link:value}),_react.default.createElement(_external_link_icon.ExternalLinkIcon,null)))}}else{return null}}));exports.Link=Link;Link.displayName="Link";var TotalVirusLinkSha=_react.default.memo((function(_ref3){var value=_ref3.value;return value!=null?_react.default.createElement(LinkFlexItem,{grow:false},_react.default.createElement("div",null,_react.default.createElement(_links.VirusTotalLink,{link:value},value),_react.default.createElement(_external_link_icon.ExternalLinkIcon,null))):null}));exports.TotalVirusLinkSha=TotalVirusLinkSha;TotalVirusLinkSha.displayName="TotalVirusLinkSha";var zeekConnLogDictionay={S0:i18n.S0,S1:i18n.S1,S2:i18n.S2,S3:i18n.S3,SF:i18n.SF,REJ:i18n.REJ,RSTO:i18n.RSTO,RSTR:i18n.RSTR,RSTOS0:i18n.RSTOS0,RSTRH:i18n.RSTRH,SH:i18n.SH,SHR:i18n.SHR,OTH:i18n.OTH};exports.zeekConnLogDictionay=zeekConnLogDictionay;var extractStateLink=function extractStateLink(state){if(state!=null){var lookup=zeekConnLogDictionay[state];if(lookup!=null){return"".concat(state," ").concat(lookup)}else{return state}}else{return null}};exports.extractStateLink=extractStateLink;var extractStateValue=function extractStateValue(state){return state!=null&&zeekConnLogDictionay[state]!=null?zeekConnLogDictionay[state]:null};exports.extractStateValue=extractStateValue;var constructDroppedValue=function constructDroppedValue(dropped){return dropped!=null?String(dropped):null};exports.constructDroppedValue=constructDroppedValue;var ZeekSignature=_react.default.memo((function(_ref4){var data=_ref4.data,timelineId=_ref4.timelineId;var id="zeek-signature-draggable-zeek-element-".concat(timelineId,"-").concat(data._id);var sessionId=(0,_fp.get)("zeek.session_id[0]",data);var dataSet=(0,_fp.get)("event.dataset[0]",data);var sslVersion=(0,_fp.get)("zeek.ssl.version[0]",data);var cipher=(0,_fp.get)("zeek.ssl.cipher[0]",data);var state=(0,_fp.get)("zeek.connection.state[0]",data);var history=(0,_fp.get)("zeek.connection.history[0]",data);var note=(0,_fp.get)("zeek.notice.note[0]",data);var noteMsg=(0,_fp.get)("zeek.notice.msg[0]",data);var dropped=constructDroppedValue((0,_fp.get)("zeek.notice.dropped[0]",data));var dnsQuery=(0,_fp.get)("zeek.dns.query[0]",data);var qClassName=(0,_fp.get)("zeek.dns.qclass_name[0]",data);var httpMethod=(0,_fp.get)("http.request.method[0]",data);var httpResponseStatusCode=(0,_fp.get)("http.response.status_code[0]",data);var urlOriginal=(0,_fp.get)("url.original[0]",data);var fileSha1=(0,_fp.get)("zeek.files.sha1[0]",data);var filemd5=(0,_fp.get)("zeek.files.md5[0]",data);var stateLink=extractStateLink(state);var stateValue=extractStateValue(state);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",gutterSize:"none",wrap:true},_react.default.createElement(DraggableZeekElement,{id:id,field:"zeek.session_id",value:sessionId}),_react.default.createElement(DraggableZeekElement,{id:id,field:"event.dataset",value:dataSet,stringRenderer:moduleStringRenderer}),_react.default.createElement(DraggableZeekElement,{id:id,field:"zeek.files.sha1",value:fileSha1,stringRenderer:sha1StringRenderer}),_react.default.createElement(DraggableZeekElement,{id:id,field:"zeek.files.md5",value:filemd5,stringRenderer:md5StringRenderer}),_react.default.createElement(DraggableZeekElement,{id:id,field:"zeek.notice.dropped",value:dropped,stringRenderer:droppedStringRenderer}),_react.default.createElement(DraggableZeekElement,{id:id,field:"zeek.ssl.version",value:sslVersion}),_react.default.createElement(DraggableZeekElement,{id:id,field:"zeek.ssl.cipher",value:cipher}),_react.default.createElement(DraggableZeekElement,{id:id,field:"zeek.connection.state",value:state}),_react.default.createElement(DraggableZeekElement,{id:id,field:"http.request.method",value:httpMethod}),_react.default.createElement(DraggableZeekElement,{id:id,field:"zeek.connection.history",value:history}),_react.default.createElement(DraggableZeekElement,{id:id,field:"zeek.notice.note",value:note}),_react.default.createElement(DraggableZeekElement,{id:id,field:"zeek.dns.query",value:dnsQuery}),_react.default.createElement(DraggableZeekElement,{id:id,field:"zeek.dns.qclass_name",value:qClassName}),_react.default.createElement(DraggableZeekElement,{id:id,field:"http.response.status_code",value:httpResponseStatusCode})),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",gutterSize:"none"},_react.default.createElement(Link,{link:stateLink,value:stateValue}),_react.default.createElement(Link,{value:cipher}),_react.default.createElement(Link,{value:dnsQuery}),_react.default.createElement(Link,{value:noteMsg}),_react.default.createElement(Link,{value:urlOriginal}),_react.default.createElement(TotalVirusLinkSha,{value:fileSha1})))}));exports.ZeekSignature=ZeekSignature;ZeekSignature.displayName="ZeekSignature"},8846:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OTH=exports.SHR=exports.SH=exports.RSTRH=exports.RSTOS0=exports.RSTR=exports.RSTO=exports.REJ=exports.SF=exports.S3=exports.S2=exports.S1=exports.S0=void 0;var _i18n=__webpack_require__(2);var S0=_i18n.i18n.translate("xpack.siem.zeek.s0Description",{defaultMessage:"Connection attempt seen, no reply"});exports.S0=S0;var S1=_i18n.i18n.translate("xpack.siem.zeek.s1Description",{defaultMessage:"Connection established, not terminated"});exports.S1=S1;var S2=_i18n.i18n.translate("xpack.siem.zeek.s2Description",{defaultMessage:"Connection established and close attempt by originator seen (but no reply from responder)"});exports.S2=S2;var S3=_i18n.i18n.translate("xpack.siem.zeek.s3Description",{defaultMessage:"Connection established and close attempt by responder seen (but no reply from originator)"});exports.S3=S3;var SF=_i18n.i18n.translate("xpack.siem.zeek.sfDescription",{defaultMessage:"Normal SYN/FIN completion"});exports.SF=SF;var REJ=_i18n.i18n.translate("xpack.siem.zeek.rejDescription",{defaultMessage:"Connection attempt rejected"});exports.REJ=REJ;var RSTO=_i18n.i18n.translate("xpack.siem.zeek.rstoODescription",{defaultMessage:"Connection established, originator aborted (sent a RST)"});exports.RSTO=RSTO;var RSTR=_i18n.i18n.translate("xpack.siem.zeek.rstrDescription",{defaultMessage:"Established, responder aborted"});exports.RSTR=RSTR;var RSTOS0=_i18n.i18n.translate("xpack.siem.zeek.rstosoDescription",{defaultMessage:"Originator sent a SYN followed by a RST, no SYN-ACK from the responder"});exports.RSTOS0=RSTOS0;var RSTRH=_i18n.i18n.translate("xpack.siem.zeek.rstrhDescription",{defaultMessage:"Responder sent a SYN ACK followed by a RST, no SYN from the (purported) originator"});exports.RSTRH=RSTRH;var SH=_i18n.i18n.translate("xpack.siem.zeek.shDescription",{defaultMessage:"Originator sent a SYN followed by a FIN, no SYN ACK from the responder"});exports.SH=SH;var SHR=_i18n.i18n.translate("xpack.siem.zeek.shrDescription",{defaultMessage:"Responder sent a SYN ACK followed by a FIN, no SYN from the originator"});exports.SHR=SHR;var OTH=_i18n.i18n.translate("xpack.siem.zeek.othDescription",{defaultMessage:"No SYN seen, just midstream traffic"});exports.OTH=OTH},8847:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.systemRowRenderers=exports.createDnsRowRenderer=exports.createSecurityEventRowRenderer=exports.createSocketRowRenderer=exports.createGenericFileRowRenderer=exports.createFimRowRenderer=exports.createEndgameProcessRowRenderer=exports.createGenericSystemRowRenderer=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _dns_request_event_details=__webpack_require__(8848);var _endgame_security_event_details=__webpack_require__(8851);var _helpers=__webpack_require__(7022);var _row_renderer=__webpack_require__(7159);var _generic_details=__webpack_require__(8854);var _generic_file_details=__webpack_require__(8855);var i18n=_interopRequireWildcard(__webpack_require__(7345));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var createGenericSystemRowRenderer=function createGenericSystemRowRenderer(_ref){var actionName=_ref.actionName,text=_ref.text;return{isInstance:function isInstance(ecs){var module=(0,_fp.get)("event.module[0]",ecs);var action=(0,_fp.get)("event.action[0]",ecs);return module!=null&&module.toLowerCase()==="system"&&action!=null&&action.toLowerCase()===actionName},renderRow:function renderRow(_ref2){var browserFields=_ref2.browserFields,data=_ref2.data,children=_ref2.children,timelineId=_ref2.timelineId;return _react.default.createElement(_react.default.Fragment,null,children,_react.default.createElement(_row_renderer.RowRendererContainer,null,_react.default.createElement(_generic_details.SystemGenericDetails,{browserFields:browserFields,data:data,contextId:"".concat(actionName,"-").concat(timelineId),text:text,timelineId:timelineId})))}}};exports.createGenericSystemRowRenderer=createGenericSystemRowRenderer;var createEndgameProcessRowRenderer=function createEndgameProcessRowRenderer(_ref3){var actionName=_ref3.actionName,text=_ref3.text;return{isInstance:function isInstance(ecs){var action=(0,_fp.get)("event.action[0]",ecs);var category=(0,_fp.get)("event.category[0]",ecs);return category!=null&&category.toLowerCase()==="process"&&action!=null&&action.toLowerCase()===actionName},renderRow:function renderRow(_ref4){var browserFields=_ref4.browserFields,data=_ref4.data,children=_ref4.children,timelineId=_ref4.timelineId;return _react.default.createElement(_react.default.Fragment,null,children,_react.default.createElement(_row_renderer.RowRendererContainer,null,_react.default.createElement(_generic_file_details.SystemGenericFileDetails,{browserFields:browserFields,data:data,contextId:"endgame-process-".concat(actionName,"-").concat(timelineId),showMessage:false,text:text,timelineId:timelineId})))}}};exports.createEndgameProcessRowRenderer=createEndgameProcessRowRenderer;var createFimRowRenderer=function createFimRowRenderer(_ref5){var actionName=_ref5.actionName,text=_ref5.text;return{isInstance:function isInstance(ecs){var action=(0,_fp.get)("event.action[0]",ecs);var category=(0,_fp.get)("event.category[0]",ecs);var dataset=(0,_fp.get)("event.dataset[0]",ecs);return(0,_helpers.isFileEvent)({eventCategory:category,eventDataset:dataset})&&action!=null&&action.toLowerCase()===actionName},renderRow:function renderRow(_ref6){var browserFields=_ref6.browserFields,data=_ref6.data,children=_ref6.children,timelineId=_ref6.timelineId;return _react.default.createElement(_react.default.Fragment,null,children,_react.default.createElement(_row_renderer.RowRendererContainer,null,_react.default.createElement(_generic_file_details.SystemGenericFileDetails,{browserFields:browserFields,data:data,contextId:"fim-".concat(actionName,"-").concat(timelineId),showMessage:false,text:text,timelineId:timelineId})))}}};exports.createFimRowRenderer=createFimRowRenderer;var createGenericFileRowRenderer=function createGenericFileRowRenderer(_ref7){var actionName=_ref7.actionName,text=_ref7.text;return{isInstance:function isInstance(ecs){var module=(0,_fp.get)("event.module[0]",ecs);var action=(0,_fp.get)("event.action[0]",ecs);return module!=null&&module.toLowerCase()==="system"&&action!=null&&action.toLowerCase()===actionName},renderRow:function renderRow(_ref8){var browserFields=_ref8.browserFields,data=_ref8.data,children=_ref8.children,timelineId=_ref8.timelineId;return _react.default.createElement(_react.default.Fragment,null,children,_react.default.createElement(_row_renderer.RowRendererContainer,null,_react.default.createElement(_generic_file_details.SystemGenericFileDetails,{browserFields:browserFields,data:data,contextId:"".concat(actionName,"-").concat(timelineId),text:text,timelineId:timelineId})))}}};exports.createGenericFileRowRenderer=createGenericFileRowRenderer;var createSocketRowRenderer=function createSocketRowRenderer(_ref9){var actionName=_ref9.actionName,text=_ref9.text;return{isInstance:function isInstance(ecs){var action=(0,_fp.get)("event.action[0]",ecs);return action!=null&&action.toLowerCase()===actionName},renderRow:function renderRow(_ref10){var browserFields=_ref10.browserFields,data=_ref10.data,children=_ref10.children,timelineId=_ref10.timelineId;return _react.default.createElement(_react.default.Fragment,null,children,_react.default.createElement(_row_renderer.RowRendererContainer,null,_react.default.createElement(_generic_file_details.SystemGenericFileDetails,{browserFields:browserFields,data:data,contextId:"socket-".concat(actionName,"-").concat(timelineId),text:text,timelineId:timelineId})))}}};exports.createSocketRowRenderer=createSocketRowRenderer;var createSecurityEventRowRenderer=function createSecurityEventRowRenderer(_ref11){var actionName=_ref11.actionName;return{isInstance:function isInstance(ecs){var category=(0,_fp.get)("event.category[0]",ecs);var action=(0,_fp.get)("event.action[0]",ecs);return category!=null&&category.toLowerCase()==="authentication"&&action!=null&&action.toLowerCase()===actionName},renderRow:function renderRow(_ref12){var browserFields=_ref12.browserFields,data=_ref12.data,children=_ref12.children,timelineId=_ref12.timelineId;return _react.default.createElement(_react.default.Fragment,null,children,_react.default.createElement(_row_renderer.RowRendererContainer,null,_react.default.createElement(_endgame_security_event_details.EndgameSecurityEventDetails,{browserFields:browserFields,data:data,contextId:"authentication-".concat(actionName,"-").concat(timelineId),timelineId:timelineId})))}}};exports.createSecurityEventRowRenderer=createSecurityEventRowRenderer;var createDnsRowRenderer=function createDnsRowRenderer(){return{isInstance:function isInstance(ecs){var dnsQuestionType=(0,_fp.get)("dns.question.type[0]",ecs);var dnsQuestionName=(0,_fp.get)("dns.question.name[0]",ecs);return!(0,_helpers.isNillEmptyOrNotFinite)(dnsQuestionType)&&!(0,_helpers.isNillEmptyOrNotFinite)(dnsQuestionName)},renderRow:function renderRow(_ref13){var browserFields=_ref13.browserFields,data=_ref13.data,children=_ref13.children,timelineId=_ref13.timelineId;return _react.default.createElement(_react.default.Fragment,null,children,_react.default.createElement(_row_renderer.RowRendererContainer,null,_react.default.createElement(_dns_request_event_details.DnsRequestEventDetails,{browserFields:browserFields,data:data,contextId:"dns-request-".concat(timelineId),timelineId:timelineId})))}}};exports.createDnsRowRenderer=createDnsRowRenderer;var systemLoginRowRenderer=createGenericSystemRowRenderer({actionName:"user_login",text:i18n.ATTEMPTED_LOGIN});var systemProcessStartedRowRenderer=createGenericFileRowRenderer({actionName:"process_started",text:i18n.PROCESS_STARTED});var endgameProcessStartedRowRenderer=createEndgameProcessRowRenderer({actionName:"creation_event",text:i18n.PROCESS_STARTED});var systemProcessStoppedRowRenderer=createGenericFileRowRenderer({actionName:"process_stopped",text:i18n.PROCESS_STOPPED});var endgameProcessTerminationRowRenderer=createEndgameProcessRowRenderer({actionName:"termination_event",text:i18n.TERMINATED_PROCESS});var endgameFileCreateEventRowRenderer=createFimRowRenderer({actionName:"file_create_event",text:i18n.CREATED_FILE});var fimFileCreateEventRowRenderer=createFimRowRenderer({actionName:"created",text:i18n.CREATED_FILE});var endgameFileDeleteEventRowRenderer=createFimRowRenderer({actionName:"file_delete_event",text:i18n.DELETED_FILE});var fimFileDeletedEventRowRenderer=createFimRowRenderer({actionName:"deleted",text:i18n.DELETED_FILE});var systemExistingRowRenderer=createGenericFileRowRenderer({actionName:"existing_process",text:i18n.EXISTING_PROCESS});var systemSocketOpenedRowRenderer=createSocketRowRenderer({actionName:"socket_opened",text:i18n.SOCKET_OPENED});var systemSocketClosedRowRenderer=createSocketRowRenderer({actionName:"socket_closed",text:i18n.SOCKET_CLOSED});var endgameIpv4ConnectionAcceptEventRowRenderer=createSocketRowRenderer({actionName:"ipv4_connection_accept_event",text:i18n.ACCEPTED_A_CONNECTION_VIA});var endgameIpv6ConnectionAcceptEventRowRenderer=createSocketRowRenderer({actionName:"ipv6_connection_accept_event",text:i18n.ACCEPTED_A_CONNECTION_VIA});var endgameIpv4DisconnectReceivedEventRowRenderer=createSocketRowRenderer({actionName:"ipv4_disconnect_received_event",text:i18n.DISCONNECTED_VIA});var endgameIpv6DisconnectReceivedEventRowRenderer=createSocketRowRenderer({actionName:"ipv6_disconnect_received_event",text:i18n.DISCONNECTED_VIA});var endgameAdminLogonRowRenderer=createSecurityEventRowRenderer({actionName:"admin_logon"});var endgameExplicitUserLogonRowRenderer=createSecurityEventRowRenderer({actionName:"explicit_user_logon"});var endgameUserLogoffRowRenderer=createSecurityEventRowRenderer({actionName:"user_logoff"});var endgameUserLogonRowRenderer=createSecurityEventRowRenderer({actionName:"user_logon"});var dnsRowRenderer=createDnsRowRenderer();var systemExistingUserRowRenderer=createGenericSystemRowRenderer({actionName:"existing_user",text:i18n.EXISTING_USER});var systemExistingSocketRowRenderer=createGenericFileRowRenderer({actionName:"existing_socket",text:i18n.EXISTING_SOCKET});var systemExistingPackageRowRenderer=createGenericSystemRowRenderer({actionName:"existing_package",text:i18n.EXISTING_PACKAGE});var systemInvalidRowRenderer=createGenericFileRowRenderer({actionName:"invalid",text:i18n.INVALID});var systemUserChangedRowRenderer=createGenericSystemRowRenderer({actionName:"user_changed",text:i18n.USER_CHANGED});var systemHostChangedRowRenderer=createGenericSystemRowRenderer({actionName:"host",text:i18n.HOST_CHANGED});var systemUserAddedRowRenderer=createGenericSystemRowRenderer({actionName:"user_added",text:i18n.USER_ADDED});var systemLogoutRowRenderer=createGenericSystemRowRenderer({actionName:"user_logout",text:i18n.LOGGED_OUT});var systemProcessErrorRowRenderer=createGenericFileRowRenderer({actionName:"process_error",text:i18n.PROCESS_ERROR});var systemErrorRowRendererDeprecated=createGenericSystemRowRenderer({actionName:"error:",text:i18n.ERROR});var systemErrorRowRenderer=createGenericSystemRowRenderer({actionName:"error",text:i18n.ERROR});var systemPackageInstalledRowRenderer=createGenericSystemRowRenderer({actionName:"package_installed",text:i18n.PACKAGE_INSTALLED});var systemBootRowRenderer=createGenericSystemRowRenderer({actionName:"boot",text:i18n.BOOT});var systemAcceptedRowRenderer=createGenericSystemRowRenderer({actionName:"accepted",text:i18n.ACCEPTED});var systemPackageUpdatedRowRenderer=createGenericSystemRowRenderer({actionName:"package_updated",text:i18n.PACKAGE_UPDATED});var systemPackageRemovedRowRenderer=createGenericSystemRowRenderer({actionName:"package_removed",text:i18n.PACKAGE_REMOVED});var systemUserRemovedRowRenderer=createGenericSystemRowRenderer({actionName:"user_removed",text:i18n.USER_REMOVED});var systemRowRenderers=[dnsRowRenderer,endgameAdminLogonRowRenderer,endgameExplicitUserLogonRowRenderer,endgameFileCreateEventRowRenderer,endgameFileDeleteEventRowRenderer,endgameIpv4ConnectionAcceptEventRowRenderer,endgameIpv6ConnectionAcceptEventRowRenderer,endgameIpv4DisconnectReceivedEventRowRenderer,endgameIpv6DisconnectReceivedEventRowRenderer,endgameProcessStartedRowRenderer,endgameProcessTerminationRowRenderer,endgameUserLogoffRowRenderer,endgameUserLogonRowRenderer,fimFileCreateEventRowRenderer,fimFileDeletedEventRowRenderer,systemAcceptedRowRenderer,systemBootRowRenderer,systemErrorRowRenderer,systemErrorRowRendererDeprecated,systemExistingPackageRowRenderer,systemExistingRowRenderer,systemExistingSocketRowRenderer,systemExistingUserRowRenderer,systemHostChangedRowRenderer,systemInvalidRowRenderer,systemLoginRowRenderer,systemLogoutRowRenderer,systemPackageInstalledRowRenderer,systemPackageUpdatedRowRenderer,systemPackageRemovedRowRenderer,systemProcessErrorRowRenderer,systemProcessStartedRowRenderer,systemProcessStoppedRowRenderer,systemSocketClosedRowRenderer,systemSocketOpenedRowRenderer,systemUserAddedRowRenderer,systemUserChangedRowRenderer,systemUserRemovedRowRenderer];exports.systemRowRenderers=systemRowRenderers},8848:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DnsRequestEventDetails=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _helpers=__webpack_require__(7022);var _netflow=__webpack_require__(7092);var _dns_request_event_details_line=__webpack_require__(8849);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DnsRequestEventDetails=_react.default.memo((function(_ref){var data=_ref.data,contextId=_ref.contextId,timelineId=_ref.timelineId;var dnsQuestionName=(0,_fp.get)("dns.question.name[0]",data);var dnsQuestionType=(0,_fp.get)("dns.question.type[0]",data);var dnsResolvedIp=(0,_fp.get)("dns.resolved_ip[0]",data);var dnsResponseCode=(0,_fp.get)("dns.response_code[0]",data);var eventCode=(0,_fp.get)("event.code[0]",data);var hostName=(0,_fp.get)("host.name[0]",data);var id=data._id;var processExecutable=(0,_fp.get)("process.executable[0]",data);var processName=(0,_fp.get)("process.name[0]",data);var processPid=(0,_fp.get)("process.pid[0]",data);var userDomain=(0,_fp.get)("user.domain[0]",data);var userName=(0,_fp.get)("user.name[0]",data);var winlogEventId=(0,_fp.get)("winlog.event_id[0]",data);return _react.default.createElement(_helpers.Details,null,_react.default.createElement(_dns_request_event_details_line.DnsRequestEventDetailsLine,{contextId:contextId,dnsQuestionName:dnsQuestionName,dnsQuestionType:dnsQuestionType,dnsResolvedIp:dnsResolvedIp,dnsResponseCode:dnsResponseCode,eventCode:eventCode,hostName:hostName,id:id,processExecutable:processExecutable,processName:processName,processPid:processPid,userDomain:userDomain,userName:userName,winlogEventId:winlogEventId}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_netflow.NetflowRenderer,{data:data,timelineId:timelineId}))}));exports.DnsRequestEventDetails=DnsRequestEventDetails;DnsRequestEventDetails.displayName="DnsRequestEventDetails"},8849:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DnsRequestEventDetailsLine=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _helpers=__webpack_require__(7022);var _process_draggable=__webpack_require__(7137);var _user_host_working_dir=__webpack_require__(7215);var i18n=_interopRequireWildcard(__webpack_require__(8850));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DnsRequestEventDetailsLine=_react.default.memo((function(_ref){var contextId=_ref.contextId,dnsQuestionName=_ref.dnsQuestionName,dnsQuestionType=_ref.dnsQuestionType,dnsResolvedIp=_ref.dnsResolvedIp,dnsResponseCode=_ref.dnsResponseCode,eventCode=_ref.eventCode,hostName=_ref.hostName,id=_ref.id,processExecutable=_ref.processExecutable,processName=_ref.processName,processPid=_ref.processPid,userDomain=_ref.userDomain,userName=_ref.userName,winlogEventId=_ref.winlogEventId;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"center",gutterSize:"none",wrap:true},_react.default.createElement(_user_host_working_dir.UserHostWorkingDir,{contextId:contextId,eventId:id,hostName:hostName,userDomain:userDomain,userName:userName,workingDirectory:undefined}),!(0,_helpers.isNillEmptyOrNotFinite)(dnsQuestionName)&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_helpers.TokensFlexItem,{component:"span","data-test-subj":"asked-for",grow:false},i18n.ASKED_FOR),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"dns.question.name",value:dnsQuestionName}))),!(0,_helpers.isNillEmptyOrNotFinite)(dnsQuestionType)&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_helpers.TokensFlexItem,{component:"span","data-test-subj":"with-question-type",grow:false},i18n.WITH_QUESTION_TYPE),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"dns.question.type",value:dnsQuestionType}))),!(0,_helpers.isNillEmptyOrNotFinite)(dnsResolvedIp)&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_helpers.TokensFlexItem,{component:"span","data-test-subj":"which-resolved-to",grow:false},i18n.WHICH_RESOLVED_TO),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"dns.resolved_ip",value:dnsResolvedIp}))),!(0,_helpers.isNillEmptyOrNotFinite)(dnsResponseCode)&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},"("),_react.default.createElement(_helpers.TokensFlexItem,{component:"span","data-test-subj":"response-code",grow:false},i18n.RESPONSE_CODE),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"dns.response_code",value:dnsResponseCode})),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},")")),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},i18n.VIA),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_process_draggable.ProcessDraggableWithNonExistentProcess,{contextId:contextId,endgamePid:undefined,endgameProcessName:undefined,eventId:id,processPid:processPid,processName:processName,processExecutable:processExecutable})),(!(0,_helpers.isNillEmptyOrNotFinite)(eventCode)||!(0,_helpers.isNillEmptyOrNotFinite)(winlogEventId))&&_react.default.createElement(_react.default.Fragment,null,!(0,_helpers.isNillEmptyOrNotFinite)(eventCode)?_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"event.code",value:eventCode})):_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,iconType:"logoWindows",field:"winlog.event_id",value:winlogEventId})))))}));exports.DnsRequestEventDetailsLine=DnsRequestEventDetailsLine;DnsRequestEventDetailsLine.displayName="DnsRequestEventDetailsLine"},8850:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WITH_QUESTION_TYPE=exports.WHICH_RESOLVED_TO=exports.VIA=exports.RESPONSE_CODE=exports.ASKED_FOR=void 0;var _i18n=__webpack_require__(2);var ASKED_FOR=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.dns.askedForDescription",{defaultMessage:"asked for"});exports.ASKED_FOR=ASKED_FOR;var RESPONSE_CODE=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.dns.responseCodeDescription",{defaultMessage:"response code:"});exports.RESPONSE_CODE=RESPONSE_CODE;var VIA=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.dns.viaDescription",{defaultMessage:"via"});exports.VIA=VIA;var WHICH_RESOLVED_TO=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.dns.whichResolvedToDescription",{defaultMessage:", which resolved to"});exports.WHICH_RESOLVED_TO=WHICH_RESOLVED_TO;var WITH_QUESTION_TYPE=_i18n.i18n.translate("xpack.siem.timeline.body.renderers.dns.withQuestionTypeDescription",{defaultMessage:"with question type"});exports.WITH_QUESTION_TYPE=WITH_QUESTION_TYPE},8851:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EndgameSecurityEventDetails=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _netflow=__webpack_require__(7092);var _endgame_security_event_details_line=__webpack_require__(8852);var _helpers=__webpack_require__(7022);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EndgameSecurityEventDetails=_react.default.memo((function(_ref){var data=_ref.data,contextId=_ref.contextId,timelineId=_ref.timelineId;var endgameLogonType=(0,_fp.get)("endgame.logon_type[0]",data);var endgameSubjectDomainName=(0,_fp.get)("endgame.subject_domain_name[0]",data);var endgameSubjectLogonId=(0,_fp.get)("endgame.subject_logon_id[0]",data);var endgameSubjectUserName=(0,_fp.get)("endgame.subject_user_name[0]",data);var endgameTargetLogonId=(0,_fp.get)("endgame.target_logon_id[0]",data);var endgameTargetDomainName=(0,_fp.get)("endgame.target_domain_name[0]",data);var endgameTargetUserName=(0,_fp.get)("endgame.target_user_name[0]",data);var eventAction=(0,_fp.get)("event.action[0]",data);var eventCode=(0,_fp.get)("event.code[0]",data);var hostName=(0,_fp.get)("host.name[0]",data);var id=data._id;var processExecutable=(0,_fp.get)("process.executable[0]",data);var processName=(0,_fp.get)("process.name[0]",data);var processPid=(0,_fp.get)("process.pid[0]",data);var userDomain=(0,_fp.get)("user.domain[0]",data);var userName=(0,_fp.get)("user.name[0]",data);var winlogEventId=(0,_fp.get)("winlog.event_id[0]",data);return _react.default.createElement(_helpers.Details,null,_react.default.createElement(_endgame_security_event_details_line.EndgameSecurityEventDetailsLine,{contextId:contextId,endgameLogonType:endgameLogonType,endgameSubjectDomainName:endgameSubjectDomainName,endgameSubjectLogonId:endgameSubjectLogonId,endgameSubjectUserName:endgameSubjectUserName,endgameTargetDomainName:endgameTargetDomainName,endgameTargetLogonId:endgameTargetLogonId,endgameTargetUserName:endgameTargetUserName,eventAction:eventAction,eventCode:eventCode,hostName:hostName,id:id,processExecutable:processExecutable,processName:processName,processPid:processPid,userDomain:userDomain,userName:userName,winlogEventId:winlogEventId}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_netflow.NetflowRenderer,{data:data,timelineId:timelineId}))}));exports.EndgameSecurityEventDetails=EndgameSecurityEventDetails;EndgameSecurityEventDetails.displayName="EndgameSecurityEventDetails"},8852:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EndgameSecurityEventDetailsLine=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _helpers=__webpack_require__(7022);var _process_draggable=__webpack_require__(7137);var _user_host_working_dir=__webpack_require__(7215);var _helpers2=__webpack_require__(8853);var i18n=_interopRequireWildcard(__webpack_require__(7654));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EndgameSecurityEventDetailsLine=_react.default.memo((function(_ref){var contextId=_ref.contextId,endgameLogonType=_ref.endgameLogonType,endgameSubjectDomainName=_ref.endgameSubjectDomainName,endgameSubjectLogonId=_ref.endgameSubjectLogonId,endgameSubjectUserName=_ref.endgameSubjectUserName,endgameTargetDomainName=_ref.endgameTargetDomainName,endgameTargetLogonId=_ref.endgameTargetLogonId,endgameTargetUserName=_ref.endgameTargetUserName,eventAction=_ref.eventAction,eventCode=_ref.eventCode,hostName=_ref.hostName,id=_ref.id,processExecutable=_ref.processExecutable,processName=_ref.processName,processPid=_ref.processPid,userDomain=_ref.userDomain,userName=_ref.userName,winlogEventId=_ref.winlogEventId;var domain=(0,_helpers2.getTargetUserAndTargetDomain)(eventAction)?endgameTargetDomainName:userDomain;var eventDetails=(0,_helpers2.getEventDetails)(eventAction);var hostNameSeparator=(0,_helpers2.getHostNameSeparator)(eventAction);var user=(0,_helpers2.getTargetUserAndTargetDomain)(eventAction)?endgameTargetUserName:userName;var userDomainField=(0,_helpers2.getUserDomainField)(eventAction);var userNameField=(0,_helpers2.getUserNameField)(eventAction);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"center",gutterSize:"none",wrap:true},eventAction==="admin_logon"&&_react.default.createElement(_helpers.TokensFlexItem,{component:"span","data-test-subj":"with-special-privileges",grow:false},i18n.WITH_SPECIAL_PRIVILEGES),eventAction==="explicit_user_logon"&&_react.default.createElement(_helpers.TokensFlexItem,{component:"span","data-test-subj":"a-login-was-attempted",grow:false},i18n.A_LOGIN_WAS_ATTEMPTED_USING_EXPLICIT_CREDENTIALS),_react.default.createElement(_user_host_working_dir.UserHostWorkingDir,{contextId:contextId,eventId:id,hostName:hostName,hostNameSeparator:hostNameSeparator,userDomain:domain,userDomainField:userDomainField,userName:user,userNameField:userNameField,workingDirectory:undefined}),_react.default.createElement(_helpers.TokensFlexItem,{component:"span","data-test-subj":"event-details",grow:false},eventDetails),!(0,_helpers.isNillEmptyOrNotFinite)(endgameLogonType)&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_helpers.TokensFlexItem,{component:"span","data-test-subj":"using-logon-type",grow:false},i18n.USING_LOGON_TYPE),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"endgame.logon_type",queryValue:String(endgameLogonType),value:"".concat(endgameLogonType," - ").concat((0,_helpers2.getHumanReadableLogonType)(endgameLogonType))}))),!(0,_helpers.isNillEmptyOrNotFinite)(endgameTargetLogonId)&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},"("),_react.default.createElement(_helpers.TokensFlexItem,{component:"span","data-test-subj":"using-logon-type",grow:false},i18n.TARGET_LOGON_ID),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"endgame.target_logon_id",value:endgameTargetLogonId})),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},")")),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},i18n.VIA),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_process_draggable.ProcessDraggableWithNonExistentProcess,{contextId:contextId,endgamePid:undefined,endgameProcessName:undefined,eventId:id,processPid:processPid,processName:processName,processExecutable:processExecutable})),!(0,_helpers.isNillEmptyOrNotFinite)(endgameSubjectUserName)&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_helpers.TokensFlexItem,{component:"span","data-test-subj":"as-requested-by-subject",grow:false},i18n.AS_REQUESTED_BY_SUBJECT),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"endgame.subject_user_name",iconType:"user",value:endgameSubjectUserName}))),endgameSubjectDomainName!=null&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_helpers.TokensFlexItem,{component:"span","data-test-subj":"subject-domain-name-domain-separator-text",grow:false},"\\"),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"endgame.subject_domain_name",value:endgameSubjectDomainName}))),!(0,_helpers.isNillEmptyOrNotFinite)(endgameSubjectLogonId)&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},"("),_react.default.createElement(_helpers.TokensFlexItem,{component:"span","data-test-subj":"subject-login-id",grow:false},i18n.SUBJECT_LOGON_ID),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"endgame.subject_logon_id",value:endgameSubjectLogonId})),_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},")")),(!(0,_helpers.isNillEmptyOrNotFinite)(eventCode)||!(0,_helpers.isNillEmptyOrNotFinite)(winlogEventId))&&_react.default.createElement(_react.default.Fragment,null,!(0,_helpers.isNillEmptyOrNotFinite)(eventCode)?_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"event.code",value:eventCode})):_react.default.createElement(_helpers.TokensFlexItem,{component:"span",grow:false},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,iconType:"logoWindows",field:"winlog.event_id",value:winlogEventId})))))}));exports.EndgameSecurityEventDetailsLine=EndgameSecurityEventDetailsLine;EndgameSecurityEventDetailsLine.displayName="EndgameSecurityEventDetailsLine"},8853:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getEventDetails=exports.getUserNameField=exports.getUserDomainField=exports.getTargetUserAndTargetDomain=exports.getHostNameSeparator=exports.getHumanReadableLogonType=void 0;var _helpers=__webpack_require__(7022);var i18n=_interopRequireWildcard(__webpack_require__(7654));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var getHumanReadableLogonType=function getHumanReadableLogonType(endgameLogonType){if((0,_helpers.isNillEmptyOrNotFinite)(endgameLogonType)){return""}switch(endgameLogonType){case 2:return i18n.LOGON_TYPE_INTERACTIVE;case 3:return i18n.LOGON_TYPE_NETWORK;case 4:return i18n.LOGON_TYPE_BATCH;case 5:return i18n.LOGON_TYPE_SERVICE;case 7:return i18n.LOGON_TYPE_UNLOCK;case 8:return i18n.LOGON_TYPE_NETWORK_CLEARTEXT;case 9:return i18n.LOGON_TYPE_NEW_CREDENTIALS;case 10:return i18n.LOGON_TYPE_REMOTE_INTERACTIVE;case 11:return i18n.LOGON_TYPE_CACHED_INTERACTIVE;default:return"".concat(endgameLogonType)}};exports.getHumanReadableLogonType=getHumanReadableLogonType;var getHostNameSeparator=function getHostNameSeparator(eventAction){return eventAction==="explicit_user_logon"?i18n.TO:"@"};exports.getHostNameSeparator=getHostNameSeparator;var getTargetUserAndTargetDomain=function getTargetUserAndTargetDomain(eventAction){return eventAction==="explicit_user_logon"||eventAction==="user_logoff"};exports.getTargetUserAndTargetDomain=getTargetUserAndTargetDomain;var getUserDomainField=function getUserDomainField(eventAction){return getTargetUserAndTargetDomain(eventAction)?"endgame.target_domain_name":"user.domain"};exports.getUserDomainField=getUserDomainField;var getUserNameField=function getUserNameField(eventAction){return getTargetUserAndTargetDomain(eventAction)?"endgame.target_user_name":"user.name"};exports.getUserNameField=getUserNameField;var getEventDetails=function getEventDetails(eventAction){switch(eventAction){case"explicit_user_logon":return"";case"user_logoff":return i18n.LOGGED_OFF;default:return i18n.SUCCESSFULLY_LOGGED_IN}};exports.getEventDetails=getEventDetails},8854:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SystemGenericDetails=exports.SystemGenericLine=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _helpers=__webpack_require__(7065);var i18n=_interopRequireWildcard(__webpack_require__(7345));var _netflow=__webpack_require__(7092);var _user_host_working_dir=__webpack_require__(7215);var _helpers2=__webpack_require__(7022);var _process_draggable=__webpack_require__(7137);var _package=__webpack_require__(7655);var _auth_ssh=__webpack_require__(7656);var _page=__webpack_require__(7055);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SystemGenericLine=_react.default.memo((function(_ref){var contextId=_ref.contextId,hostName=_ref.hostName,id=_ref.id,message=_ref.message,outcome=_ref.outcome,packageName=_ref.packageName,packageSummary=_ref.packageSummary,packageVersion=_ref.packageVersion,processPid=_ref.processPid,processName=_ref.processName,processExecutable=_ref.processExecutable,sshSignature=_ref.sshSignature,sshMethod=_ref.sshMethod,text=_ref.text,userDomain=_ref.userDomain,userName=_ref.userName,workingDirectory=_ref.workingDirectory;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"center",gutterSize:"none",wrap:true},_react.default.createElement(_user_host_working_dir.UserHostWorkingDir,{contextId:contextId,eventId:id,userDomain:userDomain,userName:userName,hostName:hostName,workingDirectory:workingDirectory}),_react.default.createElement(_helpers2.TokensFlexItem,{grow:false,component:"span"},text),_react.default.createElement(_helpers2.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_process_draggable.ProcessDraggable,{contextId:contextId,endgamePid:undefined,endgameProcessName:undefined,eventId:id,processPid:processPid,processName:processName,processExecutable:processExecutable})),outcome!=null&&_react.default.createElement(_helpers2.TokensFlexItem,{grow:false,component:"span"},i18n.WITH_RESULT),_react.default.createElement(_helpers2.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"event.outcome",queryValue:outcome,value:outcome})),_react.default.createElement(_auth_ssh.AuthSsh,{contextId:contextId,eventId:id,sshSignature:sshSignature,sshMethod:sshMethod}),_react.default.createElement(_package.Package,{contextId:contextId,eventId:id,packageName:packageName,packageSummary:packageSummary,packageVersion:packageVersion})),message!=null&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",gutterSize:"none",wrap:true},_react.default.createElement(_helpers2.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_page.Badge,{iconType:"editorComment",color:"hollow"},_react.default.createElement(_helpers.OverflowField,{value:message}))))))}));exports.SystemGenericLine=SystemGenericLine;SystemGenericLine.displayName="SystemGenericLine";var SystemGenericDetails=_react.default.memo((function(_ref2){var data=_ref2.data,contextId=_ref2.contextId,text=_ref2.text,timelineId=_ref2.timelineId;var id=data._id;var message=data.message!=null?data.message[0]:null;var hostName=(0,_fp.get)("host.name[0]",data);var userDomain=(0,_fp.get)("user.domain[0]",data);var userName=(0,_fp.get)("user.name[0]",data);var outcome=(0,_fp.get)("event.outcome[0]",data);var packageName=(0,_fp.get)("system.audit.package.name[0]",data);var packageSummary=(0,_fp.get)("system.audit.package.summary[0]",data);var packageVersion=(0,_fp.get)("system.audit.package.version[0]",data);var processPid=(0,_fp.get)("process.pid[0]",data);var processName=(0,_fp.get)("process.name[0]",data);var processExecutable=(0,_fp.get)("process.executable[0]",data);var sshSignature=(0,_fp.get)("system.auth.ssh.signature[0]",data);var sshMethod=(0,_fp.get)("system.auth.ssh.method[0]",data);var workingDirectory=(0,_fp.get)("process.working_directory[0]",data);return _react.default.createElement(_helpers2.Details,null,_react.default.createElement(SystemGenericLine,{contextId:contextId,hostName:hostName,id:id,message:message,outcome:outcome,packageName:packageName,packageSummary:packageSummary,packageVersion:packageVersion,processExecutable:processExecutable,processPid:processPid,processName:processName,sshMethod:sshMethod,sshSignature:sshSignature,text:text,userDomain:userDomain,userName:userName,workingDirectory:workingDirectory}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_netflow.NetflowRenderer,{data:data,timelineId:timelineId}))}));exports.SystemGenericDetails=SystemGenericDetails;SystemGenericDetails.displayName="SystemGenericDetails"},8855:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SystemGenericFileDetails=exports.SystemGenericFileLine=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _helpers=__webpack_require__(7065);var i18n=_interopRequireWildcard(__webpack_require__(7345));var _netflow=__webpack_require__(7092);var _user_host_working_dir=__webpack_require__(7215);var _helpers2=__webpack_require__(7022);var _process_draggable=__webpack_require__(7137);var _args=__webpack_require__(7344);var _auth_ssh=__webpack_require__(7656);var _exit_code_draggable=__webpack_require__(8856);var _file_draggable=__webpack_require__(8857);var _package=__webpack_require__(7655);var _page=__webpack_require__(7055);var _parent_process_draggable=__webpack_require__(8858);var _process_hash=__webpack_require__(8859);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SystemGenericFileLine=_react.default.memo((function(_ref){var args=_ref.args,contextId=_ref.contextId,endgameExitCode=_ref.endgameExitCode,endgameFileName=_ref.endgameFileName,endgameFilePath=_ref.endgameFilePath,endgameParentProcessName=_ref.endgameParentProcessName,endgamePid=_ref.endgamePid,endgameProcessName=_ref.endgameProcessName,eventAction=_ref.eventAction,fileName=_ref.fileName,filePath=_ref.filePath,hostName=_ref.hostName,id=_ref.id,message=_ref.message,outcome=_ref.outcome,packageName=_ref.packageName,packageSummary=_ref.packageSummary,packageVersion=_ref.packageVersion,processExecutable=_ref.processExecutable,processHashMd5=_ref.processHashMd5,processHashSha1=_ref.processHashSha1,processHashSha256=_ref.processHashSha256,processName=_ref.processName,processPid=_ref.processPid,processPpid=_ref.processPpid,processTitle=_ref.processTitle,showMessage=_ref.showMessage,sshSignature=_ref.sshSignature,sshMethod=_ref.sshMethod,text=_ref.text,userDomain=_ref.userDomain,userName=_ref.userName,workingDirectory=_ref.workingDirectory;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"center",gutterSize:"none",wrap:true},_react.default.createElement(_user_host_working_dir.UserHostWorkingDir,{eventId:id,contextId:contextId,userDomain:userDomain,userName:userName,workingDirectory:workingDirectory,hostName:hostName}),_react.default.createElement(_helpers2.TokensFlexItem,{grow:false,component:"span"},text),_react.default.createElement(_file_draggable.FileDraggable,{contextId:contextId,endgameFileName:endgameFileName,endgameFilePath:endgameFilePath,eventId:id,fileName:fileName,filePath:filePath}),(0,_helpers2.showVia)(eventAction)&&_react.default.createElement(_helpers2.TokensFlexItem,{"data-test-subj":"via",grow:false,component:"span"},i18n.VIA),_react.default.createElement(_helpers2.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_process_draggable.ProcessDraggableWithNonExistentProcess,{contextId:contextId,endgamePid:endgamePid,endgameProcessName:endgameProcessName,eventId:id,processPid:processPid,processName:processName,processExecutable:processExecutable})),_react.default.createElement(_args.Args,{args:args,contextId:contextId,eventId:id,processTitle:processTitle}),_react.default.createElement(_exit_code_draggable.ExitCodeDraggable,{contextId:contextId,endgameExitCode:endgameExitCode,eventId:id,text:i18n.WITH_EXIT_CODE}),!(0,_helpers2.isProcessStoppedOrTerminationEvent)(eventAction)&&_react.default.createElement(_parent_process_draggable.ParentProcessDraggable,{contextId:contextId,endgameParentProcessName:endgameParentProcessName,eventId:id,processPpid:processPpid,text:i18n.VIA_PARENT_PROCESS}),outcome!=null&&_react.default.createElement(_helpers2.TokensFlexItem,{grow:false,component:"span"},i18n.WITH_RESULT),_react.default.createElement(_helpers2.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:id,field:"event.outcome",queryValue:outcome,value:outcome})),_react.default.createElement(_auth_ssh.AuthSsh,{contextId:contextId,eventId:id,sshSignature:sshSignature,sshMethod:sshMethod}),_react.default.createElement(_package.Package,{contextId:contextId,eventId:id,packageName:packageName,packageSummary:packageSummary,packageVersion:packageVersion})),_react.default.createElement(_process_hash.ProcessHash,{contextId:contextId,eventId:id,processHashMd5:processHashMd5,processHashSha1:processHashSha1,processHashSha256:processHashSha256}),message!=null&&showMessage&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",gutterSize:"none",wrap:true},_react.default.createElement(_helpers2.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_page.Badge,{iconType:"editorComment",color:"hollow"},_react.default.createElement(_helpers.OverflowField,{value:message}))))))}));exports.SystemGenericFileLine=SystemGenericFileLine;SystemGenericFileLine.displayName="SystemGenericFileLine";var SystemGenericFileDetails=_react.default.memo((function(_ref2){var data=_ref2.data,contextId=_ref2.contextId,_ref2$showMessage=_ref2.showMessage,showMessage=_ref2$showMessage===void 0?true:_ref2$showMessage,text=_ref2.text,timelineId=_ref2.timelineId;var id=data._id;var message=data.message!=null?data.message[0]:null;var hostName=(0,_fp.get)("host.name[0]",data);var endgameExitCode=(0,_fp.get)("endgame.exit_code[0]",data);var endgameFileName=(0,_fp.get)("endgame.file_name[0]",data);var endgameFilePath=(0,_fp.get)("endgame.file_path[0]",data);var endgameParentProcessName=(0,_fp.get)("endgame.parent_process_name[0]",data);var endgamePid=(0,_fp.get)("endgame.pid[0]",data);var endgameProcessName=(0,_fp.get)("endgame.process_name[0]",data);var eventAction=(0,_fp.get)("event.action[0]",data);var fileName=(0,_fp.get)("file.name[0]",data);var filePath=(0,_fp.get)("file.path[0]",data);var userDomain=(0,_fp.get)("user.domain[0]",data);var userName=(0,_fp.get)("user.name[0]",data);var outcome=(0,_fp.get)("event.outcome[0]",data);var packageName=(0,_fp.get)("system.audit.package.name[0]",data);var packageSummary=(0,_fp.get)("system.audit.package.summary[0]",data);var packageVersion=(0,_fp.get)("system.audit.package.version[0]",data);var processHashMd5=(0,_fp.get)("process.hash.md5[0]",data);var processHashSha1=(0,_fp.get)("process.hash.sha1[0]",data);var processHashSha256=(0,_fp.get)("process.hash.sha256",data);var processPid=(0,_fp.get)("process.pid[0]",data);var processPpid=(0,_fp.get)("process.ppid[0]",data);var processName=(0,_fp.get)("process.name[0]",data);var sshSignature=(0,_fp.get)("system.auth.ssh.signature[0]",data);var sshMethod=(0,_fp.get)("system.auth.ssh.method[0]",data);var processExecutable=(0,_fp.get)("process.executable[0]",data);var processTitle=(0,_fp.get)("process.title[0]",data);var workingDirectory=(0,_fp.get)("process.working_directory[0]",data);var args=(0,_fp.get)("process.args",data);return _react.default.createElement(_helpers2.Details,null,_react.default.createElement(SystemGenericFileLine,{id:id,contextId:contextId,text:text,hostName:hostName,endgameExitCode:endgameExitCode,endgameFileName:endgameFileName,endgameFilePath:endgameFilePath,endgameParentProcessName:endgameParentProcessName,endgamePid:endgamePid,endgameProcessName:endgameProcessName,eventAction:eventAction,fileName:fileName,filePath:filePath,userDomain:userDomain,userName:userName,message:message,processTitle:processTitle,workingDirectory:workingDirectory,args:args,packageName:packageName,packageSummary:packageSummary,packageVersion:packageVersion,processHashMd5:processHashMd5,processHashSha1:processHashSha1,processHashSha256:processHashSha256,processName:processName,processPid:processPid,processPpid:processPpid,processExecutable:processExecutable,showMessage:showMessage,sshSignature:sshSignature,sshMethod:sshMethod,outcome:outcome}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_netflow.NetflowRenderer,{data:data,timelineId:timelineId}))}));exports.SystemGenericFileDetails=SystemGenericFileDetails;SystemGenericFileDetails.displayName="SystemGenericFileDetails"},8856:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExitCodeDraggable=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _helpers=__webpack_require__(7022);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ExitCodeDraggable=_react.default.memo((function(_ref){var contextId=_ref.contextId,endgameExitCode=_ref.endgameExitCode,eventId=_ref.eventId,text=_ref.text;if((0,_helpers.isNillEmptyOrNotFinite)(endgameExitCode)){return null}return _react.default.createElement(_react.default.Fragment,null,!(0,_helpers.isNillEmptyOrNotFinite)(text)&&_react.default.createElement(_helpers.TokensFlexItem,{"data-test-subj":"exit-code-draggable-text",grow:false,component:"span"},text),_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"endgame.exit_code",value:endgameExitCode})))}));exports.ExitCodeDraggable=ExitCodeDraggable;ExitCodeDraggable.displayName="ExitCodeDraggable"},8857:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FileDraggable=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _helpers=__webpack_require__(7022);var i18n=_interopRequireWildcard(__webpack_require__(7158));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FileDraggable=_react.default.memo((function(_ref){var contextId=_ref.contextId,endgameFileName=_ref.endgameFileName,endgameFilePath=_ref.endgameFilePath,eventId=_ref.eventId,fileName=_ref.fileName,filePath=_ref.filePath;if((0,_helpers.isNillEmptyOrNotFinite)(fileName)&&(0,_helpers.isNillEmptyOrNotFinite)(endgameFileName)&&(0,_helpers.isNillEmptyOrNotFinite)(filePath)&&(0,_helpers.isNillEmptyOrNotFinite)(endgameFilePath)){return null}var filePathIsKnown=!(0,_helpers.isNillEmptyOrNotFinite)(filePath)||!(0,_helpers.isNillEmptyOrNotFinite)(endgameFilePath);return _react.default.createElement(_react.default.Fragment,null,!(0,_helpers.isNillEmptyOrNotFinite)(fileName)?_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"file.name",value:fileName,iconType:"document"})):!(0,_helpers.isNillEmptyOrNotFinite)(endgameFileName)?_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"endgame.file_name",value:endgameFileName,iconType:"document"})):null,filePathIsKnown&&_react.default.createElement(_helpers.TokensFlexItem,{"data-test-subj":"in",grow:false,component:"span"},i18n.IN),!(0,_helpers.isNillEmptyOrNotFinite)(filePath)?_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"file.path",value:filePath,iconType:"document"})):!(0,_helpers.isNillEmptyOrNotFinite)(endgameFilePath)?_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"endgame.file_path",value:endgameFilePath,iconType:"document"})):null)}));exports.FileDraggable=FileDraggable;FileDraggable.displayName="FileDraggable"},8858:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ParentProcessDraggable=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _draggables=__webpack_require__(7018);var _helpers=__webpack_require__(7022);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ParentProcessDraggable=_react.default.memo((function(_ref){var contextId=_ref.contextId,endgameParentProcessName=_ref.endgameParentProcessName,eventId=_ref.eventId,processPpid=_ref.processPpid,text=_ref.text;if((0,_helpers.isNillEmptyOrNotFinite)(endgameParentProcessName)&&(0,_helpers.isNillEmptyOrNotFinite)(processPpid)){return null}return _react.default.createElement(_react.default.Fragment,null,!(0,_helpers.isNillEmptyOrNotFinite)(text)&&_react.default.createElement(_helpers.TokensFlexItem,{"data-test-subj":"parent-process-draggable-text",grow:false,component:"span"},text),!(0,_helpers.isNillEmptyOrNotFinite)(endgameParentProcessName)&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"endgame.parent_process_name",value:endgameParentProcessName})),!(0,_helpers.isNillEmptyOrNotFinite)(processPpid)&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"span"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"process.ppid",queryValue:String(processPpid),value:"(".concat(String(processPpid),")")})))}));exports.ParentProcessDraggable=ParentProcessDraggable;ParentProcessDraggable.displayName="ParentProcessDraggable"},8859:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProcessHash=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _draggables=__webpack_require__(7018);var _helpers=__webpack_require__(7022);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HashFlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"HashFlexGroup",componentId:"olsjk7-0"})(["margin:",";"],(function(_ref){var theme=_ref.theme;return theme.eui.euiSizeXS}));var ProcessHash=_react.default.memo((function(_ref2){var contextId=_ref2.contextId,eventId=_ref2.eventId,processHashMd5=_ref2.processHashMd5,processHashSha1=_ref2.processHashSha1,processHashSha256=_ref2.processHashSha256;if((0,_helpers.isNillEmptyOrNotFinite)(processHashSha256)&&(0,_helpers.isNillEmptyOrNotFinite)(processHashSha1)&&(0,_helpers.isNillEmptyOrNotFinite)(processHashMd5)){return null}return _react.default.createElement(HashFlexGroup,{alignItems:"center",direction:"column",gutterSize:"none"},!(0,_helpers.isNillEmptyOrNotFinite)(processHashSha256)&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"div"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"process.hash.sha256",iconType:"number",value:processHashSha256})),!(0,_helpers.isNillEmptyOrNotFinite)(processHashSha1)&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"div"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"process.hash.sha1",iconType:"number",value:processHashSha1})),!(0,_helpers.isNillEmptyOrNotFinite)(processHashMd5)&&_react.default.createElement(_helpers.TokensFlexItem,{grow:false,component:"div"},_react.default.createElement(_draggables.DraggableBadge,{contextId:contextId,eventId:eventId,field:"process.hash.md5",iconType:"number",value:processHashMd5})))}));exports.ProcessHash=ProcessHash;ProcessHash.displayName="ProcessHash"},8860:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoadingStaticContentPanel=exports.LoadingStaticPanel=exports.LoadingPanel=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SpinnerFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"SpinnerFlexItem",componentId:"sc-14n4t96-0"})(["margin-right:5px;"]);SpinnerFlexItem.displayName="SpinnerFlexItem";var LoadingPanel=_react.default.memo((function(_ref){var _ref$height=_ref.height,height=_ref$height===void 0?"auto":_ref$height,_ref$showBorder=_ref.showBorder,showBorder=_ref$showBorder===void 0?true:_ref$showBorder,text=_ref.text,width=_ref.width,_ref$position=_ref.position,position=_ref$position===void 0?"relative":_ref$position,_ref$zIndex=_ref.zIndex,zIndex=_ref$zIndex===void 0?"inherit":_ref$zIndex;return _react.default.createElement(LoadingStaticPanel,{className:"app-loading",height:height,width:width,position:position,zIndex:zIndex},_react.default.createElement(LoadingStaticContentPanel,null,_react.default.createElement(_eui.EuiPanel,{className:showBorder?"":"euiPanel-loading-hide-border"},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",direction:"row",gutterSize:"none"},_react.default.createElement(SpinnerFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,null,text))))))}));exports.LoadingPanel=LoadingPanel;LoadingPanel.displayName="LoadingPanel";var LoadingStaticPanel=_styledComponents.default.div.withConfig({displayName:"LoadingStaticPanel",componentId:"sc-14n4t96-1"})(["height:",";position:",";width:",";overflow:hidden;display:flex;flex-direction:column;justify-content:center;z-index:",";"],(function(_ref2){var height=_ref2.height;return height}),(function(_ref3){var position=_ref3.position;return position}),(function(_ref4){var width=_ref4.width;return width}),(function(_ref5){var zIndex=_ref5.zIndex;return zIndex}));exports.LoadingStaticPanel=LoadingStaticPanel;LoadingStaticPanel.displayName="LoadingStaticPanel";var LoadingStaticContentPanel=_styledComponents.default.div.withConfig({displayName:"LoadingStaticContentPanel",componentId:"sc-14n4t96-2"})(["flex:0 0 auto;align-self:center;text-align:center;height:fit-content;.euiPanel.euiPanel--paddingMedium{padding:10px;}"]);exports.LoadingStaticContentPanel=LoadingStaticContentPanel;LoadingStaticContentPanel.displayName="LoadingStaticContentPanel"},8861:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LastUpdatedAt=exports.Updated=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireWildcard(__webpack_require__(0));var i18n=_interopRequireWildcard(__webpack_require__(7658));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var Updated=_react2.default.memo((function(_ref){var date=_ref.date,prefix=_ref.prefix,updatedAt=_ref.updatedAt;return _react2.default.createElement(_react2.default.Fragment,null,prefix,_react2.default.createElement(_react.FormattedRelative,{"data-test-subj":"last-updated-at-date",key:"formatedRelative-".concat(date),value:new Date(updatedAt)}))}));exports.Updated=Updated;Updated.displayName="Updated";var prefix=" ".concat(i18n.UPDATED," ");var LastUpdatedAt=_react2.default.memo((function(_ref2){var _ref2$compact=_ref2.compact,compact=_ref2$compact===void 0?false:_ref2$compact,updatedAt=_ref2.updatedAt;var _useState=(0,_react2.useState)(Date.now()),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setDate=_useState2[1];function tick(){setDate(Date.now())}(0,_react2.useEffect)((function(){var timerID=setInterval((function(){return tick()}),1e4);return function(){clearInterval(timerID)}}),[]);return _react2.default.createElement(_eui.EuiToolTip,{"data-test-subj":"timeline-stream-tool-tip",content:_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(Updated,{date:date,prefix:prefix,updatedAt:updatedAt}))},_react2.default.createElement(_eui.EuiText,{size:"s"},_react2.default.createElement(_eui.EuiIcon,{"data-test-subj":"last-updated-at-clock-icon",type:"clock"}),!compact?_react2.default.createElement(Updated,{date:date,prefix:prefix,updatedAt:updatedAt}):null))}));exports.LastUpdatedAt=LastUpdatedAt;LastUpdatedAt.displayName="LastUpdatedAt"},8862:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SignalsUtilityBar=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _numeral=_interopRequireDefault(__webpack_require__(148));var _utility_bar=__webpack_require__(7660);var i18n=_interopRequireWildcard(__webpack_require__(8868));var _kibana=__webpack_require__(7013);var _constants=__webpack_require__(977);var _signals_filter_group=__webpack_require__(7336);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var SignalsUtilityBarComponent=function SignalsUtilityBarComponent(_ref){var canUserCRUD=_ref.canUserCRUD,hasIndexWrite=_ref.hasIndexWrite,areEventsLoading=_ref.areEventsLoading,clearSelection=_ref.clearSelection,totalCount=_ref.totalCount,selectedEventIds=_ref.selectedEventIds,isFilteredToOpen=_ref.isFilteredToOpen,selectAll=_ref.selectAll,showClearSelection=_ref.showClearSelection,updateSignalsStatus=_ref.updateSignalsStatus;var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_NUMBER_FORMAT),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),defaultNumberFormat=_useUiSetting$2[0];var handleUpdateStatus=(0,_react.useCallback)((function _callee(){return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(updateSignalsStatus({signalIds:Object.keys(selectedEventIds),status:isFilteredToOpen?_signals_filter_group.FILTER_CLOSED:_signals_filter_group.FILTER_OPEN}));case 2:case"end":return _context.stop()}}}))}),[selectedEventIds,updateSignalsStatus,isFilteredToOpen]);var formattedTotalCount=(0,_numeral.default)(totalCount).format(defaultNumberFormat);var formattedSelectedEventsCount=(0,_numeral.default)(Object.keys(selectedEventIds).length).format(defaultNumberFormat);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_utility_bar.UtilityBar,null,_react.default.createElement(_utility_bar.UtilityBarSection,null,_react.default.createElement(_utility_bar.UtilityBarGroup,null,_react.default.createElement(_utility_bar.UtilityBarText,null,i18n.SHOWING_SIGNALS(formattedTotalCount,totalCount))),_react.default.createElement(_utility_bar.UtilityBarGroup,null,canUserCRUD&&hasIndexWrite&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_utility_bar.UtilityBarText,null,i18n.SELECTED_SIGNALS(showClearSelection?formattedTotalCount:formattedSelectedEventsCount,showClearSelection?totalCount:Object.keys(selectedEventIds).length)),_react.default.createElement(_utility_bar.UtilityBarAction,{disabled:areEventsLoading||(0,_fp.isEmpty)(selectedEventIds),iconType:isFilteredToOpen?"securitySignalResolved":"securitySignalDetected",onClick:handleUpdateStatus},isFilteredToOpen?i18n.BATCH_ACTION_CLOSE_SELECTED:i18n.BATCH_ACTION_OPEN_SELECTED),_react.default.createElement(_utility_bar.UtilityBarAction,{iconType:showClearSelection?"cross":"pagesSelect",onClick:function onClick(){if(!showClearSelection){selectAll()}else{clearSelection()}}},showClearSelection?i18n.CLEAR_SELECTION:i18n.SELECT_ALL_SIGNALS(formattedTotalCount,totalCount)))))))};var SignalsUtilityBar=_react.default.memo(SignalsUtilityBarComponent,(function(prevProps,nextProps){return prevProps.areEventsLoading===nextProps.areEventsLoading&&prevProps.selectedEventIds===nextProps.selectedEventIds&&prevProps.totalCount===nextProps.totalCount&&prevProps.showClearSelection===nextProps.showClearSelection}));exports.SignalsUtilityBar=SignalsUtilityBar},8863:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UtilityBar=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _styles=__webpack_require__(7161);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UtilityBar=_react.default.memo((function(_ref){var border=_ref.border,children=_ref.children;return _react.default.createElement(_styles.Bar,{border:border},children)}));exports.UtilityBar=UtilityBar;UtilityBar.displayName="UtilityBar"},8864:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UtilityBarAction=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _link_icon=__webpack_require__(7591);var _styles=__webpack_require__(7161);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var Popover=_react.default.memo((function(_ref){var children=_ref.children,color=_ref.color,iconSide=_ref.iconSide,iconSize=_ref.iconSize,iconType=_ref.iconType,popoverContent=_ref.popoverContent;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),popoverState=_useState2[0],setPopoverState=_useState2[1];var closePopover=(0,_react.useCallback)((function(){return setPopoverState(false)}),[setPopoverState]);return _react.default.createElement(_eui.EuiPopover,{button:_react.default.createElement(_link_icon.LinkIcon,{color:color,iconSide:iconSide,iconSize:iconSize,iconType:iconType,onClick:function onClick(){return setPopoverState(!popoverState)}},children),closePopover:function closePopover(){return setPopoverState(false)},isOpen:popoverState},popoverContent===null||popoverContent===void 0?void 0:popoverContent(closePopover))}));Popover.displayName="Popover";var UtilityBarAction=_react.default.memo((function(_ref2){var children=_ref2.children,color=_ref2.color,disabled=_ref2.disabled,href=_ref2.href,iconSide=_ref2.iconSide,iconSize=_ref2.iconSize,iconType=_ref2.iconType,onClick=_ref2.onClick,popoverContent=_ref2.popoverContent;return _react.default.createElement(_styles.BarAction,null,popoverContent?_react.default.createElement(Popover,{color:color,iconSide:iconSide,iconSize:iconSize,iconType:iconType,popoverContent:popoverContent},children):_react.default.createElement(_link_icon.LinkIcon,{color:color,disabled:disabled,href:href,iconSide:iconSide,iconSize:iconSize,iconType:iconType,onClick:onClick},children))}));exports.UtilityBarAction=UtilityBarAction;UtilityBarAction.displayName="UtilityBarAction"},8865:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UtilityBarGroup=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _styles=__webpack_require__(7161);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UtilityBarGroup=_react.default.memo((function(_ref){var children=_ref.children;return _react.default.createElement(_styles.BarGroup,null,children)}));exports.UtilityBarGroup=UtilityBarGroup;UtilityBarGroup.displayName="UtilityBarGroup"},8866:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UtilityBarSection=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _styles=__webpack_require__(7161);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UtilityBarSection=_react.default.memo((function(_ref){var children=_ref.children;return _react.default.createElement(_styles.BarSection,null,children)}));exports.UtilityBarSection=UtilityBarSection;UtilityBarSection.displayName="UtilityBarSection"},8867:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UtilityBarText=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _styles=__webpack_require__(7161);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UtilityBarText=_react.default.memo((function(_ref){var children=_ref.children;return _react.default.createElement(_styles.BarText,null,children)}));exports.UtilityBarText=UtilityBarText;UtilityBarText.displayName="UtilityBarText"},8868:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BATCH_ACTION_CLOSE_SELECTED=exports.BATCH_ACTION_OPEN_SELECTED=exports.BATCH_ACTION_VIEW_SELECTED_IN_TIMELINE=exports.BATCH_ACTION_VIEW_SELECTED_IN_NETWORK=exports.BATCH_ACTION_VIEW_SELECTED_IN_HOSTS=exports.BATCH_ACTIONS=exports.CLEAR_SELECTION=exports.SELECT_ALL_SIGNALS=exports.SELECTED_SIGNALS=exports.SHOWING_SIGNALS=void 0;var _i18n=__webpack_require__(2);var SHOWING_SIGNALS=function SHOWING_SIGNALS(totalSignalsFormatted,totalSignals){return _i18n.i18n.translate("xpack.siem.detectionEngine.signals.utilityBar.showingSignalsTitle",{values:{totalSignalsFormatted:totalSignalsFormatted,totalSignals:totalSignals},defaultMessage:"Showing {totalSignalsFormatted} {totalSignals, plural, =1 {signal} other {signals}}"})};exports.SHOWING_SIGNALS=SHOWING_SIGNALS;var SELECTED_SIGNALS=function SELECTED_SIGNALS(selectedSignalsFormatted,selectedSignals){return _i18n.i18n.translate("xpack.siem.detectionEngine.signals.utilityBar.selectedSignalsTitle",{values:{selectedSignalsFormatted:selectedSignalsFormatted,selectedSignals:selectedSignals},defaultMessage:"Selected {selectedSignalsFormatted} {selectedSignals, plural, =1 {signal} other {signals}}"})};exports.SELECTED_SIGNALS=SELECTED_SIGNALS;var SELECT_ALL_SIGNALS=function SELECT_ALL_SIGNALS(totalSignalsFormatted,totalSignals){return _i18n.i18n.translate("xpack.siem.detectionEngine.signals.utilityBar.selectAllSignalsTitle",{values:{totalSignalsFormatted:totalSignalsFormatted,totalSignals:totalSignals},defaultMessage:"Select all {totalSignalsFormatted} {totalSignals, plural, =1 {signal} other {signals}}"})};exports.SELECT_ALL_SIGNALS=SELECT_ALL_SIGNALS;var CLEAR_SELECTION=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.utilityBar.clearSelectionTitle",{defaultMessage:"Clear selection"});exports.CLEAR_SELECTION=CLEAR_SELECTION;var BATCH_ACTIONS=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.utilityBar.batchActionsTitle",{defaultMessage:"Batch actions"});exports.BATCH_ACTIONS=BATCH_ACTIONS;var BATCH_ACTION_VIEW_SELECTED_IN_HOSTS=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.utilityBar.batchActions.viewSelectedInHostsTitle",{defaultMessage:"View selected in hosts"});exports.BATCH_ACTION_VIEW_SELECTED_IN_HOSTS=BATCH_ACTION_VIEW_SELECTED_IN_HOSTS;var BATCH_ACTION_VIEW_SELECTED_IN_NETWORK=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.utilityBar.batchActions.viewSelectedInNetworkTitle",{defaultMessage:"View selected in network"});exports.BATCH_ACTION_VIEW_SELECTED_IN_NETWORK=BATCH_ACTION_VIEW_SELECTED_IN_NETWORK;var BATCH_ACTION_VIEW_SELECTED_IN_TIMELINE=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.utilityBar.batchActions.viewSelectedInTimelineTitle",{defaultMessage:"View selected in timeline"});exports.BATCH_ACTION_VIEW_SELECTED_IN_TIMELINE=BATCH_ACTION_VIEW_SELECTED_IN_TIMELINE;var BATCH_ACTION_OPEN_SELECTED=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.utilityBar.batchActions.openSelectedTitle",{defaultMessage:"Open selected"});exports.BATCH_ACTION_OPEN_SELECTED=BATCH_ACTION_OPEN_SELECTED;var BATCH_ACTION_CLOSE_SELECTED=_i18n.i18n.translate("xpack.siem.detectionEngine.signals.utilityBar.batchActions.closeSelectedTitle",{defaultMessage:"Close selected"});exports.BATCH_ACTION_CLOSE_SELECTED=BATCH_ACTION_CLOSE_SELECTED},8869:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimelineKqlFetch=void 0;var _react=__webpack_require__(0);var _reactRedux=__webpack_require__(7014);var _store=__webpack_require__(7016);var _actions=__webpack_require__(1882);var _use_update_kql=__webpack_require__(8870);var TimelineKqlFetchComponent=(0,_react.memo)((function(_ref){var id=_ref.id,indexPattern=_ref.indexPattern,inputId=_ref.inputId,kueryFilterQuery=_ref.kueryFilterQuery,kueryFilterQueryDraft=_ref.kueryFilterQueryDraft,setTimelineQuery=_ref.setTimelineQuery;(0,_react.useEffect)((function(){setTimelineQuery({id:"kql",inputId:inputId,inspect:null,loading:false,refetch:(0,_use_update_kql.useUpdateKql)({indexPattern:indexPattern,kueryFilterQuery:kueryFilterQuery,kueryFilterQueryDraft:kueryFilterQueryDraft,storeType:"timelineType",timelineId:id})})}),[kueryFilterQueryDraft,kueryFilterQuery,id]);return null}));var makeMapStateToProps=function makeMapStateToProps(){var getTimelineKueryFilterQueryDraft=_store.timelineSelectors.getKqlFilterQueryDraftSelector();var getTimelineKueryFilterQuery=_store.timelineSelectors.getKqlFilterKuerySelector();var mapStateToProps=function mapStateToProps(state,_ref2){var id=_ref2.id;return{kueryFilterQuery:getTimelineKueryFilterQuery(state,id),kueryFilterQueryDraft:getTimelineKueryFilterQueryDraft(state,id)}};return mapStateToProps};var TimelineKqlFetch=(0,_reactRedux.connect)(makeMapStateToProps,{setTimelineQuery:_actions.inputsActions.setQuery})(TimelineKqlFetchComponent);exports.TimelineKqlFetch=TimelineKqlFetch},8870:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useUpdateKql=void 0;var _fp=__webpack_require__(223);var _actions=__webpack_require__(1890);var _keury=__webpack_require__(1885);var useUpdateKql=function useUpdateKql(_ref){var indexPattern=_ref.indexPattern,kueryFilterQuery=_ref.kueryFilterQuery,kueryFilterQueryDraft=_ref.kueryFilterQueryDraft,storeType=_ref.storeType,timelineId=_ref.timelineId;var updateKql=function updateKql(dispatch){if(kueryFilterQueryDraft!=null&&!(0,_fp.isEqual)(kueryFilterQuery,kueryFilterQueryDraft)){if(storeType==="timelineType"&&timelineId!=null){dispatch((0,_actions.applyKqlFilterQuery)({id:timelineId,filterQuery:{kuery:kueryFilterQueryDraft,serializedQuery:(0,_keury.convertKueryToElasticSearchQuery)(kueryFilterQueryDraft.expression,indexPattern)}}))}return true}return false};return updateKql};exports.useUpdateKql=useUpdateKql},8871:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimelineHeader=exports.TimelineHeaderComponent=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _data_providers=__webpack_require__(8872);var _search_or_filter=__webpack_require__(8877);var i18n=_interopRequireWildcard(__webpack_require__(8881));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TimelineHeaderContainer=_styledComponents.default.div.withConfig({displayName:"TimelineHeaderContainer",componentId:"ur4nhl-0"})(["width:100%;"]);TimelineHeaderContainer.displayName="TimelineHeaderContainer";var TimelineHeaderComponent=function TimelineHeaderComponent(_ref){var browserFields=_ref.browserFields,id=_ref.id,indexPattern=_ref.indexPattern,dataProviders=_ref.dataProviders,onChangeDataProviderKqlQuery=_ref.onChangeDataProviderKqlQuery,onChangeDroppableAndProvider=_ref.onChangeDroppableAndProvider,onDataProviderEdited=_ref.onDataProviderEdited,onDataProviderRemoved=_ref.onDataProviderRemoved,onToggleDataProviderEnabled=_ref.onToggleDataProviderEnabled,onToggleDataProviderExcluded=_ref.onToggleDataProviderExcluded,show=_ref.show,showCallOutUnauthorizedMsg=_ref.showCallOutUnauthorizedMsg;return _react.default.createElement(TimelineHeaderContainer,{"data-test-subj":"timelineHeader"},showCallOutUnauthorizedMsg&&_react.default.createElement(_eui.EuiCallOut,{"data-test-subj":"timelineCallOutUnauthorized",title:i18n.CALL_OUT_UNAUTHORIZED_MSG,color:"warning",iconType:"alert",size:"s"}),_react.default.createElement(_data_providers.DataProviders,{browserFields:browserFields,id:id,dataProviders:dataProviders,onChangeDroppableAndProvider:onChangeDroppableAndProvider,onChangeDataProviderKqlQuery:onChangeDataProviderKqlQuery,onDataProviderEdited:onDataProviderEdited,onDataProviderRemoved:onDataProviderRemoved,onToggleDataProviderEnabled:onToggleDataProviderEnabled,onToggleDataProviderExcluded:onToggleDataProviderExcluded,show:show}),_react.default.createElement(_search_or_filter.StatefulSearchOrFilter,{browserFields:browserFields,indexPattern:indexPattern,timelineId:id}))};exports.TimelineHeaderComponent=TimelineHeaderComponent;TimelineHeaderComponent.displayName="TimelineHeaderComponent";var TimelineHeader=_react.default.memo(TimelineHeaderComponent);exports.TimelineHeader=TimelineHeader;TimelineHeader.displayName="TimelineHeader"},8872:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DataProviders=void 0;var _polished=__webpack_require__(91);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _droppable_wrapper=__webpack_require__(7198);var _helpers=__webpack_require__(7021);var _timeline_context=__webpack_require__(7033);var _empty=__webpack_require__(7661);var _providers=__webpack_require__(8874);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DropTargetDataProvidersContainer=_styledComponents.default.div.withConfig({displayName:"DropTargetDataProvidersContainer",componentId:"btpngf-0"})(["."," & .drop-target-data-providers{background:",";border:0.2rem dashed ",";& .euiTextColor--subdued{color:",";}& .euiFormHelpText{color:",";}}"],_helpers.IS_DRAGGING_CLASS_NAME,(function(_ref){var theme=_ref.theme;return(0,_polished.rgba)(theme.eui.euiColorSuccess,.1)}),(function(_ref2){var theme=_ref2.theme;return theme.eui.euiColorSuccess}),(function(_ref3){var theme=_ref3.theme;return theme.eui.euiColorSuccess}),(function(_ref4){var theme=_ref4.theme;return theme.eui.euiColorSuccess}));var DropTargetDataProviders=_styledComponents.default.div.withConfig({displayName:"DropTargetDataProviders",componentId:"btpngf-1"})(["position:relative;border:0.2rem dashed ",";border-radius:5px;display:flex;flex-direction:column;justify-content:center;margin:5px 0 5px 0;min-height:100px;overflow-y:auto;background-color:",";"],(function(props){return props.theme.eui.euiColorMediumShade}),(function(props){return props.theme.eui.euiFormBackgroundColor}));DropTargetDataProviders.displayName="DropTargetDataProviders";var getDroppableId=function getDroppableId(id){return"".concat(_helpers.droppableTimelineProvidersPrefix).concat(id)};var DataProviders=_react.default.memo((function(_ref5){var browserFields=_ref5.browserFields,id=_ref5.id,dataProviders=_ref5.dataProviders,onChangeDataProviderKqlQuery=_ref5.onChangeDataProviderKqlQuery,onChangeDroppableAndProvider=_ref5.onChangeDroppableAndProvider,onDataProviderEdited=_ref5.onDataProviderEdited,onDataProviderRemoved=_ref5.onDataProviderRemoved,onToggleDataProviderEnabled=_ref5.onToggleDataProviderEnabled,onToggleDataProviderExcluded=_ref5.onToggleDataProviderExcluded,show=_ref5.show;return _react.default.createElement(DropTargetDataProvidersContainer,{className:"drop-target-data-providers-container"},_react.default.createElement(DropTargetDataProviders,{className:"drop-target-data-providers","data-test-subj":"dataProviders"},_react.default.createElement(_timeline_context.TimelineContext.Consumer,null,(function(isLoading){return _react.default.createElement(_droppable_wrapper.DroppableWrapper,{isDropDisabled:!show||isLoading,droppableId:getDroppableId(id)},dataProviders!=null&&dataProviders.length?_react.default.createElement(_providers.Providers,{browserFields:browserFields,id:id,dataProviders:dataProviders,onChangeDataProviderKqlQuery:onChangeDataProviderKqlQuery,onChangeDroppableAndProvider:onChangeDroppableAndProvider,onDataProviderEdited:onDataProviderEdited,onDataProviderRemoved:onDataProviderRemoved,onToggleDataProviderEnabled:onToggleDataProviderEnabled,onToggleDataProviderExcluded:onToggleDataProviderExcluded}):_react.default.createElement(_empty.Empty,null))}))))}));exports.DataProviders=DataProviders;DataProviders.displayName="DataProviders"},8873:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OR=exports.AND=void 0;var _i18n=__webpack_require__(2);var AND=_i18n.i18n.translate("xpack.siem.andOrBadge.and",{defaultMessage:"AND"});exports.AND=AND;var OR=_i18n.i18n.translate("xpack.siem.andOrBadge.or",{defaultMessage:"OR"});exports.OR=OR},8874:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Providers=exports.getDraggableId=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _reactBeautifulDnd=__webpack_require__(7089);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _data_provider=__webpack_require__(7024);var _empty=__webpack_require__(7661);var _provider_item_and_drag_drop=__webpack_require__(8875);var _provider_item_badge=__webpack_require__(7320);var i18n=_interopRequireWildcard(__webpack_require__(7151));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var ROW_OF_DATA_PROVIDERS_HEIGHT=43;var PanelProviders=_styledComponents.default.div.withConfig({displayName:"PanelProviders",componentId:"sc-75pv4d-0"})(["position:relative;display:flex;flex-direction:row;min-height:100px;padding:5px 10px 15px 0px;overflow-y:auto;align-items:stretch;justify-content:flex-start;"]);PanelProviders.displayName="PanelProviders";var PanelProvidersGroupContainer=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"PanelProvidersGroupContainer",componentId:"sc-75pv4d-1"})(["position:relative;flex-grow:unset;.euiFlexItem{flex:1 0 auto;}.euiFlexItem--flexGrowZero{flex:0 0 auto;}"]);PanelProvidersGroupContainer.displayName="PanelProvidersGroupContainer";var PanelProviderGroupContainer=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"PanelProviderGroupContainer",componentId:"sc-75pv4d-2"})(["height:","px;min-height:","px;margin:5px 0px;"],ROW_OF_DATA_PROVIDERS_HEIGHT,ROW_OF_DATA_PROVIDERS_HEIGHT);PanelProviderGroupContainer.displayName="PanelProviderGroupContainer";var PanelProviderItemContainer=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"PanelProviderItemContainer",componentId:"sc-75pv4d-3"})(["position:relative;"]);PanelProviderItemContainer.displayName="PanelProviderItemContainer";var TimelineEuiFormHelpText=(0,_styledComponents.default)(_eui.EuiFormHelpText).withConfig({displayName:"TimelineEuiFormHelpText",componentId:"sc-75pv4d-4"})(["padding-top:0px;position:absolute;bottom:0px;left:5px;"]);TimelineEuiFormHelpText.displayName="TimelineEuiFormHelpText";var getDraggableId=function getDraggableId(_ref){var id=_ref.id,dataProviderId=_ref.dataProviderId;return"draggableId.timeline.".concat(id,".dataProvider.").concat(dataProviderId)};exports.getDraggableId=getDraggableId;var Providers=_react.default.memo((function(_ref2){var browserFields=_ref2.browserFields,id=_ref2.id,dataProviders=_ref2.dataProviders,onChangeDataProviderKqlQuery=_ref2.onChangeDataProviderKqlQuery,onChangeDroppableAndProvider=_ref2.onChangeDroppableAndProvider,onDataProviderEdited=_ref2.onDataProviderEdited,onDataProviderRemoved=_ref2.onDataProviderRemoved,onToggleDataProviderEnabled=_ref2.onToggleDataProviderEnabled,onToggleDataProviderExcluded=_ref2.onToggleDataProviderExcluded;return _react.default.createElement(PanelProviders,{className:"timeline-drop-area","data-test-subj":"providers"},_react.default.createElement(_empty.Empty,{showSmallMsg:dataProviders.length>0}),_react.default.createElement(PanelProvidersGroupContainer,{direction:"column",className:"provider-items-container",alignItems:"flexStart",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},dataProviders.map((function(dataProvider,i){var deleteProvider=function deleteProvider(){return onDataProviderRemoved(dataProvider.id)};var toggleEnabledProvider=function toggleEnabledProvider(){return onToggleDataProviderEnabled({providerId:dataProvider.id,enabled:!dataProvider.enabled})};var toggleExcludedProvider=function toggleExcludedProvider(){return onToggleDataProviderExcluded({providerId:dataProvider.id,excluded:!dataProvider.excluded})};return(_react.default.createElement(PanelProviderGroupContainer,{key:dataProvider.id,direction:"row",gutterSize:"none",justifyContent:"flexStart",alignItems:"center"},_react.default.createElement(PanelProviderItemContainer,{className:"provider-item-filter-container",grow:false},_react.default.createElement(_reactBeautifulDnd.Draggable,{draggableId:getDraggableId({id:id,dataProviderId:dataProvider.id}),index:i},(function(provided){return _react.default.createElement("div",_extends({},provided.draggableProps,provided.dragHandleProps,{ref:provided.innerRef,"data-test-subj":"providerContainer"}),_react.default.createElement(_provider_item_badge.ProviderItemBadge,{browserFields:browserFields,field:dataProvider.queryMatch.displayField||dataProvider.queryMatch.field,kqlQuery:dataProvider.kqlQuery,isEnabled:dataProvider.enabled,isExcluded:dataProvider.excluded,deleteProvider:deleteProvider,operator:dataProvider.queryMatch.operator||_data_provider.IS_OPERATOR,onDataProviderEdited:onDataProviderEdited,timelineId:id,toggleEnabledProvider:toggleEnabledProvider,toggleExcludedProvider:toggleExcludedProvider,providerId:dataProvider.id,val:dataProvider.queryMatch.displayValue||dataProvider.queryMatch.value}))}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_provider_item_and_drag_drop.ProviderItemAndDragDrop,{browserFields:browserFields,dataProvider:dataProvider,onChangeDataProviderKqlQuery:onChangeDataProviderKqlQuery,onChangeDroppableAndProvider:onChangeDroppableAndProvider,onDataProviderEdited:onDataProviderEdited,onDataProviderRemoved:onDataProviderRemoved,onToggleDataProviderEnabled:onToggleDataProviderEnabled,onToggleDataProviderExcluded:onToggleDataProviderExcluded,timelineId:id}))))})))),_react.default.createElement(TimelineEuiFormHelpText,null,_react.default.createElement("span",null,i18n.DROP_HERE," ",i18n.TO_BUILD_AN," ",i18n.OR.toLocaleUpperCase()," ",i18n.QUERY)))}));exports.Providers=Providers;Providers.displayName="Providers"},8875:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProviderItemAndDragDrop=void 0;var _eui=__webpack_require__(1);var _polished=__webpack_require__(91);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _and_or_badge=__webpack_require__(7216);var _provider_item_and=__webpack_require__(8876);var i18n=_interopRequireWildcard(__webpack_require__(7151));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var DropAndTargetDataProvidersContainer=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"DropAndTargetDataProvidersContainer",componentId:"sc-1qeio8t-0"})(["margin:0px 8px;"]);DropAndTargetDataProvidersContainer.displayName="DropAndTargetDataProvidersContainer";var DropAndTargetDataProviders=_styledComponents.default.div.withConfig({displayName:"DropAndTargetDataProviders",componentId:"sc-1qeio8t-1"})(["min-width:230px;width:auto;border:0.1rem dashed ",";border-radius:5px;text-align:center;padding:3px 10px;display:flex;justify-content:center;align-items:center;",";cursor:",";"],(function(props){return props.theme.eui.euiColorSuccess}),(function(props){return props.hasAndItem?"&:hover {\n    transition: background-color 0.7s ease;\n    background-color: ".concat((function(){return(0,_polished.rgba)(props.theme.eui.euiColorSuccess,.2)}),";\n  }"):""}),(function(_ref){var hasAndItem=_ref.hasAndItem;return!hasAndItem?"default":"inherit"}));DropAndTargetDataProviders.displayName="DropAndTargetDataProviders";var NumberProviderAndBadge=function NumberProviderAndBadge(props){return _react.default.createElement(_eui.EuiBadge,_extends({},props,{style:{margin:"0px 5px"}}))};NumberProviderAndBadge.displayName="NumberProviderAndBadge";var ProviderItemAndDragDrop=_react.default.memo((function(_ref2){var browserFields=_ref2.browserFields,dataProvider=_ref2.dataProvider,onChangeDataProviderKqlQuery=_ref2.onChangeDataProviderKqlQuery,onChangeDroppableAndProvider=_ref2.onChangeDroppableAndProvider,onDataProviderEdited=_ref2.onDataProviderEdited,onDataProviderRemoved=_ref2.onDataProviderRemoved,onToggleDataProviderEnabled=_ref2.onToggleDataProviderEnabled,onToggleDataProviderExcluded=_ref2.onToggleDataProviderExcluded,timelineId=_ref2.timelineId;var onMouseEnter=function onMouseEnter(){return onChangeDroppableAndProvider(dataProvider.id)};var onMouseLeave=function onMouseLeave(){return onChangeDroppableAndProvider("")};var hasAndItem=dataProvider.and.length>0;return _react.default.createElement(_eui.EuiFlexGroup,{direction:"row",gutterSize:"none",justifyContent:"flexStart",alignItems:"center"},_react.default.createElement(DropAndTargetDataProvidersContainer,{className:"drop-and-provider-timeline"},_react.default.createElement(DropAndTargetDataProviders,{hasAndItem:hasAndItem,onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave},hasAndItem&&_react.default.createElement(NumberProviderAndBadge,{color:"primary"},dataProvider.and.length),_react.default.createElement(_eui.EuiText,{color:"subdued",size:"xs"},i18n.DROP_HERE_TO_ADD_AN),_react.default.createElement(_and_or_badge.AndOrBadge,{type:"and"}))),_react.default.createElement(_provider_item_and.ProviderItemAnd,{browserFields:browserFields,dataProvidersAnd:dataProvider.and,providerId:dataProvider.id,onChangeDataProviderKqlQuery:onChangeDataProviderKqlQuery,onDataProviderEdited:onDataProviderEdited,onDataProviderRemoved:onDataProviderRemoved,onToggleDataProviderEnabled:onToggleDataProviderEnabled,onToggleDataProviderExcluded:onToggleDataProviderExcluded,timelineId:timelineId}))}));exports.ProviderItemAndDragDrop=ProviderItemAndDragDrop;ProviderItemAndDragDrop.displayName="ProviderItemAndDragDrop"},8876:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.ProviderItemAnd=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _and_or_badge=__webpack_require__(7216);var _data_provider=__webpack_require__(7024);var _provider_item_badge=__webpack_require__(7320);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ProviderItemAnd=function(_React$PureComponent){_inherits(ProviderItemAnd,_React$PureComponent);function ProviderItemAnd(){var _getPrototypeOf2;var _this;_classCallCheck(this,ProviderItemAnd);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ProviderItemAnd)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"deleteAndProvider",(function(providerId,andProviderId){_this.props.onDataProviderRemoved(providerId,andProviderId)}));_defineProperty(_assertThisInitialized(_this),"toggleEnabledAndProvider",(function(providerId,enabled,andProviderId){_this.props.onToggleDataProviderEnabled({providerId:providerId,enabled:enabled,andProviderId:andProviderId})}));_defineProperty(_assertThisInitialized(_this),"toggleExcludedAndProvider",(function(providerId,excluded,andProviderId){_this.props.onToggleDataProviderExcluded({providerId:providerId,excluded:excluded,andProviderId:andProviderId})}));return _this}_createClass(ProviderItemAnd,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,browserFields=_this$props.browserFields,dataProvidersAnd=_this$props.dataProvidersAnd,onDataProviderEdited=_this$props.onDataProviderEdited,providerId=_this$props.providerId,timelineId=_this$props.timelineId;return dataProvidersAnd.map((function(providerAnd,index){return _react.default.createElement(_react.default.Fragment,{key:"provider-item-and-".concat(timelineId,"-").concat(providerId,"-").concat(providerAnd.id)},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_and_or_badge.AndOrBadge,{type:"and"})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_provider_item_badge.ProviderItemBadge,{andProviderId:providerAnd.id,browserFields:browserFields,deleteProvider:function deleteProvider(){return _this2.deleteAndProvider(providerId,providerAnd.id)},field:providerAnd.queryMatch.displayField||providerAnd.queryMatch.field,kqlQuery:providerAnd.kqlQuery,isEnabled:providerAnd.enabled,isExcluded:providerAnd.excluded,onDataProviderEdited:onDataProviderEdited,operator:providerAnd.queryMatch.operator||_data_provider.IS_OPERATOR,providerId:providerId,timelineId:timelineId,toggleEnabledProvider:function toggleEnabledProvider(){return _this2.toggleEnabledAndProvider(providerId,!providerAnd.enabled,providerAnd.id)},toggleExcludedProvider:function toggleExcludedProvider(){return _this2.toggleExcludedAndProvider(providerId,!providerAnd.excluded,providerAnd.id)},val:providerAnd.queryMatch.displayValue||providerAnd.queryMatch.value})))}))}}]);return ProviderItemAnd}(_react.default.PureComponent);exports.ProviderItemAnd=ProviderItemAnd},8877:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatefulSearchOrFilter=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _keury=__webpack_require__(1885);var _store=__webpack_require__(7016);var _actions=__webpack_require__(1882);var _defaults=__webpack_require__(7053);var _super_date_picker=__webpack_require__(7200);var _search_or_filter=__webpack_require__(8878);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var StatefulSearchOrFilterComponent=_react.default.memo((function(_ref){var applyKqlFilterQuery=_ref.applyKqlFilterQuery,browserFields=_ref.browserFields,dataProviders=_ref.dataProviders,eventType=_ref.eventType,filters=_ref.filters,filterQuery=_ref.filterQuery,filterQueryDraft=_ref.filterQueryDraft,from=_ref.from,fromStr=_ref.fromStr,indexPattern=_ref.indexPattern,isRefreshPaused=_ref.isRefreshPaused,kqlMode=_ref.kqlMode,refreshInterval=_ref.refreshInterval,savedQueryId=_ref.savedQueryId,setFilters=_ref.setFilters,setKqlFilterQueryDraft=_ref.setKqlFilterQueryDraft,setSavedQueryId=_ref.setSavedQueryId,timelineId=_ref.timelineId,to=_ref.to,toStr=_ref.toStr,updateEventType=_ref.updateEventType,updateKqlMode=_ref.updateKqlMode,updateReduxTime=_ref.updateReduxTime;var applyFilterQueryFromKueryExpression=(0,_react.useCallback)((function(expression,kind){return applyKqlFilterQuery({id:timelineId,filterQuery:{kuery:{kind:kind,expression:expression},serializedQuery:(0,_keury.convertKueryToElasticSearchQuery)(expression,indexPattern)}})}),[indexPattern,timelineId]);var setFilterQueryDraftFromKueryExpression=(0,_react.useCallback)((function(expression,kind){return setKqlFilterQueryDraft({id:timelineId,filterQueryDraft:{kind:kind,expression:expression}})}),[timelineId]);var setFiltersInTimeline=(0,_react.useCallback)((function(newFilters){return setFilters({id:timelineId,filters:newFilters})}),[timelineId]);var setSavedQueryInTimeline=(0,_react.useCallback)((function(newSavedQueryId){return setSavedQueryId({id:timelineId,savedQueryId:newSavedQueryId})}),[timelineId]);var handleUpdateEventType=(0,_react.useCallback)((function(newEventType){return updateEventType({id:timelineId,eventType:newEventType})}),[timelineId]);return _react.default.createElement(_search_or_filter.SearchOrFilter,{applyKqlFilterQuery:applyFilterQueryFromKueryExpression,browserFields:browserFields,dataProviders:dataProviders,eventType:eventType,filters:filters,filterQuery:filterQuery,filterQueryDraft:filterQueryDraft,from:from,fromStr:fromStr,indexPattern:indexPattern,isRefreshPaused:isRefreshPaused,kqlMode:kqlMode,refreshInterval:refreshInterval,savedQueryId:savedQueryId,setFilters:setFiltersInTimeline,setKqlFilterQueryDraft:setFilterQueryDraftFromKueryExpression,setSavedQueryId:setSavedQueryInTimeline,timelineId:timelineId,to:to,toStr:toStr,updateEventType:handleUpdateEventType,updateKqlMode:updateKqlMode,updateReduxTime:updateReduxTime})}),(function(prevProps,nextProps){return prevProps.eventType===nextProps.eventType&&prevProps.from===nextProps.from&&prevProps.fromStr===nextProps.fromStr&&prevProps.to===nextProps.to&&prevProps.toStr===nextProps.toStr&&prevProps.isRefreshPaused===nextProps.isRefreshPaused&&prevProps.refreshInterval===nextProps.refreshInterval&&prevProps.timelineId===nextProps.timelineId&&(0,_fp.isEqual)(prevProps.browserFields,nextProps.browserFields)&&(0,_fp.isEqual)(prevProps.dataProviders,nextProps.dataProviders)&&(0,_fp.isEqual)(prevProps.filters,nextProps.filters)&&(0,_fp.isEqual)(prevProps.filterQuery,nextProps.filterQuery)&&(0,_fp.isEqual)(prevProps.filterQueryDraft,nextProps.filterQueryDraft)&&(0,_fp.isEqual)(prevProps.indexPattern,nextProps.indexPattern)&&(0,_fp.isEqual)(prevProps.kqlMode,nextProps.kqlMode)&&(0,_fp.isEqual)(prevProps.savedQueryId,nextProps.savedQueryId)&&(0,_fp.isEqual)(prevProps.timelineId,nextProps.timelineId)}));StatefulSearchOrFilterComponent.displayName="StatefulSearchOrFilterComponent";var makeMapStateToProps=function makeMapStateToProps(){var getTimeline=_store.timelineSelectors.getTimelineByIdSelector();var getKqlFilterQueryDraft=_store.timelineSelectors.getKqlFilterQueryDraftSelector();var getKqlFilterQuery=_store.timelineSelectors.getKqlFilterKuerySelector();var getInputsTimeline=_store.inputsSelectors.getTimelineSelector();var getInputsPolicy=_store.inputsSelectors.getTimelinePolicySelector();var mapStateToProps=function mapStateToProps(state,_ref2){var _getTimeline,_timeline$eventType;var timelineId=_ref2.timelineId;var timeline=(_getTimeline=getTimeline(state,timelineId))!==null&&_getTimeline!==void 0?_getTimeline:_defaults.timelineDefaults;var input=getInputsTimeline(state);var policy=getInputsPolicy(state);return{dataProviders:timeline.dataProviders,eventType:(_timeline$eventType=timeline.eventType)!==null&&_timeline$eventType!==void 0?_timeline$eventType:"raw",filterQuery:getKqlFilterQuery(state,timelineId),filterQueryDraft:getKqlFilterQueryDraft(state,timelineId),filters:timeline.filters,from:input.timerange.from,fromStr:input.timerange.fromStr,isRefreshPaused:policy.kind==="manual",kqlMode:(0,_fp.getOr)("filter","kqlMode",timeline),refreshInterval:policy.duration,savedQueryId:(0,_fp.getOr)(null,"savedQueryId",timeline),to:input.timerange.to,toStr:input.timerange.toStr}};return mapStateToProps};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{applyKqlFilterQuery:function applyKqlFilterQuery(_ref3){var id=_ref3.id,filterQuery=_ref3.filterQuery;return dispatch(_actions.timelineActions.applyKqlFilterQuery({id:id,filterQuery:filterQuery}))},updateEventType:function updateEventType(_ref4){var id=_ref4.id,eventType=_ref4.eventType;return dispatch(_actions.timelineActions.updateEventType({id:id,eventType:eventType}))},updateKqlMode:function updateKqlMode(_ref5){var id=_ref5.id,kqlMode=_ref5.kqlMode;return dispatch(_actions.timelineActions.updateKqlMode({id:id,kqlMode:kqlMode}))},setKqlFilterQueryDraft:function setKqlFilterQueryDraft(_ref6){var id=_ref6.id,filterQueryDraft=_ref6.filterQueryDraft;return dispatch(_actions.timelineActions.setKqlFilterQueryDraft({id:id,filterQueryDraft:filterQueryDraft}))},setSavedQueryId:function setSavedQueryId(_ref7){var id=_ref7.id,savedQueryId=_ref7.savedQueryId;return dispatch(_actions.timelineActions.setSavedQueryId({id:id,savedQueryId:savedQueryId}))},setFilters:function setFilters(_ref8){var id=_ref8.id,filters=_ref8.filters;return dispatch(_actions.timelineActions.setFilters({id:id,filters:filters}))},updateReduxTime:(0,_super_date_picker.dispatchUpdateReduxTime)(dispatch)}};var StatefulSearchOrFilter=(0,_reactRedux.connect)(makeMapStateToProps,mapDispatchToProps)(StatefulSearchOrFilterComponent);exports.StatefulSearchOrFilter=StatefulSearchOrFilter},8878:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SearchOrFilter=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireWildcard(__webpack_require__(30));var _query_bar=__webpack_require__(7662);var _helpers=__webpack_require__(8879);var i18n=_interopRequireWildcard(__webpack_require__(7347));var _pick_events=__webpack_require__(8880);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  ."," {\n    width: 350px !important;\n  }\n\n  .","__popoverPanel {\n    width: ",";\n\n    .euiSuperSelect__listbox {\n      width: "," !important;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var timelineSelectModeItemsClassName="timelineSelectModeItemsClassName";var searchOrFilterPopoverClassName="searchOrFilterPopover";var searchOrFilterPopoverWidth="352px";var SearchOrFilterGlobalStyle=(0,_styledComponents.createGlobalStyle)(_templateObject(),timelineSelectModeItemsClassName,searchOrFilterPopoverClassName,searchOrFilterPopoverWidth,searchOrFilterPopoverWidth);var SearchOrFilterContainer=_styledComponents.default.div.withConfig({displayName:"SearchOrFilterContainer",componentId:"yful7u-0"})(["margin:5px 0 10px 0;user-select:none;.globalQueryBar{padding:0px;.kbnQueryBar{div:first-child{margin-right:0px;}}}"]);SearchOrFilterContainer.displayName="SearchOrFilterContainer";var ModeFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"ModeFlexItem",componentId:"yful7u-1"})(["user-select:none;"]);ModeFlexItem.displayName="ModeFlexItem";var SearchOrFilter=_react.default.memo((function(_ref){var applyKqlFilterQuery=_ref.applyKqlFilterQuery,browserFields=_ref.browserFields,dataProviders=_ref.dataProviders,eventType=_ref.eventType,indexPattern=_ref.indexPattern,isRefreshPaused=_ref.isRefreshPaused,filters=_ref.filters,filterQuery=_ref.filterQuery,filterQueryDraft=_ref.filterQueryDraft,from=_ref.from,fromStr=_ref.fromStr,kqlMode=_ref.kqlMode,timelineId=_ref.timelineId,refreshInterval=_ref.refreshInterval,savedQueryId=_ref.savedQueryId,setFilters=_ref.setFilters,setKqlFilterQueryDraft=_ref.setKqlFilterQueryDraft,setSavedQueryId=_ref.setSavedQueryId,to=_ref.to,toStr=_ref.toStr,updateEventType=_ref.updateEventType,updateKqlMode=_ref.updateKqlMode,updateReduxTime=_ref.updateReduxTime;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(SearchOrFilterContainer,null,_react.default.createElement(_eui.EuiFlexGroup,{"data-test-subj":"timeline-search-or-filter",gutterSize:"xs"},_react.default.createElement(ModeFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{content:i18n.FILTER_OR_SEARCH_WITH_KQL},_react.default.createElement(_eui.EuiSuperSelect,{"data-test-subj":"timeline-select-search-or-filter",hasDividers:true,itemLayoutAlign:"top",itemClassName:timelineSelectModeItemsClassName,onChange:function onChange(mode){return updateKqlMode({id:timelineId,kqlMode:mode})},options:_helpers.options,popoverClassName:searchOrFilterPopoverClassName,valueOfSelected:kqlMode}))),_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"timeline-search-or-filter-search-container"},_react.default.createElement(_query_bar.QueryBarTimeline,{applyKqlFilterQuery:applyKqlFilterQuery,browserFields:browserFields,dataProviders:dataProviders,filters:filters,filterQuery:filterQuery,filterQueryDraft:filterQueryDraft,from:from,fromStr:fromStr,kqlMode:kqlMode,indexPattern:indexPattern,isRefreshPaused:isRefreshPaused,refreshInterval:refreshInterval,savedQueryId:savedQueryId,setFilters:setFilters,setKqlFilterQueryDraft:setKqlFilterQueryDraft,setSavedQueryId:setSavedQueryId,timelineId:timelineId,to:to,toStr:toStr,updateReduxTime:updateReduxTime})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_pick_events.PickEventType,{eventType:eventType,onChangeEventType:updateEventType})))),_react.default.createElement(SearchOrFilterGlobalStyle,null))}));exports.SearchOrFilter=SearchOrFilter;SearchOrFilter.displayName="SearchOrFilter"},8879:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPlaceholderText=exports.options=exports.modes=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _and_or_badge=__webpack_require__(7216);var i18n=_interopRequireWildcard(__webpack_require__(7347));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AndOrContainer=_styledComponents.default.div.withConfig({displayName:"AndOrContainer",componentId:"sc-84b4bp-0"})(["position:relative;top:-1px;"]);AndOrContainer.displayName="AndOrContainer";var modes={filter:{mode:"filter",description:i18n.FILTER_DESCRIPTION,kqlBarTooltip:i18n.FILTER_KQL_TOOLTIP,placeholder:i18n.FILTER_KQL_PLACEHOLDER,selectText:i18n.FILTER_KQL_SELECTED_TEXT},search:{mode:"search",description:i18n.SEARCH_DESCRIPTION,kqlBarTooltip:i18n.SEARCH_KQL_TOOLTIP,placeholder:i18n.SEARCH_KQL_PLACEHOLDER,selectText:i18n.SEARCH_KQL_SELECTED_TEXT}};exports.modes=modes;var options=[{value:modes.filter.mode,inputDisplay:_react.default.createElement(AndOrContainer,null,_react.default.createElement(_and_or_badge.AndOrBadge,{type:"and"}),modes.filter.selectText),dropdownDisplay:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_and_or_badge.AndOrBadge,{type:"and"}),_react.default.createElement("strong",null,modes.filter.selectText),_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},_react.default.createElement("p",{className:"euiTextColor--subdued"},modes.filter.description)))},{value:modes.search.mode,inputDisplay:_react.default.createElement(AndOrContainer,null,_react.default.createElement(_and_or_badge.AndOrBadge,{type:"or"}),modes.search.selectText),dropdownDisplay:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_and_or_badge.AndOrBadge,{type:"or"}),_react.default.createElement("strong",null,modes.search.selectText),_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},_react.default.createElement("p",{className:"euiTextColor--subdued"},modes.search.description)))}];exports.options=options;var getPlaceholderText=function getPlaceholderText(kqlMode){return kqlMode==="filter"?i18n.FILTER_KQL_PLACEHOLDER:i18n.SEARCH_KQL_PLACEHOLDER};exports.getPlaceholderText=getPlaceholderText},8880:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PickEventType=exports.eventTypeOptions=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var i18n=_interopRequireWildcard(__webpack_require__(7347));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var AllEuiHealth=(0,_styledComponents.default)(_eui.EuiHealth).withConfig({displayName:"AllEuiHealth",componentId:"xyzd9l-0"})(["margin-left:-2px;svg{stroke:#fff;stroke-width:1px;stroke-linejoin:round;width:19px;height:19px;margin-top:1px;z-index:1;}"]);var WarningEuiHealth=(0,_styledComponents.default)(_eui.EuiHealth).withConfig({displayName:"WarningEuiHealth",componentId:"xyzd9l-1"})(["margin-left:-17px;svg{z-index:0;}"]);var PickEventContainer=_styledComponents.default.div.withConfig({displayName:"PickEventContainer",componentId:"xyzd9l-2"})([".euiSuperSelect{width:155px;max-width:155px;button.euiSuperSelectControl{padding-top:3px;}}"]);var eventTypeOptions=[{value:"all",inputDisplay:_react.default.createElement(AllEuiHealth,{color:"subdued"},_react.default.createElement(WarningEuiHealth,{color:"warning"},i18n.ALL_EVENT))},{value:"raw",inputDisplay:_react.default.createElement(_eui.EuiHealth,{color:"subdued"},i18n.RAW_EVENT)},{value:"signal",inputDisplay:_react.default.createElement(_eui.EuiHealth,{color:"warning"},i18n.SIGNAL_EVENT)}];exports.eventTypeOptions=eventTypeOptions;var PickEventTypeComponents=function PickEventTypeComponents(_ref){var eventType=_ref.eventType,onChangeEventType=_ref.onChangeEventType;return _react.default.createElement(PickEventContainer,null,_react.default.createElement(_eui.EuiSuperSelect,{"data-test-subj":"pick-event-type",fullWidth:false,valueOfSelected:eventType,onChange:onChangeEventType,options:eventTypeOptions}))};var PickEventType=(0,_react.memo)(PickEventTypeComponents);exports.PickEventType=PickEventType},8881:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CALL_OUT_UNAUTHORIZED_MSG=void 0;var _i18n=__webpack_require__(2);var CALL_OUT_UNAUTHORIZED_MSG=_i18n.i18n.translate("xpack.siem.timeline.callOut.unauthorized.message.description",{defaultMessage:"You require permission to auto-save timelines within the SIEM application, though you may continue to use the timeline to search and filter security events"});exports.CALL_OUT_UNAUTHORIZED_MSG=CALL_OUT_UNAUTHORIZED_MSG},8882:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutoSaveWarningMsg=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _store=__webpack_require__(7016);var _actions=__webpack_require__(984);var i18n=_interopRequireWildcard(__webpack_require__(8883));var _timeline=__webpack_require__(1915);var _toasters=__webpack_require__(7019);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AutoSaveWarningMsgComponent=_react.default.memo((function(_ref){var newTimelineModel=_ref.newTimelineModel,setTimelineRangeDatePicker=_ref.setTimelineRangeDatePicker,timelineId=_ref.timelineId,updateAutoSaveMsg=_ref.updateAutoSaveMsg,updateTimeline=_ref.updateTimeline;var dispatchToaster=(0,_toasters.useStateToaster)()[1];if(timelineId!=null&&newTimelineModel!=null){var toast={id:"AutoSaveWarningMsg",title:i18n.TITLE,color:"warning",iconType:"alert",toastLifeTimeMs:1e4,text:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement("p",null,i18n.DESCRIPTION),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{size:"s",onClick:function onClick(){updateTimeline({id:timelineId,timeline:newTimelineModel});updateAutoSaveMsg({timelineId:null,newTimelineModel:null});setTimelineRangeDatePicker({from:(0,_fp.getOr)(0,"dateRange.start",newTimelineModel),to:(0,_fp.getOr)(0,"dateRange.end",newTimelineModel)})}},i18n.REFRESH_TIMELINE))))};dispatchToaster({type:"addToaster",toast:toast})}return null}));AutoSaveWarningMsgComponent.displayName="AutoSaveWarningMsgComponent";var mapStateToProps=function mapStateToProps(state){var autoSaveMessage=_store.timelineSelectors.autoSaveMsgSelector(state);return{timelineId:autoSaveMessage.timelineId,newTimelineModel:autoSaveMessage.newTimelineModel}};var AutoSaveWarningMsg=(0,_reactRedux.connect)(mapStateToProps,{setTimelineRangeDatePicker:_actions.setTimelineRangeDatePicker,updateAutoSaveMsg:_timeline.timelineActions.updateAutoSaveMsg,updateTimeline:_timeline.timelineActions.updateTimeline})(AutoSaveWarningMsgComponent);exports.AutoSaveWarningMsg=AutoSaveWarningMsg},8883:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.REFRESH_TIMELINE=exports.DESCRIPTION=exports.TITLE=void 0;var _i18n=__webpack_require__(2);var TITLE=_i18n.i18n.translate("xpack.siem.timeline.autosave.warning.title",{defaultMessage:"Auto-save disabled until refresh"});exports.TITLE=TITLE;var DESCRIPTION=_i18n.i18n.translate("xpack.siem.timeline.autosave.warning.description",{defaultMessage:"Another user has made changes to this timeline. Any changes you make will not be auto-saved until you have refreshed this timeline to absorb those changes."});exports.DESCRIPTION=DESCRIPTION;var REFRESH_TIMELINE=_i18n.i18n.translate("xpack.siem.timeline.autosave.warning.refresh.title",{defaultMessage:"Refresh timeline"});exports.REFRESH_TIMELINE=REFRESH_TIMELINE},8884:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UseUrlState=exports.UrlStateRedux=exports.UrlStateContainer=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _redux=__webpack_require__(7020);var _reactRedux=__webpack_require__(7014);var _actions=__webpack_require__(1882);var _use_route_spy=__webpack_require__(7318);var _use_url_state=__webpack_require__(8885);var _helpers=__webpack_require__(7056);var _initialize_redux_by_url=__webpack_require__(8886);var _helpers2=__webpack_require__(7150);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var UrlStateContainer=function UrlStateContainer(props){(0,_use_url_state.useUrlStateHooks)(props);return null};exports.UrlStateContainer=UrlStateContainer;var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setInitialStateFromUrl:(0,_initialize_redux_by_url.dispatchSetInitialStateFromUrl)(dispatch),updateTimeline:(0,_helpers.dispatchUpdateTimeline)(dispatch),updateTimelineIsLoading:function updateTimelineIsLoading(_ref){var id=_ref.id,isLoading=_ref.isLoading;return dispatch(_actions.timelineActions.updateIsLoading({id:id,isLoading:isLoading}))}}};var UrlStateRedux=(0,_redux.compose)((0,_reactRedux.connect)(_helpers2.makeMapStateToProps,mapDispatchToProps))(_react.default.memo(UrlStateContainer,(function(prevProps,nextProps){return prevProps.pathName===nextProps.pathName&&(0,_fp.isEqual)(prevProps.urlState,nextProps.urlState)})));exports.UrlStateRedux=UrlStateRedux;var UseUrlStateComponent=function UseUrlStateComponent(props){var _useRouteSpy=(0,_use_route_spy.useRouteSpy)(),_useRouteSpy2=_slicedToArray(_useRouteSpy,1),routeProps=_useRouteSpy2[0];var urlStateReduxProps=_objectSpread({},routeProps,{},props);return _react.default.createElement(UrlStateRedux,urlStateReduxProps)};var UseUrlState=_react.default.memo(UseUrlStateComponent);exports.UseUrlState=UseUrlState},8885:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useUrlStateHooks=void 0;var _fp=__webpack_require__(223);var _react=__webpack_require__(0);var _apollo_context=__webpack_require__(7077);var _constants=__webpack_require__(1914);var _helpers=__webpack_require__(7150);var _types=__webpack_require__(7622);var _types2=__webpack_require__(7030);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function usePrevious(value){var ref=(0,_react.useRef)(value);(0,_react.useEffect)((function(){ref.current=value}));return ref.current}var useUrlStateHooks=function useUrlStateHooks(_ref){var detailName=_ref.detailName,indexPattern=_ref.indexPattern,history=_ref.history,navTabs=_ref.navTabs,pageName=_ref.pageName,pathName=_ref.pathName,search=_ref.search,setInitialStateFromUrl=_ref.setInitialStateFromUrl,tabName=_ref.tabName,updateTimeline=_ref.updateTimeline,updateTimelineIsLoading=_ref.updateTimelineIsLoading,urlState=_ref.urlState;var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),isInitializing=_useState2[0],setIsInitializing=_useState2[1];var apolloClient=(0,_apollo_context.useApolloClient)();var prevProps=usePrevious({pathName:pathName,pageName:pageName,urlState:urlState});var handleInitialize=function handleInitialize(type,needUpdate){var mySearch=search;var urlStateToUpdate=[];_types.URL_STATE_KEYS[type].forEach((function(urlKey){var _urlState$urlKey;var newUrlStateString=(0,_helpers.getParamFromQueryString)((0,_helpers.getQueryStringFromLocation)(mySearch),urlKey);if(newUrlStateString){mySearch=(0,_helpers.updateUrlStateString)({history:history,isInitializing:isInitializing,newUrlStateString:newUrlStateString,pathName:pathName,search:mySearch,updateTimerange:(needUpdate!==null&&needUpdate!==void 0?needUpdate:false)||isInitializing,urlKey:urlKey});if(isInitializing||needUpdate){var _getParamFromQueryStr;var updatedUrlStateString=(_getParamFromQueryStr=(0,_helpers.getParamFromQueryString)((0,_helpers.getQueryStringFromLocation)(mySearch),urlKey))!==null&&_getParamFromQueryStr!==void 0?_getParamFromQueryStr:newUrlStateString;if(isInitializing||!(0,_fp.isEqual)(updatedUrlStateString,newUrlStateString)){urlStateToUpdate=[].concat(_toConsumableArray(urlStateToUpdate),[{urlKey:urlKey,newUrlStateString:updatedUrlStateString}])}}}else if(urlKey===_constants.CONSTANTS.appQuery&&urlState[urlKey]!=null&&((_urlState$urlKey=urlState[urlKey])===null||_urlState$urlKey===void 0?void 0:_urlState$urlKey.query)===""){mySearch=(0,_helpers.replaceStateInLocation)({history:history,pathName:pathName,search:mySearch,urlStateToReplace:"",urlStateKey:urlKey})}else if(urlKey===_constants.CONSTANTS.filters&&(0,_fp.isEmpty)(urlState[urlKey])){mySearch=(0,_helpers.replaceStateInLocation)({history:history,pathName:pathName,search:mySearch,urlStateToReplace:"",urlStateKey:urlKey})}else if(urlKey===_constants.CONSTANTS.timeline&&urlState[urlKey]!=null&&urlState[urlKey].id===""){mySearch=(0,_helpers.replaceStateInLocation)({history:history,pathName:pathName,search:mySearch,urlStateToReplace:"",urlStateKey:urlKey})}else{mySearch=(0,_helpers.replaceStateInLocation)({history:history,pathName:pathName,search:mySearch,urlStateToReplace:urlState[urlKey]||"",urlStateKey:urlKey})}}));(0,_fp.difference)(_types.ALL_URL_STATE_KEYS,_types.URL_STATE_KEYS[type]).forEach((function(urlKey){mySearch=(0,_helpers.replaceStateInLocation)({history:history,pathName:pathName,search:mySearch,urlStateToReplace:"",urlStateKey:urlKey})}));setInitialStateFromUrl({apolloClient:apolloClient,detailName:detailName,indexPattern:indexPattern,pageName:pageName,updateTimeline:updateTimeline,updateTimelineIsLoading:updateTimelineIsLoading,urlStateToUpdate:urlStateToUpdate})()};(0,_react.useEffect)((function(){var type=(0,_helpers.getUrlType)(pageName);if(isInitializing&&pageName!=null&&pageName!==""){handleInitialize(type);setIsInitializing(false)}else if(!(0,_fp.isEqual)(urlState,prevProps.urlState)&&!isInitializing){var mySearch=search;_types.URL_STATE_KEYS[type].forEach((function(urlKey){var _urlState$urlKey2;if(urlKey===_constants.CONSTANTS.appQuery&&urlState[urlKey]!=null&&((_urlState$urlKey2=urlState[urlKey])===null||_urlState$urlKey2===void 0?void 0:_urlState$urlKey2.query)===""){mySearch=(0,_helpers.replaceStateInLocation)({history:history,pathName:pathName,search:mySearch,urlStateToReplace:"",urlStateKey:urlKey})}else if(urlKey===_constants.CONSTANTS.filters&&(0,_fp.isEmpty)(urlState[urlKey])){mySearch=(0,_helpers.replaceStateInLocation)({history:history,pathName:pathName,search:mySearch,urlStateToReplace:"",urlStateKey:urlKey})}else if(urlKey===_constants.CONSTANTS.timeline&&urlState[urlKey]!=null&&urlState[urlKey].id===""){mySearch=(0,_helpers.replaceStateInLocation)({history:history,pathName:pathName,search:mySearch,urlStateToReplace:"",urlStateKey:urlKey})}else{mySearch=(0,_helpers.replaceStateInLocation)({history:history,pathName:pathName,search:mySearch,urlStateToReplace:urlState[urlKey]||"",urlStateKey:urlKey})}}))}else if(pathName!==prevProps.pathName){handleInitialize(type,pageName===_types2.SiemPageName.detections)}}),[isInitializing,history,pathName,pageName,prevProps,urlState]);(0,_react.useEffect)((function(){document.title="".concat((0,_helpers.getTitle)(pageName,detailName,navTabs)," - Kibana")}),[pageName]);return null};exports.useUrlStateHooks=useUrlStateHooks},8886:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.dispatchSetInitialStateFromUrl=void 0;var _fp=__webpack_require__(223);var _actions=__webpack_require__(1882);var _search_bar=__webpack_require__(7079);var _constants=__webpack_require__(1914);var _helpers=__webpack_require__(7150);var _normalize_time_range=__webpack_require__(8887);var _helpers2=__webpack_require__(7056);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var dispatchSetInitialStateFromUrl=function dispatchSetInitialStateFromUrl(dispatch){return function(_ref){var apolloClient=_ref.apolloClient,detailName=_ref.detailName,indexPattern=_ref.indexPattern,pageName=_ref.pageName,updateTimeline=_ref.updateTimeline,updateTimelineIsLoading=_ref.updateTimelineIsLoading,urlStateToUpdate=_ref.urlStateToUpdate;return function(){urlStateToUpdate.forEach((function(_ref2){var urlKey=_ref2.urlKey,newUrlStateString=_ref2.newUrlStateString;if(urlKey===_constants.CONSTANTS.timerange){updateTimerange(newUrlStateString,dispatch)}if(urlKey===_constants.CONSTANTS.appQuery&&indexPattern!=null){var appQuery=(0,_helpers.decodeRisonUrlState)(newUrlStateString);if(appQuery!=null){dispatch(_actions.inputsActions.setFilterQuery({id:"global",query:appQuery.query,language:appQuery.language}))}}if(urlKey===_constants.CONSTANTS.filters){var filters=(0,_helpers.decodeRisonUrlState)(newUrlStateString);_search_bar.siemFilterManager.setFilters(filters||[])}if(urlKey===_constants.CONSTANTS.savedQuery){var savedQueryId=(0,_helpers.decodeRisonUrlState)(newUrlStateString);if(savedQueryId!=null&&savedQueryId!==""){_search_bar.savedQueryService.getSavedQuery(savedQueryId).then((function(savedQueryData){_search_bar.siemFilterManager.setFilters(savedQueryData.attributes.filters||[]);dispatch(_actions.inputsActions.setFilterQuery(_objectSpread({id:"global"},savedQueryData.attributes.query)));dispatch(_actions.inputsActions.setSavedQuery({id:"global",savedQuery:savedQueryData}))}))}}if(urlKey===_constants.CONSTANTS.timeline){var timeline=(0,_helpers.decodeRisonUrlState)(newUrlStateString);if(timeline!=null&&timeline.id!==""){(0,_helpers2.queryTimelineById)({apolloClient:apolloClient,duplicate:false,timelineId:timeline.id,openTimeline:timeline.isOpen,updateIsLoading:updateTimelineIsLoading,updateTimeline:updateTimeline})}}}))}}};exports.dispatchSetInitialStateFromUrl=dispatchSetInitialStateFromUrl;var updateTimerange=function updateTimerange(newUrlStateString,dispatch){var timerangeStateData=(0,_helpers.decodeRisonUrlState)(newUrlStateString);var globalId="global";var globalLinkTo={linkTo:(0,_fp.get)("global.linkTo",timerangeStateData)};var globalType=(0,_fp.get)("global.timerange.kind",timerangeStateData);var timelineId="timeline";var timelineLinkTo={linkTo:(0,_fp.get)("timeline.linkTo",timerangeStateData)};var timelineType=(0,_fp.get)("timeline.timerange.kind",timerangeStateData);if((0,_fp.isEmpty)(globalLinkTo.linkTo)){dispatch(_actions.inputsActions.removeGlobalLinkTo())}else{dispatch(_actions.inputsActions.addGlobalLinkTo({linkToId:"timeline"}))}if((0,_fp.isEmpty)(timelineLinkTo.linkTo)){dispatch(_actions.inputsActions.removeTimelineLinkTo())}else{dispatch(_actions.inputsActions.addTimelineLinkTo({linkToId:"global"}))}if(timelineType){if(timelineType==="absolute"){var absoluteRange=(0,_normalize_time_range.normalizeTimeRange)((0,_fp.get)("timeline.timerange",timerangeStateData));dispatch(_actions.inputsActions.setAbsoluteRangeDatePicker(_objectSpread({},absoluteRange,{id:timelineId})))}if(timelineType==="relative"){var relativeRange=(0,_normalize_time_range.normalizeTimeRange)((0,_fp.get)("timeline.timerange",timerangeStateData));dispatch(_actions.inputsActions.setRelativeRangeDatePicker(_objectSpread({},relativeRange,{id:timelineId})))}}if(globalType){if(globalType==="absolute"){var _absoluteRange=(0,_normalize_time_range.normalizeTimeRange)((0,_fp.get)("global.timerange",timerangeStateData));dispatch(_actions.inputsActions.setAbsoluteRangeDatePicker(_objectSpread({},_absoluteRange,{id:globalId})))}if(globalType==="relative"){var _relativeRange=(0,_normalize_time_range.normalizeTimeRange)((0,_fp.get)("global.timerange",timerangeStateData));dispatch(_actions.inputsActions.setRelativeRangeDatePicker(_objectSpread({},_relativeRange,{id:globalId})))}}}},8887:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.normalizeTimeRange=void 0;var _maybe_date=__webpack_require__(7574);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var normalizeTimeRange=function normalizeTimeRange(dateRange){var maybeTo=(0,_maybe_date.getMaybeDate)(dateRange.to);var maybeFrom=(0,_maybe_date.getMaybeDate)(dateRange.from);var to=maybeTo.isValid()?maybeTo.valueOf():Number(dateRange.to);var from=maybeFrom.isValid()?maybeFrom.valueOf():Number(dateRange.from);return _objectSpread({},dateRange,{to:to,from:from})};exports.normalizeTimeRange=normalizeTimeRange},8888:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetectionEngineContainer=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _user_info=__webpack_require__(7138);var _create=__webpack_require__(8890);var _detection_engine=__webpack_require__(8921);var _edit=__webpack_require__(8930);var _details=__webpack_require__(8932);var _rules=__webpack_require__(8941);var _types=__webpack_require__(7201);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var detectionEnginePath="/:pageName(detections)";var DetectionEngineContainerComponent=function DetectionEngineContainerComponent(){return _react.default.createElement(_user_info.ManageUserInfo,null,_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(detectionEnginePath,"/:tabName(").concat(_types.DetectionEngineTab.signals,"|").concat(_types.DetectionEngineTab.alerts,")"),strict:true},_react.default.createElement(_detection_engine.DetectionEnginePage,null)),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(detectionEnginePath,"/rules")},_react.default.createElement(_rules.RulesPage,null)),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(detectionEnginePath,"/rules/create")},_react.default.createElement(_create.CreateRulePage,null)),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(detectionEnginePath,"/rules/id/:detailName")},_react.default.createElement(_details.RuleDetailsPage,null)),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(detectionEnginePath,"/rules/id/:detailName/edit")},_react.default.createElement(_edit.EditRulePage,null)),_react.default.createElement(_reactRouterDom.Route,{path:"/detections/",render:function render(_ref){var _ref$location$search=_ref.location.search,search=_ref$location$search===void 0?"":_ref$location$search;return _react.default.createElement(_reactRouterDom.Redirect,{from:"/detections/",to:"/detections/".concat(_types.DetectionEngineTab.signals).concat(search)})}})))};var DetectionEngineContainer=_react.default.memo(DetectionEngineContainerComponent);exports.DetectionEngineContainer=DetectionEngineContainer},8889:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.usePrivilegeUser=void 0;var _react=__webpack_require__(0);var _error_to_toaster=__webpack_require__(7039);var _toasters=__webpack_require__(7019);var _api=__webpack_require__(7210);var i18n=_interopRequireWildcard(__webpack_require__(7627));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var usePrivilegeUser=function usePrivilegeUser(){var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=(0,_react.useState)({isAuthenticated:null,hasEncryptionKey:null,hasIndexManage:null,hasManageApiKey:null,hasIndexWrite:null}),_useState4=_slicedToArray(_useState3,2),privilegeUser=_useState4[0],setPrivilegeUser=_useState4[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;setLoading(true);function fetchData(){var privilege,indexName;return regeneratorRuntime.async((function fetchData$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return regeneratorRuntime.awrap((0,_api.getUserPrivilege)({signal:abortCtrl.signal}));case 3:privilege=_context.sent;if(isSubscribed&&privilege!=null){if(privilege.index!=null&&Object.keys(privilege.index).length>0){indexName=Object.keys(privilege.index)[0];setPrivilegeUser({isAuthenticated:privilege.is_authenticated,hasEncryptionKey:privilege.has_encryption_key,hasIndexManage:privilege.index[indexName].manage,hasIndexWrite:privilege.index[indexName].create||privilege.index[indexName].create_doc||privilege.index[indexName].index||privilege.index[indexName].write,hasManageApiKey:privilege.cluster.manage_security||privilege.cluster.manage_api_key||privilege.cluster.manage_own_api_key})}}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);if(isSubscribed){setPrivilegeUser({isAuthenticated:false,hasEncryptionKey:false,hasIndexManage:false,hasManageApiKey:false,hasIndexWrite:false});(0,_error_to_toaster.errorToToaster)({title:i18n.PRIVILEGE_FETCH_FAILURE,error:_context.t0,dispatchToaster:dispatchToaster})}case 10:if(isSubscribed){setLoading(false)}case 11:case"end":return _context.stop()}}}),null,null,[[0,7]])}fetchData();return function(){isSubscribed=false;abortCtrl.abort()}}),[]);return _objectSpread({loading:loading},privilegeUser)};exports.usePrivilegeUser=usePrivilegeUser},8890:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CreateRulePage=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _rules=__webpack_require__(7059);var _redirect_to_detection_engine=__webpack_require__(7043);var _wrapper_page=__webpack_require__(7054);var _toasters=__webpack_require__(7019);var _spy_routes=__webpack_require__(7057);var _user_info=__webpack_require__(7138);var _accordion_title=__webpack_require__(8897);var _step_about_rule=__webpack_require__(7348);var _step_define_rule=__webpack_require__(7353);var _step_schedule_rule=__webpack_require__(7354);var _detection_engine_header_page=__webpack_require__(7163);var RuleI18n=_interopRequireWildcard(__webpack_require__(7031));var _helpers=__webpack_require__(7093);var _types=__webpack_require__(7162);var _helpers2=__webpack_require__(7672);var i18n=_interopRequireWildcard(__webpack_require__(8920));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var stepsRuleOrder=[_types.RuleStep.defineRule,_types.RuleStep.aboutRule,_types.RuleStep.scheduleRule];var MyEuiPanel=(0,_styledComponents.default)(_eui.EuiPanel).withConfig({displayName:"MyEuiPanel",componentId:"yyh8fe-0"})(["position:relative;z-index:",";> .euiAccordion > .euiAccordion__triggerWrapper{.euiAccordion__button{cursor:default !important;&:hover{text-decoration:none !important;}}.euiAccordion__iconWrapper{display:none;}}"],(function(props){return props.zindex}));MyEuiPanel.displayName="MyEuiPanel";var StepDefineRuleAccordion=(0,_styledComponents.default)(_eui.EuiAccordion).withConfig({displayName:"StepDefineRuleAccordion",componentId:"yyh8fe-1"})([".euiAccordion__childWrapper{overflow:visible;}"]);StepDefineRuleAccordion.displayName="StepDefineRuleAccordion";var CreateRulePageComponent=function CreateRulePageComponent(){var _useRef,_useRef2,_useState5,_ref,_ref2,_ref3;var _useUserInfo=(0,_user_info.useUserInfo)(),loading=_useUserInfo.loading,isSignalIndexExists=_useUserInfo.isSignalIndexExists,isAuthenticated=_useUserInfo.isAuthenticated,hasEncryptionKey=_useUserInfo.hasEncryptionKey,canUserCRUD=_useUserInfo.canUserCRUD,hasManageApiKey=_useUserInfo.hasManageApiKey;var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];var _useState=(0,_react.useState)(_types.RuleStep.defineRule),_useState2=_slicedToArray(_useState,2),openAccordionId=_useState2[0],setOpenAccordionId=_useState2[1];var defineRuleRef=(0,_react.useRef)(null);var aboutRuleRef=(0,_react.useRef)(null);var scheduleRuleRef=(0,_react.useRef)(null);var stepsForm=(0,_react.useRef)((_useRef={},_defineProperty(_useRef,_types.RuleStep.defineRule,null),_defineProperty(_useRef,_types.RuleStep.aboutRule,null),_defineProperty(_useRef,_types.RuleStep.scheduleRule,null),_useRef));var stepsData=(0,_react.useRef)((_useRef2={},_defineProperty(_useRef2,_types.RuleStep.defineRule,{isValid:false,data:{}}),_defineProperty(_useRef2,_types.RuleStep.aboutRule,{isValid:false,data:{}}),_defineProperty(_useRef2,_types.RuleStep.scheduleRule,{isValid:false,data:{}}),_useRef2));var _useState3=(0,_react.useState)((_useState5={},_defineProperty(_useState5,_types.RuleStep.defineRule,false),_defineProperty(_useState5,_types.RuleStep.aboutRule,false),_defineProperty(_useState5,_types.RuleStep.scheduleRule,false),_useState5)),_useState4=_slicedToArray(_useState3,2),isStepRuleInReadOnlyView=_useState4[0],setIsStepRuleInEditView=_useState4[1];var _usePersistRule=(0,_rules.usePersistRule)(),_usePersistRule2=_slicedToArray(_usePersistRule,2),_usePersistRule2$=_usePersistRule2[0],isLoading=_usePersistRule2$.isLoading,isSaved=_usePersistRule2$.isSaved,setRule=_usePersistRule2[1];var userHasNoPermissions=canUserCRUD!=null&&hasManageApiKey!=null?!canUserCRUD||!hasManageApiKey:false;var setStepData=(0,_react.useCallback)((function(step,data,isValid){stepsData.current[step]=_objectSpread({},stepsData.current[step],{data:data,isValid:isValid});if(isValid){var stepRuleIdx=stepsRuleOrder.findIndex((function(item){return step===item}));if([0,1].includes(stepRuleIdx)){if(isStepRuleInReadOnlyView[stepsRuleOrder[stepRuleIdx+1]]){var _objectSpread2;setOpenAccordionId(stepsRuleOrder[stepRuleIdx+1]);setIsStepRuleInEditView(_objectSpread({},isStepRuleInReadOnlyView,(_objectSpread2={},_defineProperty(_objectSpread2,step,true),_defineProperty(_objectSpread2,stepsRuleOrder[stepRuleIdx+1],false),_objectSpread2)))}else if(openAccordionId!==stepsRuleOrder[stepRuleIdx+1]){setIsStepRuleInEditView(_objectSpread({},isStepRuleInReadOnlyView,_defineProperty({},step,true)));openCloseAccordion(stepsRuleOrder[stepRuleIdx+1]);setOpenAccordionId(stepsRuleOrder[stepRuleIdx+1])}}else if(stepRuleIdx===2&&stepsData.current[_types.RuleStep.defineRule].isValid&&stepsData.current[_types.RuleStep.aboutRule].isValid){setRule((0,_helpers2.formatRule)(stepsData.current[_types.RuleStep.defineRule].data,stepsData.current[_types.RuleStep.aboutRule].data,stepsData.current[_types.RuleStep.scheduleRule].data))}}}),[isStepRuleInReadOnlyView,openAccordionId,stepsData.current,setRule]);var setStepsForm=(0,_react.useCallback)((function(step,form){stepsForm.current[step]=form}),[]);var getAccordionType=(0,_react.useCallback)((function(accordionId){if(accordionId===openAccordionId){return"active"}else if(stepsData.current[accordionId].isValid){return"valid"}return"passive"}),[openAccordionId,stepsData.current]);var defineRuleButton=_react.default.createElement(_accordion_title.AccordionTitle,{name:"1",title:RuleI18n.DEFINE_RULE,type:getAccordionType(_types.RuleStep.defineRule)});var aboutRuleButton=_react.default.createElement(_accordion_title.AccordionTitle,{name:"2",title:RuleI18n.ABOUT_RULE,type:getAccordionType(_types.RuleStep.aboutRule)});var scheduleRuleButton=_react.default.createElement(_accordion_title.AccordionTitle,{name:"3",title:RuleI18n.SCHEDULE_RULE,type:getAccordionType(_types.RuleStep.scheduleRule)});var openCloseAccordion=function openCloseAccordion(accordionId){if(accordionId!=null){if(accordionId===_types.RuleStep.defineRule&&defineRuleRef.current!=null){defineRuleRef.current.onToggle()}else if(accordionId===_types.RuleStep.aboutRule&&aboutRuleRef.current!=null){aboutRuleRef.current.onToggle()}else if(accordionId===_types.RuleStep.scheduleRule&&scheduleRuleRef.current!=null){scheduleRuleRef.current.onToggle()}}};var manageAccordions=(0,_react.useCallback)((function(id,isOpen){var activeRuleIdx=stepsRuleOrder.findIndex((function(step){return step===openAccordionId}));var stepRuleIdx=stepsRuleOrder.findIndex((function(step){return step===id}));if((id===openAccordionId||stepRuleIdx<activeRuleIdx)&&!isOpen){openCloseAccordion(id)}else if(stepRuleIdx>=activeRuleIdx){if(openAccordionId!==id&&!stepsData.current[openAccordionId].isValid&&!isStepRuleInReadOnlyView[id]&&isOpen){openCloseAccordion(id)}}}),[isStepRuleInReadOnlyView,openAccordionId,stepsData]);var manageIsEditable=(0,_react.useCallback)((function _callee(id){var _stepsForm$current$op;var activeForm,_objectSpread4;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap((_stepsForm$current$op=stepsForm.current[openAccordionId])===null||_stepsForm$current$op===void 0?void 0:_stepsForm$current$op.submit());case 2:activeForm=_context.sent;if(activeForm!=null&&(activeForm===null||activeForm===void 0?void 0:activeForm.isValid)){stepsData.current[openAccordionId]=_objectSpread({},stepsData.current[openAccordionId],{data:activeForm.data,isValid:activeForm.isValid});setOpenAccordionId(id);setIsStepRuleInEditView(_objectSpread({},isStepRuleInReadOnlyView,(_objectSpread4={},_defineProperty(_objectSpread4,openAccordionId,true),_defineProperty(_objectSpread4,id,false),_objectSpread4)))}case 4:case"end":return _context.stop()}}}))}),[isStepRuleInReadOnlyView,openAccordionId]);if(isSaved){var ruleName=stepsData.current[_types.RuleStep.aboutRule].data.name;(0,_toasters.displaySuccessToast)(i18n.SUCCESSFULLY_CREATED_RULES(ruleName),dispatchToaster);return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_redirect_to_detection_engine.DETECTION_ENGINE_PAGE_NAME,"/rules")})}if((0,_helpers.redirectToDetections)(isSignalIndexExists,isAuthenticated,hasEncryptionKey)){return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_redirect_to_detection_engine.DETECTION_ENGINE_PAGE_NAME)})}else if(userHasNoPermissions){return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_redirect_to_detection_engine.DETECTION_ENGINE_PAGE_NAME,"/rules")})}return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_wrapper_page.WrapperPage,{restrictWidth:true},_react.default.createElement(_detection_engine_header_page.DetectionEngineHeaderPage,{backOptions:{href:"#detections/rules",text:i18n.BACK_TO_RULES},border:true,isLoading:isLoading||loading,title:i18n.PAGE_TITLE}),_react.default.createElement(MyEuiPanel,{zindex:3},_react.default.createElement(StepDefineRuleAccordion,{initialIsOpen:true,id:_types.RuleStep.defineRule,buttonContent:defineRuleButton,paddingSize:"xs",ref:defineRuleRef,onToggle:manageAccordions.bind(null,_types.RuleStep.defineRule),extraAction:stepsData.current[_types.RuleStep.defineRule].isValid&&_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"pencil",size:"xs",onClick:manageIsEditable.bind(null,_types.RuleStep.defineRule)},i18n.EDIT_RULE)},_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_step_define_rule.StepDefineRule,{addPadding:true,defaultValues:(_ref=stepsData.current[_types.RuleStep.defineRule].data)!==null&&_ref!==void 0?_ref:null,isReadOnlyView:isStepRuleInReadOnlyView[_types.RuleStep.defineRule],isLoading:isLoading||loading,setForm:setStepsForm,setStepData:setStepData,descriptionDirection:"row"}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(MyEuiPanel,{zindex:2},_react.default.createElement(_eui.EuiAccordion,{initialIsOpen:false,id:_types.RuleStep.aboutRule,buttonContent:aboutRuleButton,paddingSize:"xs",ref:aboutRuleRef,onToggle:manageAccordions.bind(null,_types.RuleStep.aboutRule),extraAction:stepsData.current[_types.RuleStep.aboutRule].isValid&&_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"pencil",size:"xs",onClick:manageIsEditable.bind(null,_types.RuleStep.aboutRule)},i18n.EDIT_RULE)},_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_step_about_rule.StepAboutRule,{addPadding:true,defaultValues:(_ref2=stepsData.current[_types.RuleStep.aboutRule].data)!==null&&_ref2!==void 0?_ref2:null,descriptionDirection:"row",isReadOnlyView:isStepRuleInReadOnlyView[_types.RuleStep.aboutRule],isLoading:isLoading||loading,setForm:setStepsForm,setStepData:setStepData}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(MyEuiPanel,{zindex:1},_react.default.createElement(_eui.EuiAccordion,{initialIsOpen:false,id:_types.RuleStep.scheduleRule,buttonContent:scheduleRuleButton,paddingSize:"xs",ref:scheduleRuleRef,onToggle:manageAccordions.bind(null,_types.RuleStep.scheduleRule),extraAction:stepsData.current[_types.RuleStep.scheduleRule].isValid&&_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"pencil",size:"xs",onClick:manageIsEditable.bind(null,_types.RuleStep.scheduleRule)},i18n.EDIT_RULE)},_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_step_schedule_rule.StepScheduleRule,{addPadding:true,defaultValues:(_ref3=stepsData.current[_types.RuleStep.scheduleRule].data)!==null&&_ref3!==void 0?_ref3:null,descriptionDirection:"row",isReadOnlyView:isStepRuleInReadOnlyView[_types.RuleStep.scheduleRule],isLoading:isLoading||loading,setForm:setStepsForm,setStepData:setStepData})))),_react.default.createElement(_spy_routes.SpyRoute,null))};var CreateRulePage=_react.default.memo(CreateRulePageComponent);exports.CreateRulePage=CreateRulePage},8891:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.usePersistRule=void 0;var _react=__webpack_require__(0);var _toasters=__webpack_require__(7019);var _error_to_toaster=__webpack_require__(7039);var _api=__webpack_require__(7113);var i18n=_interopRequireWildcard(__webpack_require__(7111));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var usePersistRule=function usePersistRule(){var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),rule=_useState2[0],setRule=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isSaved=_useState4[0],setIsSaved=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;setIsSaved(false);function saveRule(){return regeneratorRuntime.async((function saveRule$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(rule!=null)){_context.next=12;break}_context.prev=1;setIsLoading(true);_context.next=5;return regeneratorRuntime.awrap((0,_api.addRule)({rule:rule,signal:abortCtrl.signal}));case 5:if(isSubscribed){setIsSaved(true)}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);if(isSubscribed){(0,_error_to_toaster.errorToToaster)({title:i18n.RULE_ADD_FAILURE,error:_context.t0,dispatchToaster:dispatchToaster})}case 11:if(isSubscribed){setIsLoading(false)}case 12:case"end":return _context.stop()}}}),null,null,[[1,8]])}saveRule();return function(){isSubscribed=false;abortCtrl.abort()}}),[rule]);return[{isLoading:isLoading,isSaved:isSaved},setRule]};exports.usePersistRule=usePersistRule},8892:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RulesSchema=exports.RuleSchema=exports.NewRulesSchema=exports.NewRuleSchema=void 0;var t=_interopRequireWildcard(__webpack_require__(57));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var NewRuleSchema=t.intersection([t.type({description:t.string,enabled:t.boolean,filters:t.array(t.unknown),index:t.array(t.string),interval:t.string,language:t.string,name:t.string,query:t.string,risk_score:t.number,severity:t.string,type:t.union([t.literal("query"),t.literal("saved_query")])}),t.partial({created_by:t.string,false_positives:t.array(t.string),from:t.string,id:t.string,max_signals:t.number,references:t.array(t.string),rule_id:t.string,saved_id:t.string,tags:t.array(t.string),threat:t.array(t.unknown),to:t.string,updated_by:t.string})]);exports.NewRuleSchema=NewRuleSchema;var NewRulesSchema=t.array(NewRuleSchema);exports.NewRulesSchema=NewRulesSchema;var MetaRule=t.type({from:t.string});var RuleSchema=t.intersection([t.type({created_at:t.string,created_by:t.string,description:t.string,enabled:t.boolean,false_positives:t.array(t.string),filters:t.array(t.unknown),from:t.string,id:t.string,index:t.array(t.string),interval:t.string,immutable:t.boolean,language:t.string,name:t.string,max_signals:t.number,query:t.string,references:t.array(t.string),risk_score:t.number,rule_id:t.string,severity:t.string,tags:t.array(t.string),type:t.string,to:t.string,threat:t.array(t.unknown),updated_at:t.string,updated_by:t.string}),t.partial({last_failure_at:t.string,last_failure_message:t.string,meta:MetaRule,output_index:t.string,saved_id:t.string,status:t.string,status_date:t.string,timeline_id:t.string,timeline_title:t.string,version:t.number})]);exports.RuleSchema=RuleSchema;var RulesSchema=t.array(RuleSchema);exports.RulesSchema=RulesSchema},8893:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useRule=void 0;var _react=__webpack_require__(0);var _toasters=__webpack_require__(7019);var _error_to_toaster=__webpack_require__(7039);var _api=__webpack_require__(7113);var i18n=_interopRequireWildcard(__webpack_require__(7111));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useRule=function useRule(id){var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),rule=_useState2[0],setRule=_useState2[1];var _useState3=(0,_react.useState)(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;function fetchData(idToFetch){var ruleResponse;return regeneratorRuntime.async((function fetchData$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return regeneratorRuntime.awrap((0,_api.fetchRuleById)({id:idToFetch,signal:abortCtrl.signal}));case 4:ruleResponse=_context.sent;if(isSubscribed){setRule(ruleResponse)}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);if(isSubscribed){setRule(null);(0,_error_to_toaster.errorToToaster)({title:i18n.RULE_FETCH_FAILURE,error:_context.t0,dispatchToaster:dispatchToaster})}case 11:if(isSubscribed){setLoading(false)}case 12:case"end":return _context.stop()}}}),null,null,[[0,8]])}if(id!=null){fetchData(id)}return function(){isSubscribed=false;abortCtrl.abort()}}),[id]);return[loading,rule]};exports.useRule=useRule},8894:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useRules=void 0;var _fp=__webpack_require__(223);var _react=__webpack_require__(0);var _toasters=__webpack_require__(7019);var _api=__webpack_require__(7113);var _error_to_toaster=__webpack_require__(7039);var i18n=_interopRequireWildcard(__webpack_require__(7111));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useRules=function useRules(_ref){var _filterOptions$tags;var pagination=_ref.pagination,filterOptions=_ref.filterOptions,refetchPrePackagedRulesStatus=_ref.refetchPrePackagedRulesStatus,dispatchRulesInReducer=_ref.dispatchRulesInReducer;var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),rules=_useState2[0],setRules=_useState2[1];var reFetchRules=(0,_react.useRef)(_fp.noop);var _useState3=(0,_react.useState)(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;function fetchData(){var forceReload,fetchRulesResult,_args=arguments;return regeneratorRuntime.async((function fetchData$(_context){while(1){switch(_context.prev=_context.next){case 0:forceReload=_args.length>0&&_args[0]!==undefined?_args[0]:false;_context.prev=1;setLoading(true);_context.next=5;return regeneratorRuntime.awrap((0,_api.fetchRules)({filterOptions:filterOptions,pagination:pagination,signal:abortCtrl.signal}));case 5:fetchRulesResult=_context.sent;if(isSubscribed){setRules(fetchRulesResult);if(dispatchRulesInReducer!=null){dispatchRulesInReducer(fetchRulesResult.data,{page:fetchRulesResult.page,perPage:fetchRulesResult.perPage,total:fetchRulesResult.total})}}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context["catch"](1);if(isSubscribed){(0,_error_to_toaster.errorToToaster)({title:i18n.RULE_FETCH_FAILURE,error:_context.t0,dispatchToaster:dispatchToaster});if(dispatchRulesInReducer!=null){dispatchRulesInReducer([],{})}}case 12:if(isSubscribed){setLoading(false)}case 13:case"end":return _context.stop()}}}),null,null,[[1,9]])}fetchData();reFetchRules.current=function(){var refreshPrePackagedRule=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;fetchData(true);if(refreshPrePackagedRule&&refetchPrePackagedRulesStatus!=null){refetchPrePackagedRulesStatus()}};return function(){isSubscribed=false;abortCtrl.abort()}}),[pagination.page,pagination.perPage,filterOptions.filter,filterOptions.sortField,filterOptions.sortOrder,(_filterOptions$tags=filterOptions.tags)===null||_filterOptions$tags===void 0?void 0:_filterOptions$tags.sort().join(),filterOptions.showCustomRules,filterOptions.showElasticRules,refetchPrePackagedRulesStatus]);return[loading,rules,reFetchRules.current]};exports.useRules=useRules},8895:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.usePrePackagedRules=void 0;var _react=__webpack_require__(0);var _toasters=__webpack_require__(7019);var _error_to_toaster=__webpack_require__(7039);var _api=__webpack_require__(7113);var i18n=_interopRequireWildcard(__webpack_require__(7111));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var usePrePackagedRules=function usePrePackagedRules(_ref){var canUserCRUD=_ref.canUserCRUD,hasIndexWrite=_ref.hasIndexWrite,hasManageApiKey=_ref.hasManageApiKey,isAuthenticated=_ref.isAuthenticated,hasEncryptionKey=_ref.hasEncryptionKey,isSignalIndexExists=_ref.isSignalIndexExists;var _useState=(0,_react.useState)({createPrePackagedRules:null,refetchPrePackagedRulesStatus:null,rulesCustomInstalled:null,rulesInstalled:null,rulesNotInstalled:null,rulesNotUpdated:null}),_useState2=_slicedToArray(_useState,2),rulesStatus=_useState2[0],setRuleStatus=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),loadingCreatePrePackagedRules=_useState4[0],setLoadingCreatePrePackagedRules=_useState4[1];var _useState5=(0,_react.useState)(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;var fetchPrePackagedRules=function fetchPrePackagedRules(){var prePackagedRuleStatusResponse;return regeneratorRuntime.async((function fetchPrePackagedRules$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return regeneratorRuntime.awrap((0,_api.getPrePackagedRulesStatus)({signal:abortCtrl.signal}));case 4:prePackagedRuleStatusResponse=_context.sent;if(isSubscribed){setRuleStatus({createPrePackagedRules:createElasticRules,refetchPrePackagedRulesStatus:fetchPrePackagedRules,rulesCustomInstalled:prePackagedRuleStatusResponse.rules_custom_installed,rulesInstalled:prePackagedRuleStatusResponse.rules_installed,rulesNotInstalled:prePackagedRuleStatusResponse.rules_not_installed,rulesNotUpdated:prePackagedRuleStatusResponse.rules_not_updated})}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);if(isSubscribed){setRuleStatus({createPrePackagedRules:null,refetchPrePackagedRulesStatus:null,rulesCustomInstalled:null,rulesInstalled:null,rulesNotInstalled:null,rulesNotUpdated:null});(0,_error_to_toaster.errorToToaster)({title:i18n.RULE_FETCH_FAILURE,error:_context.t0,dispatchToaster:dispatchToaster})}case 11:if(isSubscribed){setLoading(false)}case 12:case"end":return _context.stop()}}}),null,null,[[0,8]])};var createElasticRules=function createElasticRules(){return regeneratorRuntime.async((function createElasticRules$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",new Promise((function _callee2(resolve){var iterationTryOfFetchingPrePackagedCount,timeoutId,stopTimeOut,reFetch;return regeneratorRuntime.async((function _callee2$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;if(!(canUserCRUD&&hasIndexWrite&&hasManageApiKey&&isAuthenticated&&hasEncryptionKey&&isSignalIndexExists)){_context3.next=8;break}setLoadingCreatePrePackagedRules(true);_context3.next=5;return regeneratorRuntime.awrap((0,_api.createPrepackagedRules)({signal:abortCtrl.signal}));case 5:if(isSubscribed){iterationTryOfFetchingPrePackagedCount=0;timeoutId=-1;stopTimeOut=function stopTimeOut(){if(timeoutId!==-1){window.clearTimeout(timeoutId)}};reFetch=function reFetch(){return window.setTimeout((function _callee(){var prePackagedRuleStatusResponse;return regeneratorRuntime.async((function _callee$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:iterationTryOfFetchingPrePackagedCount=iterationTryOfFetchingPrePackagedCount+1;_context2.next=3;return regeneratorRuntime.awrap((0,_api.getPrePackagedRulesStatus)({signal:abortCtrl.signal}));case 3:prePackagedRuleStatusResponse=_context2.sent;if(isSubscribed&&(prePackagedRuleStatusResponse.rules_not_installed===0&&prePackagedRuleStatusResponse.rules_not_updated===0||iterationTryOfFetchingPrePackagedCount>100)){setLoadingCreatePrePackagedRules(false);setRuleStatus({createPrePackagedRules:createElasticRules,refetchPrePackagedRulesStatus:fetchPrePackagedRules,rulesCustomInstalled:prePackagedRuleStatusResponse.rules_custom_installed,rulesInstalled:prePackagedRuleStatusResponse.rules_installed,rulesNotInstalled:prePackagedRuleStatusResponse.rules_not_installed,rulesNotUpdated:prePackagedRuleStatusResponse.rules_not_updated});(0,_toasters.displaySuccessToast)(i18n.RULE_PREPACKAGED_SUCCESS,dispatchToaster);stopTimeOut();resolve(true)}else{timeoutId=reFetch()}case 5:case"end":return _context2.stop()}}}))}),300)};timeoutId=reFetch()}_context3.next=9;break;case 8:resolve(false);case 9:_context3.next=14;break;case 11:_context3.prev=11;_context3.t0=_context3["catch"](0);if(isSubscribed){setLoadingCreatePrePackagedRules(false);(0,_error_to_toaster.errorToToaster)({title:i18n.RULE_PREPACKAGED_FAILURE,error:_context3.t0,dispatchToaster:dispatchToaster});resolve(false)}case 14:case"end":return _context3.stop()}}}),null,null,[[0,11]])})));case 1:case"end":return _context4.stop()}}}))};fetchPrePackagedRules();return function(){isSubscribed=false;abortCtrl.abort()}}),[canUserCRUD,hasIndexWrite,hasManageApiKey,isAuthenticated,hasEncryptionKey,isSignalIndexExists]);return _objectSpread({loading:loading,loadingCreatePrePackagedRules:loadingCreatePrePackagedRules},rulesStatus)};exports.usePrePackagedRules=usePrePackagedRules},8896:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useRuleStatus=void 0;var _react=__webpack_require__(0);var _toasters=__webpack_require__(7019);var _error_to_toaster=__webpack_require__(7039);var _api=__webpack_require__(7113);var i18n=_interopRequireWildcard(__webpack_require__(7111));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useRuleStatus=function useRuleStatus(id){var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),ruleStatus=_useState2[0],setRuleStatus=_useState2[1];var fetchRuleStatus=(0,_react.useRef)(null);var _useState3=(0,_react.useState)(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;var fetchData=function fetchData(idToFetch){var ruleStatusResponse;return regeneratorRuntime.async((function fetchData$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return regeneratorRuntime.awrap((0,_api.getRuleStatusById)({id:idToFetch,signal:abortCtrl.signal}));case 4:ruleStatusResponse=_context.sent;if(isSubscribed){setRuleStatus(ruleStatusResponse[id!==null&&id!==void 0?id:""])}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);if(isSubscribed){setRuleStatus(null);(0,_error_to_toaster.errorToToaster)({title:i18n.RULE_FETCH_FAILURE,error:_context.t0,dispatchToaster:dispatchToaster})}case 11:if(isSubscribed){setLoading(false)}case 12:case"end":return _context.stop()}}}),null,null,[[0,8]])};if(id!=null){fetchData(id)}fetchRuleStatus.current=fetchData;return function(){isSubscribed=false;abortCtrl.abort()}}),[id]);return[loading,ruleStatus,fetchRuleStatus.current]};exports.useRuleStatus=useRuleStatus},8897:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AccordionTitle=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _status_icon=__webpack_require__(8898);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AccordionTitleComponent=function AccordionTitleComponent(_ref){var name=_ref.name,title=_ref.title,type=_ref.type;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"m",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_status_icon.RuleStatusIcon,{name:name,type:type})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"s",className:"euiAccordionForm__title"},_react.default.createElement("h6",null,title))))};var AccordionTitle=_react.default.memo(AccordionTitleComponent);exports.AccordionTitle=AccordionTitle},8898:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RuleStatusIcon=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _use_eui_theme=__webpack_require__(8899);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var RuleStatusIconStyled=_styledComponents.default.div.withConfig({displayName:"RuleStatusIconStyled",componentId:"sc-7x2h33-0"})(["position:relative;svg{position:absolute;top:8px;left:9px;}"]);var RuleStatusIconComponent=function RuleStatusIconComponent(_ref){var name=_ref.name,type=_ref.type;var theme=(0,_use_eui_theme.useEuiTheme)();var color=type==="passive"?theme.euiColorLightestShade:theme.euiColorPrimary;return _react.default.createElement(RuleStatusIconStyled,null,_react.default.createElement(_eui.EuiAvatar,{color:color,name:type==="valid"?"":name,size:"l"}),type==="valid"?_react.default.createElement(_eui.EuiIcon,{type:"check",color:theme.euiColorEmptyShade,size:"l"}):null)};var RuleStatusIcon=(0,_react.memo)(RuleStatusIconComponent);exports.RuleStatusIcon=RuleStatusIcon},8899:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useEuiTheme=void 0;var _eui_theme_dark=_interopRequireDefault(__webpack_require__(50));var _eui_theme_light=_interopRequireDefault(__webpack_require__(18));var _constants=__webpack_require__(977);var _kibana=__webpack_require__(7013);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useEuiTheme=function useEuiTheme(){var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_DARK_MODE),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),darkMode=_useUiSetting$2[0];return darkMode?_eui_theme_dark.default:_eui_theme_light.default};exports.useEuiTheme=useEuiTheme},8900:function(module,exports,__webpack_require__){"use strict"},8901:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.buildUrlsDescription=exports.buildSeverityDescription=exports.buildStringArrayDescription=exports.buildUnorderedListArrayDescription=exports.buildThreatDescription=exports.buildQueryBarDescription=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _public=__webpack_require__(11);var _mitre_tactics_techniques=__webpack_require__(7666);var _filter_label=__webpack_require__(8902);var i18n=_interopRequireWildcard(__webpack_require__(8904));var _severity_badge=__webpack_require__(7667);var _list_tree_icon=_interopRequireDefault(__webpack_require__(8905));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var isNotEmptyArray=function isNotEmptyArray(values){return!(0,_fp.isEmpty)(values)&&values.filter((function(val){return!(0,_fp.isEmpty)(val)})).length>0};var EuiBadgeWrap=(0,_styledComponents.default)(_eui.EuiBadge).withConfig({displayName:"EuiBadgeWrap",componentId:"cjtyka-0"})([".euiBadge__text{white-space:pre-wrap !important;}"]);var buildQueryBarDescription=function buildQueryBarDescription(_ref){var field=_ref.field,filters=_ref.filters,filterManager=_ref.filterManager,query=_ref.query,savedId=_ref.savedId,indexPatterns=_ref.indexPatterns;var items=[];if(!(0,_fp.isEmpty)(filters)){filterManager.setFilters(filters);items=[].concat(_toConsumableArray(items),[{title:_react.default.createElement(_react.default.Fragment,null,i18n.FILTERS_LABEL," "),description:_react.default.createElement(_eui.EuiFlexGroup,{wrap:true,responsive:false,gutterSize:"xs"},filterManager.getFilters().map((function(filter,index){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:"".concat(field,"-filter-").concat(index)},_react.default.createElement(EuiBadgeWrap,{color:"hollow"},indexPatterns!=null?_react.default.createElement(_filter_label.FilterLabel,{filter:filter,valueLabel:_public.esFilters.getDisplayValueFromFilter(filter,[indexPatterns])}):_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})))})))}])}if(!(0,_fp.isEmpty)(query.query)){items=[].concat(_toConsumableArray(items),[{title:_react.default.createElement(_react.default.Fragment,null,i18n.QUERY_LABEL," "),description:_react.default.createElement(_react.default.Fragment,null,query.query," ")}])}if(!(0,_fp.isEmpty)(savedId)){items=[].concat(_toConsumableArray(items),[{title:_react.default.createElement(_react.default.Fragment,null,i18n.SAVED_ID_LABEL," "),description:_react.default.createElement(_react.default.Fragment,null,savedId," ")}])}return items};exports.buildQueryBarDescription=buildQueryBarDescription;var ThreatEuiFlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"ThreatEuiFlexGroup",componentId:"cjtyka-1"})([".euiFlexItem{margin-bottom:0px;}"]);var TechniqueLinkItem=(0,_styledComponents.default)(_eui.EuiButtonEmpty).withConfig({displayName:"TechniqueLinkItem",componentId:"cjtyka-2"})([".euiIcon{width:8px;height:8px;}"]);var ReferenceLinkItem=(0,_styledComponents.default)(_eui.EuiButtonEmpty).withConfig({displayName:"ReferenceLinkItem",componentId:"cjtyka-3"})([".euiIcon{width:12px;height:12px;}"]);var buildThreatDescription=function buildThreatDescription(_ref2){var label=_ref2.label,threat=_ref2.threat;if(threat.length>0){return[{title:label,description:_react.default.createElement(ThreatEuiFlexGroup,{direction:"column"},threat.map((function(singleThreat,index){var tactic=_mitre_tactics_techniques.tacticsOptions.find((function(t){return t.id===singleThreat.tactic.id}));return _react.default.createElement(_eui.EuiFlexItem,{key:"".concat(singleThreat.tactic.name,"-").concat(index)},_react.default.createElement(_eui.EuiLink,{href:singleThreat.tactic.reference,target:"_blank"},tactic!=null?tactic.text:""),_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",alignItems:"flexStart",direction:"column"},singleThreat.technique.map((function(technique){var myTechnique=_mitre_tactics_techniques.techniquesOptions.find((function(t){return t.id===technique.id}));return _react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(TechniqueLinkItem,{href:technique.reference,target:"_blank",iconType:_list_tree_icon.default,size:"xs",flush:"left"},myTechnique!=null?myTechnique.label:""))}))))})),_react.default.createElement(_eui.EuiSpacer,null))}]}return[]};exports.buildThreatDescription=buildThreatDescription;var buildUnorderedListArrayDescription=function buildUnorderedListArrayDescription(label,field,values){if(isNotEmptyArray(values)){return[{title:label,description:_react.default.createElement("ul",null,values.map((function(val){return(0,_fp.isEmpty)(val)?null:_react.default.createElement("li",{key:"".concat(field,"-").concat(val)},val)})))}]}return[]};exports.buildUnorderedListArrayDescription=buildUnorderedListArrayDescription;var buildStringArrayDescription=function buildStringArrayDescription(label,field,values){if(isNotEmptyArray(values)){return[{title:label,description:_react.default.createElement(_eui.EuiFlexGroup,{responsive:false,gutterSize:"xs",wrap:true},values.map((function(val){return(0,_fp.isEmpty)(val)?null:_react.default.createElement(_eui.EuiFlexItem,{grow:false,key:"".concat(field,"-").concat(val)},_react.default.createElement(EuiBadgeWrap,{color:"hollow"},val))})))}]}return[]};exports.buildStringArrayDescription=buildStringArrayDescription;var buildSeverityDescription=function buildSeverityDescription(label,value){return[{title:label,description:_react.default.createElement(_severity_badge.SeverityBadge,{value:value})}]};exports.buildSeverityDescription=buildSeverityDescription;var buildUrlsDescription=function buildUrlsDescription(label,values){if(isNotEmptyArray(values)){return[{title:label,description:_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",alignItems:"flexStart",direction:"column"},values.map((function(val){return _react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(ReferenceLinkItem,{href:val,target:"_blank",iconType:"link",size:"xs",flush:"left"},val))})))}]}return[]};exports.buildUrlsDescription=buildUrlsDescription},8902:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FilterLabel=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(2);var _public=__webpack_require__(11);var _filter_operator=__webpack_require__(8903);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var FilterLabelComponent=function FilterLabelComponent(_ref){var filter=_ref.filter,valueLabel=_ref.valueLabel;var prefixText=filter.meta.negate?" ".concat(_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.filterLabel.negatedFilterPrefix",{defaultMessage:"NOT "})):"";var prefix=filter.meta.negate&&!filter.meta.disabled?_react.default.createElement(_eui.EuiTextColor,{color:"danger"},prefixText):prefixText;if(filter.meta.alias!==null){return _react.default.createElement(_react.default.Fragment,null,prefix,filter.meta.alias)}switch(filter.meta.type){case _public.esFilters.FILTERS.EXISTS:return _react.default.createElement(_react.default.Fragment,null,prefix,"".concat(filter.meta.key,": ").concat(_filter_operator.existsOperator.message));case _public.esFilters.FILTERS.GEO_BOUNDING_BOX:return _react.default.createElement(_react.default.Fragment,null,prefix,"".concat(filter.meta.key,": ").concat(valueLabel));case _public.esFilters.FILTERS.GEO_POLYGON:return _react.default.createElement(_react.default.Fragment,null,prefix,"".concat(filter.meta.key,": ").concat(valueLabel));case _public.esFilters.FILTERS.PHRASES:return _react.default.createElement(_react.default.Fragment,null,prefix,filter.meta.key," ",_filter_operator.isOneOfOperator.message," ",valueLabel);case _public.esFilters.FILTERS.QUERY_STRING:return _react.default.createElement(_react.default.Fragment,null,prefix,valueLabel);case _public.esFilters.FILTERS.PHRASE:case _public.esFilters.FILTERS.RANGE:return _react.default.createElement(_react.default.Fragment,null,prefix,"".concat(filter.meta.key,": ").concat(valueLabel));default:return _react.default.createElement(_react.default.Fragment,null,prefix,JSON.stringify(filter.query))}};var FilterLabel=(0,_react.memo)(FilterLabelComponent);exports.FilterLabel=FilterLabel},8903:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FILTER_OPERATORS=exports.doesNotExistOperator=exports.existsOperator=exports.isNotBetweenOperator=exports.isBetweenOperator=exports.isNotOneOfOperator=exports.isOneOfOperator=exports.isNotOperator=exports.isOperator=void 0;var _i18n=__webpack_require__(2);var _public=__webpack_require__(11);var isOperator={message:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.filterLabel.isOperatorOptionLabel",{defaultMessage:"is"}),type:_public.esFilters.FILTERS.PHRASE,negate:false};exports.isOperator=isOperator;var isNotOperator={message:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.filterLabel.isNotOperatorOptionLabel",{defaultMessage:"is not"}),type:_public.esFilters.FILTERS.PHRASE,negate:true};exports.isNotOperator=isNotOperator;var isOneOfOperator={message:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.filterLabel.isOneOfOperatorOptionLabel",{defaultMessage:"is one of"}),type:_public.esFilters.FILTERS.PHRASES,negate:false,fieldTypes:["string","number","date","ip","geo_point","geo_shape"]};exports.isOneOfOperator=isOneOfOperator;var isNotOneOfOperator={message:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.filterLabel.isNotOneOfOperatorOptionLabel",{defaultMessage:"is not one of"}),type:_public.esFilters.FILTERS.PHRASES,negate:true,fieldTypes:["string","number","date","ip","geo_point","geo_shape"]};exports.isNotOneOfOperator=isNotOneOfOperator;var isBetweenOperator={message:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.filterLabel.isBetweenOperatorOptionLabel",{defaultMessage:"is between"}),type:_public.esFilters.FILTERS.RANGE,negate:false,fieldTypes:["number","date","ip"]};exports.isBetweenOperator=isBetweenOperator;var isNotBetweenOperator={message:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.filterLabel.isNotBetweenOperatorOptionLabel",{defaultMessage:"is not between"}),type:_public.esFilters.FILTERS.RANGE,negate:true,fieldTypes:["number","date","ip"]};exports.isNotBetweenOperator=isNotBetweenOperator;var existsOperator={message:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.filterLabel.existsOperatorOptionLabel",{defaultMessage:"exists"}),type:_public.esFilters.FILTERS.EXISTS,negate:false};exports.existsOperator=existsOperator;var doesNotExistOperator={message:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.filterLabel.doesNotExistOperatorOptionLabel",{defaultMessage:"does not exist"}),type:_public.esFilters.FILTERS.EXISTS,negate:true};exports.doesNotExistOperator=doesNotExistOperator;var FILTER_OPERATORS=[isOperator,isNotOperator,isOneOfOperator,isNotOneOfOperator,isBetweenOperator,isNotBetweenOperator,existsOperator,doesNotExistOperator];exports.FILTER_OPERATORS=FILTER_OPERATORS},8904:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SAVED_ID_LABEL=exports.QUERY_LABEL=exports.FILTERS_LABEL=void 0;var _i18n=__webpack_require__(2);var FILTERS_LABEL=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.filtersLabel",{defaultMessage:"Filters"});exports.FILTERS_LABEL=FILTERS_LABEL;var QUERY_LABEL=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.QueryLabel",{defaultMessage:"Custom query"});exports.QUERY_LABEL=QUERY_LABEL;var SAVED_ID_LABEL=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.savedIdLabel",{defaultMessage:"Saved query name"});exports.SAVED_ID_LABEL=SAVED_ID_LABEL},8905:function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMSAwSDB2OGg4VjdIMVYweiIgZmlsbD0iI0QzREFFNiIvPjwvc3ZnPg=="},8906:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddMitreThreat=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _mitre_tactics_techniques=__webpack_require__(7666);var Rulei18n=_interopRequireWildcard(__webpack_require__(7031));var _shared_imports=__webpack_require__(7073);var _default_value=__webpack_require__(7668);var _add_item_form=__webpack_require__(7665);var _helpers=__webpack_require__(7669);var i18n=_interopRequireWildcard(__webpack_require__(8907));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var MitreContainer=_styledComponents.default.div.withConfig({displayName:"MitreContainer",componentId:"s2zqjj-0"})(["margin-top:16px;"]);var MyEuiSuperSelect=(0,_styledComponents.default)(_eui.EuiSuperSelect).withConfig({displayName:"MyEuiSuperSelect",componentId:"s2zqjj-1"})(["width:280px;"]);var AddMitreThreat=function AddMitreThreat(_ref){var dataTestSubj=_ref.dataTestSubj,field=_ref.field,idAria=_ref.idAria,isDisabled=_ref.isDisabled;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),showValidation=_useState2[0],setShowValidation=_useState2[1];var _getFieldValidityAndE=(0,_shared_imports.getFieldValidityAndErrorMessage)(field),isInvalid=_getFieldValidityAndE.isInvalid,errorMessage=_getFieldValidityAndE.errorMessage;var removeItem=(0,_react.useCallback)((function(index){var values=field.value;var newValues=[].concat(_toConsumableArray(values.slice(0,index)),_toConsumableArray(values.slice(index+1)));if((0,_fp.isEmpty)(newValues)){field.setValue(_default_value.threatDefault)}else{field.setValue(newValues)}}),[field]);var addItem=(0,_react.useCallback)((function(){var values=field.value;if(!(0,_fp.isEmpty)(values[values.length-1])){field.setValue([].concat(_toConsumableArray(values),[{tactic:{id:"none",name:"none",reference:"none"},technique:[]}]))}else{field.setValue([{tactic:{id:"none",name:"none",reference:"none"},technique:[]}])}}),[field]);var updateTactic=(0,_react.useCallback)((function(index,value){var values=field.value;var _ref2=_mitre_tactics_techniques.tacticsOptions.find((function(t){return t.value===value}))||{id:"",name:"",reference:""},id=_ref2.id,reference=_ref2.reference,name=_ref2.name;field.setValue([].concat(_toConsumableArray(values.slice(0,index)),[_objectSpread({},values[index],{tactic:{id:id,reference:reference,name:name},technique:[]})],_toConsumableArray(values.slice(index+1))))}),[field]);var updateTechniques=(0,_react.useCallback)((function(index,selectedOptions){field.setValue([].concat(_toConsumableArray(values.slice(0,index)),[_objectSpread({},values[index],{technique:selectedOptions})],_toConsumableArray(values.slice(index+1))))}),[field]);var values=field.value;var getSelectTactic=function getSelectTactic(tacticName,index,disabled){return _react.default.createElement(MyEuiSuperSelect,{id:"selectDocExample",options:[].concat(_toConsumableArray(tacticName==="none"?[{inputDisplay:_react.default.createElement(_react.default.Fragment,null,i18n.TACTIC_PLACEHOLDER),value:"none",disabled:disabled}]:[]),_toConsumableArray(_mitre_tactics_techniques.tacticsOptions.map((function(t){return{inputDisplay:_react.default.createElement(_react.default.Fragment,null,t.text),value:t.value,disabled:disabled}})))),"aria-label":"",onChange:updateTactic.bind(null,index),fullWidth:false,valueOfSelected:(0,_fp.camelCase)(tacticName)})};var getSelectTechniques=function getSelectTechniques(item,index,disabled){var invalid=(0,_helpers.isMitreAttackInvalid)(item.tactic.name,item.technique);var options=_mitre_tactics_techniques.techniquesOptions.filter((function(t){return t.tactics.includes((0,_fp.kebabCase)(item.tactic.name))}));var selectedOptions=item.technique.map((function(technic){return _objectSpread({},technic,{label:"".concat(technic.name," (").concat(technic.id,")")})}));return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_eui.EuiComboBox,{placeholder:item.tactic.name==="none"?"":i18n.TECHNIQUES_PLACEHOLDER,options:options,selectedOptions:selectedOptions,onChange:updateTechniques.bind(null,index),isDisabled:disabled||item.tactic.name==="none",fullWidth:true,isInvalid:showValidation&&invalid,onBlur:function onBlur(){return setShowValidation(true)}}),showValidation&&invalid&&_react.default.createElement(_eui.EuiText,{color:"danger",size:"xs"},_react.default.createElement("p",null,errorMessage))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonIcon,{color:"danger",iconType:"trash",isDisabled:disabled||item.tactic.name==="none",onClick:function onClick(){return removeItem(index)},"aria-label":Rulei18n.DELETE})))};return _react.default.createElement(MitreContainer,null,values.map((function(item,index){return _react.default.createElement("div",{key:index},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",justifyContent:"spaceBetween",alignItems:"flexStart"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},index===0?_react.default.createElement(_eui.EuiFormRow,{label:"".concat(field.label," ").concat(i18n.TACTIC),labelAppend:field.labelAppend,describedByIds:idAria?["".concat(idAria," ").concat(i18n.TACTIC)]:undefined},_react.default.createElement(_react.default.Fragment,null,getSelectTactic(item.tactic.name,index,isDisabled))):getSelectTactic(item.tactic.name,index,isDisabled)),_react.default.createElement(_eui.EuiFlexItem,{grow:true},index===0?_react.default.createElement(_eui.EuiFormRow,{label:"".concat(field.label," ").concat(i18n.TECHNIQUE),isInvalid:showValidation&&isInvalid,fullWidth:true,describedByIds:idAria?["".concat(idAria," ").concat(i18n.TECHNIQUE)]:undefined},_react.default.createElement(_react.default.Fragment,null,getSelectTechniques(item,index,isDisabled))):getSelectTechniques(item,index,isDisabled))),values.length-1!==index&&_react.default.createElement(_eui.EuiSpacer,{size:"s"}))})),_react.default.createElement(_add_item_form.MyAddItemButton,{onClick:addItem,isDisabled:isDisabled},i18n.ADD_MITRE_ATTACK))};exports.AddMitreThreat=AddMitreThreat},8907:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TACTIC_PLACEHOLDER=exports.TECHNIQUES_PLACEHOLDER=exports.ADD_MITRE_ATTACK=exports.TECHNIQUE=exports.TACTIC=void 0;var _i18n=__webpack_require__(2);var TACTIC=_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttack.tacticsDescription",{defaultMessage:"tactic"});exports.TACTIC=TACTIC;var TECHNIQUE=_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttack.techniquesDescription",{defaultMessage:"techniques"});exports.TECHNIQUE=TECHNIQUE;var ADD_MITRE_ATTACK=_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttack.addTitle",{defaultMessage:"Add MITRE ATT&CK\\u2122 threat"});exports.ADD_MITRE_ATTACK=ADD_MITRE_ATTACK;var TECHNIQUES_PLACEHOLDER=_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttack.techniquesPlaceHolderDescription",{defaultMessage:"Select techniques ..."});exports.TECHNIQUES_PLACEHOLDER=TECHNIQUES_PLACEHOLDER;var TACTIC_PLACEHOLDER=_i18n.i18n.translate("xpack.siem.detectionEngine.mitreAttack.tacticPlaceHolderDescription",{defaultMessage:"Select tactic ..."});exports.TACTIC_PLACEHOLDER=TACTIC_PLACEHOLDER},8908:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultRiskScoreBySeverity=exports.severityOptions=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _eui=__webpack_require__(1);var _eui_theme_light=_interopRequireDefault(__webpack_require__(18));var _react=_interopRequireDefault(__webpack_require__(0));var I18n=_interopRequireWildcard(__webpack_require__(7351));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StyledEuiHealth=(0,_styledComponents.default)(_eui.EuiHealth).withConfig({displayName:"StyledEuiHealth",componentId:"sc-6votpe-0"})(["line-height:inherit;"]);var severityOptions=[{value:"low",inputDisplay:_react.default.createElement(StyledEuiHealth,{color:_eui_theme_light.default.euiColorVis0},I18n.LOW)},{value:"medium",inputDisplay:_react.default.createElement(StyledEuiHealth,{color:_eui_theme_light.default.euiColorVis5},I18n.MEDIUM)},{value:"high",inputDisplay:_react.default.createElement(StyledEuiHealth,{color:_eui_theme_light.default.euiColorVis7},I18n.HIGH)},{value:"critical",inputDisplay:_react.default.createElement(StyledEuiHealth,{color:_eui_theme_light.default.euiColorVis9},I18n.CRITICAL)}];exports.severityOptions=severityOptions;var defaultRiskScoreBySeverity={low:21,medium:47,high:73,critical:99};exports.defaultRiskScoreBySeverity=defaultRiskScoreBySeverity},8909:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.schema=void 0;var _i18n=__webpack_require__(2);var _shared_imports=__webpack_require__(7073);var _helpers=__webpack_require__(7669);var _optional_field_label=__webpack_require__(7670);var _helpers2=__webpack_require__(7339);var I18n=_interopRequireWildcard(__webpack_require__(7351));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var emptyField=_shared_imports.fieldValidators.emptyField;var schema={name:{type:_shared_imports.FIELD_TYPES.TEXT,label:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRule.fieldNameLabel",{defaultMessage:"Name"}),validations:[{validator:emptyField(_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRule.nameFieldRequiredError",{defaultMessage:"A name is required."}))}]},description:{type:_shared_imports.FIELD_TYPES.TEXTAREA,label:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRule.fieldDescriptionLabel",{defaultMessage:"Description"}),validations:[{validator:emptyField(_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRule.descriptionFieldRequiredError",{defaultMessage:"A description is required."}))}]},severity:{type:_shared_imports.FIELD_TYPES.SUPER_SELECT,label:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRule.fieldSeverityLabel",{defaultMessage:"Severity"}),validations:[{validator:emptyField(_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRule.severityFieldRequiredError",{defaultMessage:"A severity is required."}))}]},riskScore:{type:_shared_imports.FIELD_TYPES.RANGE,label:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRule.fieldRiskScoreLabel",{defaultMessage:"Risk score"})},timeline:{label:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRule.fieldTimelineTemplateLabel",{defaultMessage:"Investigate detections using this timeline template"})},references:{label:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRule.fieldReferenceUrlsLabel",{defaultMessage:"Reference URLs"}),labelAppend:_optional_field_label.OptionalFieldLabel,validations:[{validator:function validator(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var _args$=args[0],value=_args$.value,path=_args$.path;var hasError=false;value.forEach((function(url){if((0,_helpers2.isUrlInvalid)(url)){hasError=true}}));return hasError?{code:"ERR_FIELD_FORMAT",path:path,message:I18n.URL_FORMAT_INVALID}:undefined}}]},falsePositives:{label:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRule.fieldFalsePositiveLabel",{defaultMessage:"False positive examples"}),labelAppend:_optional_field_label.OptionalFieldLabel},threat:{label:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRule.fieldMitreThreatLabel",{defaultMessage:"MITRE ATT&CK\\u2122"}),labelAppend:_optional_field_label.OptionalFieldLabel,validations:[{validator:function validator(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}var _args$2=args[0],value=_args$2.value,path=_args$2.path;var hasError=false;value.forEach((function(v){if((0,_helpers.isMitreAttackInvalid)(v.tactic.name,v.technique)){hasError=true}}));return hasError?{code:"ERR_FIELD_MISSING",path:path,message:I18n.CUSTOM_MITRE_ATTACK_TECHNIQUES_REQUIRED}:undefined}}]},tags:{type:_shared_imports.FIELD_TYPES.COMBO_BOX,label:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRule.fieldTagsLabel",{defaultMessage:"Tags"}),helpText:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRule.fieldTagsHelpText",{defaultMessage:"Type one or more custom identifying tags for this rule. Press enter after each tag to begin a new one."}),labelAppend:_optional_field_label.OptionalFieldLabel}};exports.schema=schema},8910:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PickTimeline=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _search_super_select=__webpack_require__(8911);var _shared_imports=__webpack_require__(7073);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var PickTimeline=function PickTimeline(_ref){var dataTestSubj=_ref.dataTestSubj,field=_ref.field,idAria=_ref.idAria,_ref$isDisabled=_ref.isDisabled,isDisabled=_ref$isDisabled===void 0?false:_ref$isDisabled;var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),timelineId=_useState2[0],setTimelineId=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),timelineTitle=_useState4[0],setTimelineTitle=_useState4[1];var _getFieldValidityAndE=(0,_shared_imports.getFieldValidityAndErrorMessage)(field),isInvalid=_getFieldValidityAndE.isInvalid,errorMessage=_getFieldValidityAndE.errorMessage;(0,_react.useEffect)((function(){var _ref2=field.value,id=_ref2.id,title=_ref2.title;if(timelineTitle!==title&&timelineId!==id){setTimelineId(id);setTimelineTitle(title)}}),[field.value]);var handleOnTimelineChange=(0,_react.useCallback)((function(title,id){if(id===null){field.setValue({id:id,title:null})}else if(timelineTitle!==title&&timelineId!==id){field.setValue({id:id,title:title})}}),[field]);return _react.default.createElement(_eui.EuiFormRow,{label:field.label,labelAppend:field.labelAppend,helpText:field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,"data-test-subj":dataTestSubj,describedByIds:idAria?[idAria]:undefined},_react.default.createElement(_search_super_select.SearchTimelineSuperSelect,{isDisabled:isDisabled,hideUntitled:true,timelineId:timelineId,timelineTitle:timelineTitle,onTimelineChange:handleOnTimelineChange}))};exports.PickTimeline=PickTimeline},8911:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SearchTimelineSuperSelect=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireWildcard(__webpack_require__(30));var _all=__webpack_require__(7313);var _empty_value=__webpack_require__(7017);var _helpers=__webpack_require__(7056);var i18nTimeline=_interopRequireWildcard(__webpack_require__(7049));var _types=__webpack_require__(671);var i18n=_interopRequireWildcard(__webpack_require__(7350));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _templateObject(){var data=_taggedTemplateLiteral(["\n  .euiPopover__panel.euiPopover__panel-isOpen.timeline-search-super-select-popover__popoverPanel {\n    visibility: hidden;\n    z-index: 0;\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var SearchTimelineSuperSelectGlobalStyle=(0,_styledComponents.createGlobalStyle)(_templateObject());var MyEuiFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"MyEuiFlexItem",componentId:"ctcx2w-0"})(["display:inline-block;max-width:296px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"]);var EuiSelectableContainer=_styledComponents.default.div.withConfig({displayName:"EuiSelectableContainer",componentId:"ctcx2w-1"})([".euiSelectable{.euiFormControlLayout__childrenWrapper{display:flex;}","}"],(function(_ref){var loading=_ref.loading;return"".concat(loading?"\n      .euiFormControlLayoutIcons {\n        display: none;\n      }\n      .euiFormControlLayoutIcons.euiFormControlLayoutIcons--right {\n        display: block;\n        left: 12px;\n        top: 12px;\n      }":"","\n    ")}));var MyEuiFlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"MyEuiFlexGroup",componentId:"ctcx2w-2"})(["padding 0px 4px;"]);var basicSuperSelectOptions=[{value:"-1",inputDisplay:i18n.DEFAULT_TIMELINE_TITLE}];var getBasicSelectableOptions=function getBasicSelectableOptions(timelineId){return[{description:i18n.DEFAULT_TIMELINE_DESCRIPTION,favorite:[],label:i18n.DEFAULT_TIMELINE_TITLE,id:null,title:i18n.DEFAULT_TIMELINE_TITLE,checked:timelineId==="-1"?"on":undefined}]};var ORIGINAL_PAGE_SIZE=50;var POPOVER_HEIGHT=260;var TIMELINE_ITEM_HEIGHT=50;var SearchTimelineSuperSelectComponent=function SearchTimelineSuperSelectComponent(_ref2){var isDisabled=_ref2.isDisabled,_ref2$hideUntitled=_ref2.hideUntitled,hideUntitled=_ref2$hideUntitled===void 0?false:_ref2$hideUntitled,timelineId=_ref2.timelineId,timelineTitle=_ref2.timelineTitle,onTimelineChange=_ref2.onTimelineChange;var _useState=(0,_react.useState)(ORIGINAL_PAGE_SIZE),_useState2=_slicedToArray(_useState,2),pageSize=_useState2[0],setPageSize=_useState2[1];var _useState3=(0,_react.useState)(0),_useState4=_slicedToArray(_useState3,2),heightTrigger=_useState4[0],setHeightTrigger=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),isPopoverOpen=_useState6[0],setIsPopoverOpen=_useState6[1];var _useState7=(0,_react.useState)(""),_useState8=_slicedToArray(_useState7,2),searchTimelineValue=_useState8[0],setSearchTimelineValue=_useState8[1];var _useState9=(0,_react.useState)(false),_useState10=_slicedToArray(_useState9,2),onlyFavorites=_useState10[0],setOnlyFavorites=_useState10[1];var _useState11=(0,_react.useState)(null),_useState12=_slicedToArray(_useState11,2),searchRef=_useState12[0],setSearchRef=_useState12[1];var onSearchTimeline=(0,_react.useCallback)((function(val){setSearchTimelineValue(val)}),[]);var handleClosePopover=(0,_react.useCallback)((function(){setIsPopoverOpen(false)}),[]);var handleOpenPopover=(0,_react.useCallback)((function(){setIsPopoverOpen(true)}),[]);var handleOnToggleOnlyFavorites=(0,_react.useCallback)((function(){setOnlyFavorites(!onlyFavorites)}),[onlyFavorites]);var renderTimelineOption=(0,_react.useCallback)((function(option,searchValue){return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",justifyContent:"spaceBetween",alignItems:"center",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:"".concat(option.checked==="on"?"check":"none"),color:"primary"})),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",direction:"column"},_react.default.createElement(MyEuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiHighlight,{search:searchValue},(0,_helpers.isUntitled)(option)?i18nTimeline.UNTITLED_TIMELINE:option.title)),_react.default.createElement(MyEuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTextColor,{color:"subdued",component:"span"},_react.default.createElement("small",null,option.description!=null&&option.description.trim().length>0?option.description:(0,_empty_value.getEmptyTagValue)()))))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:"".concat(option.favorite!=null&&(0,_fp.isEmpty)(option.favorite)?"starEmpty":"starFilled")})))}),[]);var handleTimelineChange=(0,_react.useCallback)((function(options){var selectedTimeline=options.filter((function(option){return option.checked==="on"}));if(selectedTimeline!=null&&selectedTimeline.length>0){onTimelineChange((0,_fp.isEmpty)(selectedTimeline[0].title)?i18nTimeline.UNTITLED_TIMELINE:selectedTimeline[0].title,selectedTimeline[0].id==="-1"?null:selectedTimeline[0].id)}setIsPopoverOpen(false)}),[onTimelineChange]);var handleOnScroll=(0,_react.useCallback)((function(totalTimelines,totalCount,_ref3){var clientHeight=_ref3.clientHeight,scrollHeight=_ref3.scrollHeight,scrollTop=_ref3.scrollTop;if(totalTimelines<totalCount){var clientHeightTrigger=clientHeight*1.2;if(scrollTop>10&&scrollHeight-scrollTop<clientHeightTrigger&&scrollHeight>heightTrigger){setHeightTrigger(scrollHeight);setPageSize(pageSize+ORIGINAL_PAGE_SIZE)}}}),[heightTrigger,pageSize]);var superSelect=(0,_react.useMemo)((function(){return _react.default.createElement(_eui.EuiSuperSelect,{disabled:isDisabled,onFocus:handleOpenPopover,options:timelineId==null?basicSuperSelectOptions:[{value:timelineId,inputDisplay:timelineTitle}],valueOfSelected:timelineId==null?"-1":timelineId,itemLayoutAlign:"top",hasDividers:false,popoverClassName:"timeline-search-super-select-popover"})}),[handleOpenPopover,isDisabled,timelineId,timelineTitle]);var favoritePortal=(0,_react.useMemo)((function(){return searchRef!=null?_react.default.createElement(_eui.EuiPortal,{insert:{sibling:searchRef,position:"after"}},_react.default.createElement(MyEuiFlexGroup,{gutterSize:"xs",justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFilterGroup,null,_react.default.createElement(_eui.EuiFilterButton,{size:"l","data-test-subj":"only-favorites-toggle",hasActiveFilters:onlyFavorites,onClick:handleOnToggleOnlyFavorites},i18nTimeline.ONLY_FAVORITES))))):null}),[searchRef,onlyFavorites,handleOnToggleOnlyFavorites]);return _react.default.createElement(_eui.EuiInputPopover,{id:"searchTimelinePopover",input:superSelect,isOpen:isPopoverOpen,closePopover:handleClosePopover},_react.default.createElement(_all.AllTimelinesQuery,{pageInfo:{pageIndex:1,pageSize:pageSize},search:searchTimelineValue,sort:{sortField:_types.SortFieldTimeline.updated,sortOrder:_types.Direction.desc},onlyUserFavorite:onlyFavorites},(function(_ref4){var timelines=_ref4.timelines,loading=_ref4.loading,totalCount=_ref4.totalCount;return _react.default.createElement(EuiSelectableContainer,{loading:loading},_react.default.createElement(_eui.EuiSelectable,{height:POPOVER_HEIGHT,isLoading:loading&&timelines.length===0,listProps:{rowHeight:TIMELINE_ITEM_HEIGHT,showIcons:false,virtualizedProps:{onScroll:handleOnScroll.bind(null,timelines.filter((function(t){return!hideUntitled||t.title!==""})).length,totalCount)}},renderOption:renderTimelineOption,onChange:handleTimelineChange,searchable:true,searchProps:{"data-test-subj":"timeline-super-select-search-box",isLoading:loading,placeholder:i18n.SEARCH_BOX_TIMELINE_PLACEHOLDER,onSearch:onSearchTimeline,incremental:false,inputRef:function inputRef(ref){setSearchRef(ref)}},singleSelection:true,options:[].concat(_toConsumableArray(!onlyFavorites&&searchTimelineValue===""?getBasicSelectableOptions(timelineId==null?"-1":timelineId):[]),_toConsumableArray(timelines.filter((function(t){return!hideUntitled||t.title!==""})).map((function(t,index){return{description:t.description,favorite:t.favorite,label:t.title,id:t.savedObjectId,key:"".concat(t.title,"-").concat(index),title:t.title,checked:t.savedObjectId===timelineId?"on":undefined}}))))},(function(list,search){return _react.default.createElement(_react.default.Fragment,null,search,favoritePortal,list)})))})),_react.default.createElement(SearchTimelineSuperSelectGlobalStyle,null))};var SearchTimelineSuperSelect=(0,_react.memo)(SearchTimelineSuperSelectComponent);exports.SearchTimelineSuperSelect=SearchTimelineSuperSelect},8912:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QueryBarDefineRule=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _rxjs=__webpack_require__(37);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _public=__webpack_require__(11);var _open_timeline_modal=__webpack_require__(7569);var _query_bar=__webpack_require__(7664);var _helpers=__webpack_require__(7108);var _query_bar2=__webpack_require__(7662);var _keury=__webpack_require__(1885);var _kibana=__webpack_require__(7013);var _saved_query_services=__webpack_require__(7663);var _shared_imports=__webpack_require__(7073);var i18n=_interopRequireWildcard(__webpack_require__(8913));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var StyledEuiFormRow=(0,_styledComponents.default)(_eui.EuiFormRow).withConfig({displayName:"StyledEuiFormRow",componentId:"x3fzg3-0"})([".kbnTypeahead__items{max-height:45vh !important;}.globalQueryBar{padding:4px 0px 0px 0px;.kbnQueryBar{& > div:first-child{margin:0px 0px 0px 4px;}}}"]);var QueryBarDefineRule=function QueryBarDefineRule(_ref){var browserFields=_ref.browserFields,dataTestSubj=_ref.dataTestSubj,field=_ref.field,idAria=_ref.idAria,indexPattern=_ref.indexPattern,_ref$isLoading=_ref.isLoading,isLoading=_ref$isLoading===void 0?false:_ref$isLoading,onCloseTimelineSearch=_ref.onCloseTimelineSearch,_ref$openTimelineSear=_ref.openTimelineSearch,openTimelineSearch=_ref$openTimelineSear===void 0?false:_ref$openTimelineSear,resizeParentContainer=_ref.resizeParentContainer;var _useState=(0,_react.useState)(-1),_useState2=_slicedToArray(_useState,2),originalHeight=_useState2[0],setOriginalHeight=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),loadingTimeline=_useState4[0],setLoadingTimeline=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),savedQuery=_useState6[0],setSavedQuery=_useState6[1];var _useState7=(0,_react.useState)({query:"",language:"kuery"}),_useState8=_slicedToArray(_useState7,2),queryDraft=_useState8[0],setQueryDraft=_useState8[1];var _getFieldValidityAndE=(0,_shared_imports.getFieldValidityAndErrorMessage)(field),isInvalid=_getFieldValidityAndE.isInvalid,errorMessage=_getFieldValidityAndE.errorMessage;var kibana=(0,_kibana.useKibana)();var _useState9=(0,_react.useState)(new _public.FilterManager(kibana.services.uiSettings)),_useState10=_slicedToArray(_useState9,1),filterManager=_useState10[0];var savedQueryServices=(0,_saved_query_services.useSavedQueryServices)();(0,_react.useEffect)((function(){var isSubscribed=true;var subscriptions=new _rxjs.Subscription;filterManager.setFilters([]);subscriptions.add(filterManager.getUpdates$().subscribe({next:function next(){if(isSubscribed){var newFilters=filterManager.getFilters();var _ref2=field.value,filters=_ref2.filters;if(!(0,_fp.isEqual)(filters,newFilters)){field.setValue(_objectSpread({},field.value,{filters:newFilters}))}}}}));return function(){isSubscribed=false;subscriptions.unsubscribe()}}),[field.value]);(0,_react.useEffect)((function(){var isSubscribed=true;function updateFilterQueryFromValue(){var _ref3,filters,query,savedId,mySavedQuery;return regeneratorRuntime.async((function updateFilterQueryFromValue$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref3=field.value,filters=_ref3.filters,query=_ref3.query,savedId=_ref3.saved_id;if(!(0,_fp.isEqual)(query,queryDraft)){setQueryDraft(query)}if(!(0,_fp.isEqual)(filters,filterManager.getFilters())){filterManager.setFilters(filters)}if(!(savedId!=null&&savedQuery!=null&&savedId!==savedQuery.id||savedId!=null&&savedQuery==null)){_context.next=16;break}_context.prev=4;_context.next=7;return regeneratorRuntime.awrap(savedQueryServices.getSavedQuery(savedId));case 7:mySavedQuery=_context.sent;if(isSubscribed&&mySavedQuery!=null){setSavedQuery(mySavedQuery)}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context["catch"](4);setSavedQuery(null);case 14:_context.next=17;break;case 16:if(savedId==null&&savedQuery!=null){setSavedQuery(null)}case 17:case"end":return _context.stop()}}}),null,null,[[4,11]])}updateFilterQueryFromValue();return function(){isSubscribed=false}}),[field.value]);var onSubmitQuery=(0,_react.useCallback)((function(newQuery,timefilter){var _ref4=field.value,query=_ref4.query;if(!(0,_fp.isEqual)(query,newQuery)){field.setValue(_objectSpread({},field.value,{query:newQuery}))}}),[field]);var onChangedQuery=(0,_react.useCallback)((function(newQuery){var _ref5=field.value,query=_ref5.query;if(!(0,_fp.isEqual)(query,newQuery)){field.setValue(_objectSpread({},field.value,{query:newQuery}))}}),[field]);var onSavedQuery=(0,_react.useCallback)((function(newSavedQuery){if(newSavedQuery!=null){var _ref6=field.value,_savedId=_ref6.saved_id;if(newSavedQuery.id!==_savedId){setSavedQuery(newSavedQuery);field.setValue({filters:newSavedQuery.attributes.filters,query:newSavedQuery.attributes.query,saved_id:newSavedQuery.id})}}}),[field.value]);var onCloseTimelineModal=(0,_react.useCallback)((function(){setLoadingTimeline(true);onCloseTimelineSearch()}),[onCloseTimelineSearch]);var onOpenTimeline=(0,_react.useCallback)((function(timeline){var _ref7,_timeline$kqlQuery$fi,_timeline$kqlQuery$fi2,_ref8,_timeline$kqlQuery$fi3,_timeline$kqlQuery$fi4,_timeline$filters;setLoadingTimeline(false);var newQuery={query:(_ref7=(_timeline$kqlQuery$fi=timeline.kqlQuery.filterQuery)===null||_timeline$kqlQuery$fi===void 0?void 0:(_timeline$kqlQuery$fi2=_timeline$kqlQuery$fi.kuery)===null||_timeline$kqlQuery$fi2===void 0?void 0:_timeline$kqlQuery$fi2.expression)!==null&&_ref7!==void 0?_ref7:"",language:(_ref8=(_timeline$kqlQuery$fi3=timeline.kqlQuery.filterQuery)===null||_timeline$kqlQuery$fi3===void 0?void 0:(_timeline$kqlQuery$fi4=_timeline$kqlQuery$fi3.kuery)===null||_timeline$kqlQuery$fi4===void 0?void 0:_timeline$kqlQuery$fi4.kind)!==null&&_ref8!==void 0?_ref8:"kuery"};var dataProvidersDsl=timeline.dataProviders!=null&&timeline.dataProviders.length>0?(0,_keury.convertKueryToElasticSearchQuery)((0,_helpers.buildGlobalQuery)(timeline.dataProviders,browserFields),indexPattern):"";var newFilters=(_timeline$filters=timeline.filters)!==null&&_timeline$filters!==void 0?_timeline$filters:[];field.setValue({filters:dataProvidersDsl!==""?[].concat(_toConsumableArray(newFilters),[(0,_query_bar2.getDataProviderFilter)(dataProvidersDsl)]):newFilters,query:newQuery,saved_id:""})}),[browserFields,field,indexPattern]);var onMutation=function onMutation(event,observer){if(resizeParentContainer!=null){var suggestionContainer=document.getElementById("kbnTypeahead__items");if(suggestionContainer!=null){var box=suggestionContainer.getBoundingClientRect();var accordionContainer=document.getElementById("define-rule");if(accordionContainer!=null){var accordionBox=accordionContainer.getBoundingClientRect();if(originalHeight===-1||accordionBox.height<originalHeight+box.height){resizeParentContainer(originalHeight+box.height-100)}if(originalHeight===-1){setOriginalHeight(accordionBox.height)}}}else{resizeParentContainer(-1)}}};var actionTimelineToHide=(0,_react.useMemo)((function(){return["duplicate"]}),[]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(StyledEuiFormRow,{label:field.label,labelAppend:field.labelAppend,helpText:field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,"data-test-subj":dataTestSubj,describedByIds:idAria?[idAria]:undefined},_react.default.createElement(_eui.EuiMutationObserver,{observerOptions:{subtree:true,attributes:true,childList:true},onMutation:onMutation},(function(mutationRef){return _react.default.createElement("div",{ref:mutationRef},_react.default.createElement(_query_bar.QueryBar,{indexPattern:indexPattern,isLoading:isLoading||loadingTimeline,isRefreshPaused:false,filterQuery:queryDraft,filterManager:filterManager,filters:filterManager.getFilters()||[],onChangedQuery:onChangedQuery,onSubmitQuery:onSubmitQuery,savedQuery:savedQuery,onSavedQuery:onSavedQuery,hideSavedQuery:false}))}))),openTimelineSearch?_react.default.createElement(_open_timeline_modal.OpenTimelineModal,{hideActions:actionTimelineToHide,modalTitle:i18n.IMPORT_TIMELINE_MODAL,onClose:onCloseTimelineModal,onOpen:onOpenTimeline}):null)};exports.QueryBarDefineRule=QueryBarDefineRule},8913:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IMPORT_TIMELINE_MODAL=void 0;var _i18n=__webpack_require__(2);var IMPORT_TIMELINE_MODAL=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepDefineRule.importTimelineModalTitle",{defaultMessage:"Import query from saved timeline"});exports.IMPORT_TIMELINE_MODAL=IMPORT_TIMELINE_MODAL},8914:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.schema=void 0;var _i18n=__webpack_require__(2);var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _public=__webpack_require__(11);var _shared_imports=__webpack_require__(7073);var _translations=__webpack_require__(7671);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var emptyField=_shared_imports.fieldValidators.emptyField;var schema={index:{type:_shared_imports.FIELD_TYPES.COMBO_BOX,label:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepAboutRule.fiedIndexPatternsLabel",{defaultMessage:"Index patterns"}),helpText:_react.default.createElement(_eui.EuiText,{size:"xs"},_translations.INDEX_HELPER_TEXT),validations:[{validator:emptyField(_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepDefineRule.outputIndiceNameFieldRequiredError",{defaultMessage:"A minimum of one index pattern is required."}))}]},queryBar:{label:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepDefineRule.fieldQuerBarLabel",{defaultMessage:"Custom query"}),validations:[{validator:function validator(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var _args$=args[0],value=_args$.value,path=_args$.path;var _ref=value,query=_ref.query,filters=_ref.filters;return(0,_fp.isEmpty)(query.query)&&(0,_fp.isEmpty)(filters)?{code:"ERR_FIELD_MISSING",path:path,message:_translations.CUSTOM_QUERY_REQUIRED}:undefined}},{validator:function validator(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}var _args$2=args[0],value=_args$2.value,path=_args$2.path;var _ref2=value,query=_ref2.query;if(!(0,_fp.isEmpty)(query.query)&&query.language==="kuery"){try{_public.esKuery.fromKueryExpression(query.query)}catch(err){return{code:"ERR_FIELD_FORMAT",path:path,message:_translations.INVALID_CUSTOM_QUERY}}}return undefined}}]}};exports.schema=schema},8915:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScheduleItem=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _shared_imports=__webpack_require__(7073);var I18n=_interopRequireWildcard(__webpack_require__(8916));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var timeTypeOptions=[{value:"s",text:I18n.SECONDS},{value:"m",text:I18n.MINUTES},{value:"h",text:I18n.HOURS}];var StyledLabelAppend=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"StyledLabelAppend",componentId:"sc-1tm4211-0"})(["&.euiFlexItem.euiFlexItem--flexGrowZero{margin-left:31px;}"]);var StyledEuiFormRow=(0,_styledComponents.default)(_eui.EuiFormRow).withConfig({displayName:"StyledEuiFormRow",componentId:"sc-1tm4211-1"})(["max-width:none;.euiFormControlLayout{max-width:200px !important;}.euiFormControlLayout__childrenWrapper > *:first-child{box-shadow:none;height:38px;}.euiFormControlLayout:not(:first-child){border-left:1px solid ",";}"],(function(_ref){var theme=_ref.theme;return theme.eui.euiColorLightShade}));var MyEuiSelect=(0,_styledComponents.default)(_eui.EuiSelect).withConfig({displayName:"MyEuiSelect",componentId:"sc-1tm4211-2"})(["width:auto;"]);var ScheduleItem=function ScheduleItem(_ref2){var dataTestSubj=_ref2.dataTestSubj,field=_ref2.field,idAria=_ref2.idAria,isDisabled=_ref2.isDisabled,_ref2$minimumValue=_ref2.minimumValue,minimumValue=_ref2$minimumValue===void 0?0:_ref2$minimumValue;var _useState=(0,_react.useState)("s"),_useState2=_slicedToArray(_useState,2),timeType=_useState2[0],setTimeType=_useState2[1];var _useState3=(0,_react.useState)(0),_useState4=_slicedToArray(_useState3,2),timeVal=_useState4[0],setTimeVal=_useState4[1];var _getFieldValidityAndE=(0,_shared_imports.getFieldValidityAndErrorMessage)(field),isInvalid=_getFieldValidityAndE.isInvalid,errorMessage=_getFieldValidityAndE.errorMessage;var onChangeTimeType=(0,_react.useCallback)((function(e){setTimeType(e.target.value);field.setValue("".concat(timeVal).concat(e.target.value))}),[timeVal]);var onChangeTimeVal=(0,_react.useCallback)((function(e){var sanitizedValue=parseInt(e.target.value,10);setTimeVal(sanitizedValue);field.setValue("".concat(sanitizedValue).concat(timeType))}),[timeType]);(0,_react.useEffect)((function(){if(field.value!=="".concat(timeVal).concat(timeType)){var filterTimeVal=field.value.match(/\d+/g);var filterTimeType=field.value.match(/[a-zA-Z]+/g);if(!(0,_fp.isEmpty)(filterTimeVal)&&filterTimeVal!=null&&!isNaN(Number(filterTimeVal[0]))&&Number(filterTimeVal[0])!==Number(timeVal)){setTimeVal(Number(filterTimeVal[0]))}if(!(0,_fp.isEmpty)(filterTimeType)&&filterTimeType!=null&&["s","m","h"].includes(filterTimeType[0])&&filterTimeType[0]!==timeType){setTimeType(filterTimeType[0])}}}),[field.value]);var rest={disabled:isDisabled};var label=(0,_react.useMemo)((function(){return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",justifyContent:"flexStart",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false,component:"span"},field.label),_react.default.createElement(StyledLabelAppend,{grow:false,component:"span"},field.labelAppend))}),[field.label,field.labelAppend]);return _react.default.createElement(StyledEuiFormRow,{label:label,helpText:field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:false,"data-test-subj":dataTestSubj,describedByIds:idAria?[idAria]:undefined},_react.default.createElement(_eui.EuiFormControlLayout,{append:_react.default.createElement(MyEuiSelect,_extends({fullWidth:false,options:timeTypeOptions,onChange:onChangeTimeType,value:timeType},rest))},_react.default.createElement(_eui.EuiFieldNumber,_extends({fullWidth:true,min:minimumValue,onChange:onChangeTimeVal,value:timeVal},rest))))};exports.ScheduleItem=ScheduleItem},8916:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INVALID_TIME=exports.HOURS=exports.MINUTES=exports.SECONDS=void 0;var _i18n=__webpack_require__(2);var SECONDS=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepScheduleRuleForm.secondsOptionDescription",{defaultMessage:"Seconds"});exports.SECONDS=SECONDS;var MINUTES=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepScheduleRuleForm.minutesOptionDescription",{defaultMessage:"Minutes"});exports.MINUTES=MINUTES;var HOURS=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepScheduleRuleForm.hoursOptionDescription",{defaultMessage:"Hours"});exports.HOURS=HOURS;var INVALID_TIME=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepScheduleRuleForm.invalidTimeMessageDescription",{defaultMessage:"A time is required."});exports.INVALID_TIME=INVALID_TIME},8917:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.schema=void 0;var _i18n=__webpack_require__(2);var _optional_field_label=__webpack_require__(7670);var schema={interval:{label:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepScheduleRule.fieldIntervalLabel",{defaultMessage:"Runs every"}),helpText:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepScheduleRule.fieldIntervalHelpText",{defaultMessage:"Rules run periodically and detect signals within the specified time frame."})},from:{label:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepScheduleRule.fieldAdditionalLookBackLabel",{defaultMessage:"Additional look-back time"}),labelAppend:_optional_field_label.OptionalFieldLabel,helpText:_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.stepScheduleRule.fieldAdditionalLookBackHelpText",{defaultMessage:"Adds time to the look-back period to prevent missed signals."})}};exports.schema=schema},8918:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.COMPLETE_WITH_ACTIVATING=exports.COMPLETE_WITHOUT_ACTIVATING=void 0;var _i18n=__webpack_require__(2);var COMPLETE_WITHOUT_ACTIVATING=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule. stepScheduleRule.completeWithoutActivatingTitle",{defaultMessage:"Create rule without activating it"});exports.COMPLETE_WITHOUT_ACTIVATING=COMPLETE_WITHOUT_ACTIVATING;var COMPLETE_WITH_ACTIVATING=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule. stepScheduleRule.completeWithActivatingTitle",{defaultMessage:"Create & activate rule"});exports.COMPLETE_WITH_ACTIVATING=COMPLETE_WITH_ACTIVATING},8919:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PAGE_BADGE_TOOLTIP=exports.PAGE_BADGE_LABEL=void 0;var _i18n=__webpack_require__(2);var PAGE_BADGE_LABEL=_i18n.i18n.translate("xpack.siem.detectionEngine.headerPage.pageBadgeLabel",{defaultMessage:"Beta"});exports.PAGE_BADGE_LABEL=PAGE_BADGE_LABEL;var PAGE_BADGE_TOOLTIP=_i18n.i18n.translate("xpack.siem.detectionEngine.headerPage.pageBadgeTooltip",{defaultMessage:"Detections is still in beta. Please help us improve by reporting issues or bugs in the Kibana repo."});exports.PAGE_BADGE_TOOLTIP=PAGE_BADGE_TOOLTIP},8920:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SUCCESSFULLY_CREATED_RULES=exports.EDIT_RULE=exports.BACK_TO_RULES=exports.PAGE_TITLE=void 0;var _i18n=__webpack_require__(2);var PAGE_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.pageTitle",{defaultMessage:"Create new rule"});exports.PAGE_TITLE=PAGE_TITLE;var BACK_TO_RULES=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.backToRulesDescription",{defaultMessage:"Back to signal detection rules"});exports.BACK_TO_RULES=BACK_TO_RULES;var EDIT_RULE=_i18n.i18n.translate("xpack.siem.detectionEngine.createRule.editRuleButton",{defaultMessage:"Edit"});exports.EDIT_RULE=EDIT_RULE;var SUCCESSFULLY_CREATED_RULES=function SUCCESSFULLY_CREATED_RULES(ruleName){return _i18n.i18n.translate("xpack.siem.detectionEngine.rules.create.successfullyCreatedRuleTitle",{values:{ruleName:ruleName},defaultMessage:"{ruleName} was created"})};exports.SUCCESSFULLY_CREATED_RULES=SUCCESSFULLY_CREATED_RULES},8921:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetectionEnginePage=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _reactSticky=__webpack_require__(1001);var _reactRedux=__webpack_require__(7014);var _global_time=__webpack_require__(7164);var _source=__webpack_require__(7042);var _alerts_table=__webpack_require__(7673);var _filters_global=__webpack_require__(7107);var _redirect_to_detection_engine=__webpack_require__(7043);var _search_bar=__webpack_require__(7079);var _wrapper_page=__webpack_require__(7054);var _navigation=__webpack_require__(7149);var _inputs=__webpack_require__(1887);var _actions=__webpack_require__(984);var _spy_routes=__webpack_require__(7057);var _alerts_by_category=__webpack_require__(7674);var _signals_info=__webpack_require__(7675);var _signals=__webpack_require__(7329);var _no_api_integration_callout=__webpack_require__(8923);var _no_write_signals_callout=__webpack_require__(7677);var _signals_histogram_panel=__webpack_require__(7357);var _config=__webpack_require__(7217);var _user_info=__webpack_require__(7138);var _detection_engine_empty_page=__webpack_require__(7679);var _detection_engine_no_signal_index=__webpack_require__(8928);var _detection_engine_header_page=__webpack_require__(7163);var _detection_engine_user_unauthenticated=__webpack_require__(8929);var i18n=_interopRequireWildcard(__webpack_require__(7155));var _types=__webpack_require__(7201);var _detectionsTabs;function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var detectionsTabs=(_detectionsTabs={},_defineProperty(_detectionsTabs,_types.DetectionEngineTab.signals,{id:_types.DetectionEngineTab.signals,name:i18n.SIGNAL,href:(0,_redirect_to_detection_engine.getDetectionEngineTabUrl)(_types.DetectionEngineTab.signals),disabled:false,urlKey:"detections"}),_defineProperty(_detectionsTabs,_types.DetectionEngineTab.alerts,{id:_types.DetectionEngineTab.alerts,name:i18n.ALERT,href:(0,_redirect_to_detection_engine.getDetectionEngineTabUrl)(_types.DetectionEngineTab.alerts),disabled:false,urlKey:"detections"}),_detectionsTabs);var DetectionEnginePageComponent=function DetectionEnginePageComponent(_ref){var filters=_ref.filters,query=_ref.query,setAbsoluteRangeDatePicker=_ref.setAbsoluteRangeDatePicker;var _useParams=(0,_reactRouterDom.useParams)(),_useParams$tabName=_useParams.tabName,tabName=_useParams$tabName===void 0?_types.DetectionEngineTab.signals:_useParams$tabName;var _useUserInfo=(0,_user_info.useUserInfo)(),loading=_useUserInfo.loading,isSignalIndexExists=_useUserInfo.isSignalIndexExists,isUserAuthenticated=_useUserInfo.isAuthenticated,hasEncryptionKey=_useUserInfo.hasEncryptionKey,canUserCRUD=_useUserInfo.canUserCRUD,signalIndexName=_useUserInfo.signalIndexName,hasIndexWrite=_useUserInfo.hasIndexWrite;var _useSignalInfo=(0,_signals_info.useSignalInfo)({}),_useSignalInfo2=_slicedToArray(_useSignalInfo,1),lastSignals=_useSignalInfo2[0];var updateDateRangeCallback=(0,_react.useCallback)((function(min,max){setAbsoluteRangeDatePicker({id:"global",from:min,to:max})}),[setAbsoluteRangeDatePicker]);var indexToAdd=(0,_react.useMemo)((function(){return signalIndexName==null?[]:[signalIndexName]}),[signalIndexName]);if(isUserAuthenticated!=null&&!isUserAuthenticated&&!loading){return _react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_detection_engine_header_page.DetectionEngineHeaderPage,{border:true,title:i18n.PAGE_TITLE}),_react.default.createElement(_detection_engine_user_unauthenticated.DetectionEngineUserUnauthenticated,null))}if(isSignalIndexExists!=null&&!isSignalIndexExists&&!loading){return _react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_detection_engine_header_page.DetectionEngineHeaderPage,{border:true,title:i18n.PAGE_TITLE}),_react.default.createElement(_detection_engine_no_signal_index.DetectionEngineNoIndex,null))}return _react.default.createElement(_react.default.Fragment,null,hasEncryptionKey!=null&&!hasEncryptionKey&&_react.default.createElement(_no_api_integration_callout.NoApiIntegrationKeyCallOut,null),hasIndexWrite!=null&&!hasIndexWrite&&_react.default.createElement(_no_write_signals_callout.NoWriteSignalsCallOut,null),_react.default.createElement(_source.WithSource,{sourceId:"default",indexToAdd:indexToAdd},(function(_ref2){var indicesExist=_ref2.indicesExist,indexPattern=_ref2.indexPattern;return(0,_source.indicesExistOrDataTemporarilyUnavailable)(indicesExist)?_react.default.createElement(_reactSticky.StickyContainer,null,_react.default.createElement(_filters_global.FiltersGlobal,null,_react.default.createElement(_search_bar.SiemSearchBar,{id:"global",indexPattern:indexPattern})),_react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_detection_engine_header_page.DetectionEngineHeaderPage,{subtitle:lastSignals!=null&&_react.default.createElement(_react.default.Fragment,null,i18n.LAST_SIGNAL,": ",lastSignals),title:i18n.PAGE_TITLE},_react.default.createElement(_eui.EuiButton,{fill:true,href:(0,_redirect_to_detection_engine.getRulesUrl)(),iconType:"gear"},i18n.BUTTON_MANAGE_RULES)),_react.default.createElement(_global_time.GlobalTime,null,(function(_ref3){var to=_ref3.to,from=_ref3.from,deleteQuery=_ref3.deleteQuery,setQuery=_ref3.setQuery;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_navigation.SiemNavigation,{navTabs:detectionsTabs}),_react.default.createElement(_eui.EuiSpacer,null),tabName===_types.DetectionEngineTab.signals&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_signals_histogram_panel.SignalsHistogramPanel,{deleteQuery:deleteQuery,filters:filters,from:from,query:query,setQuery:setQuery,showTotalSignalsCount:true,signalIndexName:signalIndexName,stackByOptions:_config.signalsHistogramOptions,to:to,updateDateRange:updateDateRangeCallback}),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_signals.SignalsTable,{loading:loading,hasIndexWrite:hasIndexWrite!==null&&hasIndexWrite!==void 0?hasIndexWrite:false,canUserCRUD:(canUserCRUD!==null&&canUserCRUD!==void 0?canUserCRUD:false)&&(hasEncryptionKey!==null&&hasEncryptionKey!==void 0?hasEncryptionKey:false),from:from,signalsIndex:signalIndexName!==null&&signalIndexName!==void 0?signalIndexName:"",to:to})),tabName===_types.DetectionEngineTab.alerts&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_alerts_by_category.AlertsByCategory,{deleteQuery:deleteQuery,filters:filters,from:from,hideHeaderChildren:true,indexPattern:indexPattern,query:query,setAbsoluteRangeDatePicker:setAbsoluteRangeDatePicker,setQuery:setQuery,to:to}),_react.default.createElement(_alerts_table.AlertsTable,{endDate:to,startDate:from})))})))):_react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_detection_engine_header_page.DetectionEngineHeaderPage,{border:true,title:i18n.PAGE_TITLE}),_react.default.createElement(_detection_engine_empty_page.DetectionEngineEmptyPage,null))})),_react.default.createElement(_spy_routes.SpyRoute,null))};var makeMapStateToProps=function makeMapStateToProps(){var getGlobalInputs=_inputs.inputsSelectors.globalSelector();return function(state){var globalInputs=getGlobalInputs(state);var query=globalInputs.query,filters=globalInputs.filters;return{query:query,filters:filters}}};var mapDispatchToProps={setAbsoluteRangeDatePicker:_actions.setAbsoluteRangeDatePicker};var DetectionEnginePage=(0,_reactRedux.connect)(makeMapStateToProps,mapDispatchToProps)(_react.default.memo(DetectionEnginePageComponent));exports.DetectionEnginePage=DetectionEnginePage},8922:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.buildLastSignalsQuery=void 0;var buildLastSignalsQuery=function buildLastSignalsQuery(ruleId){var queryFilter=[{bool:{should:[{match:{"signal.status":"open"}}],minimum_should_match:1}}];return{aggs:{lastSeen:{max:{field:"@timestamp"}}},query:{bool:{filter:ruleId!=null?[].concat(queryFilter,[{bool:{should:[{match:{"signal.rule.id":ruleId}}],minimum_should_match:1}}]):queryFilter}},size:0,track_total_hits:true}};exports.buildLastSignalsQuery=buildLastSignalsQuery},8923:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoApiIntegrationKeyCallOut=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var i18n=_interopRequireWildcard(__webpack_require__(8924));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var NoApiIntegrationKeyCallOutComponent=function NoApiIntegrationKeyCallOutComponent(){var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),showCallOut=_useState2[0],setShowCallOut=_useState2[1];var handleCallOut=(0,_react.useCallback)((function(){return setShowCallOut(false)}),[setShowCallOut]);return showCallOut?_react.default.createElement(_eui.EuiCallOut,{title:i18n.NO_API_INTEGRATION_KEY_CALLOUT_TITLE,color:"danger",iconType:"alert"},_react.default.createElement("p",null,i18n.NO_API_INTEGRATION_KEY_CALLOUT_MSG),_react.default.createElement(_eui.EuiButton,{color:"danger",onClick:handleCallOut},i18n.DISMISS_CALLOUT)):null};var NoApiIntegrationKeyCallOut=(0,_react.memo)(NoApiIntegrationKeyCallOutComponent);exports.NoApiIntegrationKeyCallOut=NoApiIntegrationKeyCallOut},8924:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DISMISS_CALLOUT=exports.NO_API_INTEGRATION_KEY_CALLOUT_MSG=exports.NO_API_INTEGRATION_KEY_CALLOUT_TITLE=void 0;var _i18n=__webpack_require__(2);var NO_API_INTEGRATION_KEY_CALLOUT_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.noApiIntegrationKeyCallOutTitle",{defaultMessage:"API integration key required"});exports.NO_API_INTEGRATION_KEY_CALLOUT_TITLE=NO_API_INTEGRATION_KEY_CALLOUT_TITLE;var NO_API_INTEGRATION_KEY_CALLOUT_MSG=_i18n.i18n.translate("xpack.siem.detectionEngine.noApiIntegrationKeyCallOutMsg",{defaultMessage:"A new encryption key is generated for saved objects each time you start Kibana. Without a persistent key, you cannot delete or modify rules after Kibana restarts. To set a persistent key, add the xpack.encryptedSavedObjects.encryptionKey setting with any text value of 32 or more characters to the kibana.yml file."});exports.NO_API_INTEGRATION_KEY_CALLOUT_MSG=NO_API_INTEGRATION_KEY_CALLOUT_MSG;var DISMISS_CALLOUT=_i18n.i18n.translate("xpack.siem.detectionEngine.dismissNoApiIntegrationKeyButton",{defaultMessage:"Dismiss"});exports.DISMISS_CALLOUT=DISMISS_CALLOUT},8925:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DISMISS_CALLOUT=exports.NO_WRITE_SIGNALS_CALLOUT_MSG=exports.NO_WRITE_SIGNALS_CALLOUT_TITLE=void 0;var _i18n=__webpack_require__(2);var NO_WRITE_SIGNALS_CALLOUT_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.noWriteSignalsCallOutTitle",{defaultMessage:"Signals index permissions required"});exports.NO_WRITE_SIGNALS_CALLOUT_TITLE=NO_WRITE_SIGNALS_CALLOUT_TITLE;var NO_WRITE_SIGNALS_CALLOUT_MSG=_i18n.i18n.translate("xpack.siem.detectionEngine.noWriteSignalsCallOutMsg",{defaultMessage:"You are currently missing the required permissions to update signals. Please contact your administrator for further assistance."});exports.NO_WRITE_SIGNALS_CALLOUT_MSG=NO_WRITE_SIGNALS_CALLOUT_MSG;var DISMISS_CALLOUT=_i18n.i18n.translate("xpack.siem.detectionEngine.dismissNoWriteSignalButton",{defaultMessage:"Dismiss"});exports.DISMISS_CALLOUT=DISMISS_CALLOUT},8926:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SignalsHistogram=void 0;var _charts=__webpack_require__(42);var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _common=__webpack_require__(7208);var _utils=__webpack_require__(7326);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DEFAULT_CHART_HEIGHT=174;var SignalsHistogram=_react.default.memo((function(_ref){var _ref$chartHeight=_ref.chartHeight,chartHeight=_ref$chartHeight===void 0?DEFAULT_CHART_HEIGHT:_ref$chartHeight,data=_ref.data,from=_ref.from,_ref$legendPosition=_ref.legendPosition,legendPosition=_ref$legendPosition===void 0?"right":_ref$legendPosition,loading=_ref.loading,to=_ref.to,updateDateRange=_ref.updateDateRange;var theme=(0,_common.useTheme)();return _react.default.createElement(_react.default.Fragment,null,loading&&_react.default.createElement(_eui.EuiProgress,{"data-test-subj":"loadingPanelSignalsHistogram",size:"xs",position:"absolute",color:"accent"}),_react.default.createElement(_charts.Chart,{size:["100%",chartHeight]},_react.default.createElement(_charts.Settings,{legendPosition:legendPosition,onBrushEnd:updateDateRange,showLegend:true,theme:theme}),_react.default.createElement(_charts.Axis,{id:(0,_charts.getAxisId)("signalsHistogramAxisX"),position:"bottom",tickFormat:(0,_utils.histogramDateTimeFormatter)([from,to])}),_react.default.createElement(_charts.Axis,{id:(0,_charts.getAxisId)("signalsHistogramAxisY"),position:"left"}),_react.default.createElement(_charts.HistogramBarSeries,{id:(0,_charts.getSpecId)("signalsHistogram"),xScaleType:"time",yScaleType:"linear",xAccessor:"x",yAccessors:["y"],splitSeriesAccessors:["g"],data:data})))}));exports.SignalsHistogram=SignalsHistogram;SignalsHistogram.displayName="SignalsHistogram"},8927:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showInitialLoadingSpinner=exports.getSignalsHistogramQuery=exports.formatSignalsData=void 0;var i18n=_interopRequireWildcard(__webpack_require__(7678));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var formatSignalsData=function formatSignalsData(signalsData){var _ref,_signalsData$aggregat,_signalsData$aggregat2;var groupBuckets=(_ref=signalsData===null||signalsData===void 0?void 0:(_signalsData$aggregat=signalsData.aggregations)===null||_signalsData$aggregat===void 0?void 0:(_signalsData$aggregat2=_signalsData$aggregat.signalsByGrouping)===null||_signalsData$aggregat2===void 0?void 0:_signalsData$aggregat2.buckets)!==null&&_ref!==void 0?_ref:[];return groupBuckets.reduce((function(acc,_ref2){var _signals$buckets;var group=_ref2.key,signals=_ref2.signals;var signalsBucket=(_signals$buckets=signals.buckets)!==null&&_signals$buckets!==void 0?_signals$buckets:[];return[].concat(_toConsumableArray(acc),_toConsumableArray(signalsBucket.map((function(_ref3){var key=_ref3.key,doc_count=_ref3.doc_count;return{x:key,y:doc_count,g:group}}))))}),[])};exports.formatSignalsData=formatSignalsData;var getSignalsHistogramQuery=function getSignalsHistogramQuery(stackByField,from,to,additionalFilters){return{aggs:{signalsByGrouping:{terms:{field:stackByField,missing:stackByField.endsWith(".ip")?"0.0.0.0":i18n.ALL_OTHERS,order:{_count:"desc"},size:10},aggs:{signals:{date_histogram:{field:"@timestamp",fixed_interval:"".concat(Math.floor((to-from)/32),"ms"),min_doc_count:0,extended_bounds:{min:from,max:to}}}}}},query:{bool:{filter:[].concat(_toConsumableArray(additionalFilters),[{range:{"@timestamp":{gte:from,lte:to}}}])}}}};exports.getSignalsHistogramQuery=getSignalsHistogramQuery;var showInitialLoadingSpinner=function showInitialLoadingSpinner(_ref4){var isInitialLoading=_ref4.isInitialLoading,isLoadingSignals=_ref4.isLoadingSignals;return isInitialLoading&&isLoadingSignals};exports.showInitialLoadingSpinner=showInitialLoadingSpinner},8928:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetectionEngineNoIndex=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _empty_page=__webpack_require__(7132);var i18n=_interopRequireWildcard(__webpack_require__(7155));var _kibana=__webpack_require__(7013);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DetectionEngineNoIndex=_react.default.memo((function(){var docLinks=(0,_kibana.useKibana)().services.docLinks;return _react.default.createElement(_empty_page.EmptyPage,{actionPrimaryIcon:"documents",actionPrimaryLabel:i18n.GO_TO_DOCUMENTATION,actionPrimaryUrl:"".concat(docLinks.ELASTIC_WEBSITE_URL,"guide/en/siem/guide/").concat(docLinks.DOC_LINK_VERSION,"/detection-engine-overview.html#detections-permissions"),actionPrimaryTarget:"_blank",message:i18n.NO_INDEX_MSG_BODY,"data-test-subj":"no_index",title:i18n.NO_INDEX_TITLE})}));exports.DetectionEngineNoIndex=DetectionEngineNoIndex;DetectionEngineNoIndex.displayName="DetectionEngineNoIndex"},8929:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetectionEngineUserUnauthenticated=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _empty_page=__webpack_require__(7132);var i18n=_interopRequireWildcard(__webpack_require__(7155));var _kibana=__webpack_require__(7013);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DetectionEngineUserUnauthenticated=_react.default.memo((function(){var docLinks=(0,_kibana.useKibana)().services.docLinks;return _react.default.createElement(_empty_page.EmptyPage,{actionPrimaryIcon:"documents",actionPrimaryLabel:i18n.GO_TO_DOCUMENTATION,actionPrimaryUrl:"".concat(docLinks.ELASTIC_WEBSITE_URL,"guide/en/siem/guide/").concat(docLinks.DOC_LINK_VERSION,"/detection-engine-overview.html#detections-permissions"),actionPrimaryTarget:"_blank",message:i18n.USER_UNAUTHENTICATED_MSG_BODY,"data-test-subj":"no_index",title:i18n.USER_UNAUTHENTICATED_TITLE})}));exports.DetectionEngineUserUnauthenticated=DetectionEngineUserUnauthenticated;DetectionEngineUserUnauthenticated.displayName="DetectionEngineUserUnauthenticated"},8930:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditRulePage=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _rules=__webpack_require__(7059);var _wrapper_page=__webpack_require__(7054);var _redirect_to_detection_engine=__webpack_require__(7043);var _toasters=__webpack_require__(7019);var _spy_routes=__webpack_require__(7057);var _user_info=__webpack_require__(7138);var _detection_engine_header_page=__webpack_require__(7163);var _step_panel=__webpack_require__(7680);var _step_about_rule=__webpack_require__(7348);var _step_define_rule=__webpack_require__(7353);var _step_schedule_rule=__webpack_require__(7354);var _helpers=__webpack_require__(7672);var _helpers2=__webpack_require__(7093);var ruleI18n=_interopRequireWildcard(__webpack_require__(7031));var _types=__webpack_require__(7162);var i18n=_interopRequireWildcard(__webpack_require__(8931));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var EditRulePageComponent=function EditRulePageComponent(){var _useRef,_ref2;var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];var _useUserInfo=(0,_user_info.useUserInfo)(),initLoading=_useUserInfo.loading,isSignalIndexExists=_useUserInfo.isSignalIndexExists,isAuthenticated=_useUserInfo.isAuthenticated,hasEncryptionKey=_useUserInfo.hasEncryptionKey,canUserCRUD=_useUserInfo.canUserCRUD,hasManageApiKey=_useUserInfo.hasManageApiKey;var _useParams=(0,_reactRouterDom.useParams)(),ruleId=_useParams.detailName;var _useRule=(0,_rules.useRule)(ruleId),_useRule2=_slicedToArray(_useRule,2),loading=_useRule2[0],rule=_useRule2[1];var userHasNoPermissions=canUserCRUD!=null&&hasManageApiKey!=null?!canUserCRUD||!hasManageApiKey:false;var _useState=(0,_react2.useState)(false),_useState2=_slicedToArray(_useState,2),initForm=_useState2[0],setInitForm=_useState2[1];var _useState3=(0,_react2.useState)({data:null,isValid:false}),_useState4=_slicedToArray(_useState3,2),myAboutRuleForm=_useState4[0],setMyAboutRuleForm=_useState4[1];var _useState5=(0,_react2.useState)({data:null,isValid:false}),_useState6=_slicedToArray(_useState5,2),myDefineRuleForm=_useState6[0],setMyDefineRuleForm=_useState6[1];var _useState7=(0,_react2.useState)({data:null,isValid:false}),_useState8=_slicedToArray(_useState7,2),myScheduleRuleForm=_useState8[0],setMyScheduleRuleForm=_useState8[1];var _useState9=(0,_react2.useState)(),_useState10=_slicedToArray(_useState9,2),selectedTab=_useState10[0],setSelectedTab=_useState10[1];var stepsForm=(0,_react2.useRef)((_useRef={},_defineProperty(_useRef,_types.RuleStep.defineRule,null),_defineProperty(_useRef,_types.RuleStep.aboutRule,null),_defineProperty(_useRef,_types.RuleStep.scheduleRule,null),_useRef));var _usePersistRule=(0,_rules.usePersistRule)(),_usePersistRule2=_slicedToArray(_usePersistRule,2),_usePersistRule2$=_usePersistRule2[0],isLoading=_usePersistRule2$.isLoading,isSaved=_usePersistRule2$.isSaved,setRule=_usePersistRule2[1];var _useState11=(0,_react2.useState)([]),_useState12=_slicedToArray(_useState11,2),tabHasError=_useState12[0],setTabHasError=_useState12[1];var setStepsForm=(0,_react2.useCallback)((function(step,form){stepsForm.current[step]=form;if(initForm&&step===(selectedTab===null||selectedTab===void 0?void 0:selectedTab.id)&&form.isSubmitted===false){setInitForm(false);form.submit()}}),[initForm,selectedTab]);var tabs=(0,_react2.useMemo)((function(){return[{id:_types.RuleStep.defineRule,name:ruleI18n.DEFINITION,content:_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_step_panel.StepPanel,{loading:loading||initLoading,title:ruleI18n.DEFINITION},myDefineRuleForm.data!=null&&_react2.default.createElement(_step_define_rule.StepDefineRule,{isReadOnlyView:false,isLoading:isLoading,isUpdateView:true,defaultValues:myDefineRuleForm.data,setForm:setStepsForm}),_react2.default.createElement(_eui.EuiSpacer,null)))},{id:_types.RuleStep.aboutRule,name:ruleI18n.ABOUT,content:_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_step_panel.StepPanel,{loading:loading||initLoading,title:ruleI18n.ABOUT},myAboutRuleForm.data!=null&&_react2.default.createElement(_step_about_rule.StepAboutRule,{isReadOnlyView:false,isLoading:isLoading,isUpdateView:true,defaultValues:myAboutRuleForm.data,setForm:setStepsForm}),_react2.default.createElement(_eui.EuiSpacer,null)))},{id:_types.RuleStep.scheduleRule,name:ruleI18n.SCHEDULE,content:_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_step_panel.StepPanel,{loading:loading||initLoading,title:ruleI18n.SCHEDULE},myScheduleRuleForm.data!=null&&_react2.default.createElement(_step_schedule_rule.StepScheduleRule,{isReadOnlyView:false,isLoading:isLoading,isUpdateView:true,defaultValues:myScheduleRuleForm.data,setForm:setStepsForm}),_react2.default.createElement(_eui.EuiSpacer,null)))}]}),[loading,initLoading,isLoading,myAboutRuleForm,myDefineRuleForm,myScheduleRuleForm,setStepsForm,stepsForm]);var onSubmit=(0,_react2.useCallback)((function _callee(){var _stepsForm$current$ac;var activeFormId,activeForm,invalidForms;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:activeFormId=selectedTab===null||selectedTab===void 0?void 0:selectedTab.id;_context.next=3;return regeneratorRuntime.awrap((_stepsForm$current$ac=stepsForm.current[activeFormId])===null||_stepsForm$current$ac===void 0?void 0:_stepsForm$current$ac.submit());case 3:activeForm=_context.sent;invalidForms=[_types.RuleStep.aboutRule,_types.RuleStep.defineRule,_types.RuleStep.scheduleRule].reduce((function(acc,step){if(step===activeFormId&&activeForm!=null&&!(activeForm===null||activeForm===void 0?void 0:activeForm.isValid)||step===_types.RuleStep.aboutRule&&!myAboutRuleForm.isValid||step===_types.RuleStep.defineRule&&!myDefineRuleForm.isValid||step===_types.RuleStep.scheduleRule&&!myScheduleRuleForm.isValid){return[].concat(_toConsumableArray(acc),[step])}return acc}),[]);if(invalidForms.length===0&&activeForm!=null){setTabHasError([]);setRule((0,_helpers.formatRule)(activeFormId===_types.RuleStep.defineRule?activeForm.data:myDefineRuleForm.data,activeFormId===_types.RuleStep.aboutRule?activeForm.data:myAboutRuleForm.data,activeFormId===_types.RuleStep.scheduleRule?activeForm.data:myScheduleRuleForm.data,ruleId))}else{setTabHasError(invalidForms)}case 6:case"end":return _context.stop()}}}))}),[stepsForm,myAboutRuleForm,myDefineRuleForm,myScheduleRuleForm,selectedTab,ruleId]);(0,_react2.useEffect)((function(){if(rule!=null){var _getStepsData=(0,_helpers2.getStepsData)({rule:rule}),aboutRuleData=_getStepsData.aboutRuleData,defineRuleData=_getStepsData.defineRuleData,scheduleRuleData=_getStepsData.scheduleRuleData;setMyAboutRuleForm({data:aboutRuleData,isValid:true});setMyDefineRuleForm({data:defineRuleData,isValid:true});setMyScheduleRuleForm({data:scheduleRuleData,isValid:true})}}),[rule]);var onTabClick=(0,_react2.useCallback)((function _callee2(tab){var _stepsForm$current$ru,ruleStep,respForm;return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(selectedTab!=null)){_context2.next=6;break}ruleStep=selectedTab.id;_context2.next=4;return regeneratorRuntime.awrap((_stepsForm$current$ru=stepsForm.current[ruleStep])===null||_stepsForm$current$ru===void 0?void 0:_stepsForm$current$ru.submit());case 4:respForm=_context2.sent;if(respForm!=null){if(ruleStep===_types.RuleStep.aboutRule){setMyAboutRuleForm({data:respForm.data,isValid:respForm.isValid})}else if(ruleStep===_types.RuleStep.defineRule){setMyDefineRuleForm({data:respForm.data,isValid:respForm.isValid})}else if(ruleStep===_types.RuleStep.scheduleRule){setMyScheduleRuleForm({data:respForm.data,isValid:respForm.isValid})}}case 6:setInitForm(true);setSelectedTab(tab);case 8:case"end":return _context2.stop()}}}))}),[selectedTab,stepsForm.current]);(0,_react2.useEffect)((function(){if(rule!=null){var _getStepsData2=(0,_helpers2.getStepsData)({rule:rule}),aboutRuleData=_getStepsData2.aboutRuleData,defineRuleData=_getStepsData2.defineRuleData,scheduleRuleData=_getStepsData2.scheduleRuleData;setMyAboutRuleForm({data:aboutRuleData,isValid:true});setMyDefineRuleForm({data:defineRuleData,isValid:true});setMyScheduleRuleForm({data:scheduleRuleData,isValid:true})}}),[rule]);(0,_react2.useEffect)((function(){setSelectedTab(tabs[0])}),[]);if(isSaved||rule!=null&&rule.immutable){var _ref;(0,_toasters.displaySuccessToast)(i18n.SUCCESSFULLY_SAVED_RULE((_ref=rule===null||rule===void 0?void 0:rule.name)!==null&&_ref!==void 0?_ref:""),dispatchToaster);return _react2.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_redirect_to_detection_engine.DETECTION_ENGINE_PAGE_NAME,"/rules/id/").concat(ruleId)})}if((0,_helpers2.redirectToDetections)(isSignalIndexExists,isAuthenticated,hasEncryptionKey)){return _react2.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_redirect_to_detection_engine.DETECTION_ENGINE_PAGE_NAME)})}else if(userHasNoPermissions){return _react2.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_redirect_to_detection_engine.DETECTION_ENGINE_PAGE_NAME,"/rules/id/").concat(ruleId)})}return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_wrapper_page.WrapperPage,{restrictWidth:true},_react2.default.createElement(_detection_engine_header_page.DetectionEngineHeaderPage,{backOptions:{href:"#/".concat(_redirect_to_detection_engine.DETECTION_ENGINE_PAGE_NAME,"/rules/id/").concat(ruleId),text:"".concat(i18n.BACK_TO," ").concat((_ref2=rule===null||rule===void 0?void 0:rule.name)!==null&&_ref2!==void 0?_ref2:"")},isLoading:isLoading,title:i18n.PAGE_TITLE}),tabHasError.length>0&&_react2.default.createElement(_eui.EuiCallOut,{title:i18n.SORRY_ERRORS,color:"danger",iconType:"alert"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.detectionEngine.rule.editRule.errorMsgDescription",defaultMessage:"You have an invalid input in {countError, plural, one {this tab} other {these tabs}}: {tabHasError}",values:{countError:tabHasError.length,tabHasError:tabHasError.map((function(t){if(t===_types.RuleStep.aboutRule){return ruleI18n.ABOUT}else if(t===_types.RuleStep.defineRule){return ruleI18n.DEFINITION}else if(t===_types.RuleStep.scheduleRule){return ruleI18n.SCHEDULE}return t})).join(", ")}})),_react2.default.createElement(_eui.EuiTabbedContent,{initialSelectedTab:tabs[0],selectedTab:tabs.find((function(t){return t.id===(selectedTab===null||selectedTab===void 0?void 0:selectedTab.id)})),onTabClick:onTabClick,tabs:tabs}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s",justifyContent:"flexEnd",responsive:false},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{iconType:"cross",href:"#/".concat(_redirect_to_detection_engine.DETECTION_ENGINE_PAGE_NAME,"/rules/id/").concat(ruleId)},i18n.CANCEL)),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{fill:true,onClick:onSubmit,iconType:"save",isLoading:isLoading,isDisabled:initLoading},i18n.SAVE_CHANGES)))),_react2.default.createElement(_spy_routes.SpyRoute,{state:{ruleName:rule===null||rule===void 0?void 0:rule.name}}))};var EditRulePage=(0,_react2.memo)(EditRulePageComponent);exports.EditRulePage=EditRulePage},8931:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SUCCESSFULLY_SAVED_RULE=exports.BACK_TO=exports.SORRY_ERRORS=exports.SAVE_CHANGES=exports.CANCEL=exports.PAGE_TITLE=void 0;var _i18n=__webpack_require__(2);var PAGE_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.editRule.pageTitle",{defaultMessage:"Edit rule settings"});exports.PAGE_TITLE=PAGE_TITLE;var CANCEL=_i18n.i18n.translate("xpack.siem.detectionEngine.editRule.cancelTitle",{defaultMessage:"Cancel"});exports.CANCEL=CANCEL;var SAVE_CHANGES=_i18n.i18n.translate("xpack.siem.detectionEngine.editRule.saveChangeTitle",{defaultMessage:"Save changes"});exports.SAVE_CHANGES=SAVE_CHANGES;var SORRY_ERRORS=_i18n.i18n.translate("xpack.siem.detectionEngine.editRule.errorMsgDescription",{defaultMessage:"Sorry"});exports.SORRY_ERRORS=SORRY_ERRORS;var BACK_TO=_i18n.i18n.translate("xpack.siem.detectionEngine.editRule.backToDescription",{defaultMessage:"Back to"});exports.BACK_TO=BACK_TO;var SUCCESSFULLY_SAVED_RULE=function SUCCESSFULLY_SAVED_RULE(ruleName){return _i18n.i18n.translate("xpack.siem.detectionEngine.rules.update.successfullySavedRuleTitle",{values:{ruleName:ruleName},defaultMessage:"{ruleName} was saved"})};exports.SUCCESSFULLY_SAVED_RULE=SUCCESSFULLY_SAVED_RULE},8932:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RuleDetailsPage=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _reactSticky=__webpack_require__(1001);var _reactRedux=__webpack_require__(7014);var _filters_global=__webpack_require__(7107);var _formatted_date=__webpack_require__(7027);var _redirect_to_detection_engine=__webpack_require__(7043);var _search_bar=__webpack_require__(7079);var _wrapper_page=__webpack_require__(7054);var _rules=__webpack_require__(7059);var _source=__webpack_require__(7042);var _spy_routes=__webpack_require__(7057);var _detection_engine_header_page=__webpack_require__(7163);var _signals_histogram_panel=__webpack_require__(7357);var _signals=__webpack_require__(7329);var _user_info=__webpack_require__(7138);var _detection_engine_empty_page=__webpack_require__(7679);var _signals_info=__webpack_require__(7675);var _step_about_rule=__webpack_require__(7348);var _step_define_rule=__webpack_require__(7353);var _step_schedule_rule=__webpack_require__(7354);var _default_config=__webpack_require__(7335);var _no_write_signals_callout=__webpack_require__(7677);var detectionI18n=_interopRequireWildcard(__webpack_require__(7155));var _read_only_callout=__webpack_require__(7681);var _rule_switch=__webpack_require__(7682);var _step_panel=__webpack_require__(7680);var _helpers=__webpack_require__(7093);var ruleI18n=_interopRequireWildcard(__webpack_require__(7031));var i18n=_interopRequireWildcard(__webpack_require__(7358));var _global_time=__webpack_require__(7164);var _config=__webpack_require__(7217);var _inputs=__webpack_require__(1887);var _actions=__webpack_require__(984);var _rule_actions_overflow=__webpack_require__(8934);var _status_failed_callout=__webpack_require__(8937);var _failure_history=__webpack_require__(8938);var _rule_status=__webpack_require__(8939);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RuleDetailTabs;(function(RuleDetailTabs){RuleDetailTabs["signals"]="signals";RuleDetailTabs["failures"]="failures"})(RuleDetailTabs||(RuleDetailTabs={}));var ruleDetailTabs=[{id:RuleDetailTabs.signals,name:detectionI18n.SIGNAL,disabled:false},{id:RuleDetailTabs.failures,name:i18n.FAILURE_HISTORY_TAB,disabled:false}];var RuleDetailsPageComponent=function RuleDetailsPageComponent(_ref){var filters=_ref.filters,query=_ref.query,setAbsoluteRangeDatePicker=_ref.setAbsoluteRangeDatePicker;var _useUserInfo=(0,_user_info.useUserInfo)(),loading=_useUserInfo.loading,isSignalIndexExists=_useUserInfo.isSignalIndexExists,isAuthenticated=_useUserInfo.isAuthenticated,hasEncryptionKey=_useUserInfo.hasEncryptionKey,canUserCRUD=_useUserInfo.canUserCRUD,hasManageApiKey=_useUserInfo.hasManageApiKey,hasIndexWrite=_useUserInfo.hasIndexWrite,signalIndexName=_useUserInfo.signalIndexName;var _useParams=(0,_reactRouterDom.useParams)(),ruleId=_useParams.detailName;var _useRule=(0,_rules.useRule)(ruleId),_useRule2=_slicedToArray(_useRule,2),isLoading=_useRule2[0],rule=_useRule2[1];var _useState=(0,_react2.useState)(null),_useState2=_slicedToArray(_useState,2),ruleEnabled=_useState2[0],setRuleEnabled=_useState2[1];var _useState3=(0,_react2.useState)(RuleDetailTabs.signals),_useState4=_slicedToArray(_useState3,2),ruleDetailTab=_useState4[0],setRuleDetailTab=_useState4[1];var _ref2=rule!=null?(0,_helpers.getStepsData)({rule:rule,detailsView:true}):{aboutRuleData:null,defineRuleData:null,scheduleRuleData:null},aboutRuleData=_ref2.aboutRuleData,defineRuleData=_ref2.defineRuleData,scheduleRuleData=_ref2.scheduleRuleData;var _useSignalInfo=(0,_signals_info.useSignalInfo)({ruleId:ruleId}),_useSignalInfo2=_slicedToArray(_useSignalInfo,1),lastSignals=_useSignalInfo2[0];var userHasNoPermissions=canUserCRUD!=null&&hasManageApiKey!=null?!canUserCRUD||!hasManageApiKey:false;var title=isLoading===true||rule===null?_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}):rule.name;var subTitle=(0,_react2.useMemo)((function(){var _ref3,_ref4,_ref5,_ref6;return isLoading===true||rule===null?_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}):[_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.detectionEngine.ruleDetails.ruleCreationDescription",defaultMessage:"Created by: {by} on {date}",values:{by:(_ref3=rule===null||rule===void 0?void 0:rule.created_by)!==null&&_ref3!==void 0?_ref3:i18n.UNKNOWN,date:_react2.default.createElement(_formatted_date.FormattedDate,{value:(_ref4=rule===null||rule===void 0?void 0:rule.created_at)!==null&&_ref4!==void 0?_ref4:(new Date).toISOString(),fieldName:"createdAt"})}}),(rule===null||rule===void 0?void 0:rule.updated_by)!=null?_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.detectionEngine.ruleDetails.ruleUpdateDescription",defaultMessage:"Updated by: {by} on {date}",values:{by:(_ref5=rule===null||rule===void 0?void 0:rule.updated_by)!==null&&_ref5!==void 0?_ref5:i18n.UNKNOWN,date:_react2.default.createElement(_formatted_date.FormattedDate,{value:(_ref6=rule===null||rule===void 0?void 0:rule.updated_at)!==null&&_ref6!==void 0?_ref6:(new Date).toISOString(),fieldName:"updatedAt"})}}):""]}),[isLoading,rule]);var signalDefaultFilters=(0,_react2.useMemo)((function(){return ruleId!=null?(0,_default_config.buildSignalsRuleIdFilter)(ruleId):[]}),[ruleId]);var signalMergedFilters=(0,_react2.useMemo)((function(){return[].concat(_toConsumableArray(signalDefaultFilters),_toConsumableArray(filters))}),[signalDefaultFilters,filters]);var tabs=(0,_react2.useMemo)((function(){return _react2.default.createElement(_eui.EuiTabs,null,ruleDetailTabs.map((function(tab){return _react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return setRuleDetailTab(tab.id)},isSelected:tab.id===ruleDetailTab,disabled:tab.disabled,key:tab.id},tab.name)})))}),[ruleDetailTabs,ruleDetailTab,setRuleDetailTab]);var ruleError=(0,_react2.useMemo)((function(){var _ref7;return(rule===null||rule===void 0?void 0:rule.status)==="failed"&&ruleDetailTab===RuleDetailTabs.signals&&(rule===null||rule===void 0?void 0:rule.last_failure_at)!=null?_react2.default.createElement(_status_failed_callout.RuleStatusFailedCallOut,{message:(_ref7=rule===null||rule===void 0?void 0:rule.last_failure_message)!==null&&_ref7!==void 0?_ref7:"",date:rule===null||rule===void 0?void 0:rule.last_failure_at}):null}),[rule,ruleDetailTab]);var indexToAdd=(0,_react2.useMemo)((function(){return signalIndexName==null?[]:[signalIndexName]}),[signalIndexName]);var updateDateRangeCallback=(0,_react2.useCallback)((function(min,max){setAbsoluteRangeDatePicker({id:"global",from:min,to:max})}),[setAbsoluteRangeDatePicker]);var handleOnChangeEnabledRule=(0,_react2.useCallback)((function(enabled){if(ruleEnabled==null||enabled!==ruleEnabled){setRuleEnabled(enabled)}}),[ruleEnabled,setRuleEnabled]);if((0,_helpers.redirectToDetections)(isSignalIndexExists,isAuthenticated,hasEncryptionKey)){return _react2.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_redirect_to_detection_engine.DETECTION_ENGINE_PAGE_NAME)})}return _react2.default.createElement(_react2.default.Fragment,null,hasIndexWrite!=null&&!hasIndexWrite&&_react2.default.createElement(_no_write_signals_callout.NoWriteSignalsCallOut,null),userHasNoPermissions&&_react2.default.createElement(_read_only_callout.ReadOnlyCallOut,null),_react2.default.createElement(_source.WithSource,{sourceId:"default",indexToAdd:indexToAdd},(function(_ref8){var indicesExist=_ref8.indicesExist,indexPattern=_ref8.indexPattern;return(0,_source.indicesExistOrDataTemporarilyUnavailable)(indicesExist)?_react2.default.createElement(_global_time.GlobalTime,null,(function(_ref9){var _ref10,_ref11,_ref12;var to=_ref9.to,from=_ref9.from,deleteQuery=_ref9.deleteQuery,setQuery=_ref9.setQuery;return _react2.default.createElement(_reactSticky.StickyContainer,null,_react2.default.createElement(_filters_global.FiltersGlobal,null,_react2.default.createElement(_search_bar.SiemSearchBar,{id:"global",indexPattern:indexPattern})),_react2.default.createElement(_wrapper_page.WrapperPage,null,_react2.default.createElement(_detection_engine_header_page.DetectionEngineHeaderPage,{backOptions:{href:(0,_redirect_to_detection_engine.getRulesUrl)(),text:i18n.BACK_TO_RULES},border:true,subtitle:subTitle,subtitle2:[].concat(_toConsumableArray(lastSignals!=null?[_react2.default.createElement(_react2.default.Fragment,null,detectionI18n.LAST_SIGNAL,": ",lastSignals)]:[]),[_react2.default.createElement(_rule_status.RuleStatus,{ruleId:ruleId!==null&&ruleId!==void 0?ruleId:null,ruleEnabled:ruleEnabled})]),title:title},_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_rule_switch.RuleSwitch,{id:(_ref10=rule===null||rule===void 0?void 0:rule.id)!==null&&_ref10!==void 0?_ref10:"-1",isDisabled:userHasNoPermissions,enabled:(_ref11=rule===null||rule===void 0?void 0:rule.enabled)!==null&&_ref11!==void 0?_ref11:false,optionLabel:i18n.ACTIVATE_RULE,onChange:handleOnChangeEnabledRule})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:false},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{href:(0,_redirect_to_detection_engine.getEditRuleUrl)(ruleId!==null&&ruleId!==void 0?ruleId:""),iconType:"visControls",isDisabled:(_ref12=userHasNoPermissions||(rule===null||rule===void 0?void 0:rule.immutable))!==null&&_ref12!==void 0?_ref12:true},ruleI18n.EDIT_RULE_SETTINGS)),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_rule_actions_overflow.RuleActionsOverflow,{rule:rule,userHasNoPermissions:userHasNoPermissions})))))),ruleError,tabs,_react2.default.createElement(_eui.EuiSpacer,null),ruleDetailTab===RuleDetailTabs.signals&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{component:"section",grow:1},_react2.default.createElement(_step_panel.StepPanel,{loading:isLoading,title:ruleI18n.DEFINITION},defineRuleData!=null&&_react2.default.createElement(_step_define_rule.StepDefineRule,{descriptionDirection:"column",isReadOnlyView:true,isLoading:false,defaultValues:defineRuleData}))),_react2.default.createElement(_eui.EuiFlexItem,{component:"section",grow:2},_react2.default.createElement(_step_panel.StepPanel,{loading:isLoading,title:ruleI18n.ABOUT},aboutRuleData!=null&&_react2.default.createElement(_step_about_rule.StepAboutRule,{descriptionDirection:"row",isReadOnlyView:true,isLoading:false,defaultValues:aboutRuleData}))),_react2.default.createElement(_eui.EuiFlexItem,{component:"section",grow:1},_react2.default.createElement(_step_panel.StepPanel,{loading:isLoading,title:ruleI18n.SCHEDULE},scheduleRuleData!=null&&_react2.default.createElement(_step_schedule_rule.StepScheduleRule,{descriptionDirection:"column",isReadOnlyView:true,isLoading:false,defaultValues:scheduleRuleData})))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_signals_histogram_panel.SignalsHistogramPanel,{deleteQuery:deleteQuery,filters:signalMergedFilters,query:query,from:from,signalIndexName:signalIndexName,setQuery:setQuery,stackByOptions:_config.signalsHistogramOptions,to:to,updateDateRange:updateDateRangeCallback}),_react2.default.createElement(_eui.EuiSpacer,null),ruleId!=null&&_react2.default.createElement(_signals.SignalsTable,{canUserCRUD:canUserCRUD!==null&&canUserCRUD!==void 0?canUserCRUD:false,defaultFilters:signalDefaultFilters,hasIndexWrite:hasIndexWrite!==null&&hasIndexWrite!==void 0?hasIndexWrite:false,from:from,loading:loading,signalsIndex:signalIndexName!==null&&signalIndexName!==void 0?signalIndexName:"",to:to})),ruleDetailTab===RuleDetailTabs.failures&&_react2.default.createElement(_failure_history.FailureHistory,{id:rule===null||rule===void 0?void 0:rule.id})))})):_react2.default.createElement(_wrapper_page.WrapperPage,null,_react2.default.createElement(_detection_engine_header_page.DetectionEngineHeaderPage,{border:true,title:i18n.PAGE_TITLE}),_react2.default.createElement(_detection_engine_empty_page.DetectionEngineEmptyPage,null))})),_react2.default.createElement(_spy_routes.SpyRoute,{state:{ruleName:rule===null||rule===void 0?void 0:rule.name}}))};var makeMapStateToProps=function makeMapStateToProps(){var getGlobalInputs=_inputs.inputsSelectors.globalSelector();return function(state){var globalInputs=getGlobalInputs(state);var query=globalInputs.query,filters=globalInputs.filters;return{query:query,filters:filters}}};var mapDispatchToProps={setAbsoluteRangeDatePicker:_actions.setAbsoluteRangeDatePicker};var RuleDetailsPage=(0,_reactRedux.connect)(makeMapStateToProps,mapDispatchToProps)((0,_react2.memo)(RuleDetailsPageComponent));exports.RuleDetailsPage=RuleDetailsPage},8933:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DISMISS_CALLOUT=exports.READ_ONLY_CALLOUT_MSG=exports.READ_ONLY_CALLOUT_TITLE=void 0;var _i18n=__webpack_require__(2);var READ_ONLY_CALLOUT_TITLE=_i18n.i18n.translate("xpack.siem.detectionEngine.readOnlyCallOutTitle",{defaultMessage:"Rule permissions required"});exports.READ_ONLY_CALLOUT_TITLE=READ_ONLY_CALLOUT_TITLE;var READ_ONLY_CALLOUT_MSG=_i18n.i18n.translate("xpack.siem.detectionEngine.readOnlyCallOutMsg",{defaultMessage:"You are currently missing the required permissions to create/edit detection engine rule. Please contact your administrator for further assistance."});exports.READ_ONLY_CALLOUT_MSG=READ_ONLY_CALLOUT_MSG;var DISMISS_CALLOUT=_i18n.i18n.translate("xpack.siem.detectionEngine.dismissButton",{defaultMessage:"Dismiss"});exports.DISMISS_CALLOUT=DISMISS_CALLOUT},8934:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RuleActionsOverflow=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _fp=__webpack_require__(223);var _reactRouterDom=__webpack_require__(23);var i18n=_interopRequireWildcard(__webpack_require__(8935));var i18nActions=_interopRequireWildcard(__webpack_require__(7031));var _toasters=__webpack_require__(7019);var _actions=__webpack_require__(7218);var _rule_downloader=__webpack_require__(7684);var _redirect_to_detection_engine=__webpack_require__(7043);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var MyEuiButtonIcon=(0,_styledComponents.default)(_eui.EuiButtonIcon).withConfig({displayName:"MyEuiButtonIcon",componentId:"bi1r1e-0"})(["&.euiButtonIcon{svg{transform:rotate(90deg);}border:1px solid ",";width:40px;height:40px;}"],(function(_ref){var theme=_ref.theme;return theme.euiColorPrimary}));var RuleActionsOverflowComponent=function RuleActionsOverflowComponent(_ref2){var rule=_ref2.rule,userHasNoPermissions=_ref2.userHasNoPermissions;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setIsPopoverOpen=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=_slicedToArray(_useState3,2),rulesToExport=_useState4[0],setRulesToExport=_useState4[1];var history=(0,_reactRouterDom.useHistory)();var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];var onRuleDeletedCallback=(0,_react.useCallback)((function(){history.push("/".concat(_redirect_to_detection_engine.DETECTION_ENGINE_PAGE_NAME,"/rules"))}),[history]);var actions=(0,_react.useMemo)((function(){return rule!=null?[_react.default.createElement(_eui.EuiContextMenuItem,{key:i18nActions.DUPLICATE_RULE,icon:"exportAction",disabled:userHasNoPermissions,onClick:function _callee(){return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsPopoverOpen(false);_context.next=3;return regeneratorRuntime.awrap((0,_actions.duplicateRulesAction)([rule],[rule.id],_fp.noop,dispatchToaster));case 3:case"end":return _context.stop()}}}))}},i18nActions.DUPLICATE_RULE),_react.default.createElement(_eui.EuiContextMenuItem,{key:i18nActions.EXPORT_RULE,icon:"indexEdit",disabled:userHasNoPermissions||rule.immutable,onClick:function onClick(){setIsPopoverOpen(false);setRulesToExport([rule.id])}},i18nActions.EXPORT_RULE),_react.default.createElement(_eui.EuiContextMenuItem,{key:i18nActions.DELETE_RULE,icon:"trash",disabled:userHasNoPermissions,onClick:function _callee2(){return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsPopoverOpen(false);_context2.next=3;return regeneratorRuntime.awrap((0,_actions.deleteRulesAction)([rule.id],_fp.noop,dispatchToaster,onRuleDeletedCallback));case 3:case"end":return _context2.stop()}}}))}},i18nActions.DELETE_RULE)]:[]}),[rule,userHasNoPermissions]);var handlePopoverOpen=(0,_react.useCallback)((function(){setIsPopoverOpen(!isPopoverOpen)}),[setIsPopoverOpen,isPopoverOpen]);var button=(0,_react.useMemo)((function(){return _react.default.createElement(_eui.EuiToolTip,{position:"top",content:i18n.ALL_ACTIONS},_react.default.createElement(MyEuiButtonIcon,{iconType:"boxesHorizontal","aria-label":i18n.ALL_ACTIONS,isDisabled:userHasNoPermissions,onClick:handlePopoverOpen}))}),[handlePopoverOpen,userHasNoPermissions]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiPopover,{anchorPosition:"leftCenter",button:button,closePopover:function closePopover(){return setIsPopoverOpen(false)},id:"ruleActionsOverflow",isOpen:isPopoverOpen,ownFocus:true,panelPaddingSize:"none"},_react.default.createElement(_eui.EuiContextMenuPanel,{items:actions})),_react.default.createElement(_rule_downloader.RuleDownloader,{filename:"".concat(i18nActions.EXPORT_FILENAME,".ndjson"),ruleIds:rulesToExport,onExportComplete:function onExportComplete(exportCount){(0,_toasters.displaySuccessToast)(i18nActions.SUCCESSFULLY_EXPORTED_RULES(exportCount),dispatchToaster)}}))};var RuleActionsOverflow=_react.default.memo(RuleActionsOverflowComponent);exports.RuleActionsOverflow=RuleActionsOverflow;RuleActionsOverflow.displayName="RuleActionsOverflow"},8935:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ALL_ACTIONS=void 0;var _i18n=__webpack_require__(2);var ALL_ACTIONS=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.components.ruleActionsOverflow.allActionsTitle",{defaultMessage:"All actions"});exports.ALL_ACTIONS=ALL_ACTIONS},8936:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EXPORT_FAILURE=void 0;var _i18n=__webpack_require__(2);var EXPORT_FAILURE=_i18n.i18n.translate("xpack.siem.detectionEngine.rules.components.ruleDownloader.exportFailureTitle",{defaultMessage:"Failed to export rules"});exports.EXPORT_FAILURE=EXPORT_FAILURE},8937:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RuleStatusFailedCallOut=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _formatted_date=__webpack_require__(7027);var i18n=_interopRequireWildcard(__webpack_require__(7358));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var RuleStatusFailedCallOutComponent=function RuleStatusFailedCallOutComponent(_ref){var date=_ref.date,message=_ref.message;return _react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",justifyContent:"flexStart"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},i18n.ERROR_CALLOUT_TITLE),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_formatted_date.FormattedDate,{value:date,fieldName:"last_failure_at"}))),color:"danger",iconType:"alert"},_react.default.createElement("p",null,message))};var RuleStatusFailedCallOut=(0,_react.memo)(RuleStatusFailedCallOutComponent);exports.RuleStatusFailedCallOut=RuleStatusFailedCallOut},8938:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FailureHistory=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _rules=__webpack_require__(7059);var _header_section=__webpack_require__(7050);var i18n=_interopRequireWildcard(__webpack_require__(7358));var _formatted_date=__webpack_require__(7027);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var FailureHistoryComponent=function FailureHistoryComponent(_ref){var id=_ref.id;var _useRuleStatus=(0,_rules.useRuleStatus)(id),_useRuleStatus2=_slicedToArray(_useRuleStatus,2),loading=_useRuleStatus2[0],ruleStatus=_useRuleStatus2[1];if(loading){return _react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_header_section.HeaderSection,{title:i18n.LAST_FIVE_ERRORS}),_react.default.createElement(_eui.EuiLoadingContent,null))}var columns=[{name:i18n.COLUMN_STATUS_TYPE,render:function render(){return _react.default.createElement(_eui.EuiHealth,{color:"danger"},i18n.TYPE_FAILED)},truncateText:false,width:"16%"},{field:"last_failure_at",name:i18n.COLUMN_FAILED_AT,render:function render(value){return _react.default.createElement(_formatted_date.FormattedDate,{value:value,fieldName:"last_failure_at"})},sortable:false,truncateText:false,width:"24%"},{field:"last_failure_message",name:i18n.COLUMN_FAILED_MSG,render:function render(value){return _react.default.createElement(_react.default.Fragment,null,value)},sortable:false,truncateText:false,width:"60%"}];return _react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_header_section.HeaderSection,{title:i18n.LAST_FIVE_ERRORS}),_react.default.createElement(_eui.EuiBasicTable,{columns:columns,loading:loading,items:ruleStatus!=null?ruleStatus===null||ruleStatus===void 0?void 0:ruleStatus.failures.filter((function(rs){return rs.last_failure_at!=null})):[],sorting:{sort:{field:"status_date",direction:"desc"}}}))};var FailureHistory=(0,_react.memo)(FailureHistoryComponent);exports.FailureHistory=FailureHistory},8939:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RuleStatus=void 0;var _eui=__webpack_require__(1);var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _rules=__webpack_require__(7059);var _formatted_date=__webpack_require__(7027);var _empty_value=__webpack_require__(7017);var _helpers=__webpack_require__(7685);var i18n=_interopRequireWildcard(__webpack_require__(8940));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RuleStatusComponent=function RuleStatusComponent(_ref){var _ref2,_ref4,_ref5;var ruleId=_ref.ruleId,ruleEnabled=_ref.ruleEnabled;var _useRuleStatus=(0,_rules.useRuleStatus)(ruleId),_useRuleStatus2=_slicedToArray(_useRuleStatus,3),loading=_useRuleStatus2[0],ruleStatus=_useRuleStatus2[1],fetchRuleStatus=_useRuleStatus2[2];var _useState=(0,_react.useState)(ruleEnabled!==null&&ruleEnabled!==void 0?ruleEnabled:null),_useState2=_slicedToArray(_useState,2),myRuleEnabled=_useState2[0],setMyRuleEnabled=_useState2[1];var _useState3=(0,_react.useState)((_ref2=ruleStatus===null||ruleStatus===void 0?void 0:ruleStatus.current_status)!==null&&_ref2!==void 0?_ref2:null),_useState4=_slicedToArray(_useState3,2),currentStatus=_useState4[0],setCurrentStatus=_useState4[1];(0,_react.useEffect)((function(){if(myRuleEnabled!==ruleEnabled&&fetchRuleStatus!=null&&ruleId!=null){fetchRuleStatus(ruleId);if(myRuleEnabled!==ruleEnabled){setMyRuleEnabled(ruleEnabled!==null&&ruleEnabled!==void 0?ruleEnabled:null)}}}),[fetchRuleStatus,myRuleEnabled,ruleId,ruleEnabled,setMyRuleEnabled]);(0,_react.useEffect)((function(){if(!(0,_fp.isEqual)(currentStatus,ruleStatus===null||ruleStatus===void 0?void 0:ruleStatus.current_status)){var _ref3;setCurrentStatus((_ref3=ruleStatus===null||ruleStatus===void 0?void 0:ruleStatus.current_status)!==null&&_ref3!==void 0?_ref3:null)}}),[currentStatus,ruleStatus,setCurrentStatus]);var handleRefresh=(0,_react.useCallback)((function(){if(fetchRuleStatus!=null&&ruleId!=null){fetchRuleStatus(ruleId)}}),[fetchRuleStatus,ruleId]);return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",justifyContent:"flexStart"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},i18n.STATUS,":"),loading&&_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m","data-test-subj":"rule-status-loader"})),!loading&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiHealth,{color:(0,_helpers.getStatusColor)((_ref4=currentStatus===null||currentStatus===void 0?void 0:currentStatus.status)!==null&&_ref4!==void 0?_ref4:null)},_react.default.createElement(_eui.EuiText,{size:"xs"},(_ref5=currentStatus===null||currentStatus===void 0?void 0:currentStatus.status)!==null&&_ref5!==void 0?_ref5:(0,_empty_value.getEmptyTagValue)()))),(currentStatus===null||currentStatus===void 0?void 0:currentStatus.status_date)!=null&&(currentStatus===null||currentStatus===void 0?void 0:currentStatus.status)!=null&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_react.default.Fragment,null,i18n.STATUS_AT)),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_formatted_date.FormattedDate,{value:currentStatus===null||currentStatus===void 0?void 0:currentStatus.status_date,fieldName:i18n.STATUS_DATE}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonIcon,{color:"primary",onClick:handleRefresh,iconType:"refresh","aria-label":i18n.REFRESH}))))};var RuleStatus=(0,_react.memo)(RuleStatusComponent);exports.RuleStatus=RuleStatus},8940:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.REFRESH=exports.STATUS_DATE=exports.STATUS_AT=exports.STATUS=void 0;var _i18n=__webpack_require__(2);var STATUS=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleStatus.statusDescription",{defaultMessage:"Last response"});exports.STATUS=STATUS;var STATUS_AT=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleStatus.statusAtDescription",{defaultMessage:"at"});exports.STATUS_AT=STATUS_AT;var STATUS_DATE=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleStatus.statusDateDescription",{defaultMessage:"Status date"});exports.STATUS_DATE=STATUS_DATE;var REFRESH=_i18n.i18n.translate("xpack.siem.detectionEngine.ruleStatus.refreshButton",{defaultMessage:"Refresh"});exports.REFRESH=REFRESH},8941:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RulesPage=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _rules=__webpack_require__(7059);var _redirect_to_detection_engine=__webpack_require__(7043);var _detection_engine_header_page=__webpack_require__(7163);var _wrapper_page=__webpack_require__(7054);var _spy_routes=__webpack_require__(7057);var _user_info=__webpack_require__(7138);var _all=__webpack_require__(8942);var _import_rule_modal=__webpack_require__(8950);var _read_only_callout=__webpack_require__(7681);var _update_callout=__webpack_require__(8952);var _helpers=__webpack_require__(7093);var i18n=_interopRequireWildcard(__webpack_require__(7031));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RulesPageComponent=function RulesPageComponent(){var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),showImportModal=_useState2[0],setShowImportModal=_useState2[1];var refreshRulesData=(0,_react.useRef)(null);var _useUserInfo=(0,_user_info.useUserInfo)(),loading=_useUserInfo.loading,isSignalIndexExists=_useUserInfo.isSignalIndexExists,isAuthenticated=_useUserInfo.isAuthenticated,hasEncryptionKey=_useUserInfo.hasEncryptionKey,canUserCRUD=_useUserInfo.canUserCRUD,hasIndexWrite=_useUserInfo.hasIndexWrite,hasManageApiKey=_useUserInfo.hasManageApiKey;var _usePrePackagedRules=(0,_rules.usePrePackagedRules)({canUserCRUD:canUserCRUD,hasIndexWrite:hasIndexWrite,hasManageApiKey:hasManageApiKey,isSignalIndexExists:isSignalIndexExists,isAuthenticated:isAuthenticated,hasEncryptionKey:hasEncryptionKey}),createPrePackagedRules=_usePrePackagedRules.createPrePackagedRules,prePackagedRuleLoading=_usePrePackagedRules.loading,loadingCreatePrePackagedRules=_usePrePackagedRules.loadingCreatePrePackagedRules,refetchPrePackagedRulesStatus=_usePrePackagedRules.refetchPrePackagedRulesStatus,rulesCustomInstalled=_usePrePackagedRules.rulesCustomInstalled,rulesInstalled=_usePrePackagedRules.rulesInstalled,rulesNotInstalled=_usePrePackagedRules.rulesNotInstalled,rulesNotUpdated=_usePrePackagedRules.rulesNotUpdated;var prePackagedRuleStatus=(0,_helpers.getPrePackagedRuleStatus)(rulesInstalled,rulesNotInstalled,rulesNotUpdated);var userHasNoPermissions=canUserCRUD!=null&&hasManageApiKey!=null?!canUserCRUD||!hasManageApiKey:false;var handleRefreshRules=(0,_react.useCallback)((function _callee(){return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(refreshRulesData.current!=null){refreshRulesData.current(true)}case 1:case"end":return _context.stop()}}}))}),[refreshRulesData]);var handleCreatePrePackagedRules=(0,_react.useCallback)((function _callee2(){return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(createPrePackagedRules!=null)){_context2.next=4;break}_context2.next=3;return regeneratorRuntime.awrap(createPrePackagedRules());case 3:handleRefreshRules();case 4:case"end":return _context2.stop()}}}))}),[createPrePackagedRules,handleRefreshRules]);var handleRefetchPrePackagedRulesStatus=(0,_react.useCallback)((function(){if(refetchPrePackagedRulesStatus!=null){refetchPrePackagedRulesStatus()}}),[refetchPrePackagedRulesStatus]);var handleSetRefreshRulesData=(0,_react.useCallback)((function(refreshRule){refreshRulesData.current=refreshRule}),[]);if((0,_helpers.redirectToDetections)(isSignalIndexExists,isAuthenticated,hasEncryptionKey)){return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_redirect_to_detection_engine.DETECTION_ENGINE_PAGE_NAME)})}return _react.default.createElement(_react.default.Fragment,null,userHasNoPermissions&&_react.default.createElement(_read_only_callout.ReadOnlyCallOut,null),_react.default.createElement(_import_rule_modal.ImportRuleModal,{showModal:showImportModal,closeModal:function closeModal(){return setShowImportModal(false)},importComplete:handleRefreshRules}),_react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_detection_engine_header_page.DetectionEngineHeaderPage,{backOptions:{href:(0,_redirect_to_detection_engine.getDetectionEngineUrl)(),text:i18n.BACK_TO_DETECTION_ENGINE},title:i18n.PAGE_TITLE},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:false,wrap:true},prePackagedRuleStatus==="ruleNotInstalled"&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{iconType:"indexOpen",isLoading:loadingCreatePrePackagedRules,isDisabled:userHasNoPermissions||loading,onClick:handleCreatePrePackagedRules},i18n.LOAD_PREPACKAGED_RULES)),prePackagedRuleStatus==="someRuleUninstall"&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{iconType:"plusInCircle",isLoading:loadingCreatePrePackagedRules,isDisabled:userHasNoPermissions||loading,onClick:handleCreatePrePackagedRules},i18n.RELOAD_MISSING_PREPACKAGED_RULES(rulesNotInstalled!==null&&rulesNotInstalled!==void 0?rulesNotInstalled:0))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{iconType:"importAction",isDisabled:userHasNoPermissions||loading,onClick:function onClick(){setShowImportModal(true)}},i18n.IMPORT_RULE)),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,href:(0,_redirect_to_detection_engine.getCreateRuleUrl)(),iconType:"plusInCircle",isDisabled:userHasNoPermissions||loading},i18n.ADD_NEW_RULE)))),prePackagedRuleStatus==="ruleNeedUpdate"&&_react.default.createElement(_update_callout.UpdatePrePackagedRulesCallOut,{loading:loadingCreatePrePackagedRules,numberOfUpdatedRules:rulesNotUpdated!==null&&rulesNotUpdated!==void 0?rulesNotUpdated:0,updateRules:handleCreatePrePackagedRules}),_react.default.createElement(_all.AllRules,{createPrePackagedRules:createPrePackagedRules,loading:loading||prePackagedRuleLoading,loadingCreatePrePackagedRules:loadingCreatePrePackagedRules,hasNoPermissions:userHasNoPermissions,refetchPrePackagedRulesStatus:handleRefetchPrePackagedRulesStatus,rulesCustomInstalled:rulesCustomInstalled,rulesInstalled:rulesInstalled,rulesNotInstalled:rulesNotInstalled,rulesNotUpdated:rulesNotUpdated,setRefreshRulesData:handleSetRefreshRulesData})),_react.default.createElement(_spy_routes.SpyRoute,null))};var RulesPage=_react.default.memo(RulesPageComponent);exports.RulesPage=RulesPage},8942:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AllRules=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _uuid=_interopRequireDefault(__webpack_require__(86));var _rules=__webpack_require__(7059);var _header_section=__webpack_require__(7050);var _utility_bar=__webpack_require__(7660);var _toasters=__webpack_require__(7019);var _loader=__webpack_require__(7091);var _panel=__webpack_require__(7154);var _load_empty_prompt=__webpack_require__(8943);var _rule_downloader=__webpack_require__(7684);var _helpers=__webpack_require__(7093);var i18n=_interopRequireWildcard(__webpack_require__(7031));var _batch_actions=__webpack_require__(8944);var _columns=__webpack_require__(8945);var _helpers2=__webpack_require__(7683);var _reducer=__webpack_require__(8946);var _rules_table_filters=__webpack_require__(8947);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var MyEuiBasicTable=(0,_styledComponents.default)(_eui.EuiBasicTable).withConfig({displayName:"MyEuiBasicTable",componentId:"sc-2rfoae-0"})([""]);var initialState={exportRuleIds:[],filterOptions:{filter:"",sortField:"enabled",sortOrder:"desc"},loadingRuleIds:[],loadingRulesAction:null,pagination:{page:1,perPage:20,total:0},rules:[],selectedRuleIds:[]};var AllRules=_react.default.memo((function(_ref){var _pagination$total,_ref4;var createPrePackagedRules=_ref.createPrePackagedRules,hasNoPermissions=_ref.hasNoPermissions,loading=_ref.loading,loadingCreatePrePackagedRules=_ref.loadingCreatePrePackagedRules,refetchPrePackagedRulesStatus=_ref.refetchPrePackagedRulesStatus,rulesCustomInstalled=_ref.rulesCustomInstalled,rulesInstalled=_ref.rulesInstalled,rulesNotInstalled=_ref.rulesNotInstalled,rulesNotUpdated=_ref.rulesNotUpdated,setRefreshRulesData=_ref.setRefreshRulesData;var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),initLoading=_useState2[0],setInitLoading=_useState2[1];var tableRef=(0,_react.useRef)();var _useReducer=(0,_react.useReducer)((0,_reducer.allRulesReducer)(tableRef),initialState),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],exportRuleIds=_useReducer2$.exportRuleIds,filterOptions=_useReducer2$.filterOptions,loadingRuleIds=_useReducer2$.loadingRuleIds,loadingRulesAction=_useReducer2$.loadingRulesAction,pagination=_useReducer2$.pagination,rules=_useReducer2$.rules,selectedRuleIds=_useReducer2$.selectedRuleIds,dispatch=_useReducer2[1];var history=(0,_reactRouterDom.useHistory)();var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];var setRules=(0,_react.useCallback)((function(newRules,newPagination){dispatch({type:"setRules",rules:newRules,pagination:newPagination})}),[]);var _useRules=(0,_rules.useRules)({pagination:pagination,filterOptions:filterOptions,refetchPrePackagedRulesStatus:refetchPrePackagedRulesStatus,dispatchRulesInReducer:setRules}),_useRules2=_slicedToArray(_useRules,3),isLoadingRules=_useRules2[0],reFetchRulesData=_useRules2[2];var prePackagedRuleStatus=(0,_helpers.getPrePackagedRuleStatus)(rulesInstalled,rulesNotInstalled,rulesNotUpdated);var getBatchItemsPopoverContent=(0,_react.useCallback)((function(closePopover){return _react.default.createElement(_eui.EuiContextMenuPanel,{items:(0,_batch_actions.getBatchItems)({closePopover:closePopover,dispatch:dispatch,dispatchToaster:dispatchToaster,loadingRuleIds:loadingRuleIds,selectedRuleIds:selectedRuleIds,reFetchRules:reFetchRulesData,rules:rules})})}),[dispatch,dispatchToaster,loadingRuleIds,reFetchRulesData,rules,selectedRuleIds]);var tableOnChangeCallback=(0,_react.useCallback)((function(_ref2){var _ref3;var page=_ref2.page,sort=_ref2.sort;dispatch({type:"updateFilterOptions",filterOptions:{sortField:"enabled",sortOrder:(_ref3=sort===null||sort===void 0?void 0:sort.direction)!==null&&_ref3!==void 0?_ref3:"desc"},pagination:{page:page.index+1,perPage:page.size}})}),[dispatch]);var columns=(0,_react.useMemo)((function(){return(0,_columns.getColumns)({dispatch:dispatch,dispatchToaster:dispatchToaster,history:history,hasNoPermissions:hasNoPermissions,loadingRuleIds:loadingRulesAction!=null&&(loadingRulesAction==="enable"||loadingRulesAction==="disable")?loadingRuleIds:[],reFetchRules:reFetchRulesData})}),[dispatch,dispatchToaster,history,loadingRuleIds,loadingRulesAction,reFetchRulesData]);(0,_react.useEffect)((function(){if(reFetchRulesData!=null){setRefreshRulesData(reFetchRulesData)}}),[reFetchRulesData,setRefreshRulesData]);(0,_react.useEffect)((function(){if(initLoading&&!loading&&!isLoadingRules){setInitLoading(false)}}),[initLoading,loading,isLoadingRules]);var handleCreatePrePackagedRules=(0,_react.useCallback)((function _callee(){return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(createPrePackagedRules!=null&&reFetchRulesData!=null)){_context.next=4;break}_context.next=3;return regeneratorRuntime.awrap(createPrePackagedRules());case 3:reFetchRulesData(true);case 4:case"end":return _context.stop()}}}))}),[createPrePackagedRules,reFetchRulesData]);var euiBasicTableSelectionProps=(0,_react.useMemo)((function(){return{selectable:function selectable(item){return!loadingRuleIds.includes(item.id)},onSelectionChange:function onSelectionChange(selected){return dispatch({type:"selectedRuleIds",ids:selected.map((function(r){return r.id}))})}}}),[loadingRuleIds]);var onFilterChangedCallback=(0,_react.useCallback)((function(newFilterOptions){dispatch({type:"updateFilterOptions",filterOptions:_objectSpread({},newFilterOptions),pagination:{page:1}})}),[]);var emptyPrompt=(0,_react.useMemo)((function(){return _react.default.createElement(_eui.EuiEmptyPrompt,{title:_react.default.createElement("h3",null,i18n.NO_RULES),titleSize:"xs",body:i18n.NO_RULES_BODY})}),[]);var isLoadingAnActionOnRule=(0,_react.useMemo)((function(){if(loadingRuleIds.length>0&&(loadingRulesAction==="disable"||loadingRulesAction==="enable")){return false}else if(loadingRuleIds.length>0){return true}return false}),[loadingRuleIds,loadingRulesAction]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_rule_downloader.RuleDownloader,{filename:"".concat(i18n.EXPORT_FILENAME,".ndjson"),ruleIds:exportRuleIds,onExportComplete:function onExportComplete(exportCount){dispatch({type:"loadingRuleIds",ids:[],actionType:null});dispatchToaster({type:"addToaster",toast:{id:_uuid.default.v4(),title:i18n.SUCCESSFULLY_EXPORTED_RULES(exportCount),color:"success",iconType:"check"}})}}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_panel.Panel,{loading:loading||isLoadingRules},_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_header_section.HeaderSection,{split:true,title:i18n.ALL_RULES},_react.default.createElement(_rules_table_filters.RulesTableFilters,{onFilterChanged:onFilterChangedCallback,rulesCustomInstalled:rulesCustomInstalled,rulesInstalled:rulesInstalled})),(loading||isLoadingRules||isLoadingAnActionOnRule)&&!initLoading&&_react.default.createElement(_loader.Loader,{"data-test-subj":"loadingPanelAllRulesTable",overlay:true,size:"xl"}),rulesCustomInstalled!=null&&rulesCustomInstalled===0&&prePackagedRuleStatus==="ruleNotInstalled"&&_react.default.createElement(_load_empty_prompt.PrePackagedRulesPrompt,{createPrePackagedRules:handleCreatePrePackagedRules,loading:loadingCreatePrePackagedRules,userHasNoPermissions:hasNoPermissions}),initLoading&&_react.default.createElement(_eui.EuiLoadingContent,{"data-test-subj":"initialLoadingPanelAllRulesTable",lines:10}),(0,_helpers2.showRulesTable)({rulesCustomInstalled:rulesCustomInstalled,rulesInstalled:rulesInstalled})&&!initLoading&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_utility_bar.UtilityBar,{border:true},_react.default.createElement(_utility_bar.UtilityBarSection,null,_react.default.createElement(_utility_bar.UtilityBarGroup,null,_react.default.createElement(_utility_bar.UtilityBarText,null,i18n.SHOWING_RULES((_pagination$total=pagination.total)!==null&&_pagination$total!==void 0?_pagination$total:0))),_react.default.createElement(_utility_bar.UtilityBarGroup,null,_react.default.createElement(_utility_bar.UtilityBarText,null,i18n.SELECTED_RULES(selectedRuleIds.length)),!hasNoPermissions&&_react.default.createElement(_utility_bar.UtilityBarAction,{iconSide:"right",iconType:"arrowDown",popoverContent:getBatchItemsPopoverContent},i18n.BATCH_ACTIONS),_react.default.createElement(_utility_bar.UtilityBarAction,{iconSide:"left",iconType:"refresh",onClick:function onClick(){return reFetchRulesData(true)}},i18n.REFRESH)))),_react.default.createElement(MyEuiBasicTable,{columns:columns,isSelectable:(_ref4=!hasNoPermissions)!==null&&_ref4!==void 0?_ref4:false,itemId:"id",items:rules!==null&&rules!==void 0?rules:[],noItemsMessage:emptyPrompt,onChange:tableOnChangeCallback,pagination:{pageIndex:pagination.page-1,pageSize:pagination.perPage,totalItemCount:pagination.total,pageSizeOptions:[5,10,20,50,100,200,300]},ref:tableRef,sorting:{sort:{field:"enabled",direction:filterOptions.sortOrder}},selection:hasNoPermissions?undefined:euiBasicTableSelectionProps})))))}));exports.AllRules=AllRules;AllRules.displayName="AllRules"},8943:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PrePackagedRulesPrompt=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _redirect_to_detection_engine=__webpack_require__(7043);var i18n=_interopRequireWildcard(__webpack_require__(7686));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var EmptyPrompt=(0,_styledComponents.default)(_eui.EuiEmptyPrompt).withConfig({displayName:"EmptyPrompt",componentId:"sc-158kmbb-0"})(["align-self:center;"]);var PrePackagedRulesPromptComponent=function PrePackagedRulesPromptComponent(_ref){var createPrePackagedRules=_ref.createPrePackagedRules,_ref$loading=_ref.loading,loading=_ref$loading===void 0?false:_ref$loading,_ref$userHasNoPermiss=_ref.userHasNoPermissions,userHasNoPermissions=_ref$userHasNoPermiss===void 0?true:_ref$userHasNoPermiss;var handlePreBuiltCreation=(0,_react.useCallback)((function(){createPrePackagedRules()}),[createPrePackagedRules]);return _react.default.createElement(EmptyPrompt,{iconType:"securityAnalyticsApp",title:_react.default.createElement("h2",null,i18n.PRE_BUILT_TITLE),body:_react.default.createElement("p",null,i18n.PRE_BUILT_MSG),actions:_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,iconType:"indexOpen",isDisabled:userHasNoPermissions,isLoading:loading,onClick:handlePreBuiltCreation},i18n.PRE_BUILT_ACTION)),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{isDisabled:userHasNoPermissions,href:"#".concat(_redirect_to_detection_engine.DETECTION_ENGINE_PAGE_NAME,"/rules/create"),iconType:"plusInCircle"},i18n.CREATE_RULE_ACTION)))})};var PrePackagedRulesPrompt=(0,_react.memo)(PrePackagedRulesPromptComponent);exports.PrePackagedRulesPrompt=PrePackagedRulesPrompt},8944:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getBatchItems=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var i18n=_interopRequireWildcard(__webpack_require__(7031));var _actions=__webpack_require__(7218);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getBatchItems=function getBatchItems(_ref){var closePopover=_ref.closePopover,dispatch=_ref.dispatch,dispatchToaster=_ref.dispatchToaster,loadingRuleIds=_ref.loadingRuleIds,reFetchRules=_ref.reFetchRules,rules=_ref.rules,selectedRuleIds=_ref.selectedRuleIds;var containsEnabled=selectedRuleIds.some((function(id){var _ref2,_rules$find;return(_ref2=(_rules$find=rules.find((function(r){return r.id===id})))===null||_rules$find===void 0?void 0:_rules$find.enabled)!==null&&_ref2!==void 0?_ref2:false}));var containsDisabled=selectedRuleIds.some((function(id){var _ref3,_rules$find2;return(_ref3=!((_rules$find2=rules.find((function(r){return r.id===id})))===null||_rules$find2===void 0?void 0:_rules$find2.enabled))!==null&&_ref3!==void 0?_ref3:false}));var containsLoading=selectedRuleIds.some((function(id){return loadingRuleIds.includes(id)}));var containsImmutable=selectedRuleIds.some((function(id){var _ref4,_rules$find3;return(_ref4=(_rules$find3=rules.find((function(r){return r.id===id})))===null||_rules$find3===void 0?void 0:_rules$find3.immutable)!==null&&_ref4!==void 0?_ref4:false}));return[_react.default.createElement(_eui.EuiContextMenuItem,{key:i18n.BATCH_ACTION_ACTIVATE_SELECTED,icon:"checkInCircleFilled",disabled:containsLoading||!containsDisabled,onClick:function _callee(){var deactivatedIds;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:closePopover();deactivatedIds=selectedRuleIds.filter((function(id){var _ref5,_rules$find4;return(_ref5=!((_rules$find4=rules.find((function(r){return r.id===id})))===null||_rules$find4===void 0?void 0:_rules$find4.enabled))!==null&&_ref5!==void 0?_ref5:false}));_context.next=4;return regeneratorRuntime.awrap((0,_actions.enableRulesAction)(deactivatedIds,true,dispatch,dispatchToaster));case 4:case"end":return _context.stop()}}}))}},i18n.BATCH_ACTION_ACTIVATE_SELECTED),_react.default.createElement(_eui.EuiContextMenuItem,{key:i18n.BATCH_ACTION_DEACTIVATE_SELECTED,icon:"crossInACircleFilled",disabled:containsLoading||!containsEnabled,onClick:function _callee2(){var activatedIds;return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:closePopover();activatedIds=selectedRuleIds.filter((function(id){var _ref6,_rules$find5;return(_ref6=(_rules$find5=rules.find((function(r){return r.id===id})))===null||_rules$find5===void 0?void 0:_rules$find5.enabled)!==null&&_ref6!==void 0?_ref6:false}));_context2.next=4;return regeneratorRuntime.awrap((0,_actions.enableRulesAction)(activatedIds,false,dispatch,dispatchToaster));case 4:case"end":return _context2.stop()}}}))}},i18n.BATCH_ACTION_DEACTIVATE_SELECTED),_react.default.createElement(_eui.EuiContextMenuItem,{key:i18n.BATCH_ACTION_EXPORT_SELECTED,icon:"exportAction",disabled:containsImmutable||containsLoading||selectedRuleIds.length===0,onClick:function onClick(){closePopover();(0,_actions.exportRulesAction)(rules.filter((function(r){return selectedRuleIds.includes(r.id)})).map((function(r){return r.rule_id})),dispatch)}},i18n.BATCH_ACTION_EXPORT_SELECTED),_react.default.createElement(_eui.EuiContextMenuItem,{key:i18n.BATCH_ACTION_DUPLICATE_SELECTED,icon:"copy",disabled:containsLoading||selectedRuleIds.length===0,onClick:function _callee3(){return regeneratorRuntime.async((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:closePopover();_context3.next=3;return regeneratorRuntime.awrap((0,_actions.duplicateRulesAction)(rules.filter((function(r){return selectedRuleIds.includes(r.id)})),selectedRuleIds,dispatch,dispatchToaster));case 3:reFetchRules(true);case 4:case"end":return _context3.stop()}}}))}},i18n.BATCH_ACTION_DUPLICATE_SELECTED),_react.default.createElement(_eui.EuiContextMenuItem,{key:i18n.BATCH_ACTION_DELETE_SELECTED,icon:"trash",title:containsImmutable?i18n.BATCH_ACTION_DELETE_SELECTED_IMMUTABLE:undefined,disabled:containsLoading||selectedRuleIds.length===0,onClick:function _callee4(){return regeneratorRuntime.async((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:closePopover();_context4.next=3;return regeneratorRuntime.awrap((0,_actions.deleteRulesAction)(selectedRuleIds,dispatch,dispatchToaster));case 3:reFetchRules(true);case 4:case"end":return _context4.stop()}}}))}},i18n.BATCH_ACTION_DELETE_SELECTED)]};exports.getBatchItems=getBatchItems},8945:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getColumns=exports.getActions=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _empty_value=__webpack_require__(7017);var _formatted_date=__webpack_require__(7027);var _redirect_to_detection_engine=__webpack_require__(7043);var _truncatable_text=__webpack_require__(7131);var _helpers=__webpack_require__(7685);var _rule_switch=__webpack_require__(7682);var _severity_badge=__webpack_require__(7667);var i18n=_interopRequireWildcard(__webpack_require__(7031));var _actions=__webpack_require__(7218);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getActions=function getActions(dispatch,dispatchToaster,history,reFetchRules){return[{description:i18n.EDIT_RULE_SETTINGS,type:"icon",icon:"visControls",name:i18n.EDIT_RULE_SETTINGS,onClick:function onClick(rowItem){return(0,_actions.editRuleAction)(rowItem,history)},enabled:function enabled(rowItem){return!rowItem.immutable}},{description:i18n.DUPLICATE_RULE,type:"icon",icon:"copy",name:i18n.DUPLICATE_RULE,onClick:function onClick(rowItem){return regeneratorRuntime.async((function onClick$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap((0,_actions.duplicateRulesAction)([rowItem],[rowItem.id],dispatch,dispatchToaster));case 2:_context.next=4;return regeneratorRuntime.awrap(reFetchRules(true));case 4:case"end":return _context.stop()}}}))}},{description:i18n.EXPORT_RULE,type:"icon",icon:"exportAction",name:i18n.EXPORT_RULE,onClick:function onClick(rowItem){return(0,_actions.exportRulesAction)([rowItem.rule_id],dispatch)},enabled:function enabled(rowItem){return!rowItem.immutable}},{description:i18n.DELETE_RULE,type:"icon",icon:"trash",name:i18n.DELETE_RULE,onClick:function onClick(rowItem){return regeneratorRuntime.async((function onClick$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return regeneratorRuntime.awrap((0,_actions.deleteRulesAction)([rowItem.id],dispatch,dispatchToaster));case 2:_context2.next=4;return regeneratorRuntime.awrap(reFetchRules(true));case 4:case"end":return _context2.stop()}}}))}}]};exports.getActions=getActions;var getColumns=function getColumns(_ref){var dispatch=_ref.dispatch,dispatchToaster=_ref.dispatchToaster,history=_ref.history,hasNoPermissions=_ref.hasNoPermissions,loadingRuleIds=_ref.loadingRuleIds,reFetchRules=_ref.reFetchRules;var cols=[{field:"name",name:i18n.COLUMN_RULE,render:function render(value,item){return _react.default.createElement(_eui.EuiLink,{href:(0,_redirect_to_detection_engine.getRuleDetailsUrl)(item.id)},value)},truncateText:true,width:"24%"},{field:"risk_score",name:i18n.COLUMN_RISK_SCORE,truncateText:true,width:"14%"},{field:"severity",name:i18n.COLUMN_SEVERITY,render:function render(value){return _react.default.createElement(_severity_badge.SeverityBadge,{value:value})},truncateText:true,width:"16%"},{field:"status_date",name:i18n.COLUMN_LAST_COMPLETE_RUN,render:function render(value){return value==null?(0,_empty_value.getEmptyTagValue)():_react.default.createElement(_formatted_date.FormattedDate,{value:value,fieldName:i18n.COLUMN_LAST_COMPLETE_RUN})},sortable:true,truncateText:true,width:"20%"},{field:"status",name:i18n.COLUMN_LAST_RESPONSE,render:function render(value){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiHealth,{color:(0,_helpers.getStatusColor)(value!==null&&value!==void 0?value:null)},value!==null&&value!==void 0?value:(0,_empty_value.getEmptyTagValue)()))},width:"16%",truncateText:true},{field:"tags",name:i18n.COLUMN_TAGS,render:function render(value){return _react.default.createElement(_truncatable_text.TruncatableText,null,value.map((function(tag,i){return _react.default.createElement(_eui.EuiBadge,{color:"hollow",key:"".concat(tag,"-").concat(i)},tag)})))},truncateText:true,width:"20%"},{align:"center",field:"activate",name:i18n.COLUMN_ACTIVATE,render:function render(value,item){return _react.default.createElement(_rule_switch.RuleSwitch,{dispatch:dispatch,id:item.id,enabled:item.enabled,isDisabled:hasNoPermissions,isLoading:loadingRuleIds.includes(item.id)})},sortable:true,width:"95px"}];var actions=[{actions:getActions(dispatch,dispatchToaster,history,reFetchRules),width:"40px"}];return hasNoPermissions?cols:[].concat(cols,actions)};exports.getColumns=getColumns},8946:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.allRulesReducer=void 0;function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var allRulesReducer=function allRulesReducer(tableRef){return function(state,action){switch(action.type){case"exportRuleIds":{return _objectSpread({},state,{loadingRuleIds:action.ids,loadingRulesAction:"export",exportRuleIds:action.ids})}case"loadingRuleIds":{return _objectSpread({},state,{loadingRuleIds:action.actionType==null?[]:[].concat(_toConsumableArray(state.loadingRuleIds),_toConsumableArray(action.ids)),loadingRulesAction:action.actionType})}case"selectedRuleIds":{return _objectSpread({},state,{selectedRuleIds:action.ids})}case"setRules":{if(tableRef!=null&&tableRef.current!=null&&tableRef.current.changeSelection!=null){tableRef.current.changeSelection([])}return _objectSpread({},state,{rules:action.rules,selectedRuleIds:[],loadingRuleIds:[],loadingRulesAction:null,pagination:_objectSpread({},state.pagination,{},action.pagination)})}case"updateRules":{if(state.rules!=null){var ruleIds=state.rules.map((function(r){return r.id}));var updatedRules=action.rules.reduce((function(rules,updatedRule){var newRules=rules;if(ruleIds.includes(updatedRule.id)){newRules=newRules.map((function(r){return updatedRule.id===r.id?updatedRule:r}))}else{newRules=[].concat(_toConsumableArray(newRules),[updatedRule])}return newRules}),state.rules);var updatedRuleIds=action.rules.map((function(r){return r.id}));var newLoadingRuleIds=state.loadingRuleIds.filter((function(id){return!updatedRuleIds.includes(id)}));return _objectSpread({},state,{rules:updatedRules,loadingRuleIds:newLoadingRuleIds,loadingRulesAction:newLoadingRuleIds.length===0?null:state.loadingRulesAction})}return state}case"updateFilterOptions":{return _objectSpread({},state,{filterOptions:_objectSpread({},state.filterOptions,{},action.filterOptions),pagination:_objectSpread({},state.pagination,{},action.pagination)})}case"failure":{return _objectSpread({},state,{rules:[]})}default:return state}}};exports.allRulesReducer=allRulesReducer},8947:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RulesTableFilters=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var i18n=_interopRequireWildcard(__webpack_require__(7031));var _use_tags=__webpack_require__(8948);var _tags_filter_popover=__webpack_require__(8949);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RulesTableFiltersComponent=function RulesTableFiltersComponent(_ref){var onFilterChanged=_ref.onFilterChanged,rulesCustomInstalled=_ref.rulesCustomInstalled,rulesInstalled=_ref.rulesInstalled;var _useState=(0,_react.useState)(""),_useState2=_slicedToArray(_useState,2),filter=_useState2[0],setFilter=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=_slicedToArray(_useState3,2),selectedTags=_useState4[0],setSelectedTags=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),showCustomRules=_useState6[0],setShowCustomRules=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=_slicedToArray(_useState7,2),showElasticRules=_useState8[0],setShowElasticRules=_useState8[1];var _useTags=(0,_use_tags.useTags)(),_useTags2=_slicedToArray(_useTags,3),isLoadingTags=_useTags2[0],tags=_useTags2[1],reFetchTags=_useTags2[2];(0,_react.useEffect)((function(){reFetchTags()}),[rulesCustomInstalled,rulesInstalled]);(0,_react.useEffect)((function(){onFilterChanged({filter:filter,showCustomRules:showCustomRules,showElasticRules:showElasticRules,tags:selectedTags})}),[filter,selectedTags,showCustomRules,showElasticRules,onFilterChanged]);var handleOnSearch=(0,_react.useCallback)((function(filterString){return setFilter(filterString.trim())}),[setFilter]);var handleElasticRulesClick=(0,_react.useCallback)((function(){setShowElasticRules(!showElasticRules);setShowCustomRules(false)}),[setShowElasticRules,showElasticRules,setShowCustomRules]);var handleCustomRulesClick=(0,_react.useCallback)((function(){setShowCustomRules(!showCustomRules);setShowElasticRules(false)}),[setShowElasticRules,showCustomRules,setShowCustomRules]);return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_eui.EuiFieldSearch,{"aria-label":i18n.SEARCH_RULES,fullWidth:true,incremental:false,placeholder:i18n.SEARCH_PLACEHOLDER,onSearch:handleOnSearch})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFilterGroup,null,_react.default.createElement(_tags_filter_popover.TagsFilterPopover,{tags:tags,onSelectedTagsChanged:setSelectedTags,isLoading:isLoadingTags}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFilterGroup,null,_react.default.createElement(_eui.EuiFilterButton,{hasActiveFilters:showElasticRules,onClick:handleElasticRulesClick,"data-test-subj":"show-elastic-rules-filter-button",withNext:true},i18n.ELASTIC_RULES,rulesInstalled!=null?" (".concat(rulesInstalled,")"):""),_react.default.createElement(_eui.EuiFilterButton,{hasActiveFilters:showCustomRules,onClick:handleCustomRulesClick,"data-test-subj":"show-custom-rules-filter-button"},_react.default.createElement(_react.default.Fragment,null,i18n.CUSTOM_RULES,rulesCustomInstalled!=null?" (".concat(rulesCustomInstalled,")"):"")))))};RulesTableFiltersComponent.displayName="RulesTableFiltersComponent";var RulesTableFilters=_react.default.memo(RulesTableFiltersComponent);exports.RulesTableFilters=RulesTableFilters;RulesTableFilters.displayName="RulesTableFilters"},8948:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useTags=void 0;var _fp=__webpack_require__(223);var _react=__webpack_require__(0);var _toasters=__webpack_require__(7019);var _api=__webpack_require__(7113);var _error_to_toaster=__webpack_require__(7039);var i18n=_interopRequireWildcard(__webpack_require__(7111));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useTags=function useTags(){var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),tags=_useState2[0],setTags=_useState2[1];var _useState3=(0,_react.useState)(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];var reFetchTags=(0,_react.useRef)(_fp.noop);(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;function fetchData(){var fetchTagsResult;return regeneratorRuntime.async((function fetchData$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return regeneratorRuntime.awrap((0,_api.fetchTags)({signal:abortCtrl.signal}));case 4:fetchTagsResult=_context.sent;if(isSubscribed){setTags(fetchTagsResult)}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);if(isSubscribed){(0,_error_to_toaster.errorToToaster)({title:i18n.TAG_FETCH_FAILURE,error:_context.t0,dispatchToaster:dispatchToaster})}case 11:if(isSubscribed){setLoading(false)}case 12:case"end":return _context.stop()}}}),null,null,[[1,8]])}fetchData();reFetchTags.current=fetchData;return function(){isSubscribed=false;abortCtrl.abort()}}),[]);return[loading,tags,reFetchTags.current]};exports.useTags=useTags},8949:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TagsFilterPopover=exports.TagsFilterPopoverComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var i18n=_interopRequireWildcard(__webpack_require__(7031));var _toggle_selected_group=__webpack_require__(7586);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ScrollableDiv=_styledComponents.default.div.withConfig({displayName:"ScrollableDiv",componentId:"y3c26h-0"})(["max-height:250px;overflow:auto;"]);var TagsFilterPopoverComponent=function TagsFilterPopoverComponent(_ref){var tags=_ref.tags,onSelectedTagsChanged=_ref.onSelectedTagsChanged;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isTagPopoverOpen=_useState2[0],setIsTagPopoverOpen=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=_slicedToArray(_useState3,2),selectedTags=_useState4[0],setSelectedTags=_useState4[1];(0,_react.useEffect)((function(){onSelectedTagsChanged(selectedTags)}),[selectedTags.sort().join()]);return _react.default.createElement(_eui.EuiPopover,{ownFocus:true,button:_react.default.createElement(_eui.EuiFilterButton,{"data-test-subj":"tags-filter-popover-button",iconType:"arrowDown",onClick:function onClick(){return setIsTagPopoverOpen(!isTagPopoverOpen)},isSelected:isTagPopoverOpen,hasActiveFilters:selectedTags.length>0,numActiveFilters:selectedTags.length},i18n.TAGS),isOpen:isTagPopoverOpen,closePopover:function closePopover(){return setIsTagPopoverOpen(!isTagPopoverOpen)},panelPaddingSize:"none"},_react.default.createElement(ScrollableDiv,null,tags.map((function(tag,index){return _react.default.createElement(_eui.EuiFilterSelectItem,{checked:selectedTags.includes(tag)?"on":undefined,key:"".concat(index,"-").concat(tag),onClick:function onClick(){return(0,_toggle_selected_group.toggleSelectedGroup)(tag,selectedTags,setSelectedTags)}},"".concat(tag))}))),tags.length===0&&_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",justifyContent:"spaceAround"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiText,null,i18n.NO_TAGS_AVAILABLE)))))};exports.TagsFilterPopoverComponent=TagsFilterPopoverComponent;TagsFilterPopoverComponent.displayName="TagsFilterPopoverComponent";var TagsFilterPopover=_react.default.memo(TagsFilterPopoverComponent);exports.TagsFilterPopover=TagsFilterPopover;TagsFilterPopover.displayName="TagsFilterPopover"},8950:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ImportRuleModal=exports.ImportRuleModalComponent=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _rules=__webpack_require__(7059);var _toasters=__webpack_require__(7019);var i18n=_interopRequireWildcard(__webpack_require__(8951));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ImportRuleModalComponent=function ImportRuleModalComponent(_ref){var showModal=_ref.showModal,closeModal=_ref.closeModal,importComplete=_ref.importComplete;var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),selectedFiles=_useState2[0],setSelectedFiles=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isImporting=_useState4[0],setIsImporting=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),overwrite=_useState6[0],setOverwrite=_useState6[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];var cleanupAndCloseModal=function cleanupAndCloseModal(){setIsImporting(false);setSelectedFiles(null);closeModal()};var importRulesCallback=(0,_react.useCallback)((function _callee(){var abortCtrl,importResponse,formattedErrors;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(selectedFiles!=null)){_context.next=17;break}setIsImporting(true);abortCtrl=new AbortController;_context.prev=3;_context.next=6;return regeneratorRuntime.awrap((0,_rules.importRules)({fileToImport:selectedFiles[0],overwrite:overwrite,signal:abortCtrl.signal}));case 6:importResponse=_context.sent;if(importResponse.success){(0,_toasters.displaySuccessToast)(i18n.SUCCESSFULLY_IMPORTED_RULES(importResponse.success_count),dispatchToaster)}if(importResponse.errors.length>0){formattedErrors=importResponse.errors.map((function(e){return i18n.IMPORT_FAILED_DETAILED(e.rule_id,e.error.status_code,e.error.message)}));(0,_toasters.displayErrorToast)(i18n.IMPORT_FAILED,formattedErrors,dispatchToaster)}importComplete();cleanupAndCloseModal();_context.next=17;break;case 13:_context.prev=13;_context.t0=_context["catch"](3);cleanupAndCloseModal();(0,_toasters.displayErrorToast)(i18n.IMPORT_FAILED,[_context.t0.message],dispatchToaster);case 17:case"end":return _context.stop()}}}),null,null,[[3,13]])}),[selectedFiles,overwrite]);var handleCloseModal=(0,_react.useCallback)((function(){setSelectedFiles(null);closeModal()}),[closeModal]);return _react.default.createElement(_react.default.Fragment,null,showModal&&_react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiModal,{onClose:closeModal,maxWidth:"750px"},_react.default.createElement(_eui.EuiModalHeader,null,_react.default.createElement(_eui.EuiModalHeaderTitle,null,i18n.IMPORT_RULE)),_react.default.createElement(_eui.EuiModalBody,null,_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("h4",null,i18n.SELECT_RULE)),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFilePicker,{id:"rule-file-picker",initialPromptText:i18n.INITIAL_PROMPT_TEXT,onChange:function onChange(files){setSelectedFiles(Object.keys(files).length>0?files:null)},display:"large",fullWidth:true,isLoading:isImporting}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCheckbox,{id:"rule-overwrite-saved-object",label:i18n.OVERWRITE_WITH_SAME_NAME,checked:overwrite,onChange:function onChange(){return setOverwrite(!overwrite)}})),_react.default.createElement(_eui.EuiModalFooter,null,_react.default.createElement(_eui.EuiButtonEmpty,{onClick:handleCloseModal},i18n.CANCEL_BUTTON),_react.default.createElement(_eui.EuiButton,{onClick:importRulesCallback,disabled:selectedFiles==null||isImporting,fill:true},i18n.IMPORT_RULE)))))};exports.ImportRuleModalComponent=ImportRuleModalComponent;ImportRuleModalComponent.displayName="ImportRuleModalComponent";var ImportRuleModal=_react.default.memo(ImportRuleModalComponent);exports.ImportRuleModal=ImportRuleModal;ImportRuleModal.displayName="ImportRuleModal"},8951:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IMPORT_FAILED_DETAILED=exports.IMPORT_FAILED=exports.SUCCESSFULLY_IMPORTED_RULES=exports.CANCEL_BUTTON=exports.OVERWRITE_WITH_SAME_NAME=exports.INITIAL_PROMPT_TEXT=exports.SELECT_RULE=exports.IMPORT_RULE=void 0;var _i18n=__webpack_require__(2);var IMPORT_RULE=_i18n.i18n.translate("xpack.siem.detectionEngine.components.importRuleModal.importRuleTitle",{defaultMessage:"Import rule"});exports.IMPORT_RULE=IMPORT_RULE;var SELECT_RULE=_i18n.i18n.translate("xpack.siem.detectionEngine.components.importRuleModal.selectRuleDescription",{defaultMessage:"Select a SIEM rule (as exported from the Detection Engine UI) to import"});exports.SELECT_RULE=SELECT_RULE;var INITIAL_PROMPT_TEXT=_i18n.i18n.translate("xpack.siem.detectionEngine.components.importRuleModal.initialPromptTextDescription",{defaultMessage:"Select or drag and drop a valid rules_export.ndjson file"});exports.INITIAL_PROMPT_TEXT=INITIAL_PROMPT_TEXT;var OVERWRITE_WITH_SAME_NAME=_i18n.i18n.translate("xpack.siem.detectionEngine.components.importRuleModal.overwriteDescription",{defaultMessage:"Automatically overwrite saved objects with the same rule ID"});exports.OVERWRITE_WITH_SAME_NAME=OVERWRITE_WITH_SAME_NAME;var CANCEL_BUTTON=_i18n.i18n.translate("xpack.siem.detectionEngine.components.importRuleModal.cancelTitle",{defaultMessage:"Cancel"});exports.CANCEL_BUTTON=CANCEL_BUTTON;var SUCCESSFULLY_IMPORTED_RULES=function SUCCESSFULLY_IMPORTED_RULES(totalRules){return _i18n.i18n.translate("xpack.siem.detectionEngine.components.importRuleModal.successfullyImportedRulesTitle",{values:{totalRules:totalRules},defaultMessage:"Successfully imported {totalRules} {totalRules, plural, =1 {rule} other {rules}}"})};exports.SUCCESSFULLY_IMPORTED_RULES=SUCCESSFULLY_IMPORTED_RULES;var IMPORT_FAILED=_i18n.i18n.translate("xpack.siem.detectionEngine.components.importRuleModal.importFailedTitle",{defaultMessage:"Failed to import rules"});exports.IMPORT_FAILED=IMPORT_FAILED;var IMPORT_FAILED_DETAILED=function IMPORT_FAILED_DETAILED(ruleId,statusCode,message){return _i18n.i18n.translate("xpack.siem.detectionEngine.components.importRuleModal.importFailedDetailedTitle",{values:{ruleId:ruleId,statusCode:statusCode,message:message},defaultMessage:"Rule ID: {ruleId}\n Status Code: {statusCode}\n Message: {message}"})};exports.IMPORT_FAILED_DETAILED=IMPORT_FAILED_DETAILED},8952:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpdatePrePackagedRulesCallOut=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var i18n=_interopRequireWildcard(__webpack_require__(7686));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var UpdatePrePackagedRulesCallOutComponent=function UpdatePrePackagedRulesCallOutComponent(_ref){var loading=_ref.loading,numberOfUpdatedRules=_ref.numberOfUpdatedRules,updateRules=_ref.updateRules;return _react.default.createElement(_eui.EuiCallOut,{title:i18n.UPDATE_PREPACKAGED_RULES_TITLE},_react.default.createElement("p",null,i18n.UPDATE_PREPACKAGED_RULES_MSG(numberOfUpdatedRules)),_react.default.createElement(_eui.EuiButton,{onClick:updateRules,size:"s",isLoading:loading},i18n.UPDATE_PREPACKAGED_RULES(numberOfUpdatedRules)))};var UpdatePrePackagedRulesCallOut=(0,_react.memo)(UpdatePrePackagedRulesCallOutComponent);exports.UpdatePrePackagedRulesCallOut=UpdatePrePackagedRulesCallOut},8953:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HostsContainer=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _details=__webpack_require__(8954);var _model=__webpack_require__(504);var _global_time=__webpack_require__(7164);var _types=__webpack_require__(7030);var _hosts=__webpack_require__(8996);var _types2=__webpack_require__(9001);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getHostsTabPath=function getHostsTabPath(pagePath){return"".concat(pagePath,"/:tabName(")+"".concat(_model.HostsTableType.hosts,"|")+"".concat(_model.HostsTableType.authentications,"|")+"".concat(_model.HostsTableType.uncommonProcesses,"|")+"".concat(_model.HostsTableType.anomalies,"|")+"".concat(_model.HostsTableType.events,"|")+"".concat(_model.HostsTableType.alerts,")")};var getHostDetailsTabPath=function getHostDetailsTabPath(pagePath){return"".concat(_types2.hostDetailsPagePath,"/:tabName(")+"".concat(_model.HostsTableType.authentications,"|")+"".concat(_model.HostsTableType.uncommonProcesses,"|")+"".concat(_model.HostsTableType.anomalies,"|")+"".concat(_model.HostsTableType.events,"|")+"".concat(_model.HostsTableType.alerts,")")};var HostsContainer=_react.default.memo((function(_ref){var url=_ref.url;return _react.default.createElement(_global_time.GlobalTime,null,(function(_ref2){var to=_ref2.to,from=_ref2.from,setQuery=_ref2.setQuery,deleteQuery=_ref2.deleteQuery,isInitializing=_ref2.isInitializing;return _react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{strict:true,exact:true,path:getHostsTabPath(_types2.hostsPagePath),render:function render(){return _react.default.createElement(_hosts.Hosts,{hostsPagePath:_types2.hostsPagePath,from:from,to:to,setQuery:setQuery,isInitializing:isInitializing,deleteQuery:deleteQuery})}}),_react.default.createElement(_reactRouterDom.Route,{strict:true,path:getHostDetailsTabPath(_types2.hostsPagePath),render:function render(props){return _react.default.createElement(_details.HostDetails,{hostDetailsPagePath:_types2.hostDetailsPagePath,detailName:props.match.params.detailName,from:from,to:to,setQuery:setQuery,isInitializing:isInitializing,deleteQuery:deleteQuery})}}),_react.default.createElement(_reactRouterDom.Route,{path:_types2.hostDetailsPagePath,render:function render(_ref3){var detailName=_ref3.match.params.detailName,_ref3$location$search=_ref3.location.search,search=_ref3$location$search===void 0?"":_ref3$location$search;return _react.default.createElement(_reactRouterDom.Redirect,{to:"".concat(url,"/").concat(detailName,"/").concat(_model.HostsTableType.authentications).concat(search)})}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(_types2.hostsPagePath,"/"),render:function render(_ref4){var _ref4$location$search=_ref4.location.search,search=_ref4$location$search===void 0?"":_ref4$location$search;return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_types.SiemPageName.hosts,"/").concat(_model.HostsTableType.hosts).concat(search)})}}))}))}));exports.HostsContainer=HostsContainer;HostsContainer.displayName="HostsContainer"},8954:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HostDetails=exports.makeMapStateToProps=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _reactSticky=__webpack_require__(1001);var _redux=__webpack_require__(7020);var _filters_global=__webpack_require__(7107);var _header_page=__webpack_require__(7130);var _last_event_time=__webpack_require__(7203);var _anomaly_table_provider=__webpack_require__(7592);var _host_to_criteria=__webpack_require__(8955);var _has_ml_user_permissions=__webpack_require__(7078);var _ml_capabilities_provider=__webpack_require__(7064);var _score_interval_to_datetime=__webpack_require__(7152);var _navigation=__webpack_require__(7149);var _hosts=__webpack_require__(7219);var _host_overview=__webpack_require__(8967);var _manage_query=__webpack_require__(7028);var _search_bar=__webpack_require__(7079);var _wrapper_page=__webpack_require__(7054);var _overview=__webpack_require__(8972);var _kpi_host_details=__webpack_require__(8974);var _source=__webpack_require__(7042);var _types=__webpack_require__(671);var _kibana=__webpack_require__(7013);var _keury=__webpack_require__(1885);var _store=__webpack_require__(7016);var _actions=__webpack_require__(1076);var _actions2=__webpack_require__(984);var _spy_routes=__webpack_require__(7057);var _public=__webpack_require__(11);var _hosts_empty_page=__webpack_require__(7692);var _details_tabs=__webpack_require__(8976);var _nav_tabs=__webpack_require__(8994);var _utils=__webpack_require__(7319);var _helpers=__webpack_require__(8995);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var HostOverviewManage=(0,_manage_query.manageQuery)(_host_overview.HostOverview);var KpiHostDetailsManage=(0,_manage_query.manageQuery)(_hosts.KpiHostsComponent);var HostDetailsComponent=_react.default.memo((function(_ref){var filters=_ref.filters,from=_ref.from,isInitializing=_ref.isInitializing,query=_ref.query,setAbsoluteRangeDatePicker=_ref.setAbsoluteRangeDatePicker,setHostDetailsTablesActivePageToZero=_ref.setHostDetailsTablesActivePageToZero,setQuery=_ref.setQuery,to=_ref.to,detailName=_ref.detailName,deleteQuery=_ref.deleteQuery,hostDetailsPagePath=_ref.hostDetailsPagePath;(0,_react.useEffect)((function(){setHostDetailsTablesActivePageToZero(null)}),[setHostDetailsTablesActivePageToZero,detailName]);var capabilities=(0,_react.useContext)(_ml_capabilities_provider.MlCapabilitiesContext);var kibana=(0,_kibana.useKibana)();var hostDetailsPageFilters=(0,_react.useMemo)((function(){return(0,_helpers.getHostDetailsPageFilters)(detailName)}),[detailName]);var getFilters=function getFilters(){return[].concat(_toConsumableArray(hostDetailsPageFilters),_toConsumableArray(filters))};var narrowDateRange=(0,_react.useCallback)((function(min,max){setAbsoluteRangeDatePicker({id:"global",from:min,to:max})}),[setAbsoluteRangeDatePicker]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_source.WithSource,{sourceId:"default"},(function(_ref2){var indicesExist=_ref2.indicesExist,indexPattern=_ref2.indexPattern;var filterQuery=(0,_keury.convertToBuildEsQuery)({config:_public.esQuery.getEsQueryConfig(kibana.services.uiSettings),indexPattern:indexPattern,queries:[query],filters:getFilters()});return(0,_source.indicesExistOrDataTemporarilyUnavailable)(indicesExist)?_react.default.createElement(_reactSticky.StickyContainer,null,_react.default.createElement(_filters_global.FiltersGlobal,null,_react.default.createElement(_search_bar.SiemSearchBar,{indexPattern:indexPattern,id:"global"})),_react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_header_page.HeaderPage,{border:true,subtitle:_react.default.createElement(_last_event_time.LastEventTime,{indexKey:_types.LastEventIndexKey.hostDetails,hostName:detailName}),title:detailName}),_react.default.createElement(_overview.HostOverviewByNameQuery,{sourceId:"default",hostName:detailName,skip:isInitializing,startDate:from,endDate:to},(function(_ref3){var hostOverview=_ref3.hostOverview,loading=_ref3.loading,id=_ref3.id,inspect=_ref3.inspect,refetch=_ref3.refetch;return _react.default.createElement(_anomaly_table_provider.AnomalyTableProvider,{criteriaFields:(0,_host_to_criteria.hostToCriteria)(hostOverview),startDate:from,endDate:to,skip:isInitializing},(function(_ref4){var isLoadingAnomaliesData=_ref4.isLoadingAnomaliesData,anomaliesData=_ref4.anomaliesData;return _react.default.createElement(HostOverviewManage,{id:id,inspect:inspect,refetch:refetch,setQuery:setQuery,data:hostOverview,anomaliesData:anomaliesData,isLoadingAnomaliesData:isLoadingAnomaliesData,loading:loading,startDate:from,endDate:to,narrowDateRange:function narrowDateRange(score,interval){var fromTo=(0,_score_interval_to_datetime.scoreIntervalToDateTime)(score,interval);setAbsoluteRangeDatePicker({id:"global",from:fromTo.from,to:fromTo.to})}})}))})),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_kpi_host_details.KpiHostDetailsQuery,{sourceId:"default",filterQuery:filterQuery,skip:isInitializing,startDate:from,endDate:to},(function(_ref5){var kpiHostDetails=_ref5.kpiHostDetails,id=_ref5.id,inspect=_ref5.inspect,loading=_ref5.loading,refetch=_ref5.refetch;return _react.default.createElement(KpiHostDetailsManage,{data:kpiHostDetails,from:from,id:id,inspect:inspect,loading:loading,refetch:refetch,setQuery:setQuery,to:to,narrowDateRange:narrowDateRange})})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_navigation.SiemNavigation,{navTabs:(0,_nav_tabs.navTabsHostDetails)(detailName,(0,_has_ml_user_permissions.hasMlUserPermissions)(capabilities))}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_details_tabs.HostDetailsTabs,{isInitializing:isInitializing,deleteQuery:deleteQuery,pageFilters:hostDetailsPageFilters,to:to,from:from,detailName:detailName,type:_utils.type,setQuery:setQuery,filterQuery:filterQuery,hostDetailsPagePath:hostDetailsPagePath,indexPattern:indexPattern,setAbsoluteRangeDatePicker:setAbsoluteRangeDatePicker}))):_react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_header_page.HeaderPage,{border:true,title:detailName}),_react.default.createElement(_hosts_empty_page.HostsEmptyPage,null))})),_react.default.createElement(_spy_routes.SpyRoute,null))}));HostDetailsComponent.displayName="HostDetailsComponent";var makeMapStateToProps=function makeMapStateToProps(){var getGlobalQuerySelector=_store.inputsSelectors.globalQuerySelector();var getGlobalFiltersQuerySelector=_store.inputsSelectors.globalFiltersQuerySelector();return function(state){return{query:getGlobalQuerySelector(state),filters:getGlobalFiltersQuerySelector(state)}}};exports.makeMapStateToProps=makeMapStateToProps;var HostDetails=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps,{setAbsoluteRangeDatePicker:_actions2.setAbsoluteRangeDatePicker,setHostDetailsTablesActivePageToZero:_actions.setHostDetailsTablesActivePageToZero}))(HostDetailsComponent);exports.HostDetails=HostDetails},8955:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostToCriteria=void 0;var hostToCriteria=function hostToCriteria(hostItem){if(hostItem.host!=null&&hostItem.host.name!=null){var criteria=[{fieldName:"host.name",fieldValue:hostItem.host.name[0]}];return criteria}else{return[]}};exports.hostToCriteria=hostToCriteria},8956:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROWS_10=exports.ROWS_5=exports.USER=exports.FAILURES=exports.SUCCESSES=exports.LAST_FAILED_TIME=exports.LAST_FAILED_DESTINATION=exports.LAST_FAILED_SOURCE=exports.LAST_SUCCESSFUL_TIME=exports.LAST_SUCCESSFUL_DESTINATION=exports.LAST_SUCCESSFUL_SOURCE=exports.UNIT=exports.AUTHENTICATIONS=void 0;var _i18n=__webpack_require__(2);var AUTHENTICATIONS=_i18n.i18n.translate("xpack.siem.authenticationsTable.authenticationFailures",{defaultMessage:"Authentications"});exports.AUTHENTICATIONS=AUTHENTICATIONS;var UNIT=function UNIT(totalCount){return _i18n.i18n.translate("xpack.siem.authenticationsTable.unit",{values:{totalCount:totalCount},defaultMessage:"{totalCount, plural, =1 {user} other {users}}"})};exports.UNIT=UNIT;var LAST_SUCCESSFUL_SOURCE=_i18n.i18n.translate("xpack.siem.authenticationsTable.lastSuccessfulSource",{defaultMessage:"Last successful source"});exports.LAST_SUCCESSFUL_SOURCE=LAST_SUCCESSFUL_SOURCE;var LAST_SUCCESSFUL_DESTINATION=_i18n.i18n.translate("xpack.siem.authenticationsTable.lastSuccessfulDestination",{defaultMessage:"Last successful destination"});exports.LAST_SUCCESSFUL_DESTINATION=LAST_SUCCESSFUL_DESTINATION;var LAST_SUCCESSFUL_TIME=_i18n.i18n.translate("xpack.siem.authenticationsTable.lastSuccessfulTime",{defaultMessage:"Last success"});exports.LAST_SUCCESSFUL_TIME=LAST_SUCCESSFUL_TIME;var LAST_FAILED_SOURCE=_i18n.i18n.translate("xpack.siem.authenticationsTable.lastFailedSource",{defaultMessage:"Last failed source"});exports.LAST_FAILED_SOURCE=LAST_FAILED_SOURCE;var LAST_FAILED_DESTINATION=_i18n.i18n.translate("xpack.siem.authenticationsTable.lastFailedDestination",{defaultMessage:"Last failed destination"});exports.LAST_FAILED_DESTINATION=LAST_FAILED_DESTINATION;var LAST_FAILED_TIME=_i18n.i18n.translate("xpack.siem.authenticationsTable.lastFailedTime",{defaultMessage:"Last failure"});exports.LAST_FAILED_TIME=LAST_FAILED_TIME;var SUCCESSES=_i18n.i18n.translate("xpack.siem.authenticationsTable.successes",{defaultMessage:"Successes"});exports.SUCCESSES=SUCCESSES;var FAILURES=_i18n.i18n.translate("xpack.siem.authenticationsTable.failures",{defaultMessage:"Failures"});exports.FAILURES=FAILURES;var USER=_i18n.i18n.translate("xpack.siem.authenticationsTable.user",{defaultMessage:"User"});exports.USER=USER;var ROWS_5=_i18n.i18n.translate("xpack.siem.authenticationsTable.rows",{values:{numRows:5},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_5=ROWS_5;var ROWS_10=_i18n.i18n.translate("xpack.siem.authenticationsTable.rows",{values:{numRows:10},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_10=ROWS_10},8957:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HostsTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _actions=__webpack_require__(1882);var _types=__webpack_require__(671);var _helpers=__webpack_require__(7061);var _store=__webpack_require__(7016);var _paginated_table=__webpack_require__(7081);var _columns=__webpack_require__(8958);var i18n=_interopRequireWildcard(__webpack_require__(7689));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var tableType=_store.hostsModel.HostsTableType.hosts;var rowItems=[{text:i18n.ROWS_5,numberOfRow:5},{text:i18n.ROWS_10,numberOfRow:10}];var getSorting=function getSorting(trigger,sortField,direction){return{field:getNodeField(sortField),direction:direction}};var HostsTableComponent=_react.default.memo((function(_ref){var activePage=_ref.activePage,data=_ref.data,direction=_ref.direction,fakeTotalCount=_ref.fakeTotalCount,id=_ref.id,indexPattern=_ref.indexPattern,isInspect=_ref.isInspect,limit=_ref.limit,loading=_ref.loading,loadPage=_ref.loadPage,showMorePagesIndicator=_ref.showMorePagesIndicator,sortField=_ref.sortField,totalCount=_ref.totalCount,type=_ref.type,updateHostsSort=_ref.updateHostsSort,updateTableActivePage=_ref.updateTableActivePage,updateTableLimit=_ref.updateTableLimit;var updateLimitPagination=(0,_react.useCallback)((function(newLimit){return updateTableLimit({hostsType:type,limit:newLimit,tableType:tableType})}),[type,updateTableLimit]);var updateActivePage=(0,_react.useCallback)((function(newPage){return updateTableActivePage({activePage:newPage,hostsType:type,tableType:tableType})}),[type,updateTableActivePage]);var onChange=(0,_react.useCallback)((function(criteria){if(criteria.sort!=null){var sort={field:getSortField(criteria.sort.field),direction:criteria.sort.direction};if(sort.direction!==direction||sort.field!==sortField){updateHostsSort({sort:sort,hostsType:type})}}}),[direction,sortField,type,updateHostsSort]);var hostsColumns=(0,_react.useMemo)((function(){return(0,_columns.getHostsColumns)()}),[]);var sorting=(0,_react.useMemo)((function(){return getSorting("".concat(sortField,"-").concat(direction),sortField,direction)}),[sortField,direction]);return _react.default.createElement(_paginated_table.PaginatedTable,{activePage:activePage,columns:hostsColumns,dataTestSubj:"table-".concat(tableType),headerCount:totalCount,headerTitle:i18n.HOSTS,headerUnit:i18n.UNIT(totalCount),id:id,isInspect:isInspect,itemsPerRow:rowItems,limit:limit,loading:loading,loadPage:loadPage,onChange:onChange,pageOfItems:data,showMorePagesIndicator:showMorePagesIndicator,sorting:sorting,totalCount:fakeTotalCount,updateLimitPagination:updateLimitPagination,updateActivePage:updateActivePage})}));HostsTableComponent.displayName="HostsTableComponent";var getSortField=function getSortField(field){switch(field){case"node.host.name":return _types.HostsFields.hostName;case"node.lastSeen":return _types.HostsFields.lastSeen;default:return _types.HostsFields.lastSeen}};var getNodeField=function getNodeField(field){switch(field){case _types.HostsFields.hostName:return"node.host.name";case _types.HostsFields.lastSeen:return"node.lastSeen"}(0,_helpers.assertUnreachable)(field)};var makeMapStateToProps=function makeMapStateToProps(){var getHostsSelector=_store.hostsSelectors.hostsSelector();var mapStateToProps=function mapStateToProps(state,_ref2){var type=_ref2.type;return getHostsSelector(state,type)};return mapStateToProps};var HostsTable=(0,_reactRedux.connect)(makeMapStateToProps,{updateHostsSort:_actions.hostsActions.updateHostsSort,updateTableActivePage:_actions.hostsActions.updateTableActivePage,updateTableLimit:_actions.hostsActions.updateTableLimit})(HostsTableComponent);exports.HostsTable=HostsTable;HostsTable.displayName="HostsTable"},8958:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getHostsColumns=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _draggable_wrapper=__webpack_require__(7032);var _helpers=__webpack_require__(7021);var _empty_value=__webpack_require__(7017);var _links=__webpack_require__(7034);var _formatted_date=__webpack_require__(7027);var _data_provider=__webpack_require__(7024);var _provider=__webpack_require__(7051);var _add_filter_to_global_search_bar=__webpack_require__(7688);var i18n=_interopRequireWildcard(__webpack_require__(7689));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getHostsColumns=function getHostsColumns(){return[{field:"node.host.name",name:i18n.NAME,truncateText:false,hideForMobile:false,sortable:true,render:function render(hostName){if(hostName!=null&&hostName.length>0){var id=(0,_helpers.escapeDataProviderId)("hosts-table-hostName-".concat(hostName[0]));return _react.default.createElement(_draggable_wrapper.DraggableWrapper,{key:id,dataProvider:{and:[],enabled:true,excluded:false,id:id,name:hostName[0],kqlQuery:"",queryMatch:{field:"host.name",value:hostName[0],operator:_data_provider.IS_OPERATOR}},render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:dataProvider})):_react.default.createElement(_add_filter_to_global_search_bar.AddFilterToGlobalSearchBar,{filter:(0,_add_filter_to_global_search_bar.createFilter)("host.name",hostName[0])},_react.default.createElement(_links.HostDetailsLink,{hostName:hostName[0]}))}})}return(0,_empty_value.getEmptyTagValue)()},width:"35%"},{field:"node.lastSeen",name:_react.default.createElement(_eui.EuiToolTip,{content:i18n.FIRST_LAST_SEEN_TOOLTIP},_react.default.createElement(_react.default.Fragment,null,i18n.LAST_SEEN," ",_react.default.createElement(_eui.EuiIcon,{size:"s",color:"subdued",type:"iInCircle",className:"eui-alignTop"}))),truncateText:false,hideForMobile:false,sortable:true,render:function render(lastSeen){if(lastSeen!=null){return _react.default.createElement(_formatted_date.FormattedRelativePreferenceDate,{value:lastSeen})}return(0,_empty_value.getEmptyTagValue)()}},{field:"node.host.os.name",name:i18n.OS,truncateText:false,hideForMobile:false,sortable:false,render:function render(hostOsName){if(hostOsName!=null){return _react.default.createElement(_add_filter_to_global_search_bar.AddFilterToGlobalSearchBar,{filter:(0,_add_filter_to_global_search_bar.createFilter)("host.os.name",hostOsName)},_react.default.createElement(_react.default.Fragment,null,hostOsName))}return(0,_empty_value.getEmptyTagValue)()}},{field:"node.host.os.version",name:i18n.VERSION,truncateText:false,hideForMobile:false,sortable:false,render:function render(hostOsVersion){if(hostOsVersion!=null){return _react.default.createElement(_add_filter_to_global_search_bar.AddFilterToGlobalSearchBar,{filter:(0,_add_filter_to_global_search_bar.createFilter)("host.os.version",hostOsVersion)},_react.default.createElement(_react.default.Fragment,null,hostOsVersion))}return(0,_empty_value.getEmptyTagValue)()}}]};exports.getHostsColumns=getHostsColumns},8959:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FILTER_FOR_VALUE=void 0;var _i18n=__webpack_require__(2);var FILTER_FOR_VALUE=_i18n.i18n.translate("xpack.siem.add_filter_to_global_search_bar.filterForValueHoverAction",{defaultMessage:"Filter for value"});exports.FILTER_FOR_VALUE=FILTER_FOR_VALUE},8960:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createFilter=void 0;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var createFilter=function createFilter(key,value){var queryValue=value!=null?Array.isArray(value)?value[0]:value:null;return queryValue!=null?{meta:{alias:null,negate:false,disabled:false,type:"phrase",key:key,value:queryValue,params:{query:queryValue}},query:{match:_defineProperty({},key,{query:queryValue,type:"phrase"})}}:{exists:{field:key},meta:{alias:null,disabled:false,key:key,negate:value===undefined,type:"exists",value:"exists"}}};exports.createFilter=createFilter},8961:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getUncommonColumnsCurated=exports.getHostNames=exports.UncommonProcessTable=exports.getArgs=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _actions=__webpack_require__(1882);var _store=__webpack_require__(7016);var _empty_value=__webpack_require__(7017);var _links=__webpack_require__(7034);var _paginated_table=__webpack_require__(7081);var i18n=_interopRequireWildcard(__webpack_require__(8962));var _helpers=__webpack_require__(7065);var _model=__webpack_require__(504);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var tableType=_store.hostsModel.HostsTableType.uncommonProcesses;var rowItems=[{text:i18n.ROWS_5,numberOfRow:5},{text:i18n.ROWS_10,numberOfRow:10}];var getArgs=function getArgs(args){if(args!=null&&args.length!==0){return args.join(" ")}else{return null}};exports.getArgs=getArgs;var UncommonProcessTableComponent=_react.default.memo((function(_ref){var activePage=_ref.activePage,data=_ref.data,fakeTotalCount=_ref.fakeTotalCount,id=_ref.id,isInspect=_ref.isInspect,limit=_ref.limit,loading=_ref.loading,loadPage=_ref.loadPage,totalCount=_ref.totalCount,showMorePagesIndicator=_ref.showMorePagesIndicator,updateTableActivePage=_ref.updateTableActivePage,updateTableLimit=_ref.updateTableLimit,type=_ref.type;var updateLimitPagination=(0,_react.useCallback)((function(newLimit){return updateTableLimit({hostsType:type,limit:newLimit,tableType:tableType})}),[type,updateTableLimit]);var updateActivePage=(0,_react.useCallback)((function(newPage){return updateTableActivePage({activePage:newPage,hostsType:type,tableType:tableType})}),[type,updateTableActivePage]);return _react.default.createElement(_paginated_table.PaginatedTable,{activePage:activePage,columns:getUncommonColumnsCurated(type),dataTestSubj:"table-".concat(tableType),headerCount:totalCount,headerTitle:i18n.UNCOMMON_PROCESSES,headerUnit:i18n.UNIT(totalCount),id:id,isInspect:isInspect,itemsPerRow:rowItems,limit:limit,loading:loading,loadPage:loadPage,pageOfItems:data,showMorePagesIndicator:showMorePagesIndicator,totalCount:fakeTotalCount,updateLimitPagination:updateLimitPagination,updateActivePage:updateActivePage})}));UncommonProcessTableComponent.displayName="UncommonProcessTableComponent";var makeMapStateToProps=function makeMapStateToProps(){var getUncommonProcessesSelector=_store.hostsSelectors.uncommonProcessesSelector();return function(state,_ref2){var type=_ref2.type;return getUncommonProcessesSelector(state,type)}};var UncommonProcessTable=(0,_reactRedux.connect)(makeMapStateToProps,{updateTableActivePage:_actions.hostsActions.updateTableActivePage,updateTableLimit:_actions.hostsActions.updateTableLimit})(UncommonProcessTableComponent);exports.UncommonProcessTable=UncommonProcessTable;UncommonProcessTable.displayName="UncommonProcessTable";var getUncommonColumns=function getUncommonColumns(){return[{name:i18n.NAME,truncateText:false,hideForMobile:false,render:function render(_ref3){var node=_ref3.node;return(0,_helpers.getRowItemDraggables)({rowItems:node.process.name,attrName:"process.name",idPrefix:"uncommon-process-table-".concat(node._id,"-processName")})},width:"20%"},{align:"right",name:i18n.NUMBER_OF_HOSTS,truncateText:false,hideForMobile:false,render:function render(_ref4){var node=_ref4.node;return _react.default.createElement(_react.default.Fragment,null,node.hosts!=null?node.hosts.length:(0,_empty_value.getEmptyValue)())},width:"8%"},{align:"right",name:i18n.NUMBER_OF_INSTANCES,truncateText:false,hideForMobile:false,render:function render(_ref5){var node=_ref5.node;return(0,_empty_value.defaultToEmptyTag)(node.instances)},width:"8%"},{name:i18n.HOSTS,truncateText:false,hideForMobile:false,render:function render(_ref6){var node=_ref6.node;return(0,_helpers.getRowItemDraggables)({rowItems:getHostNames(node),attrName:"host.name",idPrefix:"uncommon-process-table-".concat(node._id,"-processHost"),render:function render(item){return _react.default.createElement(_links.HostDetailsLink,{hostName:item})}})},width:"25%"},{name:i18n.LAST_COMMAND,truncateText:false,hideForMobile:false,render:function render(_ref7){var node=_ref7.node;return(0,_helpers.getRowItemDraggables)({rowItems:node.process!=null?node.process.args:null,attrName:"process.args",idPrefix:"uncommon-process-table-".concat(node._id,"-processArgs"),displayCount:1})},width:"25%"},{name:i18n.LAST_USER,truncateText:false,hideForMobile:false,render:function render(_ref8){var node=_ref8.node;return(0,_helpers.getRowItemDraggables)({rowItems:node.user!=null?node.user.name:null,attrName:"user.name",idPrefix:"uncommon-process-table-".concat(node._id,"-processUser")})}}]};var getHostNames=function getHostNames(node){if(node.hosts!=null){return node.hosts.filter((function(host){return host.name!=null&&host.name[0]!=null})).map((function(host){return host.name!=null&&host.name[0]!=null?host.name[0]:""}))}else{return[]}};exports.getHostNames=getHostNames;var getUncommonColumnsCurated=function getUncommonColumnsCurated(pageType){var columns=getUncommonColumns();if(pageType===_model.HostsType.details){return[i18n.HOSTS,i18n.NUMBER_OF_HOSTS].reduce((function(acc,name){acc.splice(acc.findIndex((function(column){return column.name===name})),1);return acc}),columns)}else{return columns}};exports.getUncommonColumnsCurated=getUncommonColumnsCurated},8962:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROWS_10=exports.ROWS_5=exports.NAME=exports.LAST_USER=exports.LAST_COMMAND=exports.NUMBER_OF_INSTANCES=exports.NUMBER_OF_HOSTS=exports.HOSTS=exports.UNIT=exports.UNCOMMON_PROCESSES=void 0;var _i18n=__webpack_require__(2);var UNCOMMON_PROCESSES=_i18n.i18n.translate("xpack.siem.authenticationsTable.uncommonProcessTable",{defaultMessage:"Uncommon processes"});exports.UNCOMMON_PROCESSES=UNCOMMON_PROCESSES;var UNIT=function UNIT(totalCount){return _i18n.i18n.translate("xpack.siem.uncommonProcessTable.unit",{values:{totalCount:totalCount},defaultMessage:"{totalCount, plural, =1 {process} other {processes}}"})};exports.UNIT=UNIT;var HOSTS=_i18n.i18n.translate("xpack.siem.uncommonProcessTable.hostsTitle",{defaultMessage:"Host names"});exports.HOSTS=HOSTS;var NUMBER_OF_HOSTS=_i18n.i18n.translate("xpack.siem.uncommonProcessTable.numberOfHostsTitle",{defaultMessage:"Hosts"});exports.NUMBER_OF_HOSTS=NUMBER_OF_HOSTS;var NUMBER_OF_INSTANCES=_i18n.i18n.translate("xpack.siem.uncommonProcessTable.numberOfInstances",{defaultMessage:"Instances"});exports.NUMBER_OF_INSTANCES=NUMBER_OF_INSTANCES;var LAST_COMMAND=_i18n.i18n.translate("xpack.siem.uncommonProcessTable.lastCommandTitle",{defaultMessage:"Last command"});exports.LAST_COMMAND=LAST_COMMAND;var LAST_USER=_i18n.i18n.translate("xpack.siem.uncommonProcessTable.lastUserTitle",{defaultMessage:"Last user"});exports.LAST_USER=LAST_USER;var NAME=_i18n.i18n.translate("xpack.siem.uncommonProcessTable.nameTitle",{defaultMessage:"Process name"});exports.NAME=NAME;var ROWS_5=_i18n.i18n.translate("xpack.siem.uncommonProcessTable.rows",{values:{numRows:5},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_5=ROWS_5;var ROWS_10=_i18n.i18n.translate("xpack.siem.uncommonProcessTable.rows",{values:{numRows:10},defaultMessage:"{numRows} {numRows, plural, =0 {rows} =1 {row} other {rows}}"});exports.ROWS_10=ROWS_10},8963:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KpiHostsComponent=exports.KpiHostsComponentBase=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _stat_items=__webpack_require__(7690);var _kpi_hosts_mapping=__webpack_require__(8965);var _kpi_host_details_mapping=__webpack_require__(8966);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var kpiWidgetHeight=247;var FlexGroupSpinner=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"FlexGroupSpinner",componentId:"ifcxib-0"})(["{min-height:","px;}"],kpiWidgetHeight);FlexGroupSpinner.displayName="FlexGroupSpinner";var KpiHostsComponentBase=function KpiHostsComponentBase(_ref){var data=_ref.data,from=_ref.from,loading=_ref.loading,id=_ref.id,to=_ref.to,narrowDateRange=_ref.narrowDateRange;var mappings=data.hosts!==undefined?_kpi_hosts_mapping.kpiHostsMapping:_kpi_host_details_mapping.kpiHostDetailsMapping;var statItemsProps=(0,_stat_items.useKpiMatrixStatus)(mappings,data,id,from,to,narrowDateRange);return loading?_react.default.createElement(FlexGroupSpinner,{justifyContent:"center",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"}))):_react.default.createElement(_eui.EuiFlexGroup,null,statItemsProps.map((function(mappedStatItemProps,idx){return _react.default.createElement(_stat_items.StatItemsComponent,mappedStatItemProps)})))};exports.KpiHostsComponentBase=KpiHostsComponentBase;KpiHostsComponentBase.displayName="KpiHostsComponentBase";var KpiHostsComponent=_react.default.memo(KpiHostsComponentBase);exports.KpiHostsComponent=KpiHostsComponent;KpiHostsComponent.displayName="KpiHostsComponent"},8964:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AreaChart=exports.AreaChartComponent=exports.AreaChartBase=exports.AreaChartBaseComponent=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _charts=__webpack_require__(42);var _fp=__webpack_require__(223);var _auto_sizer=__webpack_require__(7144);var _chart_place_holder=__webpack_require__(7619);var _hooks=__webpack_require__(7199);var _common=__webpack_require__(7208);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var getSeriesLineStyle=function getSeriesLineStyle(){return{area:{opacity:.04,visible:true},line:{strokeWidth:1,visible:true},point:{visible:false,radius:.2,strokeWidth:1,opacity:1}}};var checkIfAllTheDataInTheSeriesAreValid=function checkIfAllTheDataInTheSeriesAreValid(series){return!!(0,_fp.get)("value.length",series)&&(0,_fp.get)("value",series).every((function(_ref){var x=_ref.x,y=_ref.y;return!(0,_fp.isNull)(x)&&(0,_fp.isNumber)(y)&&y>0}))};var checkIfAnyValidSeriesExist=function checkIfAnyValidSeriesExist(data){return Array.isArray(data)&&data.some(checkIfAllTheDataInTheSeriesAreValid)};var AreaChartBaseComponent=function AreaChartBaseComponent(_ref2){var data=_ref2.data,chartConfigs=_objectWithoutProperties(_ref2,["data"]);var theme=(0,_common.useTheme)();var timeZone=(0,_hooks.useTimeZone)();var xTickFormatter=(0,_fp.get)("configs.axis.xTickFormatter",chartConfigs);var yTickFormatter=(0,_fp.get)("configs.axis.yTickFormatter",chartConfigs);var xAxisId="group-".concat(data[0].key,"-x");var yAxisId="group-".concat(data[0].key,"-y");var settings=_objectSpread({},_common.chartDefaultSettings,{theme:theme},(0,_fp.get)("configs.settings",chartConfigs));return chartConfigs.width&&chartConfigs.height?_react.default.createElement("div",{style:{height:chartConfigs.height,width:chartConfigs.width,position:"relative"}},_react.default.createElement(_charts.Chart,null,_react.default.createElement(_charts.Settings,settings),data.map((function(series){var seriesKey=series.key;return checkIfAllTheDataInTheSeriesAreValid(series)?_react.default.createElement(_charts.AreaSeries,{id:seriesKey,key:seriesKey,name:series.key.replace("Histogram",""),data:series.value||[],xScaleType:(0,_fp.getOr)(_charts.ScaleType.Linear,"configs.series.xScaleType",chartConfigs),yScaleType:(0,_fp.getOr)(_charts.ScaleType.Linear,"configs.series.yScaleType",chartConfigs),timeZone:timeZone,xAccessor:"x",yAccessors:["y"],areaSeriesStyle:getSeriesLineStyle(),customSeriesColors:series.color?[series.color]:undefined}):null})),_react.default.createElement(_charts.Axis,{id:xAxisId,position:_charts.Position.Bottom,showOverlappingTicks:false,tickFormat:xTickFormatter,tickSize:0}),_react.default.createElement(_charts.Axis,{id:yAxisId,position:_charts.Position.Left,tickSize:0,tickFormat:yTickFormatter}))):null};exports.AreaChartBaseComponent=AreaChartBaseComponent;AreaChartBaseComponent.displayName="AreaChartBaseComponent";var AreaChartBase=_react.default.memo(AreaChartBaseComponent);exports.AreaChartBase=AreaChartBase;AreaChartBase.displayName="AreaChartBase";var AreaChartComponent=function AreaChartComponent(_ref3){var areaChart=_ref3.areaChart,configs=_ref3.configs;var customHeight=(0,_fp.get)("customHeight",configs);var customWidth=(0,_fp.get)("customWidth",configs);return checkIfAnyValidSeriesExist(areaChart)?_react.default.createElement(_auto_sizer.AutoSizer,{detectAnyWindowResize:false,content:true},(function(_ref4){var measureRef=_ref4.measureRef,_ref4$content=_ref4.content,height=_ref4$content.height,width=_ref4$content.width;return _react.default.createElement(_common.WrappedByAutoSizer,{ref:measureRef,height:(0,_common.getChartHeight)(customHeight,height)},_react.default.createElement(AreaChartBase,{data:areaChart,height:(0,_common.getChartHeight)(customHeight,height),width:(0,_common.getChartWidth)(customWidth,width),configs:configs}))})):_react.default.createElement(_chart_place_holder.ChartPlaceHolder,{height:(0,_common.getChartHeight)(customHeight),width:(0,_common.getChartWidth)(customWidth),data:areaChart})};exports.AreaChartComponent=AreaChartComponent;AreaChartComponent.displayName="AreaChartComponent";var AreaChart=_react.default.memo(AreaChartComponent);exports.AreaChart=AreaChart;AreaChart.displayName="AreaChart"},8965:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.kpiHostsMapping=void 0;var i18n=_interopRequireWildcard(__webpack_require__(7691));var _types=__webpack_require__(7359);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var kpiHostsMapping=[{key:"hosts",index:0,fields:[{key:"hosts",value:null,color:_types.KpiHostsChartColors.hosts,icon:"storage"}],enableAreaChart:true,grow:2,description:i18n.HOSTS},{key:"authentication",index:1,fields:[{key:"authSuccess",name:i18n.SUCCESS_CHART_LABEL,description:i18n.SUCCESS_UNIT_LABEL,value:null,color:_types.KpiHostsChartColors.authSuccess,icon:"check"},{key:"authFailure",name:i18n.FAIL_CHART_LABEL,description:i18n.FAIL_UNIT_LABEL,value:null,color:_types.KpiHostsChartColors.authFailure,icon:"cross"}],enableAreaChart:true,enableBarChart:true,grow:4,description:i18n.USER_AUTHENTICATIONS},{key:"uniqueIps",index:2,fields:[{key:"uniqueSourceIps",name:i18n.SOURCE_CHART_LABEL,description:i18n.SOURCE_UNIT_LABEL,value:null,color:_types.KpiHostsChartColors.uniqueSourceIps,icon:"visMapCoordinate"},{key:"uniqueDestinationIps",name:i18n.DESTINATION_CHART_LABEL,description:i18n.DESTINATION_UNIT_LABEL,value:null,color:_types.KpiHostsChartColors.uniqueDestinationIps,icon:"visMapCoordinate"}],enableAreaChart:true,enableBarChart:true,grow:4,description:i18n.UNIQUE_IPS}];exports.kpiHostsMapping=kpiHostsMapping},8966:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.kpiHostDetailsMapping=void 0;var i18n=_interopRequireWildcard(__webpack_require__(7691));var _types=__webpack_require__(7359);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var kpiHostDetailsMapping=[{key:"authentication",index:0,fields:[{key:"authSuccess",name:i18n.SUCCESS_CHART_LABEL,description:i18n.SUCCESS_UNIT_LABEL,value:null,color:_types.KpiHostsChartColors.authSuccess,icon:"check"},{key:"authFailure",name:i18n.FAIL_CHART_LABEL,description:i18n.FAIL_UNIT_LABEL,value:null,color:_types.KpiHostsChartColors.authFailure,icon:"cross"}],enableAreaChart:true,enableBarChart:true,grow:1,description:i18n.USER_AUTHENTICATIONS},{key:"uniqueIps",index:1,fields:[{key:"uniqueSourceIps",name:i18n.SOURCE_CHART_LABEL,description:i18n.SOURCE_UNIT_LABEL,value:null,color:_types.KpiHostsChartColors.uniqueSourceIps,icon:"visMapCoordinate"},{key:"uniqueDestinationIps",name:i18n.DESTINATION_CHART_LABEL,description:i18n.DESTINATION_UNIT_LABEL,value:null,color:_types.KpiHostsChartColors.uniqueDestinationIps,icon:"visMapCoordinate"}],enableAreaChart:true,enableBarChart:true,grow:1,description:i18n.UNIQUE_IPS}];exports.kpiHostDetailsMapping=kpiHostDetailsMapping},8967:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HostOverview=void 0;var _eui=__webpack_require__(1);var _eui_theme_dark=_interopRequireDefault(__webpack_require__(50));var _eui_theme_light=_interopRequireDefault(__webpack_require__(18));var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _constants=__webpack_require__(977);var _kibana=__webpack_require__(7013);var _empty_value=__webpack_require__(7017);var _field_renderers=__webpack_require__(7205);var _inspect=__webpack_require__(7063);var _loader=__webpack_require__(7091);var _links=__webpack_require__(7034);var _ml_capabilities_provider=__webpack_require__(7064);var _has_ml_user_permissions=__webpack_require__(7078);var _anomaly_scores=__webpack_require__(7600);var _index=__webpack_require__(7055);var _first_last_seen_host=__webpack_require__(8968);var i18n=_interopRequireWildcard(__webpack_require__(8971));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var getDescriptionList=function getDescriptionList(descriptionList,key){return _react.default.createElement(_eui.EuiFlexItem,{key:key},_react.default.createElement(_index.DescriptionListStyled,{listItems:descriptionList}))};var HostOverview=_react.default.memo((function(_ref){var data=_ref.data,loading=_ref.loading,id=_ref.id,startDate=_ref.startDate,endDate=_ref.endDate,isLoadingAnomaliesData=_ref.isLoadingAnomaliesData,anomaliesData=_ref.anomaliesData,narrowDateRange=_ref.narrowDateRange;var capabilities=(0,_react.useContext)(_ml_capabilities_provider.MlCapabilitiesContext);var userPermissions=(0,_has_ml_user_permissions.hasMlUserPermissions)(capabilities);var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_DARK_MODE),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),darkMode=_useUiSetting$2[0];var getDefaultRenderer=function getDefaultRenderer(fieldName,fieldData){return _react.default.createElement(_field_renderers.DefaultFieldRenderer,{rowItems:(0,_fp.getOr)([],fieldName,fieldData),attrName:fieldName,idPrefix:"host-overview"})};var column=[{title:i18n.HOST_ID,description:data.host?(0,_field_renderers.hostIdRenderer)({host:data.host,noLink:true}):(0,_empty_value.getEmptyTagValue)()},{title:i18n.FIRST_SEEN,description:data.host!=null&&data.host.name&&data.host.name.length?_react.default.createElement(_first_last_seen_host.FirstLastSeenHost,{hostname:data.host.name[0],type:_first_last_seen_host.FirstLastSeenHostType.FIRST_SEEN}):(0,_empty_value.getEmptyTagValue)()},{title:i18n.LAST_SEEN,description:data.host!=null&&data.host.name&&data.host.name.length?_react.default.createElement(_first_last_seen_host.FirstLastSeenHost,{hostname:data.host.name[0],type:_first_last_seen_host.FirstLastSeenHostType.LAST_SEEN}):(0,_empty_value.getEmptyTagValue)()}];var firstColumn=userPermissions?[].concat(column,[{title:i18n.MAX_ANOMALY_SCORE_BY_JOB,description:_react.default.createElement(_anomaly_scores.AnomalyScores,{anomalies:anomaliesData,startDate:startDate,endDate:endDate,isLoading:isLoadingAnomaliesData,narrowDateRange:narrowDateRange})}]):column;var descriptionLists=[firstColumn,[{title:i18n.IP_ADDRESSES,description:_react.default.createElement(_field_renderers.DefaultFieldRenderer,{rowItems:(0,_fp.getOr)([],"host.ip",data),attrName:"host.ip",idPrefix:"host-overview",render:function render(ip){return ip!=null?_react.default.createElement(_links.IPDetailsLink,{ip:ip}):(0,_empty_value.getEmptyTagValue)()}})},{title:i18n.MAC_ADDRESSES,description:getDefaultRenderer("host.mac",data)},{title:i18n.PLATFORM,description:getDefaultRenderer("host.os.platform",data)}],[{title:i18n.OS,description:getDefaultRenderer("host.os.name",data)},{title:i18n.FAMILY,description:getDefaultRenderer("host.os.family",data)},{title:i18n.VERSION,description:getDefaultRenderer("host.os.version",data)},{title:i18n.ARCHITECTURE,description:getDefaultRenderer("host.architecture",data)}],[{title:i18n.CLOUD_PROVIDER,description:getDefaultRenderer("cloud.provider",data)},{title:i18n.REGION,description:getDefaultRenderer("cloud.region",data)},{title:i18n.INSTANCE_ID,description:getDefaultRenderer("cloud.instance.id",data)},{title:i18n.MACHINE_TYPE,description:getDefaultRenderer("cloud.machine.type",data)}]];return _react.default.createElement(_inspect.InspectButtonContainer,null,_react.default.createElement(_index.OverviewWrapper,null,_react.default.createElement(_inspect.InspectButton,{queryId:id,title:i18n.INSPECT_TITLE,inspectIndex:0}),descriptionLists.map((function(descriptionList,index){return getDescriptionList(descriptionList,index)})),loading&&_react.default.createElement(_loader.Loader,{overlay:true,overlayBackground:darkMode?_eui_theme_dark.default.euiPageBackgroundColor:_eui_theme_light.default.euiPageBackgroundColor,size:"xl"})))}));exports.HostOverview=HostOverview;HostOverview.displayName="HostOverview"},8968:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FirstLastSeenHost=exports.FirstLastSeenHostType=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _first_last_seen=__webpack_require__(8969);var _empty_value=__webpack_require__(7017);var _formatted_date=__webpack_require__(7027);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FirstLastSeenHostType;exports.FirstLastSeenHostType=FirstLastSeenHostType;(function(FirstLastSeenHostType){FirstLastSeenHostType["FIRST_SEEN"]="first-seen";FirstLastSeenHostType["LAST_SEEN"]="last-seen"})(FirstLastSeenHostType||(exports.FirstLastSeenHostType=FirstLastSeenHostType={}));var FirstLastSeenHost=_react.default.memo((function(_ref){var hostname=_ref.hostname,type=_ref.type;return _react.default.createElement(_reactApollo.ApolloConsumer,null,(function(client){var _useFirstLastSeenHost=(0,_first_last_seen.useFirstLastSeenHostQuery)(hostname,"default",client),loading=_useFirstLastSeenHost.loading,firstSeen=_useFirstLastSeenHost.firstSeen,lastSeen=_useFirstLastSeenHost.lastSeen,errorMessage=_useFirstLastSeenHost.errorMessage;if(errorMessage!=null){return _react.default.createElement(_eui.EuiToolTip,{position:"top",content:errorMessage,"data-test-subj":"firstLastSeenErrorToolTip","aria-label":"firstLastSeenError-".concat(type),id:"firstLastSeenError-".concat(hostname,"-").concat(type)},_react.default.createElement(_eui.EuiIcon,{"aria-describedby":"firstLastSeenError-".concat(hostname,"-").concat(type),type:"alert"}))}var valueSeen=type===FirstLastSeenHostType.FIRST_SEEN?firstSeen:lastSeen;return _react.default.createElement(_react.default.Fragment,null,loading&&_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}),!loading&&valueSeen!=null&&new Date(valueSeen).toString()==="Invalid Date"?valueSeen:!loading&&valueSeen!=null&&_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement(_formatted_date.FormattedRelativePreferenceDate,{value:"".concat(valueSeen)})),!loading&&valueSeen==null&&(0,_empty_value.getEmptyTagValue)())}))}));exports.FirstLastSeenHost=FirstLastSeenHost;FirstLastSeenHost.displayName="FirstLastSeenHost"},8969:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useFirstLastSeenHostQuery=useFirstLastSeenHostQuery;var _fp=__webpack_require__(223);var _react=__webpack_require__(0);var _kibana=__webpack_require__(7013);var _constants=__webpack_require__(977);var _first_last_seen=__webpack_require__(8970);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function useFirstLastSeenHostQuery(hostName,sourceId,apolloClient){var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],updateLoading=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),firstSeen=_useState4[0],updateFirstSeen=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),lastSeen=_useState6[0],updateLastSeen=_useState6[1];var _useState7=(0,_react.useState)(null),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],updateErrorMessage=_useState8[1];var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_INDEX_KEY),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),defaultIndex=_useUiSetting$2[0];function fetchFirstLastSeenHost(signal){return regeneratorRuntime.async((function fetchFirstLastSeenHost$(_context){while(1){switch(_context.prev=_context.next){case 0:updateLoading(true);return _context.abrupt("return",apolloClient.query({query:_first_last_seen.HostFirstLastSeenGqlQuery,fetchPolicy:"cache-first",variables:{sourceId:sourceId,hostName:hostName,defaultIndex:defaultIndex},context:{fetchOptions:{signal:signal}}}).then((function(result){updateLoading(false);updateFirstSeen((0,_fp.get)("data.source.HostFirstLastSeen.firstSeen",result));updateLastSeen((0,_fp.get)("data.source.HostFirstLastSeen.lastSeen",result));updateErrorMessage(null)}),(function(error){updateLoading(false);updateFirstSeen(null);updateLastSeen(null);updateErrorMessage(error.message)})));case 2:case"end":return _context.stop()}}}))}(0,_react.useEffect)((function(){var abortCtrl=new AbortController;var signal=abortCtrl.signal;fetchFirstLastSeenHost(signal);return function(){return abortCtrl.abort()}}),[]);return{firstSeen:firstSeen,lastSeen:lastSeen,loading:loading,errorMessage:errorMessage}}},8970:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HostFirstLastSeenGqlQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetHostFirstLastSeenQuery($sourceId: ID!, $hostName: String!, $defaultIndex: [String!]!) {\n    source(id: $sourceId) {\n      id\n      HostFirstLastSeen(hostName: $hostName, defaultIndex: $defaultIndex) {\n        firstSeen\n        lastSeen\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var HostFirstLastSeenGqlQuery=(0,_graphqlTag.default)(_templateObject());exports.HostFirstLastSeenGqlQuery=HostFirstLastSeenGqlQuery},8971:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INSPECT_TITLE=exports.MACHINE_TYPE=exports.INSTANCE_ID=exports.REGION=exports.CLOUD_PROVIDER=exports.ARCHITECTURE=exports.VERSION=exports.FAMILY=exports.OS=exports.PLATFORM=exports.MAC_ADDRESSES=exports.IP_ADDRESSES=exports.MAX_ANOMALY_SCORE_BY_JOB=exports.LAST_SEEN=exports.FIRST_SEEN=exports.HOST_ID=void 0;var _i18n=__webpack_require__(2);var HOST_ID=_i18n.i18n.translate("xpack.siem.host.details.overview.hostIdTitle",{defaultMessage:"Host ID"});exports.HOST_ID=HOST_ID;var FIRST_SEEN=_i18n.i18n.translate("xpack.siem.host.details.firstSeenTitle",{defaultMessage:"First seen"});exports.FIRST_SEEN=FIRST_SEEN;var LAST_SEEN=_i18n.i18n.translate("xpack.siem.host.details.lastSeenTitle",{defaultMessage:"Last seen"});exports.LAST_SEEN=LAST_SEEN;var MAX_ANOMALY_SCORE_BY_JOB=_i18n.i18n.translate("xpack.siem.host.details.overview.maxAnomalyScoreByJobTitle",{defaultMessage:"Max anomaly score by job"});exports.MAX_ANOMALY_SCORE_BY_JOB=MAX_ANOMALY_SCORE_BY_JOB;var IP_ADDRESSES=_i18n.i18n.translate("xpack.siem.host.details.overview.ipAddressesTitle",{defaultMessage:"IP addresses"});exports.IP_ADDRESSES=IP_ADDRESSES;var MAC_ADDRESSES=_i18n.i18n.translate("xpack.siem.host.details.overview.macAddressesTitle",{defaultMessage:"MAC addresses"});exports.MAC_ADDRESSES=MAC_ADDRESSES;var PLATFORM=_i18n.i18n.translate("xpack.siem.host.details.overview.platformTitle",{defaultMessage:"Platform"});exports.PLATFORM=PLATFORM;var OS=_i18n.i18n.translate("xpack.siem.host.details.overview.osTitle",{defaultMessage:"Operating system"});exports.OS=OS;var FAMILY=_i18n.i18n.translate("xpack.siem.host.details.overview.familyTitle",{defaultMessage:"Family"});exports.FAMILY=FAMILY;var VERSION=_i18n.i18n.translate("xpack.siem.host.details.versionLabel",{defaultMessage:"Version"});exports.VERSION=VERSION;var ARCHITECTURE=_i18n.i18n.translate("xpack.siem.host.details.architectureLabel",{defaultMessage:"Architecture"});exports.ARCHITECTURE=ARCHITECTURE;var CLOUD_PROVIDER=_i18n.i18n.translate("xpack.siem.host.details.overview.cloudProviderTitle",{defaultMessage:"Cloud provider"});exports.CLOUD_PROVIDER=CLOUD_PROVIDER;var REGION=_i18n.i18n.translate("xpack.siem.host.details.overview.regionTitle",{defaultMessage:"Region"});exports.REGION=REGION;var INSTANCE_ID=_i18n.i18n.translate("xpack.siem.host.details.overview.instanceIdTitle",{defaultMessage:"Instance ID"});exports.INSTANCE_ID=INSTANCE_ID;var MACHINE_TYPE=_i18n.i18n.translate("xpack.siem.host.details.overview.machineTypeTitle",{defaultMessage:"Machine type"});exports.MACHINE_TYPE=MACHINE_TYPE;var INSPECT_TITLE=_i18n.i18n.translate("xpack.siem.host.details.overview.inspectTitle",{defaultMessage:"Host overview"});exports.INSPECT_TITLE=INSPECT_TITLE},8972:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.HostOverviewByNameQuery=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _constants=__webpack_require__(977);var _store=__webpack_require__(7016);var _helpers=__webpack_require__(7029);var _query_template=__webpack_require__(7630);var _kibana=__webpack_require__(7013);var _host_overview=__webpack_require__(8973);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ID="hostOverviewQuery";var HostOverviewByNameComponentQuery=function(_QueryTemplate){_inherits(HostOverviewByNameComponentQuery,_QueryTemplate);function HostOverviewByNameComponentQuery(){_classCallCheck(this,HostOverviewByNameComponentQuery);return _possibleConstructorReturn(this,_getPrototypeOf(HostOverviewByNameComponentQuery).apply(this,arguments))}_createClass(HostOverviewByNameComponentQuery,[{key:"render",value:function render(){var _this$props=this.props,_this$props$id=_this$props.id,id=_this$props$id===void 0?ID:_this$props$id,isInspected=_this$props.isInspected,children=_this$props.children,hostName=_this$props.hostName,kibana=_this$props.kibana,skip=_this$props.skip,sourceId=_this$props.sourceId,startDate=_this$props.startDate,endDate=_this$props.endDate;return _react.default.createElement(_reactApollo.Query,{query:_host_overview.HostOverviewQuery,fetchPolicy:(0,_helpers.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,skip:skip,variables:{sourceId:sourceId,hostName:hostName,timerange:{interval:"12h",from:startDate,to:endDate},defaultIndex:kibana.services.uiSettings.get(_constants.DEFAULT_INDEX_KEY),inspect:isInspected}},(function(_ref){var data=_ref.data,loading=_ref.loading,refetch=_ref.refetch;var hostOverview=(0,_fp.getOr)([],"source.HostOverview",data);return children({id:id,inspect:(0,_fp.getOr)(null,"source.HostOverview.inspect",data),refetch:refetch,loading:loading,hostOverview:hostOverview,startDate:startDate,endDate:endDate})}))}}]);return HostOverviewByNameComponentQuery}(_query_template.QueryTemplate);var makeMapStateToProps=function makeMapStateToProps(){var getQuery=_store.inputsSelectors.globalQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref2){var _ref2$id=_ref2.id,id=_ref2$id===void 0?ID:_ref2$id;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return{isInspected:isInspected}};return mapStateToProps};var HostOverviewByNameQuery=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps),_kibana.withKibana)(HostOverviewByNameComponentQuery);exports.HostOverviewByNameQuery=HostOverviewByNameQuery},8973:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HostOverviewQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetHostOverviewQuery(\n    $sourceId: ID!\n    $hostName: String!\n    $timerange: TimerangeInput!\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      HostOverview(hostName: $hostName, timerange: $timerange, defaultIndex: $defaultIndex) {\n        _id\n        host {\n          architecture\n          id\n          ip\n          mac\n          name\n          os {\n            family\n            name\n            platform\n            version\n          }\n          type\n        }\n        cloud {\n          instance {\n            id\n          }\n          machine {\n            type\n          }\n          provider\n          region\n        }\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var HostOverviewQuery=(0,_graphqlTag.default)(_templateObject());exports.HostOverviewQuery=HostOverviewQuery},8974:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KpiHostDetailsQuery=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _constants=__webpack_require__(977);var _store=__webpack_require__(7016);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(7029);var _index=__webpack_require__(8975);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ID="kpiHostDetailsQuery";var KpiHostDetailsComponentQuery=_react.default.memo((function(_ref){var _ref$id=_ref.id,id=_ref$id===void 0?ID:_ref$id,children=_ref.children,endDate=_ref.endDate,filterQuery=_ref.filterQuery,isInspected=_ref.isInspected,skip=_ref.skip,sourceId=_ref.sourceId,startDate=_ref.startDate;return _react.default.createElement(_reactApollo.Query,{query:_index.kpiHostDetailsQuery,fetchPolicy:(0,_helpers.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,skip:skip,variables:{sourceId:sourceId,timerange:{interval:"12h",from:startDate,to:endDate},filterQuery:(0,_helpers.createFilter)(filterQuery),defaultIndex:(0,_kibana.useUiSetting)(_constants.DEFAULT_INDEX_KEY),inspect:isInspected}},(function(_ref2){var data=_ref2.data,loading=_ref2.loading,refetch=_ref2.refetch;var kpiHostDetails=(0,_fp.getOr)({},"source.KpiHostDetails",data);return children({id:id,inspect:(0,_fp.getOr)(null,"source.KpiHostDetails.inspect",data),kpiHostDetails:kpiHostDetails,loading:loading,refetch:refetch})}))}));KpiHostDetailsComponentQuery.displayName="KpiHostDetailsComponentQuery";var makeMapStateToProps=function makeMapStateToProps(){var getQuery=_store.inputsSelectors.globalQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref3){var _ref3$id=_ref3.id,id=_ref3$id===void 0?ID:_ref3$id;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return{isInspected:isInspected}};return mapStateToProps};var KpiHostDetailsQuery=(0,_reactRedux.connect)(makeMapStateToProps)(KpiHostDetailsComponentQuery);exports.KpiHostDetailsQuery=KpiHostDetailsQuery},8975:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.kpiHostDetailsQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  fragment KpiHostDetailsChartFields on KpiHostHistogramData {\n    x\n    y\n  }\n\n  query GetKpiHostDetailsQuery(\n    $sourceId: ID!\n    $timerange: TimerangeInput!\n    $filterQuery: String\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      KpiHostDetails(\n        timerange: $timerange\n        filterQuery: $filterQuery\n        defaultIndex: $defaultIndex\n      ) {\n        authSuccess\n        authSuccessHistogram {\n          ...KpiHostDetailsChartFields\n        }\n        authFailure\n        authFailureHistogram {\n          ...KpiHostDetailsChartFields\n        }\n        uniqueSourceIps\n        uniqueSourceIpsHistogram {\n          ...KpiHostDetailsChartFields\n        }\n        uniqueDestinationIps\n        uniqueDestinationIpsHistogram {\n          ...KpiHostDetailsChartFields\n        }\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var kpiHostDetailsQuery=(0,_graphqlTag.default)(_templateObject());exports.kpiHostDetailsQuery=kpiHostDetailsQuery},8976:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HostDetailsTabs=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _score_interval_to_datetime=__webpack_require__(7152);var _model=__webpack_require__(504);var _anomalies_query_tab_body=__webpack_require__(7207);var _anomalies_host_table=__webpack_require__(7693);var _utils=__webpack_require__(7319);var _navigation=__webpack_require__(7220);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var HostDetailsTabs=_react.default.memo((function(_ref){var pageFilters=_ref.pageFilters,deleteQuery=_ref.deleteQuery,filterQuery=_ref.filterQuery,from=_ref.from,isInitializing=_ref.isInitializing,detailName=_ref.detailName,setAbsoluteRangeDatePicker=_ref.setAbsoluteRangeDatePicker,setQuery=_ref.setQuery,to=_ref.to,indexPattern=_ref.indexPattern,hostDetailsPagePath=_ref.hostDetailsPagePath;var narrowDateRange=(0,_react.useCallback)((function(score,interval){var fromTo=(0,_score_interval_to_datetime.scoreIntervalToDateTime)(score,interval);setAbsoluteRangeDatePicker({id:"global",from:fromTo.from,to:fromTo.to})}),[setAbsoluteRangeDatePicker]);var updateDateRange=(0,_react.useCallback)((function(min,max){setAbsoluteRangeDatePicker({id:"global",from:min,to:max})}),[setAbsoluteRangeDatePicker]);var tabProps={deleteQuery:deleteQuery,endDate:to,filterQuery:filterQuery,skip:isInitializing,setQuery:setQuery,startDate:from,type:_utils.type,indexPattern:indexPattern,hostName:detailName,narrowDateRange:narrowDateRange,updateDateRange:updateDateRange};return _react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:"".concat(hostDetailsPagePath,"/:tabName(").concat(_model.HostsTableType.authentications,")"),render:function render(){return _react.default.createElement(_navigation.AuthenticationsQueryTabBody,tabProps)}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(hostDetailsPagePath,"/:tabName(").concat(_model.HostsTableType.hosts,")"),render:function render(){return _react.default.createElement(_navigation.HostsQueryTabBody,tabProps)}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(hostDetailsPagePath,"/:tabName(").concat(_model.HostsTableType.uncommonProcesses,")"),render:function render(){return _react.default.createElement(_navigation.UncommonProcessQueryTabBody,tabProps)}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(hostDetailsPagePath,"/:tabName(").concat(_model.HostsTableType.anomalies,")"),render:function render(){return _react.default.createElement(_anomalies_query_tab_body.AnomaliesQueryTabBody,_extends({},tabProps,{AnomaliesTableComponent:_anomalies_host_table.AnomaliesHostTable}))}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(hostDetailsPagePath,"/:tabName(").concat(_model.HostsTableType.events,")"),render:function render(){return _react.default.createElement(_navigation.EventsQueryTabBody,_extends({},tabProps,{pageFilters:pageFilters}))}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(hostDetailsPagePath,"/:tabName(").concat(_model.HostsTableType.alerts,")"),render:function render(){return _react.default.createElement(_navigation.HostAlertsQueryTabBody,_extends({},tabProps,{pageFilters:pageFilters}))}}))}));exports.HostDetailsTabs=HostDetailsTabs;HostDetailsTabs.displayName="HostDetailsTabs"},8977:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAnomaliesHostTableColumnsCurated=exports.getAnomaliesHostTableColumns=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _helpers=__webpack_require__(7065);var _entity_draggable=__webpack_require__(7595);var _create_compound_key=__webpack_require__(7596);var _links=__webpack_require__(7034);var i18n=_interopRequireWildcard(__webpack_require__(7204));var _get_entries=__webpack_require__(7153);var _draggable_score=__webpack_require__(7322);var _create_explorer_link=__webpack_require__(7323);var _model=__webpack_require__(504);var _helpers2=__webpack_require__(7021);var _formatted_date=__webpack_require__(7027);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var getAnomaliesHostTableColumns=function getAnomaliesHostTableColumns(startDate,endDate,interval,narrowDateRange){return[{name:i18n.HOST_NAME,field:"hostName",sortable:true,render:function render(hostName,anomaliesByHost){return(0,_helpers.getRowItemDraggable)({rowItem:hostName,attrName:"host.name",idPrefix:"anomalies-host-table-hostName-".concat((0,_create_compound_key.createCompoundHostKey)(anomaliesByHost),"-hostName"),render:function render(item){return _react.default.createElement(_links.HostDetailsLink,{hostName:item})}})}},{name:i18n.DETECTOR,field:"anomaly.jobId",sortable:true,render:function render(jobId,anomaliesByHost){return _react.default.createElement(_eui.EuiLink,{href:"".concat((0,_create_explorer_link.createExplorerLink)(anomaliesByHost.anomaly,startDate,endDate)),target:"_blank"},jobId)}},{name:i18n.SCORE,field:"anomaly.severity",sortable:true,render:function render(_,anomaliesByHost){return _react.default.createElement(_draggable_score.DraggableScore,{id:(0,_helpers2.escapeDataProviderId)("anomalies-host-table-severity-".concat((0,_create_compound_key.createCompoundHostKey)(anomaliesByHost))),score:anomaliesByHost.anomaly})}},{name:i18n.ENTITY,field:"anomaly.entityValue",sortable:true,render:function render(entityValue,anomaliesByHost){return _react.default.createElement(_entity_draggable.EntityDraggable,{idPrefix:"anomalies-host-table-entityValue".concat((0,_create_compound_key.createCompoundHostKey)(anomaliesByHost),"-entity"),entityName:anomaliesByHost.anomaly.entityName,entityValue:entityValue})}},{name:i18n.INFLUENCED_BY,field:"anomaly.influencers",render:function render(influencers,anomaliesByHost){return _react.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"none",responsive:false},influencers&&influencers.map((function(influencer){var _getEntries=(0,_get_entries.getEntries)(influencer),_getEntries2=_slicedToArray(_getEntries,2),key=_getEntries2[0],value=_getEntries2[1];var entityName=key!=null?key:"";var entityValue=value!=null?value:"";return _react.default.createElement(_eui.EuiFlexItem,{key:"".concat(entityName,"-").concat(entityValue,"-").concat((0,_create_compound_key.createCompoundHostKey)(anomaliesByHost)),grow:false},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_entity_draggable.EntityDraggable,{idPrefix:"anomalies-host-table-influencers-".concat(entityName,"-").concat(entityValue,"-").concat((0,_create_compound_key.createCompoundHostKey)(anomaliesByHost)),entityName:entityName,entityValue:entityValue}))))})))}},{name:i18n.TIME_STAMP,field:"anomaly.time",sortable:true,render:function render(time){return _react.default.createElement(_formatted_date.FormattedRelativePreferenceDate,{value:time})}}]};exports.getAnomaliesHostTableColumns=getAnomaliesHostTableColumns;var getAnomaliesHostTableColumnsCurated=function getAnomaliesHostTableColumnsCurated(pageType,startDate,endDate,interval,narrowDateRange){var columns=getAnomaliesHostTableColumns(startDate,endDate,interval,narrowDateRange);if(pageType===_model.HostsType.details){return columns.filter((function(column){return column.name!==i18n.HOST_NAME}))}else{return columns}};exports.getAnomaliesHostTableColumnsCurated=getAnomaliesHostTableColumnsCurated},8978:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getHostNameFromEntity=exports.convertAnomaliesToHosts=void 0;var _get_host_name_from_influencers=__webpack_require__(8979);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var convertAnomaliesToHosts=function convertAnomaliesToHosts(anomalies,hostName){if(anomalies==null){return[]}else{return anomalies.anomalies.reduce((function(accum,item){if(getHostNameFromEntity(item,hostName)){return[].concat(_toConsumableArray(accum),[{hostName:item.entityValue,anomaly:item}])}else{var hostNameFromInfluencers=(0,_get_host_name_from_influencers.getHostNameFromInfluencers)(item.influencers,hostName);if(hostNameFromInfluencers!=null){return[].concat(_toConsumableArray(accum),[{hostName:hostNameFromInfluencers,anomaly:item}])}else{return accum}}}),[])}};exports.convertAnomaliesToHosts=convertAnomaliesToHosts;var getHostNameFromEntity=function getHostNameFromEntity(anomaly,hostName){if(anomaly.entityName!=="host.name"){return false}else if(hostName==null){return true}else{return anomaly.entityValue===hostName}};exports.getHostNameFromEntity=getHostNameFromEntity},8979:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getHostNameFromInfluencers=void 0;var _get_entries=__webpack_require__(7153);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var getHostNameFromInfluencers=function getHostNameFromInfluencers(){var influencers=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var hostName=arguments.length>1?arguments[1]:undefined;var recordFound=influencers.find((function(influencer){var _getEntries=(0,_get_entries.getEntries)(influencer),_getEntries2=_slicedToArray(_getEntries,2),influencerName=_getEntries2[0],influencerValue=_getEntries2[1];if(influencerName==="host.name"){if(hostName==null){return true}else{return influencerValue===hostName}}else{return false}}));if(recordFound!=null){return Object.values(recordFound)[0]}else{return null}};exports.getHostNameFromInfluencers=getHostNameFromInfluencers},8980:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIntervalFromAnomalies=void 0;var getIntervalFromAnomalies=function getIntervalFromAnomalies(anomalies){if(anomalies==null){return"day"}else{return anomalies.interval}};exports.getIntervalFromAnomalies=getIntervalFromAnomalies},8981:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostEquality=void 0;var hostEquality=function hostEquality(prevProps,nextProps){return prevProps.startDate===nextProps.startDate&&prevProps.endDate===nextProps.endDate&&prevProps.skip===nextProps.skip};exports.hostEquality=hostEquality},8982:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getCriteriaFromHostType=void 0;var _model=__webpack_require__(504);var getCriteriaFromHostType=function getCriteriaFromHostType(type,hostName){if(type===_model.HostsType.details&&hostName!=null){return[{fieldName:"host.name",fieldValue:hostName}]}else{return[]}};exports.getCriteriaFromHostType=getCriteriaFromHostType},8983:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AuthenticationsQueryTabBody=exports.authMatrixDataMappingFields=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireWildcard(__webpack_require__(0));var _authentications_table=__webpack_require__(7687);var _manage_query=__webpack_require__(7028);var _authentications=__webpack_require__(8984);var _hosts=__webpack_require__(1896);var _matrix_histogram=__webpack_require__(7109);var _types=__webpack_require__(7359);var _index=__webpack_require__(7110);var i18n=_interopRequireWildcard(__webpack_require__(7129));var _authMatrixDataMappin;function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AuthenticationTableManage=(0,_manage_query.manageQuery)(_authentications_table.AuthenticationTable);var ID="authenticationsOverTimeQuery";var authStackByOptions=[{text:"event.type",value:"event.type"}];var AuthMatrixDataGroup;(function(AuthMatrixDataGroup){AuthMatrixDataGroup["authSuccess"]="authentication_success";AuthMatrixDataGroup["authFailure"]="authentication_failure"})(AuthMatrixDataGroup||(AuthMatrixDataGroup={}));var authMatrixDataMappingFields=(_authMatrixDataMappin={},_defineProperty(_authMatrixDataMappin,AuthMatrixDataGroup.authSuccess,{key:AuthMatrixDataGroup.authSuccess,value:null,color:_types.KpiHostsChartColors.authSuccess}),_defineProperty(_authMatrixDataMappin,AuthMatrixDataGroup.authFailure,{key:AuthMatrixDataGroup.authFailure,value:null,color:_types.KpiHostsChartColors.authFailure}),_authMatrixDataMappin);exports.authMatrixDataMappingFields=authMatrixDataMappingFields;var AuthenticationsQueryTabBody=function AuthenticationsQueryTabBody(_ref){var deleteQuery=_ref.deleteQuery,endDate=_ref.endDate,filterQuery=_ref.filterQuery,skip=_ref.skip,setQuery=_ref.setQuery,startDate=_ref.startDate,type=_ref.type,_ref$updateDateRange=_ref.updateDateRange,updateDateRange=_ref$updateDateRange===void 0?function(){}:_ref$updateDateRange;(0,_react.useEffect)((function(){return function(){if(deleteQuery){deleteQuery({id:ID})}}}),[deleteQuery]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_matrix_histogram.MatrixHistogramContainer,{isAuthenticationsHistogram:true,dataKey:"AuthenticationsHistogram",defaultStackByOption:authStackByOptions[0],endDate:endDate,errorMessage:i18n.ERROR_FETCHING_AUTHENTICATIONS_DATA,filterQuery:filterQuery,id:ID,mapping:authMatrixDataMappingFields,query:_index.MatrixHistogramGqlQuery,setQuery:setQuery,skip:skip,sourceId:"default",startDate:startDate,stackByOptions:authStackByOptions,title:i18n.NAVIGATION_AUTHENTICATIONS_TITLE,type:_hosts.hostsModel.HostsType.page,updateDateRange:updateDateRange}),_react.default.createElement(_authentications.AuthenticationsQuery,{endDate:endDate,filterQuery:filterQuery,skip:skip,sourceId:"default",startDate:startDate,type:type},(function(_ref2){var authentications=_ref2.authentications,totalCount=_ref2.totalCount,loading=_ref2.loading,pageInfo=_ref2.pageInfo,loadPage=_ref2.loadPage,id=_ref2.id,inspect=_ref2.inspect,isInspected=_ref2.isInspected,refetch=_ref2.refetch;return _react.default.createElement(AuthenticationTableManage,{data:authentications,deleteQuery:deleteQuery,fakeTotalCount:(0,_fp.getOr)(50,"fakeTotalCount",pageInfo),id:id,inspect:inspect,isInspect:isInspected,loading:loading,loadPage:loadPage,refetch:refetch,showMorePagesIndicator:(0,_fp.getOr)(false,"showMorePagesIndicator",pageInfo),setQuery:setQuery,totalCount:totalCount,type:type})})))};exports.AuthenticationsQueryTabBody=AuthenticationsQueryTabBody;AuthenticationsQueryTabBody.displayName="AuthenticationsQueryTabBody"},8984:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.AuthenticationsQuery=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _constants=__webpack_require__(977);var _store=__webpack_require__(7016);var _helpers=__webpack_require__(7029);var _helpers2=__webpack_require__(7071);var _kibana=__webpack_require__(7013);var _query_template_paginated=__webpack_require__(7080);var _index=__webpack_require__(8985);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ID="authenticationQuery";var AuthenticationsComponentQuery=function(_QueryTemplatePaginat){_inherits(AuthenticationsComponentQuery,_QueryTemplatePaginat);function AuthenticationsComponentQuery(){_classCallCheck(this,AuthenticationsComponentQuery);return _possibleConstructorReturn(this,_getPrototypeOf(AuthenticationsComponentQuery).apply(this,arguments))}_createClass(AuthenticationsComponentQuery,[{key:"render",value:function render(){var _this=this;var _this$props=this.props,activePage=_this$props.activePage,children=_this$props.children,endDate=_this$props.endDate,filterQuery=_this$props.filterQuery,_this$props$id=_this$props.id,id=_this$props$id===void 0?ID:_this$props$id,isInspected=_this$props.isInspected,kibana=_this$props.kibana,limit=_this$props.limit,skip=_this$props.skip,sourceId=_this$props.sourceId,startDate=_this$props.startDate;var variables={sourceId:sourceId,timerange:{interval:"12h",from:startDate,to:endDate},pagination:(0,_helpers2.generateTablePaginationOptions)(activePage,limit),filterQuery:(0,_helpers.createFilter)(filterQuery),defaultIndex:kibana.services.uiSettings.get(_constants.DEFAULT_INDEX_KEY),inspect:isInspected};return _react.default.createElement(_reactApollo.Query,{query:_index.authenticationsQuery,fetchPolicy:(0,_helpers.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,skip:skip,variables:variables},(function(_ref){var data=_ref.data,loading=_ref.loading,fetchMore=_ref.fetchMore,networkStatus=_ref.networkStatus,refetch=_ref.refetch;var authentications=(0,_fp.getOr)([],"source.Authentications.edges",data);_this.setFetchMore(fetchMore);_this.setFetchMoreOptions((function(newActivePage){return{variables:{pagination:(0,_helpers2.generateTablePaginationOptions)(newActivePage,limit)},updateQuery:function updateQuery(prev,_ref2){var fetchMoreResult=_ref2.fetchMoreResult;if(!fetchMoreResult){return prev}return _objectSpread({},fetchMoreResult,{source:_objectSpread({},fetchMoreResult.source,{Authentications:_objectSpread({},fetchMoreResult.source.Authentications,{edges:_toConsumableArray(fetchMoreResult.source.Authentications.edges)})})})}}}));var isLoading=_this.isItAValidLoading(loading,variables,networkStatus);return children({authentications:authentications,id:id,inspect:(0,_fp.getOr)(null,"source.Authentications.inspect",data),isInspected:isInspected,loading:isLoading,loadPage:_this.wrappedLoadMore,pageInfo:(0,_fp.getOr)({},"source.Authentications.pageInfo",data),refetch:_this.memoizedRefetchQuery(variables,limit,refetch),totalCount:(0,_fp.getOr)(-1,"source.Authentications.totalCount",data)})}))}}]);return AuthenticationsComponentQuery}(_query_template_paginated.QueryTemplatePaginated);var makeMapStateToProps=function makeMapStateToProps(){var getAuthenticationsSelector=_store.hostsSelectors.authenticationsSelector();var getQuery=_store.inputsSelectors.globalQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref3){var type=_ref3.type,_ref3$id=_ref3.id,id=_ref3$id===void 0?ID:_ref3$id;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return _objectSpread({},getAuthenticationsSelector(state,type),{isInspected:isInspected})};return mapStateToProps};var AuthenticationsQuery=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps),_kibana.withKibana)(AuthenticationsComponentQuery);exports.AuthenticationsQuery=AuthenticationsQuery},8985:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.authenticationsQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetAuthenticationsQuery(\n    $sourceId: ID!\n    $timerange: TimerangeInput!\n    $pagination: PaginationInputPaginated!\n    $filterQuery: String\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      Authentications(\n        timerange: $timerange\n        pagination: $pagination\n        filterQuery: $filterQuery\n        defaultIndex: $defaultIndex\n      ) {\n        totalCount\n        edges {\n          node {\n            _id\n            failures\n            successes\n            user {\n              name\n            }\n            lastSuccess {\n              timestamp\n              source {\n                ip\n              }\n              host {\n                id\n                name\n              }\n            }\n            lastFailure {\n              timestamp\n              source {\n                ip\n              }\n              host {\n                id\n                name\n              }\n            }\n          }\n          cursor {\n            value\n          }\n        }\n        pageInfo {\n          activePage\n          fakeTotalCount\n          showMorePagesIndicator\n        }\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var authenticationsQuery=(0,_graphqlTag.default)(_templateObject());exports.authenticationsQuery=authenticationsQuery},8986:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventsQueryTabBody=exports.eventsStackByOptions=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _events_viewer=__webpack_require__(7331);var _hosts=__webpack_require__(1896);var _default_model=__webpack_require__(8987);var _matrix_histogram=__webpack_require__(7109);var _index=__webpack_require__(7110);var i18n=_interopRequireWildcard(__webpack_require__(7129));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var HOSTS_PAGE_TIMELINE_ID="hosts-page";var EVENTS_HISTOGRAM_ID="eventsOverTimeQuery";var eventsStackByOptions=[{text:"event.action",value:"event.action"},{text:"event.dataset",value:"event.dataset"},{text:"event.module",value:"event.module"}];exports.eventsStackByOptions=eventsStackByOptions;var EventsQueryTabBody=function EventsQueryTabBody(_ref){var deleteQuery=_ref.deleteQuery,endDate=_ref.endDate,filterQuery=_ref.filterQuery,pageFilters=_ref.pageFilters,setQuery=_ref.setQuery,skip=_ref.skip,startDate=_ref.startDate,_ref$updateDateRange=_ref.updateDateRange,updateDateRange=_ref$updateDateRange===void 0?function(){}:_ref$updateDateRange;(0,_react.useEffect)((function(){return function(){if(deleteQuery){deleteQuery({id:EVENTS_HISTOGRAM_ID})}}}),[deleteQuery]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_matrix_histogram.MatrixHistogramContainer,{dataKey:"EventsHistogram",defaultStackByOption:eventsStackByOptions[0],endDate:endDate,isEventsHistogram:true,errorMessage:i18n.ERROR_FETCHING_EVENTS_DATA,filterQuery:filterQuery,query:_index.MatrixHistogramGqlQuery,setQuery:setQuery,skip:skip,sourceId:"default",stackByOptions:eventsStackByOptions,startDate:startDate,type:_hosts.hostsModel.HostsType.page,title:i18n.NAVIGATION_EVENTS_TITLE,updateDateRange:updateDateRange,id:EVENTS_HISTOGRAM_ID}),_react.default.createElement(_events_viewer.StatefulEventsViewer,{defaultModel:_default_model.eventsDefaultModel,end:endDate,id:HOSTS_PAGE_TIMELINE_ID,start:startDate,pageFilters:pageFilters}))};exports.EventsQueryTabBody=EventsQueryTabBody;EventsQueryTabBody.displayName="EventsQueryTabBody"},8987:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.eventsDefaultModel=void 0;var _default_headers=__webpack_require__(7637);var _defaults=__webpack_require__(7053);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var eventsDefaultModel=_objectSpread({},_defaults.timelineDefaults,{columns:_default_headers.defaultHeaders});exports.eventsDefaultModel=eventsDefaultModel},8988:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HostsQueryTabBody=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _hosts=__webpack_require__(8989);var _hosts2=__webpack_require__(7219);var _manage_query=__webpack_require__(7028);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HostsTableManage=(0,_manage_query.manageQuery)(_hosts2.HostsTable);var HostsQueryTabBody=function HostsQueryTabBody(_ref){var deleteQuery=_ref.deleteQuery,endDate=_ref.endDate,filterQuery=_ref.filterQuery,indexPattern=_ref.indexPattern,skip=_ref.skip,setQuery=_ref.setQuery,startDate=_ref.startDate,type=_ref.type;return _react.default.createElement(_hosts.HostsQuery,{endDate:endDate,filterQuery:filterQuery,skip:skip,sourceId:"default",startDate:startDate,type:type},(function(_ref2){var hosts=_ref2.hosts,totalCount=_ref2.totalCount,loading=_ref2.loading,pageInfo=_ref2.pageInfo,loadPage=_ref2.loadPage,id=_ref2.id,inspect=_ref2.inspect,isInspected=_ref2.isInspected,refetch=_ref2.refetch;return _react.default.createElement(HostsTableManage,{deleteQuery:deleteQuery,data:hosts,fakeTotalCount:(0,_fp.getOr)(50,"fakeTotalCount",pageInfo),id:id,indexPattern:indexPattern,inspect:inspect,isInspect:isInspected,loading:loading,loadPage:loadPage,refetch:refetch,setQuery:setQuery,showMorePagesIndicator:(0,_fp.getOr)(false,"showMorePagesIndicator",pageInfo),totalCount:totalCount,type:type})}))};exports.HostsQueryTabBody=HostsQueryTabBody;HostsQueryTabBody.displayName="HostsQueryTabBody"},8989:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.HostsQuery=void 0;var _fp=__webpack_require__(223);var _memoizeOne=_interopRequireDefault(__webpack_require__(1889));var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _constants=__webpack_require__(977);var _store=__webpack_require__(7016);var _helpers=__webpack_require__(7029);var _query_template_paginated=__webpack_require__(7080);var _kibana=__webpack_require__(7013);var _hosts_table=__webpack_require__(8990);var _helpers2=__webpack_require__(7071);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ID="hostsQuery";var HostsComponentQuery=function(_QueryTemplatePaginat){_inherits(HostsComponentQuery,_QueryTemplatePaginat);function HostsComponentQuery(props){var _this;_classCallCheck(this,HostsComponentQuery);_this=_possibleConstructorReturn(this,_getPrototypeOf(HostsComponentQuery).call(this,props));_defineProperty(_assertThisInitialized(_this),"memoizedHosts",void 0);_defineProperty(_assertThisInitialized(_this),"getHosts",(function(variables,source){return(0,_fp.getOr)([],"Hosts.edges",source)}));_this.memoizedHosts=(0,_memoizeOne.default)(_this.getHosts);return _this}_createClass(HostsComponentQuery,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,activePage=_this$props.activePage,_this$props$id=_this$props.id,id=_this$props$id===void 0?ID:_this$props$id,isInspected=_this$props.isInspected,children=_this$props.children,direction=_this$props.direction,filterQuery=_this$props.filterQuery,endDate=_this$props.endDate,kibana=_this$props.kibana,limit=_this$props.limit,startDate=_this$props.startDate,skip=_this$props.skip,sourceId=_this$props.sourceId,sortField=_this$props.sortField;var defaultIndex=kibana.services.uiSettings.get(_constants.DEFAULT_INDEX_KEY);var variables={sourceId:sourceId,timerange:{interval:"12h",from:startDate,to:endDate},sort:{direction:direction,field:sortField},pagination:(0,_helpers2.generateTablePaginationOptions)(activePage,limit),filterQuery:(0,_helpers.createFilter)(filterQuery),defaultIndex:defaultIndex,inspect:isInspected};return _react.default.createElement(_reactApollo.Query,{query:_hosts_table.HostsTableQuery,fetchPolicy:(0,_helpers.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,skip:skip,variables:variables},(function(_ref){var data=_ref.data,loading=_ref.loading,fetchMore=_ref.fetchMore,networkStatus=_ref.networkStatus,refetch=_ref.refetch;_this2.setFetchMore(fetchMore);_this2.setFetchMoreOptions((function(newActivePage){return{variables:{pagination:(0,_helpers2.generateTablePaginationOptions)(newActivePage,limit)},updateQuery:function updateQuery(prev,_ref2){var fetchMoreResult=_ref2.fetchMoreResult;if(!fetchMoreResult){return prev}return _objectSpread({},fetchMoreResult,{source:_objectSpread({},fetchMoreResult.source,{Hosts:_objectSpread({},fetchMoreResult.source.Hosts,{edges:_toConsumableArray(fetchMoreResult.source.Hosts.edges)})})})}}}));var isLoading=_this2.isItAValidLoading(loading,variables,networkStatus);return children({endDate:endDate,hosts:_this2.memoizedHosts(JSON.stringify(variables),(0,_fp.get)("source",data)),id:id,inspect:(0,_fp.getOr)(null,"source.Hosts.inspect",data),isInspected:isInspected,loading:isLoading,loadPage:_this2.wrappedLoadMore,pageInfo:(0,_fp.getOr)({},"source.Hosts.pageInfo",data),refetch:_this2.memoizedRefetchQuery(variables,limit,refetch),startDate:startDate,totalCount:(0,_fp.getOr)(-1,"source.Hosts.totalCount",data)})}))}}]);return HostsComponentQuery}(_query_template_paginated.QueryTemplatePaginated);var makeMapStateToProps=function makeMapStateToProps(){var getHostsSelector=_store.hostsSelectors.hostsSelector();var getQuery=_store.inputsSelectors.globalQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref3){var type=_ref3.type,_ref3$id=_ref3.id,id=_ref3$id===void 0?ID:_ref3$id;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return _objectSpread({},getHostsSelector(state,type),{isInspected:isInspected})};return mapStateToProps};var HostsQuery=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps),_kibana.withKibana)(HostsComponentQuery);exports.HostsQuery=HostsQuery},8990:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HostsTableQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetHostsTableQuery(\n    $sourceId: ID!\n    $timerange: TimerangeInput!\n    $pagination: PaginationInputPaginated!\n    $sort: HostsSortField!\n    $filterQuery: String\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      Hosts(\n        timerange: $timerange\n        pagination: $pagination\n        sort: $sort\n        filterQuery: $filterQuery\n        defaultIndex: $defaultIndex\n      ) {\n        totalCount\n        edges {\n          node {\n            _id\n            lastSeen\n            host {\n              id\n              name\n              os {\n                name\n                version\n              }\n            }\n          }\n          cursor {\n            value\n          }\n        }\n        pageInfo {\n          activePage\n          fakeTotalCount\n          showMorePagesIndicator\n        }\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var HostsTableQuery=(0,_graphqlTag.default)(_templateObject());exports.HostsTableQuery=HostsTableQuery},8991:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UncommonProcessQueryTabBody=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _uncommon_processes=__webpack_require__(8992);var _hosts=__webpack_require__(7219);var _manage_query=__webpack_require__(7028);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UncommonProcessTableManage=(0,_manage_query.manageQuery)(_hosts.UncommonProcessTable);var UncommonProcessQueryTabBody=function UncommonProcessQueryTabBody(_ref){var deleteQuery=_ref.deleteQuery,endDate=_ref.endDate,filterQuery=_ref.filterQuery,skip=_ref.skip,setQuery=_ref.setQuery,startDate=_ref.startDate,type=_ref.type;return _react.default.createElement(_uncommon_processes.UncommonProcessesQuery,{endDate:endDate,filterQuery:filterQuery,skip:skip,sourceId:"default",startDate:startDate,type:type},(function(_ref2){var uncommonProcesses=_ref2.uncommonProcesses,totalCount=_ref2.totalCount,loading=_ref2.loading,pageInfo=_ref2.pageInfo,loadPage=_ref2.loadPage,id=_ref2.id,inspect=_ref2.inspect,isInspected=_ref2.isInspected,refetch=_ref2.refetch;return _react.default.createElement(UncommonProcessTableManage,{deleteQuery:deleteQuery,data:uncommonProcesses,fakeTotalCount:(0,_fp.getOr)(50,"fakeTotalCount",pageInfo),id:id,inspect:inspect,isInspect:isInspected,loading:loading,loadPage:loadPage,refetch:refetch,setQuery:setQuery,showMorePagesIndicator:(0,_fp.getOr)(false,"showMorePagesIndicator",pageInfo),totalCount:totalCount,type:type})}))};exports.UncommonProcessQueryTabBody=UncommonProcessQueryTabBody;UncommonProcessQueryTabBody.dispalyName="UncommonProcessQueryTabBody"},8992:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.UncommonProcessesQuery=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _constants=__webpack_require__(977);var _store=__webpack_require__(7016);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(7071);var _helpers2=__webpack_require__(7029);var _query_template_paginated=__webpack_require__(7080);var _index=__webpack_require__(8993);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ID="uncommonProcessesQuery";var UncommonProcessesComponentQuery=function(_QueryTemplatePaginat){_inherits(UncommonProcessesComponentQuery,_QueryTemplatePaginat);function UncommonProcessesComponentQuery(){_classCallCheck(this,UncommonProcessesComponentQuery);return _possibleConstructorReturn(this,_getPrototypeOf(UncommonProcessesComponentQuery).apply(this,arguments))}_createClass(UncommonProcessesComponentQuery,[{key:"render",value:function render(){var _this=this;var _this$props=this.props,activePage=_this$props.activePage,children=_this$props.children,endDate=_this$props.endDate,filterQuery=_this$props.filterQuery,_this$props$id=_this$props.id,id=_this$props$id===void 0?ID:_this$props$id,isInspected=_this$props.isInspected,kibana=_this$props.kibana,limit=_this$props.limit,skip=_this$props.skip,sourceId=_this$props.sourceId,startDate=_this$props.startDate;var variables={defaultIndex:kibana.services.uiSettings.get(_constants.DEFAULT_INDEX_KEY),filterQuery:(0,_helpers2.createFilter)(filterQuery),inspect:isInspected,pagination:(0,_helpers.generateTablePaginationOptions)(activePage,limit),sourceId:sourceId,timerange:{interval:"12h",from:startDate,to:endDate}};return _react.default.createElement(_reactApollo.Query,{query:_index.uncommonProcessesQuery,fetchPolicy:(0,_helpers2.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,skip:skip,variables:variables},(function(_ref){var data=_ref.data,loading=_ref.loading,fetchMore=_ref.fetchMore,networkStatus=_ref.networkStatus,refetch=_ref.refetch;var uncommonProcesses=(0,_fp.getOr)([],"source.UncommonProcesses.edges",data);_this.setFetchMore(fetchMore);_this.setFetchMoreOptions((function(newActivePage){return{variables:{pagination:(0,_helpers.generateTablePaginationOptions)(newActivePage,limit)},updateQuery:function updateQuery(prev,_ref2){var fetchMoreResult=_ref2.fetchMoreResult;if(!fetchMoreResult){return prev}return _objectSpread({},fetchMoreResult,{source:_objectSpread({},fetchMoreResult.source,{UncommonProcesses:_objectSpread({},fetchMoreResult.source.UncommonProcesses,{edges:_toConsumableArray(fetchMoreResult.source.UncommonProcesses.edges)})})})}}}));var isLoading=_this.isItAValidLoading(loading,variables,networkStatus);return children({id:id,inspect:(0,_fp.getOr)(null,"source.UncommonProcesses.inspect",data),isInspected:isInspected,loading:isLoading,loadPage:_this.wrappedLoadMore,pageInfo:(0,_fp.getOr)({},"source.UncommonProcesses.pageInfo",data),refetch:_this.memoizedRefetchQuery(variables,limit,refetch),totalCount:(0,_fp.getOr)(-1,"source.UncommonProcesses.totalCount",data),uncommonProcesses:uncommonProcesses})}))}}]);return UncommonProcessesComponentQuery}(_query_template_paginated.QueryTemplatePaginated);var makeMapStateToProps=function makeMapStateToProps(){var getUncommonProcessesSelector=_store.hostsSelectors.uncommonProcessesSelector();var getQuery=_store.inputsSelectors.globalQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref3){var type=_ref3.type,_ref3$id=_ref3.id,id=_ref3$id===void 0?ID:_ref3$id;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return _objectSpread({},getUncommonProcessesSelector(state,type),{isInspected:isInspected})};return mapStateToProps};var UncommonProcessesQuery=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps),_kibana.withKibana)(UncommonProcessesComponentQuery);exports.UncommonProcessesQuery=UncommonProcessesQuery},8993:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uncommonProcessesQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetUncommonProcessesQuery(\n    $sourceId: ID!\n    $timerange: TimerangeInput!\n    $pagination: PaginationInputPaginated!\n    $filterQuery: String\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      UncommonProcesses(\n        timerange: $timerange\n        pagination: $pagination\n        filterQuery: $filterQuery\n        defaultIndex: $defaultIndex\n      ) {\n        totalCount\n        edges {\n          node {\n            _id\n            instances\n            process {\n              args\n              name\n            }\n            user {\n              id\n              name\n            }\n            hosts {\n              name\n            }\n          }\n          cursor {\n            value\n          }\n        }\n        pageInfo {\n          activePage\n          fakeTotalCount\n          showMorePagesIndicator\n        }\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var uncommonProcessesQuery=(0,_graphqlTag.default)(_templateObject());exports.uncommonProcessesQuery=uncommonProcessesQuery},8994:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.navTabsHostDetails=void 0;var _fp=__webpack_require__(223);var i18n=_interopRequireWildcard(__webpack_require__(7129));var _model=__webpack_require__(504);var _types=__webpack_require__(7030);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getTabsOnHostDetailsUrl=function getTabsOnHostDetailsUrl(hostName,tabName){return"#/".concat(_types.SiemPageName.hosts,"/").concat(hostName,"/").concat(tabName)};var navTabsHostDetails=function navTabsHostDetails(hostName,hasMlUserPermissions){var _hostDetailsNavTabs;var hostDetailsNavTabs=(_hostDetailsNavTabs={},_defineProperty(_hostDetailsNavTabs,_model.HostsTableType.authentications,{id:_model.HostsTableType.authentications,name:i18n.NAVIGATION_AUTHENTICATIONS_TITLE,href:getTabsOnHostDetailsUrl(hostName,_model.HostsTableType.authentications),disabled:false,urlKey:"host",isDetailPage:true}),_defineProperty(_hostDetailsNavTabs,_model.HostsTableType.uncommonProcesses,{id:_model.HostsTableType.uncommonProcesses,name:i18n.NAVIGATION_UNCOMMON_PROCESSES_TITLE,href:getTabsOnHostDetailsUrl(hostName,_model.HostsTableType.uncommonProcesses),disabled:false,urlKey:"host",isDetailPage:true}),_defineProperty(_hostDetailsNavTabs,_model.HostsTableType.anomalies,{id:_model.HostsTableType.anomalies,name:i18n.NAVIGATION_ANOMALIES_TITLE,href:getTabsOnHostDetailsUrl(hostName,_model.HostsTableType.anomalies),disabled:false,urlKey:"host",isDetailPage:true}),_defineProperty(_hostDetailsNavTabs,_model.HostsTableType.events,{id:_model.HostsTableType.events,name:i18n.NAVIGATION_EVENTS_TITLE,href:getTabsOnHostDetailsUrl(hostName,_model.HostsTableType.events),disabled:false,urlKey:"host",isDetailPage:true}),_defineProperty(_hostDetailsNavTabs,_model.HostsTableType.alerts,{id:_model.HostsTableType.alerts,name:i18n.NAVIGATION_ALERTS_TITLE,href:getTabsOnHostDetailsUrl(hostName,_model.HostsTableType.alerts),disabled:false,urlKey:"host"}),_hostDetailsNavTabs);return hasMlUserPermissions?hostDetailsNavTabs:(0,_fp.omit)(_model.HostsTableType.anomalies,hostDetailsNavTabs)};exports.navTabsHostDetails=navTabsHostDetails},8995:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getHostDetailsPageFilters=exports.getHostDetailsEventsKqlQueryExpression=void 0;var _keury=__webpack_require__(1885);var getHostDetailsEventsKqlQueryExpression=function getHostDetailsEventsKqlQueryExpression(_ref){var filterQueryExpression=_ref.filterQueryExpression,hostName=_ref.hostName;if(filterQueryExpression.length){return"".concat(filterQueryExpression).concat(hostName.length?" and host.name: ".concat((0,_keury.escapeQueryValue)(hostName)):"")}else{return hostName.length?"host.name: ".concat((0,_keury.escapeQueryValue)(hostName)):""}};exports.getHostDetailsEventsKqlQueryExpression=getHostDetailsEventsKqlQueryExpression;var getHostDetailsPageFilters=function getHostDetailsPageFilters(hostName){return[{meta:{alias:null,negate:false,disabled:false,type:"phrase",key:"host.name",value:hostName,params:{query:hostName}},query:{match:{"host.name":{query:hostName,type:"phrase"}}}}]};exports.getHostDetailsPageFilters=getHostDetailsPageFilters},8996:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Hosts=exports.HostsComponent=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _reactSticky=__webpack_require__(1001);var _redux=__webpack_require__(7020);var _reactRouterDom=__webpack_require__(23);var _filters_global=__webpack_require__(7107);var _header_page=__webpack_require__(7130);var _last_event_time=__webpack_require__(7203);var _has_ml_user_permissions=__webpack_require__(7078);var _ml_capabilities_provider=__webpack_require__(7064);var _navigation=__webpack_require__(7149);var _hosts=__webpack_require__(7219);var _manage_query=__webpack_require__(7028);var _search_bar=__webpack_require__(7079);var _wrapper_page=__webpack_require__(7054);var _kpi_hosts=__webpack_require__(8997);var _source=__webpack_require__(7042);var _types=__webpack_require__(671);var _kibana=__webpack_require__(7013);var _keury=__webpack_require__(1885);var _store=__webpack_require__(7016);var _actions=__webpack_require__(984);var _spy_routes=__webpack_require__(7057);var _public=__webpack_require__(11);var _hosts_empty_page=__webpack_require__(7692);var _hosts_tabs=__webpack_require__(8999);var _nav_tabs=__webpack_require__(9e3);var i18n=_interopRequireWildcard(__webpack_require__(7129));var _navigation2=__webpack_require__(7220);var _model=__webpack_require__(504);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var KpiHostsComponentManage=(0,_manage_query.manageQuery)(_hosts.KpiHostsComponent);var HostsComponent=_react.default.memo((function(_ref){var deleteQuery=_ref.deleteQuery,isInitializing=_ref.isInitializing,filters=_ref.filters,from=_ref.from,query=_ref.query,setAbsoluteRangeDatePicker=_ref.setAbsoluteRangeDatePicker,setQuery=_ref.setQuery,to=_ref.to,hostsPagePath=_ref.hostsPagePath;var capabilities=_react.default.useContext(_ml_capabilities_provider.MlCapabilitiesContext);var kibana=(0,_kibana.useKibana)();var _useParams=(0,_reactRouterDom.useParams)(),tabName=_useParams.tabName;var tabsFilters=_react.default.useMemo((function(){if(tabName===_model.HostsTableType.alerts){return filters.length>0?[].concat(_toConsumableArray(filters),_toConsumableArray(_navigation2.filterHostData)):_navigation2.filterHostData}return filters}),[tabName,filters]);var narrowDateRange=(0,_react.useCallback)((function(min,max){setAbsoluteRangeDatePicker({id:"global",from:min,to:max})}),[setAbsoluteRangeDatePicker]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_source.WithSource,{sourceId:"default"},(function(_ref2){var indicesExist=_ref2.indicesExist,indexPattern=_ref2.indexPattern;var filterQuery=(0,_keury.convertToBuildEsQuery)({config:_public.esQuery.getEsQueryConfig(kibana.services.uiSettings),indexPattern:indexPattern,queries:[query],filters:filters});var tabsFilterQuery=(0,_keury.convertToBuildEsQuery)({config:_public.esQuery.getEsQueryConfig(kibana.services.uiSettings),indexPattern:indexPattern,queries:[query],filters:tabsFilters});return(0,_source.indicesExistOrDataTemporarilyUnavailable)(indicesExist)?_react.default.createElement(_reactSticky.StickyContainer,null,_react.default.createElement(_filters_global.FiltersGlobal,null,_react.default.createElement(_search_bar.SiemSearchBar,{indexPattern:indexPattern,id:"global"})),_react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_header_page.HeaderPage,{border:true,subtitle:_react.default.createElement(_last_event_time.LastEventTime,{indexKey:_types.LastEventIndexKey.hosts}),title:i18n.PAGE_TITLE}),_react.default.createElement(_kpi_hosts.KpiHostsQuery,{endDate:to,filterQuery:filterQuery,skip:isInitializing,sourceId:"default",startDate:from},(function(_ref3){var kpiHosts=_ref3.kpiHosts,loading=_ref3.loading,id=_ref3.id,inspect=_ref3.inspect,refetch=_ref3.refetch;return _react.default.createElement(KpiHostsComponentManage,{data:kpiHosts,from:from,id:id,inspect:inspect,loading:loading,refetch:refetch,setQuery:setQuery,to:to,narrowDateRange:narrowDateRange})})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_navigation.SiemNavigation,{navTabs:(0,_nav_tabs.navTabsHosts)((0,_has_ml_user_permissions.hasMlUserPermissions)(capabilities))}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_hosts_tabs.HostsTabs,{deleteQuery:deleteQuery,to:to,filterQuery:tabsFilterQuery,isInitializing:isInitializing,setQuery:setQuery,from:from,type:_store.hostsModel.HostsType.page,indexPattern:indexPattern,setAbsoluteRangeDatePicker:setAbsoluteRangeDatePicker,hostsPagePath:hostsPagePath}))):_react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_header_page.HeaderPage,{border:true,title:i18n.PAGE_TITLE}),_react.default.createElement(_hosts_empty_page.HostsEmptyPage,null))})),_react.default.createElement(_spy_routes.SpyRoute,null))}));exports.HostsComponent=HostsComponent;HostsComponent.displayName="HostsComponent";var makeMapStateToProps=function makeMapStateToProps(){var getGlobalQuerySelector=_store.inputsSelectors.globalQuerySelector();var getGlobalFiltersQuerySelector=_store.inputsSelectors.globalFiltersQuerySelector();var mapStateToProps=function mapStateToProps(state){return{query:getGlobalQuerySelector(state),filters:getGlobalFiltersQuerySelector(state)}};return mapStateToProps};var Hosts=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps,{setAbsoluteRangeDatePicker:_actions.setAbsoluteRangeDatePicker}))(HostsComponent);exports.Hosts=Hosts},8997:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KpiHostsQuery=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _constants=__webpack_require__(977);var _store=__webpack_require__(7016);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(7029);var _index=__webpack_require__(8998);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ID="kpiHostsQuery";var KpiHostsComponentQuery=_react.default.memo((function(_ref){var _ref$id=_ref.id,id=_ref$id===void 0?ID:_ref$id,children=_ref.children,endDate=_ref.endDate,filterQuery=_ref.filterQuery,isInspected=_ref.isInspected,skip=_ref.skip,sourceId=_ref.sourceId,startDate=_ref.startDate;return _react.default.createElement(_reactApollo.Query,{query:_index.kpiHostsQuery,fetchPolicy:(0,_helpers.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,skip:skip,variables:{sourceId:sourceId,timerange:{interval:"12h",from:startDate,to:endDate},filterQuery:(0,_helpers.createFilter)(filterQuery),defaultIndex:(0,_kibana.useUiSetting)(_constants.DEFAULT_INDEX_KEY),inspect:isInspected}},(function(_ref2){var data=_ref2.data,loading=_ref2.loading,refetch=_ref2.refetch;var kpiHosts=(0,_fp.getOr)({},"source.KpiHosts",data);return children({id:id,inspect:(0,_fp.getOr)(null,"source.KpiHosts.inspect",data),kpiHosts:kpiHosts,loading:loading,refetch:refetch})}))}));KpiHostsComponentQuery.displayName="KpiHostsComponentQuery";var makeMapStateToProps=function makeMapStateToProps(){var getQuery=_store.inputsSelectors.globalQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref3){var _ref3$id=_ref3.id,id=_ref3$id===void 0?ID:_ref3$id;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return{isInspected:isInspected}};return mapStateToProps};var KpiHostsQuery=(0,_reactRedux.connect)(makeMapStateToProps)(KpiHostsComponentQuery);exports.KpiHostsQuery=KpiHostsQuery},8998:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.kpiHostsQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  fragment KpiHostChartFields on KpiHostHistogramData {\n    x\n    y\n  }\n\n  query GetKpiHostsQuery(\n    $sourceId: ID!\n    $timerange: TimerangeInput!\n    $filterQuery: String\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      KpiHosts(timerange: $timerange, filterQuery: $filterQuery, defaultIndex: $defaultIndex) {\n        hosts\n        hostsHistogram {\n          ...KpiHostChartFields\n        }\n        authSuccess\n        authSuccessHistogram {\n          ...KpiHostChartFields\n        }\n        authFailure\n        authFailureHistogram {\n          ...KpiHostChartFields\n        }\n        uniqueSourceIps\n        uniqueSourceIpsHistogram {\n          ...KpiHostChartFields\n        }\n        uniqueDestinationIps\n        uniqueDestinationIpsHistogram {\n          ...KpiHostChartFields\n        }\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var kpiHostsQuery=(0,_graphqlTag.default)(_templateObject());exports.kpiHostsQuery=kpiHostsQuery},8999:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HostsTabs=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _score_interval_to_datetime=__webpack_require__(7152);var _model=__webpack_require__(504);var _anomalies_query_tab_body=__webpack_require__(7207);var _anomalies_host_table=__webpack_require__(7693);var _navigation=__webpack_require__(7220);var _alerts_query_tab_body=__webpack_require__(7360);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var HostsTabs=(0,_react.memo)((function(_ref){var deleteQuery=_ref.deleteQuery,filterQuery=_ref.filterQuery,setAbsoluteRangeDatePicker=_ref.setAbsoluteRangeDatePicker,to=_ref.to,from=_ref.from,setQuery=_ref.setQuery,isInitializing=_ref.isInitializing,type=_ref.type,indexPattern=_ref.indexPattern,hostsPagePath=_ref.hostsPagePath;var tabProps={deleteQuery:deleteQuery,endDate:to,filterQuery:filterQuery,skip:isInitializing,setQuery:setQuery,startDate:from,type:type,indexPattern:indexPattern,narrowDateRange:function narrowDateRange(score,interval){var fromTo=(0,_score_interval_to_datetime.scoreIntervalToDateTime)(score,interval);setAbsoluteRangeDatePicker({id:"global",from:fromTo.from,to:fromTo.to})},updateDateRange:function updateDateRange(min,max){setAbsoluteRangeDatePicker({id:"global",from:min,to:max})}};return _react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:"".concat(hostsPagePath,"/:tabName(").concat(_model.HostsTableType.hosts,")"),render:function render(){return _react.default.createElement(_navigation.HostsQueryTabBody,tabProps)}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(hostsPagePath,"/:tabName(").concat(_model.HostsTableType.authentications,")"),render:function render(){return _react.default.createElement(_navigation.AuthenticationsQueryTabBody,tabProps)}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(hostsPagePath,"/:tabName(").concat(_model.HostsTableType.uncommonProcesses,")"),render:function render(){return _react.default.createElement(_navigation.UncommonProcessQueryTabBody,tabProps)}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(hostsPagePath,"/:tabName(").concat(_model.HostsTableType.anomalies,")"),render:function render(){return _react.default.createElement(_anomalies_query_tab_body.AnomaliesQueryTabBody,_extends({},tabProps,{AnomaliesTableComponent:_anomalies_host_table.AnomaliesHostTable}))}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(hostsPagePath,"/:tabName(").concat(_model.HostsTableType.events,")"),render:function render(){return _react.default.createElement(_navigation.EventsQueryTabBody,tabProps)}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(hostsPagePath,"/:tabName(").concat(_model.HostsTableType.alerts,")"),render:function render(){return _react.default.createElement(_alerts_query_tab_body.HostAlertsQueryTabBody,tabProps)}}))}));exports.HostsTabs=HostsTabs;HostsTabs.displayName="HostsTabs"},9e3:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.navTabsHosts=void 0;var _fp=__webpack_require__(223);var i18n=_interopRequireWildcard(__webpack_require__(7129));var _model=__webpack_require__(504);var _types=__webpack_require__(7030);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getTabsOnHostsUrl=function getTabsOnHostsUrl(tabName){return"#/".concat(_types.SiemPageName.hosts,"/").concat(tabName)};var navTabsHosts=function navTabsHosts(hasMlUserPermissions){var _hostsNavTabs;var hostsNavTabs=(_hostsNavTabs={},_defineProperty(_hostsNavTabs,_model.HostsTableType.hosts,{id:_model.HostsTableType.hosts,name:i18n.NAVIGATION_ALL_HOSTS_TITLE,href:getTabsOnHostsUrl(_model.HostsTableType.hosts),disabled:false,urlKey:"host"}),_defineProperty(_hostsNavTabs,_model.HostsTableType.authentications,{id:_model.HostsTableType.authentications,name:i18n.NAVIGATION_AUTHENTICATIONS_TITLE,href:getTabsOnHostsUrl(_model.HostsTableType.authentications),disabled:false,urlKey:"host"}),_defineProperty(_hostsNavTabs,_model.HostsTableType.uncommonProcesses,{id:_model.HostsTableType.uncommonProcesses,name:i18n.NAVIGATION_UNCOMMON_PROCESSES_TITLE,href:getTabsOnHostsUrl(_model.HostsTableType.uncommonProcesses),disabled:false,urlKey:"host"}),_defineProperty(_hostsNavTabs,_model.HostsTableType.anomalies,{id:_model.HostsTableType.anomalies,name:i18n.NAVIGATION_ANOMALIES_TITLE,href:getTabsOnHostsUrl(_model.HostsTableType.anomalies),disabled:false,urlKey:"host"}),_defineProperty(_hostsNavTabs,_model.HostsTableType.events,{id:_model.HostsTableType.events,name:i18n.NAVIGATION_EVENTS_TITLE,href:getTabsOnHostsUrl(_model.HostsTableType.events),disabled:false,urlKey:"host"}),_defineProperty(_hostsNavTabs,_model.HostsTableType.alerts,{id:_model.HostsTableType.alerts,name:i18n.NAVIGATION_ALERTS_TITLE,href:getTabsOnHostsUrl(_model.HostsTableType.alerts),disabled:false,urlKey:"host"}),_hostsNavTabs);return hasMlUserPermissions?hostsNavTabs:(0,_fp.omit)([_model.HostsTableType.anomalies],hostsNavTabs)};exports.navTabsHosts=navTabsHosts},9001:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostDetailsPagePath=exports.hostsPagePath=void 0;var _types=__webpack_require__(7030);var hostsPagePath="/:pageName(".concat(_types.SiemPageName.hosts,")");exports.hostsPagePath=hostsPagePath;var hostDetailsPagePath="".concat(hostsPagePath,"/:detailName");exports.hostDetailsPagePath=hostDetailsPagePath},9002:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkContainer=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _ml_capabilities_provider=__webpack_require__(7064);var _has_ml_user_permissions=__webpack_require__(7078);var _types=__webpack_require__(671);var _ip_details=__webpack_require__(7589);var _network=__webpack_require__(9003);var _global_time=__webpack_require__(7164);var _types2=__webpack_require__(7030);var _navigation=__webpack_require__(7696);var _types3=__webpack_require__(7134);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var networkPagePath="/:pageName(".concat(_types2.SiemPageName.network,")");var ipDetailsPageBasePath="".concat(networkPagePath,"/ip/:detailName");var NetworkContainerComponent=function NetworkContainerComponent(){var capabilities=(0,_react.useContext)(_ml_capabilities_provider.MlCapabilitiesContext);var capabilitiesFetched=capabilities.capabilitiesFetched;var userHasMlUserPermissions=(0,_react.useMemo)((function(){return(0,_has_ml_user_permissions.hasMlUserPermissions)(capabilities)}),[capabilities]);var networkRoutePath=(0,_react.useMemo)((function(){return(0,_navigation.getNetworkRoutePath)(networkPagePath,capabilitiesFetched,userHasMlUserPermissions)}),[capabilitiesFetched,userHasMlUserPermissions]);return _react.default.createElement(_global_time.GlobalTime,null,(function(_ref){var to=_ref.to,from=_ref.from,setQuery=_ref.setQuery,deleteQuery=_ref.deleteQuery,isInitializing=_ref.isInitializing;return _react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{strict:true,path:networkRoutePath,render:function render(){return _react.default.createElement(_network.Network,{networkPagePath:networkPagePath,to:to,from:from,setQuery:setQuery,deleteQuery:deleteQuery,isInitializing:isInitializing,capabilitiesFetched:capabilities.capabilitiesFetched,hasMlUserPermissions:userHasMlUserPermissions})}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(ipDetailsPageBasePath,"/:flowTarget"),render:function render(_ref2){var _ref2$match$params=_ref2.match.params,detailName=_ref2$match$params.detailName,flowTarget=_ref2$match$params.flowTarget;return _react.default.createElement(_ip_details.IPDetails,{detailName:detailName,flowTarget:flowTarget,to:to,from:from,setQuery:setQuery,deleteQuery:deleteQuery,isInitializing:isInitializing})}}),_react.default.createElement(_reactRouterDom.Route,{path:ipDetailsPageBasePath,render:function render(_ref3){var _ref3$location$search=_ref3.location.search,search=_ref3$location$search===void 0?"":_ref3$location$search,detailName=_ref3.match.params.detailName;return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_types2.SiemPageName.network,"/ip/").concat(detailName,"/").concat(_types.FlowTarget.source).concat(search)})}}),_react.default.createElement(_reactRouterDom.Route,{path:"/".concat(_types2.SiemPageName.network,"/"),render:function render(_ref4){var _ref4$location$search=_ref4.location.search,search=_ref4$location$search===void 0?"":_ref4$location$search;return _react.default.createElement(_reactRouterDom.Redirect,{to:"/".concat(_types2.SiemPageName.network,"/").concat(_types3.NetworkRouteType.flows).concat(search)})}}))}))};var NetworkContainer=_react.default.memo(NetworkContainerComponent);exports.NetworkContainer=NetworkContainer},9003:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Network=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _reactRouterDom=__webpack_require__(23);var _reactSticky=__webpack_require__(1001);var _public=__webpack_require__(11);var _embedded_map=__webpack_require__(9004);var _filters_global=__webpack_require__(7107);var _header_page=__webpack_require__(7130);var _last_event_time=__webpack_require__(7203);var _navigation=__webpack_require__(7149);var _manage_query=__webpack_require__(7028);var _network=__webpack_require__(7221);var _search_bar=__webpack_require__(7079);var _wrapper_page=__webpack_require__(7054);var _kpi_network=__webpack_require__(9020);var _source=__webpack_require__(7042);var _types=__webpack_require__(671);var _kibana=__webpack_require__(7013);var _keury=__webpack_require__(1885);var _store=__webpack_require__(7016);var _actions=__webpack_require__(984);var _spy_routes=__webpack_require__(7057);var _navigation2=__webpack_require__(7696);var _alerts_query_tab_body=__webpack_require__(7363);var _network_empty_page=__webpack_require__(7602);var i18n=_interopRequireWildcard(__webpack_require__(7209));var _types2=__webpack_require__(7134);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var KpiNetworkComponentManage=(0,_manage_query.manageQuery)(_network.KpiNetworkComponent);var sourceId="default";var NetworkComponent=_react.default.memo((function(_ref){var filters=_ref.filters,query=_ref.query,setAbsoluteRangeDatePicker=_ref.setAbsoluteRangeDatePicker,networkPagePath=_ref.networkPagePath,to=_ref.to,from=_ref.from,setQuery=_ref.setQuery,isInitializing=_ref.isInitializing,hasMlUserPermissions=_ref.hasMlUserPermissions,capabilitiesFetched=_ref.capabilitiesFetched;var kibana=(0,_kibana.useKibana)();var _useParams=(0,_reactRouterDom.useParams)(),tabName=_useParams.tabName;var tabsFilters=(0,_react.useMemo)((function(){if(tabName===_types2.NetworkRouteType.alerts){return filters.length>0?[].concat(_toConsumableArray(filters),_toConsumableArray(_alerts_query_tab_body.filterNetworkData)):_alerts_query_tab_body.filterNetworkData}return filters}),[tabName,filters]);var narrowDateRange=(0,_react.useCallback)((function(min,max){setAbsoluteRangeDatePicker({id:"global",from:min,to:max})}),[setAbsoluteRangeDatePicker]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_source.WithSource,{sourceId:sourceId},(function(_ref2){var indicesExist=_ref2.indicesExist,indexPattern=_ref2.indexPattern;var filterQuery=(0,_keury.convertToBuildEsQuery)({config:_public.esQuery.getEsQueryConfig(kibana.services.uiSettings),indexPattern:indexPattern,queries:[query],filters:filters});var tabsFilterQuery=(0,_keury.convertToBuildEsQuery)({config:_public.esQuery.getEsQueryConfig(kibana.services.uiSettings),indexPattern:indexPattern,queries:[query],filters:tabsFilters});return(0,_source.indicesExistOrDataTemporarilyUnavailable)(indicesExist)?_react.default.createElement(_reactSticky.StickyContainer,null,_react.default.createElement(_filters_global.FiltersGlobal,null,_react.default.createElement(_search_bar.SiemSearchBar,{indexPattern:indexPattern,id:"global"})),_react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_header_page.HeaderPage,{border:true,subtitle:_react.default.createElement(_last_event_time.LastEventTime,{indexKey:_types.LastEventIndexKey.network}),title:i18n.PAGE_TITLE}),_react.default.createElement(_embedded_map.EmbeddedMap,{query:query,filters:filters,startDate:from,endDate:to,setQuery:setQuery}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_kpi_network.KpiNetworkQuery,{endDate:to,filterQuery:filterQuery,skip:isInitializing,sourceId:sourceId,startDate:from},(function(_ref3){var kpiNetwork=_ref3.kpiNetwork,loading=_ref3.loading,id=_ref3.id,inspect=_ref3.inspect,refetch=_ref3.refetch;return _react.default.createElement(KpiNetworkComponentManage,{id:id,inspect:inspect,setQuery:setQuery,refetch:refetch,data:kpiNetwork,loading:loading,from:from,to:to,narrowDateRange:narrowDateRange})})),capabilitiesFetched&&!isInitializing?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_navigation.SiemNavigation,{navTabs:(0,_navigation2.navTabsNetwork)(hasMlUserPermissions)}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_navigation2.NetworkRoutes,{filterQuery:tabsFilterQuery,from:from,isInitializing:isInitializing,indexPattern:indexPattern,setQuery:setQuery,setAbsoluteRangeDatePicker:setAbsoluteRangeDatePicker,type:_store.networkModel.NetworkType.page,to:to,networkPagePath:networkPagePath})):_react.default.createElement(_navigation2.NetworkRoutesLoading,null),_react.default.createElement(_eui.EuiSpacer,null))):_react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_header_page.HeaderPage,{border:true,title:i18n.PAGE_TITLE}),_react.default.createElement(_network_empty_page.NetworkEmptyPage,null))})),_react.default.createElement(_spy_routes.SpyRoute,null))}));NetworkComponent.displayName="NetworkComponent";var makeMapStateToProps=function makeMapStateToProps(){var getGlobalQuerySelector=_store.inputsSelectors.globalQuerySelector();var getGlobalFiltersQuerySelector=_store.inputsSelectors.globalFiltersQuerySelector();var mapStateToProps=function mapStateToProps(state){return{query:getGlobalQuerySelector(state),filters:getGlobalFiltersQuerySelector(state)}};return mapStateToProps};var Network=(0,_reactRedux.connect)(makeMapStateToProps,{setAbsoluteRangeDatePicker:_actions.setAbsoluteRangeDatePicker})(NetworkComponent);exports.Network=Network},9004:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EmbeddedMap=exports.EmbeddedMapComponent=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactReversePortal=__webpack_require__(9247);var _styledComponents=_interopRequireWildcard(__webpack_require__(30));var _public=__webpack_require__(401);var _legacy=__webpack_require__(254);var _constants=__webpack_require__(977);var _helpers=__webpack_require__(9005);var _use_index_patterns=__webpack_require__(9006);var _loader=__webpack_require__(7091);var _toasters=__webpack_require__(7019);var _embeddable=__webpack_require__(9007);var _embeddable_header=__webpack_require__(9008);var _embedded_map_helpers=__webpack_require__(9009);var _index_patterns_missing_prompt=__webpack_require__(9011);var _map_tool_tip=__webpack_require__(9012);var i18n=_interopRequireWildcard(__webpack_require__(7114));var _kibana=__webpack_require__(7013);var _public2=__webpack_require__(16);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var EmbeddableMap=_styledComponents.default.div.attrs((function(){return{className:"siemEmbeddable__map"}})).withConfig({displayName:"EmbeddableMap",componentId:"n4y6cz-0"})([".embPanel{border:none;box-shadow:none;}.mapToolbarOverlay__button{display:none;}",""],(function(_ref){var maintainRatio=_ref.maintainRatio;return maintainRatio&&(0,_styledComponents.css)(["padding-top:calc(3 / 4 * 100%);position:relative;@media only screen and (min-width:","){padding-top:calc(9 / 32 * 100%);}@media only screen and (min-width:1441px) and (min-height:901px){padding-top:calc(9 / 21 * 100%);}.embPanel{bottom:0;left:0;position:absolute;right:0;top:0;}"],(function(_ref2){var theme=_ref2.theme;return theme.eui.euiBreakpoints.m}))}));EmbeddableMap.displayName="EmbeddableMap";var EmbeddedMapComponent=function EmbeddedMapComponent(_ref3){var endDate=_ref3.endDate,filters=_ref3.filters,query=_ref3.query,setQuery=_ref3.setQuery,startDate=_ref3.startDate;var _React$useState=_react.default.useState(null),_React$useState2=_slicedToArray(_React$useState,2),embeddable=_React$useState2[0],setEmbeddable=_React$useState2[1];var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isError=_useState4[0],setIsError=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),isIndexError=_useState6[0],setIsIndexError=_useState6[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];var _useIndexPatterns=(0,_use_index_patterns.useIndexPatterns)(),_useIndexPatterns2=_slicedToArray(_useIndexPatterns,2),loadingKibanaIndexPatterns=_useIndexPatterns2[0],kibanaIndexPatterns=_useIndexPatterns2[1];var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_INDEX_KEY),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),siemDefaultIndices=_useUiSetting$2[0];var portalNode=_react.default.useMemo((function(){return(0,_reactReversePortal.createPortalNode)()}),[]);var _useKibana=(0,_kibana.useKibana)(),services=_useKibana.services;(0,_react.useEffect)((function(){var isSubscribed=true;function setupEmbeddable(){var matchingIndexPatterns,embeddableObject;return regeneratorRuntime.async((function setupEmbeddable$(_context){while(1){switch(_context.prev=_context.next){case 0:matchingIndexPatterns=(0,_embedded_map_helpers.findMatchingIndexPatterns)({kibanaIndexPatterns:kibanaIndexPatterns,siemDefaultIndices:siemDefaultIndices});if(!(matchingIndexPatterns.length===0&&isSubscribed)){_context.next=5;break}setIsLoading(false);setIsIndexError(true);return _context.abrupt("return");case 5:_context.prev=5;_context.next=8;return regeneratorRuntime.awrap((0,_embedded_map_helpers.createEmbeddable)(filters,(0,_helpers.getIndexPatternTitleIdMapping)(matchingIndexPatterns),query,startDate,endDate,setQuery,portalNode,services.embeddable));case 8:embeddableObject=_context.sent;if(isSubscribed){setEmbeddable(embeddableObject)}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context["catch"](5);if(isSubscribed){(0,_toasters.displayErrorToast)(i18n.ERROR_CREATING_EMBEDDABLE,[_context.t0.message],dispatchToaster);setIsError(true)}case 15:if(isSubscribed){setIsLoading(false)}case 16:case"end":return _context.stop()}}}),null,null,[[5,12]])}if(!loadingKibanaIndexPatterns){setupEmbeddable()}return function(){isSubscribed=false}}),[loadingKibanaIndexPatterns,kibanaIndexPatterns]);(0,_react.useEffect)((function(){if(embeddable!=null){embeddable.updateInput({query:query})}}),[query]);(0,_react.useEffect)((function(){if(embeddable!=null){embeddable.updateInput({filters:filters})}}),[filters]);(0,_react.useEffect)((function(){if(embeddable!=null&&startDate!=null&&endDate!=null){var timeRange={from:new Date(startDate).toISOString(),to:new Date(endDate).toISOString()};embeddable.updateInput({timeRange:timeRange})}}),[startDate,endDate]);var SavedObjectFinder=function SavedObjectFinder(props){return _react.default.createElement(_public2.SavedObjectFinderUi,_extends({},props,{savedObjects:services.savedObjects,uiSettings:services.uiSettings}))};return isError?null:_react.default.createElement(_embeddable.Embeddable,null,_react.default.createElement(_embeddable_header.EmbeddableHeader,{title:i18n.EMBEDDABLE_HEADER_TITLE},_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(_eui.EuiLink,{href:"".concat(services.docLinks.ELASTIC_WEBSITE_URL,"guide/en/siem/guide/").concat(services.docLinks.DOC_LINK_VERSION,"/conf-map-ui.html"),target:"_blank"},i18n.EMBEDDABLE_HEADER_HELP))),_react.default.createElement(_reactReversePortal.InPortal,{node:portalNode},_react.default.createElement(_map_tool_tip.MapToolTip,null)),_react.default.createElement(EmbeddableMap,{maintainRatio:!isIndexError},embeddable!=null?_react.default.createElement(_public.EmbeddablePanel,{"data-test-subj":"embeddable-panel",embeddable:embeddable,getActions:services.uiActions.getTriggerCompatibleActions,getEmbeddableFactory:_legacy.start.getEmbeddableFactory,getAllEmbeddableFactories:_legacy.start.getEmbeddableFactories,notifications:services.notifications,overlays:services.overlays,inspector:services.inspector,SavedObjectFinder:SavedObjectFinder}):!isLoading&&isIndexError?_react.default.createElement(_index_patterns_missing_prompt.IndexPatternsMissingPrompt,{"data-test-subj":"missing-prompt"}):_react.default.createElement(_loader.Loader,{"data-test-subj":"loading-panel",overlay:true,size:"xl"})))};exports.EmbeddedMapComponent=EmbeddedMapComponent;EmbeddedMapComponent.displayName="EmbeddedMapComponent";var EmbeddedMap=_react.default.memo(EmbeddedMapComponent);exports.EmbeddedMap=EmbeddedMap;EmbeddedMap.displayName="EmbeddedMap"},9005:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIndexPatternTitleIdMapping=exports.getIndexPatternTitles=void 0;function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var getIndexPatternTitles=function getIndexPatternTitles(indexPatterns){return indexPatterns.reduce((function(acc,v){return[].concat(_toConsumableArray(acc),[v.attributes.title])}),[])};exports.getIndexPatternTitles=getIndexPatternTitles;var getIndexPatternTitleIdMapping=function getIndexPatternTitleIdMapping(indexPatterns){return indexPatterns.reduce((function(acc,v){if(v.attributes&&v.attributes.title){return[].concat(_toConsumableArray(acc),[{title:v.attributes.title,id:v.id}])}else{return acc}}),[])};exports.getIndexPatternTitleIdMapping=getIndexPatternTitleIdMapping},9006:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useIndexPatterns=void 0;var _react=__webpack_require__(0);var _toasters=__webpack_require__(7019);var _error_to_toaster=__webpack_require__(7039);var _api=__webpack_require__(7106);var i18n=_interopRequireWildcard(__webpack_require__(7583));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useIndexPatterns=function useIndexPatterns(){var refreshToggle=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),indexPatterns=_useState2[0],setIndexPatterns=_useState2[1];var _useState3=(0,_react.useState)(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useStateToaster=(0,_toasters.useStateToaster)(),_useStateToaster2=_slicedToArray(_useStateToaster,2),dispatchToaster=_useStateToaster2[1];(0,_react.useEffect)((function(){var isSubscribed=true;var abortCtrl=new AbortController;setIsLoading(true);function fetchIndexPatterns(){var data;return regeneratorRuntime.async((function fetchIndexPatterns$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return regeneratorRuntime.awrap((0,_api.getIndexPatterns)(abortCtrl.signal));case 3:data=_context.sent;if(isSubscribed){setIndexPatterns(data);setIsLoading(false)}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);if(isSubscribed){(0,_error_to_toaster.errorToToaster)({title:i18n.INDEX_PATTERN_FETCH_FAILURE,error:_context.t0,dispatchToaster:dispatchToaster});setIsLoading(false)}case 10:case"end":return _context.stop()}}}),null,null,[[0,7]])}fetchIndexPatterns();return function(){isSubscribed=false;abortCtrl.abort()}}),[refreshToggle]);return[isLoading,indexPatterns]};exports.useIndexPatterns=useIndexPatterns},9007:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Embeddable=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Panel=(0,_styledComponents.default)(_eui.EuiPanel).withConfig({displayName:"Panel",componentId:"haiede-0"})(["overflow:hidden;"]);Panel.displayName="Panel";var Embeddable=_react.default.memo((function(_ref){var children=_ref.children;return _react.default.createElement("section",{className:"siemEmbeddable"},_react.default.createElement(Panel,{paddingSize:"none"},children))}));exports.Embeddable=Embeddable;Embeddable.displayName="Embeddable"},9008:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EmbeddableHeader=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=_styledComponents.default.header.attrs((function(_ref){var className=_ref.className;return{className:"siemEmbeddable__header ".concat(className)}})).withConfig({displayName:"Header",componentId:"sc-1uzy0x1-0"})(["border-bottom:",";padding:",";"],(function(_ref2){var theme=_ref2.theme;return theme.eui.euiBorderThin}),(function(_ref3){var theme=_ref3.theme;return theme.eui.paddingSizes.m}));Header.displayName="Header";var EmbeddableHeader=_react.default.memo((function(_ref4){var children=_ref4.children,title=_ref4.title;return _react.default.createElement(Header,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"xxxs"},_react.default.createElement("h6",{"data-test-subj":"header-embeddable-title"},title))),children&&_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"header-embeddable-supplements",grow:false},children)))}));exports.EmbeddableHeader=EmbeddableHeader;EmbeddableHeader.displayName="EmbeddableHeader"},9009:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.findMatchingIndexPatterns=exports.createEmbeddable=void 0;var _uuid=_interopRequireDefault(__webpack_require__(86));var _react=_interopRequireDefault(__webpack_require__(0));var _reactReversePortal=__webpack_require__(9247);var _minimatch=_interopRequireDefault(__webpack_require__(9264));var _public=__webpack_require__(401);var _map_config=__webpack_require__(7361);var _constants=__webpack_require__(25);var i18n=_interopRequireWildcard(__webpack_require__(7114));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var createEmbeddable=function createEmbeddable(filters,indexPatterns,query,startDate,endDate,setQuery,portalNode,embeddableApi){var factory,state,input,renderTooltipContent,embeddableObject;return regeneratorRuntime.async((function createEmbeddable$(_context){while(1){switch(_context.prev=_context.next){case 0:factory=embeddableApi.getEmbeddableFactory(_constants.MAP_SAVED_OBJECT_TYPE);state={layerList:(0,_map_config.getLayerList)(indexPatterns),title:i18n.MAP_TITLE};input={id:_uuid.default.v4(),filters:filters,hidePanelTitles:true,query:query,refreshConfig:{value:0,pause:true},timeRange:{from:new Date(startDate).toISOString(),to:new Date(endDate).toISOString()},viewMode:_public.ViewMode.VIEW,isLayerTOCOpen:false,openTOCDetails:[],hideFilterActions:false,mapCenter:{lon:-1.05469,lat:15.96133,zoom:1},disabledActions:["CUSTOM_TIME_RANGE","CUSTOM_TIME_RANGE_BADGE"]};renderTooltipContent=function renderTooltipContent(_ref){var addFilters=_ref.addFilters,closeTooltip=_ref.closeTooltip,features=_ref.features,isLocked=_ref.isLocked,getLayerName=_ref.getLayerName,loadFeatureProperties=_ref.loadFeatureProperties,loadFeatureGeometry=_ref.loadFeatureGeometry;var props={addFilters:addFilters,closeTooltip:closeTooltip,features:features,isLocked:isLocked,getLayerName:getLayerName,loadFeatureProperties:loadFeatureProperties,loadFeatureGeometry:loadFeatureGeometry};return _react.default.createElement(_reactReversePortal.OutPortal,_extends({node:portalNode},props))};_context.next=6;return regeneratorRuntime.awrap(factory.createFromState(state,input,undefined,renderTooltipContent));case 6:embeddableObject=_context.sent;setQuery({id:"embeddedMap",inspect:null,loading:false,refetch:function refetch(){return embeddableObject.reload()}});return _context.abrupt("return",embeddableObject);case 9:case"end":return _context.stop()}}}))};exports.createEmbeddable=createEmbeddable;var findMatchingIndexPatterns=function findMatchingIndexPatterns(_ref2){var kibanaIndexPatterns=_ref2.kibanaIndexPatterns,siemDefaultIndices=_ref2.siemDefaultIndices;try{return kibanaIndexPatterns.filter((function(kip){return siemDefaultIndices.some((function(sdi){return(0,_minimatch.default)(sdi,kip.attributes.title)}))}))}catch(_unused){return[]}};exports.findMatchingIndexPatterns=findMatchingIndexPatterns},9010:function(module,exports,__webpack_require__){module.exports=__webpack_require__(17)(573)},9011:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternsMissingPrompt=exports.IndexPatternsMissingPromptComponent=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireDefault(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(8));var _kibana=__webpack_require__(7013);var i18n=_interopRequireWildcard(__webpack_require__(7114));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var IndexPatternsMissingPromptComponent=function IndexPatternsMissingPromptComponent(){var docLinks=(0,_kibana.useKibana)().services.docLinks;return _react2.default.createElement(_eui.EuiEmptyPrompt,{iconType:"gisApp",title:_react2.default.createElement("h2",null,i18n.ERROR_TITLE),titleSize:"xs",body:_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{defaultMessage:"To display map data, you must define SIEM indices ({defaultIndex}) and Kibana index patterns with matching glob patterns. When using {beats}, you can run the {setup} command on your hosts to automatically create the index patterns. For example: {example}.",id:"xpack.siem.components.embeddables.indexPatternsMissingPrompt.errorDescription1",values:{defaultIndex:_react2.default.createElement("a",{href:"".concat(_chrome.default.getBasePath(),"/app/kibana#/management/kibana/settings"),rel:"noopener noreferrer",target:"_blank"},"siem:defaultIndex"),beats:_react2.default.createElement("a",{href:"".concat(docLinks.ELASTIC_WEBSITE_URL,"guide/en/beats/libbeat/").concat(docLinks.DOC_LINK_VERSION,"/getting-started.html"),rel:"noopener noreferrer",target:"_blank"},"beats"),setup:_react2.default.createElement(_eui.EuiCode,null,"setup"),example:_react2.default.createElement(_eui.EuiCode,null,"./packetbeat setup")}})),_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{defaultMessage:"You can also configure index patterns manually in Kibana.",id:"xpack.siem.components.embeddables.indexPatternsMissingPrompt.errorDescription2"}))),actions:_react2.default.createElement(_eui.EuiButton,{href:"".concat(_chrome.default.getBasePath(),"/app/kibana#/management/kibana/index_patterns"),color:"primary",target:"_blank",fill:true},i18n.ERROR_BUTTON)})};exports.IndexPatternsMissingPromptComponent=IndexPatternsMissingPromptComponent;IndexPatternsMissingPromptComponent.displayName="IndexPatternsMissingPromptComponent";var IndexPatternsMissingPrompt=_react2.default.memo(IndexPatternsMissingPromptComponent);exports.IndexPatternsMissingPrompt=IndexPatternsMissingPrompt;IndexPatternsMissingPrompt.displayName="IndexPatternsMissingPrompt"},9012:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MapToolTip=exports.MapToolTipComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _draggable_wrapper=__webpack_require__(7032);var _tooltip_footer=__webpack_require__(9013);var _line_tool_tip_content=__webpack_require__(9014);var _point_tool_tip_content=__webpack_require__(9015);var _loader=__webpack_require__(7091);var i18n=_interopRequireWildcard(__webpack_require__(7114));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var MapToolTipComponent=function MapToolTipComponent(_ref){var addFilters=_ref.addFilters,closeTooltip=_ref.closeTooltip,_ref$features=_ref.features,features=_ref$features===void 0?[]:_ref$features,isLocked=_ref.isLocked,getLayerName=_ref.getLayerName,loadFeatureProperties=_ref.loadFeatureProperties,loadFeatureGeometry=_ref.loadFeatureGeometry;var _useState=(0,_react.useState)(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isLoadingNextFeature=_useState4[0],setIsLoadingNextFeature=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),isError=_useState6[0],setIsError=_useState6[1];var _useState7=(0,_react.useState)(0),_useState8=_slicedToArray(_useState7,2),featureIndex=_useState8[0],setFeatureIndex=_useState8[1];var _useState9=(0,_react.useState)([]),_useState10=_slicedToArray(_useState9,2),featureProps=_useState10[0],setFeatureProps=_useState10[1];var _useState11=(0,_react.useState)(null),_useState12=_slicedToArray(_useState11,2),featureGeometry=_useState12[0],setFeatureGeometry=_useState12[1];var _useState13=(0,_react.useState)(""),_useState14=_slicedToArray(_useState13,2),setLayerName=_useState14[1];(0,_react.useEffect)((function(){if(features.length===0||getLayerName==null||loadFeatureProperties==null||loadFeatureGeometry==null){return}if(!isLoadingNextFeature){setIsLoading(true)}setIsError(false);var fetchFeatureProps=function fetchFeatureProps(){var layerId,featureId,featureGeo,_ref2,_ref3,featureProperties,layerNameString;return regeneratorRuntime.async((function fetchFeatureProps$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(features[featureIndex]!=null)){_context.next=23;break}layerId=features[featureIndex].layerId;featureId=features[featureIndex].id;_context.prev=3;featureGeo=loadFeatureGeometry({layerId:layerId,featureId:featureId});_context.next=7;return regeneratorRuntime.awrap(Promise.all([loadFeatureProperties({layerId:layerId,featureId:featureId}),getLayerName(layerId)]));case 7:_ref2=_context.sent;_ref3=_slicedToArray(_ref2,2);featureProperties=_ref3[0];layerNameString=_ref3[1];setFeatureProps(featureProperties);setFeatureGeometry(featureGeo);setLayerName(layerNameString);_context.next=19;break;case 16:_context.prev=16;_context.t0=_context["catch"](3);setIsError(true);case 19:_context.prev=19;setIsLoading(false);setIsLoadingNextFeature(false);return _context.finish(19);case 23:case"end":return _context.stop()}}}),null,null,[[3,16,19,23]])};fetchFeatureProps()}),[featureIndex,features.map((function(f){return"".concat(f.id,"-").concat(f.layerId)})).sort().join()]);if(isError){return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},i18n.MAP_TOOL_TIP_ERROR))}return isLoading&&!isLoadingNextFeature?_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}))):_react.default.createElement(_draggable_wrapper.DraggablePortalContext.Provider,{value:true},_react.default.createElement(_eui.EuiOutsideClickDetector,{onOutsideClick:function onOutsideClick(){if(closeTooltip!=null){closeTooltip();setFeatureIndex(0)}}},_react.default.createElement("div",null,featureGeometry!=null&&featureGeometry.type==="LineString"?_react.default.createElement(_line_tool_tip_content.LineToolTipContent,{contextId:"".concat(features[featureIndex].layerId,"-").concat(features[featureIndex].id,"-").concat(featureIndex),featureProps:featureProps}):_react.default.createElement(_point_tool_tip_content.PointToolTipContent,{contextId:"".concat(features[featureIndex].layerId,"-").concat(features[featureIndex].id,"-").concat(featureIndex),featureProps:featureProps,closeTooltip:closeTooltip}),features.length>1&&_react.default.createElement(_tooltip_footer.ToolTipFooter,{featureIndex:featureIndex,totalFeatures:features.length,previousFeature:function previousFeature(){setFeatureIndex(featureIndex-1);setIsLoadingNextFeature(true)},nextFeature:function nextFeature(){setFeatureIndex(featureIndex+1);setIsLoadingNextFeature(true)}}),isLoadingNextFeature&&_react.default.createElement(_loader.Loader,{"data-test-subj":"loading-panel",overlay:true,size:"m"}))))};exports.MapToolTipComponent=MapToolTipComponent;MapToolTipComponent.displayName="MapToolTipComponent";var MapToolTip=_react.default.memo(MapToolTipComponent);exports.MapToolTip=MapToolTip;MapToolTip.displayName="MapToolTip"},9013:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ToolTipFooter=exports.ToolTipFooterComponent=exports.Icon=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _eui_theme_light=_interopRequireDefault(__webpack_require__(18));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var i18n=_interopRequireWildcard(__webpack_require__(7114));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Icon=(0,_styledComponents.default)(_eui.EuiIcon).withConfig({displayName:"Icon",componentId:"sc-1n9v2e1-0"})(["margin-right:",";"],_eui_theme_light.default.euiSizeS);exports.Icon=Icon;Icon.displayName="Icon";var ToolTipFooterComponent=function ToolTipFooterComponent(_ref){var featureIndex=_ref.featureIndex,totalFeatures=_ref.totalFeatures,previousFeature=_ref.previousFeature,nextFeature=_ref.nextFeature;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiHorizontalRule,{margin:"s"}),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center",gutterSize:"xs"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,{size:"xs"},i18n.MAP_TOOL_TIP_FEATURES_FOOTER(featureIndex+1,totalFeatures))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement("span",null,_react.default.createElement(_eui.EuiButtonIcon,{"data-test-subj":"previous-feature-button",color:"text",onClick:previousFeature,iconType:"arrowLeft","aria-label":"Next",disabled:featureIndex<=0}),_react.default.createElement(_eui.EuiButtonIcon,{"data-test-subj":"next-feature-button",color:"text",onClick:nextFeature,iconType:"arrowRight","aria-label":"Next",disabled:featureIndex>=totalFeatures-1})))))};exports.ToolTipFooterComponent=ToolTipFooterComponent;ToolTipFooterComponent.displayName="ToolTipFooterComponent";var ToolTipFooter=_react.default.memo(ToolTipFooterComponent);exports.ToolTipFooter=ToolTipFooter;ToolTipFooter.displayName="ToolTipFooter"},9014:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LineToolTipContent=exports.LineToolTipContentComponent=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _source_destination_arrows=__webpack_require__(7214);var _map_config=__webpack_require__(7361);var i18n=_interopRequireWildcard(__webpack_require__(7114));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FlowBadge=(0,_styledComponents.default)(_eui.EuiBadge).withConfig({displayName:"FlowBadge",componentId:"sc-5k92bb-0"})(["height:45px;min-width:85px;"]);var EuiFlexGroupStyled=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"EuiFlexGroupStyled",componentId:"sc-5k92bb-1"})(["margin:0 auto;"]);var LineToolTipContentComponent=function LineToolTipContentComponent(_ref){var contextId=_ref.contextId,featureProps=_ref.featureProps;var lineProps=featureProps.reduce((function(acc,f){return _objectSpread({},acc,{},_defineProperty({},f._propertyKey,Array.isArray(f._rawValue)?f._rawValue:[f._rawValue]))}),{});var isSrcDest=Object.keys(lineProps).includes(_map_config.SUM_OF_SOURCE_BYTES);return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(FlowBadge,{color:"hollow"},_react.default.createElement(EuiFlexGroupStyled,{direction:"column"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},isSrcDest?i18n.SOURCE:i18n.CLIENT)))),_react.default.createElement(_source_destination_arrows.SourceDestinationArrows,{contextId:contextId,destinationBytes:isSrcDest?lineProps[_map_config.SUM_OF_DESTINATION_BYTES]:lineProps[_map_config.SUM_OF_SERVER_BYTES],eventId:"map-line-tooltip-".concat(contextId),sourceBytes:isSrcDest?lineProps[_map_config.SUM_OF_SOURCE_BYTES]:lineProps[_map_config.SUM_OF_CLIENT_BYTES]}),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(FlowBadge,{color:"hollow"},_react.default.createElement(EuiFlexGroupStyled,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},isSrcDest?i18n.DESTINATION:i18n.SERVER)))))};exports.LineToolTipContentComponent=LineToolTipContentComponent;LineToolTipContentComponent.displayName="LineToolTipContentComponent";var LineToolTipContent=_react.default.memo(LineToolTipContentComponent);exports.LineToolTipContent=LineToolTipContent;LineToolTipContent.displayName="LineToolTipContent"},9015:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getRenderedFieldValue=exports.PointToolTipContent=exports.PointToolTipContentComponent=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _map_config=__webpack_require__(7361);var _add_filter_to_global_search_bar=__webpack_require__(7688);var _empty_value=__webpack_require__(7017);var _page=__webpack_require__(7055);var _links=__webpack_require__(7034);var _field_renderers=__webpack_require__(7205);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PointToolTipContentComponent=function PointToolTipContentComponent(_ref){var contextId=_ref.contextId,featureProps=_ref.featureProps,closeTooltip=_ref.closeTooltip;var featureDescriptionListItems=featureProps.map((function(_ref2){var key=_ref2._propertyKey,value=_ref2._rawValue;return{title:_map_config.sourceDestinationFieldMappings[key],description:_react.default.createElement(_add_filter_to_global_search_bar.AddFilterToGlobalSearchBar,{filter:(0,_add_filter_to_global_search_bar.createFilter)(key,Array.isArray(value)?value[0]:value),onFilterAdded:closeTooltip,"data-test-subj":"add-to-kql-".concat(key)},value!=null?_react.default.createElement(_field_renderers.DefaultFieldRenderer,{rowItems:Array.isArray(value)?value:[value],attrName:key,idPrefix:"map-point-tooltip-".concat(contextId,"-").concat(key,"-").concat(value),render:function render(item){return getRenderedFieldValue(key,item)}}):(0,_empty_value.getEmptyTagValue)())}}));return _react.default.createElement(_page.DescriptionListStyled,{listItems:featureDescriptionListItems})};exports.PointToolTipContentComponent=PointToolTipContentComponent;PointToolTipContentComponent.displayName="PointToolTipContentComponent";var PointToolTipContent=_react.default.memo(PointToolTipContentComponent);exports.PointToolTipContent=PointToolTipContent;PointToolTipContent.displayName="PointToolTipContent";var getRenderedFieldValue=function getRenderedFieldValue(field,value){if(value===""){return(0,_empty_value.getOrEmptyTagFromValue)(value)}else if(["host.name"].includes(field)){return _react.default.createElement(_links.HostDetailsLink,{hostName:value})}else if(["source.ip","destination.ip"].includes(field)){var flowTarget=field.split(".")[0];return _react.default.createElement(_links.IPDetailsLink,{ip:value,flowTarget:flowTarget})}return _react.default.createElement(_react.default.Fragment,null,value)};exports.getRenderedFieldValue=getRenderedFieldValue},9016:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KpiNetworkComponent=exports.KpiNetworkBaseComponent=exports.fieldTitleChartMapping=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _fp=__webpack_require__(223);var _stat_items=__webpack_require__(7690);var i18n=_interopRequireWildcard(__webpack_require__(9017));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var kipsPerRow=2;var kpiWidgetHeight=228;var euiVisColorPalette=(0,_eui.euiPaletteColorBlind)();var euiColorVis1=euiVisColorPalette[1];var euiColorVis2=euiVisColorPalette[2];var euiColorVis3=euiVisColorPalette[3];var fieldTitleChartMapping=[{key:"UniqueIps",index:2,fields:[{key:"uniqueSourcePrivateIps",value:null,name:i18n.SOURCE_CHART_LABEL,description:i18n.SOURCE_UNIT_LABEL,color:euiColorVis2,icon:"visMapCoordinate"},{key:"uniqueDestinationPrivateIps",value:null,name:i18n.DESTINATION_CHART_LABEL,description:i18n.DESTINATION_UNIT_LABEL,color:euiColorVis3,icon:"visMapCoordinate"}],description:i18n.UNIQUE_PRIVATE_IPS,enableAreaChart:true,enableBarChart:true,grow:2}];exports.fieldTitleChartMapping=fieldTitleChartMapping;var fieldTitleMatrixMapping=[{key:"networkEvents",index:0,fields:[{key:"networkEvents",value:null,color:euiColorVis1}],description:i18n.NETWORK_EVENTS,grow:1},{key:"dnsQueries",index:1,fields:[{key:"dnsQueries",value:null}],description:i18n.DNS_QUERIES},{key:"uniqueFlowId",index:3,fields:[{key:"uniqueFlowId",value:null}],description:i18n.UNIQUE_FLOW_IDS},{key:"tlsHandshakes",index:4,fields:[{key:"tlsHandshakes",value:null}],description:i18n.TLS_HANDSHAKES}];var FlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"FlexGroup",componentId:"sc-1lemho0-0"})(["min-height:","px;"],kpiWidgetHeight);FlexGroup.displayName="FlexGroup";var KpiNetworkBaseComponent=_react.default.memo((function(_ref){var fieldsMapping=_ref.fieldsMapping,data=_ref.data,id=_ref.id,from=_ref.from,to=_ref.to,narrowDateRange=_ref.narrowDateRange;var statItemsProps=(0,_stat_items.useKpiMatrixStatus)(fieldsMapping,data,id,from,to,narrowDateRange);return _react.default.createElement(_eui.EuiFlexGroup,{wrap:true},statItemsProps.map((function(mappedStatItemProps,idx){return _react.default.createElement(_stat_items.StatItemsComponent,mappedStatItemProps)})))}));exports.KpiNetworkBaseComponent=KpiNetworkBaseComponent;KpiNetworkBaseComponent.displayName="KpiNetworkBaseComponent";var KpiNetworkComponent=_react.default.memo((function(_ref2){var data=_ref2.data,from=_ref2.from,id=_ref2.id,loading=_ref2.loading,to=_ref2.to,narrowDateRange=_ref2.narrowDateRange;return loading?_react.default.createElement(FlexGroup,{justifyContent:"center",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"}))):_react.default.createElement(_eui.EuiFlexGroup,{wrap:true},_react.default.createElement(_eui.EuiFlexItem,{grow:1},(0,_fp.chunk)(kipsPerRow,fieldTitleMatrixMapping).map((function(mappingsPerLine,idx){return _react.default.createElement(_react.default.Fragment,{key:"kpi-network-row-".concat(idx)},idx%kipsPerRow===1&&_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(KpiNetworkBaseComponent,{data:data,id:id,fieldsMapping:mappingsPerLine,from:from,to:to,narrowDateRange:narrowDateRange}))}))),_react.default.createElement(_eui.EuiFlexItem,{grow:1},_react.default.createElement(KpiNetworkBaseComponent,{data:data,id:id,fieldsMapping:fieldTitleChartMapping,from:from,to:to,narrowDateRange:narrowDateRange})))}));exports.KpiNetworkComponent=KpiNetworkComponent;KpiNetworkComponent.displayName="KpiNetworkComponent"},9017:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DESTINATION_CHART_LABEL=exports.SOURCE_CHART_LABEL=exports.DESTINATION_UNIT_LABEL=exports.SOURCE_UNIT_LABEL=exports.UNIQUE_PRIVATE_IPS=exports.TLS_HANDSHAKES=exports.DNS_QUERIES=exports.UNIQUE_FLOW_IDS=exports.NETWORK_EVENTS=void 0;var _i18n=__webpack_require__(2);var NETWORK_EVENTS=_i18n.i18n.translate("xpack.siem.kpiNetwork.networkEvents.title",{defaultMessage:"Network events"});exports.NETWORK_EVENTS=NETWORK_EVENTS;var UNIQUE_FLOW_IDS=_i18n.i18n.translate("xpack.siem.kpiNetwork.uniqueFlowIds.title",{defaultMessage:"Unique flow IDs"});exports.UNIQUE_FLOW_IDS=UNIQUE_FLOW_IDS;var DNS_QUERIES=_i18n.i18n.translate("xpack.siem.kpiNetwork.dnsQueries.title",{defaultMessage:"DNS queries"});exports.DNS_QUERIES=DNS_QUERIES;var TLS_HANDSHAKES=_i18n.i18n.translate("xpack.siem.kpiNetwork.tlsHandshakes.title",{defaultMessage:"TLS handshakes"});exports.TLS_HANDSHAKES=TLS_HANDSHAKES;var UNIQUE_PRIVATE_IPS=_i18n.i18n.translate("xpack.siem.kpiNetwork.uniquePrivateIps.title",{defaultMessage:"Unique private IPs"});exports.UNIQUE_PRIVATE_IPS=UNIQUE_PRIVATE_IPS;var SOURCE_UNIT_LABEL=_i18n.i18n.translate("xpack.siem.kpiNetwork.uniquePrivateIps.sourceUnitLabel",{defaultMessage:"source"});exports.SOURCE_UNIT_LABEL=SOURCE_UNIT_LABEL;var DESTINATION_UNIT_LABEL=_i18n.i18n.translate("xpack.siem.kpiNetwork.uniquePrivateIps.destinationUnitLabel",{defaultMessage:"destination"});exports.DESTINATION_UNIT_LABEL=DESTINATION_UNIT_LABEL;var SOURCE_CHART_LABEL=_i18n.i18n.translate("xpack.siem.kpiNetwork.uniquePrivateIps.sourceChartLabel",{defaultMessage:"Src."});exports.SOURCE_CHART_LABEL=SOURCE_CHART_LABEL;var DESTINATION_CHART_LABEL=_i18n.i18n.translate("xpack.siem.kpiNetwork.uniquePrivateIps.destinationChartLabel",{defaultMessage:"Dest."});exports.DESTINATION_CHART_LABEL=DESTINATION_CHART_LABEL},9018:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getNetworkDnsColumns=void 0;var _numeral=_interopRequireDefault(__webpack_require__(148));var _react=_interopRequireDefault(__webpack_require__(0));var _types=__webpack_require__(671);var _draggable_wrapper=__webpack_require__(7032);var _helpers=__webpack_require__(7021);var _empty_value=__webpack_require__(7017);var _data_provider=__webpack_require__(7024);var _formatted_bytes=__webpack_require__(7133);var _provider=__webpack_require__(7051);var i18n=_interopRequireWildcard(__webpack_require__(7362));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getNetworkDnsColumns=function getNetworkDnsColumns(type){return[{field:"node.".concat(_types.NetworkDnsFields.dnsName),name:i18n.REGISTERED_DOMAIN,truncateText:false,hideForMobile:false,sortable:true,render:function render(dnsName){if(dnsName!=null){var id=(0,_helpers.escapeDataProviderId)("networkDns-table--name-".concat(dnsName));return _react.default.createElement(_draggable_wrapper.DraggableWrapper,{key:id,dataProvider:{and:[],enabled:true,id:id,name:dnsName,excluded:false,kqlQuery:"",queryMatch:{field:"dns.question.registered_domain",value:dnsName,operator:_data_provider.IS_OPERATOR}},render:function render(dataProvider,_,snapshot){return snapshot.isDragging?_react.default.createElement(_draggable_wrapper.DragEffects,null,_react.default.createElement(_provider.Provider,{dataProvider:dataProvider})):(0,_empty_value.defaultToEmptyTag)(dnsName)}})}else{return(0,_empty_value.getEmptyTagValue)()}}},{align:"right",field:"node.".concat(_types.NetworkDnsFields.queryCount),name:i18n.TOTAL_QUERIES,sortable:true,truncateText:false,hideForMobile:false,render:function render(queryCount){if(queryCount!=null){return(0,_numeral.default)(queryCount).format("0")}else{return(0,_empty_value.getEmptyTagValue)()}}},{align:"right",field:"node.".concat(_types.NetworkDnsFields.uniqueDomains),name:i18n.UNIQUE_DOMAINS,sortable:true,truncateText:false,hideForMobile:false,render:function render(uniqueDomains){if(uniqueDomains!=null){return(0,_numeral.default)(uniqueDomains).format("0")}else{return(0,_empty_value.getEmptyTagValue)()}}},{align:"right",field:"node.".concat(_types.NetworkDnsFields.dnsBytesIn),name:i18n.DNS_BYTES_IN,sortable:true,truncateText:false,hideForMobile:false,render:function render(dnsBytesIn){if(dnsBytesIn!=null){return _react.default.createElement(_formatted_bytes.PreferenceFormattedBytes,{value:dnsBytesIn})}else{return(0,_empty_value.getEmptyTagValue)()}}},{align:"right",field:"node.".concat(_types.NetworkDnsFields.dnsBytesOut),name:i18n.DNS_BYTES_OUT,sortable:true,truncateText:false,hideForMobile:false,render:function render(dnsBytesOut){if(dnsBytesOut!=null){return _react.default.createElement(_formatted_bytes.PreferenceFormattedBytes,{value:dnsBytesOut})}else{return(0,_empty_value.getEmptyTagValue)()}}}]};exports.getNetworkDnsColumns=getNetworkDnsColumns},9019:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IsPtrIncluded=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var i18n=_interopRequireWildcard(__webpack_require__(7362));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var IsPtrIncluded=_react.default.memo((function(_ref){var isPtrIncluded=_ref.isPtrIncluded,onChange=_ref.onChange;return _react.default.createElement(_eui.EuiSwitch,{name:"switch-ptr-included",label:i18n.INCLUDE_PTR_RECORDS,checked:isPtrIncluded,onChange:onChange})}));exports.IsPtrIncluded=IsPtrIncluded;IsPtrIncluded.displayName="IsPtrIncluded"},9020:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KpiNetworkQuery=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _constants=__webpack_require__(977);var _store=__webpack_require__(7016);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(7029);var _index=__webpack_require__(9021);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ID="kpiNetworkQuery";var KpiNetworkComponentQuery=_react.default.memo((function(_ref){var _ref$id=_ref.id,id=_ref$id===void 0?ID:_ref$id,children=_ref.children,filterQuery=_ref.filterQuery,isInspected=_ref.isInspected,skip=_ref.skip,sourceId=_ref.sourceId,startDate=_ref.startDate,endDate=_ref.endDate;return _react.default.createElement(_reactApollo.Query,{query:_index.kpiNetworkQuery,fetchPolicy:(0,_helpers.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,skip:skip,variables:{sourceId:sourceId,timerange:{interval:"12h",from:startDate,to:endDate},filterQuery:(0,_helpers.createFilter)(filterQuery),defaultIndex:(0,_kibana.useUiSetting)(_constants.DEFAULT_INDEX_KEY),inspect:isInspected}},(function(_ref2){var data=_ref2.data,loading=_ref2.loading,refetch=_ref2.refetch;var kpiNetwork=(0,_fp.getOr)({},"source.KpiNetwork",data);return children({id:id,inspect:(0,_fp.getOr)(null,"source.KpiNetwork.inspect",data),kpiNetwork:kpiNetwork,loading:loading,refetch:refetch})}))}));KpiNetworkComponentQuery.displayName="KpiNetworkComponentQuery";var makeMapStateToProps=function makeMapStateToProps(){var getQuery=_store.inputsSelectors.globalQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref3){var _ref3$id=_ref3.id,id=_ref3$id===void 0?ID:_ref3$id;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return{isInspected:isInspected}};return mapStateToProps};var KpiNetworkQuery=(0,_reactRedux.connect)(makeMapStateToProps)(KpiNetworkComponentQuery);exports.KpiNetworkQuery=KpiNetworkQuery},9021:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.kpiNetworkQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  fragment KpiNetworkChartFields on KpiNetworkHistogramData {\n    x\n    y\n  }\n\n  query GetKpiNetworkQuery(\n    $sourceId: ID!\n    $timerange: TimerangeInput!\n    $filterQuery: String\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      KpiNetwork(timerange: $timerange, filterQuery: $filterQuery, defaultIndex: $defaultIndex) {\n        networkEvents\n        uniqueFlowId\n        uniqueSourcePrivateIps\n        uniqueSourcePrivateIpsHistogram {\n          ...KpiNetworkChartFields\n        }\n        uniqueDestinationPrivateIps\n        uniqueDestinationPrivateIpsHistogram {\n          ...KpiNetworkChartFields\n        }\n        dnsQueries\n        tlsHandshakes\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var kpiNetworkQuery=(0,_graphqlTag.default)(_templateObject());exports.kpiNetworkQuery=kpiNetworkQuery},9022:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkRoutes=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(23);var _eui=__webpack_require__(1);var _types=__webpack_require__(671);var _score_interval_to_datetime=__webpack_require__(7152);var _ips_query_tab_body=__webpack_require__(9023);var _countries_query_tab_body=__webpack_require__(9024);var _http_query_tab_body=__webpack_require__(9025);var _anomalies_query_tab_body=__webpack_require__(7207);var _anomalies_network_table=__webpack_require__(7593);var _dns_query_tab_body=__webpack_require__(9026);var _conditional_flex_group=__webpack_require__(7601);var _types2=__webpack_require__(7134);var _tls_query_tab_body=__webpack_require__(9029);var _alerts_query_tab_body=__webpack_require__(7363);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var NetworkRoutes=function NetworkRoutes(_ref){var networkPagePath=_ref.networkPagePath,type=_ref.type,to=_ref.to,filterQuery=_ref.filterQuery,isInitializing=_ref.isInitializing,from=_ref.from,indexPattern=_ref.indexPattern,setQuery=_ref.setQuery,setAbsoluteRangeDatePicker=_ref.setAbsoluteRangeDatePicker;var narrowDateRange=(0,_react.useCallback)((function(score,interval){var fromTo=(0,_score_interval_to_datetime.scoreIntervalToDateTime)(score,interval);setAbsoluteRangeDatePicker({id:"global",from:fromTo.from,to:fromTo.to})}),[setAbsoluteRangeDatePicker]);var updateDateRange=(0,_react.useCallback)((function(min,max){setAbsoluteRangeDatePicker({id:"global",from:min,to:max})}),[setAbsoluteRangeDatePicker]);var networkAnomaliesFilterQuery={bool:{should:[{exists:{field:"source.ip"}},{exists:{field:"destination.ip"}}],minimum_should_match:1}};var commonProps={startDate:from,endDate:to,skip:isInitializing,type:type,narrowDateRange:narrowDateRange,setQuery:setQuery,filterQuery:filterQuery};var tabProps=_objectSpread({},commonProps,{indexPattern:indexPattern,updateDateRange:updateDateRange});var anomaliesProps=_objectSpread({},commonProps,{anomaliesFilterQuery:networkAnomaliesFilterQuery,AnomaliesTableComponent:_anomalies_network_table.AnomaliesNetworkTable});return _react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:"".concat(networkPagePath,"/:tabName(").concat(_types2.NetworkRouteType.dns,")"),render:function render(){return _react.default.createElement(_dns_query_tab_body.DnsQueryTabBody,tabProps)}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(networkPagePath,"/:tabName(").concat(_types2.NetworkRouteType.flows,")"),render:function render(){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_conditional_flex_group.ConditionalFlexGroup,{direction:"column"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_ips_query_tab_body.IPsQueryTabBody,_extends({},tabProps,{flowTarget:_types.FlowTargetSourceDest.source}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_ips_query_tab_body.IPsQueryTabBody,_extends({},tabProps,{flowTarget:_types.FlowTargetSourceDest.destination})))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_conditional_flex_group.ConditionalFlexGroup,{direction:"column"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_countries_query_tab_body.CountriesQueryTabBody,_extends({},tabProps,{flowTarget:_types.FlowTargetSourceDest.source}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_countries_query_tab_body.CountriesQueryTabBody,_extends({},tabProps,{flowTarget:_types.FlowTargetSourceDest.destination})))))}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(networkPagePath,"/:tabName(").concat(_types2.NetworkRouteType.http,")"),render:function render(){return _react.default.createElement(_http_query_tab_body.HttpQueryTabBody,tabProps)}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(networkPagePath,"/:tabName(").concat(_types2.NetworkRouteType.tls,")"),render:function render(){return _react.default.createElement(_tls_query_tab_body.TlsQueryTabBody,_extends({},tabProps,{flowTarget:_types.FlowTargetSourceDest.source}))}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(networkPagePath,"/:tabName(").concat(_types2.NetworkRouteType.anomalies,")"),render:function render(){return _react.default.createElement(_anomalies_query_tab_body.AnomaliesQueryTabBody,_extends({},anomaliesProps,{AnomaliesTableComponent:_anomalies_network_table.AnomaliesNetworkTable}))}}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(networkPagePath,"/:tabName(").concat(_types2.NetworkRouteType.alerts,")"),render:function render(){return _react.default.createElement(_alerts_query_tab_body.NetworkAlertsQueryTabBody,tabProps)}}))};exports.NetworkRoutes=NetworkRoutes;NetworkRoutes.displayName="NetworkRoutes"},9023:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IPsQueryTabBody=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _fp=__webpack_require__(223);var _network=__webpack_require__(7221);var _network_top_n_flow=__webpack_require__(7611);var _store=__webpack_require__(7016);var _manage_query=__webpack_require__(7028);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NetworkTopNFlowTableManage=(0,_manage_query.manageQuery)(_network.NetworkTopNFlowTable);var IPsQueryTabBody=function IPsQueryTabBody(_ref){var endDate=_ref.endDate,filterQuery=_ref.filterQuery,skip=_ref.skip,startDate=_ref.startDate,setQuery=_ref.setQuery,flowTarget=_ref.flowTarget;return _react.default.createElement(_network_top_n_flow.NetworkTopNFlowQuery,{endDate:endDate,flowTarget:flowTarget,filterQuery:filterQuery,skip:skip,sourceId:"default",startDate:startDate,type:_store.networkModel.NetworkType.page},(function(_ref2){var id=_ref2.id,inspect=_ref2.inspect,isInspected=_ref2.isInspected,loading=_ref2.loading,loadPage=_ref2.loadPage,networkTopNFlow=_ref2.networkTopNFlow,pageInfo=_ref2.pageInfo,refetch=_ref2.refetch,totalCount=_ref2.totalCount;return _react.default.createElement(NetworkTopNFlowTableManage,{data:networkTopNFlow,fakeTotalCount:(0,_fp.getOr)(50,"fakeTotalCount",pageInfo),flowTargeted:flowTarget,id:id,inspect:inspect,isInspect:isInspected,loading:loading,loadPage:loadPage,refetch:refetch,setQuery:setQuery,showMorePagesIndicator:(0,_fp.getOr)(false,"showMorePagesIndicator",pageInfo),totalCount:totalCount,type:_store.networkModel.NetworkType.page})}))};exports.IPsQueryTabBody=IPsQueryTabBody;IPsQueryTabBody.displayName="IPsQueryTabBody"},9024:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CountriesQueryTabBody=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _fp=__webpack_require__(223);var _network=__webpack_require__(7221);var _network_top_countries=__webpack_require__(7606);var _store=__webpack_require__(7016);var _manage_query=__webpack_require__(7028);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NetworkTopCountriesTableManage=(0,_manage_query.manageQuery)(_network.NetworkTopCountriesTable);var CountriesQueryTabBody=function CountriesQueryTabBody(_ref){var endDate=_ref.endDate,filterQuery=_ref.filterQuery,skip=_ref.skip,startDate=_ref.startDate,setQuery=_ref.setQuery,indexPattern=_ref.indexPattern,flowTarget=_ref.flowTarget;return _react.default.createElement(_network_top_countries.NetworkTopCountriesQuery,{endDate:endDate,flowTarget:flowTarget,filterQuery:filterQuery,skip:skip,sourceId:"default",startDate:startDate,type:_store.networkModel.NetworkType.page},(function(_ref2){var id=_ref2.id,inspect=_ref2.inspect,isInspected=_ref2.isInspected,loading=_ref2.loading,loadPage=_ref2.loadPage,networkTopCountries=_ref2.networkTopCountries,pageInfo=_ref2.pageInfo,refetch=_ref2.refetch,totalCount=_ref2.totalCount;return _react.default.createElement(NetworkTopCountriesTableManage,{data:networkTopCountries,fakeTotalCount:(0,_fp.getOr)(50,"fakeTotalCount",pageInfo),flowTargeted:flowTarget,id:id,indexPattern:indexPattern,inspect:inspect,isInspect:isInspected,loading:loading,loadPage:loadPage,refetch:refetch,setQuery:setQuery,showMorePagesIndicator:(0,_fp.getOr)(false,"showMorePagesIndicator",pageInfo),totalCount:totalCount,type:_store.networkModel.NetworkType.page})}))};exports.CountriesQueryTabBody=CountriesQueryTabBody;CountriesQueryTabBody.displayName="CountriesQueryTabBody"},9025:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HttpQueryTabBody=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _fp=__webpack_require__(223);var _network=__webpack_require__(7221);var _network_http=__webpack_require__(7603);var _store=__webpack_require__(7016);var _manage_query=__webpack_require__(7028);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NetworkHttpTableManage=(0,_manage_query.manageQuery)(_network.NetworkHttpTable);var HttpQueryTabBody=function HttpQueryTabBody(_ref){var endDate=_ref.endDate,filterQuery=_ref.filterQuery,skip=_ref.skip,startDate=_ref.startDate,setQuery=_ref.setQuery;return _react.default.createElement(_network_http.NetworkHttpQuery,{endDate:endDate,filterQuery:filterQuery,skip:skip,sourceId:"default",startDate:startDate,type:_store.networkModel.NetworkType.page},(function(_ref2){var id=_ref2.id,inspect=_ref2.inspect,isInspected=_ref2.isInspected,loading=_ref2.loading,loadPage=_ref2.loadPage,networkHttp=_ref2.networkHttp,pageInfo=_ref2.pageInfo,refetch=_ref2.refetch,totalCount=_ref2.totalCount;return _react.default.createElement(NetworkHttpTableManage,{data:networkHttp,fakeTotalCount:(0,_fp.getOr)(50,"fakeTotalCount",pageInfo),id:id,inspect:inspect,isInspect:isInspected,loading:loading,loadPage:loadPage,refetch:refetch,setQuery:setQuery,showMorePagesIndicator:(0,_fp.getOr)(false,"showMorePagesIndicator",pageInfo),totalCount:totalCount,type:_store.networkModel.NetworkType.page})}))};exports.HttpQueryTabBody=HttpQueryTabBody;HttpQueryTabBody.displayName="HttpQueryTabBody"},9026:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DnsQueryTabBody=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _fp=__webpack_require__(223);var _network_dns_table=__webpack_require__(7695);var _network_dns=__webpack_require__(9027);var _manage_query=__webpack_require__(7028);var _store=__webpack_require__(7016);var i18n=_interopRequireWildcard(__webpack_require__(7209));var _index=__webpack_require__(7110);var _matrix_histogram=__webpack_require__(7109);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var NetworkDnsTableManage=(0,_manage_query.manageQuery)(_network_dns_table.NetworkDnsTable);var dnsStackByOptions=[{text:"dns.question.registered_domain",value:"dns.question.registered_domain"}];var DnsQueryTabBody=function DnsQueryTabBody(_ref){var deleteQuery=_ref.deleteQuery,endDate=_ref.endDate,filterQuery=_ref.filterQuery,skip=_ref.skip,startDate=_ref.startDate,setQuery=_ref.setQuery,type=_ref.type,_ref$updateDateRange=_ref.updateDateRange,updateDateRange=_ref$updateDateRange===void 0?function(){}:_ref$updateDateRange;(0,_react.useEffect)((function(){return function(){if(deleteQuery){deleteQuery({id:_network_dns.HISTOGRAM_ID})}}}),[deleteQuery]);var getTitle=(0,_react.useCallback)((function(option){return i18n.DOMAINS_COUNT_BY(option.text)}),[]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_matrix_histogram.MatrixHistogramContainer,{dataKey:["NetworkDnsHistogram","matrixHistogramData"],defaultStackByOption:dnsStackByOptions[0],endDate:endDate,errorMessage:i18n.ERROR_FETCHING_DNS_DATA,filterQuery:filterQuery,id:_network_dns.HISTOGRAM_ID,isDnsHistogram:true,query:_index.MatrixHistogramGqlQuery,setQuery:setQuery,sourceId:"default",startDate:startDate,stackByOptions:dnsStackByOptions,title:getTitle,type:_store.networkModel.NetworkType.page,updateDateRange:updateDateRange}),_react.default.createElement(_network_dns.NetworkDnsQuery,{endDate:endDate,filterQuery:filterQuery,skip:skip,sourceId:"default",startDate:startDate,type:type},(function(_ref2){var totalCount=_ref2.totalCount,loading=_ref2.loading,networkDns=_ref2.networkDns,pageInfo=_ref2.pageInfo,loadPage=_ref2.loadPage,id=_ref2.id,inspect=_ref2.inspect,isInspected=_ref2.isInspected,refetch=_ref2.refetch;return _react.default.createElement(NetworkDnsTableManage,{data:networkDns,fakeTotalCount:(0,_fp.getOr)(50,"fakeTotalCount",pageInfo),id:id,inspect:inspect,isInspect:isInspected,loading:loading,loadPage:loadPage,refetch:refetch,setQuery:setQuery,showMorePagesIndicator:(0,_fp.getOr)(false,"showMorePagesIndicator",pageInfo),totalCount:totalCount,type:type})})))};exports.DnsQueryTabBody=DnsQueryTabBody;DnsQueryTabBody.displayName="DNSQueryTabBody"},9027:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkDnsHistogramQuery=exports.NetworkDnsQuery=exports.NetworkDnsComponentQuery=exports.HISTOGRAM_ID=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _redux=__webpack_require__(7020);var _constants=__webpack_require__(977);var _store=__webpack_require__(7016);var _kibana=__webpack_require__(7013);var _helpers=__webpack_require__(7071);var _helpers2=__webpack_require__(7029);var _query_template_paginated=__webpack_require__(7080);var _index=__webpack_require__(9028);var _constants2=__webpack_require__(533);var _matrix_histogram=__webpack_require__(7617);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ID="networkDnsQuery";var HISTOGRAM_ID="networkDnsHistogramQuery";exports.HISTOGRAM_ID=HISTOGRAM_ID;var NetworkDnsComponentQuery=function(_QueryTemplatePaginat){_inherits(NetworkDnsComponentQuery,_QueryTemplatePaginat);function NetworkDnsComponentQuery(){_classCallCheck(this,NetworkDnsComponentQuery);return _possibleConstructorReturn(this,_getPrototypeOf(NetworkDnsComponentQuery).apply(this,arguments))}_createClass(NetworkDnsComponentQuery,[{key:"render",value:function render(){var _this=this;var _this$props=this.props,activePage=_this$props.activePage,children=_this$props.children,sort=_this$props.sort,endDate=_this$props.endDate,filterQuery=_this$props.filterQuery,_this$props$id=_this$props.id,id=_this$props$id===void 0?ID:_this$props$id,isInspected=_this$props.isInspected,isPtrIncluded=_this$props.isPtrIncluded,kibana=_this$props.kibana,limit=_this$props.limit,skip=_this$props.skip,sourceId=_this$props.sourceId,startDate=_this$props.startDate;var variables={defaultIndex:kibana.services.uiSettings.get(_constants.DEFAULT_INDEX_KEY),filterQuery:(0,_helpers2.createFilter)(filterQuery),inspect:isInspected,isPtrIncluded:isPtrIncluded,pagination:(0,_helpers.generateTablePaginationOptions)(activePage,limit),sort:sort,sourceId:sourceId,timerange:{interval:"12h",from:startDate,to:endDate}};return _react.default.createElement(_reactApollo.Query,{fetchPolicy:(0,_helpers2.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,query:_index.networkDnsQuery,skip:skip,variables:variables},(function(_ref){var data=_ref.data,loading=_ref.loading,fetchMore=_ref.fetchMore,networkStatus=_ref.networkStatus,refetch=_ref.refetch;var networkDns=(0,_fp.getOr)([],"source.NetworkDns.edges",data);_this.setFetchMore(fetchMore);_this.setFetchMoreOptions((function(newActivePage){return{variables:{pagination:(0,_helpers.generateTablePaginationOptions)(newActivePage,limit)},updateQuery:function updateQuery(prev,_ref2){var fetchMoreResult=_ref2.fetchMoreResult;if(!fetchMoreResult){return prev}return _objectSpread({},fetchMoreResult,{source:_objectSpread({},fetchMoreResult.source,{NetworkDns:_objectSpread({},fetchMoreResult.source.NetworkDns,{edges:_toConsumableArray(fetchMoreResult.source.NetworkDns.edges)})})})}}}));var isLoading=_this.isItAValidLoading(loading,variables,networkStatus);return children({id:id,inspect:(0,_fp.getOr)(null,"source.NetworkDns.inspect",data),isInspected:isInspected,loading:isLoading,loadPage:_this.wrappedLoadMore,networkDns:networkDns,pageInfo:(0,_fp.getOr)({},"source.NetworkDns.pageInfo",data),refetch:_this.memoizedRefetchQuery(variables,limit,refetch),totalCount:(0,_fp.getOr)(-1,"source.NetworkDns.totalCount",data),histogram:(0,_fp.getOr)(null,"source.NetworkDns.histogram",data)})}))}}]);return NetworkDnsComponentQuery}(_query_template_paginated.QueryTemplatePaginated);exports.NetworkDnsComponentQuery=NetworkDnsComponentQuery;var makeMapStateToProps=function makeMapStateToProps(){var getNetworkDnsSelector=_store.networkSelectors.dnsSelector();var getQuery=_store.inputsSelectors.globalQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref3){var _ref3$id=_ref3.id,id=_ref3$id===void 0?ID:_ref3$id;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return _objectSpread({},getNetworkDnsSelector(state),{isInspected:isInspected,id:id})};return mapStateToProps};var makeMapHistogramStateToProps=function makeMapHistogramStateToProps(){var getNetworkDnsSelector=_store.networkSelectors.dnsSelector();var getQuery=_store.inputsSelectors.globalQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref4){var _ref4$id=_ref4.id,id=_ref4$id===void 0?HISTOGRAM_ID:_ref4$id;var _getQuery2=getQuery(state,id),isInspected=_getQuery2.isInspected;return _objectSpread({},getNetworkDnsSelector(state),{activePage:_constants2.DEFAULT_TABLE_ACTIVE_PAGE,limit:_constants2.DEFAULT_TABLE_LIMIT,isInspected:isInspected,id:id})};return mapStateToProps};var NetworkDnsQuery=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps),_kibana.withKibana)(NetworkDnsComponentQuery);exports.NetworkDnsQuery=NetworkDnsQuery;var NetworkDnsHistogramQuery=(0,_redux.compose)((0,_reactRedux.connect)(makeMapHistogramStateToProps),_kibana.withKibana)(_matrix_histogram.MatrixHistogram);exports.NetworkDnsHistogramQuery=NetworkDnsHistogramQuery},9028:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.networkDnsQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetNetworkDnsQuery(\n    $defaultIndex: [String!]!\n    $filterQuery: String\n    $inspect: Boolean!\n    $isPtrIncluded: Boolean!\n    $pagination: PaginationInputPaginated!\n    $sort: NetworkDnsSortField!\n    $sourceId: ID!\n    $stackByField: String\n    $timerange: TimerangeInput!\n  ) {\n    source(id: $sourceId) {\n      id\n      NetworkDns(\n        isPtrIncluded: $isPtrIncluded\n        sort: $sort\n        timerange: $timerange\n        pagination: $pagination\n        filterQuery: $filterQuery\n        defaultIndex: $defaultIndex\n        stackByField: $stackByField\n      ) {\n        totalCount\n        edges {\n          node {\n            _id\n            dnsBytesIn\n            dnsBytesOut\n            dnsName\n            queryCount\n            uniqueDomains\n          }\n          cursor {\n            value\n          }\n        }\n        pageInfo {\n          activePage\n          fakeTotalCount\n          showMorePagesIndicator\n        }\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var networkDnsQuery=(0,_graphqlTag.default)(_templateObject());exports.networkDnsQuery=networkDnsQuery},9029:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TlsQueryTabBody=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _fp=__webpack_require__(223);var _manage_query=__webpack_require__(7028);var _tls=__webpack_require__(7614);var _tls_table=__webpack_require__(7612);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TlsTableManage=(0,_manage_query.manageQuery)(_tls_table.TlsTable);var TlsQueryTabBody=function TlsQueryTabBody(_ref){var endDate=_ref.endDate,filterQuery=_ref.filterQuery,flowTarget=_ref.flowTarget,_ref$ip=_ref.ip,ip=_ref$ip===void 0?"":_ref$ip,setQuery=_ref.setQuery,skip=_ref.skip,startDate=_ref.startDate,type=_ref.type;return _react.default.createElement(_tls.TlsQuery,{endDate:endDate,filterQuery:filterQuery,flowTarget:flowTarget,ip:ip,skip:skip,sourceId:"default",startDate:startDate,type:type},(function(_ref2){var id=_ref2.id,inspect=_ref2.inspect,isInspected=_ref2.isInspected,tls=_ref2.tls,totalCount=_ref2.totalCount,pageInfo=_ref2.pageInfo,loading=_ref2.loading,loadPage=_ref2.loadPage,refetch=_ref2.refetch;return _react.default.createElement(TlsTableManage,{data:tls,id:id,inspect:inspect,isInspect:isInspected,fakeTotalCount:(0,_fp.getOr)(50,"fakeTotalCount",pageInfo),loading:loading,loadPage:loadPage,showMorePagesIndicator:(0,_fp.getOr)(false,"showMorePagesIndicator",pageInfo),refetch:refetch,setQuery:setQuery,totalCount:totalCount,type:type})}))};exports.TlsQueryTabBody=TlsQueryTabBody},9030:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkRoutesLoading=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"FlexGroup",componentId:"sc-11inhh0-0"})(["min-height:200px;"]);FlexGroup.displayName="FlexGroup";var NetworkRoutesLoading=function NetworkRoutesLoading(){return _react.default.createElement(FlexGroup,{justifyContent:"center",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"})))};exports.NetworkRoutesLoading=NetworkRoutesLoading;NetworkRoutesLoading.displayName="NetworkRoutesLoading"},9031:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.navTabsNetwork=void 0;var _fp=__webpack_require__(223);var i18n=_interopRequireWildcard(__webpack_require__(7209));var _types=__webpack_require__(7134);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getTabsOnNetworkUrl=function getTabsOnNetworkUrl(tabName){return"#/network/".concat(tabName)};var navTabsNetwork=function navTabsNetwork(hasMlUserPermissions){var _networkNavTabs;var networkNavTabs=(_networkNavTabs={},_defineProperty(_networkNavTabs,_types.NetworkRouteType.flows,{id:_types.NetworkRouteType.flows,name:i18n.NAVIGATION_FLOWS_TITLE,href:getTabsOnNetworkUrl(_types.NetworkRouteType.flows),disabled:false,urlKey:"network"}),_defineProperty(_networkNavTabs,_types.NetworkRouteType.dns,{id:_types.NetworkRouteType.dns,name:i18n.NAVIGATION_DNS_TITLE,href:getTabsOnNetworkUrl(_types.NetworkRouteType.dns),disabled:false,urlKey:"network"}),_defineProperty(_networkNavTabs,_types.NetworkRouteType.http,{id:_types.NetworkRouteType.http,name:i18n.NAVIGATION_HTTP_TITLE,href:getTabsOnNetworkUrl(_types.NetworkRouteType.http),disabled:false,urlKey:"network"}),_defineProperty(_networkNavTabs,_types.NetworkRouteType.tls,{id:_types.NetworkRouteType.tls,name:i18n.NAVIGATION_TLS_TITLE,href:getTabsOnNetworkUrl(_types.NetworkRouteType.tls),disabled:false,urlKey:"network"}),_defineProperty(_networkNavTabs,_types.NetworkRouteType.anomalies,{id:_types.NetworkRouteType.anomalies,name:i18n.NAVIGATION_ANOMALIES_TITLE,href:getTabsOnNetworkUrl(_types.NetworkRouteType.anomalies),disabled:false,urlKey:"network"}),_defineProperty(_networkNavTabs,_types.NetworkRouteType.alerts,{id:_types.NetworkRouteType.alerts,name:i18n.NAVIGATION_ALERTS_TITLE,href:getTabsOnNetworkUrl(_types.NetworkRouteType.alerts),disabled:false,urlKey:"network"}),_networkNavTabs);return hasMlUserPermissions?networkNavTabs:(0,_fp.omit)([_types.NetworkRouteType.anomalies],networkNavTabs)};exports.navTabsNetwork=navTabsNetwork},9032:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getNetworkRoutePath=void 0;var _types=__webpack_require__(7134);var getNetworkRoutePath=function getNetworkRoutePath(pagePath,capabilitiesFetched,hasMlUserPermission){if(capabilitiesFetched&&!hasMlUserPermission){return"".concat(pagePath,"/:tabName(").concat(_types.NetworkRouteType.flows,"|").concat(_types.NetworkRouteType.dns,"|").concat(_types.NetworkRouteType.http,"|").concat(_types.NetworkRouteType.tls,"|").concat(_types.NetworkRouteType.alerts,")")}return"".concat(pagePath,"/:tabName(")+"".concat(_types.NetworkRouteType.flows,"|")+"".concat(_types.NetworkRouteType.dns,"|")+"".concat(_types.NetworkRouteType.anomalies,"|")+"".concat(_types.NetworkRouteType.http,"|")+"".concat(_types.NetworkRouteType.tls,"|")+"".concat(_types.NetworkRouteType.alerts,")")};exports.getNetworkRoutePath=getNetworkRoutePath},9033:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Overview=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _overview=__webpack_require__(9034);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var Overview=(0,_react.memo)((function(){return _react.default.createElement(_overview.StatefulOverview,null)}));exports.Overview=Overview;Overview.displayName="Overview"},9034:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatefulOverview=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _reactSticky=__webpack_require__(1001);var _redux=__webpack_require__(7020);var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _alerts_by_category=__webpack_require__(7674);var _filters_global=__webpack_require__(7107);var _search_bar=__webpack_require__(7079);var _wrapper_page=__webpack_require__(7054);var _global_time=__webpack_require__(7164);var _source=__webpack_require__(7042);var _events_by_dataset=__webpack_require__(9035);var _event_counts=__webpack_require__(9036);var _overview_empty=__webpack_require__(9045);var _sidebar=__webpack_require__(9046);var _signals_by_category=__webpack_require__(9059);var _store=__webpack_require__(7016);var _actions=__webpack_require__(984);var _spy_routes=__webpack_require__(7057);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DEFAULT_QUERY={query:"",language:"kuery"};var NO_FILTERS=[];var SidebarFlexItem=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"SidebarFlexItem",componentId:"m8qyvs-0"})(["margin-right:24px;"]);var OverviewComponent=function OverviewComponent(_ref){var _ref$filters=_ref.filters,filters=_ref$filters===void 0?NO_FILTERS:_ref$filters,_ref$query=_ref.query,query=_ref$query===void 0?DEFAULT_QUERY:_ref$query,setAbsoluteRangeDatePicker=_ref.setAbsoluteRangeDatePicker;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_source.WithSource,{sourceId:"default"},(function(_ref2){var indicesExist=_ref2.indicesExist,indexPattern=_ref2.indexPattern;return(0,_source.indicesExistOrDataTemporarilyUnavailable)(indicesExist)?_react.default.createElement(_reactSticky.StickyContainer,null,_react.default.createElement(_filters_global.FiltersGlobal,null,_react.default.createElement(_search_bar.SiemSearchBar,{id:"global",indexPattern:indexPattern})),_react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"spaceBetween"},_react.default.createElement(SidebarFlexItem,{grow:false},_react.default.createElement(_sidebar.StatefulSidebar,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_global_time.GlobalTime,null,(function(_ref3){var from=_ref3.from,deleteQuery=_ref3.deleteQuery,setQuery=_ref3.setQuery,to=_ref3.to;return _react.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_signals_by_category.SignalsByCategory,{filters:filters,from:from,indexPattern:indexPattern,query:query,setAbsoluteRangeDatePicker:setAbsoluteRangeDatePicker,setQuery:setQuery,to:to}),_react.default.createElement(_eui.EuiSpacer,{size:"l"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_alerts_by_category.AlertsByCategory,{deleteQuery:deleteQuery,filters:filters,from:from,indexPattern:indexPattern,query:query,setAbsoluteRangeDatePicker:setAbsoluteRangeDatePicker,setQuery:setQuery,to:to})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_events_by_dataset.EventsByDataset,{deleteQuery:deleteQuery,filters:filters,from:from,indexPattern:indexPattern,query:query,setAbsoluteRangeDatePicker:setAbsoluteRangeDatePicker,setQuery:setQuery,to:to})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_event_counts.EventCounts,{filters:filters,from:from,indexPattern:indexPattern,query:query,setQuery:setQuery,to:to})))})))))):_react.default.createElement(_overview_empty.OverviewEmpty,null)})),_react.default.createElement(_spy_routes.SpyRoute,null))};var makeMapStateToProps=function makeMapStateToProps(){var getGlobalFiltersQuerySelector=_store.inputsSelectors.globalFiltersQuerySelector();var getGlobalQuerySelector=_store.inputsSelectors.globalQuerySelector();var mapStateToProps=function mapStateToProps(state){return{query:getGlobalQuerySelector(state),filters:getGlobalFiltersQuerySelector(state)}};return mapStateToProps};var mapDispatchToProps={setAbsoluteRangeDatePicker:_actions.setAbsoluteRangeDatePicker};var StatefulOverview=(0,_redux.compose)((0,_reactRedux.connect)(makeMapStateToProps,mapDispatchToProps))(_react.default.memo(OverviewComponent));exports.StatefulOverview=StatefulOverview},9035:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventsByDataset=void 0;var _eui=__webpack_require__(1);var _numeral=_interopRequireDefault(__webpack_require__(148));var _react=_interopRequireWildcard(__webpack_require__(0));var _translations=__webpack_require__(7346);var _keury=__webpack_require__(1885);var _redirect_to_hosts=__webpack_require__(7202);var _matrix_histogram=__webpack_require__(7109);var _index=__webpack_require__(7110);var _navigation=__webpack_require__(7220);var _kibana=__webpack_require__(7013);var _public=__webpack_require__(11);var _model=__webpack_require__(504);var _constants=__webpack_require__(977);var i18n=_interopRequireWildcard(__webpack_require__(7165));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var NO_FILTERS=[];var DEFAULT_QUERY={query:"",language:"kuery"};var DEFAULT_STACK_BY="event.dataset";var ID="eventsByDatasetOverview";var EventsByDatasetComponent=function EventsByDatasetComponent(_ref){var _eventsStackByOptions;var deleteQuery=_ref.deleteQuery,_ref$filters=_ref.filters,filters=_ref$filters===void 0?NO_FILTERS:_ref$filters,from=_ref.from,indexPattern=_ref.indexPattern,_ref$query=_ref.query,query=_ref$query===void 0?DEFAULT_QUERY:_ref$query,setAbsoluteRangeDatePicker=_ref.setAbsoluteRangeDatePicker,setQuery=_ref.setQuery,to=_ref.to;(0,_react.useEffect)((function(){return function(){if(deleteQuery){deleteQuery({id:ID})}}}),[]);var kibana=(0,_kibana.useKibana)();var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_NUMBER_FORMAT),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),defaultNumberFormat=_useUiSetting$2[0];var updateDateRangeCallback=(0,_react.useCallback)((function(min,max){setAbsoluteRangeDatePicker({id:"global",from:min,to:max})}),[setAbsoluteRangeDatePicker]);var eventsCountViewEventsButton=(0,_react.useMemo)((function(){return _react.default.createElement(_eui.EuiButton,{href:(0,_redirect_to_hosts.getTabsOnHostsUrl)(_model.HostsTableType.events)},i18n.VIEW_EVENTS)}),[]);var getSubtitle=(0,_react.useCallback)((function(totalCount){return"".concat(_translations.SHOWING,": ").concat((0,_numeral.default)(totalCount).format(defaultNumberFormat)," ").concat((0,_translations.UNIT)(totalCount))}),[]);var defaultStackByOption=(_eventsStackByOptions=_navigation.eventsStackByOptions.find((function(o){return o.text===DEFAULT_STACK_BY})))!==null&&_eventsStackByOptions!==void 0?_eventsStackByOptions:_navigation.eventsStackByOptions[0];var filterQuery=(0,_react.useMemo)((function(){return(0,_keury.convertToBuildEsQuery)({config:_public.esQuery.getEsQueryConfig(kibana.services.uiSettings),indexPattern:indexPattern,queries:[query],filters:filters})}),[kibana,indexPattern,query,filters]);return _react.default.createElement(_matrix_histogram.MatrixHistogramContainer,{dataKey:"EventsHistogram",defaultStackByOption:defaultStackByOption,endDate:to,errorMessage:_translations.ERROR_FETCHING_EVENTS_DATA,filterQuery:filterQuery,headerChildren:eventsCountViewEventsButton,id:ID,isEventsHistogram:true,legendPosition:"right",query:_index.MatrixHistogramGqlQuery,setQuery:setQuery,sourceId:"default",stackByOptions:_navigation.eventsStackByOptions,startDate:from,title:i18n.EVENTS,subtitle:getSubtitle,type:_model.HostsType.page,updateDateRange:updateDateRangeCallback})};EventsByDatasetComponent.displayName="EventsByDatasetComponent";var EventsByDataset=_react.default.memo(EventsByDatasetComponent);exports.EventsByDataset=EventsByDataset},9036:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventCounts=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _overview_host=__webpack_require__(9037);var _overview_network=__webpack_require__(9041);var _alerts_query_tab_body=__webpack_require__(7360);var _kibana=__webpack_require__(7013);var _keury=__webpack_require__(1885);var _alerts_query_tab_body2=__webpack_require__(7363);var _public=__webpack_require__(11);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var HorizontalSpacer=(0,_styledComponents.default)(_eui.EuiFlexItem).withConfig({displayName:"HorizontalSpacer",componentId:"sc-13x0q08-0"})(["width:24px;"]);var NO_FILTERS=[];var DEFAULT_QUERY={query:"",language:"kuery"};var EventCountsComponent=function EventCountsComponent(_ref){var _ref$filters=_ref.filters,filters=_ref$filters===void 0?NO_FILTERS:_ref$filters,from=_ref.from,indexPattern=_ref.indexPattern,_ref$query=_ref.query,query=_ref$query===void 0?DEFAULT_QUERY:_ref$query,setQuery=_ref.setQuery,to=_ref.to;var kibana=(0,_kibana.useKibana)();return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_overview_host.OverviewHost,{endDate:to,filterQuery:(0,_keury.convertToBuildEsQuery)({config:_public.esQuery.getEsQueryConfig(kibana.services.uiSettings),indexPattern:indexPattern,queries:[query],filters:[].concat(_toConsumableArray(filters),_toConsumableArray(_alerts_query_tab_body.filterHostData))}),startDate:from,setQuery:setQuery})),_react.default.createElement(HorizontalSpacer,{grow:false}),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_overview_network.OverviewNetwork,{endDate:to,filterQuery:(0,_keury.convertToBuildEsQuery)({config:_public.esQuery.getEsQueryConfig(kibana.services.uiSettings),indexPattern:indexPattern,queries:[query],filters:[].concat(_toConsumableArray(filters),_toConsumableArray(_alerts_query_tab_body2.filterNetworkData))}),startDate:from,setQuery:setQuery})))};var EventCounts=_react.default.memo(EventCountsComponent);exports.EventCounts=EventCounts},9037:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OverviewHost=void 0;var _fp=__webpack_require__(223);var _eui=__webpack_require__(1);var _numeral=_interopRequireDefault(__webpack_require__(148));var _react=__webpack_require__(4);var _react2=_interopRequireDefault(__webpack_require__(0));var _constants=__webpack_require__(977);var _overview_host=__webpack_require__(9038);var _header_section=__webpack_require__(7050);var _kibana=__webpack_require__(7013);var _link_to=__webpack_require__(7090);var _overview_host_stats=__webpack_require__(9040);var _manage_query=__webpack_require__(7028);var _inspect=__webpack_require__(7063);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var OverviewHostStatsManage=(0,_manage_query.manageQuery)(_overview_host_stats.OverviewHostStats);var OverviewHostComponent=function OverviewHostComponent(_ref){var endDate=_ref.endDate,filterQuery=_ref.filterQuery,startDate=_ref.startDate,setQuery=_ref.setQuery;var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_NUMBER_FORMAT),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),defaultNumberFormat=_useUiSetting$2[0];return _react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_inspect.InspectButtonContainer,null,_react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement(_overview_host.OverviewHostQuery,{"data-test-subj":"overview-host-query",endDate:endDate,filterQuery:filterQuery,sourceId:"default",startDate:startDate},(function(_ref2){var overviewHost=_ref2.overviewHost,loading=_ref2.loading,id=_ref2.id,inspect=_ref2.inspect,refetch=_ref2.refetch;var hostEventsCount=(0,_overview_host_stats.getOverviewHostStats)(overviewHost).reduce((function(total,stat){return total+stat.count}),0);var formattedHostEventsCount=(0,_numeral.default)(hostEventsCount).format(defaultNumberFormat);return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_header_section.HeaderSection,{id:_overview_host.ID,subtitle:!(0,_fp.isEmpty)(overviewHost)?_react2.default.createElement(_react.FormattedMessage,{defaultMessage:"Showing: {formattedHostEventsCount} {hostEventsCount, plural, one {event} other {events}}",id:"xpack.siem.overview.overviewHost.hostsSubtitle",values:{formattedHostEventsCount:formattedHostEventsCount,hostEventsCount:hostEventsCount}}):_react2.default.createElement(_react2.default.Fragment,null,""),title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.hostsTitle",defaultMessage:"Host events"})},_react2.default.createElement(_eui.EuiButton,{href:(0,_link_to.getHostsUrl)()},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.hostsAction",defaultMessage:"View hosts"}))),_react2.default.createElement(OverviewHostStatsManage,{loading:loading,data:overviewHost,setQuery:setQuery,id:id,inspect:inspect,refetch:refetch}))})))))};var OverviewHost=_react2.default.memo(OverviewHostComponent);exports.OverviewHost=OverviewHost},9038:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OverviewHostQuery=exports.ID=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _constants=__webpack_require__(977);var _kibana=__webpack_require__(7013);var _inputs=__webpack_require__(1887);var _helpers=__webpack_require__(7029);var _index=__webpack_require__(9039);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ID="overviewHostQuery";exports.ID=ID;var OverviewHostComponentQuery=_react.default.memo((function(_ref){var _ref$id=_ref.id,id=_ref$id===void 0?ID:_ref$id,children=_ref.children,filterQuery=_ref.filterQuery,isInspected=_ref.isInspected,sourceId=_ref.sourceId,startDate=_ref.startDate,endDate=_ref.endDate;return _react.default.createElement(_reactApollo.Query,{query:_index.overviewHostQuery,fetchPolicy:(0,_helpers.getDefaultFetchPolicy)(),variables:{sourceId:sourceId,timerange:{interval:"12h",from:startDate,to:endDate},filterQuery:(0,_helpers.createFilter)(filterQuery),defaultIndex:(0,_kibana.useUiSetting)(_constants.DEFAULT_INDEX_KEY),inspect:isInspected}},(function(_ref2){var data=_ref2.data,loading=_ref2.loading,refetch=_ref2.refetch;var overviewHost=(0,_fp.getOr)({},"source.OverviewHost",data);return children({id:id,inspect:(0,_fp.getOr)(null,"source.OverviewHost.inspect",data),overviewHost:overviewHost,loading:loading,refetch:refetch})}))}));OverviewHostComponentQuery.displayName="OverviewHostComponentQuery";var makeMapStateToProps=function makeMapStateToProps(){var getQuery=_inputs.inputsSelectors.globalQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref3){var _ref3$id=_ref3.id,id=_ref3$id===void 0?ID:_ref3$id;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return{isInspected:isInspected}};return mapStateToProps};var OverviewHostQuery=(0,_reactRedux.connect)(makeMapStateToProps)(OverviewHostComponentQuery);exports.OverviewHostQuery=OverviewHostQuery},9039:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.overviewHostQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetOverviewHostQuery(\n    $sourceId: ID!\n    $timerange: TimerangeInput!\n    $filterQuery: String\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      OverviewHost(timerange: $timerange, filterQuery: $filterQuery, defaultIndex: $defaultIndex) {\n        auditbeatAuditd\n        auditbeatFIM\n        auditbeatLogin\n        auditbeatPackage\n        auditbeatProcess\n        auditbeatUser\n        endgameDns\n        endgameFile\n        endgameImageLoad\n        endgameNetwork\n        endgameProcess\n        endgameRegistry\n        endgameSecurity\n        filebeatSystemModule\n        winlogbeatSecurity\n        winlogbeatMWSysmonOperational\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var overviewHostQuery=(0,_graphqlTag.default)(_templateObject());exports.overviewHostQuery=overviewHostQuery},9040:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OverviewHostStats=exports.getOverviewHostStats=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _stat_value=__webpack_require__(7697);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getOverviewHostStats=function getOverviewHostStats(data){var _data$auditbeatAuditd,_data$auditbeatFIM,_data$auditbeatLogin,_data$auditbeatPackag,_data$auditbeatProces,_data$auditbeatUser,_data$endgameDns,_data$endgameFile,_data$endgameImageLoa,_data$endgameNetwork,_data$endgameProcess,_data$endgameRegistry,_data$endgameSecurity,_data$filebeatSystemM,_data$winlogbeatSecur,_data$winlogbeatMWSys;return[{count:(_data$auditbeatAuditd=data.auditbeatAuditd)!==null&&_data$auditbeatAuditd!==void 0?_data$auditbeatAuditd:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.auditBeatAuditTitle",defaultMessage:"Audit"}),id:"auditbeatAuditd"},{count:(_data$auditbeatFIM=data.auditbeatFIM)!==null&&_data$auditbeatFIM!==void 0?_data$auditbeatFIM:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.auditBeatFimTitle",defaultMessage:"File Integrity Module"}),id:"auditbeatFIM"},{count:(_data$auditbeatLogin=data.auditbeatLogin)!==null&&_data$auditbeatLogin!==void 0?_data$auditbeatLogin:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.auditBeatLoginTitle",defaultMessage:"Login"}),id:"auditbeatLogin"},{count:(_data$auditbeatPackag=data.auditbeatPackage)!==null&&_data$auditbeatPackag!==void 0?_data$auditbeatPackag:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.auditBeatPackageTitle",defaultMessage:"Package"}),id:"auditbeatPackage"},{count:(_data$auditbeatProces=data.auditbeatProcess)!==null&&_data$auditbeatProces!==void 0?_data$auditbeatProces:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.auditBeatProcessTitle",defaultMessage:"Process"}),id:"auditbeatProcess"},{count:(_data$auditbeatUser=data.auditbeatUser)!==null&&_data$auditbeatUser!==void 0?_data$auditbeatUser:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.auditBeatUserTitle",defaultMessage:"User"}),id:"auditbeatUser"},{count:(_data$endgameDns=data.endgameDns)!==null&&_data$endgameDns!==void 0?_data$endgameDns:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.endgameDnsTitle",defaultMessage:"DNS"}),id:"endgameDns"},{count:(_data$endgameFile=data.endgameFile)!==null&&_data$endgameFile!==void 0?_data$endgameFile:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.endgameFileTitle",defaultMessage:"File"}),id:"endgameFile"},{count:(_data$endgameImageLoa=data.endgameImageLoad)!==null&&_data$endgameImageLoa!==void 0?_data$endgameImageLoa:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.endgameImageLoadTitle",defaultMessage:"Image Load"}),id:"endgameImageLoad"},{count:(_data$endgameNetwork=data.endgameNetwork)!==null&&_data$endgameNetwork!==void 0?_data$endgameNetwork:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.endgameNetworkTitle",defaultMessage:"Network"}),id:"endgameNetwork"},{count:(_data$endgameProcess=data.endgameProcess)!==null&&_data$endgameProcess!==void 0?_data$endgameProcess:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.endgameProcessTitle",defaultMessage:"Process"}),id:"endgameProcess"},{count:(_data$endgameRegistry=data.endgameRegistry)!==null&&_data$endgameRegistry!==void 0?_data$endgameRegistry:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.endgameRegistryTitle",defaultMessage:"Registry"}),id:"endgameRegistry"},{count:(_data$endgameSecurity=data.endgameSecurity)!==null&&_data$endgameSecurity!==void 0?_data$endgameSecurity:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.endgameSecurityTitle",defaultMessage:"Security"}),id:"endgameSecurity"},{count:(_data$filebeatSystemM=data.filebeatSystemModule)!==null&&_data$filebeatSystemM!==void 0?_data$filebeatSystemM:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.filebeatSystemModuleTitle",defaultMessage:"System Module"}),id:"filebeatSystemModule"},{count:(_data$winlogbeatSecur=data.winlogbeatSecurity)!==null&&_data$winlogbeatSecur!==void 0?_data$winlogbeatSecur:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.winlogbeatSecurityTitle",defaultMessage:"Security"}),id:"winlogbeatSecurity"},{count:(_data$winlogbeatMWSys=data.winlogbeatMWSysmonOperational)!==null&&_data$winlogbeatMWSys!==void 0?_data$winlogbeatMWSys:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.winlogbeatMWSysmonOperational",defaultMessage:"Microsoft-Windows-Sysmon/Operational"}),id:"winlogbeatMWSysmonOperational"}]};exports.getOverviewHostStats=getOverviewHostStats;var HostStatsContainer=_styledComponents.default.div.withConfig({displayName:"HostStatsContainer",componentId:"sj3zvr-0"})([".accordion-button{width:100%;}"]);var hostStatGroups=[{groupId:"auditbeat",name:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.hostStatGroupAuditbeat",defaultMessage:"Auditbeat"}),statIds:["auditbeatAuditd","auditbeatFIM","auditbeatLogin","auditbeatPackage","auditbeatProcess","auditbeatUser"]},{groupId:"endgame",name:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.hostStatGroupElasticEndpointSecurity",defaultMessage:"Elastic Endpoint Security"}),statIds:["endgameDns","endgameFile","endgameImageLoad","endgameNetwork","endgameProcess","endgameRegistry","endgameSecurity"]},{groupId:"filebeat",name:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.hostStatGroupFilebeat",defaultMessage:"Filebeat"}),statIds:["filebeatSystemModule"]},{groupId:"winlogbeat",name:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.hostStatGroupWinlogbeat",defaultMessage:"Winlogbeat"}),statIds:["winlogbeatSecurity","winlogbeatMWSysmonOperational"]}];var Title=_styledComponents.default.div.withConfig({displayName:"Title",componentId:"sj3zvr-1"})(["margin-left:24px;"]);var AccordionContent=_styledComponents.default.div.withConfig({displayName:"AccordionContent",componentId:"sj3zvr-2"})(["margin-top:8px;"]);var OverviewHostStatsComponent=function OverviewHostStatsComponent(_ref){var data=_ref.data,loading=_ref.loading;var allHostStats=getOverviewHostStats(data);var allHostStatsCount=allHostStats.reduce((function(total,stat){return total+stat.count}),0);return _react2.default.createElement(HostStatsContainer,{"data-test-subj":"overview-hosts-stats"},hostStatGroups.map((function(statGroup,i){var statsForGroup=allHostStats.filter((function(s){return statGroup.statIds.includes(s.id)}));var statsForGroupCount=statsForGroup.reduce((function(total,stat){return total+stat.count}),0);return _react2.default.createElement(_react2.default.Fragment,{key:statGroup.groupId},_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"xs"}),_react2.default.createElement(_eui.EuiAccordion,{id:"host-stat-accordion-group".concat(statGroup.groupId),buttonContent:_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,statGroup.name)),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_stat_value.StatValue,{count:statsForGroupCount,isGroupStat:true,isLoading:loading,max:allHostStatsCount}))),buttonContentClassName:"accordion-button"},_react2.default.createElement(AccordionContent,null,statsForGroup.map((function(stat){return _react2.default.createElement(_eui.EuiFlexGroup,{key:stat.id,justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,{color:"subdued",size:"s"},_react2.default.createElement(Title,null,stat.title))),_react2.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"host-stat-".concat(stat.id),grow:false},_react2.default.createElement(_stat_value.StatValue,{count:stat.count,isGroupStat:false,isLoading:loading,max:statsForGroupCount})))})))))})))};OverviewHostStatsComponent.displayName="OverviewHostStatsComponent";var OverviewHostStats=_react2.default.memo(OverviewHostStatsComponent);exports.OverviewHostStats=OverviewHostStats},9041:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OverviewNetwork=void 0;var _fp=__webpack_require__(223);var _eui=__webpack_require__(1);var _numeral=_interopRequireDefault(__webpack_require__(148));var _react=__webpack_require__(4);var _react2=_interopRequireDefault(__webpack_require__(0));var _constants=__webpack_require__(977);var _header_section=__webpack_require__(7050);var _kibana=__webpack_require__(7013);var _manage_query=__webpack_require__(7028);var _overview_network=__webpack_require__(9042);var _overview_network_stats=__webpack_require__(9044);var _link_to=__webpack_require__(7090);var _inspect=__webpack_require__(7063);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var OverviewNetworkStatsManage=(0,_manage_query.manageQuery)(_overview_network_stats.OverviewNetworkStats);var OverviewNetworkComponent=function OverviewNetworkComponent(_ref){var endDate=_ref.endDate,filterQuery=_ref.filterQuery,startDate=_ref.startDate,setQuery=_ref.setQuery;var _useUiSetting$=(0,_kibana.useUiSetting$)(_constants.DEFAULT_NUMBER_FORMAT),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),defaultNumberFormat=_useUiSetting$2[0];return _react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_inspect.InspectButtonContainer,null,_react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement(_overview_network.OverviewNetworkQuery,{"data-test-subj":"overview-network-query",endDate:endDate,filterQuery:filterQuery,sourceId:"default",startDate:startDate},(function(_ref2){var overviewNetwork=_ref2.overviewNetwork,loading=_ref2.loading,id=_ref2.id,inspect=_ref2.inspect,refetch=_ref2.refetch;var networkEventsCount=(0,_overview_network_stats.getOverviewNetworkStats)(overviewNetwork).reduce((function(total,stat){return total+stat.count}),0);var formattedNetworkEventsCount=(0,_numeral.default)(networkEventsCount).format(defaultNumberFormat);return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_header_section.HeaderSection,{id:_overview_network.ID,subtitle:!(0,_fp.isEmpty)(overviewNetwork)?_react2.default.createElement(_react.FormattedMessage,{defaultMessage:"Showing: {formattedNetworkEventsCount} {networkEventsCount, plural, one {event} other {events}}",id:"xpack.siem.overview.overviewNetwork.networkSubtitle",values:{formattedNetworkEventsCount:formattedNetworkEventsCount,networkEventsCount:networkEventsCount}}):_react2.default.createElement(_react2.default.Fragment,null,""),title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.networkTitle",defaultMessage:"Network events"})},_react2.default.createElement(_eui.EuiButton,{href:(0,_link_to.getNetworkUrl)()},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.networkAction",defaultMessage:"View network"}))),_react2.default.createElement(OverviewNetworkStatsManage,{loading:loading,data:overviewNetwork,id:id,inspect:inspect,setQuery:setQuery,refetch:refetch}))})))))};OverviewNetworkComponent.displayName="OverviewNetworkComponent";var OverviewNetwork=_react2.default.memo(OverviewNetworkComponent);exports.OverviewNetwork=OverviewNetwork},9042:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OverviewNetworkQuery=exports.OverviewNetworkComponentQuery=exports.ID=void 0;var _fp=__webpack_require__(223);var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _reactRedux=__webpack_require__(7014);var _constants=__webpack_require__(977);var _kibana=__webpack_require__(7013);var _inputs=__webpack_require__(1887);var _helpers=__webpack_require__(7029);var _index=__webpack_require__(9043);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ID="overviewNetworkQuery";exports.ID=ID;var OverviewNetworkComponentQuery=_react.default.memo((function(_ref){var _ref$id=_ref.id,id=_ref$id===void 0?ID:_ref$id,children=_ref.children,filterQuery=_ref.filterQuery,isInspected=_ref.isInspected,sourceId=_ref.sourceId,startDate=_ref.startDate,endDate=_ref.endDate;return _react.default.createElement(_reactApollo.Query,{query:_index.overviewNetworkQuery,fetchPolicy:(0,_helpers.getDefaultFetchPolicy)(),notifyOnNetworkStatusChange:true,variables:{sourceId:sourceId,timerange:{interval:"12h",from:startDate,to:endDate},filterQuery:(0,_helpers.createFilter)(filterQuery),defaultIndex:(0,_kibana.useUiSetting)(_constants.DEFAULT_INDEX_KEY),inspect:isInspected}},(function(_ref2){var data=_ref2.data,loading=_ref2.loading,refetch=_ref2.refetch;var overviewNetwork=(0,_fp.getOr)({},"source.OverviewNetwork",data);return children({id:id,inspect:(0,_fp.getOr)(null,"source.OverviewNetwork.inspect",data),overviewNetwork:overviewNetwork,loading:loading,refetch:refetch})}))}));exports.OverviewNetworkComponentQuery=OverviewNetworkComponentQuery;OverviewNetworkComponentQuery.displayName="OverviewNetworkComponentQuery";var makeMapStateToProps=function makeMapStateToProps(){var getQuery=_inputs.inputsSelectors.globalQueryByIdSelector();var mapStateToProps=function mapStateToProps(state,_ref3){var _ref3$id=_ref3.id,id=_ref3$id===void 0?ID:_ref3$id;var _getQuery=getQuery(state,id),isInspected=_getQuery.isInspected;return{isInspected:isInspected}};return mapStateToProps};var OverviewNetworkQuery=(0,_reactRedux.connect)(makeMapStateToProps)(OverviewNetworkComponentQuery);exports.OverviewNetworkQuery=OverviewNetworkQuery},9043:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.overviewNetworkQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(208));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  query GetOverviewNetworkQuery(\n    $sourceId: ID!\n    $timerange: TimerangeInput!\n    $filterQuery: String\n    $defaultIndex: [String!]!\n    $inspect: Boolean!\n  ) {\n    source(id: $sourceId) {\n      id\n      OverviewNetwork(\n        timerange: $timerange\n        filterQuery: $filterQuery\n        defaultIndex: $defaultIndex\n      ) {\n        auditbeatSocket\n        filebeatCisco\n        filebeatNetflow\n        filebeatPanw\n        filebeatSuricata\n        filebeatZeek\n        packetbeatDNS\n        packetbeatFlow\n        packetbeatTLS\n        inspect @include(if: $inspect) {\n          dsl\n          response\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var overviewNetworkQuery=(0,_graphqlTag.default)(_templateObject());exports.overviewNetworkQuery=overviewNetworkQuery},9044:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OverviewNetworkStats=exports.getOverviewNetworkStats=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _stat_value=__webpack_require__(7697);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getOverviewNetworkStats=function getOverviewNetworkStats(data){var _data$auditbeatSocket,_data$filebeatCisco,_data$filebeatNetflow,_data$filebeatPanw,_data$filebeatSuricat,_data$filebeatZeek,_data$packetbeatDNS,_data$packetbeatFlow,_data$packetbeatTLS;return[{count:(_data$auditbeatSocket=data.auditbeatSocket)!==null&&_data$auditbeatSocket!==void 0?_data$auditbeatSocket:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.auditBeatSocketTitle",defaultMessage:"Socket"}),id:"auditbeatSocket"},{count:(_data$filebeatCisco=data.filebeatCisco)!==null&&_data$filebeatCisco!==void 0?_data$filebeatCisco:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.filebeatCiscoTitle",defaultMessage:"Cisco"}),id:"filebeatCisco"},{count:(_data$filebeatNetflow=data.filebeatNetflow)!==null&&_data$filebeatNetflow!==void 0?_data$filebeatNetflow:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.filebeatNetflowTitle",defaultMessage:"Netflow"}),id:"filebeatNetflow"},{count:(_data$filebeatPanw=data.filebeatPanw)!==null&&_data$filebeatPanw!==void 0?_data$filebeatPanw:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.filebeatPanwTitle",defaultMessage:"Palo Alto Networks"}),id:"filebeatPanw"},{count:(_data$filebeatSuricat=data.filebeatSuricata)!==null&&_data$filebeatSuricat!==void 0?_data$filebeatSuricat:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.fileBeatSuricataTitle",defaultMessage:"Suricata"}),id:"filebeatSuricata"},{count:(_data$filebeatZeek=data.filebeatZeek)!==null&&_data$filebeatZeek!==void 0?_data$filebeatZeek:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.fileBeatZeekTitle",defaultMessage:"Zeek"}),id:"filebeatZeek"},{count:(_data$packetbeatDNS=data.packetbeatDNS)!==null&&_data$packetbeatDNS!==void 0?_data$packetbeatDNS:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.packetBeatDnsTitle",defaultMessage:"DNS"}),id:"packetbeatDNS"},{count:(_data$packetbeatFlow=data.packetbeatFlow)!==null&&_data$packetbeatFlow!==void 0?_data$packetbeatFlow:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.packetBeatFlowTitle",defaultMessage:"Flow"}),id:"packetbeatFlow"},{count:(_data$packetbeatTLS=data.packetbeatTLS)!==null&&_data$packetbeatTLS!==void 0?_data$packetbeatTLS:0,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.packetbeatTLSTitle",defaultMessage:"TLS"}),id:"packetbeatTLS"}]};exports.getOverviewNetworkStats=getOverviewNetworkStats;var networkStatGroups=[{groupId:"auditbeat",name:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.networkStatGroupAuditbeat",defaultMessage:"Auditbeat"}),statIds:["auditbeatSocket"]},{groupId:"filebeat",name:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.networkStatGroupFilebeat",defaultMessage:"Filebeat"}),statIds:["filebeatCisco","filebeatNetflow","filebeatPanw","filebeatSuricata","filebeatZeek"]},{groupId:"packetbeat",name:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.siem.overview.networkStatGroupPacketbeat",defaultMessage:"Packetbeat"}),statIds:["packetbeatDNS","packetbeatFlow","packetbeatTLS"]}];var NetworkStatsContainer=_styledComponents.default.div.withConfig({displayName:"NetworkStatsContainer",componentId:"sc-1oo1bjx-0"})([".accordion-button{width:100%;}"]);var Title=_styledComponents.default.div.withConfig({displayName:"Title",componentId:"sc-1oo1bjx-1"})(["margin-left:24px;"]);var AccordionContent=_styledComponents.default.div.withConfig({displayName:"AccordionContent",componentId:"sc-1oo1bjx-2"})(["margin-top:8px;"]);var OverviewNetworkStats=_react2.default.memo((function(_ref){var data=_ref.data,loading=_ref.loading;var allNetworkStats=getOverviewNetworkStats(data);var allNetworkStatsCount=allNetworkStats.reduce((function(total,stat){return total+stat.count}),0);return _react2.default.createElement(NetworkStatsContainer,{"data-test-subj":"overview-network-stats"},networkStatGroups.map((function(statGroup,i){var statsForGroup=allNetworkStats.filter((function(s){return statGroup.statIds.includes(s.id)}));var statsForGroupCount=statsForGroup.reduce((function(total,stat){return total+stat.count}),0);return _react2.default.createElement(_react2.default.Fragment,{key:statGroup.groupId},_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"xs"}),_react2.default.createElement(_eui.EuiAccordion,{id:"network-stat-accordion-group".concat(statGroup.groupId),buttonContent:_react2.default.createElement(_eui.EuiFlexGroup,{"data-test-subj":"network-stat-group-".concat(statGroup.groupId),justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,statGroup.name)),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_stat_value.StatValue,{count:statsForGroupCount,isGroupStat:true,isLoading:loading,max:allNetworkStatsCount}))),buttonContentClassName:"accordion-button"},_react2.default.createElement(AccordionContent,null,statsForGroup.map((function(stat){return _react2.default.createElement(_eui.EuiFlexGroup,{key:stat.id,justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,{color:"subdued",size:"s"},_react2.default.createElement(Title,null,stat.title))),_react2.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"network-stat-".concat(stat.id),grow:false},_react2.default.createElement(_stat_value.StatValue,{count:stat.count,isGroupStat:false,isLoading:loading,max:statsForGroupCount})))})))))})))}));exports.OverviewNetworkStats=OverviewNetworkStats;OverviewNetworkStats.displayName="OverviewNetworkStats"},9045:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OverviewEmpty=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(8));var i18nCommon=_interopRequireWildcard(__webpack_require__(7206));var _empty_page=__webpack_require__(7132);var _kibana=__webpack_require__(7013);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var basePath=_chrome.default.getBasePath();var OverviewEmptyComponent=function OverviewEmptyComponent(){var docLinks=(0,_kibana.useKibana)().services.docLinks;return _react.default.createElement(_empty_page.EmptyPage,{actionPrimaryIcon:"gear",actionPrimaryLabel:i18nCommon.EMPTY_ACTION_PRIMARY,actionPrimaryUrl:"".concat(basePath,"/app/kibana#/home/tutorial_directory/siem"),actionSecondaryIcon:"popout",actionSecondaryLabel:i18nCommon.EMPTY_ACTION_SECONDARY,actionSecondaryTarget:"_blank",actionSecondaryUrl:docLinks.links.siem.gettingStarted,"data-test-subj":"empty-page",message:i18nCommon.EMPTY_MESSAGE,title:i18nCommon.EMPTY_TITLE})};OverviewEmptyComponent.displayName="OverviewEmptyComponent";var OverviewEmpty=_react.default.memo(OverviewEmptyComponent);exports.OverviewEmpty=OverviewEmpty},9046:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatefulSidebar=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _sidebar=__webpack_require__(9047);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var StatefulSidebar=_react.default.memo((function(){var _useState=(0,_react.useState)("favorites"),_useState2=_slicedToArray(_useState,2),filterBy=_useState2[0],setFilterBy=_useState2[1];return _react.default.createElement(_sidebar.Sidebar,{filterBy:filterBy,setFilterBy:setFilterBy})}));exports.StatefulSidebar=StatefulSidebar;StatefulSidebar.displayName="StatefulSidebar"},9047:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Sidebar=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _filters=__webpack_require__(9048);var _constants=__webpack_require__(977);var _recent_timelines=__webpack_require__(9049);var _news_feed=__webpack_require__(9053);var _sidebar_header=__webpack_require__(7700);var _apollo_context=__webpack_require__(7077);var i18n=_interopRequireWildcard(__webpack_require__(7165));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var SidebarFlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"SidebarFlexGroup",componentId:"sc-1fyy74d-0"})(["width:305px;"]);var Sidebar=_react.default.memo((function(_ref){var filterBy=_ref.filterBy,setFilterBy=_ref.setFilterBy;var apolloClient=(0,_apollo_context.useApolloClient)();var RecentTimelinesFilters=(0,_react.useMemo)((function(){return _react.default.createElement(_filters.Filters,{filterBy:filterBy,setFilterBy:setFilterBy})}),[filterBy,setFilterBy]);return _react.default.createElement(SidebarFlexGroup,{direction:"column",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_sidebar_header.SidebarHeader,{title:i18n.RECENT_TIMELINES},RecentTimelinesFilters),_react.default.createElement(_recent_timelines.StatefulRecentTimelines,{apolloClient:apolloClient,filterBy:filterBy})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSpacer,{size:"xxl"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_news_feed.StatefulNewsFeed,{enableNewsFeedSetting:_constants.ENABLE_NEWS_FEED_SETTING,newsFeedSetting:_constants.NEWS_FEED_URL_SETTING})))}));exports.Sidebar=Sidebar;Sidebar.displayName="Sidebar"},9048:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Filters=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var toggleButtonIcons=[{id:"favorites",label:"Favorites",iconType:"starFilled"},{id:"recently-updated",label:"Last updated",iconType:"documentEdit"}];var Filters=_react.default.memo((function(_ref){var filterBy=_ref.filterBy,setFilterBy=_ref.setFilterBy;return _react.default.createElement(_eui.EuiButtonGroup,{options:toggleButtonIcons,idSelected:filterBy,onChange:function onChange(f){setFilterBy(f)},isIconOnly:true})}));exports.Filters=Filters;Filters.displayName="Filters"},9049:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatefulRecentTimelines=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRedux=__webpack_require__(7014);var _all=__webpack_require__(7313);var _types=__webpack_require__(671);var _helpers=__webpack_require__(7056);var _loading_placeholders=__webpack_require__(7698);var _actions=__webpack_require__(1890);var _recent_timelines=__webpack_require__(9050);var i18n=_interopRequireWildcard(__webpack_require__(7222));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var StatefulRecentTimelinesComponent=_react.default.memo((function(_ref){var apolloClient=_ref.apolloClient,filterBy=_ref.filterBy,updateIsLoading=_ref.updateIsLoading,updateTimeline=_ref.updateTimeline;var actionDispatcher=updateIsLoading;var onOpenTimeline=(0,_react.useCallback)((function(_ref2){var duplicate=_ref2.duplicate,timelineId=_ref2.timelineId;(0,_helpers.queryTimelineById)({apolloClient:apolloClient,duplicate:duplicate,timelineId:timelineId,updateIsLoading:actionDispatcher,updateTimeline:updateTimeline})}),[apolloClient,updateIsLoading,updateTimeline]);var noTimelinesMessage=filterBy==="favorites"?i18n.NO_FAVORITE_TIMELINES:i18n.NO_TIMELINES;return _react.default.createElement(_all.AllTimelinesQuery,{pageInfo:{pageIndex:1,pageSize:5},search:"",sort:{sortField:_types.SortFieldTimeline.updated,sortOrder:_types.Direction.desc},onlyUserFavorite:filterBy==="favorites"},(function(_ref3){var timelines=_ref3.timelines,loading=_ref3.loading;return _react.default.createElement(_react.default.Fragment,null,loading?_react.default.createElement(_loading_placeholders.LoadingPlaceholders,{lines:2,placeholders:filterBy==="favorites"?1:5}):_react.default.createElement(_recent_timelines.RecentTimelines,{noTimelinesMessage:noTimelinesMessage,onOpenTimeline:onOpenTimeline,timelines:timelines}),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"s"}),_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(_eui.EuiLink,{href:"#/link-to/timelines"},i18n.VIEW_ALL_TIMELINES)))}))}));StatefulRecentTimelinesComponent.displayName="StatefulRecentTimelinesComponent";var mapDispatchToProps=function mapDispatchToProps(dispatch){return{updateIsLoading:function updateIsLoading(_ref4){var id=_ref4.id,isLoading=_ref4.isLoading;return dispatch((0,_actions.updateIsLoading)({id:id,isLoading:isLoading}))},updateTimeline:(0,_helpers.dispatchUpdateTimeline)(dispatch)}};var StatefulRecentTimelines=(0,_reactRedux.connect)(null,mapDispatchToProps)(StatefulRecentTimelinesComponent);exports.StatefulRecentTimelines=StatefulRecentTimelines},9050:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RecentTimelines=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _header=__webpack_require__(9051);var _with_hover_actions=__webpack_require__(7128);var _counts=__webpack_require__(9052);var i18n=_interopRequireWildcard(__webpack_require__(7222));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RecentTimelines=_react.default.memo((function(_ref){var noTimelinesMessage=_ref.noTimelinesMessage,onOpenTimeline=_ref.onOpenTimeline,timelines=_ref.timelines;if(timelines.length===0){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiText,{color:"subdued",size:"s"},noTimelinesMessage))}return _react.default.createElement(_react.default.Fragment,null,timelines.map((function(t,i){return _react.default.createElement(_react.default.Fragment,{key:"".concat(t.savedObjectId,"-").concat(i)},_react.default.createElement(_with_hover_actions.WithHoverActions,{render:function render(showHoverContent){return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_header.RecentTimelineHeader,{onOpenTimeline:onOpenTimeline,timeline:t}),_react.default.createElement(_counts.RecentTimelineCounts,{timeline:t}),t.description&&t.description.length&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,{color:"subdued",size:"xs"},t.description))),showHoverContent&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{content:i18n.OPEN_AS_DUPLICATE},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.OPEN_AS_DUPLICATE,"data-test-subj":"open-duplicate",isDisabled:t.savedObjectId==null,iconSize:"s",iconType:"copy",onClick:function onClick(){return onOpenTimeline({duplicate:true,timelineId:"".concat(t.savedObjectId)})},size:"s"}))))}}),_react.default.createElement(_react.default.Fragment,null,i!==timelines.length-1&&_react.default.createElement(_eui.EuiSpacer,{size:"l"})))})))}));exports.RecentTimelines=RecentTimelines;RecentTimelines.displayName="RecentTimelines"},9051:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RecentTimelineHeader=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _helpers=__webpack_require__(7056);var i18n=_interopRequireWildcard(__webpack_require__(7222));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var RecentTimelineHeader=_react.default.memo((function(_ref){var onOpenTimeline=_ref.onOpenTimeline,timeline=_ref.timeline,_ref$timeline=_ref.timeline,title=_ref$timeline.title,savedObjectId=_ref$timeline.savedObjectId;var onClick=(0,_react.useCallback)((function(){return onOpenTimeline({duplicate:false,timelineId:"".concat(savedObjectId)})}),[onOpenTimeline,savedObjectId]);return _react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement(_eui.EuiLink,{onClick:onClick},(0,_helpers.isUntitled)(timeline)?i18n.UNTITLED_TIMELINE:title))}));exports.RecentTimelineHeader=RecentTimelineHeader;RecentTimelineHeader.displayName="RecentTimelineHeader"},9052:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RecentTimelineCounts=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _helpers=__webpack_require__(7056);var i18n=_interopRequireWildcard(__webpack_require__(7222));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Icon=(0,_styledComponents.default)(_eui.EuiIcon).withConfig({displayName:"Icon",componentId:"sc-1cop0yu-0"})(["margin-right:8px;"]);var FlexGroup=(0,_styledComponents.default)(_eui.EuiFlexGroup).withConfig({displayName:"FlexGroup",componentId:"sc-1cop0yu-1"})(["margin-right:16px;"]);var IconWithCount=_react.default.memo((function(_ref){var count=_ref.count,icon=_ref.icon,tooltip=_ref.tooltip;return _react.default.createElement(_eui.EuiToolTip,{content:tooltip},_react.default.createElement(FlexGroup,{alignItems:"center",gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(Icon,{color:"subdued",size:"s",type:icon})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,{color:"subdued",size:"xs"},count))))}));IconWithCount.displayName="IconWithCount";var RecentTimelineCounts=_react.default.memo((function(_ref2){var timeline=_ref2.timeline;return _react.default.createElement("div",null,_react.default.createElement(IconWithCount,{count:(0,_helpers.getPinnedEventCount)(timeline),icon:"pinFilled",tooltip:i18n.PINNED_EVENTS}),_react.default.createElement(IconWithCount,{count:(0,_helpers.getNotesCount)(timeline),icon:"editorComment",tooltip:i18n.NOTES}))}));exports.RecentTimelineCounts=RecentTimelineCounts;RecentTimelineCounts.displayName="RecentTimelineCounts"},9053:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatefulNewsFeed=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(8));var _helpers=__webpack_require__(7699);var _kibana=__webpack_require__(7013);var _news_feed=__webpack_require__(9054);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var StatefulNewsFeed=_react.default.memo((function(_ref){var enableNewsFeedSetting=_ref.enableNewsFeedSetting,newsFeedSetting=_ref.newsFeedSetting;var kibanaNewsfeedEnabled=(0,_kibana.useKibana)().services.newsfeed;var _useUiSetting$=(0,_kibana.useUiSetting$)(enableNewsFeedSetting),_useUiSetting$2=_slicedToArray(_useUiSetting$,1),enableNewsFeed=_useUiSetting$2[0];var _useUiSetting$3=(0,_kibana.useUiSetting$)(newsFeedSetting),_useUiSetting$4=_slicedToArray(_useUiSetting$3,1),newsFeedUrlSetting=_useUiSetting$4[0];var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),news=_useState2[0],setNews=_useState2[1];var newsfeedEnabled=kibanaNewsfeedEnabled&&enableNewsFeed;var newsFeedUrl=(0,_helpers.getNewsFeedUrl)({newsFeedUrlSetting:newsFeedUrlSetting,getKibanaVersion:_chrome.default.getKibanaVersion});(0,_react.useEffect)((function(){var canceled=false;var fetchData=function fetchData(){var apiResponse;return regeneratorRuntime.async((function fetchData$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return regeneratorRuntime.awrap((0,_helpers.fetchNews)({newsFeedUrl:newsFeedUrl}));case 3:apiResponse=_context.sent;if(!canceled){setNews((0,_helpers.getNewsItemsFromApiResponse)(apiResponse))}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);if(!canceled){setNews([])}case 10:case"end":return _context.stop()}}}),null,null,[[0,7]])};if(newsfeedEnabled){fetchData()}return function(){canceled=true}}),[newsfeedEnabled,newsFeedUrl]);return _react.default.createElement(_react.default.Fragment,null,newsfeedEnabled?_react.default.createElement(_news_feed.NewsFeed,{news:news}):null)}));exports.StatefulNewsFeed=StatefulNewsFeed;StatefulNewsFeed.displayName="StatefulNewsFeed"},9054:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NewsFeed=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _loading_placeholders=__webpack_require__(7698);var _translations=__webpack_require__(7165);var _sidebar_header=__webpack_require__(7700);var _no_news=__webpack_require__(9055);var _post=__webpack_require__(9057);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SHOW_PLACEHOLDERS=5;var LINES_PER_LOADING_PLACEHOLDER=4;var NewsFeedComponent=function NewsFeedComponent(_ref){var news=_ref.news;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_sidebar_header.SidebarHeader,{title:_translations.NEWS_FEED_TITLE}),news==null?_react.default.createElement(_loading_placeholders.LoadingPlaceholders,{lines:LINES_PER_LOADING_PLACEHOLDER,placeholders:SHOW_PLACEHOLDERS}):news.length===0?_react.default.createElement(_no_news.NoNews,null):news.map((function(n){return _react.default.createElement(_react.default.Fragment,{key:n.hash},_react.default.createElement(_post.Post,{newsItem:n}),_react.default.createElement(_eui.EuiSpacer,{size:"l"}))})))};NewsFeedComponent.displayName="NewsFeedComponent";var NewsFeed=_react.default.memo(NewsFeedComponent);exports.NewsFeed=NewsFeed},9055:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoNews=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var i18n=_interopRequireWildcard(__webpack_require__(9056));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NoNews=_react.default.memo((function(){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiText,{color:"subdued",size:"s"},i18n.NO_NEWS_MESSAGE," ",_react.default.createElement(_eui.EuiLink,{href:"/app/kibana#/management/kibana/settings"},i18n.ADVANCED_SETTINGS_LINK_TITLE),"."))}));exports.NoNews=NoNews;NoNews.displayName="NoNews"},9056:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ADVANCED_SETTINGS_LINK_TITLE=exports.NO_NEWS_MESSAGE=void 0;var _i18n=__webpack_require__(2);var NO_NEWS_MESSAGE=_i18n.i18n.translate("xpack.siem.newsFeed.noNewsMessage",{defaultMessage:"Your current news feed URL returned no recent news. You may update the URL or disable security news via"});exports.NO_NEWS_MESSAGE=NO_NEWS_MESSAGE;var ADVANCED_SETTINGS_LINK_TITLE=_i18n.i18n.translate("xpack.siem.newsFeed.advancedSettingsLinkTitle",{defaultMessage:"SIEM advanced settings"});exports.ADVANCED_SETTINGS_LINK_TITLE=ADVANCED_SETTINGS_LINK_TITLE},9057:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Post=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _formatted_date=__webpack_require__(7027);var _helpers=__webpack_require__(7699);var _news_link=__webpack_require__(9058);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NewsItemPreviewImage=_styledComponents.default.img.withConfig({displayName:"NewsItemPreviewImage",componentId:"sc-2a6gc7-0"})(["height:56px;margin-left:16px;min-width:56px;padding:4px;width:56px;"]);var Post=_react.default.memo((function(_ref){var newsItem=_ref.newsItem;var linkUrl=newsItem.linkUrl,title=newsItem.title,publishOn=newsItem.publishOn,description=newsItem.description,imageUrl=newsItem.imageUrl;if(!(0,_helpers.showNewsItem)(newsItem)){return null}return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_news_link.NewsLink,{href:linkUrl},_react.default.createElement(_eui.EuiText,{size:"s"},title)),_react.default.createElement(_eui.EuiText,{color:"subdued",size:"xs"},_react.default.createElement(_formatted_date.PreferenceFormattedP1DTDate,{value:publishOn}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement("div",null,description))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},imageUrl&&_react.default.createElement(_news_link.NewsLink,{href:linkUrl},_react.default.createElement(NewsItemPreviewImage,{alt:title,className:"euiPanel",src:imageUrl}))))}));exports.Post=Post;Post.displayName="Post"},9058:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NewsLink=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REL_NOOPENER="noopener";var REL_NOFOLLOW="nofollow";var REL_NOREFERRER="noreferrer";var NewsLink=function NewsLink(_ref){var href=_ref.href,children=_ref.children;return _react.default.createElement(_eui.EuiLink,{href:href,rel:"".concat(REL_NOOPENER," ").concat(REL_NOFOLLOW," ").concat(REL_NOREFERRER),target:"_blank"},children)};exports.NewsLink=NewsLink},9059:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SignalsByCategory=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _signals_histogram_panel=__webpack_require__(7357);var _config=__webpack_require__(7217);var _use_signal_index=__webpack_require__(7328);var i18n=_interopRequireWildcard(__webpack_require__(7165));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var DEFAULT_QUERY={query:"",language:"kuery"};var DEFAULT_STACK_BY="signal.rule.threat.tactic.name";var NO_FILTERS=[];var SignalsByCategoryComponent=function SignalsByCategoryComponent(_ref){var _signalsHistogramOpti;var deleteQuery=_ref.deleteQuery,_ref$filters=_ref.filters,filters=_ref$filters===void 0?NO_FILTERS:_ref$filters,from=_ref.from,_ref$query=_ref.query,query=_ref$query===void 0?DEFAULT_QUERY:_ref$query,setAbsoluteRangeDatePicker=_ref.setAbsoluteRangeDatePicker,setQuery=_ref.setQuery,to=_ref.to;var _useSignalIndex=(0,_use_signal_index.useSignalIndex)(),signalIndexName=_useSignalIndex.signalIndexName;var updateDateRangeCallback=(0,_react.useCallback)((function(min,max){setAbsoluteRangeDatePicker({id:"global",from:min,to:max})}),[setAbsoluteRangeDatePicker]);var defaultStackByOption=(_signalsHistogramOpti=_config.signalsHistogramOptions.find((function(o){return o.text===DEFAULT_STACK_BY})))!==null&&_signalsHistogramOpti!==void 0?_signalsHistogramOpti:_config.signalsHistogramOptions[0];return _react.default.createElement(_signals_histogram_panel.SignalsHistogramPanel,{deleteQuery:deleteQuery,defaultStackByOption:defaultStackByOption,filters:filters,from:from,query:query,signalIndexName:signalIndexName,setQuery:setQuery,showTotalSignalsCount:true,showLinkToSignals:true,stackByOptions:_config.signalsHistogramOptions,legendPosition:"right",to:to,title:i18n.SIGNAL_COUNT,updateDateRange:updateDateRangeCallback})};SignalsByCategoryComponent.displayName="SignalsByCategoryComponent";var SignalsByCategory=_react.default.memo(SignalsByCategoryComponent);exports.SignalsByCategory=SignalsByCategory},9060:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Timelines=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactApollo=__webpack_require__(695);var _timelines_page=__webpack_require__(9061);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Timelines=_react.default.memo((function(){return _react.default.createElement(_reactApollo.ApolloConsumer,null,(function(client){return _react.default.createElement(_timelines_page.TimelinesPage,{apolloClient:client})}))}));exports.Timelines=Timelines;Timelines.displayName="Timelines"},9061:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimelinesPage=exports.DEFAULT_SEARCH_RESULTS_PER_PAGE=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _styledComponents=_interopRequireDefault(__webpack_require__(30));var _header_page=__webpack_require__(7130);var _open_timeline=__webpack_require__(7570);var _wrapper_page=__webpack_require__(7054);var _spy_routes=__webpack_require__(7057);var i18n=_interopRequireWildcard(__webpack_require__(9062));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TimelinesContainer=_styledComponents.default.div.withConfig({displayName:"TimelinesContainer",componentId:"sc-13xcnag-0"})(["width:100%;"]);var DEFAULT_SEARCH_RESULTS_PER_PAGE=10;exports.DEFAULT_SEARCH_RESULTS_PER_PAGE=DEFAULT_SEARCH_RESULTS_PER_PAGE;var TimelinesPageComponent=function TimelinesPageComponent(_ref){var apolloClient=_ref.apolloClient;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_wrapper_page.WrapperPage,null,_react.default.createElement(_header_page.HeaderPage,{border:true,title:i18n.PAGE_TITLE}),_react.default.createElement(TimelinesContainer,null,_react.default.createElement(_open_timeline.StatefulOpenTimeline,{apolloClient:apolloClient,defaultPageSize:DEFAULT_SEARCH_RESULTS_PER_PAGE,isModal:false,title:i18n.ALL_TIMELINES_PANEL_TITLE}))),_react.default.createElement(_spy_routes.SpyRoute,null))};var TimelinesPage=_react.default.memo(TimelinesPageComponent);exports.TimelinesPage=TimelinesPage},9062:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ALL_TIMELINES_PANEL_TITLE=exports.PAGE_TITLE=void 0;var _i18n=__webpack_require__(2);var PAGE_TITLE=_i18n.i18n.translate("xpack.siem.timelines.pageTitle",{defaultMessage:"Timelines"});exports.PAGE_TITLE=PAGE_TITLE;var ALL_TIMELINES_PANEL_TITLE=_i18n.i18n.translate("xpack.siem.timelines.allTimelines.panelTitle",{defaultMessage:"All timelines"});exports.ALL_TIMELINES_PANEL_TITLE=ALL_TIMELINES_PANEL_TITLE},9063:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ManageRoutesSpy=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _helpers=__webpack_require__(7588);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ManageRoutesSpyComponent=function ManageRoutesSpyComponent(_ref){var children=_ref.children;var reducerSpyRoute=function reducerSpyRoute(state,action){switch(action.type){case"updateRoute":return action.route;case"updateRouteWithOutSearch":return _objectSpread({},state,{},action.route);case"updateSearch":return _objectSpread({},state,{search:action.search});default:return state}};return _react.default.createElement(_helpers.RouterSpyStateContext.Provider,{value:(0,_react.useReducer)(reducerSpyRoute,_helpers.initRouteSpy)},children)};var ManageRoutesSpy=(0,_react.memo)(ManageRoutesSpyComponent);exports.ManageRoutesSpy=ManageRoutesSpy},91:function(module,exports,__webpack_require__){module.exports=__webpack_require__(36)(2460)},92:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.cancelAllInFlightRequests=cancelAllInFlightRequests;exports.setMapInitError=setMapInitError;exports.trackCurrentLayerState=trackCurrentLayerState;exports.rollbackToTrackedLayerStateForSelectedLayer=rollbackToTrackedLayerStateForSelectedLayer;exports.removeTrackedLayerStateForSelectedLayer=removeTrackedLayerStateForSelectedLayer;exports.replaceLayerList=replaceLayerList;exports.cloneLayer=cloneLayer;exports.addLayer=addLayer;exports.addLayerWithoutDataSync=addLayerWithoutDataSync;exports.cleanTooltipStateForLayer=cleanTooltipStateForLayer;exports.setLayerVisibility=setLayerVisibility;exports.toggleLayerVisible=toggleLayerVisible;exports.setSelectedLayer=setSelectedLayer;exports.removeTransientLayer=removeTransientLayer;exports.setTransientLayer=setTransientLayer;exports.clearTransientLayerStateAndCloseFlyout=clearTransientLayerStateAndCloseFlyout;exports.updateLayerOrder=updateLayerOrder;exports.mapReady=mapReady;exports.mapDestroyed=mapDestroyed;exports.mapExtentChanged=mapExtentChanged;exports.setTooltipState=setTooltipState;exports.setMouseCoordinates=setMouseCoordinates;exports.clearMouseCoordinates=clearMouseCoordinates;exports.disableScrollZoom=disableScrollZoom;exports.fitToLayerExtent=fitToLayerExtent;exports.setGotoWithBounds=setGotoWithBounds;exports.setGotoWithCenter=setGotoWithCenter;exports.clearGoto=clearGoto;exports.startDataLoad=startDataLoad;exports.updateSourceDataRequest=updateSourceDataRequest;exports.endDataLoad=endDataLoad;exports.onDataLoadError=onDataLoadError;exports.updateSourceProp=updateSourceProp;exports.syncDataForLayer=syncDataForLayer;exports.updateLayerLabel=updateLayerLabel;exports.updateLayerMinZoom=updateLayerMinZoom;exports.updateLayerMaxZoom=updateLayerMaxZoom;exports.updateLayerAlpha=updateLayerAlpha;exports.setLayerQuery=setLayerQuery;exports.removeSelectedLayer=removeSelectedLayer;exports.removeLayer=removeLayer;exports.setQuery=setQuery;exports.setRefreshConfig=setRefreshConfig;exports.triggerRefreshTimer=triggerRefreshTimer;exports.clearMissingStyleProperties=clearMissingStyleProperties;exports.updateLayerStyle=updateLayerStyle;exports.updateStyleMeta=updateStyleMeta;exports.updateLayerStyleForSelectedLayer=updateLayerStyleForSelectedLayer;exports.setJoinsForLayer=setJoinsForLayer;exports.updateDrawState=updateDrawState;exports.disableInteractive=disableInteractive;exports.disableTooltipControl=disableTooltipControl;exports.hideToolbarOverlay=hideToolbarOverlay;exports.hideLayerControl=hideLayerControl;exports.hideViewControl=hideViewControl;exports.setHiddenLayers=setHiddenLayers;exports.SET_WAITING_FOR_READY_HIDDEN_LAYERS=exports.HIDE_VIEW_CONTROL=exports.HIDE_LAYER_CONTROL=exports.HIDE_TOOLBAR_OVERLAY=exports.DISABLE_TOOLTIP_CONTROL=exports.SET_INTERACTIVE=exports.SET_MAP_INIT_ERROR=exports.SET_SCROLL_ZOOM=exports.UPDATE_DRAW_STATE=exports.SET_TOOLTIP_STATE=exports.REMOVE_TRACKED_LAYER_STATE=exports.ROLLBACK_TO_TRACKED_LAYER_STATE=exports.TRACK_CURRENT_LAYER_STATE=exports.CLEAR_GOTO=exports.SET_GOTO=exports.CLEAR_MOUSE_COORDINATES=exports.SET_MOUSE_COORDINATES=exports.SET_REFRESH_CONFIG=exports.UPDATE_SOURCE_PROP=exports.TOUCH_LAYER=exports.SET_LAYER_STYLE_META=exports.UPDATE_LAYER_STYLE=exports.UPDATE_LAYER_PROP=exports.TRIGGER_REFRESH_TIMER=exports.SET_QUERY=exports.SET_JOINS=exports.UPDATE_SOURCE_DATA_REQUEST=exports.LAYER_DATA_LOAD_ERROR=exports.LAYER_DATA_LOAD_ENDED=exports.LAYER_DATA_LOAD_STARTED=exports.MAP_DESTROYED=exports.MAP_READY=exports.MAP_EXTENT_CHANGED=exports.SET_LAYER_VISIBILITY=exports.REMOVE_LAYER=exports.CLEAR_WAITING_FOR_MAP_READY_LAYER_LIST=exports.ADD_WAITING_FOR_MAP_READY_LAYER=exports.SET_LAYER_ERROR_STATUS=exports.ADD_LAYER=exports.UPDATE_LAYER_ORDER=exports.SET_TRANSIENT_LAYER=exports.SET_SELECTED_LAYER=void 0;var _turf=_interopRequireDefault(__webpack_require__(697));var _booleanContains=_interopRequireDefault(__webpack_require__(1065));var _map_selectors=__webpack_require__(64);var _ui=__webpack_require__(202);var _non_serializable_instances=__webpack_require__(227);var _ui_actions=__webpack_require__(177);var _constants=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SET_SELECTED_LAYER="SET_SELECTED_LAYER";exports.SET_SELECTED_LAYER=SET_SELECTED_LAYER;var SET_TRANSIENT_LAYER="SET_TRANSIENT_LAYER";exports.SET_TRANSIENT_LAYER=SET_TRANSIENT_LAYER;var UPDATE_LAYER_ORDER="UPDATE_LAYER_ORDER";exports.UPDATE_LAYER_ORDER=UPDATE_LAYER_ORDER;var ADD_LAYER="ADD_LAYER";exports.ADD_LAYER=ADD_LAYER;var SET_LAYER_ERROR_STATUS="SET_LAYER_ERROR_STATUS";exports.SET_LAYER_ERROR_STATUS=SET_LAYER_ERROR_STATUS;var ADD_WAITING_FOR_MAP_READY_LAYER="ADD_WAITING_FOR_MAP_READY_LAYER";exports.ADD_WAITING_FOR_MAP_READY_LAYER=ADD_WAITING_FOR_MAP_READY_LAYER;var CLEAR_WAITING_FOR_MAP_READY_LAYER_LIST="CLEAR_WAITING_FOR_MAP_READY_LAYER_LIST";exports.CLEAR_WAITING_FOR_MAP_READY_LAYER_LIST=CLEAR_WAITING_FOR_MAP_READY_LAYER_LIST;var REMOVE_LAYER="REMOVE_LAYER";exports.REMOVE_LAYER=REMOVE_LAYER;var SET_LAYER_VISIBILITY="SET_LAYER_VISIBILITY";exports.SET_LAYER_VISIBILITY=SET_LAYER_VISIBILITY;var MAP_EXTENT_CHANGED="MAP_EXTENT_CHANGED";exports.MAP_EXTENT_CHANGED=MAP_EXTENT_CHANGED;var MAP_READY="MAP_READY";exports.MAP_READY=MAP_READY;var MAP_DESTROYED="MAP_DESTROYED";exports.MAP_DESTROYED=MAP_DESTROYED;var LAYER_DATA_LOAD_STARTED="LAYER_DATA_LOAD_STARTED";exports.LAYER_DATA_LOAD_STARTED=LAYER_DATA_LOAD_STARTED;var LAYER_DATA_LOAD_ENDED="LAYER_DATA_LOAD_ENDED";exports.LAYER_DATA_LOAD_ENDED=LAYER_DATA_LOAD_ENDED;var LAYER_DATA_LOAD_ERROR="LAYER_DATA_LOAD_ERROR";exports.LAYER_DATA_LOAD_ERROR=LAYER_DATA_LOAD_ERROR;var UPDATE_SOURCE_DATA_REQUEST="UPDATE_SOURCE_DATA_REQUEST";exports.UPDATE_SOURCE_DATA_REQUEST=UPDATE_SOURCE_DATA_REQUEST;var SET_JOINS="SET_JOINS";exports.SET_JOINS=SET_JOINS;var SET_QUERY="SET_QUERY";exports.SET_QUERY=SET_QUERY;var TRIGGER_REFRESH_TIMER="TRIGGER_REFRESH_TIMER";exports.TRIGGER_REFRESH_TIMER=TRIGGER_REFRESH_TIMER;var UPDATE_LAYER_PROP="UPDATE_LAYER_PROP";exports.UPDATE_LAYER_PROP=UPDATE_LAYER_PROP;var UPDATE_LAYER_STYLE="UPDATE_LAYER_STYLE";exports.UPDATE_LAYER_STYLE=UPDATE_LAYER_STYLE;var SET_LAYER_STYLE_META="SET_LAYER_STYLE_META";exports.SET_LAYER_STYLE_META=SET_LAYER_STYLE_META;var TOUCH_LAYER="TOUCH_LAYER";exports.TOUCH_LAYER=TOUCH_LAYER;var UPDATE_SOURCE_PROP="UPDATE_SOURCE_PROP";exports.UPDATE_SOURCE_PROP=UPDATE_SOURCE_PROP;var SET_REFRESH_CONFIG="SET_REFRESH_CONFIG";exports.SET_REFRESH_CONFIG=SET_REFRESH_CONFIG;var SET_MOUSE_COORDINATES="SET_MOUSE_COORDINATES";exports.SET_MOUSE_COORDINATES=SET_MOUSE_COORDINATES;var CLEAR_MOUSE_COORDINATES="CLEAR_MOUSE_COORDINATES";exports.CLEAR_MOUSE_COORDINATES=CLEAR_MOUSE_COORDINATES;var SET_GOTO="SET_GOTO";exports.SET_GOTO=SET_GOTO;var CLEAR_GOTO="CLEAR_GOTO";exports.CLEAR_GOTO=CLEAR_GOTO;var TRACK_CURRENT_LAYER_STATE="TRACK_CURRENT_LAYER_STATE";exports.TRACK_CURRENT_LAYER_STATE=TRACK_CURRENT_LAYER_STATE;var ROLLBACK_TO_TRACKED_LAYER_STATE="ROLLBACK_TO_TRACKED_LAYER_STATE";exports.ROLLBACK_TO_TRACKED_LAYER_STATE=ROLLBACK_TO_TRACKED_LAYER_STATE;var REMOVE_TRACKED_LAYER_STATE="REMOVE_TRACKED_LAYER_STATE";exports.REMOVE_TRACKED_LAYER_STATE=REMOVE_TRACKED_LAYER_STATE;var SET_TOOLTIP_STATE="SET_TOOLTIP_STATE";exports.SET_TOOLTIP_STATE=SET_TOOLTIP_STATE;var UPDATE_DRAW_STATE="UPDATE_DRAW_STATE";exports.UPDATE_DRAW_STATE=UPDATE_DRAW_STATE;var SET_SCROLL_ZOOM="SET_SCROLL_ZOOM";exports.SET_SCROLL_ZOOM=SET_SCROLL_ZOOM;var SET_MAP_INIT_ERROR="SET_MAP_INIT_ERROR";exports.SET_MAP_INIT_ERROR=SET_MAP_INIT_ERROR;var SET_INTERACTIVE="SET_INTERACTIVE";exports.SET_INTERACTIVE=SET_INTERACTIVE;var DISABLE_TOOLTIP_CONTROL="DISABLE_TOOLTIP_CONTROL";exports.DISABLE_TOOLTIP_CONTROL=DISABLE_TOOLTIP_CONTROL;var HIDE_TOOLBAR_OVERLAY="HIDE_TOOLBAR_OVERLAY";exports.HIDE_TOOLBAR_OVERLAY=HIDE_TOOLBAR_OVERLAY;var HIDE_LAYER_CONTROL="HIDE_LAYER_CONTROL";exports.HIDE_LAYER_CONTROL=HIDE_LAYER_CONTROL;var HIDE_VIEW_CONTROL="HIDE_VIEW_CONTROL";exports.HIDE_VIEW_CONTROL=HIDE_VIEW_CONTROL;var SET_WAITING_FOR_READY_HIDDEN_LAYERS="SET_WAITING_FOR_READY_HIDDEN_LAYERS";exports.SET_WAITING_FOR_READY_HIDDEN_LAYERS=SET_WAITING_FOR_READY_HIDDEN_LAYERS;function getLayerLoadingCallbacks(dispatch,layerId){return{startLoading:function startLoading(dataId,requestToken,meta){return dispatch(startDataLoad(layerId,dataId,requestToken,meta))},stopLoading:function stopLoading(dataId,requestToken,data,meta){return dispatch(endDataLoad(layerId,dataId,requestToken,data,meta))},onLoadError:function onLoadError(dataId,requestToken,errorMessage){return dispatch(onDataLoadError(layerId,dataId,requestToken,errorMessage))},updateSourceData:function updateSourceData(newData){dispatch(updateSourceDataRequest(layerId,newData))},registerCancelCallback:function registerCancelCallback(requestToken,callback){return dispatch((0,_non_serializable_instances.registerCancelCallback)(requestToken,callback))}}}function getLayerById(layerId,state){return(0,_map_selectors.getLayerList)(state).find((function(layer){return layerId===layer.getId()}))}function syncDataForAllLayers(getState,dispatch,dataFilters){var state,layerList,syncs;return regeneratorRuntime.async((function syncDataForAllLayers$(_context){while(1){switch(_context.prev=_context.next){case 0:state=getState();layerList=(0,_map_selectors.getLayerList)(state);syncs=layerList.map((function(layer){var loadingFunctions=getLayerLoadingCallbacks(dispatch,layer.getId());return layer.syncData(_objectSpread({},loadingFunctions,{dataFilters:dataFilters}))}));_context.next=5;return regeneratorRuntime.awrap(Promise.all(syncs));case 5:case"end":return _context.stop()}}}))}function cancelAllInFlightRequests(){return function(dispatch,getState){(0,_map_selectors.getLayerList)(getState()).forEach((function(layer){layer.getInFlightRequestTokens().forEach((function(requestToken){dispatch((0,_non_serializable_instances.cancelRequest)(requestToken))}))}))}}function setMapInitError(errorMessage){return{type:SET_MAP_INIT_ERROR,errorMessage:errorMessage}}function trackCurrentLayerState(layerId){return{type:TRACK_CURRENT_LAYER_STATE,layerId:layerId}}function rollbackToTrackedLayerStateForSelectedLayer(){return function _callee(dispatch,getState){var layerId;return regeneratorRuntime.async((function _callee$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:layerId=(0,_map_selectors.getSelectedLayerId)(getState());_context2.next=3;return regeneratorRuntime.awrap(dispatch({type:ROLLBACK_TO_TRACKED_LAYER_STATE,layerId:layerId}));case 3:dispatch(updateStyleMeta(layerId));dispatch(syncDataForLayer(layerId));case 5:case"end":return _context2.stop()}}}))}}function removeTrackedLayerStateForSelectedLayer(){return function(dispatch,getState){var layerId=(0,_map_selectors.getSelectedLayerId)(getState());dispatch({type:REMOVE_TRACKED_LAYER_STATE,layerId:layerId})}}function replaceLayerList(newLayerList){return function(dispatch,getState){(0,_map_selectors.getLayerListRaw)(getState()).forEach((function(_ref){var id=_ref.id;dispatch(removeLayerFromLayerList(id))}));newLayerList.forEach((function(layerDescriptor){dispatch(addLayer(layerDescriptor))}))}}function cloneLayer(layerId){return function _callee2(dispatch,getState){var layer,clonedDescriptor;return regeneratorRuntime.async((function _callee2$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:layer=getLayerById(layerId,getState());if(layer){_context3.next=3;break}return _context3.abrupt("return");case 3:_context3.next=5;return regeneratorRuntime.awrap(layer.cloneDescriptor());case 5:clonedDescriptor=_context3.sent;dispatch(addLayer(clonedDescriptor));case 7:case"end":return _context3.stop()}}}))}}function addLayer(layerDescriptor){return function(dispatch,getState){var isMapReady=(0,_map_selectors.getMapReady)(getState());if(!isMapReady){dispatch({type:ADD_WAITING_FOR_MAP_READY_LAYER,layer:layerDescriptor});return}dispatch({type:ADD_LAYER,layer:layerDescriptor});dispatch(syncDataForLayer(layerDescriptor.id))}}function addLayerWithoutDataSync(layerDescriptor){return{type:ADD_LAYER,layer:layerDescriptor}}function setLayerDataLoadErrorStatus(layerId,errorMessage){return function(dispatch){dispatch({type:SET_LAYER_ERROR_STATUS,isInErrorState:errorMessage!==null,layerId:layerId,errorMessage:errorMessage})}}function cleanTooltipStateForLayer(layerId){var layerFeatures=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return function(dispatch,getState){var tooltipState=(0,_map_selectors.getTooltipState)(getState());if(!tooltipState){return}var nextTooltipFeatures=tooltipState.features.filter((function(tooltipFeature){if(tooltipFeature.layerId!==layerId){return true}return layerFeatures.some((function(layerFeature){return layerFeature.properties[_constants.FEATURE_ID_PROPERTY_NAME]===tooltipFeature.id}))}));if(tooltipState.features.length===nextTooltipFeatures.length){return}if(nextTooltipFeatures.length===0){dispatch(setTooltipState(null))}else{dispatch(setTooltipState(_objectSpread({},tooltipState,{features:nextTooltipFeatures})))}}}function setLayerVisibility(layerId,makeVisible){return function _callee3(dispatch,getState){var layer;return regeneratorRuntime.async((function _callee3$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:layer=getLayerById(layerId,getState());if(!(!layer||layer.isVisible()===makeVisible)){_context4.next=3;break}return _context4.abrupt("return");case 3:if(!makeVisible){dispatch(cleanTooltipStateForLayer(layerId))}_context4.next=6;return regeneratorRuntime.awrap(dispatch({type:SET_LAYER_VISIBILITY,layerId:layerId,visibility:makeVisible}));case 6:if(makeVisible){dispatch(syncDataForLayer(layerId))}case 7:case"end":return _context4.stop()}}}))}}function toggleLayerVisible(layerId){return function _callee4(dispatch,getState){var layer,makeVisible;return regeneratorRuntime.async((function _callee4$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:layer=getLayerById(layerId,getState());if(layer){_context5.next=3;break}return _context5.abrupt("return");case 3:makeVisible=!layer.isVisible();dispatch(setLayerVisibility(layerId,makeVisible));case 5:case"end":return _context5.stop()}}}))}}function setSelectedLayer(layerId){return function _callee5(dispatch,getState){var oldSelectedLayer;return regeneratorRuntime.async((function _callee5$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:oldSelectedLayer=(0,_map_selectors.getSelectedLayerId)(getState());if(!oldSelectedLayer){_context6.next=4;break}_context6.next=4;return regeneratorRuntime.awrap(dispatch(rollbackToTrackedLayerStateForSelectedLayer()));case 4:if(layerId){dispatch(trackCurrentLayerState(layerId))}dispatch({type:SET_SELECTED_LAYER,selectedLayerId:layerId});case 6:case"end":return _context6.stop()}}}))}}function removeTransientLayer(){return function _callee6(dispatch,getState){var transientLayerId;return regeneratorRuntime.async((function _callee6$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:transientLayerId=(0,_map_selectors.getTransientLayerId)(getState());if(!transientLayerId){_context7.next=6;break}_context7.next=4;return regeneratorRuntime.awrap(dispatch(removeLayerFromLayerList(transientLayerId)));case 4:_context7.next=6;return regeneratorRuntime.awrap(dispatch(setTransientLayer(null)));case 6:case"end":return _context7.stop()}}}))}}function setTransientLayer(layerId){return{type:SET_TRANSIENT_LAYER,transientLayerId:layerId}}function clearTransientLayerStateAndCloseFlyout(){return function _callee7(dispatch){return regeneratorRuntime.async((function _callee7$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return regeneratorRuntime.awrap(dispatch((0,_ui_actions.updateFlyout)(_ui.FLYOUT_STATE.NONE)));case 2:_context8.next=4;return regeneratorRuntime.awrap(dispatch(setSelectedLayer(null)));case 4:_context8.next=6;return regeneratorRuntime.awrap(dispatch(removeTransientLayer()));case 6:case"end":return _context8.stop()}}}))}}function updateLayerOrder(newLayerOrder){return{type:UPDATE_LAYER_ORDER,newLayerOrder:newLayerOrder}}function mapReady(){return function(dispatch,getState){dispatch({type:MAP_READY});(0,_map_selectors.getWaitingForMapReadyLayerListRaw)(getState()).forEach((function(layerDescriptor){dispatch(addLayer(layerDescriptor))}));dispatch({type:CLEAR_WAITING_FOR_MAP_READY_LAYER_LIST})}}function mapDestroyed(){return{type:MAP_DESTROYED}}function mapExtentChanged(newMapConstants){return function _callee8(dispatch,getState){var state,dataFilters,extent,newZoom,buffer,currentZoom,doesBufferContainExtent,bufferGeometry,extentGeometry,scaleFactor,width,height,newDataFilters;return regeneratorRuntime.async((function _callee8$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:state=getState();dataFilters=(0,_map_selectors.getDataFilters)(state);extent=newMapConstants.extent,newZoom=newMapConstants.zoom;buffer=dataFilters.buffer,currentZoom=dataFilters.zoom;if(extent){doesBufferContainExtent=false;if(buffer){bufferGeometry=_turf.default.bboxPolygon([buffer.minLon,buffer.minLat,buffer.maxLon,buffer.maxLat]);extentGeometry=_turf.default.bboxPolygon([extent.minLon,extent.minLat,extent.maxLon,extent.maxLat]);doesBufferContainExtent=(0,_booleanContains.default)(bufferGeometry,extentGeometry)}if(!doesBufferContainExtent||currentZoom!==newZoom){scaleFactor=.5;width=extent.maxLon-extent.minLon;height=extent.maxLat-extent.minLat;dataFilters.buffer={minLon:extent.minLon-width*scaleFactor,minLat:extent.minLat-height*scaleFactor,maxLon:extent.maxLon+width*scaleFactor,maxLat:extent.maxLat+height*scaleFactor}}}dispatch({type:MAP_EXTENT_CHANGED,mapState:_objectSpread({},dataFilters,{},newMapConstants)});newDataFilters=_objectSpread({},dataFilters,{},newMapConstants);_context9.next=9;return regeneratorRuntime.awrap(syncDataForAllLayers(getState,dispatch,newDataFilters));case 9:case"end":return _context9.stop()}}}))}}function setTooltipState(tooltipState){return{type:"SET_TOOLTIP_STATE",tooltipState:tooltipState}}function setMouseCoordinates(_ref2){var lat=_ref2.lat,lon=_ref2.lon;var safeLon=lon;if(lon>180){var overlapWestOfDateLine=lon-180;safeLon=-180+overlapWestOfDateLine}else if(lon<-180){var overlapEastOfDateLine=Math.abs(lon)-180;safeLon=180-overlapEastOfDateLine}return{type:SET_MOUSE_COORDINATES,lat:lat,lon:safeLon}}function clearMouseCoordinates(){return{type:CLEAR_MOUSE_COORDINATES}}function disableScrollZoom(){return{type:SET_SCROLL_ZOOM,scrollZoom:false}}function fitToLayerExtent(layerId){return function _callee9(dispatch,getState){var targetLayer,_dataFilters,bounds;return regeneratorRuntime.async((function _callee9$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:targetLayer=getLayerById(layerId,getState());if(!targetLayer){_context10.next=9;break}_dataFilters=(0,_map_selectors.getDataFilters)(getState());_context10.next=5;return regeneratorRuntime.awrap(targetLayer.getBounds(_dataFilters));case 5:bounds=_context10.sent;if(!bounds){_context10.next=9;break}_context10.next=9;return regeneratorRuntime.awrap(dispatch(setGotoWithBounds(bounds)));case 9:case"end":return _context10.stop()}}}))}}function setGotoWithBounds(bounds){return{type:SET_GOTO,bounds:bounds}}function setGotoWithCenter(_ref3){var lat=_ref3.lat,lon=_ref3.lon,zoom=_ref3.zoom;return{type:SET_GOTO,center:{lat:lat,lon:lon,zoom:zoom}}}function clearGoto(){return{type:CLEAR_GOTO}}function startDataLoad(layerId,dataId,requestToken){var meta=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};return function(dispatch,getState){var layer=getLayerById(layerId,getState());if(layer){dispatch((0,_non_serializable_instances.cancelRequest)(layer.getPrevRequestToken(dataId)))}var eventHandlers=(0,_non_serializable_instances.getEventHandlers)(getState());if(eventHandlers&&eventHandlers.onDataLoad){eventHandlers.onDataLoad({layerId:layerId,dataId:dataId})}dispatch({meta:meta,type:LAYER_DATA_LOAD_STARTED,layerId:layerId,dataId:dataId,requestToken:requestToken})}}function updateSourceDataRequest(layerId,newData){return function(dispatch){dispatch({type:UPDATE_SOURCE_DATA_REQUEST,dataId:_constants.SOURCE_DATA_ID_ORIGIN,layerId:layerId,newData:newData});dispatch(updateStyleMeta(layerId))}}function endDataLoad(layerId,dataId,requestToken,data,meta){return function _callee10(dispatch,getState){var features,eventHandlers,_layer,resultMeta;return regeneratorRuntime.async((function _callee10$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:dispatch((0,_non_serializable_instances.unregisterCancelCallback)(requestToken));features=data&&data.features?data.features:[];eventHandlers=(0,_non_serializable_instances.getEventHandlers)(getState());if(eventHandlers&&eventHandlers.onDataLoadEnd){_layer=getLayerById(layerId,getState());resultMeta={};if(_layer&&_layer.getType()===_constants.LAYER_TYPE.VECTOR){resultMeta.featuresCount=features.length}eventHandlers.onDataLoadEnd({layerId:layerId,dataId:dataId,resultMeta:resultMeta})}dispatch(cleanTooltipStateForLayer(layerId,features));dispatch({type:LAYER_DATA_LOAD_ENDED,layerId:layerId,dataId:dataId,data:data,meta:meta,requestToken:requestToken});dispatch(setLayerDataLoadErrorStatus(layerId,null));dispatch(updateStyleMeta(layerId));case 8:case"end":return _context11.stop()}}}))}}function onDataLoadError(layerId,dataId,requestToken,errorMessage){return function _callee11(dispatch,getState){var eventHandlers;return regeneratorRuntime.async((function _callee11$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:dispatch((0,_non_serializable_instances.unregisterCancelCallback)(requestToken));eventHandlers=(0,_non_serializable_instances.getEventHandlers)(getState());if(eventHandlers&&eventHandlers.onDataLoadError){eventHandlers.onDataLoadError({layerId:layerId,dataId:dataId,errorMessage:errorMessage})}dispatch(cleanTooltipStateForLayer(layerId));dispatch({type:LAYER_DATA_LOAD_ERROR,data:null,layerId:layerId,dataId:dataId,requestToken:requestToken});dispatch(setLayerDataLoadErrorStatus(layerId,errorMessage));case 6:case"end":return _context12.stop()}}}))}}function updateSourceProp(layerId,propName,value){return function _callee12(dispatch){return regeneratorRuntime.async((function _callee12$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:dispatch({type:UPDATE_SOURCE_PROP,layerId:layerId,propName:propName,value:value});_context13.next=3;return regeneratorRuntime.awrap(dispatch(clearMissingStyleProperties(layerId)));case 3:dispatch(syncDataForLayer(layerId));case 4:case"end":return _context13.stop()}}}))}}function syncDataForLayer(layerId){return function _callee13(dispatch,getState){var targetLayer,_dataFilters2,loadingFunctions;return regeneratorRuntime.async((function _callee13$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:targetLayer=getLayerById(layerId,getState());if(!targetLayer){_context14.next=6;break}_dataFilters2=(0,_map_selectors.getDataFilters)(getState());loadingFunctions=getLayerLoadingCallbacks(dispatch,layerId);_context14.next=6;return regeneratorRuntime.awrap(targetLayer.syncData(_objectSpread({},loadingFunctions,{dataFilters:_dataFilters2})));case 6:case"end":return _context14.stop()}}}))}}function updateLayerLabel(id,newLabel){return{type:UPDATE_LAYER_PROP,id:id,propName:"label",newValue:newLabel}}function updateLayerMinZoom(id,minZoom){return{type:UPDATE_LAYER_PROP,id:id,propName:"minZoom",newValue:minZoom}}function updateLayerMaxZoom(id,maxZoom){return{type:UPDATE_LAYER_PROP,id:id,propName:"maxZoom",newValue:maxZoom}}function updateLayerAlpha(id,alpha){return{type:UPDATE_LAYER_PROP,id:id,propName:"alpha",newValue:alpha}}function setLayerQuery(id,query){return function(dispatch){dispatch({type:UPDATE_LAYER_PROP,id:id,propName:"query",newValue:query});dispatch(syncDataForLayer(id))}}function removeSelectedLayer(){return function(dispatch,getState){var state=getState();var layerId=(0,_map_selectors.getSelectedLayerId)(state);dispatch(removeLayer(layerId))}}function removeLayer(layerId){return function _callee14(dispatch,getState){var state,selectedLayerId;return regeneratorRuntime.async((function _callee14$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:state=getState();selectedLayerId=(0,_map_selectors.getSelectedLayerId)(state);if(!(layerId===selectedLayerId)){_context15.next=6;break}dispatch((0,_ui_actions.updateFlyout)(_ui.FLYOUT_STATE.NONE));_context15.next=6;return regeneratorRuntime.awrap(dispatch(setSelectedLayer(null)));case 6:dispatch(removeLayerFromLayerList(layerId));case 7:case"end":return _context15.stop()}}}))}}function removeLayerFromLayerList(layerId){return function(dispatch,getState){var layerGettingRemoved=getLayerById(layerId,getState());if(!layerGettingRemoved){return}layerGettingRemoved.getInFlightRequestTokens().forEach((function(requestToken){dispatch((0,_non_serializable_instances.cancelRequest)(requestToken))}));dispatch(cleanTooltipStateForLayer(layerId));layerGettingRemoved.destroy();dispatch({type:REMOVE_LAYER,id:layerId})}}function setQuery(_ref4){var query=_ref4.query,timeFilters=_ref4.timeFilters,_ref4$filters=_ref4.filters,filters=_ref4$filters===void 0?[]:_ref4$filters,_ref4$refresh=_ref4.refresh,refresh=_ref4$refresh===void 0?false:_ref4$refresh;function generateQueryTimestamp(){return(new Date).toISOString()}return function _callee15(dispatch,getState){var prevQuery,prevTriggeredAt,dataFilters;return regeneratorRuntime.async((function _callee15$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:prevQuery=(0,_map_selectors.getQuery)(getState());prevTriggeredAt=prevQuery&&prevQuery.queryLastTriggeredAt?prevQuery.queryLastTriggeredAt:generateQueryTimestamp();dispatch({type:SET_QUERY,timeFilters:timeFilters,query:_objectSpread({},query,{queryLastTriggeredAt:refresh?generateQueryTimestamp():prevTriggeredAt}),filters:filters});dataFilters=(0,_map_selectors.getDataFilters)(getState());_context16.next=6;return regeneratorRuntime.awrap(syncDataForAllLayers(getState,dispatch,dataFilters));case 6:case"end":return _context16.stop()}}}))}}function setRefreshConfig(_ref5){var isPaused=_ref5.isPaused,interval=_ref5.interval;return{type:SET_REFRESH_CONFIG,isPaused:isPaused,interval:interval}}function triggerRefreshTimer(){return function _callee16(dispatch,getState){var dataFilters;return regeneratorRuntime.async((function _callee16$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:dispatch({type:TRIGGER_REFRESH_TIMER});dataFilters=(0,_map_selectors.getDataFilters)(getState());_context17.next=4;return regeneratorRuntime.awrap(syncDataForAllLayers(getState,dispatch,dataFilters));case 4:case"end":return _context17.stop()}}}))}}function clearMissingStyleProperties(layerId){return function _callee17(dispatch,getState){var targetLayer,style,nextFields,_style$getDescriptorW,hasChanges,nextStyleDescriptor;return regeneratorRuntime.async((function _callee17$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:targetLayer=getLayerById(layerId,getState());if(targetLayer){_context18.next=3;break}return _context18.abrupt("return");case 3:style=targetLayer.getCurrentStyle();if(style){_context18.next=6;break}return _context18.abrupt("return");case 6:_context18.next=8;return regeneratorRuntime.awrap(targetLayer.getFields());case 8:nextFields=_context18.sent;_style$getDescriptorW=style.getDescriptorWithMissingStylePropsRemoved(nextFields),hasChanges=_style$getDescriptorW.hasChanges,nextStyleDescriptor=_style$getDescriptorW.nextStyleDescriptor;if(hasChanges){dispatch(updateLayerStyle(layerId,nextStyleDescriptor))}case 11:case"end":return _context18.stop()}}}))}}function updateLayerStyle(layerId,styleDescriptor){return function(dispatch){dispatch({type:UPDATE_LAYER_STYLE,layerId:layerId,style:_objectSpread({},styleDescriptor)});dispatch(updateStyleMeta(layerId));dispatch(syncDataForLayer(layerId))}}function updateStyleMeta(layerId){return function _callee18(dispatch,getState){var layer,sourceDataRequest,style,styleMeta;return regeneratorRuntime.async((function _callee18$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:layer=getLayerById(layerId,getState());if(layer){_context19.next=3;break}return _context19.abrupt("return");case 3:sourceDataRequest=layer.getSourceDataRequest();style=layer.getCurrentStyle();if(!(!style||!sourceDataRequest)){_context19.next=7;break}return _context19.abrupt("return");case 7:_context19.next=9;return regeneratorRuntime.awrap(style.pluckStyleMetaFromSourceDataRequest(sourceDataRequest));case 9:styleMeta=_context19.sent;dispatch({type:SET_LAYER_STYLE_META,layerId:layerId,styleMeta:styleMeta});case 11:case"end":return _context19.stop()}}}))}}function updateLayerStyleForSelectedLayer(styleDescriptor){return function(dispatch,getState){var selectedLayerId=(0,_map_selectors.getSelectedLayerId)(getState());if(!selectedLayerId){return}dispatch(updateLayerStyle(selectedLayerId,styleDescriptor))}}function setJoinsForLayer(layer,joins){return function _callee19(dispatch){return regeneratorRuntime.async((function _callee19$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:_context20.next=2;return regeneratorRuntime.awrap(dispatch({type:SET_JOINS,layer:layer,joins:joins}));case 2:_context20.next=4;return regeneratorRuntime.awrap(dispatch(clearMissingStyleProperties(layer.getId())));case 4:dispatch(syncDataForLayer(layer.getId()));case 5:case"end":return _context20.stop()}}}))}}function updateDrawState(drawState){return function _callee20(dispatch){return regeneratorRuntime.async((function _callee20$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:if(!(drawState!==null)){_context21.next=3;break}_context21.next=3;return regeneratorRuntime.awrap(dispatch(setTooltipState(null)));case 3:dispatch({type:UPDATE_DRAW_STATE,drawState:drawState});case 4:case"end":return _context21.stop()}}}))}}function disableInteractive(){return{type:SET_INTERACTIVE,disableInteractive:true}}function disableTooltipControl(){return{type:DISABLE_TOOLTIP_CONTROL,disableTooltipControl:true}}function hideToolbarOverlay(){return{type:HIDE_TOOLBAR_OVERLAY,hideToolbarOverlay:true}}function hideLayerControl(){return{type:HIDE_LAYER_CONTROL,hideLayerControl:true}}function hideViewControl(){return{type:HIDE_VIEW_CONTROL,hideViewControl:true}}function setHiddenLayers(hiddenLayerIds){return function(dispatch,getState){var isMapReady=(0,_map_selectors.getMapReady)(getState());if(!isMapReady){dispatch({type:SET_WAITING_FOR_READY_HIDDEN_LAYERS,hiddenLayerIds:hiddenLayerIds})}else{(0,_map_selectors.getLayerListRaw)(getState()).forEach((function(layer){return dispatch(setLayerVisibility(layer.id,!hiddenLayerIds.includes(layer.id)))}))}}}},9245:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(1781)},9246:function(module,exports,__webpack_require__){module.exports=__webpack_require__(17)(3078)},9247:function(module,exports,__webpack_require__){module.exports=__webpack_require__(17)(3099)},9253:function(module,exports,__webpack_require__){module.exports=__webpack_require__(36)(525)},9254:function(module,exports,__webpack_require__){module.exports=__webpack_require__(17)(371)},9255:function(module,exports,__webpack_require__){module.exports=__webpack_require__(26)(2699)},9256:function(module,exports,__webpack_require__){module.exports=__webpack_require__(36)(2664)},9257:function(module,exports,__webpack_require__){module.exports=__webpack_require__(26)(1109)},9258:function(module,exports,__webpack_require__){module.exports=__webpack_require__(26)(1552)},9259:function(module,exports,__webpack_require__){module.exports=__webpack_require__(26)(1559)},9260:function(module,exports,__webpack_require__){module.exports=__webpack_require__(36)(2569)},9261:function(module,exports,__webpack_require__){module.exports=__webpack_require__(36)(2652)},9262:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(1776)},9263:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(1743)},9264:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(1800)},93:function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(915)},985:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useJson=void 0;var _react=__webpack_require__(0);var _i18n=__webpack_require__(2);var _string=__webpack_require__(164);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var stringifyJson=function stringifyJson(json){return Object.keys(json).length?JSON.stringify(json,null,2):"{\n\n}"};var useJson=function useJson(_ref){var _ref$defaultValue=_ref.defaultValue,defaultValue=_ref$defaultValue===void 0?{}:_ref$defaultValue,onUpdate=_ref.onUpdate,_ref$isControlled=_ref.isControlled,isControlled=_ref$isControlled===void 0?false:_ref$isControlled;var didMount=(0,_react.useRef)(false);var _useState=(0,_react.useState)(stringifyJson(defaultValue)),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var validate=function validate(){var isValid=content.trim()===""?true:(0,_string.isJSON)(content);if(!isValid){setError(_i18n.i18n.translate("esUi.validation.string.invalidJSONError",{defaultMessage:"Invalid JSON"}))}else{setError(null)}return isValid};var formatContent=function formatContent(){var isValid=validate();var data=isValid&&content.trim()!==""?JSON.parse(content):{};return data};(0,_react.useEffect)((function(){if(didMount.current){var isValid=isControlled?undefined:validate();onUpdate({data:{raw:content,format:formatContent},validate:validate,isValid:isValid})}else{didMount.current=true}}),[content]);return{content:content,setContent:setContent,error:error}};exports.useJson=useJson},988:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={useUIAceKeyboardMode:true};Object.defineProperty(exports,"useUIAceKeyboardMode",{enumerable:true,get:function get(){return _use_ui_ace_keyboard_mode.useUIAceKeyboardMode}});var _json_editor=__webpack_require__(1898);Object.keys(_json_editor).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _json_editor[key]}})}));var _use_ui_ace_keyboard_mode=__webpack_require__(1909)},998:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.removeOrphanedSourcesAndLayers=removeOrphanedSourcesAndLayers;exports.syncLayerOrderForSingleLayer=syncLayerOrderForSingleLayer;exports.loadSpriteSheetImageData=loadSpriteSheetImageData;exports.addSpriteSheetToMapFromImageData=addSpriteSheetToMapFromImageData;exports.addSpritesheetToMap=addSpritesheetToMap;var _lodash=_interopRequireDefault(__webpack_require__(3));var _image_utils=__webpack_require__(1947);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function removeOrphanedSourcesAndLayers(mbMap,layerList){var mbStyle=mbMap.getStyle();var mbLayerIdsToRemove=[];mbStyle.layers.forEach((function(mbLayer){var layer=layerList.find((function(layer){return layer.ownsMbLayerId(mbLayer.id)}));if(!layer){mbLayerIdsToRemove.push(mbLayer.id)}}));mbLayerIdsToRemove.forEach((function(mbLayerId){return mbMap.removeLayer(mbLayerId)}));var mbSourcesToRemove=[];var _loop=function _loop(mbSourceId){if(mbStyle.sources.hasOwnProperty(mbSourceId)){var layer=layerList.find((function(layer){return layer.ownsMbSourceId(mbSourceId)}));if(!layer){mbSourcesToRemove.push(mbSourceId)}}};for(var mbSourceId in mbStyle.sources){_loop(mbSourceId)}mbSourcesToRemove.forEach((function(mbSourceId){return mbMap.removeSource(mbSourceId)}))}function syncLayerOrderForSingleLayer(mbMap,layerList){if(!layerList||layerList.length===0){return}var mbLayers=mbMap.getStyle().layers.slice();var layerIds=mbLayers.map((function(mbLayer){var layer=layerList.find((function(layer){return layer.ownsMbLayerId(mbLayer.id)}));return layer.getId()}));var currentLayerOrderLayerIds=_lodash.default.uniq(layerIds);var newLayerOrderLayerIdsUnfiltered=layerList.map((function(l){return l.getId()}));var newLayerOrderLayerIds=newLayerOrderLayerIdsUnfiltered.filter((function(layerId){return currentLayerOrderLayerIds.includes(layerId)}));var netPos=0;var netNeg=0;var movementArr=currentLayerOrderLayerIds.reduce((function(accu,id,idx){var movement=newLayerOrderLayerIds.findIndex((function(newOId){return newOId===id}))-idx;movement>0?netPos++:movement<0&&netNeg++;accu.push({id:id,movement:movement});return accu}),[]);if(netPos===0&&netNeg===0){return}var movedLayerId=netPos>=netNeg&&movementArr.find((function(l){return l.movement<0})).id||netPos<netNeg&&movementArr.find((function(l){return l.movement>0})).id;var nextLayerIdx=newLayerOrderLayerIds.findIndex((function(layerId){return layerId===movedLayerId}))+1;var nextMbLayerId;if(nextLayerIdx===newLayerOrderLayerIds.length){nextMbLayerId=null}else{var foundLayer=mbLayers.find((function(_ref){var mbLayerId=_ref.id;var layerId=newLayerOrderLayerIds[nextLayerIdx];var layer=layerList.find((function(layer){return layer.getId()===layerId}));return layer.ownsMbLayerId(mbLayerId)}));nextMbLayerId=foundLayer.id}var movedLayer=layerList.find((function(layer){return layer.getId()===movedLayerId}));mbLayers.forEach((function(_ref2){var mbLayerId=_ref2.id;if(movedLayer.ownsMbLayerId(mbLayerId)){mbMap.moveLayer(mbLayerId,nextMbLayerId)}}))}function getImageData(img){var canvas=window.document.createElement("canvas");var context=canvas.getContext("2d");if(!context){throw new Error("failed to create canvas 2d context")}canvas.width=img.width;canvas.height=img.height;context.drawImage(img,0,0,img.width,img.height);return context.getImageData(0,0,img.width,img.height)}function loadSpriteSheetImageData(imgUrl){return regeneratorRuntime.async((function loadSpriteSheetImageData$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise((function(resolve,reject){var image=new Image;image.crossOrigin="Anonymous";image.onload=function(el){var imgData=getImageData(el.currentTarget);resolve(imgData)};image.onerror=function(e){reject(e)};image.src=imgUrl})));case 1:case"end":return _context.stop()}}}))}function addSpriteSheetToMapFromImageData(json,imgData,mbMap){for(var imageId in json){if(!(json.hasOwnProperty(imageId)&&!mbMap.hasImage(imageId))){continue}var _json$imageId=json[imageId],width=_json$imageId.width,height=_json$imageId.height,x=_json$imageId.x,y=_json$imageId.y,sdf=_json$imageId.sdf,pixelRatio=_json$imageId.pixelRatio;if(typeof width!=="number"||typeof height!=="number"){continue}var data=new _image_utils.RGBAImage({width:width,height:height});_image_utils.RGBAImage.copy(imgData,data,{x:x,y:y},{x:0,y:0},{width:width,height:height});mbMap.addImage(imageId,data,{pixelRatio:pixelRatio,sdf:sdf})}}function addSpritesheetToMap(json,imgUrl,mbMap){var imgData;return regeneratorRuntime.async((function addSpritesheetToMap$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return regeneratorRuntime.awrap(loadSpriteSheetImageData(imgUrl));case 2:imgData=_context2.sent;addSpriteSheetToMapFromImageData(json,imgData,mbMap);case 4:case"end":return _context2.stop()}}}))}}}]);