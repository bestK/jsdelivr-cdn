/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[57],{1939:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseStatus=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var LicenseStatus=function(_React$PureComponent){_inherits(LicenseStatus,_React$PureComponent);function LicenseStatus(){_classCallCheck(this,LicenseStatus);return _possibleConstructorReturn(this,_getPrototypeOf(LicenseStatus).apply(this,arguments))}_createClass(LicenseStatus,[{key:"render",value:function render(){var _this$props=this.props,isExpired=_this$props.isExpired,status=_this$props.status,type=_this$props.type,expiryDate=_this$props.expiryDate;var typeTitleCase=type.charAt(0).toUpperCase()+type.substr(1).toLowerCase();var icon;var title;var message;if(isExpired){icon=_react.default.createElement(_eui.EuiIcon,{color:"danger",type:"alert"});message=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.expiredLicenseStatusDescription",defaultMessage:"Your license expired on {expiryDate}",values:{expiryDate:_react.default.createElement("strong",null,expiryDate)}}));title=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.expiredLicenseStatusTitle",defaultMessage:"Your {typeTitleCase} license has expired",values:{typeTitleCase:typeTitleCase}})}else{icon=_react.default.createElement(_eui.EuiIcon,{color:"success",type:"checkInCircleFilled",size:"l"});message=expiryDate?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.activeLicenseStatusDescription",defaultMessage:"Your license will expire on {expiryDate}",values:{expiryDate:_react.default.createElement("strong",null,expiryDate)}})):_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.permanentActiveLicenseStatusDescription",defaultMessage:"Your license will never expire."}));title=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.activeLicenseStatusTitle",defaultMessage:"Your {typeTitleCase} license is {status}",values:{typeTitleCase:typeTitleCase,status:status.toLowerCase()}})}return _react.default.createElement(_eui.EuiTextAlign,{textAlign:"center"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},icon),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h1",{"data-test-subj":"licenseText"},title)))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiText,{"data-test-subj":"licenseSubText"},message))}}]);return LicenseStatus}(_react.default.PureComponent);exports.LicenseStatus=LicenseStatus},1940:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddLicense=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _constants=__webpack_require__(398);var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AddLicense=function AddLicense(_ref){var _ref$uploadPath=_ref.uploadPath,uploadPath=_ref$uploadPath===void 0?"#".concat(_constants.BASE_PATH,"upload_license"):_ref$uploadPath;return _react.default.createElement(_eui.EuiCard,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.addLicense.updateLicenseTitle",defaultMessage:"Update your license"}),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.addLicense.useAvailableLicenseDescription",defaultMessage:"If you already have a new license, upload it now."}),footer:_react.default.createElement(_eui.EuiButton,{"data-test-subj":"updateLicenseButton",href:uploadPath},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.addLicense.updateLicenseButtonLabel",defaultMessage:"Update license"}))})};exports.AddLicense=AddLicense},7009:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _boot=__webpack_require__(9064);Object.keys(_boot).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _boot[key]}})}))},7115:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getStartBasicMessages=exports.startBasicLicenseNeedsAcknowledgement=exports.startTrialError=exports.shouldShowRequestTrialExtension=exports.shouldShowStartTrial=exports.getUploadErrorMessage=exports.isInvalid=exports.uploadMessages=exports.isApplying=exports.uploadNeedsAcknowledgement=exports.shouldShowRevertToBasicLicense=exports.isImminentExpiration=exports.isExpired=exports.getExpirationDateFormatted=exports.getExpirationDate=exports.getExpirationMillis=exports.getLicenseType=exports.getLicense=exports.getPermissionsError=exports.isPermissionsLoading=exports.getPermission=exports.licenseManagement=exports.WARNING_THRESHOLD_IN_DAYS=void 0;var _redux=__webpack_require__(93);var _license=__webpack_require__(9073);var _upload_status=__webpack_require__(9074);var _start_basic_license_status=__webpack_require__(9075);var _upload_error_message=__webpack_require__(9076);var _trial_status=__webpack_require__(9077);var _permissions=__webpack_require__(9078);var _momentTimezone=_interopRequireDefault(__webpack_require__(35));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var WARNING_THRESHOLD_IN_DAYS=25;exports.WARNING_THRESHOLD_IN_DAYS=WARNING_THRESHOLD_IN_DAYS;var licenseManagement=(0,_redux.combineReducers)({license:_license.license,uploadStatus:_upload_status.uploadStatus,uploadErrorMessage:_upload_error_message.uploadErrorMessage,trialStatus:_trial_status.trialStatus,startBasicStatus:_start_basic_license_status.startBasicStatus,permissions:_permissions.permissions});exports.licenseManagement=licenseManagement;var getPermission=function getPermission(state){return state.permissions.hasPermission};exports.getPermission=getPermission;var isPermissionsLoading=function isPermissionsLoading(state){return state.permissions.loading};exports.isPermissionsLoading=isPermissionsLoading;var getPermissionsError=function getPermissionsError(state){return state.permissions.error};exports.getPermissionsError=getPermissionsError;var getLicense=function getLicense(state){return state.license};exports.getLicense=getLicense;var getLicenseType=function getLicenseType(state){return getLicense(state).type};exports.getLicenseType=getLicenseType;var getExpirationMillis=function getExpirationMillis(state){return getLicense(state).expiryDateInMillis};exports.getExpirationMillis=getExpirationMillis;var getExpirationDate=function getExpirationDate(state){if(getLicenseType(state)==="basic"){return null}var expirationMillis=getExpirationMillis(state);if(expirationMillis){return _momentTimezone.default.tz(getExpirationMillis(state),_momentTimezone.default.tz.guess())}else{return null}};exports.getExpirationDate=getExpirationDate;var getExpirationDateFormatted=function getExpirationDateFormatted(state){var expirationDate=getExpirationDate(state);return expirationDate?expirationDate.format("LLL z"):null};exports.getExpirationDateFormatted=getExpirationDateFormatted;var isExpired=function isExpired(state){return(new Date).getTime()>getExpirationMillis(state)};exports.isExpired=isExpired;var isImminentExpiration=function isImminentExpiration(state){var now=new Date;var expirationDate=getExpirationDate(state);return expirationDate&&expirationDate.isAfter(now)&&expirationDate.diff(now,"days")<=WARNING_THRESHOLD_IN_DAYS};exports.isImminentExpiration=isImminentExpiration;var shouldShowRevertToBasicLicense=function shouldShowRevertToBasicLicense(state){var _getLicense=getLicense(state),type=_getLicense.type;return type==="trial"||isImminentExpiration(state)||isExpired(state)};exports.shouldShowRevertToBasicLicense=shouldShowRevertToBasicLicense;var uploadNeedsAcknowledgement=function uploadNeedsAcknowledgement(state){return!!state.uploadStatus.acknowledge};exports.uploadNeedsAcknowledgement=uploadNeedsAcknowledgement;var isApplying=function isApplying(state){return!!state.uploadStatus.applying};exports.isApplying=isApplying;var uploadMessages=function uploadMessages(state){return state.uploadStatus.messages};exports.uploadMessages=uploadMessages;var isInvalid=function isInvalid(state){return!!state.uploadStatus.invalid};exports.isInvalid=isInvalid;var getUploadErrorMessage=function getUploadErrorMessage(state){return state.uploadErrorMessage};exports.getUploadErrorMessage=getUploadErrorMessage;var shouldShowStartTrial=function shouldShowStartTrial(state){var licenseType=getLicenseType(state);return state.trialStatus.canStartTrial&&licenseType!=="trial"&&(licenseType!=="platinum"&&licenseType!=="enterprise"||isExpired(state))};exports.shouldShowStartTrial=shouldShowStartTrial;var shouldShowRequestTrialExtension=function shouldShowRequestTrialExtension(state){if(state.trialStatus.canStartTrial){return false}var _getLicense2=getLicense(state),type=_getLicense2.type;return type!=="platinum"&&type!=="enterprise"||isExpired(state)};exports.shouldShowRequestTrialExtension=shouldShowRequestTrialExtension;var startTrialError=function startTrialError(state){return state.trialStatus.startTrialError};exports.startTrialError=startTrialError;var startBasicLicenseNeedsAcknowledgement=function startBasicLicenseNeedsAcknowledgement(state){return!!state.startBasicStatus.acknowledge};exports.startBasicLicenseNeedsAcknowledgement=startBasicLicenseNeedsAcknowledgement;var getStartBasicMessages=function getStartBasicMessages(state){return state.startBasicStatus.messages};exports.getStartBasicMessages=getStartBasicMessages},7223:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.putLicense=putLicense;exports.startBasic=startBasic;exports.startTrial=startTrial;exports.canStartTrial=canStartTrial;exports.getPermissions=getPermissions;var BASE_PATH="/api/license";function putLicense(http,license,acknowledge){return http.put(BASE_PATH,{query:{acknowledge:acknowledge?"true":""},body:license,headers:{contentType:"application/json"},cache:"no-cache"})}function startBasic(http,acknowledge){return http.post("".concat(BASE_PATH,"/start_basic"),{query:{acknowledge:acknowledge?"true":""},headers:{contentType:"application/json"},body:null,cache:"no-cache"})}function startTrial(http){return http.post("".concat(BASE_PATH,"/start_trial"),{headers:{contentType:"application/json"},cache:"no-cache"})}function canStartTrial(http){return http.get("".concat(BASE_PATH,"/start_trial"),{headers:{contentType:"application/json"},cache:"no-cache"})}function getPermissions(http){return http.post("".concat(BASE_PATH,"/permissions"),{headers:{contentType:"application/json"},cache:"no-cache"})}},7364:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addUploadErrorMessage=void 0;var _reduxActions=__webpack_require__(44);var addUploadErrorMessage=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_ADD_UPLOAD_ERROR_MESSAGE");exports.addUploadErrorMessage=addUploadErrorMessage},7701:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addLicense=void 0;var _reduxActions=__webpack_require__(44);var addLicense=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_ADD_LICENSE");exports.addLicense=addLicense},7702:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uploadLicense=exports.uploadLicenseStatus=void 0;var _reduxActions=__webpack_require__(44);var _add_license=__webpack_require__(7701);var _es=__webpack_require__(7223);var _add_error_message=__webpack_require__(7364);var _i18n=__webpack_require__(2);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var uploadLicenseStatus=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_UPLOAD_LICENSE_STATUS");exports.uploadLicenseStatus=uploadLicenseStatus;var genericUploadError=_i18n.i18n.translate("xpack.licenseMgmt.uploadLicense.genericUploadErrorMessage",{defaultMessage:"Error encountered uploading license:"});var dispatchFromResponse=function dispatchFromResponse(response,dispatch,currentLicenseType,newLicenseType,_ref){var history,_ref$legacy,xPackInfo,refreshXpack,error,acknowledged,licenseStatus,acknowledge,messages,first;return regeneratorRuntime.async((function dispatchFromResponse$(_context){while(1){switch(_context.prev=_context.next){case 0:history=_ref.history,_ref$legacy=_ref.legacy,xPackInfo=_ref$legacy.xPackInfo,refreshXpack=_ref$legacy.refreshXpack;error=response.error,acknowledged=response.acknowledged,licenseStatus=response.license_status,acknowledge=response.acknowledge;if(!error){_context.next=7;break}dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)("".concat(genericUploadError," ").concat(error.reason)));_context.next=29;break;case 7:if(!acknowledged){_context.next=26;break}if(!(licenseStatus==="invalid")){_context.next=13;break}dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)(_i18n.i18n.translate("xpack.licenseMgmt.uploadLicense.invalidLicenseErrorMessage",{defaultMessage:"The supplied license is not valid for this product."})));_context.next=24;break;case 13:if(!(licenseStatus==="expired")){_context.next=18;break}dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)(_i18n.i18n.translate("xpack.licenseMgmt.uploadLicense.expiredLicenseErrorMessage",{defaultMessage:"The supplied license has expired."})));_context.next=24;break;case 18:_context.next=20;return regeneratorRuntime.awrap(refreshXpack());case 20:dispatch((0,_add_license.addLicense)(xPackInfo.get("license")));dispatch(uploadLicenseStatus({}));history.replace("/home");window.location.reload();case 24:_context.next=29;break;case 26:messages=Object.values(acknowledge).slice(1);first=_i18n.i18n.translate("xpack.licenseMgmt.uploadLicense.problemWithUploadedLicenseDescription",{defaultMessage:"Some functionality will be lost if you replace your {currentLicenseType} license with a {newLicenseType} license. Review the list of features below.",values:{currentLicenseType:currentLicenseType.toUpperCase(),newLicenseType:newLicenseType.toUpperCase()}});dispatch(uploadLicenseStatus({acknowledge:true,messages:[first].concat(_toConsumableArray(messages))}));case 29:case"end":return _context.stop()}}}))};var uploadLicense=function uploadLicense(licenseString,currentLicenseType,acknowledge){return function _callee(dispatch,getState,services){var newLicenseType,response,message;return regeneratorRuntime.async((function _callee$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(uploadLicenseStatus({applying:true}));newLicenseType=null;_context2.prev=2;newLicenseType=JSON.parse(licenseString).license.type;_context2.next=10;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](2);dispatch(uploadLicenseStatus({}));return _context2.abrupt("return",dispatch((0,_add_error_message.addUploadErrorMessage)(_i18n.i18n.translate("xpack.licenseMgmt.uploadLicense.checkLicenseFileErrorMessage",{defaultMessage:"{genericUploadError} Check your license file.",values:{genericUploadError:genericUploadError}}))));case 10:_context2.prev=10;_context2.next=13;return regeneratorRuntime.awrap((0,_es.putLicense)(services.http,licenseString,acknowledge));case 13:response=_context2.sent;_context2.next=16;return regeneratorRuntime.awrap(dispatchFromResponse(response,dispatch,currentLicenseType,newLicenseType,services));case 16:_context2.next=23;break;case 18:_context2.prev=18;_context2.t1=_context2["catch"](10);message=_context2.t1.responseJSON&&_context2.t1.responseJSON.error.reason?_context2.t1.responseJSON.error.reason:_i18n.i18n.translate("xpack.licenseMgmt.uploadLicense.unknownErrorErrorMessage",{defaultMessage:"Unknown error."});dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)("".concat(genericUploadError," ").concat(message)));case 23:case"end":return _context2.stop()}}}),null,null,[[2,6],[10,18]])}};exports.uploadLicense=uploadLicense},7703:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startBasicLicense=exports.cancelStartBasicLicense=exports.startBasicLicenseStatus=void 0;var _i18n=__webpack_require__(2);var _reduxActions=__webpack_require__(44);var _es=__webpack_require__(7223);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var startBasicLicenseStatus=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_START_BASIC_LICENSE_STATUS");exports.startBasicLicenseStatus=startBasicLicenseStatus;var cancelStartBasicLicense=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_CANCEL_START_BASIC_LICENSE");exports.cancelStartBasicLicense=cancelStartBasicLicense;var startBasicLicense=function startBasicLicense(currentLicenseType,ack){return function _callee(dispatch,getState,_ref){var refreshXpack,toasts,http,_ref2,acknowledged,basic_was_started,error_message,acknowledge,messages,first;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:refreshXpack=_ref.legacy.refreshXpack,toasts=_ref.toasts,http=_ref.http;_context.next=3;return regeneratorRuntime.awrap((0,_es.startBasic)(http,ack));case 3:_ref2=_context.sent;acknowledged=_ref2.acknowledged;basic_was_started=_ref2.basic_was_started;error_message=_ref2.error_message;acknowledge=_ref2.acknowledge;if(!acknowledged){_context.next=18;break}if(!basic_was_started){_context.next=15;break}_context.next=12;return regeneratorRuntime.awrap(refreshXpack());case 12:window.location.reload();_context.next=16;break;case 15:return _context.abrupt("return",toasts.addDanger(error_message));case 16:_context.next=21;break;case 18:messages=Object.values(acknowledge).slice(1).map((function(item){return item[0]}));first=_i18n.i18n.translate("xpack.licenseMgmt.replacingCurrentLicenseWithBasicLicenseWarningMessage",{defaultMessage:"Some functionality will be lost if you replace your {currentLicenseType} license with a BASIC license. Review the list of features below.",values:{currentLicenseType:currentLicenseType.toUpperCase()}});dispatch(startBasicLicenseStatus({acknowledge:true,messages:[first].concat(_toConsumableArray(messages))}));case 21:case"end":return _context.stop()}}}))}};exports.startBasicLicense=startBasicLicense},7704:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startLicenseTrial=exports.loadTrialStatus=exports.trialStatusLoaded=void 0;var _reduxActions=__webpack_require__(44);var _es=__webpack_require__(7223);var trialStatusLoaded=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_TRIAL_STATUS_LOADED");exports.trialStatusLoaded=trialStatusLoaded;var loadTrialStatus=function loadTrialStatus(){return function _callee(dispatch,getState,_ref){var http,trialOK;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:http=_ref.http;_context.next=3;return regeneratorRuntime.awrap((0,_es.canStartTrial)(http));case 3:trialOK=_context.sent;dispatch(trialStatusLoaded(trialOK));case 5:case"end":return _context.stop()}}}))}};exports.loadTrialStatus=loadTrialStatus;var startLicenseTrial=function startLicenseTrial(){return function _callee2(dispatch,getState,_ref2){var refreshXpack,toasts,http,_ref3,trial_was_started,error_message;return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:refreshXpack=_ref2.legacy.refreshXpack,toasts=_ref2.toasts,http=_ref2.http;_context2.next=3;return regeneratorRuntime.awrap((0,_es.startTrial)(http));case 3:_ref3=_context2.sent;trial_was_started=_ref3.trial_was_started;error_message=_ref3.error_message;if(!trial_was_started){_context2.next=12;break}_context2.next=9;return regeneratorRuntime.awrap(refreshXpack());case 9:window.location.reload();_context2.next=13;break;case 12:return _context2.abrupt("return",toasts.addDanger(error_message));case 13:case"end":return _context2.stop()}}}))}};exports.startLicenseTrial=startLicenseTrial},7705:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadPermissions=exports.permissionsError=exports.permissionsSuccess=exports.permissionsLoading=void 0;var _reduxActions=__webpack_require__(44);var _es=__webpack_require__(7223);var permissionsLoading=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_PERMISSIONS_LOADING");exports.permissionsLoading=permissionsLoading;var permissionsSuccess=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_PERMISSIONS_SUCCESS");exports.permissionsSuccess=permissionsSuccess;var permissionsError=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_PERMISSIONS_ERROR");exports.permissionsError=permissionsError;var loadPermissions=function loadPermissions(){return function _callee(dispatch,getState,_ref){var http,permissions;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:http=_ref.http;dispatch(permissionsLoading(true));_context.prev=2;_context.next=5;return regeneratorRuntime.awrap((0,_es.getPermissions)(http));case 5:permissions=_context.sent;dispatch(permissionsLoading(false));dispatch(permissionsSuccess(permissions.hasPermission));_context.next=14;break;case 10:_context.prev=10;_context.t0=_context["catch"](2);dispatch(permissionsLoading(false));dispatch(permissionsError(_context.t0));case 14:case"end":return _context.stop()}}}),null,null,[[2,10]])}};exports.loadPermissions=loadPermissions},7706:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TelemetryOptIn",{enumerable:true,get:function get(){return _telemetry_opt_in.TelemetryOptIn}});var _telemetry_opt_in=__webpack_require__(9085)},7707:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getDocLinks=exports.setDocLinks=void 0;var docLinks={};var setDocLinks=function setDocLinks(links){docLinks=links};exports.setDocLinks=setDocLinks;var getDocLinks=function getDocLinks(){return docLinks};exports.getDocLinks=getDocLinks},7708:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setBreadcrumb=void 0;var _breadcrumbs=__webpack_require__(9090);var setBreadcrumb=function setBreadcrumb(section){return function(dispatch,getState,_ref){var chrome=_ref.chrome,MANAGEMENT_BREADCRUMB=_ref.MANAGEMENT_BREADCRUMB;if(section==="upload"){chrome.setBreadcrumbs((0,_breadcrumbs.getUploadBreadcrumbs)(MANAGEMENT_BREADCRUMB))}else{chrome.setBreadcrumbs((0,_breadcrumbs.getDashboardBreadcrumbs)(MANAGEMENT_BREADCRUMB))}}};exports.setBreadcrumb=setBreadcrumb},9064:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.boot=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactRedux=__webpack_require__(12);var _reactRouterDom=__webpack_require__(23);var _reactDom=__webpack_require__(9);var history=_interopRequireWildcard(__webpack_require__(276));var _app=__webpack_require__(9065);var _store=__webpack_require__(9094);var _docs_links=__webpack_require__(7707);var _constants=__webpack_require__(398);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var boot=function boot(deps){var I18nContext=deps.I18nContext,element=deps.element,legacy=deps.legacy,toasts=deps.toasts,docLinks=deps.docLinks,http=deps.http,chrome=deps.chrome;var ELASTIC_WEBSITE_URL=docLinks.ELASTIC_WEBSITE_URL,DOC_LINK_VERSION=docLinks.DOC_LINK_VERSION;var esBase="".concat(ELASTIC_WEBSITE_URL,"guide/en/elasticsearch/reference/").concat(DOC_LINK_VERSION);var securityDocumentationLink="".concat(esBase,"/security-settings.html");var initialState={license:legacy.xpackInfo.get("license")};(0,_docs_links.setDocLinks)({securityDocumentationLink:securityDocumentationLink});var services={legacy:{refreshXpack:legacy.refreshXpack,xPackInfo:legacy.xpackInfo},history:history.createHashHistory({basename:_constants.BASE_PATH}),toasts:toasts,http:http,chrome:chrome,MANAGEMENT_BREADCRUMB:legacy.MANAGEMENT_BREADCRUMB};var store=(0,_store.licenseManagementStore)(initialState,services);(0,_reactDom.render)(_react.default.createElement(I18nContext,null,_react.default.createElement(_reactRedux.Provider,{store:store},_react.default.createElement(_reactRouterDom.HashRouter,{basename:_constants.BASE_PATH},_react.default.createElement(_app.App,null)))),element);return function(){return(0,_reactDom.unmountComponentAtNode)(element)}};exports.boot=boot},9065:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=void 0;var _reactRedux=__webpack_require__(12);var _reactRouterDom=__webpack_require__(23);var _app=__webpack_require__(9066);var _license_management=__webpack_require__(7115);var _permissions=__webpack_require__(7705);var mapStateToProps=function mapStateToProps(state){return{hasPermission:(0,_license_management.getPermission)(state),permissionsLoading:(0,_license_management.isPermissionsLoading)(state),permissionsError:(0,_license_management.getPermissionsError)(state)}};var mapDispatchToProps={loadPermissions:_permissions.loadPermissions};var App=(0,_reactRouterDom.withRouter)((0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_app.App));exports.App=App},9066:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(4);var _sections=__webpack_require__(9067);var _reactRouterDom=__webpack_require__(23);var _constants=__webpack_require__(398);var _eui=__webpack_require__(1);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var App=function(_Component){_inherits(App,_Component);function App(){_classCallCheck(this,App);return _possibleConstructorReturn(this,_getPrototypeOf(App).apply(this,arguments))}_createClass(App,[{key:"componentDidMount",value:function componentDidMount(){var loadPermissions=this.props.loadPermissions;loadPermissions()}},{key:"render",value:function render(){var _this$props=this.props,hasPermission=_this$props.hasPermission,permissionsLoading=_this$props.permissionsLoading,permissionsError=_this$props.permissionsError;if(permissionsLoading){return _react.default.createElement(_eui.EuiEmptyPrompt,{title:_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"}),body:_react.default.createElement(_eui.EuiText,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.app.loadingPermissionsDescription",defaultMessage:"Checking permissionsâ€¦"})),"data-test-subj":"sectionLoading"})}if(permissionsError){return _react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.app.checkingPermissionsErrorMessage",defaultMessage:"Error checking permissions"}),color:"danger",iconType:"alert"},permissionsError.data&&permissionsError.data.message?_react.default.createElement("div",null,permissionsError.data.message):null)}if(!hasPermission){return _react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"securityApp",title:_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.app.deniedPermissionTitle",defaultMessage:"You're missing cluster privileges"})),body:_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.app.deniedPermissionDescription",defaultMessage:"To use License Management, you must have {permissionType} privileges.",values:{permissionType:_react.default.createElement("strong",null,_constants.APP_PERMISSION)}}))}))}return _react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:"/upload_license",component:_sections.UploadLicense}),_react.default.createElement(_reactRouterDom.Route,{component:_sections.LicenseDashboard})))}}]);return App}(_react.Component);exports.App=App},9067:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"LicenseDashboard",{enumerable:true,get:function get(){return _license_dashboard.LicenseDashboard}});Object.defineProperty(exports,"UploadLicense",{enumerable:true,get:function get(){return _upload_license.UploadLicense}});var _license_dashboard=__webpack_require__(9068);var _upload_license=__webpack_require__(9091)},9068:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"LicenseDashboard",{enumerable:true,get:function get(){return _license_dashboard.LicenseDashboard}});var _license_dashboard=__webpack_require__(9069)},9069:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseDashboard=void 0;var _reactRedux=__webpack_require__(12);var _license_dashboard=__webpack_require__(9070);var _set_breadcrumb=__webpack_require__(7708);var mapDispatchToProps={setBreadcrumb:_set_breadcrumb.setBreadcrumb};var LicenseDashboard=(0,_reactRedux.connect)(null,mapDispatchToProps)(_license_dashboard.LicenseDashboard);exports.LicenseDashboard=LicenseDashboard},9070:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseDashboard=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _license_status=__webpack_require__(9071);var _revert_to_basic=__webpack_require__(9079);var _start_trial=__webpack_require__(9082);var _add_license=__webpack_require__(9086);var _request_trial_extension=__webpack_require__(9087);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LicenseDashboard=function LicenseDashboard(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{setBreadcrumb:function setBreadcrumb(){}},setBreadcrumb=_ref.setBreadcrumb;setBreadcrumb("dashboard");return _react.default.createElement("div",null,_react.default.createElement(_license_status.LicenseStatus,null),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_add_license.AddLicense,null)),_react.default.createElement(_start_trial.StartTrial,null),_react.default.createElement(_request_trial_extension.RequestTrialExtension,null),_react.default.createElement(_revert_to_basic.RevertToBasic,null)))};exports.LicenseDashboard=LicenseDashboard},9071:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"LicenseStatus",{enumerable:true,get:function get(){return _license_status.LicenseStatus}});var _license_status=__webpack_require__(9072)},9072:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseStatus=void 0;var _license_status=__webpack_require__(1939);var _reactRedux=__webpack_require__(12);var _license_management=__webpack_require__(7115);var _i18n=__webpack_require__(2);var mapStateToProps=function mapStateToProps(state){var _getLicense=(0,_license_management.getLicense)(state),isActive=_getLicense.isActive,type=_getLicense.type;return{status:isActive?_i18n.i18n.translate("xpack.licenseMgmt.licenseDashboard.licenseStatus.activeLicenseStatusText",{defaultMessage:"Active"}):_i18n.i18n.translate("xpack.licenseMgmt.licenseDashboard.licenseStatus.inactiveLicenseStatusText",{defaultMessage:"Inactive"}),type:type,isExpired:(0,_license_management.isExpired)(state),expiryDate:(0,_license_management.getExpirationDateFormatted)(state)}};var LicenseStatus=(0,_reactRedux.connect)(mapStateToProps)(_license_status.LicenseStatus);exports.LicenseStatus=LicenseStatus},9073:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.license=void 0;var _reduxActions=__webpack_require__(44);var _add_license=__webpack_require__(7701);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var license=(0,_reduxActions.handleActions)(_defineProperty({},_add_license.addLicense,(function(state,_ref){var payload=_ref.payload;return payload})),{});exports.license=license},9074:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uploadStatus=void 0;var _reduxActions=__webpack_require__(44);var _upload_license=__webpack_require__(7702);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var uploadStatus=(0,_reduxActions.handleActions)(_defineProperty({},_upload_license.uploadLicenseStatus,(function(state,_ref){var payload=_ref.payload;return payload})),{});exports.uploadStatus=uploadStatus},9075:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startBasicStatus=void 0;var _reduxActions=__webpack_require__(44);var _start_basic=__webpack_require__(7703);var _handleActions;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var startBasicStatus=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_start_basic.startBasicLicenseStatus,(function(state,_ref){var payload=_ref.payload;return payload})),_defineProperty(_handleActions,_start_basic.cancelStartBasicLicense,(function(){return{}})),_handleActions),{});exports.startBasicStatus=startBasicStatus},9076:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uploadErrorMessage=void 0;var _reduxActions=__webpack_require__(44);var _add_error_message=__webpack_require__(7364);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var uploadErrorMessage=(0,_reduxActions.handleActions)(_defineProperty({},_add_error_message.addUploadErrorMessage,(function(state,_ref){var payload=_ref.payload;return payload})),"");exports.uploadErrorMessage=uploadErrorMessage},9077:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.trialStatus=void 0;var _reduxActions=__webpack_require__(44);var _start_trial=__webpack_require__(7704);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var trialStatus=(0,_reduxActions.handleActions)(_defineProperty({},_start_trial.trialStatusLoaded,(function(state,_ref){var payload=_ref.payload;return{canStartTrial:payload}})),{});exports.trialStatus=trialStatus},9078:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.permissions=void 0;var _reduxActions=__webpack_require__(44);var _permissions=__webpack_require__(7705);var _handleActions;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var permissions=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_permissions.permissionsLoading,(function(state,_ref){var payload=_ref.payload;return{loading:payload}})),_defineProperty(_handleActions,_permissions.permissionsSuccess,(function(state,_ref2){var payload=_ref2.payload;return{hasPermission:payload}})),_defineProperty(_handleActions,_permissions.permissionsError,(function(state,_ref3){var payload=_ref3.payload;return{error:payload}})),_handleActions),{});exports.permissions=permissions},9079:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"RevertToBasic",{enumerable:true,get:function get(){return _revert_to_basic.RevertToBasic}});var _revert_to_basic=__webpack_require__(9080)},9080:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RevertToBasic=void 0;var _reactRedux=__webpack_require__(12);var _revert_to_basic=__webpack_require__(9081);var _license_management=__webpack_require__(7115);var _start_basic=__webpack_require__(7703);var mapStateToProps=function mapStateToProps(state){return{shouldShowRevertToBasicLicense:(0,_license_management.shouldShowRevertToBasicLicense)(state),licenseType:(0,_license_management.getLicenseType)(state),needsAcknowledgement:(0,_license_management.startBasicLicenseNeedsAcknowledgement)(state),messages:(0,_license_management.getStartBasicMessages)(state)}};var mapDispatchToProps={startBasicLicense:_start_basic.startBasicLicense,cancelStartBasicLicense:_start_basic.cancelStartBasicLicense};var RevertToBasic=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_revert_to_basic.RevertToBasic);exports.RevertToBasic=RevertToBasic},9081:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RevertToBasic=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);var _constants=__webpack_require__(398);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var RevertToBasic=function(_React$PureComponent){_inherits(RevertToBasic,_React$PureComponent);function RevertToBasic(){var _getPrototypeOf2;var _this;_classCallCheck(this,RevertToBasic);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(RevertToBasic)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"cancel",(function(){_this.props.uploadLicenseStatus({})}));return _this}_createClass(RevertToBasic,[{key:"acknowledgeModal",value:function acknowledgeModal(){var _this$props=this.props,needsAcknowledgement=_this$props.needsAcknowledgement,_this$props$messages=_this$props.messages;_this$props$messages=_this$props$messages===void 0?[]:_this$props$messages;var _this$props$messages2=_toArray(_this$props$messages),firstLine=_this$props$messages2[0],messages=_this$props$messages2.slice(1),startBasicLicense=_this$props.startBasicLicense,cancelStartBasicLicense=_this$props.cancelStartBasicLicense,licenseType=_this$props.licenseType;if(!needsAcknowledgement){return null}return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.confirmModalTitle",defaultMessage:"Confirm Revert to Basic License"}),onCancel:cancelStartBasicLicense,onConfirm:function onConfirm(){return startBasicLicense(licenseType,true)},cancelButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.confirmModal.confirmButtonLabel",defaultMessage:"Confirm"})},_react.default.createElement("div",null,_react.default.createElement(_eui.EuiText,null,firstLine),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("ul",null,messages.map((function(message){return _react.default.createElement("li",{key:message},message)})))))))}},{key:"render",value:function render(){var _this$props2=this.props,licenseType=_this$props2.licenseType,shouldShowRevertToBasicLicense=_this$props2.shouldShowRevertToBasicLicense,startBasicLicense=_this$props2.startBasicLicense;if(!shouldShowRevertToBasicLicense){return null}var description=_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.revertToFreeFeaturesDescription",defaultMessage:"Youâ€™ll revert to our free features and lose access to machine learning, advanced security, and other {platinumLicenseFeaturesLinkText}.",values:{platinumLicenseFeaturesLinkText:_react.default.createElement(_eui.EuiLink,{href:_constants.EXTERNAL_LINKS.SUBSCRIPTIONS,target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.platinumLicenseFeaturesLinkText",defaultMessage:"Platinum features"}))}}));return _react.default.createElement(_eui.EuiFlexItem,null,this.acknowledgeModal(),_react.default.createElement(_eui.EuiCard,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.acknowledgeModalTitle",defaultMessage:"Revert to Basic license"}),description:description,footer:_react.default.createElement(_eui.EuiButton,{"data-test-subj":"revertToBasicButton",onClick:function onClick(){return startBasicLicense(licenseType)}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.acknowledgeModal.revertToBasicButtonLabel",defaultMessage:"Revert to Basic"}))}))}}]);return RevertToBasic}(_react.default.PureComponent);exports.RevertToBasic=RevertToBasic},9082:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"StartTrial",{enumerable:true,get:function get(){return _start_trial.StartTrial}});var _start_trial=__webpack_require__(9083)},9083:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StartTrial=void 0;var _reactRedux=__webpack_require__(12);var _start_trial=__webpack_require__(9084);var _start_trial2=__webpack_require__(7704);var _license_management=__webpack_require__(7115);var mapStateToProps=function mapStateToProps(state){return{shouldShowStartTrial:(0,_license_management.shouldShowStartTrial)(state)}};var mapDispatchToProps={loadTrialStatus:_start_trial2.loadTrialStatus,startLicenseTrial:_start_trial2.startLicenseTrial};var StartTrial=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_start_trial.StartTrial);exports.StartTrial=StartTrial},9084:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StartTrial=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _telemetry_opt_in=__webpack_require__(7706);var _telemetry=__webpack_require__(1928);var _react2=__webpack_require__(4);var _constants=__webpack_require__(398);var _docs_links=__webpack_require__(7707);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var StartTrial=function(_React$PureComponent){_inherits(StartTrial,_React$PureComponent);function StartTrial(props){var _this;_classCallCheck(this,StartTrial);_this=_possibleConstructorReturn(this,_getPrototypeOf(StartTrial).call(this,props));_defineProperty(_assertThisInitialized(_this),"startLicenseTrial",(function(){var startLicenseTrial=_this.props.startLicenseTrial;if(_this.telemetryOptIn.isOptingInToTelemetry()){(0,_telemetry.optInToTelemetry)(true)}startLicenseTrial()}));_defineProperty(_assertThisInitialized(_this),"cancel",(function(){_this.setState({showConfirmation:false})}));_this.state={showConfirmation:false};return _this}_createClass(StartTrial,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){this.props.loadTrialStatus()}},{key:"acknowledgeModal",value:function acknowledgeModal(){var _this2=this;var showConfirmation=this.state.showConfirmation;if(!showConfirmation){return null}return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiModal,{className:"licManagement__modal",onClose:this.cancel},_react.default.createElement(_eui.EuiModalHeader,null,_react.default.createElement(_eui.EuiModalHeaderTitle,{"data-test-subj":"confirmModalTitleText"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalTitle",defaultMessage:"Start your free 30-day trial"}))),_react.default.createElement(_eui.EuiModalBody,null,_react.default.createElement(_eui.EuiText,{"data-test-subj":"confirmModalBodyText"},_react.default.createElement("div",null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription",defaultMessage:"This trial is for the full set of {platinumLicenseFeaturesLinkText} of the Elastic Stack. You'll get immediate access to:",values:{platinumLicenseFeaturesLinkText:_react.default.createElement(_eui.EuiLink,{href:_constants.EXTERNAL_LINKS.SUBSCRIPTIONS,target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.platinumLicenseFeaturesLinkText",defaultMessage:"Platinum features"}))}})),_react.default.createElement("ul",null,_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.mashingLearningFeatureTitle",defaultMessage:"Machine learning"})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.alertingFeatureTitle",defaultMessage:"Alerting"})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.graphCapabilitiesFeatureTitle",defaultMessage:"Graph capabilities"})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.dataBaseConnectivityFeatureTitle",defaultMessage:"{jdbcStandard} and {odbcStandard} connectivity for {sqlDataBase}",values:{jdbcStandard:"JDBC",odbcStandard:"ODBC",sqlDataBase:"SQL"}}))),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.securityFeaturesConfigurationDescription",defaultMessage:"Advanced security features, such as authentication ({authenticationTypeList}), field- and document-level security, and auditing, require configuration. See the {securityDocumentationLinkText} for instructions.",values:{authenticationTypeList:"AD/LDAP, SAML, PKI, SAML/SSO",securityDocumentationLinkText:_react.default.createElement(_eui.EuiLink,{href:(0,_docs_links.getDocLinks)().securityDocumentationLink,target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.securityDocumentationLinkText",defaultMessage:"documentation"}))}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.termsAndConditionsDescription",defaultMessage:"By starting this trial, you agree that it is subject to these {termsAndConditionsLinkText}.",values:{termsAndConditionsLinkText:_react.default.createElement(_eui.EuiLink,{href:_constants.EXTERNAL_LINKS.TRIAL_LICENSE,target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.termsAndConditionsLinkText",defaultMessage:"terms and conditions"}))}})))))),_react.default.createElement(_eui.EuiModalFooter,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_telemetry_opt_in.TelemetryOptIn,{isStartTrial:true,ref:function ref(_ref){_this2.telemetryOptIn=_ref}})),_react.default.createElement(_eui.EuiFlexItem,{grow:false,className:"licManagement__ieFlex"},_react.default.createElement(_eui.EuiFlexGroup,{responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false,className:"licManagement__ieFlex"},_react.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"confirmModalCancelButton",onClick:this.cancel,buttonRef:this.cancelRef},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false,className:"licManagement__ieFlex"},_react.default.createElement(_eui.EuiButton,{"data-test-subj":"confirmModalConfirmButton",onClick:this.startLicenseTrial,fill:true,buttonRef:this.confirmRef,color:"primary"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModal.startTrialButtonLabel",defaultMessage:"Start my trial"})))))))))}},{key:"render",value:function render(){var _this3=this;var shouldShowStartTrial=this.props.shouldShowStartTrial;if(!shouldShowStartTrial){return null}var description=_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.platinumFeaturesExperienceDescription",defaultMessage:"Experience what machine learning, advanced security, and all our other {platinumLicenseFeaturesLinkText} have to offer.",values:{platinumLicenseFeaturesLinkText:_react.default.createElement(_eui.EuiLink,{href:_constants.EXTERNAL_LINKS.SUBSCRIPTIONS,target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.platinumLicenseFeaturesLinkText",defaultMessage:"Platinum features"}))}}));var footer=_react.default.createElement(_eui.EuiButton,{"data-test-subj":"startTrialButton",onClick:function onClick(){return _this3.setState({showConfirmation:true})}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.startTrialButtonLabel",defaultMessage:"Start trial"}));return _react.default.createElement(_eui.EuiFlexItem,null,this.acknowledgeModal(),_react.default.createElement(_eui.EuiCard,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrialTitle",defaultMessage:"Start a 30-day trial"}),description:description,footer:footer}))}}]);return StartTrial}(_react.default.PureComponent);exports.StartTrial=StartTrial},9085:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TelemetryOptIn=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _telemetry=__webpack_require__(1928);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TelemetryOptIn=function(_React$Component){_inherits(TelemetryOptIn,_React$Component);function TelemetryOptIn(){var _this;_classCallCheck(this,TelemetryOptIn);_this=_possibleConstructorReturn(this,_getPrototypeOf(TelemetryOptIn).call(this));_defineProperty(_assertThisInitialized(_this),"isOptingInToTelemetry",(function(){return _this.state.isOptingInToTelemetry}));_defineProperty(_assertThisInitialized(_this),"closeReadMorePopover",(function(){_this.setState({showMoreTelemetryInfo:false})}));_defineProperty(_assertThisInitialized(_this),"onClickReadMore",(function(){var showMoreTelemetryInfo=_this.state.showMoreTelemetryInfo;_this.setState({showMoreTelemetryInfo:!showMoreTelemetryInfo})}));_defineProperty(_assertThisInitialized(_this),"onClickExample",(function(){_this.setState({showExample:true});_this.closeReadMorePopover()}));_defineProperty(_assertThisInitialized(_this),"onChangeOptIn",(function(event){var isOptingInToTelemetry=event.target.checked;_this.setState({isOptingInToTelemetry:isOptingInToTelemetry})}));_this.state={showMoreTelemetryInfo:false,isOptingInToTelemetry:false,showExample:false};return _this}_createClass(TelemetryOptIn,[{key:"render",value:function render(){var _this2=this;var _this$state=this.state,showMoreTelemetryInfo=_this$state.showMoreTelemetryInfo,isOptingInToTelemetry=_this$state.isOptingInToTelemetry,showExample=_this$state.showExample;var isStartTrial=this.props.isStartTrial;var example=null;if(showExample){example=_react.default.createElement(_telemetry.OptInExampleFlyout,{onClose:function onClose(){return _this2.setState({showExample:false})},fetchTelemetry:_telemetry.getTelemetryFetcher})}var toCurrentCustomers;if(!isStartTrial){toCurrentCustomers=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h4",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.customersHelpSupportDescription",defaultMessage:"Help Elastic support provide better service"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}var readMoreButton=_react.default.createElement(_eui.EuiLink,{onClick:this.onClickReadMore},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.readMoreLinkText",defaultMessage:"Read more"}));var popover=_react.default.createElement(_eui.EuiPopover,{ownFocus:true,id:"readMorePopover",button:readMoreButton,isOpen:showMoreTelemetryInfo,closePopover:this.closeReadMorePopover,className:"eui-AlignBaseline"},_react.default.createElement(_eui.EuiText,{className:"licManagement__narrowText"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.featureUsageWarningMessage",defaultMessage:"This feature periodically sends basic feature usage statistics. This information will not be shared outside of Elastic. See an {exampleLink} or read our {telemetryPrivacyStatementLink}. You can disable this feature any time.",values:{exampleLink:_react.default.createElement(_eui.EuiLink,{onClick:this.onClickExample},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.exampleLinkText",defaultMessage:"example"})),telemetryPrivacyStatementLink:_react.default.createElement(_eui.EuiLink,{href:_telemetry.PRIVACY_STATEMENT_URL,target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.telemetryPrivacyStatementLinkText",defaultMessage:"telemetry privacy statement"}))}}))));return(0,_telemetry.shouldShowTelemetryOptIn)()?_react.default.createElement(_react.Fragment,null,example,toCurrentCustomers,_react.default.createElement(_eui.EuiCheckbox,{label:_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.sendBasicFeatureStatisticsLabel",defaultMessage:"Send basic feature usage statistics to Elastic periodically. {popover}",values:{popover:popover}})),id:"isOptingInToTelemetry",checked:isOptingInToTelemetry,onChange:this.onChangeOptIn})):null}}]);return TelemetryOptIn}(_react.default.Component);exports.TelemetryOptIn=TelemetryOptIn},9086:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AddLicense",{enumerable:true,get:function get(){return _add_license.AddLicense}});var _add_license=__webpack_require__(1940)},9087:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"RequestTrialExtension",{enumerable:true,get:function get(){return _request_trial_extension.RequestTrialExtension}});var _request_trial_extension=__webpack_require__(9088)},9088:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RequestTrialExtension=void 0;var _reactRedux=__webpack_require__(12);var _request_trial_extension=__webpack_require__(9089);var _license_management=__webpack_require__(7115);var mapStateToProps=function mapStateToProps(state){return{shouldShowRequestTrialExtension:(0,_license_management.shouldShowRequestTrialExtension)(state)}};var RequestTrialExtension=(0,_reactRedux.connect)(mapStateToProps)(_request_trial_extension.RequestTrialExtension);exports.RequestTrialExtension=RequestTrialExtension},9089:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RequestTrialExtension=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(4);var _constants=__webpack_require__(398);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RequestTrialExtension=function RequestTrialExtension(_ref){var shouldShowRequestTrialExtension=_ref.shouldShowRequestTrialExtension;if(!shouldShowRequestTrialExtension){return null}var description=_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.howToContinueUsingPluginsDescription",defaultMessage:"If youâ€™d like to continue using machine learning, advanced security, and our other awesome {platinumLicenseFeaturesLinkText}, request an extension now.",values:{platinumLicenseFeaturesLinkText:_react.default.createElement(_eui.EuiLink,{href:_constants.EXTERNAL_LINKS.SUBSCRIPTIONS,target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.platinumLicenseFeaturesLinkText",defaultMessage:"Platinum features"}))}}));return _react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiCard,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.extendYourTrialTitle",defaultMessage:"Extend your trial"}),description:description,footer:_react.default.createElement(_eui.EuiButton,{"data-test-subj":"extendTrialButton",target:"_blank",href:_constants.EXTERNAL_LINKS.TRIAL_EXTENSION},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.extendTrialButtonLabel",defaultMessage:"Extend trial"}))}))};exports.RequestTrialExtension=RequestTrialExtension},9090:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getDashboardBreadcrumbs=getDashboardBreadcrumbs;exports.getUploadBreadcrumbs=getUploadBreadcrumbs;var _i18n=__webpack_require__(2);var _constants=__webpack_require__(398);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function getDashboardBreadcrumbs(root){return[root,{text:_i18n.i18n.translate("xpack.licenseMgmt.dashboard.breadcrumb",{defaultMessage:"License management"}),href:"#".concat(_constants.BASE_PATH,"home")}]}function getUploadBreadcrumbs(root){return[].concat(_toConsumableArray(getDashboardBreadcrumbs(root)),[{text:_i18n.i18n.translate("xpack.licenseMgmt.upload.breadcrumb",{defaultMessage:"Upload"})}])}},9091:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"UploadLicense",{enumerable:true,get:function get(){return _upload_license.UploadLicense}});var _upload_license=__webpack_require__(9092)},9092:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UploadLicense=void 0;var _reactRedux=__webpack_require__(12);var _set_breadcrumb=__webpack_require__(7708);var _upload_license=__webpack_require__(7702);var _add_error_message=__webpack_require__(7364);var _license_management=__webpack_require__(7115);var _upload_license2=__webpack_require__(9093);var mapStateToProps=function mapStateToProps(state){return{isInvalid:(0,_license_management.isInvalid)(state),needsAcknowledgement:(0,_license_management.uploadNeedsAcknowledgement)(state),messages:(0,_license_management.uploadMessages)(state),errorMessage:(0,_license_management.getUploadErrorMessage)(state),applying:(0,_license_management.isApplying)(state),currentLicenseType:(0,_license_management.getLicenseType)(state)||""}};var mapDispatchToProps={addUploadErrorMessage:_add_error_message.addUploadErrorMessage,uploadLicense:_upload_license.uploadLicense,uploadLicenseStatus:_upload_license.uploadLicenseStatus,setBreadcrumb:_set_breadcrumb.setBreadcrumb};var UploadLicense=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_upload_license2.UploadLicense);exports.UploadLicense=UploadLicense},9093:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UploadLicense=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _constants=__webpack_require__(398);var _eui=__webpack_require__(1);var _telemetry_opt_in=__webpack_require__(7706);var _telemetry=__webpack_require__(1928);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_nonIterableRest()}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var UploadLicense=function(_React$PureComponent){_inherits(UploadLicense,_React$PureComponent);function UploadLicense(){var _getPrototypeOf2;var _this;_classCallCheck(this,UploadLicense);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UploadLicense)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"send",(function(acknowledge){var file=_this.file;var fr=new FileReader;fr.onload=function(_ref){var result=_ref.target.result;if(_this.telemetryOptIn.isOptingInToTelemetry()){(0,_telemetry.optInToTelemetry)(true)}_this.props.uploadLicense(result,_this.props.currentLicenseType,acknowledge)};fr.readAsText(file)}));_defineProperty(_assertThisInitialized(_this),"cancel",(function(){_this.props.uploadLicenseStatus({})}));_defineProperty(_assertThisInitialized(_this),"handleFile",(function(_ref2){var _ref3=_slicedToArray(_ref2,1),file=_ref3[0];if(file){_this.props.addUploadErrorMessage("")}_this.file=file}));_defineProperty(_assertThisInitialized(_this),"submit",(function(event){event.preventDefault();if(_this.file){_this.send()}else{_this.props.addUploadErrorMessage(_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.licenseFileNotSelectedErrorMessage",defaultMessage:"You must select a license file."}))}}));return _this}_createClass(UploadLicense,[{key:"componentDidMount",value:function componentDidMount(){this.props.setBreadcrumb("upload");this.props.addUploadErrorMessage("")}},{key:"acknowledgeModal",value:function acknowledgeModal(){var _this2=this;var _this$props=this.props,needsAcknowledgement=_this$props.needsAcknowledgement,_this$props$messages=_this$props.messages;_this$props$messages=_this$props$messages===void 0?[]:_this$props$messages;var _this$props$messages2=_toArray(_this$props$messages),firstLine=_this$props$messages2[0],messages=_this$props$messages2.slice(1);if(!needsAcknowledgement){return null}return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.confirmModalTitle",defaultMessage:"Confirm License Upload"}),onCancel:this.cancel,onConfirm:function onConfirm(){return _this2.send(true)},cancelButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.confirmModal.confirmButtonLabel",defaultMessage:"Confirm"})},_react.default.createElement("div",null,_react.default.createElement(_eui.EuiText,null,firstLine),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("ul",null,messages.map((function(message){return _react.default.createElement("li",{key:message},message)})))))))}},{key:"errorMessage",value:function errorMessage(){var errorMessage=this.props.errorMessage;if(!errorMessage){return null}return[errorMessage]}},{key:"render",value:function render(){var _this3=this;var _this$props2=this.props,currentLicenseType=_this$props2.currentLicenseType,applying=_this$props2.applying;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center",verticalPosition:"center"},_react.default.createElement(_eui.EuiPageContentBody,null,_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.uploadLicenseTitle",defaultMessage:"Upload your license"}))),_react.default.createElement(_eui.EuiSpacer,null),this.acknowledgeModal(),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.licenseKeyTypeDescription",defaultMessage:"Your license key is a JSON file with a signature attached."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.replacingCurrentLicenseWarningMessage",defaultMessage:"Uploading a license will replace your current {currentLicenseType} license.",values:{currentLicenseType:_react.default.createElement("strong",null,currentLicenseType.toUpperCase())}}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiForm,{isInvalid:!!this.errorMessage(),error:this.errorMessage()},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,null,_react.default.createElement(_eui.EuiFilePicker,{id:"licenseFile",initialPromptText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.selectLicenseFileDescription",defaultMessage:"Select or drag your license file"}),onChange:this.handleFile})))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_telemetry_opt_in.TelemetryOptIn,{ref:function ref(_ref4){_this3.telemetryOptIn=_ref4}}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{href:"#".concat(_constants.BASE_PATH,"home")},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.cancelButtonLabel",defaultMessage:"Cancel"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{"data-test-subj":"uploadLicenseButton",fill:true,isLoading:applying,onClick:this.submit},applying?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.uploadingButtonLabel",defaultMessage:"Uploadingâ€¦"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.uploadButtonLabel",defaultMessage:"Upload"}))))))))}}]);return UploadLicense}(_react.default.PureComponent);exports.UploadLicense=UploadLicense},9094:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"licenseManagementStore",{enumerable:true,get:function get(){return _store.licenseManagementStore}});var _store=__webpack_require__(9095)},9095:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.licenseManagementStore=void 0;var _redux=__webpack_require__(93);var _reduxThunk=_interopRequireDefault(__webpack_require__(350));var _reducers=__webpack_require__(9096);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var licenseManagementStore=function licenseManagementStore(){var initialState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var services=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var enhancers=[(0,_redux.applyMiddleware)(_reduxThunk.default.withExtraArgument(services))];window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());return(0,_redux.createStore)(_reducers.licenseManagement,initialState,_redux.compose.apply(void 0,enhancers))};exports.licenseManagementStore=licenseManagementStore},9096:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"licenseManagement",{enumerable:true,get:function get(){return _license_management.licenseManagement}});var _license_management=__webpack_require__(7115)}}]);