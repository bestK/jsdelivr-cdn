/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[60],{7005:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.renderApp=void 0;var _angular=_interopRequireDefault(__webpack_require__(40));var _eui=__webpack_require__(1);var _angular2=__webpack_require__(78);var _legacy_imports=__webpack_require__(994);var _legacy_app=__webpack_require__(7884);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var angularModuleInstance=null;var renderApp=function renderApp(element,appBasePath,deps){var $injector;return regeneratorRuntime.async((function renderApp$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!angularModuleInstance){angularModuleInstance=createLocalAngularModule(deps.core,deps.navigation);(0,_legacy_imports.configureAppAngularModule)(angularModuleInstance,deps.core,true);(0,_legacy_app.initVisualizeApp)(angularModuleInstance,deps)}$injector=mountVisualizeApp(appBasePath,element);return _context.abrupt("return",(function(){return $injector.get("$rootScope").$destroy()}));case 3:case"end":return _context.stop()}}}))};exports.renderApp=renderApp;var mainTemplate=function mainTemplate(basePath){return'<div ng-view class="kbnLocalApplicationWrapper">\n  <base href="'.concat(basePath,'" />\n</div>\n')};var moduleName="app/visualize";var thirdPartyAngularDependencies=["ngSanitize","ngRoute","react"];function mountVisualizeApp(appBasePath,element){var mountpoint=document.createElement("div");mountpoint.setAttribute("class","kbnLocalApplicationWrapper");mountpoint.innerHTML=mainTemplate(appBasePath);var $injector=_angular.default.bootstrap(mountpoint,[moduleName]);element.appendChild(mountpoint);return $injector}function createLocalAngularModule(core,navigation){createLocalI18nModule();createLocalPrivateModule();createLocalPromiseModule();createLocalConfigModule(core);createLocalKbnUrlModule();createLocalStateModule();createLocalPersistedStateModule();createLocalTopNavModule(navigation);createLocalConfirmModalModule();var visualizeAngularModule=_angular.default.module(moduleName,[].concat(thirdPartyAngularDependencies,["app/visualize/Config","app/visualize/I18n","app/visualize/Private","app/visualize/PersistedState","app/visualize/TopNav","app/visualize/State","app/visualize/ConfirmModal"]));return visualizeAngularModule}function createLocalConfirmModalModule(){_angular.default.module("app/visualize/ConfirmModal",["react"]).factory("confirmModal",_legacy_imports.confirmModalFactory).directive("confirmModal",(function(reactDirective){return reactDirective(_eui.EuiConfirmModal)}))}function createLocalStateModule(){_angular.default.module("app/visualize/State",["app/visualize/Private","app/visualize/Config","app/visualize/KbnUrl","app/visualize/Promise","app/visualize/PersistedState"]).factory("AppState",(function(Private){return Private(_legacy_imports.AppStateProvider)})).service("getAppState",(function(Private){return Private(_legacy_imports.AppStateProvider).getAppState})).service("globalState",(function(Private){return Private(_legacy_imports.GlobalStateProvider)}))}function createLocalPersistedStateModule(){_angular.default.module("app/visualize/PersistedState",["app/visualize/Private","app/visualize/Promise"]).factory("PersistedState",(function(Private){var Events=Private(_legacy_imports.EventsProvider);return(function(_PersistedState){_inherits(AngularPersistedState,_PersistedState);function AngularPersistedState(value,path){_classCallCheck(this,AngularPersistedState);return _possibleConstructorReturn(this,_getPrototypeOf(AngularPersistedState).call(this,value,path,Events))}return AngularPersistedState}(_legacy_imports.PersistedState))}))}function createLocalKbnUrlModule(){_angular.default.module("app/visualize/KbnUrl",["app/visualize/Private","ngRoute"]).service("kbnUrl",(function(Private){return Private(_legacy_imports.KbnUrlProvider)})).service("redirectWhenMissing",(function(Private){return Private(_legacy_imports.RedirectWhenMissingProvider)}))}function createLocalConfigModule(core){_angular.default.module("app/visualize/Config",["app/visualize/Private"]).provider("stateManagementConfig",_legacy_imports.StateManagementConfigProvider).provider("config",(function(){return{$get:function $get(){return{get:core.uiSettings.get.bind(core.uiSettings)}}}}))}function createLocalPromiseModule(){_angular.default.module("app/visualize/Promise",[]).service("Promise",_legacy_imports.PromiseServiceCreator)}function createLocalPrivateModule(){_angular.default.module("app/visualize/Private",[]).provider("Private",_legacy_imports.PrivateProvider)}function createLocalTopNavModule(navigation){_angular.default.module("app/visualize/TopNav",["react"]).directive("kbnTopNav",_legacy_imports.createTopNavDirective).directive("kbnTopNavHelper",(0,_legacy_imports.createTopNavHelper)(navigation.ui))}function createLocalI18nModule(){_angular.default.module("app/visualize/I18n",[]).provider("i18n",_angular2.I18nProvider).filter("i18n",_angular2.i18nFilter).directive("i18nId",_angular2.i18nDirective)}},7416:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLandingBreadcrumbs=getLandingBreadcrumbs;exports.getWizardStep1Breadcrumbs=getWizardStep1Breadcrumbs;exports.getWizardStep2Breadcrumbs=getWizardStep2Breadcrumbs;exports.getCreateBreadcrumbs=getCreateBreadcrumbs;exports.getEditBreadcrumbs=getEditBreadcrumbs;var _i18n=__webpack_require__(2);var _visualize_constants=__webpack_require__(677);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function getLandingBreadcrumbs(){return[{text:_i18n.i18n.translate("kbn.visualize.listing.breadcrumb",{defaultMessage:"Visualize"}),href:"#".concat(_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH)}]}function getWizardStep1Breadcrumbs(){return[].concat(_toConsumableArray(getLandingBreadcrumbs()),[{text:_i18n.i18n.translate("kbn.visualize.wizard.step1Breadcrumb",{defaultMessage:"Create"})}])}function getWizardStep2Breadcrumbs(){return[].concat(_toConsumableArray(getLandingBreadcrumbs()),[{text:_i18n.i18n.translate("kbn.visualize.wizard.step2Breadcrumb",{defaultMessage:"Create"})}])}function getCreateBreadcrumbs(){return[].concat(_toConsumableArray(getLandingBreadcrumbs()),[{text:_i18n.i18n.translate("kbn.visualize.editor.createBreadcrumb",{defaultMessage:"Create"})}])}function getEditBreadcrumbs($route){return[].concat(_toConsumableArray(getLandingBreadcrumbs()),[{text:$route.current.locals.savedVis.title}])}},7417:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addHelpMenuToAppChrome=addHelpMenuToAppChrome;var _i18n=__webpack_require__(2);function addHelpMenuToAppChrome(chrome,docLinks){chrome.setHelpExtension({appName:_i18n.i18n.translate("kbn.visualize.helpMenu.appName",{defaultMessage:"Visualize"}),links:[{linkType:"documentation",href:"".concat(docLinks.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(docLinks.DOC_LINK_VERSION,"/visualize.html")}]})}},7418:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initListingDirective=initListingDirective;exports.VisualizeListingController=VisualizeListingController;var _help_menu_util=__webpack_require__(7417);var _visualize_listing_table=__webpack_require__(7893);var _new_vis_modal=__webpack_require__(1075);var _visualize_constants=__webpack_require__(677);var _i18n=__webpack_require__(2);var _kibana_services=__webpack_require__(1927);var _legacy_imports=__webpack_require__(994);function initListingDirective(app){app.directive("visualizeListingTable",(function(reactDirective){return reactDirective((0,_legacy_imports.wrapInI18nContext)(_visualize_listing_table.VisualizeListingTable))}));app.directive("newVisModal",(function(reactDirective){return reactDirective((0,_legacy_imports.wrapInI18nContext)(_new_vis_modal.NewVisModal),[["visTypesRegistry",{watchDepth:"collection"}],["onClose",{watchDepth:"reference"}],["addBasePath",{watchDepth:"reference"}],["uiSettings",{watchDepth:"reference"}],["savedObjects",{watchDepth:"reference"}],["usageCollection",{watchDepth:"reference"}],"isOpen"])}))}function VisualizeListingController($injector,createNewVis){var _this=this;var _getServices=(0,_kibana_services.getServices)(),addBasePath=_getServices.addBasePath,chrome=_getServices.chrome,legacyChrome=_getServices.legacyChrome,savedObjectsClient=_getServices.savedObjectsClient,savedVisualizations=_getServices.savedVisualizations,timefilter=_getServices.data.query.timefilter.timefilter,toastNotifications=_getServices.toastNotifications,uiSettings=_getServices.uiSettings,visualizations=_getServices.visualizations,_getServices$core=_getServices.core,docLinks=_getServices$core.docLinks,savedObjects=_getServices$core.savedObjects,usageCollection=_getServices.usageCollection;var kbnUrl=$injector.get("kbnUrl");timefilter.disableAutoRefreshSelector();timefilter.disableTimeRangeSelector();this.showNewVisModal=false;this.addBasePath=addBasePath;this.uiSettings=uiSettings;this.savedObjects=savedObjects;this.usageCollection=usageCollection;this.createNewVis=function(){_this.showNewVisModal=true};this.editItem=function(_ref){var editUrl=_ref.editUrl;window.location.href=addBasePath(editUrl)};this.getViewUrl=function(_ref2){var editUrl=_ref2.editUrl;return addBasePath(editUrl)};this.closeNewVisModal=function(){_this.showNewVisModal=false;if(createNewVis){kbnUrl.changePath(_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH)}};if(createNewVis){this.createNewVis()}this.visTypeRegistry=visualizations.types;this.fetchItems=function(filter){var isLabsEnabled=uiSettings.get("visualize:enableLabs");return savedVisualizations.findListItems(filter,uiSettings.get("savedObjects:listingLimit")).then((function(result){_this.totalItems=result.total;return{total:result.total,hits:result.hits.filter((function(result){return isLabsEnabled||result.type.stage!=="experimental"}))}}))};this.deleteSelectedItems=function deleteSelectedItems(selectedItems){return Promise.all(selectedItems.map((function(item){return savedObjectsClient.delete(item.savedObjectType,item.id)}))).then((function(){legacyChrome.untrackNavLinksForDeletedSavedObjects(selectedItems.map((function(item){return item.id})))})).catch((function(error){toastNotifications.addError(error,{title:_i18n.i18n.translate("kbn.visualize.visualizeListingDeleteErrorTitle",{defaultMessage:"Error deleting visualization"})})}))};chrome.setBreadcrumbs([{text:_i18n.i18n.translate("kbn.visualize.visualizeListingBreadcrumbsTitle",{defaultMessage:"Visualize"})}]);this.listingLimit=uiSettings.get("savedObjects:listingLimit");(0,_help_menu_util.addHelpMenuToAppChrome)(chrome,docLinks)}},7884:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initVisualizeApp=initVisualizeApp;var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(2);var _editor=_interopRequireDefault(__webpack_require__(7885));var _visualize_listing=_interopRequireDefault(__webpack_require__(7886));var _visualize_app=__webpack_require__(7887);var _visualize_constants=__webpack_require__(677);var _visualize_listing2=__webpack_require__(7418);var _legacy_imports=__webpack_require__(994);var _global_state_sync=__webpack_require__(7894);var _breadcrumbs=__webpack_require__(7416);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function initVisualizeApp(app,deps){(0,_visualize_app.initVisualizeAppDirective)(app,deps);app.run((function(globalState){(0,_global_state_sync.syncOnMount)(globalState,deps.data)}));app.run((function(globalState,$rootScope){(0,_legacy_imports.registerTimefilterWithGlobalStateFactory)(deps.data.query.timefilter.timefilter,globalState,$rootScope)}));app.config((function($routeProvider){var defaults={reloadOnSearch:false,requireUICapability:"visualize.show",badge:function badge(){if(deps.visualizeCapabilities.save){return undefined}return{text:_i18n.i18n.translate("kbn.visualize.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:_i18n.i18n.translate("kbn.visualize.badge.readOnly.tooltip",{defaultMessage:"Unable to save visualizations"}),iconType:"glasses"}}};$routeProvider.when(_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH,_objectSpread({},defaults,{template:_visualize_listing.default,k7Breadcrumbs:_breadcrumbs.getLandingBreadcrumbs,controller:_visualize_listing2.VisualizeListingController,controllerAs:"listingController",resolve:{createNewVis:function createNewVis(){return false},hasDefaultIndex:function hasDefaultIndex($rootScope,kbnUrl){return(0,_legacy_imports.ensureDefaultIndexPattern)(deps.core,deps.data,$rootScope,kbnUrl)}}})).when(_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH,_objectSpread({},defaults,{template:_visualize_listing.default,k7Breadcrumbs:_breadcrumbs.getWizardStep1Breadcrumbs,controller:_visualize_listing2.VisualizeListingController,controllerAs:"listingController",resolve:{createNewVis:function createNewVis(){return true},hasDefaultIndex:function hasDefaultIndex($rootScope,kbnUrl){return(0,_legacy_imports.ensureDefaultIndexPattern)(deps.core,deps.data,$rootScope,kbnUrl)}}})).when(_visualize_constants.VisualizeConstants.CREATE_PATH,_objectSpread({},defaults,{template:_editor.default,k7Breadcrumbs:_breadcrumbs.getCreateBreadcrumbs,resolve:{savedVis:function savedVis(redirectWhenMissing,$route,$rootScope,kbnUrl){var core=deps.core,data=deps.data,savedVisualizations=deps.savedVisualizations,visualizations=deps.visualizations;var visTypes=visualizations.types.all();var visType=(0,_lodash.find)(visTypes,{name:$route.current.params.type});var shouldHaveIndex=visType.requiresSearch&&visType.options.showIndexSelection;var hasIndex=$route.current.params.indexPattern||$route.current.params.savedSearchId;if(shouldHaveIndex&&!hasIndex){throw new Error(_i18n.i18n.translate("kbn.visualize.createVisualization.noIndexPatternOrSavedSearchIdErrorMessage",{defaultMessage:"You must provide either an indexPattern or a savedSearchId"}))}return(0,_legacy_imports.ensureDefaultIndexPattern)(core,data,$rootScope,kbnUrl).then((function(){return savedVisualizations.get($route.current.params)})).then((function(savedVis){if(savedVis.vis.type.setup){return savedVis.vis.type.setup(savedVis).catch((function(){return savedVis}))}return savedVis})).catch(redirectWhenMissing({"*":"/visualize"}))}}})).when("".concat(_visualize_constants.VisualizeConstants.EDIT_PATH,"/:id"),_objectSpread({},defaults,{template:_editor.default,k7Breadcrumbs:_breadcrumbs.getEditBreadcrumbs,resolve:{savedVis:function savedVis(redirectWhenMissing,$route,$rootScope,kbnUrl){var chrome=deps.chrome,core=deps.core,data=deps.data,savedVisualizations=deps.savedVisualizations;return(0,_legacy_imports.ensureDefaultIndexPattern)(core,data,$rootScope,kbnUrl).then((function(){return savedVisualizations.get($route.current.params.id)})).then((function(savedVis){chrome.recentlyAccessed.add(savedVis.getFullPath(),savedVis.title,savedVis.id);return savedVis})).then((function(savedVis){if(savedVis.vis.type.setup){return savedVis.vis.type.setup(savedVis).catch((function(){return savedVis}))}return savedVis})).catch(redirectWhenMissing({visualization:"/visualize",search:"/management/kibana/objects/savedVisualizations/"+$route.current.params.id,"index-pattern":"/management/kibana/objects/savedVisualizations/"+$route.current.params.id,"index-pattern-field":"/management/kibana/objects/savedVisualizations/"+$route.current.params.id}))}}})).when("visualize/:tail*?",{redirectTo:"/".concat(deps.core.injectedMetadata.getInjectedVar("kbnDefaultAppId"))})}))}},7885:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<visualize-app class="app-container visEditor visEditor--{{ vis.type.name }}">\n  \x3c!-- Linked search. --\x3e\n  <div\n      ng-show="isVisible"\n      ng-if="vis.type.requiresSearch && state.linked"\n      class="fullWidth visEditor__linkedMessage"\n    >\n    <div class="kuiVerticalRhythmSmall">\n      {{ ::\'kbn.visualize.linkedToSearchInfoText\' | i18n: { defaultMessage: \'Linked to Saved Search\' } }}\n      <a\n        href="#/discover/{{savedVis.savedSearch.id}}"\n      >\n        {{ savedVis.savedSearch.title }}\n      </a>\n      &nbsp;\n      <a\n        data-test-subj="unlinkSavedSearch"\n        href=""\n        ng-dblclick="unlink()"\n        tooltip="{{ ::\'kbn.visualize.linkedToSearch.unlinkButtonTooltip\' | i18n: { defaultMessage: \'Double click to unlink from Saved Search\' } }}"\n      >\n        <span aria-hidden="true" class="kuiIcon fa-chain-broken"></span>\n      </a>\n    </div>\n  </div>\n\n  \x3c!--\n    Local nav.\n    Most visualizations have all search bar components enabled\n    Some visualizations have fewer options but all visualizations have a search bar\n    which is why show-search-baris set to "true".\n    All visualizaions also have least a timepicker \\ autorefresh component, which is why\n    show-query-bar is set to "true".\n  --\x3e\n  <kbn-top-nav\n    ng-if="isVisible"\n    app-name="\'visualize\'"\n    config="topNavMenu"\n    show-search-bar="true"\n    show-query-bar="true"\n    show-query-input="showQueryInput()"\n    show-filter-bar="showFilterBar() && isVisible"\n    show-date-picker="showQueryBarTimePicker()"\n    show-auto-refresh-only="!showQueryBarTimePicker()"\n    query="state.query"\n    saved-query="savedQuery"\n    screen-title="state.vis.title"\n    on-query-submit="updateQueryAndFetch"\n    index-patterns="[indexPattern]"\n    filters="filters"\n    on-filters-updated="onFiltersUpdated"\n    date-range-from="timeRange.from"\n    date-range-to="timeRange.to"\n    is-refresh-paused="refreshInterval.pause"\n    refresh-interval="refreshInterval.value"\n    on-refresh-change="onRefreshChange"\n    show-save-query="showSaveQuery"\n    on-saved="onQuerySaved"\n    on-saved-query-updated="onSavedQueryUpdated"\n    on-clear-saved-query="onClearSavedQuery"\n  >\n  </kbn-top-nav>\n\n  \x3c!--\n    The top nav is hidden in embed mode but the filter bar must still be present so\n    we show the filter bar on its own here if the chrome is not visible.\n  --\x3e\n  <kbn-top-nav\n    ng-if="showFilterBar() && !isVisible"\n\n    app-name="\'visualize\'"\n    show-search-bar="true"\n    show-filter-bar="true"\n    show-save-query="false"\n    show-date-picker="false"\n\n    filters="filters"\n    on-filters-updated="onFiltersUpdated"\n    index-patterns="[indexPattern]"\n  >\n  </kbn-top-nav>\n\n  <div\n    class="euiCallOut euiCallOut--primary euiCallOut--small hide-for-sharing"\n    ng-if="vis.type.shouldMarkAsExperimentalInUI()"\n    data-test-subj="experimentalVisInfo"\n  >\n    <div class="euiText">\n      <p ng-bind-html="getAdditionalMessage()"></p>\n    </div>\n  </div>\n\n  <visualization-embedded\n    ng-if="!isVisible"\n    class="visualize"\n    saved-obj="savedVis"\n    ui-state="uiState"\n    time-range="timeRange"\n    filters="filters"\n    query="query"/>\n\n  <h1\n    class="euiScreenReaderOnly"\n    i18n-id="kbn.visualize.pageHeading"\n    i18n-default-message="{chartName} {chartType} visualization"\n    i18n-values="{\n      chartName: savedVis.title,\n      chartType: vis.type.title\n    }"\n  >\n  </h1>\n  <visualization-editor\n    ng-if="isVisible"\n    saved-obj="savedVis"\n    ui-state="uiState"\n    time-range="timeRange"\n    filters="filters"\n    query="query"\n    class="visEditor__content"\n  />\n\n</visualize-app>\n'},7886:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem"\n     data-test-subj="visualizeLandingPage"\n>\n  <visualize-listing-table\n    find-items="listingController.fetchItems"\n    delete-items="listingController.deleteSelectedItems"\n    create-item="listingController.createNewVis"\n    get-view-url="listingController.getViewUrl"\n    edit-item="listingController.editItem"\n    listing-limit="listingController.listingLimit"\n  ></visualize-listing-table>\n\n  <new-vis-modal\n    is-open="listingController.showNewVisModal"\n    on-close="listingController.closeNewVisModal"\n    vis-types-registry="listingController.visTypeRegistry"\n    add-base-path="listingController.addBasePath"\n    ui-settings="listingController.uiSettings"\n    saved-objects="listingController.savedObjects"\n    usage-collection="listingController.usageCollection"\n  ></new-vis-modal>\n\n</div>\n'},7887:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initVisualizeAppDirective=initVisualizeAppDirective;var _editor=__webpack_require__(7888);var _visualize_listing=__webpack_require__(7418);function initVisualizeAppDirective(app,deps){(0,_editor.initEditorDirective)(app,deps);(0,_visualize_listing.initListingDirective)(app)}},7888:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initEditorDirective=initEditorDirective;var _angular=_interopRequireDefault(__webpack_require__(40));var _lodash=_interopRequireDefault(__webpack_require__(3));var _rxjs=__webpack_require__(37);var _i18n=__webpack_require__(2);__webpack_require__(705);var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(4);var _lib=__webpack_require__(7889);var _visualize_constants=__webpack_require__(677);var _breadcrumbs=__webpack_require__(7416);var _help_menu_util=__webpack_require__(7417);var _public=__webpack_require__(149);var _public2=__webpack_require__(31);var _visualization_editor=__webpack_require__(7891);var _visualization=__webpack_require__(7892);var _legacy_imports=__webpack_require__(994);var _kibana_services=__webpack_require__(1927);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function initEditorDirective(app,deps){app.directive("visualizeApp",(function(){return{restrict:"E",controllerAs:"visualizeApp",controller:VisualizeAppController}}));(0,_visualization_editor.initVisEditorDirective)(app,deps);(0,_visualization.initVisualizationDirective)(app,deps)}function VisualizeAppController($scope,$element,$route,AppState,$window,$injector,$timeout,kbnUrl,redirectWhenMissing,Promise,kbnBaseUrl,getAppState,globalState){var _getServices=(0,_kibana_services.getServices)(),indexPatterns=_getServices.indexPatterns,localStorage=_getServices.localStorage,visualizeCapabilities=_getServices.visualizeCapabilities,share=_getServices.share,_getServices$data$que=_getServices.data.query,filterManager=_getServices$data$que.filterManager,timefilter=_getServices$data$que.timefilter.timefilter,toastNotifications=_getServices.toastNotifications,legacyChrome=_getServices.legacyChrome,chrome=_getServices.chrome,getBasePath=_getServices.getBasePath,docLinks=_getServices.core.docLinks,savedQueryService=_getServices.savedQueryService,uiSettings=_getServices.uiSettings;var filterStateManager=new _public.FilterStateManager(globalState,getAppState,filterManager);var queryFilter=filterManager;var savedVis=$route.current.locals.savedVis;var _applyVis=function _applyVis(){$scope.$apply()};savedVis.vis.on("apply",_applyVis);var vis=savedVis.vis,searchSource=savedVis.searchSource;$scope.vis=vis;var $appStatus=this.appStatus={dirty:!savedVis.id};$scope.topNavMenu=[].concat(_toConsumableArray(visualizeCapabilities.save?[{id:"save",label:_i18n.i18n.translate("kbn.topNavMenu.saveVisualizationButtonLabel",{defaultMessage:"save"}),description:_i18n.i18n.translate("kbn.visualize.topNavMenu.saveVisualizationButtonAriaLabel",{defaultMessage:"Save Visualization"}),testId:"visualizeSaveButton",disableButton:function disableButton(){return Boolean(vis.dirty)},tooltip:function tooltip(){if(vis.dirty){return _i18n.i18n.translate("kbn.visualize.topNavMenu.saveVisualizationDisabledButtonTooltip",{defaultMessage:"Apply or Discard your changes before saving"})}},run:function run(){var onSave,confirmButtonLabel,saveModal;return regeneratorRuntime.async((function run$(_context){while(1){switch(_context.prev=_context.next){case 0:onSave=function onSave(_ref){var newTitle=_ref.newTitle,newCopyOnSave=_ref.newCopyOnSave,isTitleDuplicateConfirmed=_ref.isTitleDuplicateConfirmed,onTitleDuplicate=_ref.onTitleDuplicate,newDescription=_ref.newDescription;var currentTitle=savedVis.title;savedVis.title=newTitle;savedVis.copyOnSave=newCopyOnSave;savedVis.description=newDescription;var saveOptions={confirmOverwrite:false,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate};return doSave(saveOptions).then((function(response){if(!response.id||response.error){savedVis.title=currentTitle}return response}))};confirmButtonLabel=$scope.isAddToDashMode()?_react.default.createElement(_react2.FormattedMessage,{id:"kbn.visualize.saveDialog.saveAndAddToDashboardButtonLabel",defaultMessage:"Save and add to dashboard"}):null;saveModal=_react.default.createElement(_legacy_imports.SavedObjectSaveModal,{onSave:onSave,onClose:function onClose(){},title:savedVis.title,showCopyOnSave:savedVis.id?true:false,objectType:"visualization",confirmButtonLabel:confirmButtonLabel,description:savedVis.description});(0,_legacy_imports.showSaveModal)(saveModal);case 4:case"end":return _context.stop()}}}))}}]:[]),[{id:"share",label:_i18n.i18n.translate("kbn.topNavMenu.shareVisualizationButtonLabel",{defaultMessage:"share"}),description:_i18n.i18n.translate("kbn.visualize.topNavMenu.shareVisualizationButtonAriaLabel",{defaultMessage:"Share Visualization"}),testId:"shareTopNavButton",run:function run(anchorElement){var hasUnappliedChanges=vis.dirty;var hasUnsavedChanges=$appStatus.dirty;share.toggleShareContextMenu({anchorElement:anchorElement,allowEmbed:true,allowShortUrl:visualizeCapabilities.createShortUrl,shareableUrl:(0,_public2.unhashUrl)(window.location.href),objectId:savedVis.id,objectType:"visualization",sharingData:{title:savedVis.title},isDirty:hasUnappliedChanges||hasUnsavedChanges})}},{id:"inspector",label:_i18n.i18n.translate("kbn.topNavMenu.openInspectorButtonLabel",{defaultMessage:"inspect"}),description:_i18n.i18n.translate("kbn.visualize.topNavMenu.openInspectorButtonAriaLabel",{defaultMessage:"Open Inspector for visualization"}),testId:"openInspectorButton",disableButton:function disableButton(){return!vis.hasInspector||!vis.hasInspector()},run:function run(){var inspectorSession=vis.openInspector();var removeWatch=$scope.$on("$destroy",(function(){return inspectorSession.close()}));inspectorSession.onClose.finally(removeWatch)},tooltip:function tooltip(){if(!vis.hasInspector||!vis.hasInspector()){return _i18n.i18n.translate("kbn.visualize.topNavMenu.openInspectorDisabledButtonTooltip",{defaultMessage:"This visualization doesn't support any inspectors."})}}},{id:"refresh",label:_i18n.i18n.translate("kbn.topNavMenu.refreshButtonLabel",{defaultMessage:"refresh"}),description:_i18n.i18n.translate("kbn.visualize.topNavMenu.refreshButtonAriaLabel",{defaultMessage:"Refresh"}),run:function run(){vis.forceReload()},testId:"visualizeRefreshButton"}]);var stateMonitor;if(savedVis.id){chrome.docTitle.change(savedVis.title)}var savedVisState=vis.getState();var stateDefaults={uiState:savedVis.uiStateJSON?JSON.parse(savedVis.uiStateJSON):{},linked:!!savedVis.savedSearchId,query:searchSource.getOwnField("query")||{query:"",language:localStorage.get("kibana.userQueryLanguage")||uiSettings.get("search:queryLanguage")},filters:searchSource.getOwnField("filter")||[],vis:savedVisState};var $state=function initState(){var appState=new AppState(stateDefaults);(0,_lib.migrateAppState)(appState);if(!_angular.default.equals(appState.vis,savedVisState)){Promise.try((function(){vis.setState(appState.vis)})).catch(redirectWhenMissing({"index-pattern-field":"/visualize"}))}return appState}();$scope.filters=queryFilter.getFilters();$scope.onFiltersUpdated=function(filters){queryFilter.setFilters(filters)};$scope.showSaveQuery=visualizeCapabilities.saveQuery;$scope.$watch((function(){return visualizeCapabilities.saveQuery}),(function(newCapability){$scope.showSaveQuery=newCapability}));function init(){$scope.savedVis=savedVis;if(vis.indexPattern){$scope.indexPattern=vis.indexPattern}else{indexPatterns.getDefault().then((function(defaultIndexPattern){$scope.indexPattern=defaultIndexPattern}))}$scope.searchSource=searchSource;$scope.state=$state;$scope.refreshInterval=timefilter.getRefreshInterval();$scope.uiState=$state.makeStateful("uiState");$scope.appStatus=$appStatus;var addToDashMode=$route.current.params[_legacy_imports.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM];kbnUrl.removeParam(_legacy_imports.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM);$scope.isAddToDashMode=function(){return addToDashMode};$scope.showFilterBar=function(){return vis.type.options.showFilterBar};$scope.showQueryInput=function(){return vis.type.requiresSearch&&vis.type.options.showQueryBar};$scope.showQueryBarTimePicker=function(){return vis.type.options.showTimePicker};$scope.timeRange=timefilter.getTime();$scope.opts=_lodash.default.pick($scope,"savedVis","isAddToDashMode");stateMonitor=_legacy_imports.stateMonitorFactory.create($state,stateDefaults);stateMonitor.ignoreProps(["vis.listeners"]).onChange((function(status){$appStatus.dirty=status.dirty||!savedVis.id}));$scope.$watch("state.query",(function(newQuery,oldQuery){if(!_lodash.default.isEqual(newQuery,oldQuery)){var query=(0,_legacy_imports.migrateLegacyQuery)(newQuery);if(!_lodash.default.isEqual(query,newQuery)){$state.query=query}$scope.fetch()}}));$state.replace();var updateTimeRange=function updateTimeRange(){$scope.timeRange=timefilter.getTime();$scope.$broadcast("render")};var subscriptions=new _rxjs.Subscription;subscriptions.add((0,_legacy_imports.subscribeWithScope)($scope,timefilter.getRefreshIntervalUpdate$(),{next:function next(){$scope.refreshInterval=timefilter.getRefreshInterval()}}));subscriptions.add((0,_legacy_imports.subscribeWithScope)($scope,timefilter.getTimeUpdate$(),{next:updateTimeRange}));subscriptions.add(chrome.getIsVisible$().subscribe((function(isVisible){$scope.$evalAsync((function(){$scope.isVisible=isVisible}))})));$scope.fetch=function(){$state.save();$scope.query=$state.query;savedVis.searchSource.setField("query",$state.query);savedVis.searchSource.setField("filter",$state.filters);$scope.$broadcast("render")};subscriptions.add((0,_legacy_imports.subscribeWithScope)($scope,queryFilter.getUpdates$(),{next:function next(){$scope.filters=queryFilter.getFilters();$scope.globalFilters=queryFilter.getGlobalFilters()}}));subscriptions.add((0,_legacy_imports.subscribeWithScope)($scope,queryFilter.getFetches$(),{next:$scope.fetch}));$scope.$on("$destroy",(function(){if($scope._handler){$scope._handler.destroy()}savedVis.destroy();stateMonitor.destroy();filterStateManager.destroy();subscriptions.unsubscribe();$scope.vis.off("apply",_applyVis)}));$timeout((function(){$scope.$broadcast("render")}))}$scope.updateQueryAndFetch=function(_ref2){var query=_ref2.query,dateRange=_ref2.dateRange;var isUpdate=query&&!_lodash.default.isEqual(query,$state.query)||dateRange&&!_lodash.default.isEqual(dateRange,$scope.timeRange);$state.query=query;timefilter.setTime(dateRange);if(!isUpdate){$scope.vis.forceReload()}};$scope.onRefreshChange=function(_ref3){var isPaused=_ref3.isPaused,refreshInterval=_ref3.refreshInterval;timefilter.setRefreshInterval({pause:isPaused,value:refreshInterval?refreshInterval:$scope.refreshInterval.value})};$scope.onQuerySaved=function(savedQuery){$scope.savedQuery=savedQuery};$scope.onSavedQueryUpdated=function(savedQuery){$scope.savedQuery=_objectSpread({},savedQuery)};$scope.onClearSavedQuery=function(){delete $scope.savedQuery;delete $state.savedQuery;$state.query={query:"",language:localStorage.get("kibana.userQueryLanguage")||uiSettings.get("search:queryLanguage")};queryFilter.removeAll();$state.save();$scope.fetch()};var updateStateFromSavedQuery=function updateStateFromSavedQuery(savedQuery){$state.query=savedQuery.attributes.query;$state.save();queryFilter.setFilters(savedQuery.attributes.filters||[]);if(savedQuery.attributes.timefilter){timefilter.setTime({from:savedQuery.attributes.timefilter.from,to:savedQuery.attributes.timefilter.to});if(savedQuery.attributes.timefilter.refreshInterval){timefilter.setRefreshInterval(savedQuery.attributes.timefilter.refreshInterval)}}$scope.fetch()};$scope.$watch("savedQuery",(function(newSavedQuery){if(!newSavedQuery)return;$state.savedQuery=newSavedQuery.id;$state.save();updateStateFromSavedQuery(newSavedQuery)}));$scope.$watch("state.savedQuery",(function(newSavedQueryId){if(!newSavedQueryId){$scope.savedQuery=undefined;return}if(!$scope.savedQuery||newSavedQueryId!==$scope.savedQuery.id){savedQueryService.getSavedQuery(newSavedQueryId).then((function(savedQuery){$scope.$evalAsync((function(){$scope.savedQuery=savedQuery;updateStateFromSavedQuery(savedQuery)}))}))}}));function doSave(saveOptions){$state.vis.title=savedVis.title;$state.vis.type=savedVis.type||$state.vis.type;savedVis.visState=$state.vis;savedVis.uiStateJSON=_angular.default.toJson($scope.uiState.getChanges());return savedVis.save(saveOptions).then((function(id){$scope.$evalAsync((function(){stateMonitor.setInitialState($state.toJSON());if(id){toastNotifications.addSuccess({title:_i18n.i18n.translate("kbn.visualize.topNavMenu.saveVisualization.successNotificationText",{defaultMessage:"Saved '{visTitle}'",values:{visTitle:savedVis.title}}),"data-test-subj":"saveVisualizationSuccess"});if($scope.isAddToDashMode()){var savedVisualizationParsedUrl=new _legacy_imports.KibanaParsedUrl({basePath:getBasePath(),appId:kbnBaseUrl.slice("/app/".length),appPath:kbnUrl.eval("".concat(_visualize_constants.VisualizeConstants.EDIT_PATH,"/{{id}}"),{id:savedVis.id})});$window.history.pushState({},"",savedVisualizationParsedUrl.getRootRelativePath());legacyChrome.trackSubUrlForApp("kibana:visualize",savedVisualizationParsedUrl);var lastDashboardAbsoluteUrl=chrome.navLinks.get("kibana:dashboard").url;var dashboardParsedUrl=(0,_legacy_imports.absoluteToParsedUrl)(lastDashboardAbsoluteUrl,getBasePath());dashboardParsedUrl.addQueryParameter(_legacy_imports.DashboardConstants.ADD_EMBEDDABLE_TYPE,_legacy_imports.VISUALIZE_EMBEDDABLE_TYPE);dashboardParsedUrl.addQueryParameter(_legacy_imports.DashboardConstants.ADD_EMBEDDABLE_ID,savedVis.id);kbnUrl.change(dashboardParsedUrl.appPath)}else if(savedVis.id===$route.current.params.id){chrome.docTitle.change(savedVis.lastSavedTitle);chrome.setBreadcrumbs($injector.invoke(_breadcrumbs.getEditBreadcrumbs));savedVis.vis.title=savedVis.title;savedVis.vis.description=savedVis.description;$state.save()}else{kbnUrl.change("".concat(_visualize_constants.VisualizeConstants.EDIT_PATH,"/{{id}}"),{id:savedVis.id})}}}));return{id:id}}),(function(error){console.error(error);toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.visualize.topNavMenu.saveVisualization.failureNotificationText",{defaultMessage:"Error on saving '{visTitle}'",values:{visTitle:savedVis.title}}),text:error.message,"data-test-subj":"saveVisualizationError"});return{error:error}}))}$scope.unlink=function(){if(!$state.linked)return;$state.linked=false;var searchSourceParent=searchSource.getParent();var searchSourceGrandparent=searchSourceParent.getParent();delete savedVis.savedSearchId;delete vis.savedSearchId;searchSourceParent.setField("filter",_lodash.default.union(searchSource.getOwnField("filter"),searchSourceParent.getOwnField("filter")));$state.query=searchSourceParent.getField("query");$state.filters=searchSourceParent.getField("filter");searchSource.setField("index",searchSourceParent.getField("index"));searchSource.setParent(searchSourceGrandparent);toastNotifications.addSuccess(_i18n.i18n.translate("kbn.visualize.linkedToSearch.unlinkSuccessNotificationText",{defaultMessage:"Unlinked from saved search '{searchTitle}'",values:{searchTitle:savedVis.savedSearch.title}}));$scope.fetch()};$scope.getAdditionalMessage=function(){return'<i class="kuiIcon fa-flask"></i>'+_i18n.i18n.translate("kbn.visualize.experimentalVisInfoText",{defaultMessage:"This visualization is marked as experimental."})+" "+vis.type.feedbackMessage};(0,_help_menu_util.addHelpMenuToAppChrome)(chrome,docLinks);init()}},7889:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"migrateAppState",{enumerable:true,get:function get(){return _migrate_app_state.migrateAppState}});var _migrate_app_state=__webpack_require__(7890)},7890:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.migrateAppState=migrateAppState;var _lodash=__webpack_require__(3);function migrateAppState(appState){if(appState.vis.type!=="table"){return}var visAggs=(0,_lodash.get)(appState,"vis.aggs",[]);var splitCount=0;var migratedAggs=visAggs.map((function(agg){if(agg.schema!=="split"){return agg}splitCount++;if(splitCount===1){return agg}agg.schema="bucket";agg.params=(0,_lodash.omit)(agg.params,["row"]);return agg}));if(splitCount<=1){return}appState.vis.aggs=migratedAggs;appState.save()}},7891:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initVisEditorDirective=initVisEditorDirective;function initVisEditorDirective(app,deps){app.directive("visualizationEditor",(function($timeout,getAppState){return{restrict:"E",scope:{savedObj:"=",uiState:"=?",timeRange:"=",filters:"=",query:"="},link:function link($scope,element){var editorType=$scope.savedObj.vis.type.editor;var Editor=typeof editorType==="function"?editorType:deps.editorTypes.find((function(editor){return editor.key===editorType}));var editor=new Editor(element[0],$scope.savedObj);$scope.renderFunction=function(){editor.render({uiState:$scope.uiState,timeRange:$scope.timeRange,filters:$scope.filters,query:$scope.query,appState:getAppState()})};$scope.$on("render",(function(event){event.preventDefault();$timeout((function(){$scope.renderFunction()}))}));$scope.$on("$destroy",(function(){editor.destroy()}))}}}))}},7892:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initVisualizationDirective=initVisualizationDirective;function initVisualizationDirective(app,deps){app.directive("visualizationEmbedded",(function($timeout,getAppState){return{restrict:"E",scope:{savedObj:"=",uiState:"=?",timeRange:"=",filters:"=",query:"="},link:function link($scope,element){$scope.renderFunction=function _callee(){return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if($scope._handler){_context.next=7;break}_context.next=3;return regeneratorRuntime.awrap(deps.embeddables.getEmbeddableFactory("visualization").createFromObject($scope.savedObj,{timeRange:$scope.timeRange,filters:$scope.filters||[],query:$scope.query,appState:getAppState(),uiState:$scope.uiState}));case 3:$scope._handler=_context.sent;$scope._handler.render(element[0]);_context.next=8;break;case 7:$scope._handler.updateInput({timeRange:$scope.timeRange,filters:$scope.filters||[],query:$scope.query});case 8:case"end":return _context.stop()}}}))};$scope.$on("render",(function(event){event.preventDefault();$timeout((function(){$scope.renderFunction()}))}));$scope.$on("$destroy",(function(){$scope._handler.destroy()}))}}}))}},7893:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VisualizeListingTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react2=__webpack_require__(4);var _i18n=__webpack_require__(2);var _public=__webpack_require__(16);var _eui=__webpack_require__(1);var _kibana_services=__webpack_require__(1927);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var VisualizeListingTable=function(_Component){_inherits(VisualizeListingTable,_Component);function VisualizeListingTable(props){_classCallCheck(this,VisualizeListingTable);return _possibleConstructorReturn(this,_getPrototypeOf(VisualizeListingTable).call(this,props))}_createClass(VisualizeListingTable,[{key:"render",value:function render(){var _getServices=(0,_kibana_services.getServices)(),visualizeCapabilities=_getServices.visualizeCapabilities,uiSettings=_getServices.uiSettings,toastNotifications=_getServices.toastNotifications;return _react.default.createElement(_public.TableListView,{headingId:"visualizeListingHeading",createItem:this.props.createItem,findItems:this.props.findItems,deleteItems:visualizeCapabilities.delete?this.props.deleteItems:null,editItem:visualizeCapabilities.save?this.props.editItem:null,tableColumns:this.getTableColumns(),listingLimit:this.props.listingLimit,selectable:function selectable(item){return item.canDelete},initialFilter:"",noItemsFragment:this.getNoItemsMessage(),entityName:_i18n.i18n.translate("kbn.visualize.listing.table.entityName",{defaultMessage:"visualization"}),entityNamePlural:_i18n.i18n.translate("kbn.visualize.listing.table.entityNamePlural",{defaultMessage:"visualizations"}),tableListTitle:_i18n.i18n.translate("kbn.visualize.listing.table.listTitle",{defaultMessage:"Visualizations"}),toastNotifications:toastNotifications,uiSettings:uiSettings})}},{key:"getTableColumns",value:function getTableColumns(){var _this=this;var tableColumns=[{field:"title",name:_i18n.i18n.translate("kbn.visualize.listing.table.titleColumnName",{defaultMessage:"Title"}),sortable:true,render:function render(field,record){return _react.default.createElement(_eui.EuiLink,{href:_this.props.getViewUrl(record),"data-test-subj":"visListingTitleLink-".concat(record.title.split(" ").join("-"))},field)}},{field:"typeTitle",name:_i18n.i18n.translate("kbn.visualize.listing.table.typeColumnName",{defaultMessage:"Type"}),sortable:true,render:function render(field,record){return _react.default.createElement("span",null,_this.renderItemTypeIcon(record),record.typeTitle,_this.getBadge(record))}},{field:"description",name:_i18n.i18n.translate("kbn.dashboard.listing.table.descriptionColumnName",{defaultMessage:"Description"}),sortable:true,render:function render(field,record){return _react.default.createElement("span",null,record.description)}}];return tableColumns}},{key:"getNoItemsMessage",value:function getNoItemsMessage(){if(this.props.hideWriteControls){return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"visualizeApp",title:_react.default.createElement("h1",{id:"visualizeListingHeading"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.visualize.listing.noItemsMessage",defaultMessage:"Looks like you don't have any visualizations."}))}))}return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"visualizeApp",title:_react.default.createElement("h1",{id:"visualizeListingHeading"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.visualize.listing.createNew.title",defaultMessage:"Create your first visualization"})),body:_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.visualize.listing.createNew.description",defaultMessage:"You can create different visualizations, based on your data."}))),actions:_react.default.createElement(_eui.EuiButton,{onClick:this.props.createItem,fill:true,iconType:"plusInCircle","data-test-subj":"createVisualizationPromptButton"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.visualize.listing.createNew.createButtonLabel",defaultMessage:"Create new visualization"}))}))}},{key:"renderItemTypeIcon",value:function renderItemTypeIcon(item){var icon;if(item.image){icon=_react.default.createElement("img",{className:"visListingTable__typeImage","aria-hidden":"true",alt:"",src:item.image})}else{icon=_react.default.createElement(_eui.EuiIcon,{className:"visListingTable__typeIcon","aria-hidden":"true",type:item.icon||"empty",size:"m"})}return icon}},{key:"getBadge",value:function getBadge(item){if(item.stage==="beta"){return _react.default.createElement(_eui.EuiBetaBadge,{className:"visListingTable__betaIcon",label:"B",title:_i18n.i18n.translate("kbn.visualize.listing.betaTitle",{defaultMessage:"Beta"}),tooltipContent:_i18n.i18n.translate("kbn.visualize.listing.betaTooltip",{defaultMessage:"This visualization is in beta and is subject to change. The design and code is less mature than official GA "+"features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA "+"features"})})}else if(item.stage==="experimental"){return _react.default.createElement(_eui.EuiBetaBadge,{className:"visListingTable__experimentalIcon",label:"E",title:_i18n.i18n.translate("kbn.visualize.listing.experimentalTitle",{defaultMessage:"Experimental"}),tooltipContent:_i18n.i18n.translate("kbn.visualize.listing.experimentalTooltip",{defaultMessage:"This visualization might be changed or removed in a future release and is not subject to the support SLA."})})}}}]);return VisualizeListingTable}(_react.Component);exports.VisualizeListingTable=VisualizeListingTable;VisualizeListingTable.propTypes={deleteItems:_propTypes.default.func.isRequired,findItems:_propTypes.default.func.isRequired,createItem:_propTypes.default.func.isRequired,getViewUrl:_propTypes.default.func.isRequired,editItem:_propTypes.default.func.isRequired,listingLimit:_propTypes.default.number.isRequired}},7894:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.syncOnMount=syncOnMount;function syncOnMount(globalState,_ref){var _ref$query=_ref.query,filterManager=_ref$query.filterManager,timefilter=_ref$query.timefilter.timefilter;globalState.fetch();var hasGlobalURLState=Boolean(Object.keys(globalState.toObject()).length);if(!globalState.time){globalState.time=timefilter.getTime()}if(!globalState.refreshInterval){globalState.refreshInterval=timefilter.getRefreshInterval()}if(!globalState.filters&&filterManager.getGlobalFilters().length>0){globalState.filters=filterManager.getGlobalFilters()}if(hasGlobalURLState){globalState.$inheritedGlobalState=true}globalState.save()}}}]);